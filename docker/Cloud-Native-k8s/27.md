+ [author](http://nsddd.top)

# ç¬¬27èŠ‚ k3s è¡¥å……ï¼ˆé«˜çº§ï¼‰

<div><a href = '26.md' style='float:left'>â¬†ï¸ä¸Šä¸€èŠ‚ğŸ”—  </a><a href = '28.md' style='float: right'>  â¬‡ï¸ä¸‹ä¸€èŠ‚ğŸ”—</a></div>
<br>

> â¤ï¸ğŸ’•ğŸ’•æ–°æ—¶ä»£æ‹¥æŠ±äº‘åŸç”Ÿï¼Œäº‘åŸç”Ÿå…·æœ‰ç¯å¢ƒç»Ÿä¸€ã€æŒ‰éœ€ä»˜è´¹ã€å³å¼€å³ç”¨ã€ç¨³å®šæ€§å¼ºç‰¹ç‚¹ã€‚Myblog:[http://nsddd.top](http://nsddd.top/)

---
[[toc]]

## è¯ä¹¦è½®æ¢

é»˜è®¤æƒ…å†µä¸‹ï¼ŒK3s çš„è¯ä¹¦åœ¨ 12 ä¸ªæœˆå†…è¿‡æœŸã€‚

å¦‚æœè¯ä¹¦å·²ç»è¿‡æœŸæˆ–å‰©ä½™çš„æ—¶é—´ä¸è¶³ 90 å¤©ï¼Œåˆ™åœ¨ K3s é‡å¯æ—¶è½®æ¢è¯ä¹¦ã€‚

```
# æŸ¥è¯¢K3sè¯ä¹¦è¿‡æœŸæ—¶é—´
for i in `ls /var/lib/rancher/k3s/server/tls/*.crt`; do echo $i; openssl x509 -enddate -noout -in $i; done

# ä¿®æ”¹ç³»ç»Ÿæ—¶é—´ä¸ºè¯ä¹¦è¿‡æœŸå‰90å¤©æˆ–è¯ä¹¦è¿‡æœŸå
timedatectl set-ntp no
date -s 20220807

# é‡å¯K3sæœåŠ¡
service k3s restart
```

## è‡ªåŠ¨éƒ¨ç½²æ¸…å•

åœ¨`/var/lib/rancher/k3s/server/manifests`ä¸­æ‰¾åˆ°çš„ä»»ä½•æ–‡ä»¶éƒ½ä¼šä»¥ç±»ä¼¼`kubectl apply`çš„æ–¹å¼è‡ªåŠ¨éƒ¨ç½²åˆ° Kubernetesã€‚

å…³äºéƒ¨ç½² Helm charts çš„ä¿¡æ¯ï¼Œè¯·å‚é˜…[Helm](../helm/_index)ç« èŠ‚ã€‚

## ä½¿ç”¨ Docker ä½œä¸ºå®¹å™¨è¿è¡Œæ—¶

K3s åŒ…å«å¹¶é»˜è®¤ä¸º[containerd](https://containerd.io/)ï¼Œ ä¸€ä¸ªè¡Œä¸šæ ‡å‡†çš„å®¹å™¨è¿è¡Œæ—¶ã€‚

è¦ä½¿ç”¨ Docker è€Œä¸æ˜¯ containerd,

1. åœ¨ K3s èŠ‚ç‚¹ä¸Šå®‰è£… Dockerã€‚å¯ä»¥ä½¿ç”¨ Rancher çš„ä¸€ä¸ª[Docker å®‰è£…è„šæœ¬](https://github.com/rancher/install-docker)æ¥å®‰è£… Dockerï¼š

   ```
   curl https://releases.rancher.com/install-docker/19.03.sh | sh
   ```

1. ä½¿ç”¨`--docker`é€‰é¡¹å®‰è£… K3sï¼š

   ```
   curl -sfL https://get.k3s.io | sh -s - --docker
   ```

   å›½å†…ç”¨æˆ·ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•åŠ é€Ÿå®‰è£…ï¼š

   ```
   curl -sfL http://rancher-mirror.cnrancher.com/k3s/k3s-install.sh | INSTALL_K3S_MIRROR=cn sh -s - --docker
   ```

1. ç¡®è®¤é›†ç¾¤å¯ç”¨ï¼š

   ```
   $ sudo k3s kubectl get pods --all-namespaces
   NAMESPACE     NAME                                     READY   STATUS      RESTARTS   AGE
   kube-system   local-path-provisioner-6d59f47c7-lncxn   1/1     Running     0          51s
   kube-system   metrics-server-7566d596c8-9tnck          1/1     Running     0          51s
   kube-system   helm-install-traefik-mbkn9               0/1     Completed   1          51s
   kube-system   coredns-8655855d6-rtbnb                  1/1     Running     0          51s
   kube-system   svclb-traefik-jbmvl                      2/2     Running     0          43s
   kube-system   traefik-758cd5fc85-2wz97                 1/1     Running     0          43s
   ```

1. ç¡®è®¤ Docker å®¹å™¨æ­£åœ¨è¿è¡Œï¼š

   ```
   $ sudo docker ps
   CONTAINER ID        IMAGE                     COMMAND                  CREATED              STATUS              PORTS               NAMES
   3e4d34729602        897ce3c5fc8f              "entry"                  About a minute ago   Up About a minute                       k8s_lb-port-443_svclb-traefik-jbmvl_kube-system_d46f10c6-073f-4c7e-8d7a-8e7ac18f9cb0_0
   bffdc9d7a65f        rancher/klipper-lb        "entry"                  About a minute ago   Up About a minute                       k8s_lb-port-80_svclb-traefik-jbmvl_kube-system_d46f10c6-073f-4c7e-8d7a-8e7ac18f9cb0_0
   436b85c5e38d        rancher/library-traefik   "/traefik --configfiâ€¦"   About a minute ago   Up About a minute                       k8s_traefik_traefik-758cd5fc85-2wz97_kube-system_07abe831-ffd6-4206-bfa1-7c9ca4fb39e7_0
   de8fded06188        rancher/pause:3.1         "/pause"                 About a minute ago   Up About a minute                       k8s_POD_svclb-traefik-jbmvl_kube-system_d46f10c6-073f-4c7e-8d7a-8e7ac18f9cb0_0
   7c6a30aeeb2f        rancher/pause:3.1         "/pause"                 About a minute ago   Up About a minute                       k8s_POD_traefik-758cd5fc85-2wz97_kube-system_07abe831-ffd6-4206-bfa1-7c9ca4fb39e7_0
   ae6c58cab4a7        9d12f9848b99              "local-path-provisioâ€¦"   About a minute ago   Up About a minute                       k8s_local-path-provisioner_local-path-provisioner-6d59f47c7-lncxn_kube-system_2dbd22bf-6ad9-4bea-a73d-620c90a6c1c1_0
   be1450e1a11e        9dd718864ce6              "/metrics-server"        About a minute ago   Up About a minute                       k8s_metrics-server_metrics-server-7566d596c8-9tnck_kube-system_031e74b5-e9ef-47ef-a88d-fbf3f726cbc6_0
   4454d14e4d3f        c4d3d16fe508              "/coredns -conf /etcâ€¦"   About a minute ago   Up About a minute                       k8s_coredns_coredns-8655855d6-rtbnb_kube-system_d05725df-4fb1-410a-8e82-2b1c8278a6a1_0
   c3675b87f96c        rancher/pause:3.1         "/pause"                 About a minute ago   Up About a minute                       k8s_POD_coredns-8655855d6-rtbnb_kube-system_d05725df-4fb1-410a-8e82-2b1c8278a6a1_0
   4b1fddbe6ca6        rancher/pause:3.1         "/pause"                 About a minute ago   Up About a minute                       k8s_POD_local-path-provisioner-6d59f47c7-lncxn_kube-system_2dbd22bf-6ad9-4bea-a73d-620c90a6c1c1_0
   64d3517d4a95        rancher/pause:3.1         "/pause"
   ```

### å¯é€‰ï¼šå°† crictl ä¸ Docker ä¸€èµ·ä½¿ç”¨

crictl ä¸ºå…¼å®¹ CRI çš„å®¹å™¨è¿è¡Œæ—¶æä¾›äº† CLI

å¦‚æœä½ æƒ³åœ¨ä½¿ç”¨`--docker`é€‰é¡¹å®‰è£… K3s åä½¿ç”¨ crictlï¼Œè¯·å‚è€ƒ[å®˜æ–¹æ–‡æ¡£](https://github.com/kubernetes-sigs/cri-tools/blob/master/docs/crictl.md)æ¥å®‰è£… crictlã€‚

```
$ VERSION="v1.17.0"
$ curl -L https://github.com/kubernetes-sigs/cri-tools/releases/download/$VERSION/crictl-${VERSION}-linux-amd64.tar.gz --output crictl-${VERSION}-linux-amd64.tar.gz
$ sudo tar zxvf crictl-$VERSION-linux-amd64.tar.gz -C /usr/local/bin
crictl
```

ç„¶åå¼€å§‹ä½¿ç”¨ crictl å‘½ä»¤ï¼š

```
$ sudo crictl version
Version:  0.1.0
RuntimeName:  docker
RuntimeVersion:  19.03.9
RuntimeApiVersion:  1.40.0
$ sudo crictl images
IMAGE                            TAG                 IMAGE ID            SIZE
rancher/coredns-coredns          1.6.3               c4d3d16fe508b       44.3MB
rancher/klipper-helm             v0.2.5              6207e2a3f5225       136MB
rancher/klipper-lb               v0.1.2              897ce3c5fc8ff       6.1MB
rancher/library-traefik          1.7.19              aa764f7db3051       85.7MB
rancher/local-path-provisioner   v0.0.11             9d12f9848b99f       36.2MB
rancher/metrics-server           v0.3.6              9dd718864ce61       39.9MB
rancher/pause                    3.1                 da86e6ba6ca19       742kB
```

## é…ç½® containerd

K3s å°†ä¼šåœ¨`/var/lib/rancher/k3s/agent/etc/containerd/config.toml`ä¸­ä¸º containerd ç”Ÿæˆ config.tomlã€‚

å¦‚æœè¦å¯¹è¿™ä¸ªæ–‡ä»¶è¿›è¡Œé«˜çº§å®šåˆ¶ï¼Œä½ å¯ä»¥åœ¨åŒä¸€ç›®å½•ä¸­åˆ›å»ºå¦ä¸€ä¸ªåä¸º `config.toml.tmpl` çš„æ–‡ä»¶ï¼Œæ­¤æ–‡ä»¶å°†ä¼šä»£æ›¿é»˜è®¤è®¾ç½®ã€‚

`config.toml.tmpl`å°†è¢«è§†ä¸º Go æ¨¡æ¿æ–‡ä»¶ï¼Œå¹¶ä¸”`config.Node`ç»“æ„è¢«ä¼ é€’ç»™æ¨¡æ¿ã€‚[æ­¤æ¨¡æ¿](https://github.com/rancher/k3s/blob/master/pkg/agent/templates/templates.go#L16-L32)ç¤ºä¾‹ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨ç»“æ„æ¥è‡ªå®šä¹‰é…ç½®æ–‡ä»¶ã€‚


## èŠ‚ç‚¹æ ‡ç­¾å’Œæ±¡ç‚¹

K3s agents å¯ä»¥é€šè¿‡`--node-label`å’Œ`--node-taint`é€‰é¡¹è¿›è¡Œé…ç½®ï¼Œè¿™ä¸¤ä¸ªé€‰é¡¹å¯ä»¥ç»™ kubelet æ·»åŠ æ ‡ç­¾å’Œæ±¡ç‚¹ã€‚è¿™ä¸¤ä¸ªé€‰é¡¹åªèƒ½[åœ¨æ³¨å†Œæ—¶](https://docs.rancher.cn/docs/k3s/installation/install-options/_index#k3s-agentçš„æ³¨å†Œé€‰é¡¹)æ·»åŠ æ ‡ç­¾å’Œ/æˆ–æ±¡ç‚¹ï¼Œæ‰€ä»¥å®ƒä»¬åªèƒ½è¢«æ·»åŠ ä¸€æ¬¡ï¼Œä¹‹åä¸èƒ½å†é€šè¿‡è¿è¡Œ K3s å‘½ä»¤æ¥æ”¹å˜ã€‚

å¦‚æœä½ æƒ³åœ¨èŠ‚ç‚¹æ³¨å†Œåæ›´æ”¹èŠ‚ç‚¹æ ‡ç­¾å’Œæ±¡ç‚¹ï¼Œä½ åº”è¯¥ä½¿ç”¨`kubectl`ã€‚å…³äºå¦‚ä½•æ·»åŠ [æ±¡ç‚¹](https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/)å’Œ[èŠ‚ç‚¹æ ‡ç­¾](https://kubernetes.io/docs/tasks/configure-pod-container/assign-pods-nodes/#add-a-label-to-a-node)ï¼Œè¯·å‚è€ƒ Kubernetes å®˜æ–¹æ–‡æ¡£ã€‚

```
# æ·»åŠ labelå’Œtaint
curl -sfL https://get.k3s.io | sh -s - --node-label app=k3s --node-taint special=true:NoSchedule

# æŸ¥è¯¢labelå’Œtaint
kubectl get nodes --show-labels
kubectl describe nodes | grep Taints
```

## ä½¿ç”¨å®‰è£…è„šæœ¬å¯åŠ¨ Server èŠ‚ç‚¹

å®‰è£…è„šæœ¬å°†è‡ªåŠ¨æ£€æµ‹æ‚¨çš„æ“ä½œç³»ç»Ÿæ˜¯ä½¿ç”¨ systemd è¿˜æ˜¯ openrc å¹¶å¯åŠ¨æœåŠ¡ã€‚å½“ä½¿ç”¨ openrc è¿è¡Œæ—¶ï¼Œæ—¥å¿—å°†åœ¨`/var/log/k3s.log`ä¸­åˆ›å»ºã€‚

å½“ä½¿ç”¨ systemd è¿è¡Œæ—¶ï¼Œæ—¥å¿—å°†åœ¨`/var/log/syslog`ä¸­åˆ›å»ºï¼Œå¹¶ä½¿ç”¨`journalctl -u k3s`æŸ¥çœ‹ã€‚

ä½¿ç”¨å®‰è£…è„šæœ¬è¿›è¡Œå®‰è£…å’Œè‡ªåŠ¨å¯åŠ¨çš„ç¤ºä¾‹ï¼š

```bash
curl -sfL https://get.k3s.io | sh -
```

å›½å†…ç”¨æˆ·ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•åŠ é€Ÿå®‰è£…ï¼š

```
curl -sfL http://rancher-mirror.cnrancher.com/k3s/k3s-install.sh | INSTALL_K3S_MIRROR=cn sh -
```

å½“æ‰‹åŠ¨è¿è¡Œ server æ—¶ï¼Œä½ åº”è¯¥å¾—åˆ°ä¸€ä¸ªç±»ä¼¼äºä¸‹é¢çš„è¾“å‡ºï¼š

```
$ k3s server
INFO[2019-01-22T15:16:19.908493986-07:00] Starting k3s dev
INFO[2019-01-22T15:16:19.908934479-07:00] Running kube-apiserver --allow-privileged=true --authorization-mode Node,RBAC --service-account-signing-key-file /var/lib/rancher/k3s/server/tls/service.key --service-cluster-ip-range 10.43.0.0/16 --advertise-port 6445 --advertise-address 127.0.0.1 --insecure-port 0 --secure-port 6444 --bind-address 127.0.0.1 --tls-cert-file /var/lib/rancher/k3s/server/tls/localhost.crt --tls-private-key-file /var/lib/rancher/k3s/server/tls/localhost.key --service-account-key-file /var/lib/rancher/k3s/server/tls/service.key --service-account-issuer k3s --api-audiences unknown --basic-auth-file /var/lib/rancher/k3s/server/cred/passwd --kubelet-client-certificate /var/lib/rancher/k3s/server/tls/token-node.crt --kubelet-client-key /var/lib/rancher/k3s/server/tls/token-node.key
Flag --insecure-port has been deprecated, This flag will be removed in a future version.
INFO[2019-01-22T15:16:20.196766005-07:00] Running kube-scheduler --kubeconfig /var/lib/rancher/k3s/server/cred/kubeconfig-system.yaml --port 0 --secure-port 0 --leader-elect=false
INFO[2019-01-22T15:16:20.196880841-07:00] Running kube-controller-manager --kubeconfig /var/lib/rancher/k3s/server/cred/kubeconfig-system.yaml --service-account-private-key-file /var/lib/rancher/k3s/server/tls/service.key --allocate-node-cidrs --cluster-cidr 10.42.0.0/16 --root-ca-file /var/lib/rancher/k3s/server/tls/token-ca.crt --port 0 --secure-port 0 --leader-elect=false
Flag --port has been deprecated, see --secure-port instead.
INFO[2019-01-22T15:16:20.273441984-07:00] Listening on :6443
INFO[2019-01-22T15:16:20.278383446-07:00] Writing manifest: /var/lib/rancher/k3s/server/manifests/coredns.yaml
INFO[2019-01-22T15:16:20.474454524-07:00] Node token is available at /var/lib/rancher/k3s/server/node-token
INFO[2019-01-22T15:16:20.474471391-07:00] To join node to cluster: k3s agent -s https://10.20.0.3:6443 -t ${NODE_TOKEN}
INFO[2019-01-22T15:16:20.541027133-07:00] Wrote kubeconfig /etc/rancher/k3s/k3s.yaml
INFO[2019-01-22T15:16:20.541049100-07:00] Run: k3s kubectl
```

ç”±äº agent å°†åˆ›å»ºå¤§é‡çš„æ—¥å¿—ï¼Œè¾“å‡ºå¯èƒ½ä¼šæ›´é•¿ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œserver ä¼šå°†è‡ªèº«æ³¨å†Œä¸ºä¸€ä¸ªèŠ‚ç‚¹ï¼ˆè¿è¡Œ agentï¼‰ã€‚

## Alpine Linux å®‰è£…çš„é¢å¤–å‡†å¤‡å·¥ä½œ

è®¾ç½® Alpine Linux å‰ï¼Œæ‚¨éœ€è¦è¿›è¡Œä»¥ä¸‹å‡†å¤‡å·¥ä½œï¼š

1. æ›´æ–° **/etc/update-extlinux.conf** æ·»åŠ ï¼š

   ```shell
   default_kernel_opts="...  cgroup_enable=cpuset cgroup_memory=1 cgroup_enable=memory"
   ```

1. æ›´æ–°é…ç½®å¹¶é‡å¯ï¼š

   ```shell
   update-extlinux
   reboot
   ```

## è¿è¡Œ K3dï¼ˆDocker ä¸­çš„ K3sï¼‰å’Œ docker-compose

[k3d](https://github.com/rancher/k3d)æ˜¯ä¸€ä¸ªè®¾è®¡ç”¨äºåœ¨ Docker ä¸­è½»æ¾è¿è¡Œ K3s çš„å·¥å…·ã€‚

å®ƒå¯ä»¥é€šè¿‡ MacOS ä¸Šçš„[brew](https://brew.sh/)å·¥å…·å®‰è£…ï¼š

```shell
brew install k3d
```

`rancher/k3s`é•œåƒä¹Ÿå¯ç”¨äºåœ¨ Docker è¿è¡Œçš„ K3s server å’Œ agentã€‚

åœ¨ K3s repo çš„æ ¹ç›®å½•ä¸‹æœ‰ä¸€ä¸ª`docker-compose.yml`ï¼Œä½œä¸ºå¦‚ä½•ä» Docker è¿è¡Œ K3s çš„ç¤ºä¾‹ã€‚è¦ä»è¿™ä¸ª repo ä¸­è¿è¡Œ`docker-compose`ï¼Œè¯·è¿è¡Œï¼š

```shell
docker-compose up --scale agent=3
    # kubeconfig is written to current dir

kubectl --kubeconfig kubeconfig.yaml get node

    NAME           STATUS   ROLES    AGE   VERSION
    497278a2d6a2   Ready    <none>   11s   v1.13.2-k3s2
    d54c8b17c055   Ready    <none>   11s   v1.13.2-k3s2
    db7a5a5a5bdd   Ready    <none>   12s   v1.13.2-k3s2
```

è¦åªåœ¨ Docker ä¸­è¿è¡Œ agentï¼Œä½¿ç”¨`docker-compose up agent`ã€‚

æˆ–è€…ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨`docker run`å‘½ä»¤ï¼š

```
sudo docker run \
  -d --tmpfs /run \
  --tmpfs /var/run \
  -e K3S_URL=${SERVER_URL} \
  -e K3S_TOKEN=${NODE_TOKEN} \
  --privileged rancher/k3s:vX.Y.Z
```

## åœ¨ Raspbian Buster ä¸Šå¯ç”¨æ—§ç‰ˆçš„ iptables

Raspbian Buster é»˜è®¤ä½¿ç”¨`nftables`è€Œä¸æ˜¯`iptables`ã€‚ **K3S** ç½‘ç»œåŠŸèƒ½éœ€è¦ä½¿ç”¨`iptables`ï¼Œè€Œä¸èƒ½ä½¿ç”¨`nftables`ã€‚ æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤åˆ‡æ¢é…ç½®**Buster**ä½¿ç”¨`legacy iptables`ï¼š

```
sudo iptables -F
sudo update-alternatives --set iptables /usr/sbin/iptables-legacy
sudo update-alternatives --set ip6tables /usr/sbin/ip6tables-legacy
sudo reboot
```

## ä¸º Raspbian Buster å¯ç”¨ cgroup

æ ‡å‡†çš„ Raspbian Buster å®‰è£…æ²¡æœ‰å¯ç”¨ `cgroups`ã€‚**K3S** éœ€è¦`cgroups`æ¥å¯åŠ¨ systemd æœåŠ¡ã€‚åœ¨`/boot/cmdline.txt`ä¸­æ·»åŠ `cgroup_memory=1 cgroup_enable=memory`å°±å¯ä»¥å¯ç”¨`cgroups`ã€‚

### /boot/cmdline.txt çš„ç¤ºä¾‹

```
console=serial0,115200 console=tty1 root=PARTUUID=58b06195-02 rootfstype=ext4 elevator=deadline fsck.repair=yes rootwait cgroup_memory=1 cgroup_enable=memory
```

## SELinux æ”¯æŒ

_ä» v1.19.4+k3s1 å¼€å§‹æ”¯æŒã€‚ä» v1.17.4+k3s1 å¼€å§‹æ˜¯è¯•éªŒæ€§çš„ã€‚_

å¦‚æœæ‚¨åœ¨é»˜è®¤å¯ç”¨ SELinux çš„ç³»ç»Ÿï¼ˆå¦‚ CentOSï¼‰ä¸Šå®‰è£… K3sï¼Œæ‚¨å¿…é¡»ç¡®ä¿å®‰è£…äº†æ­£ç¡®çš„ SELinux ç­–ç•¥ã€‚

### è‡ªåŠ¨å®‰è£…

_ä» v1.19.3+k3s2 å¼€å§‹å¯ç”¨_ã€‚

å¦‚æœåœ¨å…¼å®¹çš„ç³»ç»Ÿä¸Šï¼Œå¦‚æœä¸æ‰§è¡Œç¦»çº¿å®‰è£…ï¼Œåˆ™[å®‰è£…è„šæœ¬](https://docs.rancher.cn/docs/k3s/installation/install-options/_index#ä½¿ç”¨è„šæœ¬å®‰è£…çš„é€‰é¡¹)å°†ä» Rancher RPM å­˜å‚¨åº“è‡ªåŠ¨å®‰è£… SELinux RPMã€‚å¯ä»¥é€šè¿‡è®¾ç½® `INSTALL_K3S_SKIP_SELINUX_RPM=true` æ¥è·³è¿‡è‡ªåŠ¨å®‰è£…ã€‚

### æ‰‹åŠ¨å®‰è£…

å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…å¿…è¦çš„ç­–ç•¥ï¼š

```
yum install -y container-selinux selinux-policy-base
yum install -y https://rpm.rancher.io/k3s/latest/common/centos/7/noarch/k3s-selinux-0.2-1.el7_8.noarch.rpm
```

è¦å¼ºåˆ¶å®‰è£…è„šæœ¬è®°å½•è­¦å‘Šè€Œä¸æ˜¯å¤±è´¥ï¼Œæ‚¨å¯ä»¥è®¾ç½®ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š `INSTALL_K3S_SELINUX_WARN=true`ã€‚

## Red Hat å’Œ CentOS çš„é¢å¤–å‡†å¤‡

å»ºè®®è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå…³é—­ firewalldï¼š

```shell
systemctl disable firewalld --now
```



## END é“¾æ¥
<ul><li><div><a href = '26.md' style='float:left'>â¬†ï¸ä¸Šä¸€èŠ‚ğŸ”—  </a><a href = '28.md' style='float: right'>  ï¸ä¸‹ä¸€èŠ‚ğŸ”—</a></div></li></ul>

+ [â“‚ï¸å›åˆ°ç›®å½•ğŸ ](../README.md)

+ [**ğŸ«µå‚ä¸è´¡çŒ®ğŸ’â¤ï¸â€ğŸ”¥ğŸ’–**](https://nsddd.top/archives/contributors))

+ âœ´ï¸ç‰ˆæƒå£°æ˜ &copy; ï¼šæœ¬ä¹¦æ‰€æœ‰å†…å®¹éµå¾ª[CC-BY-SA 3.0åè®®ï¼ˆç½²å-ç›¸åŒæ–¹å¼å…±äº«ï¼‰&copy;](http://zh.wikipedia.org/wiki/Wikipedia:CC-by-sa-3.0åè®®æ–‡æœ¬) 

