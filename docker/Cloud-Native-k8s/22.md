+ [author](http://nsddd.top)

# ç¬¬22èŠ‚ è¿è¡Œæœ‰çŠ¶æ€åº”ç”¨

<div><a href = '21.md' style='float:left'>â¬†ï¸ä¸Šä¸€èŠ‚ğŸ”—  </a><a href = '23.md' style='float: right'>  â¬‡ï¸ä¸‹ä¸€èŠ‚ğŸ”—</a></div>
<br>

> â¤ï¸ğŸ’•ğŸ’•æ–°æ—¶ä»£æ‹¥æŠ±äº‘åŸç”Ÿï¼Œäº‘åŸç”Ÿå…·æœ‰ç¯å¢ƒç»Ÿä¸€ã€æŒ‰éœ€ä»˜è´¹ã€å³å¼€å³ç”¨ã€ç¨³å®šæ€§å¼ºç‰¹ç‚¹ã€‚Myblog:[http://nsddd.top](http://nsddd.top/)

---
[TOC]

## è¿è¡Œæœ‰çŠ¶æ€åº”ç”¨

ä»¥ `Mysql` ä¸ºä¾‹ï¼Œåœ¨ `kubernetes` é›†ç¾¤ä¸­è¿è¡Œä¸€ä¸ªæœ‰çŠ¶æ€çš„åº”ç”¨ï¼Œéƒ¨ç½²æ•°æ®åº“å‡ ä¹è¦†ç›–äº† `kubernetes` ä¸­å¸¸è§çš„å¯¹è±¡å’Œæ¦‚å¿µã€‚



## åˆ›å»ºMysqlæ•°æ®åº“

### å‡†å¤‡

```bash
mkdir /home/mysql -p; cd /home/mysql/ ; touch mysql-pod.yaml && ls;
```



**åˆ›å»ºå‘½åç©ºé—´ï¼ŒMySQLæ”¾å…¥é»˜è®¤å‘½åç©ºé—´ä¸­ï¼š**

```bash
kubectl create namespace dev
```



### åˆ›å»ºæŒä¹…å·PVï¼Œç”¨æ¥å­˜å‚¨mysqlæ•°æ®æ–‡ä»¶

å®šä¹‰ä¸€ä¸ªå®¹é‡å¤§å°ä¸º1GBçš„PVï¼ŒæŒ‚è½½åˆ° `/nfs/data/01` ç›®å½•ï¼Œéœ€æ‰‹åŠ¨åˆ›å»ºè¯¥ç›®å½•

```bash
mkdir -p /root/mysql/nfs/data/01
```



ç¼–å†™ `mysql-pv.yaml` æ–‡ä»¶å†…å®¹ï¼Œè¦åˆ›å»ºçš„ `pv` å¯¹è±¡åç§°ï¼špv-1gi

```yaml
# å®šä¹‰æŒä¹…å·ä¿¡æ¯
apiVersion: v1
kind: PersistentVolume
metadata:    # pvæ˜¯æ²¡æœ‰namespaceå±æ€§çš„ï¼Œå®ƒæ˜¯ä¸€ç§è·¨namespaceçš„å…±äº«èµ„æº
  name: pv-1gi
spec:
  capacity:
    storage: 1Gi
  accessModes:
    - ReadWriteMany   # å­˜å‚¨ç±»ï¼Œå…·æœ‰ç›¸åŒå­˜å‚¨ç±»åç§°çš„pvå’Œpvcæ‰èƒ½è¿›è¡Œç»‘å®š
  storageClassName: nfs
  nfs:
    path: /nfs/data/01
    server: 192.168.59.110
```



åˆ›å»ºè¯¥PVå¯¹è±¡ï¼š

```bash
kubectl create -f mysql-pv.yaml
```





### é…ç½®ç¯å¢ƒå˜é‡

```yaml
apiV
```



## END é“¾æ¥
<ul><li><div><a href = '21.md' style='float:left'>â¬†ï¸ä¸Šä¸€èŠ‚ğŸ”—  </a><a href = '23.md' style='float: right'>  ï¸ä¸‹ä¸€èŠ‚ğŸ”—</a></div></li></ul>

+ [â“‚ï¸å›åˆ°ç›®å½•ğŸ ](../README.md)

+ [**ğŸ«µå‚ä¸è´¡çŒ®ğŸ’â¤ï¸â€ğŸ”¥ğŸ’–**](https://nsddd.top/archives/contributors))

+ âœ´ï¸ç‰ˆæƒå£°æ˜ &copy; ï¼šæœ¬ä¹¦æ‰€æœ‰å†…å®¹éµå¾ª[CC-BY-SA 3.0åè®®ï¼ˆç½²å-ç›¸åŒæ–¹å¼å…±äº«ï¼‰&copy;](http://zh.wikipedia.org/wiki/Wikipedia:CC-by-sa-3.0åè®®æ–‡æœ¬) 

