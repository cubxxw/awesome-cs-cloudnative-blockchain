+ [author](https://github.com/3293172751)

# ç¬¬22èŠ‚ å¯¹å¸¸ç”¨åè®®æŠ“åŒ…å¹¶åˆ†æåŸç†

+ [å›åˆ°ç›®å½•](../README.md)
+ [å›åˆ°é¡¹ç›®é¦–é¡µ](../../README.md)
+ [ä¸Šä¸€èŠ‚](21.md)
> â¤ï¸ğŸ’•ğŸ’•è®¡ç®—æœºç½‘ç»œ--TCP/IP å­¦ä¹ ã€‚Myblog:[http://nsddd.top](http://nsddd.top/)
---
[TOC]

## ARPåœ°å€è§£æåè®®

> APRå†IP v4ä¸­æå…¶é‡è¦ï¼Œé€šè¿‡ç½‘ç»œåœ°å€æ¥å®šä½MACåœ°å€

+ å…³é—­æ··åˆæ¨¡å¼é‡æ–°æŠ“åŒ…

![image-20220724113239144](assets/image-20220724113239144.png)



### åˆ†æ

```
370	65.310601	76:d6:83:47:29:43	66:0d:c5:75:2c:44	ARP	42	Who has 192.168.112.29? Tell 192.168.112.243
371	65.310858	66:0d:c5:75:2c:44	76:d6:83:47:29:43	ARP	42	192.168.112.29 is at 66:0d:c5:75:2c:44
```

> 192.168.112.243å¹¿æ’­ï¼šè°æœ‰192.168.112.29çš„MACåœ°å€ï¼Ÿ
>
> 192.168.112.29åº”ç­”ï¼š192.168.112.29çš„MACåœ°å€æ˜¯66:0d:c5:75:2c:44

#### è¯·æ±‚

+ hardware typeï¼šç¡¬ä»¶ç±»å‹ï¼Œæ ‡è¯†é“¾è·¯å±‚ä»¥å¤ªç½‘åè®®
+ protocol typeï¼šåè®®ç±»å‹ï¼Œæ ‡è¯†ç½‘ç»œå±‚åè®®
+ Hardware sizeï¼šç¡¬ä»¶åœ°å€é•¿åº¦ï¼ˆMACåœ°å€é•¿åº¦ï¼‰
+ Protocol sizeï¼šåè®®åœ°å€é•¿åº¦ï¼ˆIPåœ°å€é•¿åº¦32ä½ï¼‰
+ Opcodeï¼šæ“ä½œç ï¼Œæ ‡è¯†æ•°æ®ç±»å‹
  + 1ï¼šè¯·æ±‚
  + 2ï¼šå“åº”
+ Sender MAC addressï¼šåŸMACåœ°å€
+ Sender IP addressï¼šåŸIPåœ°å€
+ Target MAC addressï¼šç›®æ ‡MACåœ°å€
+ Target IP addressï¼šç›®æ ‡IPåœ°å€

```
Frame 131: 42 bytes on wire (336 bits), 42 bytes captured (336 bits) on interface \Device\NPF_{17CC1A62-8145-46E6-9DB3-739B55186EEA}, id 0
Ethernet II, Src: 76:d6:83:47:29:43 (76:d6:83:47:29:43), Dst: 66:0d:c5:75:2c:44 (66:0d:c5:75:2c:44)
Address Resolution Protocol (request)
    Hardware type: Ethernet (1)
    Protocol type: IPv4 (0x0800)
    Hardware size: 6
    Protocol size: 4
    Opcode: request (1)
    Sender MAC address: 76:d6:83:47:29:43 (76:d6:83:47:29:43)
    Sender IP address: 192.168.112.243
    Target MAC address: 00:00:00_00:00:00 (00:00:00:00:00:00)
    Target IP address: 192.168.112.29
```

#### å›åº”

```
Frame 371: 42 bytes on wire (336 bits), 42 bytes captured (336 bits) on interface \Device\NPF_{17CC1A62-8145-46E6-9DB3-739B55186EEA}, id 0
Ethernet II, Src: 66:0d:c5:75:2c:44 (66:0d:c5:75:2c:44), Dst: 76:d6:83:47:29:43 (76:d6:83:47:29:43)
Address Resolution Protocol (reply)
    Hardware type: Ethernet (1)
    Protocol type: IPv4 (0x0800)
    Hardware size: 6
    Protocol size: 4
    Opcode: reply (2)
    Sender MAC address: 66:0d:c5:75:2c:44 (66:0d:c5:75:2c:44)
    Sender IP address: 192.168.112.29
    Target MAC address: 76:d6:83:47:29:43 (76:d6:83:47:29:43)
    Target IP address: 192.168.112.243
```



## ICMP åè®®

+ [ICMP](20.md)

> åœ¨[ç¬¬äºŒåç« ](20.md)æˆ‘ä»¬çŸ¥é“ICMPä½¿ç”¨çš„å¾ˆå¸¸è§
>
> è®¡ç®—æœºç½‘ç»œè‡ªé¡¶å‘ä¸‹  â€“ p273

### pingæ¡ˆä¾‹

```bash
C:\Users\smile>Ping google.com
æ­£åœ¨ Ping google.com [142.251.43.14] å…·æœ‰ 32 å­—èŠ‚çš„æ•°æ®:
è¯·æ±‚è¶…æ—¶ã€‚
142.251.43.14 çš„ Ping ç»Ÿè®¡ä¿¡æ¯:
    æ•°æ®åŒ…: å·²å‘é€ = 1ï¼Œå·²æ¥æ”¶ = 0ï¼Œä¸¢å¤± = 1 (100% ä¸¢å¤±)ï¼Œ
Control-C
C:\Users\smile>Ping nsddd.top

æ­£åœ¨ Ping nsddd.top [110.42.175.115] å…·æœ‰ 32 å­—èŠ‚çš„æ•°æ®:
æ¥è‡ª 110.42.175.115 çš„å›å¤: å­—èŠ‚=32 æ—¶é—´=38ms TTL=52
110.42.175.115 çš„ Ping ç»Ÿè®¡ä¿¡æ¯:
    æ•°æ®åŒ…: å·²å‘é€ = 1ï¼Œå·²æ¥æ”¶ = 1ï¼Œä¸¢å¤± = 0 (0% ä¸¢å¤±)ï¼Œ
å¾€è¿”è¡Œç¨‹çš„ä¼°è®¡æ—¶é—´(ä»¥æ¯«ç§’ä¸ºå•ä½):
    æœ€çŸ­ = 38msï¼Œæœ€é•¿ = 38msï¼Œå¹³å‡ = 38ms
Control-C
```

#### pingé€š â€“ å»

+ Srcï¼šåŸç›®æ ‡IP
+ Dstï¼šç›®çš„IP
+ Typeï¼šè¯·æ±‚æ•°æ®åŒ…ç±»å‹
  + 8ï¼šå›æ˜¾è¯·æ±‚
  + 0ï¼šå›æ˜¾ç±»å‹
  + 3
    + 1ï¼šç›®çš„ç½‘ç»œä¸å¯è¾¾
    + 2ï¼šç›®çš„åè®®ä¸å¯è¾¾
    + 3ï¼šç›®çš„ç«¯å£ä¸å¯è¾¾
    + 6ï¼šç›®çš„ç½‘ç»œæœªçŸ¥
    + 7ï¼šç›®çš„ä¸»æœºæœªçŸ¥
  + 11ï¼šTTLè¿‡æœŸ
+ Checksum Statusï¼šæ ¡éªŒçŠ¶æ€ï¼šgoodæ²¡é—®é¢˜
+ Request frameï¼šè¯·æ±‚ä¸Response frameå¯¹åº”   `+1`
+ Dataï¼šå¡«å……çš„æ•°æ®

```
Frame 1419: 74 bytes on wire (592 bits), 74 bytes captured (592 bits) on interface \Device\NPF_{17CC1A62-8145-46E6-9DB3-739B55186EEA}, id 0
Ethernet II, Src: 66:0d:c5:75:2c:44 (66:0d:c5:75:2c:44), Dst: 76:d6:83:47:29:43 (76:d6:83:47:29:43)
Internet Protocol Version 4, Src: 192.168.112.29, Dst: 110.42.175.115
Internet Control Message Protocol
    Type: 8 (Echo (ping) request)
    Code: 0
    Checksum: 0x4d45 [correct]
    [Checksum Status: Good]
    Identifier (BE): 1 (0x0001)
    Identifier (LE): 256 (0x0100)
    Sequence Number (BE): 22 (0x0016)
    Sequence Number (LE): 5632 (0x1600)
    [Response frame: 1420]
    Data (32 bytes)
```

#### pingé€š â€“ å›

```
Frame 1420: 74 bytes on wire (592 bits), 74 bytes captured (592 bits) on interface \Device\NPF_{17CC1A62-8145-46E6-9DB3-739B55186EEA}, id 0
Ethernet II, Src: 76:d6:83:47:29:43 (76:d6:83:47:29:43), Dst: 66:0d:c5:75:2c:44 (66:0d:c5:75:2c:44)
Internet Protocol Version 4, Src: 110.42.175.115, Dst: 192.168.112.29
Internet Control Message Protocol
    Type: 0 (Echo (ping) reply)
    Code: 0
    Checksum: 0x5545 [correct]
    [Checksum Status: Good]
    Identifier (BE): 1 (0x0001)
    Identifier (LE): 256 (0x0100)
    Sequence Number (BE): 22 (0x0016)
    Sequence Number (LE): 5632 (0x1600)
    [Request frame: 1419]
    [Response time: 29.685 ms]
    Data (32 bytes)
```



#### pingä¸é€š

+ No response seenï¼šæ²¡æœ‰ååº”è¿‡

```
Frame 635: 74 bytes on wire (592 bits), 74 bytes captured (592 bits) on interface \Device\NPF_{17CC1A62-8145-46E6-9DB3-739B55186EEA}, id 0
Ethernet II, Src: 66:0d:c5:75:2c:44 (66:0d:c5:75:2c:44), Dst: 76:d6:83:47:29:43 (76:d6:83:47:29:43)
Internet Protocol Version 4, Src: 192.168.112.29, Dst: 142.251.43.14
Internet Control Message Protocol
    Type: 8 (Echo (ping) request)
    Code: 0
    Checksum: 0x4d48 [correct]
    [Checksum Status: Good]
    Identifier (BE): 1 (0x0001)
    Identifier (LE): 256 (0x0100)
    Sequence Number (BE): 19 (0x0013)
    Sequence Number (LE): 4864 (0x1300)
    [No response seen]
    Data (32 bytes)

```







## END é“¾æ¥

+ [å›åˆ°ç›®å½•](../README.md)
+ [ä¸Šä¸€èŠ‚](21.md)
+ [ä¸‹ä¸€èŠ‚](23.md)
---
+ [å‚ä¸è´¡çŒ®â¤ï¸ğŸ’•ğŸ’•](https://github.com/3293172751/CS_COURSE/blob/master/Git/git-contributor.md)
