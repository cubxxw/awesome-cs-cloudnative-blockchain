# 1. å“ˆå¸Œç®—æ³•

### 1.1.1. ä½¿ç”¨åœºæ™¯

- å¯¹ç”¨æˆ·è¾“å…¥çš„å¯†ç è¿›è¡ŒåŠ å¯†
- ç”¨æˆ·ç™»å½•æ—¶å¯¹ç”¨æˆ·çš„å¯†ç è¿›è¡Œæ¯”å¯¹

### 1.1.2. ä¾‹å­

```go
package main

import (
    "errors"
    "fmt"

    "golang.org/x/crypto/bcrypt"
)

func main() {
    userPassword := "123456"
    passwordbyte, err := GeneratePassword(userPassword)
    if err != nil {
        fmt.Println("åŠ å¯†å‡ºé”™äº†")
    }
    fmt.Println(passwordbyte)
    // passwordstring := string(passwordbyte)
    // fmt.Println(passwordstring)
    //æ¨¡æ‹Ÿè¿™ä¸ªå­—ç¬¦ä¸²æ˜¯ä»æ•°æ®åº“è¯»å–å‡ºæ¥çš„ å€¼æ˜¯12345678
    mysql_password := "$2a$10$I8WaWXgiBw8j/IBejb3t/.s5NoOYLvoQzL6mIM2g3TEu4z0HenzqK"
    isOk, _ := ValidatePassword(userPassword, mysql_password)
    if !isOk {
        fmt.Println("å¯†ç é”™è¯¯")
        return
    }
    fmt.Println(isOk)
}

//GeneratePassword ç»™å¯†ç å°±è¡ŒåŠ å¯†æ“ä½œ
func GeneratePassword(userPassword string) ([]byte, error) {
    return bcrypt.GenerateFromPassword([]byte(userPassword), bcrypt.DefaultCost)
}

//ValidatePassword å¯†ç æ¯”å¯¹
func ValidatePassword(userPassword string, hashed string) (isOK bool, err error) {
    if err = bcrypt.CompareHashAndPassword([]byte(hashed), []byte(userPassword)); err != nil {
        return false, errors.New("å¯†ç æ¯”å¯¹é”™è¯¯ï¼")
    }
    return true, nil

}
```

**æ³¨æ„**

`golang.org/x/crypto/bcrypt`è¿™ä¸ªåŒ…ä¸‹è½½æœ‰äº›éš¾åº¦ï¼Œéœ€è¦çš„å°ä¼™ä¼´å¯ä»¥è‡ªè¡Œç™¾åº¦

å®˜ç½‘åœ°å€ï¼šhttp://golang.org/x/crypto/bcrypt

## END é“¾æ¥
<ul><li><div><a href = '77.md' style='float:left'>â¬†ï¸ä¸Šä¸€èŠ‚ğŸ”—</a><a href = '79.md' style='float: right'>â¬‡ï¸ä¸‹ä¸€èŠ‚ğŸ”—</a></div></li></ul>

+ [â“‚ï¸å›åˆ°é¦–é¡µğŸ ](../README.md)

+ [**ğŸ«µå‚ä¸è´¡çŒ®ğŸ’â¤ï¸â€ğŸ”¥ğŸ’–**](https://nsddd.top/archives/contributors))

+ âœ´ï¸ç‰ˆæƒå£°æ˜ &copy; :æœ¬ä¹¦æ‰€æœ‰å†…å®¹éµå¾ª[CC-BY-SA 3.0åè®®ï¼ˆç½²å-ç›¸åŒæ–¹å¼å…±äº«ï¼‰&copy;](http://zh.wikipedia.org/wiki/Wikipedia:CC-by-sa-3.0åè®®æ–‡æœ¬) 

