ğŸ˜¶â€ğŸŒ«ï¸goè¯­è¨€å®˜æ–¹ç¼–ç¨‹æŒ‡å—ï¼š[https://golang.org/](https://golang.org/)  

>   goè¯­è¨€çš„å®˜æ–¹æ–‡æ¡£å­¦ä¹ ç¬”è®°å¾ˆå…¨ï¼Œæ¨èå»å®˜ç½‘å­¦ä¹ 

ğŸ˜¶â€ğŸŒ«ï¸æˆ‘çš„å­¦ä¹ ç¬”è®°ï¼šgithub: [https://github.com/3293172751/golang-rearn](https://github.com/3293172751/golang-rearn)

---

**åŒºå—é“¾æŠ€æœ¯ï¼ˆä¹Ÿç§°ä¹‹ä¸ºåˆ†å¸ƒå¼è´¦æœ¬æŠ€æœ¯ï¼‰**ï¼Œæ˜¯ä¸€ç§äº’è”ç½‘æ•°æ®åº“æŠ€æœ¯ï¼Œå…¶ç‰¹ç‚¹æ˜¯å»ä¸­å¿ƒåŒ–ï¼Œå…¬å¼€é€æ˜ï¼Œè®©æ¯ä¸€ä¸ªäººå‡å¯å‚ä¸çš„æ•°æ®åº“è®°å½•

>   â¤ï¸ğŸ’•ğŸ’•å…³äºåŒºå—é“¾æŠ€æœ¯ï¼Œå¯ä»¥å…³æ³¨æˆ‘ï¼Œå…±åŒå­¦ä¹ æ›´å¤šçš„åŒºå—é“¾æŠ€æœ¯ã€‚åšå®¢[http://nsddd.top](http://nsddd.top)

---



 æ•°æ®ç»“æ„

[toc]

# ç¨€ç–æ•°ç»„sparsearray

å®é™…éœ€æ±‚
---------------

å…ˆæ¥çœ‹ä¸€ä¸ªå®é™…éœ€æ±‚ï¼Œæ¯”è¾ƒå¥½æ€è€ƒ

ç¼–å†™äº”å­æ£‹ç¨‹åºä¸­çš„ **å­˜ç›˜é€€å‡º** å’Œ **ç»­ä¸Šç›˜** åŠŸèƒ½

![](https://zq99299.github.io/dsalg-tutorial/assets/img/image-20200703215903031.8ffc1996.png)

æˆ‘ä»¬é¦–å…ˆèƒ½æƒ³åˆ°çš„å°±æ˜¯ä½¿ç”¨ä¸€ä¸ª **äºŒç»´æ•°ç»„**ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºï¼š

*   0ï¼šè¡¨ç¤ºæ²¡æœ‰æ£‹å­
*   1ï¼šè¡¨ç¤ºé»‘æ£‹
*   2ï¼šè¡¨ç¤ºç™½æ£‹

åˆ†æé—®é¢˜
---------------

å¯ä»¥çœ‹åˆ°äºŒç»´æ•°ç»„ä¸­å¾ˆå¤šå€¼éƒ½æ˜¯ 0ï¼Œå› æ­¤è®°å½•äº†å¾ˆå¤šæ²¡æœ‰æ„ä¹‰çš„æ•°æ®ã€‚

åŸºæœ¬ä»‹ç»
---------------

å®šä¹‰ï¼šå½“ä¸€ä¸ªæ•°ç»„ä¸­ **å¤§éƒ¨åˆ†å…ƒç´ ä¸º 0ï¼ˆæˆ–æ˜¯åŒä¸€ä¸ªå€¼ï¼‰** æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ **ç¨€ç–æ•°ç»„** æ¥ä¿å­˜è¯¥æ•°ç»„

å¤„ç†æ–¹æ³•ï¼š

1.  è®°å½•æ•°ç»„ä¸€å…±æœ‰ **å‡ è¡Œå‡ åˆ—**ï¼Œ**æœ‰å¤šå°‘ä¸ªä¸åŒçš„å€¼**
2.  æŠŠå…·æœ‰ **ä¸åŒå€¼çš„å…ƒç´ ** çš„ **è¡Œåˆ—åŠå€¼** è®°å½•åœ¨ä¸€ä¸ª **å°è§„æ¨¡çš„æ•°ç»„** ä¸­ï¼Œä»è€Œç¼©å°ç¨‹åºçš„è§„æ¨¡

è¿™ä¸ªå°è§„æ¨¡çš„æ•°ç»„å°±ç§°ä¸º **ç¨€ç–æ•°ç»„**ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œå¦‚ä¸‹å›¾

![](https://s2.loli.net/2022/04/03/dA7jP9UY3fzCVO4.png)

å·¦ä¾§æ˜¯åŸå§‹çš„äºŒç»´æ•°ç»„ `6x7 = 42 ä¸ªæ ¼å­`ï¼Œå³ä¾§æ˜¯ç¨€ç–æ•°ç»„ `9 x 3 = 27 ä¸ªæ ¼å­`

*   `[0]`ï¼šè®°å½•äº†æ£‹ç›˜çš„å¤§å°ï¼Œ6 è¡Œ 7 åˆ—ï¼Œæ£‹ç›˜ä¸Šæœ‰ 8 ä¸ªä¸ä¸º 0 çš„å€¼
  
*   å…¶ä»–è¡Œï¼šåˆ†åˆ«è®°å½•æ¯ä¸€ä¸ªé 0 å€¼çš„æ‰€åœ¨è¡Œã€æ‰€åœ¨åˆ—ã€å€¼
  
    æ¯”å¦‚ `[1]`ï¼šåœ¨ç¬¬ 0 è¡Œç¬¬ 3 åˆ—ä¸Šæœ‰ä¸€ä¸ª 22ï¼ˆè¿™é‡Œçš„è¡Œåˆ—éƒ½æ˜¯ä¸‹æ ‡ï¼‰
    

å¯ä»¥çœ‹åˆ°åŸå§‹ 42 ä¸ªæ•°æ®ï¼Œå‹ç¼©æˆ 27 ä¸ªæ•°æ®ã€‚ä¸€å®šç¨‹åº¦ä¸Šå‹ç¼©äº†æ•°æ®ã€‚

åº”ç”¨å®ä¾‹
---------------

ä½¿ç”¨ **ç¨€ç–æ•°ç»„** ä¿ç•™ç±»ä¼¼å‰é¢çš„ **äºŒç»´æ•°ç»„**ï¼ˆå¦‚æ£‹ç›˜ã€åœ°å›¾ç­‰ç­‰çš„åœºæ™¯ï¼‰ï¼ŒæŠŠ **ç¨€ç–æ•°ç»„å­˜ç›˜**ï¼Œå¹¶ä¸”å¯ä»¥ä»æ–° **æ¢å¤åŸæ¥çš„äºŒç»´æ•°ç»„**

### ç¨€ç–æ•°ç»„ä¸äºŒç»´æ•°ç»„äº’è½¬æ€è·¯

ä»¥å‰é¢çš„æ£‹ç›˜æ•°æ®æ¥è®²è§£

![](https://s2.loli.net/2022/04/03/Vr4uRL36IGbfw7T.png)

å¦‚ä¸Šå›¾ï¼Œæ€»ç»“å‡ºæ¥ç¨€ç–æ•°ç»„ä¸ºå³ä¾§é‚£æ ·ã€‚é‚£ä¹ˆä»–ä»¬äº’è½¬æ€è·¯å¦‚ä¸‹ï¼š

**äºŒç»´æ•°ç»„è½¬ç¨€ç–æ•°ç»„æ€è·¯ï¼š**

1.  éå†åŸå§‹çš„äºŒç»´æ•°ç»„ï¼Œå¾—åˆ°æœ‰æ•ˆä¸ªæ•° sum
2.  æ ¹æ® sum åˆ›å»º **ç¨€ç–æ•°ç»„** `sparseArr = int[sum + 1][3]`
3.  å°†äºŒç»´æ•°æ®çš„æœ‰æ•ˆæ•°æ®å­˜å…¥åˆ°ç¨€ç–æ•°ç»„ä¸­ï¼ˆä»ç¬¬ 2 è¡Œå¼€å§‹å­˜å‚¨ï¼‰
4.  æœ€åå°†æ£‹ç›˜å¤§å°å’Œæœ‰æ•ˆä¸ªæ•°å†™å…¥ç¬¬ä¸€è¡Œ

**ç¨€ç–æ•°ç»„è½¬åŸå§‹äºŒç»´æ•°ç»„æ€è·¯ï¼š**

1.  è¯»å–ç¬¬ä¸€è¡Œæ•°æ®ï¼Œæ ¹æ®æ£‹ç›˜å¤§å°ï¼Œåˆ›å»ºåŸå§‹çš„äºŒç»´æ•°ç»„ `chessArr = int [11][11]`
2.  ä»ç¬¬äºŒè¡Œå¼€å§‹ï¼Œå°†æœ‰æ•ˆæ•°æ®è¿˜åŸåˆ°åŸå§‹æ•°ç»„ä¸­

---

### ä»£ç å®ç°ï¼ˆGo)

```go
/*************************************************************************
    > File Name: chassMap.go
    > Author: smile
    > Mail: 3293172751nss@gmail.com 
    > Created Time: Sun 03 Apr 2022 02:39:52 PM CST
 ************************************************************************/
package main
import (
	"fmt"
)

type valNode struct{
    row int //è¡Œ
    col int //åˆ—
    val int //æ•°å€¼
    //val is struct over
}

func main(){
	//1. åˆ›å»ºä¸€ä¸ªåŸå§‹æ•°ç»„
    var chassMap [11][11]int
    chassMap[1][2] = 1   //é»‘å­
    chassMap[2][3] = 2   //ç¯®å­
    
    //è¾“å‡ºæ•°ç»„æ˜¯å¦æ­£ç¡®
    for _,v := range chassMap{
        for _,v2 := range v{
            fmt.Printf("%d\t",v2)
        }
        fmt.Printf("\n")

        //è½¬åŒ–ä¸ºç¨€ç–æ•°ç»„ã€‚æ­¤æ—¶å¿…é¡»è¦ä½¿ç”¨åˆ‡ç‰‡ï¼Œä½¿ç”¨ç»“æ„ä½“æ¥ä¿å­˜
        //éå†chassmapï¼Œå¦‚æœæˆ‘ä»¬å‘ç°æœ‰ä¸€ä¸ªå…ƒç´ çš„å€¼ä¸ç­‰äº0ï¼Œæ­¤æ—¶æˆ‘ä»¬å°±åˆ›å»ºä¸€ä¸ªnodeèŠ‚ç‚¹ï¼Œå°†å…¶æ”¾åœ¨ä¸€ä¸ªnodeç»“æ„ä½“ä¸­
        var sparseArr []valNode 
        
        //æ ‡å‡†çš„ç¨€ç–æ•°ç»„åº”è¯¥è¿˜æœ‰ä¸€ä¸ª è®°å½•å…ƒç´ çš„äºŒç»´æ•°ç»„çš„è§„æ¨¡ï¼ˆè¡Œå’Œåˆ—ï¼‰
                valNode := valNode{
                    row : 11,
                    col : 11,
                    val : 0,       //è¡Œå’Œåˆ—  é»˜è®¤æ˜¯0
                }
        

        //éå†
    for i,v := range chassMap{
        for j,v2 := range v{
            if v2 != 0{
                //åˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹ -- valnode å€¼èŠ‚ç‚¹
                valNode := valNode{
                    row : i,
                    col : j,
                    val : v2,
                }
                sparseArr = append(sparseArr,valNode)
    
            }
        }
        fmt.Printf("\n")
    fmt.Println("å½“å‰çš„ç¨€ç–æ•°ç»„æ˜¯:")
    //è¾“å‡ºç¨€ç–æ•°ç»„
    for i,valNode := range sparseArr{
        fmt.Printf("%d : %d %d %d",i,valNode.row,valNode.col,valNode.val)
    }
}
}
```



---

### ä»£ç å®ç°ï¼ˆjava)

```java
package cn.mrcode.study.dsalgtutorialdemo.datastructure.sparsearray;

/**
 * <pre>
 *  ç¨€ç–æ•°ç»„ï¼š
 *      1. äºŒç»´æ•°ç»„è½¬ç¨€ç–æ•°ç»„
 *      2. ç¨€ç–æ•°ç»„è½¬äºŒç»´æ•°ç»„
 * </pre>
 */
public class SparseArray {
    public static void main(String[] args) {
        // åˆ›å»ºåŸå§‹äºŒç»´æ•°ç»„
        // 0ï¼šæ²¡æœ‰æ£‹å­ï¼Œ1ï¼šé»‘æ£‹ï¼Œ2ï¼šç™½æ£‹
        // æ£‹ç›˜å¤§å° 11 x 11
        int chessArr[][] = new int[11][11];
        chessArr[1][2] = 1;
        chessArr[2][3] = 2;
      
        // é¢„è§ˆæ£‹ç›˜ä¸Šçš„æ£‹å­ä½ç½®
        System.out.println("é¢„è§ˆåŸå§‹æ•°ç»„");
        printChessArray(chessArr);
      
        // äºŒç»´æ•°ç»„è½¬ç¨€ç–æ•°ç»„
        int[][] sparseArr = chessToSparse(chessArr);
				// int[][] sparseArr = chessToSparse2(chessArr); // ç´§å‡‘ç‰ˆæœ¬å¯ä»¥å‚è€ƒç¬”è®°é…å¥—é¡¹ç›®
        System.out.println("äºŒç»´æ•°ç»„è½¬ç¨€ç–æ•°ç»„");
        printChessArray(sparseArr);
      
        // ç¨€ç–æ•°ç»„è½¬äºŒç»´æ•°ç»„
        int[][] chessArr2 = sparseToChess(sparseArr);
        System.out.println("ç¨€ç–æ•°ç»„è½¬äºŒç»´æ•°ç»„");
        printChessArray(chessArr2);
    }

    /**
     * äºŒç»´æ•°ç»„è½¬ç¨€ç–æ•°ç»„
     *
     * @param chessArr
     */
    private static int[][] chessToSparse(int[][] chessArr) {
        // 1. éå†æ•°ç»„å¾—åˆ°æœ‰æ•ˆæ£‹å­ä¸ªæ•°
        int sum = 0;
        for (int[] row : chessArr) {
            for (int chess : row) {
                if (chess != 0) {
                    sum++;
                }
            }
        }
        // 2. åˆ›å»ºç¨€ç–æ•°ç»„
        int[][] sparseArr = new int[sum + 1][3];
        // 3. å°†äºŒç»´æ•°æ®çš„æœ‰æ•ˆæ•°æ®å­˜å…¥åˆ°ç¨€ç–æ•°ç»„ä¸­ï¼ˆä»ç¬¬ 2 è¡Œå¼€å§‹å­˜å‚¨ï¼‰
        int chessRow = chessArr.length;  // è¡Œï¼š æ£‹ç›˜å¤§å°
        int chessCol = 0;  // åˆ—ï¼š æ£‹ç›˜å¤§å°
        int count = 0; // è®°å½•å½“å‰æ˜¯ç¬¬å‡ ä¸ªé 0 çš„æ•°æ®
        for (int i = 0; i < chessArr.length; i++) {
            int[] rows = chessArr[i];
            if (chessCol == 0) {
                chessCol = rows.length;
            }
            for (int j = 0; j < rows.length; j++) {
                int chess = rows[j];
                if (chess == 0) {
                    continue;
                }
                count++;  // ç¬¬ä¸€è¡Œæ˜¯æ£‹ç›˜ä¿¡æ¯ï¼Œæ‰€ä»¥å…ˆè‡ªå¢
                sparseArr[count][0] = i;
                sparseArr[count][1] = j;
                sparseArr[count][2] = chess;
            }
        }
        // 4. è¡¥å…¨ç¬¬ä¸€è¡Œçš„æ£‹ç›˜å¤§å°å’Œæœ‰æ•ˆæ•°æ®
        sparseArr[0][0] = chessRow;
        sparseArr[0][1] = chessCol;
        sparseArr[0][2] = sum;
        return sparseArr;
    }

    /**
     * ç¨€ç–æ•°ç»„è½¬äºŒç»´æ•°ç»„
     *
     * @param sparseArr
     * @return
     */
    private static int[][] sparseToChess(int[][] sparseArr) {
        // 1. åˆ›å»ºäºŒç»´æ•°ç»„
        int[][] chessArr = new int[sparseArr[0][0]][sparseArr[0][1]];
        // 2. æ¢å¤æœ‰æ•ˆæ•°æ®åˆ°äºŒç»´æ•°ç»„
        for (int i = 1; i < sparseArr.length; i++) {
            int[] rows = sparseArr[i];
            chessArr[rows[0]][rows[1]] = rows[2];
        }
        return chessArr;
    }
  
    /**
     * æ‰“å°æ£‹ç›˜ä¸Šçš„æ£‹å­å¸ƒå±€
     *
     * @param chessArr
     */
    public static void printChessArray(int[][] chessArr) {
        for (int[] row : chessArr) {
            for (int data : row) {
                // å·¦å¯¹é½ï¼Œä½¿ç”¨ä¸¤ä¸ªç©ºæ ¼è¡¥é½ 2 ä½æ•°
                System.out.printf("%-2d\t", data);
            }
            System.out.println("");
        }
    }
}
```



è¾“å‡ºä¿¡æ¯å¦‚ä¸‹

```
é¢„è§ˆåŸå§‹æ•°ç»„
0 	0 	0 	0 	0 	0 	0 	0 	0 	0 	0 	
0 	0 	1 	0 	0 	0 	0 	0 	0 	0 	0 	
0 	0 	0 	2 	0 	0 	0 	0 	0 	0 	0 	
0 	0 	0 	0 	0 	0 	0 	0 	0 	0 	0 	
0 	0 	0 	0 	0 	0 	0 	0 	0 	0 	0 	
0 	0 	0 	0 	0 	0 	0 	0 	0 	0 	0 	
0 	0 	0 	0 	0 	0 	0 	0 	0 	0 	0 	
0 	0 	0 	0 	0 	0 	0 	0 	0 	0 	0 	
0 	0 	0 	0 	0 	0 	0 	0 	0 	0 	0 	
0 	0 	0 	0 	0 	0 	0 	0 	0 	0 	0 	
0 	0 	0 	0 	0 	0 	0 	0 	0 	0 	0 	
äºŒç»´æ•°ç»„è½¬ç¨€ç–æ•°ç»„
11	11	2 	
1 	2 	1 	
2 	3 	2 	
ç¨€ç–æ•°ç»„è½¬äºŒç»´æ•°ç»„
0 	0 	0 	0 	0 	0 	0 	0 	0 	0 	0 	
0 	0 	1 	0 	0 	0 	0 	0 	0 	0 	0 	
0 	0 	0 	2 	0 	0 	0 	0 	0 	0 	0 	
0 	0 	0 	0 	0 	0 	0 	0 	0 	0 	0 	
0 	0 	0 	0 	0 	0 	0 	0 	0 	0 	0 	
0 	0 	0 	0 	0 	0 	0 	0 	0 	0 	0 	
0 	0 	0 	0 	0 	0 	0 	0 	0 	0 	0 	
0 	0 	0 	0 	0 	0 	0 	0 	0 	0 	0 	
0 	0 	0 	0 	0 	0 	0 	0 	0 	0 	0 	
0 	0 	0 	0 	0 	0 	0 	0 	0 	0 	0 	
0 	0 	0 	0 	0 	0 	0 	0 	0 	0 	0
```





