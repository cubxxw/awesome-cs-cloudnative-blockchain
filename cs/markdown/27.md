+ [author(Github)](https://github.com)

# ç¬¬27èŠ‚ Spring Bootå‚è€ƒæŒ‡å—

+ [å›åˆ°ç›®å½•](../README.md)
+ [å›åˆ°é¡¹ç›®é¦–é¡µ](../../README.md)
+ [ä¸Šä¸€èŠ‚](26.md)
> â¤ï¸ğŸ’•ğŸ’•CSè‡ªå­¦æŒ‡å—,å¤§å­¦æ•™è‚²æ— è®ºæ˜¯æ·±åº¦è¿˜æ˜¯å¹¿åº¦éƒ½æ²¡æœ‰åŠæ³•æ”¯æ’‘æˆ‘ä»¬çš„èŒä¸šç´ å…»,è¿™ä¸ªæ¿å—ç®—æ˜¯è‡ªå·±åœ¨CSå­¦ä¹ ä¸­é¢å¤–è¡¥å……å’Œè®°å½•çš„ã€‚ä¸ªäººåšå®¢:[http://nsddd.top](http://nsddd.top/)
Spring Bootå‚è€ƒæŒ‡å—
===============

ä½œè€…
--

Phillip Webb, Dave Syer, Josh Long, StÃ©phane Nicoll, Rob Winch, Andy Wilkinson, Marcel Overdijk, Christian Dupuis, SÃ©bastien Deleuze, Michael Simons, Vedran PaviÄ‡, Jay Bryant, Madhura Bhave

2.1.1.RELEASE

ç‰ˆæƒæ‰€æœ‰Â©2012-2018

æœ¬æ–‡æ¡£çš„å‰¯æœ¬å¯ä¾›æ‚¨è‡ªå·±ä½¿ç”¨å¹¶åˆ†å‘ç»™ä»–äººï¼Œå‰ææ˜¯æ‚¨ä¸å¯¹æ­¤ç±»å‰¯æœ¬æ”¶å–ä»»ä½•è´¹ç”¨ï¼Œå¹¶ä¸”æ¯ä»½å‰¯æœ¬å‡åŒ…å«æœ¬ç‰ˆæƒå£°æ˜ï¼Œæ— è®ºæ˜¯ä»¥å°åˆ·ç‰ˆè¿˜æ˜¯ç”µå­ç‰ˆåˆ†å‘ã€‚

* * *

**ç›®å½•**

[I. Spring Bootæ–‡ä»¶](#boot-documentation)

[1.å…³äºæ–‡æ¡£](#boot-documentation-about)

[2.è·å¾—å¸®åŠ©](#boot-documentation-getting-help)

[3.ç¬¬ä¸€æ­¥](#boot-documentation-first-steps)

[4.ä½¿ç”¨Spring Boot](#_working_with_spring_boot)

[5.äº†è§£Spring BootåŠŸèƒ½](#_learning_about_spring_boot_features)

[6.è½¬å‘ç”Ÿäº§](#_moving_to_production)

[7.é«˜çº§ä¸»é¢˜](#_advanced_topics)

[IIã€‚å…¥é—¨](#getting-started)

[8.ä»‹ç»Spring Boot](#getting-started-introducing-spring-boot)

[9.ç³»ç»Ÿè¦æ±‚](#getting-started-system-requirements)

[9.1.Servletå®¹å™¨](#getting-started-system-requirements-servlet-containers)

[10.å®‰è£…Spring Boot](#getting-started-installing-spring-boot)

[10.1.Java Developerçš„å®‰è£…è¯´æ˜](#getting-started-installation-instructions-for-java)

[10.1.1.Mavenå®‰è£…](#getting-started-maven-installation)

[10.1.2.Gradleå®‰è£…](#getting-started-gradle-installation)

[10.2.å®‰è£…Spring Boot CLI](#getting-started-installing-the-cli)

[10.2.1.æ‰‹åŠ¨å®‰è£…](#getting-started-manual-cli-installation)

[10.2.2.ä½¿ç”¨SDKMANå®‰è£…ï¼](#getting-started-sdkman-cli-installation)

[10.2.3.OSX Homebrewå®‰è£…](#getting-started-homebrew-cli-installation)

[10.2.4.MacPortså®‰è£…](#getting-started-macports-cli-installation)

[10.2.5.å‘½ä»¤è¡Œå®Œæˆ](#getting-started-cli-command-line-completion)

[10.2.6.Windows Scoopå®‰è£…](#getting-started-scoop-cli-installation)

[10.2.7.å¿«é€Ÿå¯åŠ¨Spring CLIç¤ºä¾‹](#getting-started-cli-example)

[10.3.ä»æ—©æœŸç‰ˆæœ¬çš„Spring Bootå‡çº§](#getting-started-upgrading-from-an-earlier-version)

[11.å¼€å‘æ‚¨çš„ç¬¬ä¸€ä¸ªSpring Bootåº”ç”¨ç¨‹åº](#getting-started-first-application)

[11.1.åˆ›å»ºPOM](#getting-started-first-application-pom)

[11.2.æ·»åŠ Classpathä¾èµ–é¡¹](#getting-started-first-application-dependencies)

[11.3.ç¼–å†™ä»£ç ](#getting-started-first-application-code)

[11.3.1.@RestControllerå’Œ@RequestMapping Annotations](#getting-started-first-application-annotations)

[11.3.2.@EnableAutoConfigurationæ³¨é‡Š](#getting-started-first-application-auto-configuration)

[11.3.3.â€œä¸»è¦â€æ–¹æ³•](#getting-started-first-application-main-method)

[11.4.è¿è¡Œç¤ºä¾‹](#getting-started-first-application-run)

[11.5.åˆ›å»ºä¸€ä¸ªå¯æ‰§è¡Œçš„Jar](#getting-started-first-application-executable-jar)

[12.æ¥ä¸‹æ¥è¦é˜…è¯»çš„å†…å®¹](#getting-started-whats-next)

[IIIã€‚ä½¿ç”¨Spring Boot](#using-boot)

[13.æ„å»ºç³»ç»Ÿ](#using-boot-build-systems)

[13.1.ä¾èµ–ç®¡ç†](#using-boot-dependency-management)

[13.2.Maven](#using-boot-maven)

[13.2.1.ç»§æ‰¿Starter Parent](#using-boot-maven-parent-pom)

[13.2.2.åœ¨æ²¡æœ‰çˆ¶POMçš„æƒ…å†µä¸‹ä½¿ç”¨Spring Boot](#using-boot-maven-without-a-parent)

[13.2.3.ä½¿ç”¨Spring Boot Mavenæ’ä»¶](#using-boot-maven-plugin)

[13.3.Gradle](#using-boot-gradle)

[13.4.Ant](#using-boot-ant)

[13.5.Starters](#using-boot-starter)

[14.æ„å»ºæ‚¨çš„ä»£ç ](#using-boot-structuring-your-code)

[14.1.ä½¿ç”¨â€œé»˜è®¤â€åŒ…](#using-boot-using-the-default-package)

[14.2.æ‰¾åˆ°ä¸»åº”ç”¨ç¨‹åºç±»](#using-boot-locating-the-main-class)

[15.é…ç½®ç±»](#using-boot-configuration-classes)

[15.1.å¯¼å…¥å…¶ä»–é…ç½®ç±»](#using-boot-importing-configuration)

[15.2.å¯¼å…¥XMLé…ç½®](#using-boot-importing-xml-configuration)

[16.è‡ªåŠ¨é…ç½®](#using-boot-auto-configuration)

[16.1.é€æ­¥æ›´æ¢è‡ªåŠ¨é…ç½®](#using-boot-replacing-auto-configuration)

[16.2.ç¦ç”¨ç‰¹å®šçš„è‡ªåŠ¨é…ç½®ç±»](#using-boot-disabling-specific-auto-configuration)

[17. Spring Beanså’Œä¾èµ–æ³¨å…¥](#using-boot-spring-beans-and-dependency-injection)

[18.ä½¿ç”¨@SpringBootApplication Annotation](#using-boot-using-springbootapplication-annotation)

[19.è¿è¡Œæ‚¨çš„åº”ç”¨ç¨‹åº](#using-boot-running-your-application)

[19.1.ä»IDEè¿è¡Œ](#using-boot-running-from-an-ide)

[19.2.ä½œä¸ºæ‰“åŒ…åº”ç”¨ç¨‹åºè¿è¡Œ](#using-boot-running-as-a-packaged-application)

[19.3.ä½¿ç”¨Mavenæ’ä»¶](#using-boot-running-with-the-maven-plugin)

[19.4.ä½¿ç”¨Gradleæ’ä»¶](#using-boot-running-with-the-gradle-plugin)

[19.5.çƒ­æ’æ‹”](#using-boot-hot-swapping)

[20.å¼€å‘äººå‘˜å·¥å…·](#using-boot-devtools)

[20.1.Propertyé»˜è®¤å€¼](#using-boot-devtools-property-defaults)

[20.2.è‡ªåŠ¨é‡å¯](#using-boot-devtools-restart)

[20.2.1.è®°å½•æ¡ä»¶è¯„ä¼°ä¸­çš„æ›´æ”¹](#using-boot-devtools-restart-logging-condition-delta)

[20.2.2.ä¸åŒ…æ‹¬èµ„æº](#using-boot-devtools-restart-exclude)

[20.2.3.è§‚çœ‹å…¶ä»–è·¯å¾„](#using-boot-devtools-restart-additional-paths)

[20.2.4.ç¦ç”¨é‡å¯](#using-boot-devtools-restart-disable)

[20.2.5.ä½¿ç”¨è§¦å‘å™¨æ–‡ä»¶](#using-boot-devtools-restart-triggerfile)

[20.2.6.è‡ªå®šä¹‰é‡æ–°å¯åŠ¨ç±»åŠ è½½å™¨](#using-boot-devtools-customizing-classload)

[20.2.7.å·²çŸ¥é™åˆ¶](#using-boot-devtools-known-restart-limitations)

[20.3.LiveReload](#using-boot-devtools-livereload)

[20.4.å…¨å±€è®¾ç½®](#using-boot-devtools-globalsettings)

[20.5.è¿œç¨‹åº”ç”¨](#using-boot-devtools-remote)

[20.5.1.è¿è¡Œè¿œç¨‹å®¢æˆ·ç«¯åº”ç”¨ç¨‹åº](#_running_the_remote_client_application)

[20.5.2.è¿œç¨‹æ›´æ–°](#using-boot-devtools-remote-update)

[21.åŒ…è£…æ‚¨çš„ç”Ÿäº§åº”ç”¨ç¨‹åº](#using-boot-packaging-for-production)

[22.æ¥ä¸‹æ¥è¦é˜…è¯»çš„å†…å®¹](#using-boot-whats-next)

[IVã€‚Spring BootåŠŸèƒ½](#boot-features)

[23. SpringApplication](#boot-features-spring-application)

[23.1.å¯åŠ¨å¤±è´¥](#boot-features-startup-failure)

[23.2.è‡ªå®šä¹‰æ¨ªå¹…](#boot-features-banner)

[23.3.è‡ªå®šä¹‰SpringApplication](#boot-features-customizing-spring-application)

[23.4.Fluent Builder API](#boot-features-fluent-builder-api)

[23.5.åº”ç”¨ç¨‹åºäº‹ä»¶å’Œç›‘å¬å™¨](#boot-features-application-events-and-listeners)

[23.6.ç½‘ç»œç¯å¢ƒ](#boot-features-web-environment)

[23.7.è®¿é—®åº”ç”¨ç¨‹åºå‚æ•°](#boot-features-application-arguments)

[23.8.ä½¿ç”¨ApplicationRunneræˆ–CommandLineRunner](#boot-features-command-line-runner)

[23.9.ç”³è¯·é€€å‡º](#boot-features-application-exit)

[23.10.ç®¡ç†åŠŸèƒ½](#boot-features-application-admin)

[24.å¤–éƒ¨é…ç½®](#boot-features-external-config)

[24.1.é…ç½®éšæœºå€¼](#boot-features-external-config-random-values)

[24.2.è®¿é—®å‘½ä»¤è¡Œå±æ€§](#boot-features-external-config-command-line-args)

[24.3.åº”ç”¨ç¨‹åºPropertyæ–‡ä»¶](#boot-features-external-config-application-property-files)

[24.4.é…ç½®æ–‡ä»¶ç‰¹å®šçš„å±æ€§](#boot-features-external-config-profile-specific-properties)

[24.5.å±æ€§ä¸­çš„å ä½ç¬¦](#boot-features-external-config-placeholders-in-properties)

[24.6.åŠ å¯†å±æ€§](#boot-features-encrypting-properties)

[24.7.ä½¿ç”¨YAMLè€Œä¸æ˜¯å±æ€§](#boot-features-external-config-yaml)

[24.7.1.åŠ è½½YAML](#boot-features-external-config-loading-yaml)

[24.7.2.åœ¨Springç¯å¢ƒä¸­å°†YAMLå…¬å¼€ä¸ºå±æ€§](#boot-features-external-config-exposing-yaml-to-spring)

[24.7.3.å¤šä¸ªæ¡£æ¡ˆçš„YAMLæ–‡ä»¶](#boot-features-external-config-multi-profile-yaml)

[24.7.4.YAMLç¼ºç‚¹](#boot-features-external-config-yaml-shortcomings)

[24.8.ç±»å‹å®‰å…¨çš„é…ç½®å±æ€§](#boot-features-external-config-typesafe-configuration-properties)

[24.8.1.ç¬¬ä¸‰æ–¹é…ç½®](#boot-features-external-config-3rd-party-configuration)

[24.8.2.è½»æ¾ç»‘å®š](#boot-features-external-config-relaxed-binding)

[24.8.3.åˆå¹¶å¤æ‚ç±»å‹](#boot-features-external-config-complex-type-merge)

[24.8.4.å±æ€§è½¬æ¢](#boot-features-external-config-conversion)

[è½¬æ¢æŒç»­æ—¶é—´](#boot-features-external-config-conversion-duration)

[è½¬æ¢æ•°æ®å¤§å°](#boot-features-external-config-conversion-datasize)

[24.8.5.@ConfigurationPropertieséªŒè¯](#boot-features-external-config-validation)

[24.8.6.@ConfigurationProperties vs. @Value](#boot-features-external-config-vs-value)

[25.ç®€ä»‹](#boot-features-profiles)

[25.1.æ·»åŠ æ´»åŠ¨é…ç½®æ–‡ä»¶](#boot-features-adding-active-profiles)

[25.2.ä»¥ç¼–ç¨‹æ–¹å¼è®¾ç½®é…ç½®æ–‡ä»¶](#boot-features-programmatically-setting-profiles)

[25.3.é…ç½®æ–‡ä»¶ç‰¹å®šçš„é…ç½®æ–‡ä»¶](#boot-features-profile-specific-configuration)

[26.è®°å½•](#boot-features-logging)

[26.1.æ—¥å¿—æ ¼å¼](#boot-features-logging-format)

[26.2.æ§åˆ¶å°è¾“å‡º](#boot-features-logging-console-output)

[26.2.1.å½©è‰²ç¼–ç è¾“å‡º](#boot-features-logging-color-coded-output)

[26.3.æ–‡ä»¶è¾“å‡º](#boot-features-logging-file-output)

[26.4.æ—¥å¿—çº§åˆ«](#boot-features-custom-log-levels)

[26.5.æ—¥å¿—ç»„](#boot-features-custom-log-groups)

[26.6.è‡ªå®šä¹‰æ—¥å¿—é…ç½®](#boot-features-custom-log-configuration)

[26.7.Logback Extensions](#boot-features-logback-extensions)

[26.7.1.ç‰¹å®šäºé…ç½®æ–‡ä»¶çš„é…ç½®](#_profile_specific_configuration)

[26.7.2.ç¯å¢ƒå±æ€§](#_environment_properties)

[27. JSON](#boot-features-json)

[27.1.Jackson](#boot-features-json-jackson)

[27.2.GSON](#boot-features-json-gson)

[27.3.JSON-B](#boot-features-json-json-b)

[28.å¼€å‘Webåº”ç”¨ç¨‹åº](#boot-features-developing-web-applications)

[28.1.â€œSpring Web MVCæ¡†æ¶â€](#boot-features-spring-mvc)

[28.1.1.Spring MVCè‡ªåŠ¨é…ç½®](#boot-features-spring-mvc-auto-configuration)

[28.1.2.HttpMessageConverters](#boot-features-spring-mvc-message-converters)

[28.1.3.è‡ªå®šä¹‰JSONåºåˆ—åŒ–ç¨‹åºå’Œååºåˆ—åŒ–ç¨‹åº](#boot-features-json-components)

[28.1.4.MessageCodesResolverçš„ä¿¡æ¯](#boot-features-spring-message-codes)

[28.1.5.é™æ€å†…å®¹](#boot-features-spring-mvc-static-content)

[28.1.6.æ¬¢è¿é¡µé¢](#boot-features-spring-mvc-welcome-page)

[28.1.7.è‡ªå®šä¹‰Favicon](#boot-features-spring-mvc-favicon)

[28.1.8.è·¯å¾„åŒ¹é…å’Œå†…å®¹åå•†](#boot-features-spring-mvc-pathmatch)

[28.1.9.ConfigurableWebBindingInitializer](#boot-features-spring-mvc-web-binding-initializer)

[28.1.10.æ¨¡æ¿å¼•æ“](#boot-features-spring-mvc-template-engines)

[28.1.11.é”™è¯¯å¤„ç†](#boot-features-error-handling)

[è‡ªå®šä¹‰é”™è¯¯é¡µé¢](#boot-features-error-handling-custom-error-pages)

[å°†é”™è¯¯é¡µé¢æ˜ å°„åˆ°Spring MVCä¹‹å¤–](#boot-features-error-handling-mapping-error-pages-without-mvc)

[28.1.12.Spring HATEOAS](#boot-features-spring-hateoas)

[28.1.13.CORSæ”¯æŒ](#boot-features-cors)

[28.2.â€œSpring WebFluxæ¡†æ¶â€](#boot-features-webflux)

[28.2.1.Spring WebFluxè‡ªåŠ¨é…ç½®](#boot-features-webflux-auto-configuration)

[28.2.2.å¸¦æœ‰HttpMessageReaderså’ŒHttpMessageWritersçš„HTTPç¼–è§£ç å™¨](#boot-features-webflux-httpcodecs)

[28.2.3.é™æ€å†…å®¹](#boot-features-webflux-static-content)

[28.2.4.æ¨¡æ¿å¼•æ“](#boot-features-webflux-template-engines)

[28.2.5.é”™è¯¯å¤„ç†](#boot-features-webflux-error-handling)

[è‡ªå®šä¹‰é”™è¯¯é¡µé¢](#boot-features-webflux-error-handling-custom-error-pages)

[28.2.6.ç½‘ç»œè¿‡æ»¤å™¨](#boot-features-webflux-web-filters)

[28.3.JAX-RSå’ŒJersey](#boot-features-jersey)

[28.4.åµŒå…¥å¼Servletå®¹å™¨æ”¯æŒ](#boot-features-embedded-container)

[28.4.1.Servletï¼Œè¿‡æ»¤å™¨å’Œç›‘å¬å™¨](#boot-features-embedded-container-servlets-filters-listeners)

[æ³¨å†ŒServletï¼Œè¿‡æ»¤å™¨å’Œç›‘å¬å™¨Spring Beans](#boot-features-embedded-container-servlets-filters-listeners-beans)

[28.4.2.Servletä¸Šä¸‹æ–‡åˆå§‹åŒ–](#boot-features-embedded-container-context-initializer)

[æ‰«æServletï¼Œè¿‡æ»¤å™¨å’Œä¾¦å¬å™¨](#boot-features-embedded-container-servlets-filters-listeners-scanning)

[28.4.3.ServletWebServerApplicationContext](#boot-features-embedded-container-application-context)

[28.4.4.è‡ªå®šä¹‰åµŒå…¥å¼Servletå®¹å™¨](#boot-features-customizing-embedded-containers)

[ç¨‹åºåŒ–å®šåˆ¶](#boot-features-programmatic-embedded-container-customization)

[ç›´æ¥è‡ªå®šä¹‰ConfigurableServletWebServerFactory](#boot-features-customizing-configurableservletwebserverfactory-directly)

[28.4.5.JSPé™åˆ¶](#boot-features-jsp-limitations)

[28.5.åµŒå…¥å¼Reactive Serveræ”¯æŒ](#boot-features-reactive-server)

[28.6.Reactive Serverèµ„æºé…ç½®](#boot-features-reactive-server-resources)

[29.å®‰å…¨](#boot-features-security)

[29.1.MVCå®‰å…¨](#boot-features-security-mvc)

[29.2.WebFluxå®‰å…¨](#boot-features-security-webflux)

[29.3.OAuth2](#boot-features-security-oauth2)

[29.3.1.å®¢æˆ·](#boot-features-security-oauth2-client)

[OAuth2å…±åŒæä¾›è€…çš„å®¢æˆ·æ³¨å†Œ](#boot-features-security-oauth2-common-providers)

[29.3.2.èµ„æºæœåŠ¡å™¨](#boot-features-security-oauth2-server)

[29.3.3.æˆæƒæœåŠ¡å™¨](#_authorization_server)

[29.4.æ‰§è¡Œå™¨å®‰å…¨](#boot-features-security-actuator)

[29.4.1.è·¨ç«™ç‚¹è¯·æ±‚ä¼ªé€ ä¿æŠ¤](#boot-features-security-csrf)

[30.ä½¿ç”¨SQLæ•°æ®åº“](#boot-features-sql)

[30.1.é…ç½®DataSource](#boot-features-configure-datasource)

[30.1.1.åµŒå…¥å¼æ•°æ®åº“æ”¯æŒ](#boot-features-embedded-database-support)

[30.1.2.è¿æ¥åˆ°ç”Ÿäº§æ•°æ®åº“](#boot-features-connect-to-production-database)

[30.1.3.è¿æ¥åˆ°JNDIæ•°æ®æº](#boot-features-connecting-to-a-jndi-datasource)

[30.2.ä½¿ç”¨JdbcTemplate](#boot-features-using-jdbc-template)

[30.3.JPAå’ŒSpring Data JPA](#boot-features-jpa-and-spring-data)

[30.3.1.å®ä½“ç±»](#boot-features-entity-classes)

[30.3.2.Springæ•°æ®JPAå­˜å‚¨åº“](#boot-features-spring-data-jpa-repositories)

[30.3.3.åˆ›å»ºå’Œåˆ é™¤JPAæ•°æ®åº“](#boot-features-creating-and-dropping-jpa-databases)

[30.3.4.åœ¨Viewä¸­æ‰“å¼€EntityManager](#boot-features-jpa-in-web-environment)

[30.4.Springæ•°æ®JDBC](#boot-features-data-jdbc)

[30.5.ä½¿ç”¨H2çš„Webæ§åˆ¶å°](#boot-features-sql-h2-console)

[30.5.1.æ›´æ”¹H2æ§åˆ¶å°çš„è·¯å¾„](#boot-features-sql-h2-console-custom-path)

[30.6.ä½¿ç”¨jOOQ](#boot-features-jooq)

[30.6.1.ä»£ç ç”Ÿæˆ](#_code_generation)

[30.6.2.ä½¿ç”¨DSLContext](#_using_dslcontext)

[30.6.3.jOOQ SQLæ–¹è¨€](#_jooq_sql_dialect)

[30.6.4.è‡ªå®šä¹‰jOOQ](#_customizing_jooq)

[31.ä½¿ç”¨NoSQL Technologies](#boot-features-nosql)

[31.1.Redis](#boot-features-redis)

[31.1.1.è¿æ¥åˆ°Redis](#boot-features-connecting-to-redis)

[31.2.MongoDBçš„](#boot-features-mongodb)

[31.2.1.è¿æ¥åˆ°MongoDBæ•°æ®åº“](#boot-features-connecting-to-mongodb)

[31.2.2.MongoTemplate](#boot-features-mongo-template)

[31.2.3.Springæ•°æ®MongoDBå­˜å‚¨åº“](#boot-features-spring-data-mongo-repositories)

[31.2.4.åµŒå…¥å¼Mongo](#boot-features-mongo-embedded)

[31.3.Neo4jçš„](#boot-features-neo4j)

[31.3.1.è¿æ¥åˆ°Neo4jæ•°æ®åº“](#boot-features-connecting-to-neo4j)

[31.3.2.ä½¿ç”¨åµŒå…¥æ¨¡å¼](#boot-features-connecting-to-neo4j-embedded)

[31.3.3.Neo4jSession](#boot-features-neo4j-ogm-session)

[31.3.4.Springæ•°æ®Neo4jå­˜å‚¨åº“](#boot-features-spring-data-neo4j-repositories)

[31.4.Gemfire](#boot-features-gemfire)

[31.5.Solrçš„](#boot-features-solr)

[31.5.1.è¿æ¥åˆ°Solr](#boot-features-connecting-to-solr)

[31.5.2.Spring Data Solrå­˜å‚¨åº“](#boot-features-spring-data-solr-repositories)

[31.6.Elasticsearch](#boot-features-elasticsearch)

[31.6.1.é€šè¿‡RESTå®¢æˆ·ç«¯è¿æ¥åˆ°Elasticsearch](#boot-features-connecting-to-elasticsearch-rest)

[31.6.2.ä½¿ç”¨Jestè¿æ¥åˆ°Elasticsearch](#boot-features-connecting-to-elasticsearch-jest)

[31.6.3.ä½¿ç”¨Springæ•°æ®è¿æ¥åˆ°Elasticsearch](#boot-features-connecting-to-elasticsearch-spring-data)

[31.6.4.Spring Data Elasticsearchå­˜å‚¨åº“](#boot-features-spring-data-elasticsearch-repositories)

[31.7.Cassandra](#boot-features-cassandra)

[31.7.1.è¿æ¥åˆ°Cassandra](#boot-features-connecting-to-cassandra)

[31.7.2.Springæ•°æ®Cassandraå­˜å‚¨åº“](#boot-features-spring-data-cassandra-repositories)

[31.8.Couchbase](#boot-features-couchbase)

[31.8.1.è¿æ¥åˆ°Couchbase](#boot-features-connecting-to-couchbase)

[31.8.2.Springæ•°æ®Couchbaseå­˜å‚¨åº“](#boot-features-spring-data-couchbase-repositories)

[31.9.LDAP](#boot-features-ldap)

[31.9.1.è¿æ¥åˆ°LDAPæœåŠ¡å™¨](#boot-features-ldap-connecting)

[31.9.2.Springæ•°æ®LDAPå­˜å‚¨åº“](#boot-features-ldap-spring-data-repositories)

[31.9.3.åµŒå…¥å¼å†…å­˜LDAPæœåŠ¡å™¨](#boot-features-ldap-embedded)

[31.10.InfluxDB](#boot-features-influxdb)

[31.10.1.è¿æ¥åˆ°InfluxDB](#boot-features-connecting-to-influxdb)

[32.ç¼“å­˜](#boot-features-caching)

[32.1.æ”¯æŒçš„ç¼“å­˜æä¾›ç¨‹åº](#boot-features-caching-provider)

[32.1.1.é€šç”¨](#boot-features-caching-provider-generic)

[32.1.2.JCacheï¼ˆJSR-107ï¼‰](#boot-features-caching-provider-jcache)

[32.1.3.EhCache 2.x](#boot-features-caching-provider-ehcache2)

[32.1.4.Hazelcast](#boot-features-caching-provider-hazelcast)

[32.1.5.Infinispan](#boot-features-caching-provider-infinispan)

[32.1.6.Couchbase](#boot-features-caching-provider-couchbase)

[32.1.7.Redis](#boot-features-caching-provider-redis)

[32.1.8.Caffeine](#boot-features-caching-provider-caffeine)

[32.1.9.ç®€å•](#boot-features-caching-provider-simple)

[32.1.10.None](#boot-features-caching-provider-none)

[33.æ¶ˆæ¯ä¼ é€’](#boot-features-messaging)

[33.1.JMS](#boot-features-jms)

[33.1.1.ActiveMQæ”¯æŒ](#boot-features-activemq)

[33.1.2.Artemisæ”¯æŒ](#boot-features-artemis)

[33.1.3.ä½¿ç”¨JNDI ConnectionFactory](#boot-features-jms-jndi)

[33.1.4.å‘é€æ¶ˆæ¯](#boot-features-using-jms-sending)

[33.1.5.æ”¶åˆ°æ¶ˆæ¯](#boot-features-using-jms-receiving)

[33.2.AMQP](#boot-features-amqp)

[33.2.1.RabbitMQæ”¯æŒ](#boot-features-rabbitmq)

[33.2.2.å‘é€æ¶ˆæ¯](#boot-features-using-amqp-sending)

[33.2.3.æ”¶åˆ°æ¶ˆæ¯](#boot-features-using-amqp-receiving)

[33.3.Apache Kafkaæ”¯æŒ](#boot-features-kafka)

[33.3.1.å‘é€æ¶ˆæ¯](#boot-features-kafka-sending-a-message)

[33.3.2.æ”¶åˆ°æ¶ˆæ¯](#boot-features-kafka-receiving-a-message)

[33.3.3.å¡å¤«å¡æµ](#boot-features-kafka-streams)

[33.3.4.å…¶ä»–Kafka Properties](#boot-features-kafka-extra-props)

[34.ä½¿ç”¨`RestTemplate`è°ƒç”¨RESTæœåŠ¡](#boot-features-resttemplate)

[34.1.RestTemplateè‡ªå®šä¹‰](#boot-features-resttemplate-customization)

[35.ä½¿ç”¨`WebClient`è°ƒç”¨RESTæœåŠ¡](#boot-features-webclient)

[35.1.WebClientè¿è¡Œæ—¶](#boot-features-webclient-runtime)

[35.2.WebClientè‡ªå®šä¹‰](#boot-features-webclient-customization)

[36.éªŒè¯](#boot-features-validation)

[37.å‘é€ç”µå­é‚®ä»¶](#boot-features-email)

[38.ä½¿ç”¨JTAçš„åˆ†å¸ƒå¼äº‹åŠ¡](#boot-features-jta)

[38.1.ä½¿ç”¨Atomikosäº‹åŠ¡ç®¡ç†å™¨](#boot-features-jta-atomikos)

[38.2.ä½¿ç”¨Bitronixäº‹åŠ¡ç®¡ç†å™¨](#boot-features-jta-bitronix)

[38.3.ä½¿ç”¨Java EEæ‰˜ç®¡äº‹åŠ¡ç®¡ç†å™¨](#boot-features-jta-javaee)

[38.4.æ··åˆXAå’ŒéXA JMSè¿æ¥](#boot-features-jta-mixed-jms)

[38.5.æ”¯æŒæ›¿ä»£åµŒå…¥å¼äº‹åŠ¡ç®¡ç†å™¨](#boot-features-jta-supporting-alternative-embedded)

[39. Hazelcast](#boot-features-hazelcast)

[40. Quartz Scheduler](#boot-features-quartz)

[41.ä»»åŠ¡æ‰§è¡Œå’Œè°ƒåº¦](#boot-features-task-execution-scheduling)

[42. Spring Integration](#boot-features-integration)

[43. Spring Session](#boot-features-session)

[44.å¯¹JMXçš„ç›‘æµ‹å’Œç®¡ç†](#boot-features-jmx)

[45.æµ‹è¯•](#boot-features-testing)

[45.1.æµ‹è¯•èŒƒå›´ä¾èµ–æ€§](#boot-features-test-scope-dependencies)

[45.2.æµ‹è¯•Springåº”ç”¨ç¨‹åº](#boot-features-testing-spring-applications)

[45.3.æµ‹è¯•Spring Bootåº”ç”¨ç¨‹åº](#boot-features-testing-spring-boot-applications)

[45.3.1.æ£€æµ‹Webåº”ç”¨ç¨‹åºç±»å‹](#boot-features-testing-spring-boot-applications-detecting-web-app-type)

[45.3.2.æ£€æµ‹æµ‹è¯•é…ç½®](#boot-features-testing-spring-boot-applications-detecting-config)

[45.3.3.æ’é™¤æµ‹è¯•é…ç½®](#boot-features-testing-spring-boot-applications-excluding-config)

[45.3.4.ä½¿ç”¨æ¨¡æ‹Ÿç¯å¢ƒè¿›è¡Œæµ‹è¯•](#boot-features-testing-spring-boot-applications-testing-with-mock-environment)

[45.3.5.ä½¿ç”¨æ­£åœ¨è¿è¡Œçš„æœåŠ¡å™¨è¿›](#boot-features-testing-spring-boot-applications-testing-with-running-server)

[45.3.6.ä½¿ç”¨JMX](#boot-features-testing-spring-boot-applications-jmx)

[45.3.7.å˜²å¼„å’Œé—´è°Beans](#boot-features-testing-spring-boot-applications-mocking-beans)

[45.3.8.è‡ªåŠ¨é…ç½®çš„æµ‹è¯•](#boot-features-testing-spring-boot-applications-testing-autoconfigured-tests)

[45.3.9.è‡ªåŠ¨é…ç½®çš„JSONæµ‹è¯•](#boot-features-testing-spring-boot-applications-testing-autoconfigured-json-tests)

[45.3.10.è‡ªåŠ¨é…ç½®çš„Spring MVCæµ‹è¯•](#boot-features-testing-spring-boot-applications-testing-autoconfigured-mvc-tests)

[45.3.11.è‡ªåŠ¨é…ç½®Spring WebFluxæµ‹è¯•](#boot-features-testing-spring-boot-applications-testing-autoconfigured-webflux-tests)

[45.3.12.è‡ªåŠ¨é…ç½®çš„æ•°æ®JPAæµ‹è¯•](#boot-features-testing-spring-boot-applications-testing-autoconfigured-jpa-test)

[45.3.13.è‡ªåŠ¨é…ç½®çš„JDBCæµ‹è¯•](#boot-features-testing-spring-boot-applications-testing-autoconfigured-jdbc-test)

[45.3.14.è‡ªåŠ¨é…ç½®çš„æ•°æ®JDBCæµ‹è¯•](#boot-features-testing-spring-boot-applications-testing-autoconfigured-data-jdbc-test)

[45.3.15.è‡ªåŠ¨é…ç½®çš„jOOQæµ‹è¯•](#boot-features-testing-spring-boot-applications-testing-autoconfigured-jooq-test)

[45.3.16.è‡ªåŠ¨é…ç½®çš„æ•°æ®MongoDBæµ‹è¯•](#boot-features-testing-spring-boot-applications-testing-autoconfigured-mongo-test)

[45.3.17.è‡ªåŠ¨é…ç½®çš„æ•°æ®Neo4jæµ‹è¯•](#boot-features-testing-spring-boot-applications-testing-autoconfigured-neo4j-test)

[45.3.18.è‡ªåŠ¨é…ç½®çš„æ•°æ®Redisæµ‹è¯•](#boot-features-testing-spring-boot-applications-testing-autoconfigured-redis-test)

[45.3.19.è‡ªåŠ¨é…ç½®çš„æ•°æ®LDAPæµ‹è¯•](#boot-features-testing-spring-boot-applications-testing-autoconfigured-ldap-test)

[45.3.20.è‡ªåŠ¨é…ç½®çš„RESTå®¢æˆ·ç«¯](#boot-features-testing-spring-boot-applications-testing-autoconfigured-rest-client)

[45.3.21.è‡ªåŠ¨é…ç½®çš„Spring RESTæ–‡æ¡£æµ‹è¯•](#boot-features-testing-spring-boot-applications-testing-autoconfigured-rest-docs)

[ä½¿ç”¨Mock MVCè‡ªåŠ¨é…ç½®Spring RESTæ–‡æ¡£æµ‹è¯•](#boot-features-testing-spring-boot-applications-testing-autoconfigured-rest-docs-mock-mvc)

[ä½¿ç”¨REST Assuredè‡ªåŠ¨é…ç½®Spring RESTæ–‡æ¡£æµ‹è¯•](#boot-features-testing-spring-boot-applications-testing-autoconfigured-rest-docs-rest-assured)

[45.3.22.é¢å¤–çš„è‡ªåŠ¨é…ç½®å’Œåˆ‡ç‰‡](#boot-features-testing-spring-boot-applications-testing-auto-configured-additional-auto-config)

[45.3.23.ç”¨æˆ·é…ç½®å’Œåˆ‡ç‰‡](#boot-features-testing-spring-boot-applications-testing-user-configuration)

[45.3.24.ä½¿ç”¨Spockæµ‹è¯•Spring Bootåº”ç”¨ç¨‹åº](#boot-features-testing-spring-boot-applications-with-spock)

[45.4.æµ‹è¯•å®ç”¨ç¨‹åº](#boot-features-test-utilities)

[45.4.1.ConfigFileApplicationContextInitializer](#boot-features-configfileapplicationcontextinitializer-test-utility)

[45.4.2.TestPropertyValues](#boot-features-test-property-values)

[45.4.3.OutputCapture](#boot-features-output-capture-test-utility)

[45.4.4.TestRestTemplate](#boot-features-rest-templates-test-utility)

[46. WebSockets](#boot-features-websockets)

[47.ç½‘ç»œæœåŠ¡](#boot-features-webservices)

[48.ä½¿ç”¨`WebServiceTemplate`è°ƒç”¨WebæœåŠ¡](#boot-features-webservices-template)

[49.åˆ›å»ºè‡ªå·±çš„è‡ªåŠ¨é…ç½®](#boot-features-developing-auto-configuration)

[49.1.äº†è§£è‡ªåŠ¨é…ç½®Beans](#boot-features-understanding-auto-configured-beans)

[49.2.æ‰¾åˆ°è‡ªåŠ¨é…ç½®å€™é€‰è€…](#boot-features-locating-auto-configuration-candidates)

[49.3.æ¡ä»¶Annotations](#boot-features-condition-annotations)

[49.3.1.è¯¾ç¨‹æ¡ä»¶](#boot-features-class-conditions)

[49.3.2.Beanæ¡ä»¶](#boot-features-bean-conditions)

[49.3.3.Propertyæ¡ä»¶](#boot-features-property-conditions)

[49.3.4.èµ„æºæ¡ä»¶](#boot-features-resource-conditions)

[49.3.5.ç½‘ç»œåº”ç”¨æ¡ä»¶](#boot-features-web-application-conditions)

[49.3.6.SpELè¡¨è¾¾æ¡ä»¶](#boot-features-spel-conditions)

[49.4.æµ‹è¯•æ‚¨çš„è‡ªåŠ¨é…ç½®](#boot-features-test-autoconfig)

[49.4.1.æ¨¡æ‹ŸWebä¸Šä¸‹æ–‡](#_simulating_a_web_context)

[49.4.2.è¦†ç›–Classpath](#_overriding_the_classpath)

[49.5.åˆ›å»ºè‡ªå·±çš„åˆå­¦è€…](#boot-features-custom-starter)

[49.5.1.å‘½å](#boot-features-custom-starter-naming)

[49.5.2.`autoconfigure`æ¨¡å—](#boot-features-custom-starter-module-autoconfigure)

[49.5.3.å…¥é—¨æ¨¡å—](#boot-features-custom-starter-module-starter)

[50. Kotlinçš„æ”¯æŒ](#boot-features-kotlin)

[50.1.è¦æ±‚](#boot-features-kotlin-requirements)

[50.2.ç©ºå®‰å…¨](#boot-features-kotlin-null-safety)

[50.3.Kotlin API](#boot-features-kotlin-api)

[50.3.1.runApplication](#boot-features-kotlin-api-runapplication)

[50.3.2.æ‰©å±•](#boot-features-kotlin-api-extensions)

[50.4.ä¾èµ–ç®¡ç†](#boot-features-kotlin-dependency-management)

[50.5.`@ConfigurationProperties`](#boot-features-kotlin-configuration-properties)

[50.6.æµ‹è¯•](#boot-features-kotlin-testing)

[50.7.èµ„æº](#boot-features-kotlin-resources)

[50.7.1.è¿›ä¸€æ­¥é˜…è¯»](#boot-features-kotlin-resources-further-reading)

[50.7.2.ä¾‹å­](#boot-features-kotlin-resources-examples)

[51.æ¥ä¸‹æ¥è¦é˜…è¯»çš„å†…å®¹](#boot-features-whats-next)

[V. Spring Boot Actuatorï¼šç”Ÿäº§å°±ç»ªåŠŸèƒ½](#production-ready)

[52.å¯ç”¨ç”Ÿäº§å°±ç»ªåŠŸèƒ½](#production-ready-enabling)

[53.ç»ˆç‚¹](#production-ready-endpoints)

[53.1.å¯ç”¨ç«¯ç‚¹](#production-ready-endpoints-enabling-endpoints)

[53.2.å…¬å¼€ç«¯ç‚¹](#production-ready-endpoints-exposing-endpoints)

[53.3.ä¿æŠ¤HTTPç«¯ç‚¹](#production-ready-endpoints-security)

[53.4.é…ç½®ç«¯ç‚¹](#production-ready-endpoints-caching)

[53.5.ç”¨äºæ‰§è¡Œå™¨Webç«¯ç‚¹çš„è¶…åª’ä½“](#production-ready-endpoints-hypermedia)

[53.6.CORSæ”¯æŒ](#production-ready-endpoints-cors)

[53.7.å®ç°è‡ªå®šä¹‰ç«¯ç‚¹](#production-ready-endpoints-custom)

[53.7.1.æ¥æ”¶è¾“å…¥](#production-ready-endpoints-custom-input)

[è¾“å…¥ç±»å‹è½¬æ¢](#production-ready-endpoints-custom-input-conversion)

[53.7.2.è‡ªå®šä¹‰Webç«¯ç‚¹](#production-ready-endpoints-custom-web)

[Webç«¯ç‚¹è¯·æ±‚è°“è¯](#production-ready-endpoints-custom-web-predicate)

[è·¯å¾„](#production-ready-endpoints-custom-web-predicate-path)

[HTTPæ–¹æ³•](#production-ready-endpoints-custom-web-predicate-http-method)

[æ¶ˆè´¹](#production-ready-endpoints-custom-web-predicate-consumes)

[äº§ç”Ÿ](#production-ready-endpoints-custom-web-predicate-produces)

[Webç«¯ç‚¹å“åº”çŠ¶æ€](#production-ready-endpoints-custom-web-response-status)

[Webç«¯ç‚¹èŒƒå›´è¯·æ±‚](#production-ready-endpoints-custom-web-range-requests)

[Webç«¯ç‚¹å®‰å…¨](#production-ready-endpoints-custom-web-security)

[53.7.3.Servletç«¯ç‚¹](#production-ready-endpoints-custom-servlet)

[53.7.4.æ§åˆ¶å™¨ç«¯ç‚¹](#production-ready-endpoints-custom-controller)

[53.8.å¥åº·ä¿¡æ¯](#production-ready-health)

[53.8.1.è‡ªåŠ¨é…ç½®çš„HealthIndicators](#_auto_configured_healthindicators)

[53.8.2.ç¼–å†™è‡ªå®šä¹‰HealthIndicators](#_writing_custom_healthindicators)

[53.8.3.ååº”å¥åº·æŒ‡æ ‡](#reactive-health-indicators)

[53.8.4.è‡ªåŠ¨é…ç½®çš„ReactiveHealthIndicators](#_auto_configured_reactivehealthindicators)

[53.9.åº”ç”¨ä¿¡æ¯](#production-ready-application-info)

[53.9.1.è‡ªåŠ¨é…ç½®çš„InfoContributors](#production-ready-application-info-autoconfigure)

[53.9.2.å®šåˆ¶åº”ç”¨ä¿¡æ¯](#production-ready-application-info-env)

[53.9.3.Gitæäº¤ä¿¡æ¯](#production-ready-application-info-git)

[53.9.4.å»ºç«‹ä¿¡æ¯](#production-ready-application-info-build)

[53.9.5.ç¼–å†™è‡ªå®šä¹‰InfoContributors](#production-ready-application-info-custom)

[54.é€šè¿‡HTTPè¿›è¡Œç›‘æ§å’Œç®¡ç†](#production-ready-monitoring)

[54.1.è‡ªå®šä¹‰ç®¡ç†ç«¯ç‚¹è·¯å¾„](#production-ready-customizing-management-server-context-path)

[54.2.è‡ªå®šä¹‰ç®¡ç†æœåŠ¡å™¨ç«¯å£](#production-ready-customizing-management-server-port)

[54.3.é…ç½®ç‰¹å®šäºç®¡ç†çš„SSL](#production-ready-management-specific-ssl)

[54.4.è‡ªå®šä¹‰ç®¡ç†æœåŠ¡å™¨åœ°å€](#production-ready-customizing-management-server-address)

[54.5.ç¦ç”¨HTTPç«¯ç‚¹](#production-ready-disabling-http-endpoints)

[55.å¯¹JMXçš„ç›‘æµ‹å’Œç®¡ç†](#production-ready-jmx)

[55.1.è‡ªå®šä¹‰MBeanåç§°](#production-ready-custom-mbean-names)

[55.2.ç¦ç”¨JMXç«¯ç‚¹](#production-ready-disable-jmx-endpoints)

[55.3.é€šè¿‡HTTPä½¿ç”¨Jolokia for JMX](#production-ready-jolokia)

[55.3.1.å®šåˆ¶Jolokia](#production-ready-customizing-jolokia)

[55.3.2.ç¦ç”¨Jolokia](#production-ready-disabling-jolokia)

[56.è®°å½•å™¨](#production-ready-loggers)

[56.1.é…ç½®è®°å½•å™¨](#production-ready-logger-configuration)

[57.åº¦é‡æ ‡å‡†](#production-ready-metrics)

[57.1.å…¥é—¨](#production-ready-metrics-getting-started)

[57.2.æ”¯æŒçš„ç›‘æ§ç³»ç»Ÿ](#production-ready-metrics-export)

[57.2.1.AppOptics](#production-ready-metrics-export-appoptics)

[57.2.2.Atlas](#production-ready-metrics-export-atlas)

[57.2.3.Datadog](#production-ready-metrics-export-datadog)

[57.2.4.Dynatrace](#production-ready-metrics-export-dynatrace)

[57.2.5.Elastic](#production-ready-metrics-export-elastic)

[57.2.6.Ganglia](#production-ready-metrics-export-ganglia)

[57.2.7.Graphite](#production-ready-metrics-export-graphite)

[57.2.8.Humio](#production-ready-metrics-export-humio)

[57.2.9.Influx](#production-ready-metrics-export-influx)

[57.2.10.JMX](#production-ready-metrics-export-jmx)

[57.2.11.KairosDB](#production-ready-metrics-export-kairos)

[57.2.12.New Relic](#production-ready-metrics-export-newrelic)

[57.2.13.Prometheus](#production-ready-metrics-export-prometheus)

[57.2.14.SignalFx](#production-ready-metrics-export-signalfx)

[57.2.15.ç®€å•](#production-ready-metrics-export-simple)

[57.2.16.StatsD](#production-ready-metrics-export-statsd)

[57.2.17.Wavefront](#production-ready-metrics-export-wavefront)

[57.3.æ”¯æŒçš„æŒ‡æ ‡](#production-ready-metrics-meter)

[57.3.1.Spring MVCæŒ‡æ ‡](#production-ready-metrics-spring-mvc)

[57.3.2.Spring WebFluxæŒ‡æ ‡](#production-ready-metrics-web-flux)

[57.3.3.JerseyæœåŠ¡å™¨æŒ‡æ ‡](#production-ready-metrics-jersey-server)

[57.3.4.HTTPå®¢æˆ·ç«¯åº¦é‡æ ‡å‡†](#production-ready-metrics-http-clients)

[57.3.5.ç¼“å­˜æŒ‡æ ‡](#production-ready-metrics-cache)

[57.3.6.æ•°æ®æºåº¦é‡æ ‡å‡†](#production-ready-metrics-jdbc)

[57.3.7.Hibernateåº¦é‡æ ‡å‡†](#production-ready-metrics-hibernate)

[57.3.8.RabbitMQæŒ‡æ ‡](#production-ready-metrics-rabbitmq)

[57.4.æ³¨å†Œè‡ªå®šä¹‰æŒ‡æ ‡](#production-ready-metrics-custom)

[57.5.è‡ªå®šä¹‰ä¸ªåˆ«æŒ‡æ ‡](#production-ready-metrics-per-meter-properties)

[57.5.1.å¸¸ç”¨æ ‡ç­¾](#production-ready-metrics-common-tags)

[57.5.2.Per-meterå±æ€§](#_per_meter_properties)

[57.6.åº¦é‡æ ‡å‡†ç«¯ç‚¹](#production-ready-metrics-endpoint)

[58.å®¡è®¡](#production-ready-auditing)

[59. HTTPè·Ÿè¸ª](#production-ready-http-tracing)

[59.1.è‡ªå®šä¹‰HTTPè·Ÿè¸ª](#production-ready-http-tracing-custom)

[60.è¿‡ç¨‹ç›‘æµ‹](#production-ready-process-monitoring)

[60.1.æ‰©å±•é…ç½®](#production-ready-process-monitoring-configuration)

[60.2.ç¼–ç¨‹](#production-ready-process-monitoring-programmatically)

[61. Cloud Foundryæ”¯æŒ](#production-ready-cloudfoundry)

[61.1.ç¦ç”¨Extended Cloud Foundry Actuatoræ”¯æŒ](#production-ready-cloudfoundry-disable)

[61.2.Cloud Foundryè‡ªç­¾åè¯ä¹¦](#production-ready-cloudfoundry-ssl)

[61.3.è‡ªå®šä¹‰ä¸Šä¸‹æ–‡è·¯å¾„](#_custom_context_path)

[62.æ¥ä¸‹æ¥è¦é˜…è¯»çš„å†…å®¹](#production-ready-whats-next)

[VIã€‚éƒ¨ç½²Spring Bootåº”ç”¨ç¨‹åº](#deployment)

[63.éƒ¨ç½²åˆ°äº‘ç«¯](#cloud-deployment)

[63.1.Cloud Foundry](#cloud-deployment-cloud-foundry)

[63.1.1.ç»‘å®šåˆ°æœåŠ¡](#cloud-deployment-cloud-foundry-services)

[63.2.Herokuçš„](#cloud-deployment-heroku)

[63.3.OpenShift](#cloud-deployment-openshift)

[63.4.äºšé©¬é€Šç½‘ç»œæœåŠ¡ï¼ˆAWSï¼‰](#cloud-deployment-aws)

[63.4.1.AWS Elastic Beanstalk](#_aws_elastic_beanstalk)

[ä½¿ç”¨Tomcatå¹³å°](#_using_the_tomcat_platform)

[ä½¿ç”¨Java SEå¹³å°](#_using_the_java_se_platform)

[63.4.2.æ‘˜è¦](#_summary)

[63.5.Boxfuseå’Œäºšé©¬é€Šç½‘ç»œæœåŠ¡](#cloud-deployment-boxfuse)

[63.6.è°·æ­Œäº‘](#cloud-deployment-gae)

[64.å®‰è£…Spring Bootåº”ç”¨ç¨‹åº](#deployment-install)

[64.1.æ”¯æŒçš„æ“ä½œç³»ç»Ÿ](#deployment-install-supported-operating-systems)

[64.2.Unix / LinuxæœåŠ¡](#deployment-service)

[64.2.1.å®‰è£…ä¸º`init.d`æœåŠ¡ï¼ˆç³»ç»ŸVï¼‰](#deployment-initd-service)

[ä¿æŠ¤`init.d`æœåŠ¡](#deployment-initd-service-securing)

[64.2.2.å®‰è£…ä¸º`systemd`æœåŠ¡](#deployment-systemd-service)

[64.2.3.è‡ªå®šä¹‰å¯åŠ¨è„šæœ¬](#deployment-script-customization)

[å†™å…¥æ—¶è‡ªå®šä¹‰å¯åŠ¨è„šæœ¬](#deployment-script-customization-when-it-written)

[å®ƒè¿è¡Œæ—¶è‡ªå®šä¹‰è„šæœ¬](#deployment-script-customization-when-it-runs)

[64.3.Microsoft WindowsæœåŠ¡](#deployment-windows)

[65.æ¥ä¸‹æ¥è¦é˜…è¯»çš„å†…å®¹](#deployment-whats-next)

[ä¸ƒã€‚Spring Boot CLI](#cli)

[66.å®‰è£…CLI](#cli-installation)

[67.ä½¿ç”¨CLI](#cli-using-the-cli)

[67.1.ä½¿ç”¨CLIè¿è¡Œåº”ç”¨ç¨‹åº](#cli-run)

[67.1.1.æ¨æ–­â€œæŠ“ä½â€ä¾èµ–å…³ç³»](#cli-deduced-grab-annotations)

[67.1.2.æ¨æ–­â€œæŠ“ä½â€åæ ‡](#cli-default-grab-deduced-coordinates)

[67.1.3.é»˜è®¤å¯¼å…¥è¯­å¥](#cli-default-import-statements)

[67.1.4.è‡ªåŠ¨ä¸»è¦æ–¹æ³•](#cli-automatic-main-method)

[67.1.5.è‡ªå®šä¹‰ä¾èµ–å…³ç³»ç®¡ç†](#cli-default-grab-deduced-coordinates-custom-dependency-management)

[67.2.å¤šæºæ–‡ä»¶çš„åº”ç”¨ç¨‹åº](#cli-multiple-source-files)

[67.3.æ‰“åŒ…æ‚¨çš„åº”ç”¨ç¨‹åº](#cli-jar)

[67.4.åˆå§‹åŒ–ä¸€ä¸ªæ–°é¡¹ç›®](#cli-init)

[67.5.ä½¿ç”¨åµŒå…¥å¼Shell](#cli-shell)

[67.6.å°†æ‰©å±•æ·»åŠ åˆ°CLI](#cli-install-uninstall)

[68.ä½¿ç”¨Groovy Beans DSLå¼€å‘åº”ç”¨ç¨‹åº](#cli-groovy-beans-dsl)

[69.ä½¿ç”¨`settings.xml`é…ç½®CLI](#cli-maven-settings)

[70.æ¥ä¸‹æ¥è¦é˜…è¯»çš„å†…å®¹](#cli-whats-next)

[å…«ã€‚æ„å»ºå·¥å…·æ’ä»¶](#build-tool-plugins)

[71. Spring Boot Mavenæ’ä»¶](#build-tool-plugins-maven-plugin)

[71.1.åŒ…æ‹¬æ’ä»¶](#build-tool-plugins-include-maven-plugin)

[71.2.æ‰“åŒ…å¯æ‰§è¡Œæ–‡ä»¶å¤¹å’ŒWaræ–‡ä»¶](#build-tool-plugins-maven-packaging)

[72. Spring Boot Gradleæ’ä»¶](#build-tool-plugins-gradle-plugin)

[73. Spring Boot AntLibæ¨¡å—](#build-tool-plugins-antlib)

[73.1.Spring Boot Antä»»åŠ¡](#_spring_boot_ant_tasks)

[73.1.1.`spring-boot:exejar`](#spring-boot-ant-exejar)

[73.1.2.ä¾‹å­](#_examples)

[73.2.`spring-boot:findmainclass`](#spring-boot-ant-findmainclass)

[73.2.1.ä¾‹å­](#_examples_2)

[74.æ”¯æŒå…¶ä»–æ„å»ºç³»ç»Ÿ](#build-tool-plugins-other-build-systems)

[74.1.é‡æ–°åŒ…è£…æ¡£æ¡ˆ](#build-tool-plugins-repackaging-archives)

[74.2.åµŒå¥—åº“](#build-tool-plugins-nested-libraries)

[74.3.å¯»æ‰¾ä¸»ç±»](#build-tool-plugins-find-a-main-class)

[74.4.é‡æ–°æ‰“åŒ…å®æ–½ç¤ºä¾‹](#build-tool-plugins-repackage-implementation)

[75.æ¥ä¸‹æ¥è¦é˜…è¯»çš„å†…å®¹](#build-tool-plugins-whats-next)

[IXã€‚'å¦‚ä½•'æŒ‡å—](#howto)

[76. Spring Bootç”³è¯·](#howto-spring-boot-application)

[76.1.åˆ›å»ºè‡ªå·±çš„å¤±è´¥åˆ†æå™¨](#howto-failure-analyzer)

[76.2.è‡ªåŠ¨é…ç½®ç–‘éš¾è§£ç­”](#howto-troubleshoot-auto-configuration)

[76.3.åœ¨å¼€å§‹ä¹‹å‰è‡ªå®šä¹‰Environmentæˆ–ApplicationContext](#howto-customize-the-environment-or-application-context)

[76.4.æ„å»ºApplicationContextå±‚æ¬¡ç»“æ„ï¼ˆæ·»åŠ çˆ¶æˆ–æ ¹ä¸Šä¸‹æ–‡ï¼‰](#howto-build-an-application-context-hierarchy)

[76.5.åˆ›å»ºéWebåº”ç”¨ç¨‹åº](#howto-create-a-non-web-application)

[77.å±æ€§å’Œé…ç½®](#howto-properties-and-configuration)

[77.1.åœ¨æ„å»ºæ—¶è‡ªåŠ¨å±•å¼€å±æ€§](#howto-automatic-expansion)

[77.1.1.ä½¿ç”¨Mavenè‡ªåŠ¨Propertyæ‰©å±•](#howto-automatic-expansion-maven)

[77.1.2.ä½¿ç”¨Gradleè‡ªåŠ¨Propertyæ‰©å±•](#howto-automatic-expansion-gradle)

[77.2.å¤–åŒ–`SpringApplication`çš„é…ç½®](#howto-externalize-configuration)

[77.3.æ›´æ”¹åº”ç”¨ç¨‹åºçš„å¤–éƒ¨å±æ€§çš„ä½ç½®](#howto-change-the-location-of-external-properties)

[77.4.ä½¿ç”¨â€œçŸ­â€å‘½ä»¤è¡Œå‚æ•°](#howto-use-short-command-line-arguments)

[77.5.ä½¿ç”¨YAMLä½œä¸ºå¤–éƒ¨å±æ€§](#howto-use-yaml-for-external-properties)

[77.6.è®¾ç½®æ´»åŠ¨Spring Profiles](#howto-set-active-spring-profiles)

[77.7.æ ¹æ®ç¯å¢ƒæ›´æ”¹é…ç½®](#howto-change-configuration-depending-on-the-environment)

[77.8.å‘ç°å¤–éƒ¨å±æ€§çš„å†…ç½®é€‰é¡¹](#howto-discover-build-in-options-for-external-properties)

[78.åµŒå…¥å¼WebæœåŠ¡å™¨](#howto-embedded-web-servers)

[78.1.ä½¿ç”¨å…¶ä»–WebæœåŠ¡å™¨](#howto-use-another-web-server)

[78.2.ç¦ç”¨WebæœåŠ¡å™¨](#howto-disable-web-server)

[78.3.æ›´æ”¹HTTPç«¯å£](#howto-change-the-http-port)

[78.4.ä½¿ç”¨éšæœºæœªåˆ†é…çš„HTTPç«¯å£](#howto-user-a-random-unassigned-http-port)

[78.5.åœ¨è¿è¡Œæ—¶å‘ç°HTTPç«¯å£](#howto-discover-the-http-port-at-runtime)

[78.6.å¯ç”¨HTTPå“åº”å‹ç¼©](#how-to-enable-http-response-compression)

[78.7.é…ç½®SSL](#howto-configure-ssl)

[78.8.é…ç½®HTTP / 2](#howto-configure-http2)

[78.8.1.å¸¦æœ‰Undertowçš„HTTP / 2](#howto-configure-http2-undertow)

[78.8.2.å¸¦Jettyçš„HTTP / 2](#howto-configure-http2-jetty)

[78.8.3.ä¸Tomcatçš„HTTP / 2](#howto-configure-http2-tomcat)

[78.8.4.å¸¦æœ‰Reactor Nettyçš„HTTP / 2](#howto-configure-http2-netty)

[78.9.é…ç½®WebæœåŠ¡å™¨](#howto-configure-webserver)

[78.10.å‘åº”ç”¨ç¨‹åºæ·»åŠ Servletï¼Œè¿‡æ»¤å™¨æˆ–ç›‘å¬å™¨](#howto-add-a-servlet-filter-or-listener)

[78.10.1.ä½¿ç”¨Spring Beanæ·»åŠ Servletï¼Œè¿‡æ»¤å™¨æˆ–ç›‘å¬å™¨](#howto-add-a-servlet-filter-or-listener-as-spring-bean)

[ç¦ç”¨Servletæˆ–è¿‡æ»¤å™¨çš„æ³¨å†Œ](#howto-disable-registration-of-a-servlet-or-filter)

[78.10.2.ä½¿ç”¨ç±»è·¯å¾„æ‰«ææ·»åŠ Servletï¼Œè¿‡æ»¤å™¨å’Œä¾¦å¬å™¨](#howto-add-a-servlet-filter-or-listener-using-scanning)

[78.11.é…ç½®è®¿é—®æ—¥å¿—è®°å½•](#howto-configure-accesslogs)

[78.12.åœ¨å‰ç«¯ä»£ç†æœåŠ¡å™¨åé¢è¿è¡Œ](#howto-use-tomcat-behind-a-proxy-server)

[78.12.1.è‡ªå®šä¹‰Tomcatçš„ä»£ç†é…ç½®](#howto-customize-tomcat-behind-a-proxy-server)

[78.13.ä½¿ç”¨Tomcatå¯ç”¨å¤šä¸ªè¿æ¥å™¨](#howto-enable-multiple-connectors-in-tomcat)

[78.14.ä½¿ç”¨Tomcatçš„LegacyCookieProcessor](#howto-use-tomcat-legacycookieprocessor)

[78.15.ä½¿ç”¨Undertowå¯ç”¨å¤šä¸ªä¾¦å¬å™¨](#howto-enable-multiple-listeners-in-undertow)

[78.16.ä½¿ç”¨@ServerEndpointåˆ›å»ºWebSocketç«¯ç‚¹](#howto-create-websocket-endpoints-using-serverendpoint)

[79. Spring MVC](#howto-spring-mvc)

[79.1.ç¼–å†™JSON RESTæœåŠ¡](#howto-write-a-json-rest-service)

[79.2.ç¼–å†™XML RESTæœåŠ¡](#howto-write-an-xml-rest-service)

[79.3.è‡ªå®šä¹‰Jackson ObjectMapper](#howto-customize-the-jackson-objectmapper)

[79.4.è‡ªå®šä¹‰@ResponseBodyæ¸²æŸ“](#howto-customize-the-responsebody-rendering)

[79.5.å¤„ç†å¤šéƒ¨åˆ†æ–‡ä»¶ä¸Šè½½](#howto-multipart-file-upload-configuration)

[79.6.å…³é—­Spring MVC DispatcherServlet](#howto-switch-off-the-spring-mvc-dispatcherservlet)

[79.7.å…³é—­é»˜è®¤MVCé…ç½®](#howto-switch-off-default-mvc-configuration)

[79.8.è‡ªå®šä¹‰ViewResolvers](#howto-customize-view-resolvers)

[80.ä½¿ç”¨Springå®‰å…¨æ€§è¿›è¡Œæµ‹è¯•](#howto-use-test-with-spring-security)

[81. Jersey](#howto-jersey)

[81.1.ä½¿ç”¨Springå®‰å…¨æ€§ä¿æŠ¤Jerseyç«¯ç‚¹](#howto-jersey-spring-security)

[82. HTTPå®¢æˆ·ç«¯](#howto-http-clients)

[82.1.é…ç½®RestTemplateä»¥ä½¿ç”¨ä»£ç†](#howto-http-clients-proxy-configuration)

[83.è®°å½•](#howto-logging)

[83.1.é…ç½®Logging for Logging](#howto-configure-logback-for-logging)

[83.1.1.é…ç½®ä»…æ–‡ä»¶è¾“å‡ºçš„å›æº¯](#howto-configure-logback-for-logging-fileonly)

[83.2.é…ç½®Log4jè¿›è¡Œæ—¥å¿—è®°å½•](#howto-configure-log4j-for-logging)

[83.2.1.ä½¿ç”¨YAMLæˆ–JSONé…ç½®Log4j 2](#howto-configure-log4j-for-logging-yaml-or-json-config)

[84.æ•°æ®è®¿é—®](#howto-data-access)

[84.1.é…ç½®è‡ªå®šä¹‰æ•°æ®æº](#howto-configure-a-datasource)

[84.2.é…ç½®ä¸¤ä¸ªDataSource](#howto-two-datasources)

[84.3.ä½¿ç”¨Springæ•°æ®å­˜å‚¨åº“](#howto-use-spring-data-repositories)

[84.4.ä»Springé…ç½®ä¸­åˆ†ç¦»@Entityå®šä¹‰](#howto-separate-entity-definitions-from-spring-configuration)

[84.5.é…ç½®JPAå±æ€§](#howto-configure-jpa-properties)

[84.6.é…ç½®Hibernateå‘½åç­–ç•¥](#howto-configure-hibernate-naming-strategy)

[84.7.é…ç½®HibernateäºŒçº§ç¼“å­˜](#howto-configure-hibernate-second-level-caching)

[84.8.åœ¨Hibernateç»„ä»¶ä¸­ä½¿ç”¨ä¾èµ–æ³¨å…¥](#howto-use-dependency-injection-hibernate-components)

[84.9.ä½¿ç”¨è‡ªå®šä¹‰EntityManagerFactory](#howto-use-custom-entity-manager)

[84.10.ä½¿ç”¨ä¸¤ä¸ªEntityManagers](#howto-use-two-entity-managers)

[84.11.ä½¿ç”¨ä¼ ç»Ÿçš„`persistence.xml`æ–‡ä»¶](#howto-use-traditional-persistence-xml)

[84.12.ä½¿ç”¨Spring Data JPAå’ŒMongo Repositories](#howto-use-spring-data-jpa--and-mongo-repositories)

[84.13.è‡ªå®šä¹‰Springæ•°æ®çš„Webæ”¯æŒ](#howto-use-customize-spring-datas-web-support)

[84.14.å°†Springæ•°æ®å­˜å‚¨åº“å…¬å¼€ä¸ºRESTç«¯ç‚¹](#howto-use-exposing-spring-data-repositories-rest-endpoint)

[84.15.é…ç½®JPAä½¿ç”¨çš„ç»„ä»¶](#howto-configure-a-component-that-is-used-by-JPA)

[84.16.ä½¿ç”¨ä¸¤ä¸ªDataSourceé…ç½®jOOQ](#howto-configure-jOOQ-with-multiple-datasources)

[85.æ•°æ®åº“åˆå§‹åŒ–](#howto-database-initialization)

[85.1.ä½¿ç”¨JPAåˆå§‹åŒ–æ•°æ®åº“](#howto-initialize-a-database-using-jpa)

[85.2.ä½¿ç”¨Hibernateåˆå§‹åŒ–æ•°æ®åº“](#howto-initialize-a-database-using-hibernate)

[85.3.åˆå§‹åŒ–æ•°æ®åº“](#howto-initialize-a-database-using-spring-jdbc)

[85.4.åˆå§‹åŒ–Springæ‰¹å¤„ç†æ•°æ®åº“](#howto-initialize-a-spring-batch-database)

[85.5.ä½¿ç”¨æ›´é«˜çº§åˆ«çš„æ•°æ®åº“è¿ç§»å·¥å…·](#howto-use-a-higher-level-database-migration-tool)

[85.5.1.åœ¨å¯åŠ¨æ—¶æ‰§è¡ŒFlywayæ•°æ®åº“è¿ç§»](#howto-execute-flyway-database-migrations-on-startup)

[85.5.2.åœ¨å¯åŠ¨æ—¶æ‰§è¡ŒLiquibaseæ•°æ®åº“è¿ç§»](#howto-execute-liquibase-database-migrations-on-startup)

[86.æ¶ˆæ¯ä¼ é€’](#howto-messaging)

[86.1.ç¦ç”¨äº‹åŠ¡å¤„ç†çš„JMSä¼šè¯](#howto-jms-disable-transaction)

[87.æ‰¹é‡ç”³è¯·](#howto-batch-applications)

[87.1.åœ¨å¯åŠ¨æ—¶æ‰§è¡ŒSpringæ‰¹å¤„ç†ä½œä¸š](#howto-execute-spring-batch-jobs-on-startup)

[88.æ‰§è¡Œå™¨](#howto-actuator)

[88.1.æ›´æ”¹æ‰§è¡Œå™¨ç«¯ç‚¹çš„HTTPç«¯å£æˆ–åœ°å€](#howto-change-the-http-port-or-address-of-the-actuator-endpoints)

[88.2.è‡ªå®šä¹‰'whitelabel'é”™è¯¯é¡µé¢](#howto-customize-the-whitelabel-error-page)

[88.3.æ¶ˆé™¤æ˜æ™ºçš„ä»·å€¼è§‚](#howto-sanitize-sensible-values)

[89.å®‰å…¨](#howto-security)

[89.1.å…³é—­Spring Bootå®‰å…¨é…ç½®](#howto-switch-off-spring-boot-security-configuration)

[89.2.æ›´æ”¹UserDetailsSâ€‹â€‹erviceå’Œæ·»åŠ ç”¨æˆ·å¸æˆ·](#howto-change-the-user-details-service-and-add-user-accounts)

[89.3.åœ¨ä»£ç†æœåŠ¡å™¨åè¿è¡Œæ—¶å¯ç”¨HTTPS](#howto-enable-https)

[90.çƒ­æ’æ‹”](#howto-hotswapping)

[90.1.é‡æ–°åŠ è½½é™æ€å†…å®¹](#howto-reload-static-content)

[90.2.é‡æ–°åŠ è½½æ¨¡æ¿è€Œä¸é‡æ–°å¯åŠ¨å®¹å™¨](#howto-reload-thymeleaf-template-content)

[90.2.1.Thymeleafæ¨¡æ¿](#howto-reload-thymeleaf-content)

[90.2.2.FreeMarkeræ¨¡æ¿](#howto-reload-freemarker-content)

[90.2.3.Groovyæ¨¡æ¿](#howto-reload-groovy-template-content)

[90.3.å¿«é€Ÿç”³è¯·é‡æ–°å¯åŠ¨](#howto-reload-fast-restart)

[90.4.é‡æ–°åŠ è½½Javaç±»è€Œä¸é‡æ–°å¯åŠ¨å®¹å™¨](#howto-reload-java-classes-without-restarting)

[91.å»ºç«‹](#howto-build)

[91.1.ç”Ÿæˆæ„å»ºä¿¡æ¯](#howto-build-info)

[91.2.ç”ŸæˆGitä¿¡æ¯](#howto-git-info)

[91.3.è‡ªå®šä¹‰ä¾èµ–æ€§ç‰ˆæœ¬](#howto-customize-dependency-versions)

[91.4.ä½¿ç”¨Mavenåˆ›å»ºå¯æ‰§è¡ŒJAR](#howto-create-an-executable-jar-with-maven)

[91.5.ä½¿ç”¨Spring Bootåº”ç”¨ç¨‹åºä½œä¸ºä¾èµ–é¡¹](#howto-create-an-additional-executable-jar)

[91.6.å¯æ‰§è¡Œjarè¿è¡Œæ—¶æå–ç‰¹å®šåº“](#howto-extract-specific-libraries-when-an-executable-jar-runs)

[91.7.ä½¿ç”¨æ’é™¤é¡¹åˆ›å»ºä¸å¯æ‰§è¡Œçš„JAR](#howto-create-a-nonexecutable-jar)

[91.8.ä½¿ç”¨Mavenå¼€å§‹è¿œç¨‹è°ƒè¯•Spring Bootåº”ç”¨ç¨‹åº](#howto-remote-debug-maven-run)

[91.9.ä»Antæ„å»ºå¯æ‰§è¡Œæ–‡ä»¶ï¼Œè€Œä¸ä½¿ç”¨`spring-boot-antlib`](#howto-build-an-executable-archive-with-ant)

[92.ä¼ ç»Ÿéƒ¨ç½²](#howto-traditional-deployment)

[92.1.åˆ›å»ºå¯éƒ¨ç½²çš„Waræ–‡ä»¶](#howto-create-a-deployable-war-file)

[92.2.å°†ç°æœ‰åº”ç”¨ç¨‹åºè½¬æ¢ä¸ºSpring Boot](#howto-convert-an-existing-application-to-spring-boot)

[92.3.å°†WARéƒ¨ç½²åˆ°WebLogic](#howto-weblogic)

[92.4.ä½¿ç”¨Jedisä»£æ›¿Lettuce](#howto-use-jedis-instead-of-lettuce)

[X.é™„å½•](#appendix)

[A.å¸¸è§åº”ç”¨ç¨‹åºå±æ€§](#common-application-properties)

[B.é…ç½®å…ƒæ•°æ®](#configuration-metadata)

[B.1.å…ƒæ•°æ®æ ¼å¼](#configuration-metadata-format)

[B.1.1.ç»„å±æ€§](#configuration-metadata-group-attributes)

[B.1.2.Propertyå±æ€§](#configuration-metadata-property-attributes)

[B.1.3.æç¤ºå±æ€§](#configuration-metadata-hints-attributes)

[B.1.4.é‡å¤çš„å…ƒæ•°æ®é¡¹](#configuration-metadata-repeated-items)

[B.2.æä¾›æ‰‹åŠ¨æç¤º](#configuration-metadata-providing-manual-hints)

[B.2.1.ä»·å€¼æç¤º](#_value_hint)

[B.2.2.ä»·å€¼æä¾›è€…](#_value_providers)

[ä»»ä½•](#_any)

[è¯¾ç¨‹å‚è€ƒ](#_class_reference)

[å¤„ç†ä¸º](#_handle_as)

[è®°å½•å™¨åç§°](#_logger_name)

[Spring Beanå‚è€ƒ](#_spring_bean_reference)

[Springä¸ªäººèµ„æ–™åç§°](#_spring_profile_name)

[B.3.ä½¿ç”¨æ³¨é‡Šå¤„ç†å™¨ç”Ÿæˆè‡ªå·±çš„å…ƒæ•°æ®](#configuration-metadata-annotation-processor)

[B.3.1.åµŒå¥—å±æ€§](#configuration-metadata-nested-properties)

[B.3.2.æ·»åŠ å…¶ä»–å…ƒæ•°æ®](#configuration-metadata-additional-metadata)

[C.è‡ªåŠ¨é…ç½®ç±»](#auto-configuration-classes)

[C.1.æ¥è‡ªâ€œspring-boot-autoconfigureâ€æ¨¡å—](#auto-configuration-classes-from-autoconfigure-module)

[C.2.æ¥è‡ªâ€œspring-boot-actuator-autoconfigureâ€æ¨¡å—](#auto-configuration-classes-from-actuator)

[D.æµ‹è¯•è‡ªåŠ¨é…ç½®æ³¨é‡Š](#test-auto-configuration)

[E.å¯æ‰§è¡Œçš„Jaræ ¼å¼](#executable-jar)

[E.1.åµŒå¥—çš„JAR](#executable-jar-nested-jars)

[E.1.1.å¯æ‰§è¡ŒJaræ–‡ä»¶ç»“æ„](#executable-jar-jar-file-structure)

[E.1.2.å¯æ‰§è¡Œæ–‡ä»¶Waræ–‡ä»¶ç»“æ„](#executable-jar-war-file-structure)

[E.2.Spring Bootçš„â€œJarFileâ€è¯¾ç¨‹](#executable-jar-jarfile)

[E.2.1.ä¸æ ‡å‡†Javaâ€œJarFileâ€çš„å…¼å®¹æ€§](#executable-jar-jarfile-compatibility)

[E.3.å¯åŠ¨å¯æ‰§è¡Œçš„Jars](#executable-jar-launching)

[E.3.1.å¯åŠ¨å™¨æ¸…å•](#executable-jar-launcher-manifest)

[E.3.2.çˆ†ç‚¸æ¡£æ¡ˆ](#executable-jar-exploded-archives)

[E.4.`PropertiesLauncher`åŠŸèƒ½](#executable-jar-property-launcher-features)

[E.5.å¯æ‰§è¡Œçš„Jaré™åˆ¶](#executable-jar-restrictions)

[E.6.æ›¿ä»£å•ç½è§£å†³æ–¹æ¡ˆ](#executable-jar-alternatives)

[F.ä¾èµ–ç‰ˆæœ¬](#appendix-dependency-versions)

ç¬¬ä¸€éƒ¨åˆ†ã€‚Spring Bootæ–‡ä»¶
==================

æœ¬èŠ‚ç®€è¦æ¦‚è¿°äº†Spring Bootå‚è€ƒæ–‡æ¡£ã€‚å®ƒç”¨ä½œæ–‡æ¡£å…¶ä½™éƒ¨åˆ†çš„æ˜ å°„ã€‚

1.å…³äºæ–‡æ¡£
------

Spring Bootå‚è€ƒæŒ‡å—å¯ç”¨ä½œ

*   [HTML](https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/reference/html)
*   [PDF](https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/reference/pdf/spring-boot-reference.pdf)
*   [EPUB](https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/reference/epub/spring-boot-reference.epub)

æœ€æ–°çš„å‰¯æœ¬å¯åœ¨[docs.spring.io/spring-boot/docs/current/referenceä¸Šæ‰¾åˆ°](https://docs.spring.io/spring-boot/docs/current/reference)ã€‚

æœ¬æ–‡æ¡£çš„å‰¯æœ¬å¯ä¾›æ‚¨è‡ªå·±ä½¿ç”¨å¹¶åˆ†å‘ç»™ä»–äººï¼Œå‰ææ˜¯æ‚¨ä¸å¯¹æ­¤ç±»å‰¯æœ¬æ”¶å–ä»»ä½•è´¹ç”¨ï¼Œå¹¶ä¸”æ¯ä»½å‰¯æœ¬å‡åŒ…å«æœ¬ç‰ˆæƒå£°æ˜ï¼Œæ— è®ºæ˜¯ä»¥å°åˆ·ç‰ˆè¿˜æ˜¯ç”µå­ç‰ˆåˆ†å‘ã€‚

2.è·å¾—å¸®åŠ©
------

å¦‚æœæ‚¨åœ¨ä½¿ç”¨Spring Bootæ—¶é‡åˆ°é—®é¢˜ï¼Œæˆ‘ä»¬å¾ˆä¹æ„ä¸ºæ‚¨æä¾›å¸®åŠ©ã€‚

*   å°è¯•ä½¿ç”¨[æ–¹æ³•æ–‡æ¡£](#howto "ç¬¬ä¹éƒ¨åˆ†ã€‚ 'å¦‚ä½•'æŒ‡å—")ã€‚ä»–ä»¬ä¸ºæœ€å¸¸è§çš„é—®é¢˜æä¾›è§£å†³æ–¹æ¡ˆã€‚
*   äº†è§£SpringåŸºç¡€çŸ¥è¯†ã€‚Spring Bootä»¥è®¸å¤šå…¶ä»–Springé¡¹ç›®ä¸ºåŸºç¡€ã€‚æŸ¥çœ‹ [spring.io](https://spring.io)ç½‘ç«™ä»¥è·å–å¤§é‡å‚è€ƒæ–‡æ¡£ã€‚å¦‚æœæ‚¨ä»Springå¼€å§‹ï¼Œè¯·å°è¯•å…¶ä¸­ä¸€ä¸ª[æŒ‡å—](https://spring.io/guides)ã€‚
*   é—®ä¸€ä¸ªé—®é¢˜ã€‚æˆ‘ä»¬ç›‘æ§[stackoverflow.com](https://stackoverflow.com)ä»¥è·å–æ ‡è®°çš„é—®é¢˜[`spring-boot`](https://stackoverflow.com/tags/spring-boot)ã€‚
*   åœ¨[github.com/spring-projects/spring-boot/issuesä¸Š](https://github.com/spring-projects/spring-boot/issues)ä½¿ç”¨Spring BootæŠ¥å‘Šé”™è¯¯ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>æ‰€æœ‰Spring Bootéƒ½æ˜¯å¼€æºçš„ï¼ŒåŒ…æ‹¬æ–‡æ¡£ã€‚å¦‚æœæ‚¨å‘ç°æ–‡æ¡£å­˜åœ¨é—®é¢˜æˆ–æƒ³è¦æ”¹è¿›å®ƒä»¬ï¼Œè¯·<a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE" target="_top">å‚ä¸å…¶ä¸­</a>ã€‚</p></td></tr></tbody></table>

3.ç¬¬ä¸€æ­¥
-----

å¦‚æœæ‚¨å¼€å§‹ä½¿ç”¨Spring Bootæˆ–â€œSpringâ€ï¼Œè¯·ä»[ä»¥ä¸‹ä¸»é¢˜](#getting-started "ç¬¬äºŒéƒ¨åˆ†ã€‚ å…¥é—¨")å¼€å§‹ ï¼š

*   **ä»å¤´å¼€å§‹ï¼š** [æ¦‚è¿°](#getting-started-introducing-spring-boot "8.ä»‹ç»Spring Boot") | [è¦æ±‚](#getting-started-system-requirements "9.ç³»ç»Ÿè¦æ±‚") | [å®‰è£…](#getting-started-installing-spring-boot "10.å®‰è£…Spring Boot")
*   **æ•™ç¨‹ï¼š** [ç¬¬1éƒ¨åˆ†](#getting-started-first-application "11.å¼€å‘æ‚¨çš„ç¬¬ä¸€ä¸ªSpring Bootåº”ç”¨ç¨‹åº") | [ç¬¬2éƒ¨åˆ†](#getting-started-first-application-code "11.3ç¼–å†™ä»£ç ")
*   **è¿è¡Œä½ çš„ä¾‹å­ï¼š** [ç¬¬1éƒ¨åˆ†](#getting-started-first-application-run "11.4è¿è¡Œç¤ºä¾‹") | [ç¬¬2éƒ¨åˆ†](#getting-started-first-application-executable-jar "11.5åˆ›å»ºä¸€ä¸ªå¯æ‰§è¡Œçš„Jar")

4.ä½¿ç”¨Spring Boot
---------------

å‡†å¤‡å¼€å§‹ä½¿ç”¨Spring Bootï¼Ÿ[æˆ‘ä»¬ä¸ºæ‚¨æä¾›](#using-boot "ç¬¬ä¸‰éƒ¨åˆ†ã€‚ ä½¿ç”¨Spring Boot")ï¼š

*   **æ„å»ºç³»ç»Ÿï¼š** [Maven](#using-boot-maven "13.2 Maven") | [Gradle](#using-boot-gradle "13.3 Gradle") | [Ant](#using-boot-ant "13.4èš‚èš") | [Starters](#using-boot-starter "13.5åˆå­¦è€…")
*   **æœ€ä½³å®è·µï¼š** [ä»£ç ç»“æ„](#using-boot-structuring-your-code "14.æ„å»ºæ‚¨çš„ä»£ç ") | [@Configuration](#using-boot-configuration-classes "15.é…ç½®ç±»") | [@EnableAutoConfiguration](#using-boot-auto-configuration "16.è‡ªåŠ¨é…ç½®") | [Beanså’Œä¾èµ–æ³¨å…¥](#using-boot-spring-beans-and-dependency-injection "17. Spring Beanså’Œä¾èµ–æ³¨å…¥")
*   **è¿è¡Œä»£ç ** [IDE](#using-boot-running-from-an-ide "19.1ä»IDEè¿è¡Œ") | [æ‰“åŒ…](#using-boot-running-as-a-packaged-application "19.2ä½œä¸ºæ‰“åŒ…åº”ç”¨ç¨‹åºè¿è¡Œ") | [Maven](#using-boot-running-with-the-maven-plugin "19.3ä½¿ç”¨Mavenæ’ä»¶") | [Gradle](#using-boot-running-with-the-gradle-plugin "19.4ä½¿ç”¨Gradleæ’ä»¶")
*   **æ‰“åŒ…æ‚¨çš„åº”ç”¨ç¨‹åºï¼š** [ç”Ÿäº§ç½](#using-boot-packaging-for-production "21.åŒ…è£…æ‚¨çš„ç”Ÿäº§åº”ç”¨ç¨‹åº")
*   **Spring Boot CLIï¼š** [ä½¿ç”¨CLI](#cli "ç¬¬ä¸ƒéƒ¨åˆ†ã€‚ Spring Boot CLI")

5.äº†è§£Spring BootåŠŸèƒ½
-----------------

éœ€è¦æœ‰å…³Spring Bootæ ¸å¿ƒåŠŸèƒ½çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Ÿ [ä»¥ä¸‹å†…å®¹é€‚åˆæ‚¨](#boot-features "ç¬¬å››éƒ¨åˆ†ã€‚ Spring BootåŠŸèƒ½")ï¼š

*   **æ ¸å¿ƒåŠŸèƒ½ï¼š** [SpringApplication](#boot-features-spring-application "23. SpringApplication") | [å¤–éƒ¨é…ç½®](#boot-features-external-config "24.å¤–éƒ¨é…ç½®") | [ä¸ªäººèµ„æ–™](#boot-features-profiles "25.ç®€ä»‹") | [è®°å½•](#boot-features-logging "26.è®°å½•")
*   **Webåº”ç”¨ç¨‹åºï¼š** [MVC](#boot-features-spring-mvc "28.1â€œSpring Web MVCæ¡†æ¶â€") | [åµŒå…¥å¼å®¹å™¨](#boot-features-embedded-container "28.4åµŒå…¥å¼Servletå®¹å™¨æ”¯æŒ")
*   **ä½¿ç”¨æ•°æ®ï¼š** [SQL](#boot-features-sql "30.ä½¿ç”¨SQLæ•°æ®åº“") | [NO-SQL](#boot-features-nosql "31.ä½¿ç”¨NoSQL Technologies")
*   **æ¶ˆæ¯ï¼š** [æ¦‚è¿°](#boot-features-messaging "33.æ¶ˆæ¯ä¼ é€’") | [JMS](#boot-features-jms "33.1 JMS")
*   **æµ‹è¯•ï¼š** [æ¦‚è¿°](#boot-features-testing "45.æµ‹è¯•") | [å¯åŠ¨åº”ç”¨ç¨‹åº](#boot-features-testing-spring-boot-applications "45.3æµ‹è¯•Spring Bootåº”ç”¨ç¨‹åº") | [utilsçš„](#boot-features-test-utilities "45.4æµ‹è¯•å®ç”¨ç¨‹åº")
*   **æ‰©å±•ï¼š** [è‡ªåŠ¨é…ç½®](#boot-features-developing-auto-configuration "49.åˆ›å»ºè‡ªå·±çš„è‡ªåŠ¨é…ç½®") | [@æ¡ä»¶](#boot-features-condition-annotations "49.3æ¡ä»¶æ³¨é‡Š")

6.è½¬å‘ç”Ÿäº§
------

å½“æ‚¨å‡†å¤‡å°†Spring Bootåº”ç”¨ç¨‹åºæ¨å‘ç”Ÿäº§æ—¶ï¼Œæˆ‘ä»¬æœ‰ [ä¸€äº›](#production-ready "ç¬¬äº”éƒ¨åˆ†å¼¹ç°§å¯åŠ¨æ‰§è¡Œå™¨ï¼šç”Ÿäº§å°±ç»ªåŠŸèƒ½")æ‚¨å¯èƒ½å–œæ¬¢çš„[æŠ€å·§](#production-ready "PartÂ V.Â Spring Boot Actuator: Production-ready features")ï¼š

*   **ç®¡ç†ç«¯ç‚¹ï¼š** [æ¦‚è¿°](#production-ready-endpoints "53.ç»ˆç‚¹") | [å®šåˆ¶](#)
*   **è¿æ¥é€‰é¡¹ï¼š** [HTTP](#production-ready-monitoring "54.é€šè¿‡HTTPè¿›è¡Œç›‘æ§å’Œç®¡ç†") | [JMX](#production-ready-jmx "55.å¯¹JMXçš„ç›‘æµ‹å’Œç®¡ç†")
*   **ç›‘æ§ï¼š** [æŒ‡æ ‡](#production-ready-metrics "57.åº¦é‡æ ‡å‡†") | [å®¡è®¡](#production-ready-auditing "58.å®¡è®¡") | [è¿½è¸ª](#) | [å¤„ç†](#production-ready-process-monitoring "60.è¿‡ç¨‹ç›‘æµ‹")

7.é«˜çº§ä¸»é¢˜
------

æœ€åï¼Œæˆ‘ä»¬ä¸ºæ›´é«˜çº§çš„ç”¨æˆ·æä¾›äº†ä¸€äº›ä¸»é¢˜ï¼š

*   **Spring Bootåº”ç”¨ç¨‹åºéƒ¨ç½²ï¼š** [äº‘éƒ¨ç½²](#cloud-deployment "63.éƒ¨ç½²åˆ°äº‘ç«¯") | [OSæœåŠ¡](#deployment-service "64.2 Unix / LinuxæœåŠ¡")
*   **æ„å»ºå·¥å…·æ’ä»¶ï¼š** [Maven](#build-tool-plugins-maven-plugin "71. Spring Boot Mavenæ’ä»¶") | [Gradle](#build-tool-plugins-gradle-plugin "72. Spring Boot Gradleæ’ä»¶")
*   **é™„å½•ï¼š** [åº”ç”¨ç¨‹åºå±æ€§](#common-application-properties "é™„å½•A.å¸¸ç”¨åº”ç”¨ç¨‹åºå±æ€§") | [è‡ªåŠ¨é…ç½®ç±»](#auto-configuration-classes "é™„å½•C.è‡ªåŠ¨é…ç½®ç±»") | [å¯æ‰§è¡Œçš„ç½å­](#executable-jar "é™„å½•E.å¯æ‰§è¡Œçš„Jaræ ¼å¼")

ç¬¬äºŒéƒ¨åˆ†ã€‚å…¥é—¨
=======

å¦‚æœæ‚¨å¼€å§‹ä½¿ç”¨Spring Bootæˆ–â€œSpringâ€ï¼Œè¯·é¦–å…ˆé˜…è¯»æœ¬èŠ‚ã€‚å®ƒå›ç­”äº†åŸºæœ¬çš„â€œä»€ä¹ˆï¼Ÿâ€ï¼Œâ€œå¦‚ä½•ï¼Ÿâ€å’Œâ€œä¸ºä»€ä¹ˆï¼Ÿâ€çš„é—®é¢˜ã€‚å®ƒåŒ…æ‹¬å¯¹Spring Bootçš„ä»‹ç»ä»¥åŠå®‰è£…è¯´æ˜ã€‚ç„¶åï¼Œæˆ‘ä»¬å°†å¼•å¯¼æ‚¨æ„å»ºæ‚¨çš„ç¬¬ä¸€ä¸ªSpring Bootåº”ç”¨ç¨‹åºï¼Œå¹¶åœ¨æˆ‘ä»¬è®¨è®ºæ—¶è®¨è®ºä¸€äº›æ ¸å¿ƒåŸåˆ™ã€‚

8.ä»‹ç»Spring Boot
---------------

Spring Bootå¯ä»¥è½»æ¾åˆ›å»ºå¯ä»¥è¿è¡Œçš„ç‹¬ç«‹çš„ï¼ŒåŸºäºç”Ÿäº§çº§Springçš„åº”ç”¨ç¨‹åºã€‚æˆ‘ä»¬å¯¹Springå¹³å°å’Œç¬¬ä¸‰æ–¹åº“è¿›è¡Œäº†è‡ªä»¥ä¸ºæ˜¯çš„è§‚ç‚¹ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥å°½é‡å°‘å¼€å§‹ã€‚å¤§å¤šæ•°Spring Bootåº”ç”¨ç¨‹åºéœ€è¦éå¸¸å°‘çš„Springé…ç½®ã€‚

æ‚¨å¯ä»¥ä½¿ç”¨Spring Bootåˆ›å»ºå¯ä»¥ä½¿ç”¨`java -jar`æˆ–æ›´å¤šä¼ ç»Ÿæˆ˜äº‰éƒ¨ç½²å¯åŠ¨çš„Javaåº”ç”¨ç¨‹åºã€‚æˆ‘ä»¬è¿˜æä¾›äº†ä¸€ä¸ªè¿è¡Œâ€œspringè„šæœ¬â€çš„å‘½ä»¤è¡Œå·¥å…·ã€‚

æˆ‘ä»¬çš„ä¸»è¦ç›®æ ‡æ˜¯ï¼š

*   ä¸ºæ‰€æœ‰Springå¼€å‘æä¾›ä»æ ¹æœ¬ä¸Šæ›´å¿«ä¸”å¯å¹¿æ³›è®¿é—®çš„å…¥é—¨ä½“éªŒã€‚
*   å¼€ç®±å³ç”¨ï¼Œä½†éšç€éœ€æ±‚å¼€å§‹åç¦»é»˜è®¤å€¼è€Œè¿…é€Ÿæ‘†è„±å›°å¢ƒã€‚
*   æä¾›å¤§å‹é¡¹ç›®ï¼ˆä¾‹å¦‚åµŒå…¥å¼æœåŠ¡å™¨ï¼Œå®‰å…¨æ€§ï¼Œåº¦é‡æ ‡å‡†ï¼Œè¿è¡ŒçŠ¶å†µæ£€æŸ¥å’Œå¤–éƒ¨åŒ–é…ç½®ï¼‰é€šç”¨çš„ä¸€ç³»åˆ—éåŠŸèƒ½æ€§åŠŸèƒ½ã€‚
*   ç»å¯¹æ²¡æœ‰ä»£ç ç”Ÿæˆï¼Œä¹Ÿä¸éœ€è¦XMLé…ç½®ã€‚

9.ç³»ç»Ÿè¦æ±‚
------

Spring Boot 2.1.1.RELEASEéœ€è¦[Java 8](https://www.java.com)å¹¶ä¸”ä¸Java 11å…¼å®¹ï¼ˆåŒ…æ‹¬åœ¨å†…ï¼‰ã€‚[Springæ¡†æ¶5.1.3.RELEASE](https://docs.spring.io/spring/docs/5.1.3.RELEASE/spring-framework-reference/) æˆ–ä»¥ä¸Šä¹Ÿæ˜¯å¿…éœ€çš„ã€‚

ä¸ºä»¥ä¸‹æ„å»ºå·¥å…·æä¾›äº†æ˜¾å¼æ„å»ºæ”¯æŒï¼š

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">æ„å»ºå·¥å…·</th><th style="border-bottom: 1px solid ; " align="left" valign="top">ç‰ˆ</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Maven</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.3+</p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p>Gradle</p></td><td style="" align="left" valign="top" class="notranslate"><p>4.4+</p></td></tr></tbody></table>

9.1 Servletå®¹å™¨
-------------

Spring Bootæ”¯æŒä»¥ä¸‹åµŒå…¥å¼servletå®¹å™¨ï¼š

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">åç§°</th><th style="border-bottom: 1px solid ; " align="left" valign="top">Servletç‰ˆæœ¬</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Tomcat 9.0</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Jetty 9.4</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.1</p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p>Undertow 2.0</p></td><td style="" align="left" valign="top" class="notranslate"><p>4.0</p></td></tr></tbody></table>

æ‚¨è¿˜å¯ä»¥å°†Spring Bootåº”ç”¨ç¨‹åºéƒ¨ç½²åˆ°ä»»ä½•Servlet 3.1+å…¼å®¹å®¹å™¨ã€‚

10.å®‰è£…Spring Boot
----------------

Spring Bootå¯ä»¥ä¸â€œç»å…¸â€Javaå¼€å‘å·¥å…·ä¸€èµ·ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå‘½ä»¤è¡Œå·¥å…·å®‰è£…ã€‚æ— è®ºå“ªç§æ–¹å¼ï¼Œæ‚¨éƒ½éœ€è¦[Java SDK v1.8](https://www.java.com)æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚åœ¨å¼€å§‹ä¹‹å‰ï¼Œæ‚¨åº”è¯¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ£€æŸ¥å½“å‰çš„Javaå®‰è£…ï¼š

```
$ java -version
```

å¦‚æœæ‚¨ä¸ç†Ÿæ‚‰Javaå¼€å‘ï¼Œæˆ–è€…æƒ³è¦è¯•ç”¨Spring Bootï¼Œåˆ™å¯èƒ½éœ€è¦å…ˆå°è¯•[Spring Boot CLI](#getting-started-installing-the-cli "10.2å®‰è£…Spring Boot CLI")ï¼ˆå‘½ä»¤è¡Œç•Œé¢ï¼‰ã€‚å¦åˆ™ï¼Œè¯·ç»§ç»­é˜…è¯»â€œç»å…¸â€å®‰è£…è¯´æ˜ã€‚

10.1 Java Developerçš„å®‰è£…è¯´æ˜
------------------------

æ‚¨å¯ä»¥åƒä½¿ç”¨ä»»ä½•æ ‡å‡†Javaåº“ä¸€æ ·ä½¿ç”¨Spring Bootã€‚ä¸ºæ­¤ï¼Œè¯·åœ¨ç±»è·¯å¾„ä¸­åŒ…å«ç›¸åº”çš„`spring-boot-*.jar`æ–‡ä»¶ã€‚Spring Bootä¸éœ€è¦ä»»ä½•ç‰¹æ®Šå·¥å…·é›†æˆï¼Œå› æ­¤æ‚¨å¯ä»¥ä½¿ç”¨ä»»ä½•IDEæˆ–æ–‡æœ¬ç¼–è¾‘å™¨ã€‚æ­¤å¤–ï¼ŒSpring Bootåº”ç”¨ç¨‹åºæ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«ä¹‹å¤„ï¼Œå› æ­¤æ‚¨å¯ä»¥åƒè¿è¡Œä»»ä½•å…¶ä»–Javaç¨‹åºä¸€æ ·è¿è¡Œå’Œè°ƒè¯•Springå¼•å¯¼åº”ç”¨ç¨‹åºã€‚

è™½ç„¶æ‚¨_å¯ä»¥_å¤åˆ¶Spring Bootç½ï¼Œä½†æˆ‘ä»¬é€šå¸¸å»ºè®®æ‚¨ä½¿ç”¨æ”¯æŒä¾èµ–å…³ç³»ç®¡ç†çš„æ„å»ºå·¥å…·ï¼ˆä¾‹å¦‚Mavenæˆ–Gradleï¼‰ã€‚

### 10.1.1 Mavenå®‰è£…

Spring Bootä¸Apache Maven 3.3æˆ–æ›´é«˜ç‰ˆæœ¬å…¼å®¹ã€‚å¦‚æœæ‚¨å°šæœªå®‰è£…Mavenï¼Œåˆ™å¯ä»¥æŒ‰ç…§[maven.apache.orgä¸Š](https://maven.apache.org)çš„è¯´æ˜è¿›è¡Œæ“ä½œã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>åœ¨è®¸å¤šæ“ä½œç³»ç»Ÿä¸Šï¼ŒMavenå¯ä»¥ä¸è½¯ä»¶åŒ…ç®¡ç†å™¨ä¸€èµ·å®‰è£…ã€‚å¦‚æœæ‚¨ä½¿ç”¨OSX Homebrewï¼Œè¯·å°è¯•<code class="literal" i="64">brew install maven</code>ã€‚Ubuntuç”¨æˆ·å¯ä»¥è¿è¡Œ<code class="literal" i="65">sudo apt-get install maven</code>ã€‚ä½¿ç”¨<a class="link" href="https://chocolatey.org/" target="_top">Chocolateyçš„</a> Windowsç”¨æˆ·å¯ä»¥ä»æå‡ï¼ˆç®¡ç†å‘˜ï¼‰æç¤ºç¬¦è¿è¡Œ<code class="literal" i="66">choco install maven</code>ã€‚</p></td></tr></tbody></table>

Spring Bootä¾èµ–é¡¹ä½¿ç”¨`org.springframework.boot` `groupId`ã€‚é€šå¸¸ï¼Œæ‚¨çš„Maven POMæ–‡ä»¶ç»§æ‰¿è‡ª`spring-boot-starter-parent`é¡¹ç›®ï¼Œå¹¶å£°æ˜å¯¹ä¸€ä¸ªæˆ–å¤šä¸ª[â€œStartersâ€çš„](#using-boot-starter "13.5åˆå­¦è€…")ä¾èµ–å…³ç³»ã€‚Spring Bootè¿˜æä¾›äº†ä¸€ä¸ªå¯é€‰çš„ [Mavenæ’ä»¶](#build-tool-plugins-maven-plugin "71. Spring Boot Mavenæ’ä»¶")æ¥åˆ›å»ºå¯æ‰§è¡Œjarã€‚

ä»¥ä¸‹æ¸…å•æ˜¾ç¤ºäº†å…¸å‹çš„`pom.xml`æ–‡ä»¶ï¼š

```
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
	<modelVersion>4.0.0</modelVersion>

	<groupId>com.example</groupId>
	<artifactId>myproject</artifactId>
	<version>0.0.1-SNAPSHOT</version>

	<!-- Inherit defaults from Spring Boot -->
	<parent>
		<groupId>org.springframework.boot</groupId>
		<artifactId>spring-boot-starter-parent</artifactId>
		<version>2.1.1.RELEASE</version>
	</parent>

	<!-- Add typical dependencies for a web application -->
	<dependencies>
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-web</artifactId>
		</dependency>
	</dependencies>

	<!-- Package as an executable jar -->
	<build>
		<plugins>
			<plugin>
				<groupId>org.springframework.boot</groupId>
				<artifactId>spring-boot-maven-plugin</artifactId>
			</plugin>
		</plugins>
	</build>

</project>
```

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p><code class="literal" i="71">spring-boot-starter-parent</code>æ˜¯ä½¿ç”¨Spring Bootçš„å¥½æ–¹æ³•ï¼Œä½†å®ƒå¯èƒ½å¹¶ä¸é€‚åˆæ‰€æœ‰æ—¶é—´ã€‚æœ‰æ—¶æ‚¨å¯èƒ½éœ€è¦ä»å…¶ä»–çˆ¶POMç»§æ‰¿ï¼Œæˆ–è€…æ‚¨å¯èƒ½ä¸å–œæ¬¢æˆ‘ä»¬çš„é»˜è®¤è®¾ç½®ã€‚åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œè¯·å‚è§ <a class="xref" href="#using-boot-maven-without-a-parent" title="13.2.2åœ¨æ²¡æœ‰çˆ¶POMçš„æƒ…å†µä¸‹ä½¿ç”¨Spring Boot">ç¬¬13.2.2èŠ‚â€œä½¿ç”¨ä¸å¸¦çˆ¶POMçš„Spring Bootâ€</a>ä½œä¸ºä½¿ç”¨<code class="literal" i="72">import</code>èŒƒå›´çš„æ›¿ä»£è§£å†³æ–¹æ¡ˆã€‚</p></td></tr></tbody></table>

### 10.1.2 Gradleå®‰è£…

Spring Bootä¸Gradle 4.4åŠæ›´é«˜ç‰ˆæœ¬å…¼å®¹ã€‚å¦‚æœæ‚¨å°šæœªå®‰è£…Gradleï¼Œåˆ™å¯ä»¥æŒ‰ç…§[gradle.orgä¸Š](https://gradle.org)çš„è¯´æ˜è¿›è¡Œ[æ“ä½œ](https://gradle.org)ã€‚

å¯ä»¥ä½¿ç”¨`org.springframework.boot` `group`å£°æ˜Spring Bootä¾èµ–é¡¹ã€‚é€šå¸¸ï¼Œæ‚¨çš„é¡¹ç›®ä¼šå£°æ˜å¯¹ä¸€ä¸ªæˆ–å¤šä¸ª[â€œStartersâ€çš„](#using-boot-starter "13.5åˆå­¦è€…")ä¾èµ–å…³ç³» ã€‚Spring Bootæä¾›äº†ä¸€ä¸ªæœ‰ç”¨çš„[Gradleæ’ä»¶](#build-tool-plugins-gradle-plugin "72. Spring Boot Gradleæ’ä»¶")ï¼Œå¯ç”¨äºç®€åŒ–ä¾èµ–å£°æ˜å’Œåˆ›å»ºå¯æ‰§è¡Œjarã€‚

**Gradle Wrapper**

å½“æ‚¨éœ€è¦æ„å»ºé¡¹ç›®æ—¶ï¼ŒGradle Wrapperæä¾›äº†ä¸€ç§â€œè·å–â€Gradleçš„å¥½æ–¹æ³•ã€‚å®ƒæ˜¯ä¸€ä¸ªå°è„šæœ¬å’Œåº“ï¼Œæ‚¨å¯ä»¥ä¸ä»£ç ä¸€èµ·æäº¤ä»¥å¼•å¯¼æ„å»ºè¿‡ç¨‹ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…[docs.gradle.org/4.2.1/userguide/gradle_wrapper.html](https://docs.gradle.org/4.2.1/userguide/gradle_wrapper.html)ã€‚

æœ‰å…³Spring Bootå’ŒGradle [å…¥é—¨çš„](https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/gradle-plugin/reference/html/#getting-started)æ›´å¤šè¯¦ç»†ä¿¡æ¯ ï¼Œè¯·å‚é˜…Gradleæ’ä»¶å‚è€ƒæŒ‡å—çš„â€œ [å…¥é—¨â€éƒ¨åˆ†](https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/gradle-plugin/reference/html/#getting-started)ã€‚

10.2å®‰è£…Spring Boot CLI
---------------------

Spring Boot CLIï¼ˆå‘½ä»¤è¡Œç•Œé¢ï¼‰æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œå¯ç”¨äºä½¿ç”¨Springå¿«é€ŸåŸå‹ã€‚å®ƒå…è®¸æ‚¨è¿è¡Œ[Groovy](http://groovy-lang.org/)è„šæœ¬ï¼Œè¿™æ„å‘³ç€æ‚¨æ‹¥æœ‰ç†Ÿæ‚‰çš„ç±»ä¼¼Javaçš„è¯­æ³•ï¼Œè€Œæ²¡æœ‰å¤ªå¤šçš„æ ·æ¿ä»£ç ã€‚

æ‚¨ä¸éœ€è¦ä½¿ç”¨CLIæ¥ä½¿ç”¨Spring Bootï¼Œä½†å®ƒç»å¯¹æ˜¯å®ç°Springåº”ç”¨ç¨‹åºçš„æœ€å¿«æ–¹æ³•ã€‚

### 10.2.1æ‰‹åŠ¨å®‰è£…

æ‚¨å¯ä»¥ä»Springè½¯ä»¶å­˜å‚¨åº“ä¸‹è½½Spring CLIåˆ†å‘ç‰ˆï¼š

*   [spring-boot-cli-2.1.1.RELEASE-bin.zip](https://repo.spring.io/release/org/springframework/boot/spring-boot-cli/2.1.1.RELEASE/spring-boot-cli-2.1.1.RELEASE-bin.zip)
*   [spring-boot-cli-2.1.1.RELEASE-bin.tar.gz](https://repo.spring.io/release/org/springframework/boot/spring-boot-cli/2.1.1.RELEASE/spring-boot-cli-2.1.1.RELEASE-bin.tar.gz)

è¿˜æä¾›æœ€å…ˆè¿›çš„ [å¿«ç…§åˆ†å‘](https://repo.spring.io/snapshot/org/springframework/boot/spring-boot-cli/)ã€‚

ä¸‹è½½å®Œæˆåï¼Œè¯·æŒ‰ç…§ è§£å‹ç¼©çš„å­˜æ¡£ä¸­çš„ [INSTALL.txt](https://raw.github.com/spring-projects/spring-boot/v2.1.1.RELEASE/spring-boot-project/spring-boot-cli/src/main/content/INSTALL.txt)è¯´æ˜è¿›è¡Œæ“ä½œã€‚æ€»ä¹‹ï¼Œåœ¨`.zip`æ–‡ä»¶çš„`bin/`ç›®å½•ä¸­æœ‰ä¸€ä¸ª`spring`è„šæœ¬ï¼ˆWindowsä¸º`spring.bat`ï¼‰ã€‚æˆ–è€…ï¼Œæ‚¨å¯ä»¥å°†`java -jar`ä¸`.jar`æ–‡ä»¶ä¸€èµ·ä½¿ç”¨ï¼ˆè¯¥è„šæœ¬å¯å¸®åŠ©æ‚¨ç¡®ä¿æ­£ç¡®è®¾ç½®ç±»è·¯å¾„ï¼‰ã€‚

### 10.2.2ä½¿ç”¨SDKMANå®‰è£…ï¼

SDKMANï¼ï¼ˆè½¯ä»¶å¼€å‘å·¥å…·åŒ…ç®¡ç†å™¨ï¼‰å¯ç”¨äºç®¡ç†å„ç§äºŒè¿›åˆ¶SDKçš„å¤šä¸ªç‰ˆæœ¬ï¼ŒåŒ…æ‹¬Groovyå’ŒSpring Boot CLIã€‚è·å–SDKMANï¼ä»[sdkman.io](http://sdkman.io)å¹¶ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…Spring Bootï¼š

```
$ sdk install springboot
$ spring --version
Spring Boot v2.1.1.RELEASE
```

å¦‚æœæ‚¨ä¸ºCLIå¼€å‘åŠŸèƒ½å¹¶å¸Œæœ›è½»æ¾è®¿é—®æ‚¨æ„å»ºçš„ç‰ˆæœ¬ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š

```
$ sdk install springboot dev /path/to/spring-boot/spring-boot-cli/target/spring-boot-cli-2.1.1.RELEASE-bin/spring-2.1.1.RELEASE/
$ sdk default springboot dev
$ spring --version
Spring CLI v2.1.1.RELEASE
```

å‰é¢çš„è¯´æ˜å®‰è£…äº†ä¸€ä¸ªåä¸º`dev`å®ä¾‹çš„`spring`æœ¬åœ°å®ä¾‹ã€‚å®ƒæŒ‡å‘æ‚¨çš„ç›®æ ‡æ„å»ºä½ç½®ï¼Œå› æ­¤æ¯æ¬¡é‡å»ºSpring Bootæ—¶ï¼Œ`spring`éƒ½æ˜¯æœ€æ–°çš„ã€‚

æ‚¨å¯ä»¥é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥æŸ¥çœ‹å®ƒï¼š

```
$ sdk ls springboot

================================================================================
Available Springboot Versions
================================================================================
> + dev
* 2.1.1.RELEASE

================================================================================
+ - local version
* - installed
> - currently in use
================================================================================
```

### 10.2.3 OSX Homebrewå®‰è£…

å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯Macå¹¶ä½¿ç”¨[Homebrew](https://brew.sh/)ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…Spring Boot CLIï¼š

```
$ brew tap pivotal/tap
$ brew install springboot
```

Homebrewå°†`spring`å®‰è£…åˆ°`/usr/local/bin`ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å¦‚æœæ‚¨æ²¡æœ‰çœ‹åˆ°å…¬å¼ï¼Œé‚£ä¹ˆæ‚¨çš„brewå®‰è£…å¯èƒ½å·²è¿‡æ—¶ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¿è¡Œ<code class="literal" i="86">brew update</code>å¹¶å†è¯•ä¸€æ¬¡ã€‚</p></td></tr></tbody></table>

### 10.2.4 MacPortså®‰è£…

å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯Macå¹¶ä½¿ç”¨[MacPorts](https://www.macports.org/)ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…Spring Boot CLIï¼š

```
$ sudo port install spring-boot-cli
```

### 10.2.5å‘½ä»¤è¡Œå®Œæˆ

Spring Boot CLIåŒ…æ‹¬ä¸º[BASH](https://en.wikipedia.org/wiki/Bash_%28Unix_shell%29)å’Œ [zsh](https://en.wikipedia.org/wiki/Z_shell) shell æä¾›å‘½ä»¤å®Œæˆçš„è„šæœ¬ ã€‚æ‚¨å¯ä»¥åœ¨ä»»ä½•shellä¸­`source`è„šæœ¬ï¼ˆä¹Ÿç§°ä¸º`spring`ï¼‰æˆ–å°†å…¶æ”¾å…¥æ‚¨çš„ä¸ªäººæˆ–ç³»ç»ŸèŒƒå›´çš„bashå®Œæˆåˆå§‹åŒ–ä¸­ã€‚åœ¨Debianç³»ç»Ÿä¸Šï¼Œç³»ç»ŸèŒƒå›´çš„è„šæœ¬ä½äº`/shell-completion/bash`ï¼Œå¹¶ä¸”å½“æ–°shellå¯åŠ¨æ—¶ï¼Œè¯¥ç›®å½•ä¸­çš„æ‰€æœ‰è„šæœ¬éƒ½å°†æ‰§è¡Œã€‚ä¾‹å¦‚ï¼Œè¦ä½¿ç”¨SDKMANï¼å®‰è£…ï¼Œè¯·æ‰‹åŠ¨è¿è¡Œè„šæœ¬ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š

```
$ . ~/.sdkman/candidates/springboot/current/shell-completion/bash/spring
$ spring <HIT TAB HERE>
  grab  help  jar  run  test  version
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å¦‚æœä½¿ç”¨Homebrewæˆ–MacPortså®‰è£…Spring Boot CLIï¼Œåˆ™å‘½ä»¤è¡Œå®Œæˆè„šæœ¬å°†è‡ªåŠ¨æ³¨å†Œåˆ°shellã€‚</p></td></tr></tbody></table>

### 10.2.6 Windows Scoopå®‰è£…

å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯Windowså¹¶ä½¿ç”¨[Scoop](http://scoop.sh/)ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…Spring Boot CLIï¼š

```
> scoop bucket add extras
> scoop install springboot
```

Scoopå®‰è£…`spring`åˆ°`~/scoop/apps/springboot/current/bin`ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å¦‚æœæ‚¨æ²¡æœ‰çœ‹åˆ°åº”ç”¨æ¸…å•ï¼Œåˆ™æ‚¨çš„scoopå®‰è£…å¯èƒ½å·²è¿‡æ—¶ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¯·è¿è¡Œ<code class="literal" i="92">scoop update</code>å¹¶é‡è¯•ã€‚</p></td></tr></tbody></table>

### 10.2.7å¿«é€Ÿå¯åŠ¨Spring CLIç¤ºä¾‹

æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹Webåº”ç”¨ç¨‹åºæ¥æµ‹è¯•æ‚¨çš„å®‰è£…ã€‚é¦–å…ˆï¼Œåˆ›å»ºä¸€ä¸ªåä¸º`app.groovy`çš„æ–‡ä»¶ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
_@RestController_
class ThisWillActuallyRun {

	_@RequestMapping("/")_
	String home() {
		"Hello World!"
	}

}
```

ç„¶åä»shellè¿è¡Œå®ƒï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
$ spring run app.groovy
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>éšç€ä¾èµ–é¡¹çš„ä¸‹è½½ï¼Œåº”ç”¨ç¨‹åºçš„ç¬¬ä¸€æ¬¡è¿è¡Œé€Ÿåº¦å¾ˆæ…¢ã€‚åç»­è¿è¡Œè¦å¿«å¾—å¤šã€‚</p></td></tr></tbody></table>

åœ¨æ‚¨å–œæ¬¢çš„ç½‘ç»œæµè§ˆå™¨ä¸­æ‰“å¼€`[localhost:8080](http://localhost:8080)`ã€‚æ‚¨åº”è¯¥çœ‹åˆ°ä»¥ä¸‹è¾“å‡ºï¼š

```
Hello World!
```

10.3ä»æ—©æœŸç‰ˆæœ¬çš„Spring Bootå‡çº§
-----------------------

å¦‚æœè¦ä»æ—©æœŸç‰ˆæœ¬çš„Spring Bootå‡çº§ï¼Œè¯·æŸ¥çœ‹ [é¡¹ç›®Wikiä¸Šçš„â€œè¿ç§»æŒ‡å—â€ï¼Œ](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide) å…¶ä¸­æä¾›äº†è¯¦ç»†çš„å‡çº§è¯´æ˜ã€‚å¦è¯·æŸ¥çœ‹ [â€œå‘è¡Œè¯´æ˜â€](https://github.com/spring-projects/spring-boot/wiki)ï¼Œäº†è§£æ¯ä¸ªç‰ˆæœ¬çš„â€œæ–°çš„å’Œå€¼å¾—æ³¨æ„çš„â€åŠŸèƒ½åˆ—è¡¨ã€‚

å‡çº§åˆ°æ–°åŠŸèƒ½ç‰ˆæœ¬æ—¶ï¼ŒæŸäº›å±æ€§å¯èƒ½å·²é‡å‘½åæˆ–åˆ é™¤ã€‚Spring Bootæä¾›äº†ä¸€ç§åœ¨å¯åŠ¨æ—¶åˆ†æåº”ç”¨ç¨‹åºç¯å¢ƒå’Œæ‰“å°è¯Šæ–­çš„æ–¹æ³•ï¼Œè¿˜å¯ä»¥åœ¨è¿è¡Œæ—¶ä¸´æ—¶è¿ç§»å±æ€§ã€‚è¦å¯ç”¨è¯¥åŠŸèƒ½ï¼Œè¯·å°†ä»¥ä¸‹ä¾èµ–é¡¹æ·»åŠ åˆ°é¡¹ç›®ä¸­ï¼š

```
<dependency>
	<groupId>org.springframework.boot</groupId>
	<artifactId>spring-boot-properties-migrator</artifactId>
	<scope>runtime</scope>
</dependency>
```

<table border="0" summary="Warning"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[è­¦å‘Š]" src="images/warning.png"></td><th align="left">è­¦å‘Š</th></tr><tr><td align="left" valign="top"><p>æ·»åŠ åˆ°ç¯å¢ƒåæœŸçš„å±æ€§ï¼ˆä¾‹å¦‚ä½¿ç”¨<code class="literal" i="95">@PropertySource</code>æ—¶ï¼‰å°†ä¸ä¼šè¢«è€ƒè™‘åœ¨å†…ã€‚</p></td></tr></tbody></table><table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å®Œæˆè¿ç§»åï¼Œè¯·ç¡®ä¿ä»é¡¹ç›®çš„ä¾èµ–é¡¹ä¸­åˆ é™¤æ­¤æ¨¡å—ã€‚</p></td></tr></tbody></table>

è¦å‡çº§ç°æœ‰CLIå®‰è£…ï¼Œè¯·ä½¿ç”¨ç›¸åº”çš„è½¯ä»¶åŒ…ç®¡ç†å™¨å‘½ä»¤ï¼ˆä¾‹å¦‚ï¼Œ`brew upgrade`ï¼‰ï¼Œæˆ–è€…ï¼Œå¦‚æœæ‰‹åŠ¨å®‰è£…CLIï¼Œè¯·æŒ‰ç…§ [æ ‡å‡†è¯´æ˜æ“ä½œ](#getting-started-manual-cli-installation "10.2.1æ‰‹åŠ¨å®‰è£…")ï¼Œè®°ä½æ›´æ–°`PATH`ç¯å¢ƒå˜é‡ä»¥åˆ é™¤ä»»ä½•æ—§ç‰ˆæœ¬å¼•ç”¨ã€‚

11.å¼€å‘æ‚¨çš„ç¬¬ä¸€ä¸ªSpring Bootåº”ç”¨ç¨‹åº
-------------------------

æœ¬èŠ‚ä»‹ç»å¦‚ä½•å¼€å‘ä¸€ä¸ªç®€å•çš„â€œHello Worldï¼â€Webåº”ç”¨ç¨‹åºï¼Œè¯¥åº”ç”¨ç¨‹åºçªå‡ºäº†Spring Bootçš„ä¸€äº›ä¸»è¦åŠŸèƒ½ã€‚æˆ‘ä»¬ä½¿ç”¨Mavenæ¥æ„å»ºè¿™ä¸ªé¡¹ç›®ï¼Œå› ä¸ºå¤§å¤šæ•°IDEéƒ½æ”¯æŒå®ƒã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>è¯¥<a class="link" href="https://spring.io" target="_top">spring.io</a>ç½‘ç«™åŒ…å«äº†è®¸å¤šâ€œå…¥é—¨â€ <a class="link" href="https://spring.io/guides" target="_top">æŒ‡å¯¼</a>åœ¨ä½¿ç”¨Spring Bootã€‚å¦‚æœæ‚¨éœ€è¦è§£å†³ç‰¹å®šé—®é¢˜ï¼Œè¯·å…ˆæ£€æŸ¥ä¸€ä¸‹ã€‚</p><p>æ‚¨å¯ä»¥é€šè¿‡è½¬åˆ°<a class="link" href="https://start.spring.io" target="_top">start.spring.io</a>å¹¶ä»ä¾èµ–å…³ç³»æœç´¢å™¨ä¸­é€‰æ‹©â€œWebâ€å¯åŠ¨å™¨æ¥å¿«æ·æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ã€‚è¿™æ ·åšä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„é¡¹ç›®ç»“æ„ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥<a class="link" href="#getting-started-first-application-code" title="11.3ç¼–å†™ä»£ç ">ç«‹å³å¼€å§‹ç¼–ç </a>ã€‚æŸ¥çœ‹<a class="link" href="https://docs.spring.io/initializr/docs/current/reference/htmlsingle/#user-guide" target="_top">Spring Initializræ–‡æ¡£</a>ä»¥è·å–æ›´å¤šè¯¦ç»†ä¿¡æ¯ã€‚</p></td></tr></tbody></table>

åœ¨å¼€å§‹ä¹‹å‰ï¼Œæ‰“å¼€ç»ˆç«¯å¹¶è¿è¡Œä»¥ä¸‹å‘½ä»¤ä»¥ç¡®ä¿æ‚¨å®‰è£…äº†æœ‰æ•ˆç‰ˆæœ¬çš„Javaå’ŒMavenï¼š

```
$ java -version
java version "1.8.0_102"
Java(TM) SE Runtime Environment (build 1.8.0_102-b14)
Java HotSpot(TM) 64-Bit Server VM (build 25.102-b14, mixed mode)
```

```
$ mvn -v
Apache Maven 3.5.4 (1edded0938998edf8bf061f1ceb3cfdeccf443fe; 2018-06-17T14:33:14-04:00)
Maven home: /usr/local/Cellar/maven/3.3.9/libexec
Java version: 1.8.0_102, vendor: Oracle Corporation
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>æ­¤ç¤ºä¾‹éœ€è¦åœ¨å…¶è‡ªå·±çš„æ–‡ä»¶å¤¹ä¸­åˆ›å»ºã€‚åç»­è¯´æ˜å‡å®šæ‚¨å·²åˆ›å»ºåˆé€‚çš„æ–‡ä»¶å¤¹ï¼Œå¹¶ä¸”å®ƒæ˜¯æ‚¨å½“å‰çš„ç›®å½•ã€‚</p></td></tr></tbody></table>

11.1åˆ›å»ºPOM
---------

æˆ‘ä»¬éœ€è¦å…ˆåˆ›å»ºä¸€ä¸ªMaven `pom.xml`æ–‡ä»¶ã€‚`pom.xml`æ˜¯ç”¨äºæ„å»ºé¡¹ç›®çš„é…æ–¹ã€‚æ‰“å¼€æ‚¨å–œæ¬¢çš„æ–‡æœ¬ç¼–è¾‘å™¨å¹¶æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š

```
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
	<modelVersion>4.0.0</modelVersion>

	<groupId>com.example</groupId>
	<artifactId>myproject</artifactId>
	<version>0.0.1-SNAPSHOT</version>

	<parent>
		<groupId>org.springframework.boot</groupId>
		<artifactId>spring-boot-starter-parent</artifactId>
		<version>2.1.1.RELEASE</version>
	</parent>

	<!-- Additional lines to be added here... -->

</project>
```

ä¸Šé¢çš„æ¸…å•åº”è¯¥ä¸ºæ‚¨æä¾›æœ‰æ•ˆçš„æ„å»ºã€‚æ‚¨å¯ä»¥é€šè¿‡è¿è¡Œ`mvn package`æ¥æµ‹è¯•å®ƒï¼ˆç°åœ¨ï¼Œæ‚¨å¯ä»¥å¿½ç•¥â€œjarå°†ä¸ºç©º - æ²¡æœ‰å†…å®¹è¢«æ ‡è®°ä¸ºåŒ…å«ï¼â€è­¦å‘Šï¼‰ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>æ­¤æ—¶ï¼Œæ‚¨å¯ä»¥å°†é¡¹ç›®å¯¼å…¥IDEï¼ˆå¤§å¤šæ•°ç°ä»£Java IDEåŒ…å«å¯¹Mavençš„å†…ç½®æ”¯æŒï¼‰ã€‚ä¸ºç®€å•èµ·è§ï¼Œæˆ‘ä»¬ç»§ç»­ä¸ºæ­¤ç¤ºä¾‹ä½¿ç”¨çº¯æ–‡æœ¬ç¼–è¾‘å™¨ã€‚</p></td></tr></tbody></table>

11.2æ·»åŠ ç±»è·¯å¾„ä¾èµ–é¡¹
------------

Spring Bootæä¾›äº†ä¸€äº›â€œStartersâ€ï¼Œå¯è®©æ‚¨å°†jaræ·»åŠ åˆ°ç±»è·¯å¾„ä¸­ã€‚æˆ‘ä»¬çš„ç¤ºä¾‹åº”ç”¨ç¨‹åºå·²ç»åœ¨POMçš„`parent`éƒ¨åˆ†ä½¿ç”¨äº†`spring-boot-starter-parent`ã€‚`spring-boot-starter-parent`æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å¯åŠ¨å™¨ï¼Œæä¾›æœ‰ç”¨çš„Mavené»˜è®¤å€¼ã€‚å®ƒè¿˜æä¾›äº†ä¸€ä¸ª [`dependency-management`](#using-boot-dependency-management "13.1ä¾èµ–ç®¡ç†") éƒ¨åˆ†ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥çœç•¥`version`æ ‡ç­¾ä¸­çš„â€œç¥ç¦â€ä¾èµ–é¡¹ã€‚

å…¶ä»–â€œStartersâ€æä¾›äº†åœ¨å¼€å‘ç‰¹å®šç±»å‹çš„åº”ç”¨ç¨‹åºæ—¶å¯èƒ½éœ€è¦çš„ä¾èµ–é¡¹ã€‚ç”±äºæˆ‘ä»¬æ­£åœ¨å¼€å‘Webåº”ç”¨ç¨‹åºï¼Œå› æ­¤æˆ‘ä»¬æ·»åŠ äº†`spring-boot-starter-web`ä¾èµ–é¡¹ã€‚åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥æŸ¥çœ‹å½“å‰çš„å†…å®¹ï¼š

```
$ mvn dependency:tree

[INFO] com.example:myproject:jar:0.0.1-SNAPSHOT
```

`mvn dependency:tree`å‘½ä»¤æ‰“å°é¡¹ç›®ä¾èµ–é¡¹çš„æ ‘è¡¨ç¤ºã€‚æ‚¨å¯ä»¥çœ‹åˆ°`spring-boot-starter-parent`æœ¬èº«ä¸æä¾›ä¾èµ–å…³ç³»ã€‚è¦æ·»åŠ å¿…è¦çš„ä¾èµ–é¡¹ï¼Œè¯·ç¼–è¾‘`pom.xml`å¹¶åœ¨`parent`éƒ¨åˆ†ä¸‹æ–¹æ·»åŠ `spring-boot-starter-web`ä¾èµ–é¡¹ï¼š

```
<dependencies>
	<dependency>
		<groupId>org.springframework.boot</groupId>
		<artifactId>spring-boot-starter-web</artifactId>
	</dependency>
</dependencies>
```

å¦‚æœå†æ¬¡è¿è¡Œ`mvn dependency:tree`ï¼Œæ‚¨ä¼šå‘ç°ç°åœ¨æœ‰è®¸å¤šå…¶ä»–ä¾èµ–é¡¹ï¼ŒåŒ…æ‹¬Tomcat WebæœåŠ¡å™¨å’ŒSpring Bootæœ¬èº«ã€‚

11.3ç¼–å†™ä»£ç 
--------

è¦å®Œæˆæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªJavaæ–‡ä»¶ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒMavenç¼–è¯‘æ¥è‡ª`src/main/java`çš„æºï¼Œå› æ­¤æ‚¨éœ€è¦åˆ›å»ºè¯¥æ–‡ä»¶å¤¹ç»“æ„ï¼Œç„¶åæ·»åŠ åä¸º`src/main/java/Example.java`çš„æ–‡ä»¶ä»¥åŒ…å«ä»¥ä¸‹ä»£ç ï¼š

```
import org.springframework.boot.*;
import org.springframework.boot.autoconfigure.*;
import org.springframework.web.bind.annotation.*;

_@RestController_
_@EnableAutoConfiguration_
public class Example {

	_@RequestMapping("/")_
	String home() {
		return "Hello World!";
	}

	public static void main(String[] args) throws Exception {
		SpringApplication.run(Example.class, args);
	}

}
```

è™½ç„¶è¿™é‡Œçš„ä»£ç ä¸å¤šï¼Œä½†è¿˜æ˜¯æœ‰å¾ˆå¤šä»£ç ã€‚æˆ‘ä»¬å°†åœ¨æ¥ä¸‹æ¥çš„å‡ èŠ‚ä¸­é€æ­¥ä»‹ç»é‡è¦éƒ¨åˆ†ã€‚

### 11.3.1 @RestControllerå’Œ@RequestMapping Annotations

`Example`ç±»çš„ç¬¬ä¸€ä¸ªæ³¨é‡Šæ˜¯`@RestController`ã€‚è¿™è¢«ç§°ä¸º _æ„é€ å‹_æ³¨é‡Šã€‚å®ƒä¸ºé˜…è¯»ä»£ç çš„äººæä¾›äº†æç¤ºï¼Œå¹¶ä¸ºSpringæä¾›äº†è¯¥ç±»æ‰®æ¼”ç‰¹å®šè§’è‰²çš„æç¤ºã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬çš„ç±»æ˜¯ä¸€ä¸ªweb `@Controller`ï¼Œæ‰€ä»¥Springåœ¨å¤„ç†ä¼ å…¥çš„Webè¯·æ±‚æ—¶ä¼šè€ƒè™‘å®ƒã€‚

`@RequestMapping`æ³¨é‡Šæä¾›â€œè·¯ç”±â€ä¿¡æ¯ã€‚å®ƒå‘Šè¯‰Springä»»ä½•å¸¦æœ‰`/`è·¯å¾„çš„HTTPè¯·æ±‚éƒ½åº”è¯¥æ˜ å°„åˆ°`home`æ–¹æ³•ã€‚`@RestController`æ³¨é‡Šå‘Šè¯‰Springå°†ç»“æœå­—ç¬¦ä¸²ç›´æ¥å‘ˆç°ç»™è°ƒç”¨è€…ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p><code class="literal" i="121">@RestController</code>å’Œ<code class="literal" i="122">@RequestMapping</code>æ³¨é‡Šæ˜¯Spring MVCæ³¨é‡Šã€‚ï¼ˆå®ƒä»¬ä¸æ˜¯Spring Bootç‰¹æœ‰çš„ã€‚ï¼‰æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…Springå‚è€ƒæ–‡æ¡£ä¸­çš„<a class="link" href="https://docs.spring.io/spring/docs/5.1.3.RELEASE/spring-framework-reference/web.html#mvc" target="_top">MVCéƒ¨åˆ†</a>ã€‚</p></td></tr></tbody></table>

### 11.3.2 @EnableAutoConfigurationæ³¨é‡Š

ç¬¬äºŒä¸ªç±»çº§åˆ«æ³¨é‡Šæ˜¯`@EnableAutoConfiguration`ã€‚è¿™ä¸ªæ³¨é‡Šå‘Šè¯‰Spring Bootæ ¹æ®ä½ æ·»åŠ çš„jarä¾èµ–å…³ç³»â€œçŒœæµ‹â€ä½ æƒ³è¦å¦‚ä½•é…ç½®Springã€‚ç”±äº`spring-boot-starter-web`æ·»åŠ äº†Tomcatå’ŒSpring MVCï¼Œå› æ­¤è‡ªåŠ¨é…ç½®å‡å®šæ‚¨æ­£åœ¨å¼€å‘Webåº”ç”¨ç¨‹åºå¹¶ç›¸åº”åœ°è®¾ç½®Springã€‚

**Starterså’Œè‡ªåŠ¨é…ç½®**

è‡ªåŠ¨é…ç½®æ—¨åœ¨ä¸â€œStartersâ€é…åˆä½¿ç”¨ï¼Œä½†è¿™ä¸¤ä¸ªæ¦‚å¿µå¹¶ä¸ç›´æ¥ç›¸å…³ã€‚æ‚¨å¯ä»¥è‡ªç”±é€‰æ‹©å¹¶åœ¨é¦–å‘ä¹‹å¤–é€‰æ‹©jarä¾èµ–é¡¹ã€‚Spring Bootä»ç„¶å°½åŠ›è‡ªåŠ¨é…ç½®æ‚¨çš„åº”ç”¨ç¨‹åºã€‚

### 11.3.3â€œä¸»è¦â€æ–¹æ³•

æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºçš„æœ€åä¸€éƒ¨åˆ†æ˜¯`main`æ–¹æ³•ã€‚è¿™åªæ˜¯éµå¾ªåº”ç”¨ç¨‹åºå…¥å£ç‚¹çš„Javaçº¦å®šçš„æ ‡å‡†æ–¹æ³•ã€‚æˆ‘ä»¬çš„ä¸»è¦æ–¹æ³•æ˜¯é€šè¿‡è°ƒç”¨`run`æ¥å§”æ‰˜Spring Bootçš„`SpringApplication`ç±»ã€‚`SpringApplication`å¼•å¯¼æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºï¼Œä»Springå¼€å§‹ï¼Œç„¶åå¯åŠ¨è‡ªåŠ¨é…ç½®çš„Tomcat WebæœåŠ¡å™¨ã€‚æˆ‘ä»¬éœ€è¦å°†`Example.class`ä½œä¸ºå‚æ•°ä¼ é€’ç»™`run`æ–¹æ³•ï¼Œä»¥å‘Šè¯‰`SpringApplication`å“ªä¸ªæ˜¯ä¸»è¦çš„Springç»„ä»¶ã€‚è¿˜ä¼šä¼ é€’`args`æ•°ç»„ä»¥å…¬å¼€ä»»ä½•å‘½ä»¤è¡Œå‚æ•°ã€‚

11.4è¿è¡Œç¤ºä¾‹
--------

æ­¤æ—¶ï¼Œæ‚¨çš„åº”ç”¨ç¨‹åºåº”è¯¥å·¥ä½œã€‚ç”±äºæ‚¨ä½¿ç”¨äº†`spring-boot-starter-parent` POMï¼Œå› æ­¤æ‚¨å¯ä»¥ä½¿ç”¨æœ‰ç”¨çš„`run`ç›®æ ‡æ¥å¯åŠ¨åº”ç”¨ç¨‹åºã€‚ä»æ ¹é¡¹ç›®ç›®å½•ä¸­é”®å…¥`mvn spring-boot:run`ä»¥å¯åŠ¨åº”ç”¨ç¨‹åºã€‚æ‚¨åº”è¯¥çœ‹åˆ°ç±»ä¼¼äºä»¥ä¸‹å†…å®¹çš„è¾“å‡ºï¼š

```
$ mvn spring-boot:run

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::  (v2.1.1.RELEASE)
....... . . .
....... . . . (log output here)
....... . . .
........ Started Example in 2.222 seconds (JVM running for 6.514)
```

å¦‚æœæ‚¨æ‰“å¼€Webæµè§ˆå™¨åˆ°`[localhost:8080](http://localhost:8080)`ï¼Œæ‚¨åº”è¯¥çœ‹åˆ°ä»¥ä¸‹è¾“å‡ºï¼š

```
Hello World!
```

è¦æ­£å¸¸é€€å‡ºåº”ç”¨ç¨‹åºï¼Œè¯·æŒ‰`ctrl-c`ã€‚

11.5åˆ›å»ºä¸€ä¸ªå¯æ‰§è¡Œçš„Jar
---------------

æˆ‘ä»¬é€šè¿‡åˆ›å»ºä¸€ä¸ªå®Œå…¨è‡ªåŒ…å«çš„å¯æ‰§è¡Œjaræ–‡ä»¶æ¥å®Œæˆæˆ‘ä»¬çš„ç¤ºä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç”Ÿäº§ä¸­è¿è¡Œå®ƒã€‚å¯æ‰§è¡Œjarï¼ˆæœ‰æ—¶ç§°ä¸ºâ€œfat jarâ€ï¼‰æ˜¯åŒ…å«å·²ç¼–è¯‘ç±»ä»¥åŠä»£ç éœ€è¦è¿è¡Œçš„æ‰€æœ‰jarä¾èµ–é¡¹çš„å½’æ¡£ã€‚

**å¯æ‰§è¡Œçš„jarå’ŒJava**

Javaæ²¡æœ‰æä¾›åŠ è½½åµŒå¥—jaræ–‡ä»¶çš„æ ‡å‡†æ–¹æ³•ï¼ˆjaræ–‡ä»¶æœ¬èº«åŒ…å«åœ¨jarä¸­ï¼‰ã€‚å¦‚æœæ‚¨è¦åˆ†å‘è‡ªåŒ…å«çš„åº”ç”¨ç¨‹åºï¼Œè¿™å¯èƒ½ä¼šæœ‰é—®é¢˜ã€‚

ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè®¸å¤šå¼€å‘äººå‘˜ä½¿ç”¨â€œè¶…çº§â€ç½å­ã€‚uber jarå°†æ‰€æœ‰åº”ç”¨ç¨‹åºä¾èµ–é¡¹ä¸­çš„æ‰€æœ‰ç±»æ‰“åŒ…åˆ°ä¸€ä¸ªå­˜æ¡£ä¸­ã€‚è¿™ç§æ–¹æ³•çš„é—®é¢˜åœ¨äºå¾ˆéš¾çœ‹å‡ºåº”ç”¨ç¨‹åºä¸­æœ‰å“ªäº›åº“ã€‚å¦‚æœåœ¨å¤šä¸ªç½å­ä¸­ä½¿ç”¨ç›¸åŒçš„æ–‡ä»¶åï¼ˆä½†å…·æœ‰ä¸åŒçš„å†…å®¹ï¼‰ï¼Œä¹Ÿå¯èƒ½ä¼šæœ‰é—®é¢˜ã€‚

Spring Booté‡‡ç”¨[ä¸åŒçš„æ–¹æ³•](#executable-jar "é™„å½•E.å¯æ‰§è¡Œçš„Jaræ ¼å¼")ï¼Œè®©ä½ ç›´æ¥åµŒå¥—ç½å­ã€‚

è¦åˆ›å»ºå¯æ‰§è¡Œjarï¼Œæˆ‘ä»¬éœ€è¦å°†`spring-boot-maven-plugin`æ·»åŠ åˆ°`pom.xml`ã€‚ä¸ºæ­¤ï¼Œè¯·åœ¨`dependencies`éƒ¨åˆ†ä¸‹æ–¹æ’å…¥ä»¥ä¸‹è¡Œï¼š

```
<build>
	<plugins>
		<plugin>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-maven-plugin</artifactId>
		</plugin>
	</plugins>
</build>
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p><code class="literal" i="141">spring-boot-starter-parent</code> POMåŒ…å«<code class="literal" i="142">&lt;executions&gt;</code>é…ç½®ä»¥ç»‘å®š<code class="literal" i="143">repackage</code>ç›®æ ‡ã€‚å¦‚æœæ‚¨ä¸ä½¿ç”¨çˆ¶POMï¼Œåˆ™éœ€è¦è‡ªå·±å£°æ˜æ­¤é…ç½®ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…<a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/maven-plugin/usage.html" target="_top">æ’ä»¶æ–‡æ¡£</a>ã€‚</p></td></tr></tbody></table>

ä¿å­˜`pom.xml`å¹¶ä»å‘½ä»¤è¡Œè¿è¡Œ`mvn package`ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
$ mvn package

[INFO] Scanning for projects...
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] Building myproject 0.0.1-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] .... ..
[INFO] --- maven-jar-plugin:2.4:jar (default-jar) @ myproject ---
[INFO] Building jar: /Users/developer/example/spring-boot-example/target/myproject-0.0.1-SNAPSHOT.jar
[INFO]
[INFO] --- spring-boot-maven-plugin:2.1.1.RELEASE:repackage (default) @ myproject ---
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
```

å¦‚æœä½ æŸ¥çœ‹`target`ç›®å½•ï¼Œä½ åº”è¯¥çœ‹åˆ°`myproject-0.0.1-SNAPSHOT.jar`ã€‚è¯¥æ–‡ä»¶å¤§å°åº”ä¸º10 MBå·¦å³ã€‚å¦‚æœè¦æŸ¥çœ‹å†…éƒ¨ï¼Œå¯ä»¥ä½¿ç”¨`jar tvf`ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
$ jar tvf target/myproject-0.0.1-SNAPSHOT.jar
```

æ‚¨è¿˜åº”è¯¥åœ¨`target`ç›®å½•ä¸­çœ‹åˆ°ä¸€ä¸ªåä¸º`myproject-0.0.1-SNAPSHOT.jar.original`çš„å°æ–‡ä»¶ã€‚è¿™æ˜¯Mavenåœ¨Spring Booté‡æ–°æ‰“åŒ…ä¹‹å‰åˆ›å»ºçš„åŸå§‹jaræ–‡ä»¶ã€‚

è¦è¿è¡Œè¯¥åº”ç”¨ç¨‹åºï¼Œè¯·ä½¿ç”¨`java -jar`å‘½ä»¤ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
$ java -jar target/myproject-0.0.1-SNAPSHOT.jar

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::  (v2.1.1.RELEASE)
....... . . .
....... . . . (log output here)
....... . . .
........ Started Example in 2.536 seconds (JVM running for 2.864)
```

å’Œä»¥å‰ä¸€æ ·ï¼Œè¦é€€å‡ºåº”ç”¨ç¨‹åºï¼Œè¯·æŒ‰`ctrl-c`ã€‚

12.æ¥ä¸‹æ¥è¦é˜…è¯»çš„å†…å®¹
------------

å¸Œæœ›æœ¬èŠ‚æä¾›äº†ä¸€äº›Spring BootåŸºç¡€çŸ¥è¯†ï¼Œè®©æ‚¨å¼€å§‹ç¼–å†™è‡ªå·±çš„åº”ç”¨ç¨‹åºã€‚å¦‚æœæ‚¨æ˜¯é¢å‘ä»»åŠ¡çš„å¼€å‘äººå‘˜ç±»å‹ï¼Œæ‚¨å¯èƒ½å¸Œæœ›è·³è½¬åˆ°[spring.io](https://spring.io)å¹¶æŸ¥çœ‹ä¸€äº› [å…¥é—¨](https://spring.io/guides/)æŒ‡å—ï¼Œè¿™äº›æŒ‡å—è§£å†³äº†ç‰¹å®šçš„â€œæˆ‘å¦‚ä½•ä½¿ç”¨Springï¼Ÿâ€é—®é¢˜ã€‚æˆ‘ä»¬è¿˜æœ‰Spring Bootç‰¹å®šçš„â€œ [æ“ä½œæ–¹æ³•](#howto "ç¬¬ä¹éƒ¨åˆ†ã€‚ 'å¦‚ä½•'æŒ‡å—") â€å‚è€ƒæ–‡æ¡£ã€‚

è¯¥[Spring Bootåº“](https://github.com/spring-projects/spring-boot)ä¹Ÿæœ‰ [ä¸€å †æ ·å“](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-samples)å¯ä»¥è¿è¡Œã€‚æ ·æœ¬ç‹¬ç«‹äºå…¶ä½™ä»£ç ï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼Œæ‚¨æ— éœ€æ„å»ºå…¶ä½™ä»£ç æ¥è¿è¡Œæˆ–ä½¿ç”¨ç¤ºä¾‹ï¼‰ã€‚

å¦åˆ™ï¼Œä¸‹ä¸€ä¸ªé€»è¾‘æ­¥éª¤æ˜¯é˜…è¯»_[ç¬¬IIIéƒ¨åˆ†â€œä½¿ç”¨Spring Bootâ€](#using-boot "ç¬¬ä¸‰éƒ¨åˆ†ã€‚ ä½¿ç”¨Spring Boot")_ã€‚å¦‚æœä½ çœŸçš„å¾ˆä¸è€çƒ¦ï¼Œä½ ä¹Ÿå¯ä»¥è·³è¿‡å»é˜…è¯» _[Spring BootåŠŸèƒ½](#boot-features "ç¬¬å››éƒ¨åˆ†ã€‚ Spring BootåŠŸèƒ½")_ã€‚

ç¬¬ä¸‰éƒ¨åˆ†ã€‚ä½¿ç”¨Spring Boot
==================

æœ¬èŠ‚è¯¦ç»†ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨Spring Bootã€‚å®ƒæ¶µç›–äº†æ„å»ºç³»ç»Ÿï¼Œè‡ªåŠ¨é…ç½®ä»¥åŠå¦‚ä½•è¿è¡Œåº”ç”¨ç¨‹åºç­‰ä¸»é¢˜ã€‚æˆ‘ä»¬è¿˜ä»‹ç»äº†ä¸€äº›Spring Bootæœ€ä½³åšæ³•ã€‚è™½ç„¶Spring Bootæ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«ä¹‹å¤„ï¼ˆå®ƒåªæ˜¯ä½ å¯ä»¥ä½¿ç”¨çš„å¦ä¸€ä¸ªåº“ï¼‰ï¼Œä½†æœ‰ä¸€äº›å»ºè®®ï¼Œå¦‚æœéµå¾ªè¿™äº›å»ºè®®ï¼Œå¯ä»¥ä½¿æ‚¨çš„å¼€å‘è¿‡ç¨‹æ›´å®¹æ˜“ä¸€äº›ã€‚

å¦‚æœæ‚¨ä»Spring Boot _[å¼€å§‹ï¼Œ](#getting-started "ç¬¬äºŒéƒ¨åˆ†ã€‚ å…¥é—¨")_åœ¨è¿›å…¥æœ¬èŠ‚ä¹‹å‰ï¼Œæ‚¨åº”è¯¥é˜…è¯»â€œ _[å…¥é—¨æŒ‡å—â€](#getting-started "PartÂ II.Â Getting Started")_ã€‚

13.æ„å»ºç³»ç»Ÿ
-------

å¼ºçƒˆå»ºè®®æ‚¨é€‰æ‹©æ”¯æŒ[_ä¾èµ–å…³ç³»ç®¡ç†_](#using-boot-dependency-management "13.1ä¾èµ–ç®¡ç†")ä¸”å¯ä»¥ä½¿ç”¨å‘å¸ƒåˆ°â€œMaven Centralâ€å­˜å‚¨åº“çš„å·¥ä»¶çš„æ„å»ºç³»ç»Ÿ ã€‚æˆ‘ä»¬å»ºè®®æ‚¨é€‰æ‹©Mavenæˆ–Gradleã€‚å¯ä»¥ä½¿Spring Bootä¸å…¶ä»–æ„å»ºç³»ç»Ÿï¼ˆä¾‹å¦‚Antï¼‰ä¸€èµ·ä½¿ç”¨ï¼Œä½†å®ƒä»¬å¹¶æ²¡æœ‰å¾—åˆ°ç‰¹åˆ«å¥½çš„æ”¯æŒã€‚

13.1ä¾èµ–ç®¡ç†
--------

Spring Bootçš„æ¯ä¸ªç‰ˆæœ¬éƒ½æä¾›äº†å®ƒæ”¯æŒçš„ä¾èµ–é¡¹çš„ç­–åˆ’åˆ—è¡¨ã€‚å®é™…ä¸Šï¼Œæ‚¨ä¸éœ€è¦ä¸ºæ„å»ºé…ç½®ä¸­çš„ä»»ä½•è¿™äº›ä¾èµ–é¡¹æä¾›ç‰ˆæœ¬ï¼Œå› ä¸ºSpring Bootä¼šä¸ºæ‚¨ç®¡ç†ã€‚å‡çº§Springå¼•å¯¼æ—¶ï¼Œè¿™äº›ä¾èµ–é¡¹ä¹Ÿä¼šä»¥ä¸€è‡´çš„æ–¹å¼å‡çº§ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å¦‚æœéœ€è¦ï¼Œæ‚¨ä»ç„¶å¯ä»¥æŒ‡å®šç‰ˆæœ¬å¹¶è¦†ç›–Spring Bootçš„å»ºè®®ã€‚</p></td></tr></tbody></table>

ç²¾é€‰åˆ—è¡¨åŒ…å«æ‚¨å¯ä»¥ä½¿ç”¨Spring Bootçš„æ‰€æœ‰spring modulesä»¥åŠç²¾é€‰çš„ç¬¬ä¸‰æ–¹åº“åˆ—è¡¨ã€‚è¯¥åˆ—è¡¨ä»¥æ ‡å‡† [ç‰©æ–™æ¸…å•ï¼ˆ`spring-boot-dependencies`ï¼‰çš„å½¢å¼æä¾›](#using-boot-maven-without-a-parent "13.2.2åœ¨æ²¡æœ‰çˆ¶POMçš„æƒ…å†µä¸‹ä½¿ç”¨Spring Boot") ï¼Œå¯ä¸[Maven](#using-boot-maven-parent-pom "13.2.1ç»§æ‰¿Starter Parent")å’Œ [Gradleä¸€èµ·ä½¿ç”¨](#using-boot-gradle "13.3 Gradle")ã€‚

<table border="0" summary="Warning"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[è­¦å‘Š]" src="images/warning.png"></td><th align="left">è­¦å‘Š</th></tr><tr><td align="left" valign="top"><p>Spring Bootçš„æ¯ä¸ªç‰ˆæœ¬éƒ½ä¸Springæ¡†æ¶çš„åŸºæœ¬ç‰ˆæœ¬ç›¸å…³è”ã€‚æˆ‘ä»¬<strong>å¼ºçƒˆ</strong>å»ºè®®æ‚¨ä¸è¦æŒ‡å®šå…¶ç‰ˆæœ¬ã€‚</p></td></tr></tbody></table>

13.2Â Maven
----------

Mavenç”¨æˆ·å¯ä»¥ç»§æ‰¿`spring-boot-starter-parent`é¡¹ç›®ä»¥è·å¾—åˆç†çš„é»˜è®¤å€¼ã€‚çˆ¶é¡¹ç›®æä¾›ä»¥ä¸‹åŠŸèƒ½ï¼š

*   Java 1.8ä½œä¸ºé»˜è®¤ç¼–è¯‘å™¨çº§åˆ«ã€‚
*   UTF-8æºç¼–ç ã€‚
*   ä¸€ä¸ª[ä¾èµ–ç®¡ç†éƒ¨åˆ†](#using-boot-dependency-management "13.1ä¾èµ–ç®¡ç†")ï¼Œä»æ˜¥å¤©å¯åŠ¨ä¾èµ–æ€§ç»§æ‰¿POMï¼Œç®¡ç†å…¬å…±ä¾èµ–çš„ç‰ˆæœ¬ã€‚æ­¤ä¾èµ–å…³ç³»ç®¡ç†å…è®¸æ‚¨åœ¨è‡ªå·±çš„pomä¸­ä½¿ç”¨æ—¶çœç•¥è¿™äº›ä¾èµ–é¡¹çš„<version>æ ‡è®°ã€‚
*   ä½¿ç”¨`repackage`æ‰§è¡ŒID æ‰§è¡Œ[`repackage`ç›®æ ‡](https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/maven-plugin/repackage-mojo.html)ã€‚
*   æ˜æ™ºçš„ [èµ„æºè¿‡æ»¤](https://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html)ã€‚
*   æ˜æ™ºçš„æ’ä»¶é…ç½®ï¼ˆ[execæ’ä»¶](http://www.mojohaus.org/exec-maven-plugin/)ï¼Œ [Gitæäº¤ID](https://github.com/ktoso/maven-git-commit-id-plugin)å’Œ [é˜´å½±](https://maven.apache.org/plugins/maven-shade-plugin/)ï¼‰ã€‚
*   `application.properties`å’Œ`application.yml`çš„åˆç†èµ„æºè¿‡æ»¤ï¼ŒåŒ…æ‹¬ç‰¹å®šäºé…ç½®æ–‡ä»¶çš„æ–‡ä»¶ï¼ˆä¾‹å¦‚ï¼Œ`application-dev.properties`å’Œ`application-dev.yml`ï¼‰

è¯·æ³¨æ„ï¼Œç”±äº`application.properties`å’Œ`application.yml`æ–‡ä»¶æ¥å—Springæ ·å¼å ä½ç¬¦ï¼ˆ`${â€¦â€‹}`ï¼‰ï¼Œå› æ­¤Mavenè¿‡æ»¤æ›´æ”¹ä¸ºä½¿ç”¨`@..@`å ä½ç¬¦ã€‚ï¼ˆæ‚¨å¯ä»¥é€šè¿‡è®¾ç½®åä¸º`resource.delimiter`çš„Mavenå±æ€§æ¥è¦†ç›–å®ƒã€‚ï¼‰

### 13.2.1ç»§æ‰¿Starter Parent

è¦å°†é¡¹ç›®é…ç½®ä¸ºä»`spring-boot-starter-parent`ç»§æ‰¿ï¼Œè¯·æŒ‰ä»¥ä¸‹æ–¹å¼è®¾ç½®`parent`ï¼š

```
<!-- Inherit defaults from Spring Boot -->
<parent>
	<groupId>org.springframework.boot</groupId>
	<artifactId>spring-boot-starter-parent</artifactId>
	<version>2.1.1.RELEASE</version>
</parent>
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>æ‚¨åº”è¯¥åªéœ€è¦åœ¨æ­¤ä¾èµ–é¡¹ä¸ŠæŒ‡å®šSpring Bootç‰ˆæœ¬å·ã€‚å¦‚æœå¯¼å…¥å…¶ä»–å¯åŠ¨å™¨ï¼Œåˆ™å¯ä»¥å®‰å…¨åœ°çœç•¥ç‰ˆæœ¬å·ã€‚</p></td></tr></tbody></table>

é€šè¿‡è¯¥è®¾ç½®ï¼Œæ‚¨è¿˜å¯ä»¥é€šè¿‡è¦†ç›–è‡ªå·±é¡¹ç›®ä¸­çš„å±æ€§æ¥è¦†ç›–å•ä¸ªä¾èµ–é¡¹ã€‚ä¾‹å¦‚ï¼Œè¦å‡çº§åˆ°å¦ä¸€ä¸ªSpringæ•°æ®å‘å¸ƒåˆ—è¡¨ï¼Œæ‚¨å¯ä»¥å°†ä»¥ä¸‹å†…å®¹æ·»åŠ åˆ°`pom.xml`ï¼š

```
<properties>
	<spring-data-releasetrain.version>Fowler-SR2</spring-data-releasetrain.version>
</properties>
```

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æ£€æŸ¥ <a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-dependencies/pom.xml" target="_top"><code class="literal" i="169">spring-boot-dependencies</code> pom</a> ä»¥è·å–æ”¯æŒçš„å±æ€§åˆ—è¡¨ã€‚</p></td></tr></tbody></table>

### 13.2.2åœ¨æ²¡æœ‰çˆ¶POMçš„æƒ…å†µä¸‹ä½¿ç”¨Spring Boot

ä¸æ˜¯æ¯ä¸ªäººéƒ½å–œæ¬¢ç»§æ‰¿`spring-boot-starter-parent` POMã€‚æ‚¨å¯èƒ½æ‹¥æœ‰è‡ªå·±éœ€è¦ä½¿ç”¨çš„å…¬å¸æ ‡å‡†çˆ¶çº§ï¼Œæˆ–è€…æ‚¨å¯èƒ½å¸Œæœ›æ˜ç¡®å£°æ˜æ‰€æœ‰Mavené…ç½®ã€‚

å¦‚æœæ‚¨ä¸æƒ³ä½¿ç”¨`spring-boot-starter-parent`ï¼Œæ‚¨ä»ç„¶å¯ä»¥é€šè¿‡ä½¿ç”¨`scope=import`ä¾èµ–é¡¹æ¥ä¿æŒä¾èµ–é¡¹ç®¡ç†ï¼ˆä½†ä¸æ˜¯æ’ä»¶ç®¡ç†ï¼‰çš„å¥½å¤„ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
<dependencyManagement>
		<dependencies>
		<dependency>
			<!-- Import dependency management from Spring Boot -->
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-dependencies</artifactId>
			<version>2.1.1.RELEASE</version>
			<type>pom</type>
			<scope>import</scope>
		</dependency>
	</dependencies>
</dependencyManagement>
```

å¦‚ä¸Šæ‰€è¿°ï¼Œå‰é¢çš„ç¤ºä¾‹è®¾ç½®ä¸å…è®¸æ‚¨ä½¿ç”¨å±æ€§è¦†ç›–å•ä¸ªä¾èµ–é¡¹ã€‚è¦è·å¾—ç›¸åŒçš„ç»“æœï¼Œæ‚¨éœ€è¦åœ¨`spring-boot-dependencies`æ¡ç›®**ä¹‹å‰**åœ¨é¡¹ç›®çš„`dependencyManagement`ä¸­æ·»åŠ æ¡ç›®ã€‚ä¾‹å¦‚ï¼Œè¦å‡çº§åˆ°å¦ä¸€ä¸ªSpringæ•°æ®å‘å¸ƒåˆ—ï¼Œæ‚¨å¯ä»¥å°†ä»¥ä¸‹å…ƒç´ æ·»åŠ åˆ°`pom.xml`ï¼š

```
<dependencyManagement>
	<dependencies>
		<!-- Override Spring Data release train provided by Spring Boot -->
		<dependency>
			<groupId>org.springframework.data</groupId>
			<artifactId>spring-data-releasetrain</artifactId>
			<version>Fowler-SR2</version>
			<type>pom</type>
			<scope>import</scope>
		</dependency>
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-dependencies</artifactId>
			<version>2.1.1.RELEASE</version>
			<type>pom</type>
			<scope>import</scope>
		</dependency>
	</dependencies>
</dependencyManagement>
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>åœ¨å‰é¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬æŒ‡å®šäº†<em>BOM</em>ï¼Œä½†æ˜¯å¯ä»¥ä»¥ç›¸åŒçš„æ–¹å¼è¦†ç›–ä»»ä½•ä¾èµ–å…³ç³»ç±»å‹ã€‚</p></td></tr></tbody></table>

### 13.2.3ä½¿ç”¨Spring Boot Mavenæ’ä»¶

Spring BootåŒ…å«ä¸€ä¸ª[Mavenæ’ä»¶](#build-tool-plugins-maven-plugin "71. Spring Boot Mavenæ’ä»¶")ï¼Œå¯ä»¥å°†é¡¹ç›®æ‰“åŒ…ä¸ºå¯æ‰§è¡Œjarã€‚å¦‚æœè¦ä½¿ç”¨æ’ä»¶ï¼Œè¯·å°†æ’ä»¶æ·»åŠ åˆ°`<plugins>`éƒ¨åˆ†ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
<build>
	<plugins>
		<plugin>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-maven-plugin</artifactId>
		</plugin>
	</plugins>
</build>
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å¦‚æœæ‚¨ä½¿ç”¨Spring Bootå¯åŠ¨ç¨‹åºçˆ¶pomï¼Œåˆ™åªéœ€æ·»åŠ æ’ä»¶ã€‚é™¤éæ‚¨è¦æ›´æ”¹çˆ¶çº§ä¸­å®šä¹‰çš„è®¾ç½®ï¼Œå¦åˆ™æ— éœ€å¯¹å…¶è¿›è¡Œé…ç½®ã€‚</p></td></tr></tbody></table>

13.3Â Gradle
-----------

è¦äº†è§£å¦‚ä½•å°†Spring Bootä¸Gradleä¸€èµ·ä½¿ç”¨ï¼Œè¯·å‚é˜…Spring Bootçš„Gradleæ’ä»¶çš„æ–‡æ¡£ï¼š

*   å‚è€ƒï¼ˆ[HTML](https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/gradle-plugin/reference/html)å’Œ [PDF](https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/gradle-plugin/reference/pdf/spring-boot-gradle-plugin-reference.pdf)ï¼‰
*   [API](https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/gradle-plugin/api)

13.4Â Ant
--------

å¯ä»¥ä½¿ç”¨Apache Ant + Ivyæ„å»ºä¸€ä¸ªSpring Booté¡¹ç›®ã€‚`spring-boot-antlib`â€œAntLibâ€æ¨¡å—ä¹Ÿå¯ç”¨äºå¸®åŠ©Antåˆ›å»ºå¯æ‰§è¡Œjarã€‚

è¦å£°æ˜ä¾èµ–é¡¹ï¼Œå…¸å‹çš„`ivy.xml`æ–‡ä»¶ç±»ä¼¼äºä»¥ä¸‹ç¤ºä¾‹ï¼š

```
<ivy-module version="2.0">
	<info organisation="org.springframework.boot" module="spring-boot-sample-ant" />
	<configurations>
		<conf  />
		<conf  />
	</configurations>
	<dependencies>
		<dependency org="org.springframework.boot" 
			rev="${spring-boot.version}" conf="compile" />
	</dependencies>
</ivy-module>
```

å…¸å‹çš„`build.xml`ç±»ä¼¼äºä»¥ä¸‹ç¤ºä¾‹ï¼š

```
<project
	xmlns:ivy="antlib:org.apache.ivy.ant"
	xmlns:spring-boot="antlib:org.springframework.boot.ant"
	>

	<property  />

	<target >
		<ivy:retrieve pattern="lib/[conf]/[artifact]-[type]-[revision].[ext]" />
	</target>

	<target >
		<path id="compile.classpath">
			<fileset dir="lib/compile" includes="*.jar" />
		</path>
	</target>

	<target >
		<mkdir dir="build/classes" />
	</target>

	<target >
		<javac srcdir="src/main/java" destdir="build/classes" classpathref="compile.classpath" />
	</target>

	<target >
		<spring-boot:exejar destfile="build/myapp.jar" classes="build/classes">
			<spring-boot:lib>
				<fileset dir="lib/runtime" />
			</spring-boot:lib>
		</spring-boot:exejar>
	</target>
</project>
```

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¦‚æœæ‚¨ä¸æƒ³ä½¿ç”¨<code class="literal" i="180">spring-boot-antlib</code>æ¨¡å—ï¼Œè¯·å‚è§ <em><a class="xref" href="#howto-build-an-executable-archive-with-ant" title="91.9åœ¨ä¸ä½¿ç”¨spring-boot-antlibçš„æƒ…å†µä¸‹ä»Antæ„å»ºå¯æ‰§è¡Œæ–‡ä»¶">ç¬¬91.9èŠ‚â€œä»Antæ„å»ºå¯æ‰§è¡Œæ–‡ä»¶ï¼Œè€Œä¸ä½¿ç”¨<code class="literal" i="181">spring-boot-antlib</code>â€</a></em> â€œæ“ä½œæ–¹æ³•â€ã€‚</p></td></tr></tbody></table>

13.5Â Starters
-------------

Startersæ˜¯ä¸€ç»„æ–¹ä¾¿çš„ä¾èµ–æè¿°ç¬¦ï¼Œæ‚¨å¯ä»¥åœ¨åº”ç”¨ç¨‹åºä¸­åŒ…å«è¿™äº›æè¿°ç¬¦ã€‚æ‚¨å¯ä»¥è·å¾—æ‰€éœ€çš„æ‰€æœ‰Springå’Œç›¸å…³æŠ€æœ¯çš„ä¸€ç«™å¼æœåŠ¡ï¼Œè€Œæ— éœ€æœç´¢ç¤ºä¾‹ä»£ç å’Œå¤åˆ¶ç²˜è´´ä¾èµ–æè¿°ç¬¦çš„è´Ÿè½½ã€‚ä¾‹å¦‚ï¼Œå¦‚æœè¦å¼€å§‹ä½¿ç”¨Springå’ŒJPAè¿›è¡Œæ•°æ®åº“è®¿é—®ï¼Œè¯·åœ¨é¡¹ç›®ä¸­åŒ…å«`spring-boot-starter-data-jpa`ä¾èµ–é¡¹ã€‚

å¯åŠ¨å™¨åŒ…å«è®¸å¤šä¾èµ–é¡¹ï¼Œè¿™äº›ä¾èµ–é¡¹æ˜¯ä½¿é¡¹ç›®å¿«é€Ÿå¯åŠ¨å’Œè¿è¡Œæ‰€éœ€çš„ä¾èµ–é¡¹ï¼Œä»¥åŠä¸€ç»„å—æ”¯æŒçš„æ‰˜ç®¡ä¼ é€’ä¾èµ–é¡¹ã€‚

**ä»€ä¹ˆæ˜¯åå­—**

æ‰€æœ‰**å®˜æ–¹**é¦–å‘éƒ½éµå¾ªç±»ä¼¼çš„å‘½åæ¨¡å¼; `spring-boot-starter-*`ï¼Œå…¶ä¸­`*`æ˜¯ä¸€ç§ç‰¹æ®Šç±»å‹çš„åº”ç”¨ç¨‹åºã€‚æ­¤å‘½åç»“æ„æ—¨åœ¨å¸®åŠ©æ‚¨æ‰¾åˆ°å¯åŠ¨å™¨ã€‚è®¸å¤šIDEä¸­çš„Mavené›†æˆå…è®¸æ‚¨æŒ‰åç§°æœç´¢ä¾èµ–é¡¹ã€‚ä¾‹å¦‚ï¼Œå®‰è£…äº†é€‚å½“çš„Eclipseæˆ–STSæ’ä»¶åï¼Œå¯ä»¥åœ¨POMç¼–è¾‘å™¨ä¸­æŒ‰`ctrl-space`å¹¶è¾“å…¥â€œspring-boot-starterâ€ä»¥è·å–å®Œæ•´åˆ—è¡¨ã€‚

æ­£å¦‚â€œ [åˆ›å»ºè‡ªå·±çš„åˆå­¦è€…](#boot-features-custom-starter "49.5åˆ›å»ºè‡ªå·±çš„åˆå­¦è€…") â€éƒ¨åˆ†æ‰€è¿°ï¼Œç¬¬ä¸‰æ–¹å¯åŠ¨è€…ä¸åº”ä»¥`spring-boot`å¼€å¤´ï¼Œå› ä¸ºå®ƒæ˜¯ä¸ºå®˜æ–¹Spring Bootå·¥ä»¶ä¿ç•™çš„ã€‚ç›¸åï¼Œç¬¬ä¸‰æ–¹å¯åŠ¨å™¨é€šå¸¸ä»¥é¡¹ç›®åç§°å¼€å¤´ã€‚ä¾‹å¦‚ï¼Œåä¸º`thirdpartyproject`çš„ç¬¬ä¸‰æ–¹å¯åŠ¨é¡¹ç›®é€šå¸¸è¢«å‘½åä¸º`thirdpartyproject-spring-boot-starter`ã€‚

ä»¥ä¸‹åº”ç”¨ç¨‹åºå¯åŠ¨ç¨‹åºç”±`org.springframework.boot`ç»„ä¸‹çš„Spring Bootæä¾›ï¼š

**è¡¨13.1ã€‚Spring Bootåº”ç”¨ç¨‹åºå¯åŠ¨å™¨**

<table class="table" summary="Spring Boot application starters" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"><col class="col_3"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">åç§°</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">æè¿°</th><th style="border-bottom: 1px solid ; " align="left" valign="top">åŒå“ç‚®</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>æ ¸å¿ƒå¯åŠ¨å™¨ï¼ŒåŒ…æ‹¬è‡ªåŠ¨é…ç½®æ”¯æŒï¼Œæ—¥å¿—è®°å½•å’ŒYAML</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-activemq</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨Apache ActiveMQè¿›è¡ŒJMSæ¶ˆæ¯ä¼ é€’çš„å…¥é—¨è€…</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-activemq/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-amqp</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨Spring AMQPå’ŒRabbit MQçš„å…¥é—¨è€…</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-amqp/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-aop</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨Spring AOPå’ŒAspectJè¿›è¡Œé¢å‘æ–¹é¢ç¼–ç¨‹çš„å…¥é—¨è€…</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-aop/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-artemis</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨Apache Artemisè¿›è¡ŒJMSæ¶ˆæ¯ä¼ é€’çš„å…¥é—¨è€…</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-artemis/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-batch</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨Springæ‰¹å¤„ç†çš„åˆå­¦è€…</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-batch/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-cache</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨Spring Frameworkçš„ç¼“å­˜æ”¯æŒçš„åˆå­¦è€…</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-cache/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-cloud-connectors</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨Springäº‘è¿æ¥å™¨çš„åˆå­¦è€…ç®€åŒ–äº†ä¸Cloud Foundryå’ŒHerokuç­‰äº‘å¹³å°ä¸­çš„æœåŠ¡çš„è¿æ¥</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-cloud-connectors/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-data-cassandra</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨Cassandraåˆ†å¸ƒå¼æ•°æ®åº“å’ŒSpringæ•°æ®çš„åˆå­¦è€…Cassandra</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-data-cassandra/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-data-cassandra-reactive</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨Cassandraåˆ†å¸ƒå¼æ•°æ®åº“å’ŒSpringæ•°æ®Cassandra Reactiveçš„å…¥é—¨è€…</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-data-cassandra-reactive/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-data-couchbase</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨Couchbaseé¢å‘æ–‡æ¡£çš„æ•°æ®åº“å’ŒSpring Data Couchbaseçš„å…¥é—¨è€…</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-data-couchbase/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-data-couchbase-reactive</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨Couchbaseé¢å‘æ–‡æ¡£çš„æ•°æ®åº“å’ŒSpring Data Couchbase Reactiveçš„å…¥é—¨è€…</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-data-couchbase-reactive/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-data-elasticsearch</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨Elasticsearchæœç´¢å’Œåˆ†æå¼•æ“ä»¥åŠSpring Data Elasticsearchçš„åˆå­¦è€…</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-data-elasticsearch/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-data-jdbc</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨Springæ•°æ®JDBCçš„å…¥é—¨è€…</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-data-jdbc/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-data-jpa</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨Spring Data JPAå’ŒHibernateçš„åˆå­¦è€…</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-data-jpa/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-data-ldap</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨Springæ•°æ®LDAPçš„å…¥é—¨è€…</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-data-ldap/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-data-mongodb</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨MongoDBé¢å‘æ–‡æ¡£çš„æ•°æ®åº“å’ŒSpring Data MongoDBçš„åˆå­¦è€…</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-data-mongodb/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-data-mongodb-reactive</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨MongoDBé¢å‘æ–‡æ¡£çš„æ•°æ®åº“å’ŒSpring Data MongoDB Reactiveçš„å…¥é—¨è€…</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-data-mongodb-reactive/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-data-neo4j</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨Neo4jå›¾å½¢æ•°æ®åº“å’ŒSpringæ•°æ®Neo4jçš„å…¥é—¨è€…</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-data-neo4j/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-data-redis</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨Springæ•°æ®Rediså’ŒLettuceå®¢æˆ·ç«¯ä½¿ç”¨Redisé”®å€¼æ•°æ®å­˜å‚¨çš„å…¥é—¨è€…</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-data-redis/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-data-redis-reactive</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨Redisæ•°æ®Redisè¢«åŠ¨å’ŒLettuceå®¢æˆ·ç«¯çš„Redisé”®å€¼æ•°æ®å­˜å‚¨çš„å…¥é—¨è€…</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-data-redis-reactive/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-data-rest</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨Spring Data RESTé€šè¿‡RESTå…¬å¼€Springæ•°æ®å­˜å‚¨åº“çš„å…¥é—¨è€…</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-data-rest/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-data-solr</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨å¸¦æœ‰Spring Data Solrçš„Apache Solræœç´¢å¹³å°çš„åˆå­¦è€…</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-data-solr/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-freemarker</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨FreeMarkerè§†å›¾æ„å»ºMVC Webåº”ç”¨ç¨‹åºçš„å…¥é—¨è€…</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-freemarker/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-groovy-templates</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨Groovyæ¨¡æ¿è§†å›¾æ„å»ºMVC Webåº”ç”¨ç¨‹åºçš„å…¥é—¨è€…</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-groovy-templates/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-hateoas</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨Spring MVCå’ŒSpring HATEOASæ„å»ºåŸºäºè¶…åª’ä½“çš„RESTful Webåº”ç”¨ç¨‹åºçš„å…¥é—¨è€…</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-hateoas/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-integration</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨Spring Integrationçš„å…¥é—¨è€…</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-integration/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-jdbc</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>å°†JDBCä¸HikariCPè¿æ¥æ± ä¸€èµ·ä½¿ç”¨çš„å…¥é—¨è€…</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-jdbc/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-jersey</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨JAX-RSå’ŒJerseyæ„å»ºRESTful Webåº”ç”¨ç¨‹åºçš„å…¥é—¨è€…ã€‚æ›¿ä»£<a class="link" href="#spring-boot-starter-web"><code class="literal">spring-boot-starter-web</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-jersey/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-jooq</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨jOOQè®¿é—®SQLæ•°æ®åº“çš„åˆå­¦è€…ã€‚æ›¿ä»£<a class="link" href="#spring-boot-starter-data-jpa"><code class="literal">spring-boot-starter-data-jpa</code></a>æˆ–<a class="link" href="#spring-boot-starter-jdbc"><code class="literal">spring-boot-starter-jdbc</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-jooq/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-json</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>é˜…è¯»å’Œå†™ä½œjsonçš„åˆå­¦è€…</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-json/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-jta-atomikos</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨Atomikosè¿›è¡ŒJTAäº¤æ˜“çš„å…¥é—¨è€…</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-jta-atomikos/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-jta-bitronix</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨Bitronixè¿›è¡ŒJTAäº‹åŠ¡çš„å…¥é—¨è€…</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-jta-bitronix/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-mail</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨Java Mailå’ŒSpring Frameworkçš„ç”µå­é‚®ä»¶å‘é€æ”¯æŒçš„å…¥é—¨è€…</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-mail/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-mustache</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨Mustacheè§†å›¾æ„å»ºWebåº”ç”¨ç¨‹åºçš„å…¥é—¨è€…</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-mustache/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-oauth2-client</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨Springå®‰å…¨æ€§OAuth2 / OpenID Connectå®¢æˆ·ç«¯åŠŸèƒ½çš„å…¥é—¨çº§äº§å“</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-oauth2-client/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-oauth2-resource-server</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨Springå®‰å…¨æ€§OAuth2èµ„æºæœåŠ¡å™¨åŠŸèƒ½çš„å…¥é—¨è€…</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-oauth2-resource-server/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-quartz</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨Quartzè°ƒåº¦ç¨‹åºçš„å…¥é—¨è€…</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-quartz/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-security</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨Springå®‰å…¨æ€§çš„å…¥é—¨è€…</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-security/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-test</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ç”¨äºæµ‹è¯•åŒ…å«JUnitï¼ŒHamcrestå’ŒMockitoç­‰åº“çš„Spring Bootåº”ç”¨ç¨‹åºçš„å…¥é—¨è€…</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-test/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-thymeleaf</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨Thymeleafè§†å›¾æ„å»ºMVC Webåº”ç”¨ç¨‹åºçš„å…¥é—¨è€…</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-thymeleaf/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-validation</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨Java BeanéªŒè¯ä¸Hibernate Validatorçš„åˆå­¦è€…</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-validation/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-web</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨Spring MVCæ„å»ºWebï¼ˆåŒ…æ‹¬RESTfulï¼‰åº”ç”¨ç¨‹åºçš„å…¥é—¨è€…ã€‚ä½¿ç”¨Tomcatä½œä¸ºé»˜è®¤åµŒå…¥å¼å®¹å™¨</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-web/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-web-services</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨Spring WebæœåŠ¡çš„å…¥é—¨è€…</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-web-services/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-webflux</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨Spring Frameworkçš„Reactive Webæ”¯æŒæ„å»ºWebFluxåº”ç”¨ç¨‹åºçš„åˆå­¦è€…</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-webflux/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-websocket</code></p></td><td style="border-right: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨Spring Frameworkçš„WebSocketæ”¯æŒæ„å»ºWebSocketåº”ç”¨ç¨‹åºçš„å…¥é—¨è€…</p></td><td style="" align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-websocket/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr></tbody></table>  

é™¤åº”ç”¨ç¨‹åºå¯åŠ¨å™¨å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å¯åŠ¨å™¨æ·»åŠ  _[ç”Ÿäº§å°±ç»ª](#production-ready "ç¬¬äº”éƒ¨åˆ†å¼¹ç°§å¯åŠ¨æ‰§è¡Œå™¨ï¼šç”Ÿäº§å°±ç»ªåŠŸèƒ½")_åŠŸèƒ½ï¼š

**è¡¨13.2ã€‚Spring Bootåˆ¶ä½œé¦–å‘**

<table class="table" summary="Spring Boot production starters" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"><col class="col_3"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">åç§°</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">æè¿°</th><th style="border-bottom: 1px solid ; " align="left" valign="top">åŒå“ç‚®</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-actuator</code></p></td><td style="border-right: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨Spring Bootçš„Actuatorçš„å¯åŠ¨å™¨ï¼Œå®ƒæä¾›ç”Ÿäº§å°±ç»ªåŠŸèƒ½ï¼Œå¸®åŠ©æ‚¨ç›‘æ§å’Œç®¡ç†æ‚¨çš„åº”ç”¨ç¨‹åº</p></td><td style="" align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-actuator/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr></tbody></table>  

æœ€åï¼ŒSpring Bootè¿˜åŒ…æ‹¬ä»¥ä¸‹å¯ç”¨äºæ’é™¤æˆ–äº¤æ¢ç‰¹å®šæŠ€æœ¯æ–¹é¢çš„å¯åŠ¨å™¨ï¼š

**è¡¨13.3ã€‚Spring BootæŠ€æœ¯å…ˆå‘è€…**

<table class="table" summary="Spring Boot technical starters" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"><col class="col_3"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">åç§°</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">æè¿°</th><th style="border-bottom: 1px solid ; " align="left" valign="top">åŒå“ç‚®</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-jetty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨Jettyä½œä¸ºåµŒå…¥å¼servletå®¹å™¨çš„å…¥é—¨ã€‚æ›¿ä»£<a class="link" href="#spring-boot-starter-tomcat"><code class="literal">spring-boot-starter-tomcat</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-jetty/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-log4j2</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨Log4j2è¿›è¡Œæ—¥å¿—è®°å½•çš„å…¥é—¨ã€‚æ›¿ä»£<a class="link" href="#spring-boot-starter-logging"><code class="literal">spring-boot-starter-logging</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-log4j2/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-logging</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨Logbackè¿›è¡Œæ—¥å¿—è®°å½•çš„å…¥é—¨ã€‚é»˜è®¤æ—¥å¿—å¯åŠ¨å™¨</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-logging/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-reactor-netty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨Reactor Nettyä½œä¸ºåµŒå…¥å¼å“åº”å¼HTTPæœåŠ¡å™¨çš„å…¥é—¨è€…ã€‚</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-reactor-netty/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-tomcat</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨Tomcatä½œä¸ºåµŒå…¥å¼servletå®¹å™¨çš„å…¥é—¨è€…ã€‚ä½¿ç”¨çš„é»˜è®¤servletå®¹å™¨å¯åŠ¨å™¨<a class="link" href="#spring-boot-starter-web"><code class="literal">spring-boot-starter-web</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-tomcat/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top"><p><a></a><code class="literal">spring-boot-starter-undertow</code></p></td><td style="border-right: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨Undertowä½œä¸ºåµŒå…¥å¼servletå®¹å™¨çš„å…¥é—¨è€…ã€‚æ›¿ä»£<a class="link" href="#spring-boot-starter-tomcat"><code class="literal">spring-boot-starter-tomcat</code></a></p></td><td style="" align="left" valign="top"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-undertow/pom.xml" target="_top">åŒå“ç‚®</a></p></td></tr></tbody></table>  
<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æœ‰å…³å…¶ä»–ç¤¾åŒºè´¡çŒ®çš„å¯åŠ¨å™¨çš„åˆ—è¡¨ï¼Œè¯·å‚é˜…GitHubä¸Š<code class="literal" i="190">spring-boot-starters</code>æ¨¡å—ä¸­çš„ <a class="link" href="https://github.com/spring-projects/spring-boot/tree/master/spring-boot-project/spring-boot-starters/README.adoc" target="_top">READMEæ–‡ä»¶</a>ã€‚</p></td></tr></tbody></table>

14.æ„å»ºæ‚¨çš„ä»£ç 
---------

Spring Bootä¸éœ€è¦ä»»ä½•ç‰¹å®šçš„ä»£ç å¸ƒå±€ã€‚ä½†æ˜¯ï¼Œæœ‰ä¸€äº›æœ€ä½³å®è·µå¯ä»¥æä¾›å¸®åŠ©ã€‚

14.1ä½¿ç”¨â€œé»˜è®¤â€åŒ…
-----------

å½“ä¸€ä¸ªç±»ä¸åŒ…å«`package`å£°æ˜æ—¶ï¼Œå®ƒè¢«è®¤ä¸ºæ˜¯åœ¨â€œé»˜è®¤åŒ…â€ä¸­ã€‚é€šå¸¸ä¸é¼“åŠ±ä½¿ç”¨â€œé»˜è®¤åŒ…â€ï¼Œåº”è¯¥é¿å…ä½¿ç”¨ã€‚å¯¹äºä½¿ç”¨`@ComponentScan`ï¼Œ`@EntityScan`æˆ–`@SpringBootApplication`æ³¨é‡Šçš„Spring Bootåº”ç”¨ç¨‹åºï¼Œå®ƒå¯èƒ½ä¼šå¯¼è‡´ç‰¹å®šé—®é¢˜ï¼Œå› ä¸ºæ¯ä¸ªjarä¸­çš„æ¯ä¸ªç±»éƒ½è¢«è¯»å–ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æˆ‘ä»¬å»ºè®®æ‚¨éµå¾ªJavaæ¨èçš„åŒ…å‘½åçº¦å®šå¹¶ä½¿ç”¨åå‘åŸŸåï¼ˆä¾‹å¦‚ï¼Œ<code class="literal" i="195">com.example.project</code>ï¼‰ã€‚</p></td></tr></tbody></table>

14.2æ‰¾åˆ°ä¸»åº”ç”¨ç¨‹åºç±»
------------

æˆ‘ä»¬é€šå¸¸å»ºè®®æ‚¨å°†ä¸»åº”ç”¨ç¨‹åºç±»æ”¾åœ¨å…¶ä»–ç±»ä¹‹ä¸Šçš„æ ¹åŒ…ä¸­ã€‚çš„[`@SpringBootApplication`æ³¨é‡Š](#using-boot-using-springbootapplication-annotation "18.ä½¿ç”¨@SpringBootApplication Annotation")å¾€å¾€æ”¾åœ¨ä¸»ç±»ï¼Œå®ƒéšå¼åœ°å®šä¹‰æŸäº›é¡¹ç›®ç¢±â€œçš„æœç´¢åŒ…â€ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æ­£åœ¨ç¼–å†™JPAåº”ç”¨ç¨‹åºï¼Œåˆ™ä½¿ç”¨`@SpringBootApplication`å¸¦æ³¨é‡Šç±»çš„åŒ…æ¥æœç´¢`@Entity`é¡¹ã€‚ä½¿ç”¨æ ¹åŒ…è¿˜å…è®¸ç»„ä»¶æ‰«æä»…åº”ç”¨äºæ‚¨çš„é¡¹ç›®ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¦‚æœæ‚¨ä¸æƒ³ä½¿ç”¨<code class="literal" i="199">@SpringBootApplication</code>ï¼Œå®ƒå¯¼å…¥çš„<code class="literal" i="200">@EnableAutoConfiguration</code>å’Œ<code class="literal" i="201">@ComponentScan</code>æ³¨é‡Šä¼šå®šä¹‰è¯¥è¡Œä¸ºï¼Œå› æ­¤æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨å®ƒã€‚</p></td></tr></tbody></table>

ä»¥ä¸‹æ¸…å•æ˜¾ç¤ºäº†å…¸å‹çš„å¸ƒå±€ï¼š

```
com
 +- example
     +- myapplication
         +- Application.java
         |
         +- customer
         |   +- Customer.java
         |   +- CustomerController.java
         |   +- CustomerService.java
         |   +- CustomerRepository.java
         |
         +- order
             +- Order.java
             +- OrderController.java
             +- OrderService.java
             +- OrderRepository.java
```

`Application.java`æ–‡ä»¶å°†å£°æ˜`main`æ–¹æ³•ä»¥åŠåŸºæœ¬`@SpringBootApplication`ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
package com.example.myapplication;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

_@SpringBootApplication_
public class Application {

	public static void main(String[] args) {
		SpringApplication.run(Application.class, args);
	}

}
```

15.é…ç½®ç±»
------

Spring Bootæ”¯æŒåŸºäºJavaçš„é…ç½®ã€‚è™½ç„¶å¯ä»¥å°†`SpringApplication`ä¸XMLæºä¸€èµ·ä½¿ç”¨ï¼Œä½†æˆ‘ä»¬é€šå¸¸å»ºè®®æ‚¨çš„ä¸»è¦æ¥æºæ˜¯å•ä¸ª`@Configuration`ç±»ã€‚é€šå¸¸ï¼Œå®šä¹‰`main`æ–¹æ³•çš„ç±»æ˜¯ä¸»è¦çš„`@Configuration`å€™é€‰è€…ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>è®¸å¤šSpringé…ç½®ç¤ºä¾‹å·²åœ¨Internetä¸Šå‘å¸ƒï¼Œä½¿ç”¨XMLé…ç½®ã€‚å¦‚æœå¯èƒ½ï¼Œè¯·å§‹ç»ˆå°è¯•ä½¿ç”¨ç­‰æ•ˆçš„åŸºäºJavaçš„é…ç½®ã€‚æœç´¢<code class="literal" i="209">Enable*</code>æ³¨é‡Šå¯èƒ½æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„èµ·ç‚¹ã€‚</p></td></tr></tbody></table>

15.1å¯¼å…¥å…¶ä»–é…ç½®ç±»
-----------

ä½ ä¸éœ€è¦å°†æ‰€æœ‰`@Configuration`æ”¾å…¥ä¸€ä¸ªç­çº§ã€‚`@Import`æ³¨é‡Šå¯ç”¨äºå¯¼å…¥å…¶ä»–é…ç½®ç±»ã€‚æˆ–è€…ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨`@ComponentScan`è‡ªåŠ¨é€‰å–æ‰€æœ‰Springç»„ä»¶ï¼ŒåŒ…æ‹¬`@Configuration`ç±»ã€‚

15.2å¯¼å…¥XMLé…ç½®
-----------

å¦‚æœæ‚¨ç»å¯¹å¿…é¡»ä½¿ç”¨åŸºäºXMLçš„é…ç½®ï¼Œæˆ‘ä»¬å»ºè®®æ‚¨ä»ç„¶ä½¿ç”¨`@Configuration`ç±»ã€‚ç„¶åï¼Œæ‚¨å¯ä»¥ä½¿ç”¨`@ImportResource`æ³¨é‡Šæ¥åŠ è½½XMLé…ç½®æ–‡ä»¶ã€‚

16.è‡ªåŠ¨é…ç½®
-------

Spring Bootè‡ªåŠ¨é…ç½®å°è¯•æ ¹æ®æ‚¨æ·»åŠ çš„jarä¾èµ–é¡¹è‡ªåŠ¨é…ç½®æ‚¨çš„Springåº”ç”¨ç¨‹åºã€‚ä¾‹å¦‚ï¼Œå¦‚æœ`HSQLDB`åœ¨æ‚¨çš„ç±»è·¯å¾„ä¸Šï¼Œå¹¶ä¸”æ‚¨å°šæœªæ‰‹åŠ¨é…ç½®ä»»ä½•æ•°æ®åº“è¿æ¥beansï¼Œåˆ™Spring Bootä¼šè‡ªåŠ¨é…ç½®å†…å­˜æ•°æ®åº“ã€‚

æ‚¨éœ€è¦é€šè¿‡å‘`@Configuration`ç±»ä¹‹ä¸€æ·»åŠ `@EnableAutoConfiguration`æˆ–`@SpringBootApplication`æ³¨é‡Šæ¥é€‰æ‹©åŠ å…¥è‡ªåŠ¨é…ç½®ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æ‚¨åº”è¯¥åªæ·»åŠ ä¸€ä¸ª<code class="literal" i="220">@SpringBootApplication</code>æˆ–<code class="literal" i="221">@EnableAutoConfiguration</code>æ³¨é‡Šã€‚æˆ‘ä»¬é€šå¸¸å»ºè®®æ‚¨ä»…å°†ä¸€ä¸ªæˆ–å¦ä¸€ä¸ªæ·»åŠ åˆ°ä¸»<code class="literal" i="222">@Configuration</code>ç±»ã€‚</p></td></tr></tbody></table>

16.1é€æ­¥æ›´æ¢è‡ªåŠ¨é…ç½®
------------

è‡ªåŠ¨é…ç½®æ˜¯éä¾µå…¥æ€§çš„ã€‚åœ¨ä»»ä½•æ—¶å€™ï¼Œæ‚¨éƒ½å¯ä»¥å¼€å§‹å®šä¹‰è‡ªå·±çš„é…ç½®ä»¥æ›¿æ¢è‡ªåŠ¨é…ç½®çš„ç‰¹å®šéƒ¨åˆ†ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ·»åŠ è‡ªå·±çš„`DataSource` beanï¼Œåˆ™é»˜è®¤çš„åµŒå…¥å¼æ•°æ®åº“æ”¯æŒä¼šé€€å›ã€‚

å¦‚æœæ‚¨éœ€è¦äº†è§£å½“å‰æ­£åœ¨åº”ç”¨çš„è‡ªåŠ¨é…ç½®ä»¥åŠåŸå› ï¼Œè¯·ä½¿ç”¨`--debug`å¼€å…³å¯åŠ¨æ‚¨çš„åº”ç”¨ç¨‹åºã€‚è¿™æ ·åšå¯ä»¥ä¸ºé€‰æ‹©çš„æ ¸å¿ƒè®°å½•å™¨å¯ç”¨è°ƒè¯•æ—¥å¿—ï¼Œå¹¶å°†æ¡ä»¶æŠ¥å‘Šè®°å½•åˆ°æ§åˆ¶å°ã€‚

16.2ç¦ç”¨ç‰¹å®šçš„è‡ªåŠ¨é…ç½®ç±»
--------------

å¦‚æœå‘ç°æ­£åœ¨åº”ç”¨æ‚¨ä¸éœ€è¦çš„ç‰¹å®šè‡ªåŠ¨é…ç½®ç±»ï¼Œåˆ™å¯ä»¥ä½¿ç”¨`@EnableAutoConfiguration`çš„excludeå±æ€§ç¦ç”¨å®ƒä»¬ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
import org.springframework.boot.autoconfigure.*;
import org.springframework.boot.autoconfigure.jdbc.*;
import org.springframework.context.annotation.*;

_@Configuration_
_@EnableAutoConfiguration(exclude={DataSourceAutoConfiguration.class})_
public class MyConfiguration {
}
```

å¦‚æœç±»ä¸åœ¨ç±»è·¯å¾„ä¸Šï¼Œåˆ™å¯ä»¥ä½¿ç”¨æ³¨é‡Šçš„`excludeName`å±æ€§å¹¶æŒ‡å®šå®Œå…¨é™å®šåç§°ã€‚æœ€åï¼Œæ‚¨è¿˜å¯ä»¥ä½¿ç”¨`spring.autoconfigure.exclude`å±æ€§æ§åˆ¶è¦æ’é™¤çš„è‡ªåŠ¨é…ç½®ç±»åˆ—è¡¨ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æ‚¨å¯ä»¥åœ¨æ³¨é‡Šçº§åˆ«å’Œä½¿ç”¨å±æ€§å®šä¹‰æ’é™¤é¡¹ã€‚</p></td></tr></tbody></table>

17. Spring Beanså’Œä¾èµ–æ³¨å…¥

---------------------

æ‚¨å¯ä»¥è‡ªç”±ä½¿ç”¨ä»»ä½•æ ‡å‡†Springæ¡†æ¶æŠ€æœ¯æ¥å®šä¹‰beansåŠå…¶æ³¨å…¥çš„ä¾èµ–é¡¹ã€‚ä¸ºç®€å•èµ·è§ï¼Œæˆ‘ä»¬ç»å¸¸å‘ç°ä½¿ç”¨`@ComponentScan`ï¼ˆæ‰¾åˆ°ä½ çš„beansï¼‰å’Œä½¿ç”¨`@Autowired`ï¼ˆåšæ„é€ å‡½æ•°æ³¨å…¥ï¼‰æ•ˆæœå¾ˆå¥½ã€‚

å¦‚æœæŒ‰ç…§ä¸Šé¢çš„å»ºè®®æ„å»ºä»£ç ï¼ˆåœ¨æ ¹åŒ…ä¸­å®šä½åº”ç”¨ç¨‹åºç±»ï¼‰ï¼Œåˆ™å¯ä»¥æ·»åŠ `@ComponentScan`è€Œä¸å¸¦ä»»ä½•å‚æ•°ã€‚æ‚¨çš„æ‰€æœ‰åº”ç”¨ç¨‹åºç»„ä»¶ï¼ˆ`@Component`ï¼Œ`@Service`ï¼Œ`@Repository`ï¼Œ`@Controller`ç­‰ï¼‰éƒ½ä¼šè‡ªåŠ¨æ³¨å†Œä¸ºSpring Beansã€‚

ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†`@Service` Beanï¼Œå®ƒä½¿ç”¨æ„é€ å‡½æ•°æ³¨å…¥æ¥è·å–æ‰€éœ€çš„`RiskAssessor` beanï¼š

```
package com.example.service;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

_@Service_
public class DatabaseAccountService implements AccountService {

	private final RiskAssessor riskAssessor;

	_@Autowired_
	public DatabaseAccountService(RiskAssessor riskAssessor) {
		this.riskAssessor = riskAssessor;
	}

	// ...

}
```

å¦‚æœbeanæœ‰ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œåˆ™å¯ä»¥çœç•¥`@Autowired`ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
_@Service_
public class DatabaseAccountService implements AccountService {

	private final RiskAssessor riskAssessor;

	public DatabaseAccountService(RiskAssessor riskAssessor) {
		this.riskAssessor = riskAssessor;
	}

	// ...

}
```

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>è¯·æ³¨æ„ä½¿ç”¨æ„é€ å‡½æ•°æ³¨å…¥å¦‚ä½•å°†<code class="literal" i="238">riskAssessor</code>å­—æ®µæ ‡è®°ä¸º<code class="literal" i="239">final</code>ï¼Œè¡¨ç¤ºæ— æ³•éšåæ›´æ”¹å®ƒã€‚</p></td></tr></tbody></table>

18.ä½¿ç”¨@SpringBootApplication Annotation
--------------------------------------

è®¸å¤šSpring Bootå¼€å‘äººå‘˜å–œæ¬¢ä»–ä»¬çš„åº”ç”¨ç¨‹åºä½¿ç”¨è‡ªåŠ¨é…ç½®ï¼Œç»„ä»¶æ‰«æï¼Œå¹¶èƒ½å¤Ÿåœ¨ä»–ä»¬çš„â€œåº”ç”¨ç¨‹åºç±»â€ä¸Šå®šä¹‰é¢å¤–çš„é…ç½®ã€‚å•ä¸ª`@SpringBootApplication`æ³¨é‡Šå¯ç”¨äºå¯ç”¨è¿™ä¸‰ä¸ªåŠŸèƒ½ï¼Œå³ï¼š

*   `@EnableAutoConfiguration`ï¼šå¯ç”¨[Spring Bootçš„è‡ªåŠ¨é…ç½®æœºåˆ¶](#using-boot-auto-configuration "16.è‡ªåŠ¨é…ç½®")
*   `@ComponentScan`ï¼šå¯¹åº”ç”¨ç¨‹åºæ‰€åœ¨çš„è½¯ä»¶åŒ…å¯ç”¨`@Component`æ‰«æï¼ˆè¯·å‚é˜…[æœ€ä½³å®è·µ](#using-boot-structuring-your-code "14.æ„å»ºæ‚¨çš„ä»£ç ")ï¼‰
*   `@Configuration`ï¼šå…è®¸åœ¨ä¸Šä¸‹æ–‡ä¸­æ³¨å†Œé¢å¤–çš„beansæˆ–å¯¼å…¥å…¶ä»–é…ç½®ç±»

`@SpringBootApplication`æ³¨é‡Šç­‰æ•ˆäºä½¿ç”¨`@Configuration`ï¼Œ`@EnableAutoConfiguration`å’Œ`@ComponentScan`åŠå…¶é»˜è®¤å±æ€§ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
package com.example.myapplication;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

_@SpringBootApplication_ // same as @Configuration @EnableAutoConfiguration @ComponentScan
public class Application {

	public static void main(String[] args) {
		SpringApplication.run(Application.class, args);
	}

}
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p><code class="literal" i="249">@SpringBootApplication</code>è¿˜æä¾›äº†åˆ«åæ¥è‡ªå®šä¹‰<code class="literal" i="250">@EnableAutoConfiguration</code>å’Œ<code class="literal" i="251">@ComponentScan</code>çš„å±æ€§ã€‚</p></td></tr></tbody></table><table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>è¿™äº›åŠŸèƒ½ä¸­çš„Noneæ˜¯å¼ºåˆ¶æ€§çš„ï¼Œæ‚¨å¯ä»¥é€‰æ‹©ä½¿ç”¨å®ƒå¯ç”¨çš„ä»»ä½•åŠŸèƒ½æ›¿æ¢æ­¤å•ä¸ªæ³¨é‡Šã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯èƒ½ä¸å¸Œæœ›åœ¨åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨ç»„ä»¶æ‰«æï¼š</p><pre class="programlisting notranslate">package com.example.myapplication;


import org.springframework.boot.SpringApplication;
import org.springframework.context.annotation.ComponentScan
import org.springframework.context.annotation.Configuration;
import org.springframework.context.annotation.Import;

<em>@Configuration</em>
<em>@EnableAutoConfiguration</em>
<em>@Import({ MyConfig.class, MyAnotherConfig.class })</em>
public class Application {

	public static void main(String[] args) {
			SpringApplication.run(Application.class, args);
	}

}</pre><p>åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œ<code class="literal" i="252">Application</code>ä¸ä»»ä½•å…¶ä»–Spring Bootåº”ç”¨ç¨‹åºä¸€æ ·ï¼Œé™¤äº†<code class="literal" i="253">@Component</code> - æœªè‡ªåŠ¨æ£€æµ‹å¸¦æ³¨é‡Šçš„ç±»ï¼Œå¹¶ä¸”æ˜¾å¼å¯¼å…¥ç”¨æˆ·å®šä¹‰çš„beansï¼ˆè¯·å‚é˜…<code class="literal" i="254">@Import</code>ï¼‰ ã€‚</p></td></tr></tbody></table>

19.è¿è¡Œæ‚¨çš„åº”ç”¨ç¨‹åº
-----------

å°†åº”ç”¨ç¨‹åºæ‰“åŒ…ä¸ºjarå¹¶ä½¿ç”¨åµŒå…¥å¼HTTPæœåŠ¡å™¨çš„æœ€å¤§ä¼˜åŠ¿ä¹‹ä¸€æ˜¯ï¼Œæ‚¨å¯ä»¥åƒè¿è¡Œä»»ä½•å…¶ä»–æœåŠ¡å™¨ä¸€æ ·è¿è¡Œåº”ç”¨ç¨‹åºã€‚è°ƒè¯•Spring Bootåº”ç”¨ç¨‹åºä¹Ÿå¾ˆå®¹æ˜“ã€‚æ‚¨ä¸éœ€è¦ä»»ä½•ç‰¹æ®Šçš„IDEæ’ä»¶æˆ–æ‰©å±•ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>æœ¬èŠ‚ä»…ä»‹ç»åŸºäºç½å­çš„åŒ…è£…ã€‚å¦‚æœæ‚¨é€‰æ‹©å°†åº”ç”¨ç¨‹åºæ‰“åŒ…ä¸ºwaræ–‡ä»¶ï¼Œåˆ™åº”å‚é˜…æœåŠ¡å™¨å’ŒIDEæ–‡æ¡£ã€‚</p></td></tr></tbody></table>

19.1ä»IDEè¿è¡Œ
----------

æ‚¨å¯ä»¥ä»IDEè¿è¡ŒSpring Bootåº”ç”¨ç¨‹åºä½œä¸ºç®€å•çš„Javaåº”ç”¨ç¨‹åºã€‚ä½†æ˜¯ï¼Œæ‚¨é¦–å…ˆéœ€è¦å¯¼å…¥é¡¹ç›®ã€‚å¯¼å…¥æ­¥éª¤å› IDEå’Œæ„å»ºç³»ç»Ÿè€Œå¼‚ã€‚å¤§å¤šæ•°IDEå¯ä»¥ç›´æ¥å¯¼å…¥Mavené¡¹ç›®ã€‚ä¾‹å¦‚ï¼ŒEclipseç”¨æˆ·å¯ä»¥ä»`File`èœå•ä¸­é€‰æ‹©`Importâ€¦â€‹`â†’`Existing Maven Projects`ã€‚

å¦‚æœæ— æ³•å°†é¡¹ç›®ç›´æ¥å¯¼å…¥IDEï¼Œåˆ™å¯ä»¥ä½¿ç”¨æ„å»ºæ’ä»¶ç”ŸæˆIDEå…ƒæ•°æ®ã€‚MavenåŒ…æ‹¬[Eclipse](https://maven.apache.org/plugins/maven-eclipse-plugin/)å’Œ [IDEAçš„](https://maven.apache.org/plugins/maven-idea-plugin/)æ’ä»¶ ã€‚Gradleæä¾›[å„ç§IDEçš„](https://docs.gradle.org/4.2.1/userguide/userguide.html)æ’ä»¶ ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¦‚æœæ‚¨ä¸å°å¿ƒè¿è¡Œäº†ä¸¤æ¬¡Webåº”ç”¨ç¨‹åºï¼Œåˆ™ä¼šçœ‹åˆ°â€œç«¯å£å·²åœ¨ä½¿ç”¨ä¸­â€é”™è¯¯ã€‚STSç”¨æˆ·å¯ä»¥ä½¿ç”¨<code class="literal" i="258">Relaunch</code>æŒ‰é’®è€Œä¸æ˜¯<code class="literal" i="259">Run</code>æŒ‰é’®æ¥ç¡®ä¿å…³é—­ä»»ä½•ç°æœ‰å®ä¾‹ã€‚</p></td></tr></tbody></table>

19.2ä½œä¸ºæ‰“åŒ…åº”ç”¨ç¨‹åºè¿è¡Œ
--------------

å¦‚æœæ‚¨ä½¿ç”¨Spring Boot Mavenæˆ–Gradleæ’ä»¶åˆ›å»ºå¯æ‰§è¡Œjarï¼Œåˆ™å¯ä»¥ä½¿ç”¨`java -jar`è¿è¡Œåº”ç”¨ç¨‹åºï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
$ java -jar target/myapplication-0.0.1-SNAPSHOT.jar
```

ä¹Ÿå¯ä»¥è¿è¡Œå¯ç”¨äº†è¿œç¨‹è°ƒè¯•æ”¯æŒçš„æ‰“åŒ…åº”ç”¨ç¨‹åºã€‚è¿™æ ·åšå¯ä»¥å°†è°ƒè¯•å™¨é™„åŠ åˆ°æ‰“åŒ…çš„åº”ç”¨ç¨‹åºï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
$ java -Xdebug -Xrunjdwp:server=y,transport=dt_socket,address=8000,suspend=n \
       -jar target/myapplication-0.0.1-SNAPSHOT.jar
```

19.3ä½¿ç”¨Mavenæ’ä»¶
-------------

Spring Boot Mavenæ’ä»¶åŒ…å«`run`ç›®æ ‡ï¼Œå¯ç”¨äºå¿«é€Ÿç¼–è¯‘å’Œè¿è¡Œæ‚¨çš„åº”ç”¨ç¨‹åºã€‚åº”ç”¨ç¨‹åºä»¥åˆ†è§£å½¢å¼è¿è¡Œï¼Œå°±åƒåœ¨IDEä¸­ä¸€æ ·ã€‚ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†è¿è¡ŒSpring Bootåº”ç”¨ç¨‹åºçš„å…¸å‹Mavenå‘½ä»¤ï¼š

```
$ mvn spring-boot:run
```

æ‚¨å¯èƒ½è¿˜æƒ³ä½¿ç”¨`MAVEN_OPTS`æ“ä½œç³»ç»Ÿç¯å¢ƒå˜é‡ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
$ export MAVEN_OPTS=-Xmx1024m
```

19.4ä½¿ç”¨Gradleæ’ä»¶
--------------

Spring Boot Gradleæ’ä»¶è¿˜åŒ…å«`bootRun`ä»»åŠ¡ï¼Œå¯ç”¨äºä»¥çˆ†ç‚¸å½¢å¼è¿è¡Œæ‚¨çš„åº”ç”¨ç¨‹åºã€‚æ¯å½“æ‚¨åº”ç”¨`org.springframework.boot`å’Œ`java`æ’ä»¶æ—¶ï¼Œéƒ½ä¼šæ·»åŠ `bootRun`ä»»åŠ¡ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
$ gradle bootRun
```

æ‚¨å¯èƒ½è¿˜æƒ³ä½¿ç”¨`JAVA_OPTS`æ“ä½œç³»ç»Ÿç¯å¢ƒå˜é‡ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
$ export JAVA_OPTS=-Xmx1024m
```

19.5çƒ­æ’æ‹”
-------

ç”±äºSpring Bootåº”ç”¨ç¨‹åºåªæ˜¯æ™®é€šçš„Javaåº”ç”¨ç¨‹åºï¼Œå› æ­¤JVMçƒ­äº¤æ¢åº”è¯¥æ˜¯å¼€ç®±å³ç”¨çš„ã€‚JVMçƒ­äº¤æ¢åœ¨æŸç§ç¨‹åº¦ä¸Šå—é™äºå®ƒå¯ä»¥æ›¿æ¢çš„å­—èŠ‚ç ã€‚è¦è·å¾—æ›´å®Œæ•´çš„è§£å†³æ–¹æ¡ˆï¼Œ å¯ä»¥ä½¿ç”¨[JRebel](https://zeroturnaround.com/software/jrebel/)ã€‚

`spring-boot-devtools`æ¨¡å—è¿˜åŒ…æ‹¬å¯¹å¿«é€Ÿåº”ç”¨ç¨‹åºé‡å¯çš„æ”¯æŒã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…[æœ¬ç« ](#using-boot-devtools "20.å¼€å‘äººå‘˜å·¥å…·")åé¢çš„[ç¬¬20ç« â€œ](#using-boot-devtools "20.Â Developer Tools") [_å¼€å‘äººå‘˜å·¥å…·â€_](#using-boot-devtools "20.Â Developer Tools")éƒ¨åˆ†å’Œ [çƒ­äº¤æ¢â€œæ“ä½œæ–¹æ³•â€](#howto-hotswapping "90.çƒ­æ’æ‹”")ã€‚

20.å¼€å‘äººå‘˜å·¥å…·
---------

Spring BootåŒ…æ‹¬ä¸€ç»„é¢å¤–çš„å·¥å…·ï¼Œå¯ä»¥ä½¿åº”ç”¨ç¨‹åºå¼€å‘ä½“éªŒæ›´åŠ æ„‰å¿«ã€‚`spring-boot-devtools`æ¨¡å—å¯ä»¥åŒ…å«åœ¨ä»»ä½•é¡¹ç›®ä¸­ï¼Œä»¥æä¾›é¢å¤–çš„å¼€å‘æ—¶é—´åŠŸèƒ½ã€‚è¦åŒ…å«devtoolsæ”¯æŒï¼Œè¯·å°†æ¨¡å—ä¾èµ–é¡¹æ·»åŠ åˆ°æ‚¨çš„æ„å»ºä¸­ï¼Œå¦‚ä»¥ä¸‹Mavenå’ŒGradleåˆ—è¡¨æ‰€ç¤ºï¼š

**Maven.** 

```
<dependencies>
	<dependency>
		<groupId>org.springframework.boot</groupId>
		<artifactId>spring-boot-devtools</artifactId>
		<optional>true</optional>
	</dependency>
</dependencies>
```

**Gradle.** 

```
configurations {
	developmentOnly
	runtimeClasspath {
		extendsFrom developmentOnly
	}
}
dependencies {
	developmentOnly("org.springframework.boot:spring-boot-devtools")
}
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>è¿è¡Œå®Œå…¨æ‰“åŒ…çš„åº”ç”¨ç¨‹åºæ—¶ä¼šè‡ªåŠ¨ç¦ç”¨å¼€å‘äººå‘˜å·¥å…·ã€‚å¦‚æœæ‚¨çš„åº”ç”¨ç¨‹åºæ˜¯ä»<code class="literal" i="270">java -jar</code>å¯åŠ¨çš„ï¼Œæˆ–è€…å®ƒæ˜¯ä»ç‰¹æ®Šçš„ç±»åŠ è½½å™¨å¯åŠ¨çš„ï¼Œåˆ™å®ƒè¢«è§†ä¸ºâ€œç”Ÿäº§åº”ç”¨ç¨‹åºâ€ã€‚åœ¨Mavenä¸­å°†ä¾èµ–é¡¹æ ‡è®°ä¸ºå¯é€‰ï¼Œæˆ–åœ¨Gradleä¸­ä½¿ç”¨custom`developmentOnly`é…ç½®ï¼ˆå¦‚ä¸Šæ‰€ç¤ºï¼‰æ˜¯é˜²æ­¢devtoolsä¼ é€’åº”ç”¨äºä½¿ç”¨é¡¹ç›®çš„å…¶ä»–æ¨¡å—çš„æœ€ä½³å®è·µã€‚</p></td></tr></tbody></table><table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>é‡æ–°æ‰“åŒ…çš„å½’æ¡£é»˜è®¤æƒ…å†µä¸‹ä¸åŒ…å«devtoolsã€‚å¦‚æœè¦ä½¿ç”¨ <a class="link" href="#using-boot-devtools-remote" title="20.5è¿œç¨‹åº”ç”¨ç¨‹åº">æŸä¸ªè¿œç¨‹devtoolsåŠŸèƒ½</a>ï¼Œåˆ™éœ€è¦ç¦ç”¨<code class="literal" i="271">excludeDevtools</code>æ„å»ºå±æ€§ä»¥åŒ…å«å®ƒã€‚Mavenå’ŒGradleæ’ä»¶å‡æ”¯æŒè¯¥å±æ€§ã€‚</p></td></tr></tbody></table>

20.1 Propertyé»˜è®¤å€¼
----------------

Spring Bootæ”¯æŒçš„å‡ ä¸ªåº“ä½¿ç”¨ç¼“å­˜æ¥æé«˜æ€§èƒ½ã€‚ä¾‹å¦‚ï¼Œ[æ¨¡æ¿å¼•æ“](#boot-features-spring-mvc-template-engines "28.1.10æ¨¡æ¿å¼•æ“")ç¼“å­˜å·²ç¼–è¯‘çš„æ¨¡æ¿ä»¥é¿å…é‡å¤è§£ææ¨¡æ¿æ–‡ä»¶ã€‚æ­¤å¤–ï¼ŒSpring MVCå¯ä»¥åœ¨æä¾›é™æ€èµ„æºæ—¶ä¸ºå“åº”æ·»åŠ HTTPç¼“å­˜å¤´ã€‚

è™½ç„¶ç¼“å­˜åœ¨ç”Ÿäº§ä¸­éå¸¸æœ‰ç”¨ï¼Œä½†åœ¨å¼€å‘è¿‡ç¨‹ä¸­å¯èƒ½ä¼šé€‚å¾—å…¶åï¼Œä»è€Œä½¿æ‚¨æ— æ³•çœ‹åˆ°åˆšåˆšåœ¨åº”ç”¨ç¨‹åºä¸­è¿›è¡Œçš„æ›´æ”¹ã€‚å› æ­¤ï¼Œspring-boot-devtoolsé»˜è®¤ç¦ç”¨ç¼“å­˜é€‰é¡¹ã€‚

ç¼“å­˜é€‰é¡¹é€šå¸¸ç”±`application.properties`æ–‡ä»¶ä¸­çš„è®¾ç½®é…ç½®ã€‚ä¾‹å¦‚ï¼ŒThymeleafæä¾›`spring.thymeleaf.cache`è´¢äº§ã€‚`spring-boot-devtools`æ¨¡å—ä¸éœ€è¦æ‰‹åŠ¨è®¾ç½®è¿™äº›å±æ€§ï¼Œè€Œæ˜¯è‡ªåŠ¨åº”ç”¨åˆç†çš„å¼€å‘æ—¶é…ç½®ã€‚

ç”±äºåœ¨å¼€å‘Spring MVCå’ŒSpring WebFluxåº”ç”¨ç¨‹åºæ—¶éœ€è¦æœ‰å…³Webè¯·æ±‚çš„æ›´å¤šä¿¡æ¯ï¼Œå› æ­¤å¼€å‘äººå‘˜å·¥å…·å°†ä¸º`web`æ—¥å¿—è®°å½•ç»„å¯ç”¨`DEBUG`æ—¥å¿—è®°å½•ã€‚è¿™å°†ä¸ºæ‚¨æä¾›æœ‰å…³ä¼ å…¥è¯·æ±‚ï¼Œå¤„ç†ç¨‹åºæ­£åœ¨å¤„ç†å®ƒï¼Œå“åº”ç»“æœç­‰çš„ä¿¡æ¯ã€‚å¦‚æœæ‚¨å¸Œæœ›è®°å½•æ‰€æœ‰è¯·æ±‚è¯¦ç»†ä¿¡æ¯ï¼ˆåŒ…æ‹¬å¯èƒ½çš„æ•æ„Ÿä¿¡æ¯ï¼‰ï¼Œæ‚¨å¯ä»¥æ‰“å¼€`spring.http.log-request-details`é…ç½®å±æ€§ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å¦‚æœæ‚¨ä¸å¸Œæœ›åº”ç”¨å±æ€§é»˜è®¤å€¼ï¼Œåˆ™å¯ä»¥åœ¨<code class="literal" i="280">application.properties</code>ä¸­å°†<code class="literal" i="278">spring.devtools.add-properties</code>è®¾ç½®ä¸º<code class="literal" i="279">false</code>ã€‚</p></td></tr></tbody></table><table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æœ‰å…³devtoolsåº”ç”¨çš„å±æ€§çš„å®Œæ•´åˆ—è¡¨ï¼Œè¯·å‚é˜… <a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-devtools/src/main/java/org/springframework/boot/devtools/env/DevToolsPropertyDefaultsPostProcessor.java" target="_top">DevToolsPropertyDefaultsPostProcessor</a>ã€‚</p></td></tr></tbody></table>

20.2è‡ªåŠ¨é‡å¯
--------

åªè¦ç±»è·¯å¾„ä¸Šçš„æ–‡ä»¶å‘ç”Ÿæ›´æ”¹ï¼Œä½¿ç”¨`spring-boot-devtools`çš„åº”ç”¨ç¨‹åºå°±ä¼šè‡ªåŠ¨é‡æ–°å¯åŠ¨ã€‚åœ¨IDEä¸­å·¥ä½œæ—¶ï¼Œè¿™å¯èƒ½æ˜¯ä¸€ä¸ªæœ‰ç”¨çš„åŠŸèƒ½ï¼Œå› ä¸ºå®ƒä¸ºä»£ç æ›´æ”¹æä¾›äº†éå¸¸å¿«é€Ÿçš„åé¦ˆå¾ªç¯ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå°†ç›‘è§†ç±»è·¯å¾„ä¸ŠæŒ‡å‘æ–‡ä»¶å¤¹çš„ä»»ä½•æ¡ç›®çš„æ›´æ”¹ã€‚è¯·æ³¨æ„ï¼ŒæŸäº›èµ„æºï¼ˆå¦‚é™æ€èµ„äº§å’Œè§†å›¾æ¨¡æ¿ï¼‰[æ— éœ€é‡æ–°å¯åŠ¨åº”ç”¨ç¨‹åº](#using-boot-devtools-restart-exclude "20.2.2ä¸åŒ…æ‹¬èµ„æº")ã€‚

**è§¦å‘é‡å¯**

ç”±äºDevToolsç›‘è§†ç±»è·¯å¾„èµ„æºï¼Œå› æ­¤è§¦å‘é‡æ–°å¯åŠ¨çš„å”¯ä¸€æ–¹æ³•æ˜¯æ›´æ–°ç±»è·¯å¾„ã€‚å¯¼è‡´æ›´æ–°ç±»è·¯å¾„çš„æ–¹å¼å–å†³äºæ‚¨ä½¿ç”¨çš„IDEã€‚åœ¨Eclipseä¸­ï¼Œä¿å­˜ä¿®æ”¹åçš„æ–‡ä»¶ä¼šå¯¼è‡´æ›´æ–°ç±»è·¯å¾„å¹¶è§¦å‘é‡æ–°å¯åŠ¨ã€‚åœ¨IntelliJ IDEAä¸­ï¼Œæ„å»ºé¡¹ç›®ï¼ˆ`Build -> Build Project`ï¼‰å…·æœ‰ç›¸åŒçš„æ•ˆæœã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>åªè¦å¯ç”¨äº†åˆ†å‰ï¼Œæ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨æ”¯æŒçš„æ„å»ºæ’ä»¶ï¼ˆMavenå’ŒGradleï¼‰å¯åŠ¨åº”ç”¨ç¨‹åºï¼Œå› ä¸ºDevToolséœ€è¦ä¸€ä¸ªç‹¬ç«‹çš„åº”ç”¨ç¨‹åºç±»åŠ è½½å™¨æ‰èƒ½æ­£å¸¸è¿è¡Œã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒGradleå’ŒMavenåœ¨ç±»è·¯å¾„ä¸Šæ£€æµ‹åˆ°DevToolsæ—¶ä¼šè¿™æ ·åšã€‚</p></td></tr></tbody></table><table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>ä¸LiveReloadä¸€èµ·ä½¿ç”¨æ—¶ï¼Œè‡ªåŠ¨é‡å¯éå¸¸æœ‰æ•ˆã€‚ <a class="link" href="#using-boot-devtools-livereload" title="20.3 LiveReload">æœ‰å…³</a>è¯¦ç»†ä¿¡æ¯ï¼Œ<a class="link" href="#using-boot-devtools-livereload" title="20.3&nbsp;LiveReload">è¯·å‚é˜…LiveReloadéƒ¨åˆ†</a>ã€‚å¦‚æœä½¿ç”¨JRebelï¼Œåˆ™ç¦ç”¨è‡ªåŠ¨é‡æ–°å¯åŠ¨ä»¥æ”¯æŒåŠ¨æ€ç±»é‡æ–°åŠ è½½ã€‚å…¶ä»–devtoolsåŠŸèƒ½ï¼ˆä¾‹å¦‚LiveReloadå’Œå±æ€§è¦†ç›–ï¼‰ä»ç„¶å¯ä»¥ä½¿ç”¨ã€‚</p></td></tr></tbody></table><table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>DevToolsä¾èµ–äºåº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡çš„å…³é—­é’©å­æ¥åœ¨é‡å¯æœŸé—´å…³é—­å®ƒã€‚å¦‚æœç¦ç”¨äº†å…³é—­æŒ‚é’©ï¼ˆ<code class="literal" i="283">SpringApplication.setRegisterShutdownHook(false)</code>ï¼‰ï¼Œå®ƒå°†æ— æ³•æ­£å¸¸å·¥ä½œã€‚</p></td></tr></tbody></table><table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>åœ¨ç¡®å®šç±»è·¯å¾„ä¸Šçš„æ¡ç›®æ˜¯å¦åº”åœ¨æ›´æ”¹æ—¶è§¦å‘é‡æ–°å¯åŠ¨æ—¶ï¼ŒDevToolsä¼šè‡ªåŠ¨å¿½ç•¥åä¸º<code class="literal" i="284">spring-boot</code>ï¼Œ<code class="literal" i="285">spring-boot-devtools</code>ï¼Œ<code class="literal" i="286">spring-boot-autoconfigure</code>ï¼Œ<code class="literal" i="287">spring-boot-actuator</code>å’Œ<code class="literal" i="288">spring-boot-starter</code>çš„é¡¹ç›®ã€‚</p></td></tr></tbody></table><table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>DevToolséœ€è¦è‡ªå®šä¹‰<code class="literal" i="290">ApplicationContext</code>ä½¿ç”¨çš„<code class="literal" i="289">ResourceLoader</code>ã€‚å¦‚æœæ‚¨çš„åº”ç”¨ç¨‹åºå·²ç»æä¾›äº†ä¸€ä¸ªï¼Œå®ƒå°†è¢«åŒ…è£…ã€‚ä¸æ”¯æŒç›´æ¥è¦†ç›–<code class="literal" i="292">ApplicationContext</code>ä¸Šçš„<code class="literal" i="291">getResource</code>æ–¹æ³•ã€‚</p></td></tr></tbody></table>

**é‡æ–°å¯åŠ¨vs Reload**

Spring Bootæä¾›çš„é‡å¯æŠ€æœ¯ä½¿ç”¨ä¸¤ä¸ªç±»åŠ è½½å™¨ã€‚ä¸æ›´æ”¹çš„ç±»ï¼ˆä¾‹å¦‚ï¼Œæ¥è‡ªç¬¬ä¸‰æ–¹jarçš„ç±»ï¼‰å°†åŠ è½½åˆ°_åŸº_ ç±»åŠ è½½å™¨ä¸­ã€‚æ‚¨æ­£åœ¨ç§¯æå¼€å‘çš„ç±»å°†åŠ è½½åˆ°_é‡æ–°å¯åŠ¨çš„_ ç±»åŠ è½½å™¨ä¸­ã€‚é‡æ–°å¯åŠ¨åº”ç”¨ç¨‹åºæ—¶ï¼Œå°†_é‡æ–°å¯åŠ¨é‡æ–°å¯åŠ¨çš„_ç±»åŠ è½½å™¨å¹¶åˆ›å»ºä¸€ä¸ªæ–°çš„ç±»åŠ è½½å™¨ã€‚è¿™ç§æ–¹æ³•æ„å‘³ç€åº”ç”¨ç¨‹åºé‡æ–°å¯åŠ¨é€šå¸¸æ¯”â€œå†·å¯åŠ¨â€å¿«å¾—å¤šï¼Œå› ä¸º_åŸºæœ¬_ç±»åŠ è½½å™¨å·²ç»å¯ç”¨å¹¶å·²å¡«å……ã€‚

å¦‚æœæ‚¨å‘ç°é‡æ–°å¯åŠ¨å¯¹äºæ‚¨çš„åº”ç”¨ç¨‹åºæ¥è¯´ä¸å¤Ÿå¿«æˆ–é‡åˆ°ç±»åŠ è½½é—®é¢˜ï¼Œæ‚¨å¯ä»¥è€ƒè™‘ä»ZeroTurnaround é‡æ–°åŠ è½½[JRebel](https://zeroturnaround.com/software/jrebel/)ç­‰æŠ€æœ¯ ã€‚è¿™äº›å·¥ä½œé€šè¿‡åœ¨åŠ è½½ç±»æ—¶é‡å†™ç±»ä»¥ä½¿å®ƒä»¬æ›´é€‚åˆé‡æ–°åŠ è½½ã€‚

### 20.2.1è®°å½•æ¡ä»¶è¯„ä¼°ä¸­çš„å˜åŒ–

é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯æ¬¡åº”ç”¨ç¨‹åºé‡æ–°å¯åŠ¨æ—¶ï¼Œéƒ½ä¼šè®°å½•ä¸€ä¸ªæ˜¾ç¤ºæ¡ä»¶è¯„ä¼°å¢é‡çš„æŠ¥å‘Šã€‚è¯¥æŠ¥å‘Šæ˜¾ç¤ºåœ¨æ‚¨è¿›è¡Œæ›´æ”¹ï¼ˆä¾‹å¦‚æ·»åŠ æˆ–åˆ é™¤beanså’Œè®¾ç½®é…ç½®å±æ€§ï¼‰æ—¶å¯¹åº”ç”¨ç¨‹åºçš„è‡ªåŠ¨é…ç½®æ‰€åšçš„æ›´æ”¹ã€‚

è¦ç¦ç”¨æŠ¥å‘Šçš„æ—¥å¿—è®°å½•ï¼Œè¯·è®¾ç½®ä»¥ä¸‹å±æ€§ï¼š

```
spring.devtools.restart.log-condition-evaluation-delta=false
```

### 20.2.2ä¸åŒ…æ‹¬èµ„æº

æŸäº›èµ„æºåœ¨æ›´æ”¹æ—¶ä¸ä¸€å®šéœ€è¦è§¦å‘é‡å¯ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥å°±åœ°ç¼–è¾‘Thymeleafæ¨¡æ¿ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ›´æ”¹`/META-INF/maven`ï¼Œ`/META-INF/resources`ï¼Œ`/resources`ï¼Œ`/static`ï¼Œ`/public`æˆ–`/templates`ä¸­çš„èµ„æºä¸ä¼šè§¦å‘é‡æ–°å¯åŠ¨ï¼Œä½†ä¼šè§¦å‘ [å®æ—¶é‡æ–°åŠ è½½](#using-boot-devtools-livereload "20.3 LiveReload")ã€‚å¦‚æœè¦è‡ªå®šä¹‰è¿™äº›æ’é™¤é¡¹ï¼Œå¯ä»¥ä½¿ç”¨`spring.devtools.restart.exclude`å±æ€§ã€‚ä¾‹å¦‚ï¼Œè¦ä»…æ’é™¤`/static`å’Œ`/public`ï¼Œæ‚¨éœ€è¦è®¾ç½®ä»¥ä¸‹å±æ€§ï¼š

```
spring.devtools.restart.exclude=static/**,public/**
```

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¦‚æœè¦ä¿ç•™è¿™äº›é»˜è®¤å€¼å¹¶<em>æ·»åŠ </em>å…¶ä»–æ’é™¤é¡¹ï¼Œè¯·æ”¹ç”¨<code class="literal" i="302">spring.devtools.restart.additional-exclude</code>å±æ€§ã€‚</p></td></tr></tbody></table>

### 20.2.3æŸ¥çœ‹å…¶ä»–è·¯å¾„

å½“æ‚¨å¯¹ä¸åœ¨ç±»è·¯å¾„ä¸­çš„æ–‡ä»¶è¿›è¡Œæ›´æ”¹æ—¶ï¼Œæ‚¨å¯èƒ½å¸Œæœ›é‡æ–°å¯åŠ¨æˆ–é‡æ–°åŠ è½½åº”ç”¨ç¨‹åºã€‚ä¸ºæ­¤ï¼Œè¯·ä½¿ç”¨`spring.devtools.restart.additional-paths`å±æ€§é…ç½®å…¶ä»–è·¯å¾„ä»¥ç›‘è§†æ›´æ”¹ã€‚æ‚¨å¯ä»¥ä½¿ç”¨[å‰é¢æè¿°](#using-boot-devtools-restart-exclude "20.2.2ä¸åŒ…æ‹¬èµ„æº")çš„`spring.devtools.restart.exclude`å±æ€§ æ¥æ§åˆ¶å…¶ä»–è·¯å¾„ä¸‹çš„æ›´æ”¹æ˜¯è§¦å‘å®Œå…¨é‡æ–°å¯åŠ¨è¿˜æ˜¯ [å®æ—¶é‡æ–°åŠ è½½](#using-boot-devtools-livereload "20.3 LiveReload")ã€‚

### 20.2.4ç¦ç”¨é‡å¯

å¦‚æœæ‚¨ä¸æƒ³ä½¿ç”¨é‡æ–°å¯åŠ¨åŠŸèƒ½ï¼Œå¯ä»¥ä½¿ç”¨`spring.devtools.restart.enabled`å±æ€§å°†å…¶ç¦ç”¨ã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæ‚¨å¯ä»¥åœ¨`application.properties`ä¸­è®¾ç½®æ­¤å±æ€§ï¼ˆè¿™æ ·åšä»ä¼šåˆå§‹åŒ–é‡æ–°å¯åŠ¨çš„ç±»åŠ è½½å™¨ï¼Œä½†å®ƒä¸ä¼šç›‘è§†æ–‡ä»¶æ›´æ”¹ï¼‰ã€‚

å¦‚æœæ‚¨éœ€è¦_å®Œå…¨_ç¦ç”¨é‡æ–°å¯åŠ¨æ”¯æŒï¼ˆä¾‹å¦‚ï¼Œå› ä¸ºå®ƒä¸èƒ½ä¸ç‰¹å®šåº“ä¸€èµ·ä½¿ç”¨ï¼‰ï¼Œåˆ™éœ€è¦åœ¨è°ƒç”¨`SpringApplication.run(â€¦â€‹)`ä¹‹å‰å°†`spring.devtools.restart.enabled` `System`å±æ€§è®¾ç½®ä¸º`false`ï¼Œå¦‚å¦‚ä¸‹ä¾‹æ‰€ç¤ºï¼š

```
public static void main(String[] args) {
	System.setProperty("spring.devtools.restart.enabled", "false");
	SpringApplication.run(MyApp.class, args);
}
```

### 20.2.5ä½¿ç”¨è§¦å‘æ–‡ä»¶

å¦‚æœä½¿ç”¨ä¸æ–­ç¼–è¯‘å·²æ›´æ”¹æ–‡ä»¶çš„IDEï¼Œåˆ™å¯èƒ½æ›´å–œæ¬¢ä»…åœ¨ç‰¹å®šæ—¶é—´è§¦å‘é‡æ–°å¯åŠ¨ã€‚ä¸ºæ­¤ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨â€œè§¦å‘å™¨æ–‡ä»¶â€ï¼Œè¿™æ˜¯ä¸€ä¸ªç‰¹æ®Šæ–‡ä»¶ï¼Œå½“æ‚¨æƒ³è¦å®é™…è§¦å‘é‡æ–°å¯åŠ¨æ£€æŸ¥æ—¶ï¼Œå¿…é¡»å¯¹å…¶è¿›è¡Œä¿®æ”¹ã€‚æ›´æ”¹æ–‡ä»¶åªä¼šè§¦å‘æ£€æŸ¥ï¼Œåªæœ‰åœ¨Devtoolsæ£€æµ‹åˆ°å¿…é¡»æ‰§è¡ŒæŸäº›æ“ä½œæ—¶æ‰ä¼šé‡æ–°å¯åŠ¨ã€‚è§¦å‘å™¨æ–‡ä»¶å¯ä»¥æ‰‹åŠ¨æ›´æ–°ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨IDEæ’ä»¶æ›´æ–°ã€‚

è¦ä½¿ç”¨è§¦å‘å™¨æ–‡ä»¶ï¼Œè¯·å°†`spring.devtools.restart.trigger-file`å±æ€§è®¾ç½®ä¸ºè§¦å‘å™¨æ–‡ä»¶çš„è·¯å¾„ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æ‚¨å¯èƒ½å¸Œæœ›å°†<code class="literal" i="312">spring.devtools.restart.trigger-file</code> <a class="link" href="#using-boot-devtools-globalsettings" title="20.4å…¨å±€è®¾ç½®">è®¾ç½®</a>ä¸º <a class="link" href="#using-boot-devtools-globalsettings" title="20.4&nbsp;Global Settings">å…¨å±€è®¾ç½®</a>ï¼Œä»¥ä¾¿æ‰€æœ‰é¡¹ç›®çš„è¡Œä¸ºæ–¹å¼ç›¸åŒã€‚</p></td></tr></tbody></table>

### 20.2.6è‡ªå®šä¹‰é‡å¯ç±»åŠ è½½å™¨

å¦‚å‰é¢åœ¨[Restart vs Reload](#using-spring-boot-restart-vs-reload "é‡æ–°å¯åŠ¨vs Reload")éƒ¨åˆ†ä¸­æ‰€è¿°ï¼Œä½¿ç”¨ä¸¤ä¸ªç±»åŠ è½½å™¨å®ç°äº†é‡å¯åŠŸèƒ½ã€‚å¯¹äºå¤§å¤šæ•°åº”ç”¨ç¨‹åºï¼Œæ­¤æ–¹æ³•è¿è¡Œè‰¯å¥½ã€‚ä½†æ˜¯ï¼Œå®ƒæœ‰æ—¶ä¼šå¯¼è‡´ç±»åŠ è½½é—®é¢˜ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼ŒIDEä¸­çš„ä»»ä½•æ‰“å¼€é¡¹ç›®éƒ½ä½¿ç”¨â€œrestartâ€ç±»åŠ è½½å™¨åŠ è½½ï¼Œå¹¶ä¸”ä»»ä½•å¸¸è§„`.jar`æ–‡ä»¶éƒ½åŠ è½½äº†â€œbaseâ€ç±»åŠ è½½å™¨ã€‚å¦‚æœæ‚¨å¤„ç†å¤šæ¨¡å—é¡¹ç›®ï¼Œå¹¶ä¸”å¹¶éæ¯ä¸ªæ¨¡å—éƒ½å¯¼å…¥åˆ°IDEä¸­ï¼Œåˆ™å¯èƒ½éœ€è¦è‡ªå®šä¹‰å†…å®¹ã€‚ä¸ºæ­¤ï¼Œæ‚¨å¯ä»¥åˆ›å»ºä¸€ä¸ª`META-INF/spring-devtools.properties`æ–‡ä»¶ã€‚

`spring-devtools.properties`æ–‡ä»¶å¯ä»¥åŒ…å«å‰ç¼€ä¸º`restart.exclude`å’Œ`restart.include`çš„å±æ€§ã€‚`include`å…ƒç´ æ˜¯åº”è¯¥è¢«æ‹‰å…¥â€œrestartâ€ç±»åŠ è½½å™¨çš„é¡¹ç›®ï¼Œ`exclude`å…ƒç´ æ˜¯åº”è¯¥è¢«ä¸‹æ¨åˆ°â€œåŸºç¡€â€ç±»åŠ è½½å™¨ä¸­çš„é¡¹ç›®ã€‚è¯¥å±æ€§çš„å€¼æ˜¯åº”ç”¨äºç±»è·¯å¾„çš„æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
restart.exclude.companycommonlibs=/mycorp-common-[\\w-]+\.jar
restart.include.projectcommon=/mycorp-myproj-[\\w-]+\.jar
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>æ‰€æœ‰å±æ€§é”®å¿…é¡»æ˜¯å”¯ä¸€çš„ã€‚åªè¦å±æ€§ä»¥<code class="literal" i="320">restart.include.</code>æˆ–<code class="literal" i="321">restart.exclude.</code>å¼€å¤´ï¼Œå°±ä¼šè¢«è€ƒè™‘ã€‚</p></td></tr></tbody></table><table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>ä»ç±»è·¯å¾„ä¸­åŠ è½½æ‰€æœ‰<code class="literal" i="322">META-INF/spring-devtools.properties</code>ã€‚æ‚¨å¯ä»¥å°†æ–‡ä»¶æ‰“åŒ…åˆ°é¡¹ç›®ä¸­ï¼Œä¹Ÿå¯ä»¥æ‰“åŒ…åœ¨é¡¹ç›®ä½¿ç”¨çš„åº“ä¸­ã€‚</p></td></tr></tbody></table>

### 20.2.7å·²çŸ¥é™åˆ¶

å¯¹äºä½¿ç”¨æ ‡å‡†`ObjectInputStream`ååºåˆ—åŒ–çš„å¯¹è±¡ï¼Œé‡æ–°å¯åŠ¨åŠŸèƒ½ä¸èµ·ä½œç”¨ã€‚å¦‚æœæ‚¨éœ€è¦ååºåˆ—åŒ–æ•°æ®ï¼Œåˆ™å¯èƒ½éœ€è¦å°†Springçš„`ConfigurableObjectInputStream`ä¸`Thread.currentThread().getContextClassLoader()`ç»“åˆä½¿ç”¨ã€‚

ä¸å¹¸çš„æ˜¯ï¼Œå‡ ä¸ªç¬¬ä¸‰æ–¹åº“ååºåˆ—åŒ–è€Œæ²¡æœ‰è€ƒè™‘ä¸Šä¸‹æ–‡ç±»åŠ è½½å™¨ã€‚å¦‚æœæ‚¨å‘ç°æ­¤ç±»é—®é¢˜ï¼Œåˆ™éœ€è¦å‘åŸå§‹ä½œè€…è¯·æ±‚ä¿®å¤ã€‚

20.3 LiveReload
---------------

`spring-boot-devtools`æ¨¡å—åŒ…æ‹¬ä¸€ä¸ªåµŒå…¥å¼LiveReloadæœåŠ¡å™¨ï¼Œå¯ç”¨äºåœ¨æ›´æ”¹èµ„æºæ—¶è§¦å‘æµè§ˆå™¨åˆ·æ–°ã€‚LiveReloadæµè§ˆå™¨æ‰©å±•ç¨‹åºå¯ä»[livereload.com](http://livereload.com/extensions/)å…è´¹ç”¨äºChromeï¼ŒFirefoxå’ŒSafari ã€‚

å¦‚æœæ‚¨ä¸æƒ³åœ¨åº”ç”¨ç¨‹åºè¿è¡Œæ—¶å¯åŠ¨LiveReloadæœåŠ¡å™¨ï¼Œåˆ™å¯ä»¥å°†`spring.devtools.livereload.enabled`å±æ€§è®¾ç½®ä¸º`false`ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>æ‚¨ä¸€æ¬¡åªèƒ½è¿è¡Œä¸€ä¸ªLiveReloadæœåŠ¡å™¨ã€‚åœ¨å¯åŠ¨åº”ç”¨ç¨‹åºä¹‹å‰ï¼Œè¯·ç¡®ä¿æ²¡æœ‰å…¶ä»–LiveReloadæœåŠ¡å™¨æ­£åœ¨è¿è¡Œã€‚å¦‚æœä»IDEå¯åŠ¨å¤šä¸ªåº”ç”¨ç¨‹åºï¼Œåˆ™åªæœ‰ç¬¬ä¸€ä¸ªå…·æœ‰LiveReloadæ”¯æŒã€‚</p></td></tr></tbody></table>

20.4å…¨å±€è®¾ç½®
--------

æ‚¨å¯ä»¥é€šè¿‡å°†åä¸º`.spring-boot-devtools.properties`çš„æ–‡ä»¶æ·»åŠ åˆ°`$HOME`æ–‡ä»¶å¤¹æ¥é…ç½®å…¨å±€devtoolsè®¾ç½®ï¼ˆè¯·æ³¨æ„ï¼Œæ–‡ä»¶åä»¥â€œã€‚â€å¼€å¤´ï¼‰ã€‚æ·»åŠ åˆ°æ­¤æ–‡ä»¶çš„ä»»ä½•å±æ€§_éƒ½_é€‚ç”¨äºè®¡ç®—æœºä¸Šä½¿ç”¨devtoolsçš„_æ‰€æœ‰_ Spring Bootåº”ç”¨ç¨‹åºã€‚ä¾‹å¦‚ï¼Œè¦å°†restarté…ç½®ä¸ºå§‹ç»ˆä½¿ç”¨ [è§¦å‘å™¨æ–‡ä»¶](#using-boot-devtools-restart-triggerfile "20.2.5ä½¿ç”¨è§¦å‘æ–‡ä»¶")ï¼Œæ‚¨éœ€è¦æ·»åŠ ä»¥ä¸‹å±æ€§ï¼š

**ã€œ/ .springå¼•å¯¼-devtools.propertiesã€‚** 

```
spring.devtools.reload.trigger-file=.reloadtrigger
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>åœ¨<code class="literal" i="331">.spring-boot-devtools.properties</code>ä¸­æ¿€æ´»çš„<a class="link" href="#boot-features-external-config-profile-specific-properties" title="24.4ç‰¹å®šäºé…ç½®æ–‡ä»¶çš„å±æ€§">é…ç½®æ–‡ä»¶</a>ä¸ä¼šå½±å“<a class="link" href="#boot-features-external-config-profile-specific-properties" title="24.4&nbsp;Profile-specific Properties">ç‰¹å®šäºé…ç½®æ–‡ä»¶çš„é…ç½®æ–‡ä»¶</a>çš„åŠ è½½ã€‚</p></td></tr></tbody></table>

20.5è¿œç¨‹åº”ç”¨ç¨‹åº
----------

Spring Bootå¼€å‘äººå‘˜å·¥å…·ä¸ä»…é™äºæœ¬åœ°å¼€å‘ã€‚è¿œç¨‹è¿è¡Œåº”ç”¨ç¨‹åºæ—¶ï¼Œæ‚¨è¿˜å¯ä»¥ä½¿ç”¨å¤šä¸ªåŠŸèƒ½ã€‚è¿œç¨‹æ”¯æŒæ˜¯é€‰æ‹©åŠ å…¥ã€‚è¦å¯ç”¨å®ƒï¼Œæ‚¨éœ€è¦ç¡®ä¿é‡æ–°æ‰“åŒ…çš„å­˜æ¡£ä¸­åŒ…å«`devtools`ï¼Œå¦‚ä¸‹é¢çš„æ¸…å•æ‰€ç¤ºï¼š

```
<build>
	<plugins>
		<plugin>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-maven-plugin</artifactId>
			<configuration>
				<excludeDevtools>false</excludeDevtools>
			</configuration>
		</plugin>
	</plugins>
</build>
```

ç„¶åï¼Œæ‚¨éœ€è¦è®¾ç½®`spring.devtools.remote.secret`å±æ€§ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
spring.devtools.remote.secret=mysecret
```

<table border="0" summary="Warning"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[è­¦å‘Š]" src="images/warning.png"></td><th align="left">è­¦å‘Š</th></tr><tr><td align="left" valign="top"><p>åœ¨è¿œç¨‹åº”ç”¨ç¨‹åºä¸Šå¯ç”¨<code class="literal" i="334">spring-boot-devtools</code>å­˜åœ¨å®‰å…¨é£é™©ã€‚æ‚¨æ°¸è¿œä¸åº”è¯¥åœ¨ç”Ÿäº§éƒ¨ç½²ä¸Šå¯ç”¨æ”¯æŒã€‚</p></td></tr></tbody></table>

è¿œç¨‹devtoolsæ”¯æŒç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼šä¸€ä¸ªæ¥å—è¿æ¥çš„æœåŠ¡å™¨ç«¯ç«¯ç‚¹å’Œä¸€ä¸ªåœ¨IDEä¸­è¿è¡Œçš„å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºã€‚è®¾ç½®`spring.devtools.remote.secret`å±æ€§åï¼Œå°†è‡ªåŠ¨å¯ç”¨æœåŠ¡å™¨ç»„ä»¶ã€‚å¿…é¡»æ‰‹åŠ¨å¯åŠ¨å®¢æˆ·ç«¯ç»„ä»¶ã€‚

### 20.5.1è¿è¡Œè¿œç¨‹å®¢æˆ·ç«¯åº”ç”¨ç¨‹åº

è¿œç¨‹å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºæ—¨åœ¨ä»IDEä¸­è¿è¡Œã€‚æ‚¨éœ€è¦ä½¿ç”¨ä¸è¿æ¥åˆ°çš„è¿œç¨‹é¡¹ç›®ç›¸åŒçš„ç±»è·¯å¾„è¿è¡Œ`org.springframework.boot.devtools.RemoteSpringApplication`ã€‚åº”ç”¨ç¨‹åºçš„å•ä¸ªå¿…éœ€å‚æ•°æ˜¯å®ƒè¿æ¥çš„è¿œç¨‹URLã€‚

ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯Eclipseæˆ–STSï¼Œå¹¶ä¸”å·²ç»éƒ¨ç½²åˆ°Cloud Foundryçš„é¡¹ç›®åä¸º`my-app`ï¼Œåˆ™å¯ä»¥æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š

*   ä»`Run`èœå•ä¸­é€‰æ‹©`Run Configurationsâ€¦â€‹`ã€‚
*   åˆ›å»ºä¸€ä¸ªæ–°çš„`Java Application`â€œå¯åŠ¨é…ç½®â€ã€‚
*   æµè§ˆ`my-app`é¡¹ç›®ã€‚
*   ä½¿ç”¨`org.springframework.boot.devtools.RemoteSpringApplication`ä½œä¸ºä¸»ç±»ã€‚
*   å°†`https://myapp.cfapps.io`æ·»åŠ åˆ°`Program arguments`ï¼ˆæˆ–ä»»ä½•è¿œç¨‹URLï¼‰ã€‚

æ­£åœ¨è¿è¡Œçš„è¿œç¨‹å®¢æˆ·ç«¯å¯èƒ½ç±»ä¼¼äºä»¥ä¸‹åˆ—è¡¨ï¼š

```
  .   ____          _                                              __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _          ___               _      \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` |        | _ \___ _ __  ___| |_ ___ \ \ \ \
 \\/  ___)| |_)| | | | | || (_| []::::::[]   / -_) '  \/ _ \  _/ -_) ) ) ) )
  '  |____| .__|_| |_|_| |_\__, |        |_|_\___|_|_|_\___/\__\___|/ / / /
 =========|_|==============|___/===================================/_/_/_/
 :: Spring Boot Remote :: 2.1.1.RELEASE

2015-06-10 18:25:06.632  INFO 14938 --- [           main] o.s.b.devtools.RemoteSpringApplication   : Starting RemoteSpringApplication on pwmbp with PID 14938 (/Users/pwebb/projects/spring-boot/code/spring-boot-devtools/target/classes started by pwebb in /Users/pwebb/projects/spring-boot/code/spring-boot-samples/spring-boot-sample-devtools)
2015-06-10 18:25:06.671  INFO 14938 --- [           main] s.c.a.AnnotationConfigApplicationContext : Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@2a17b7b6: startup date [Wed Jun 10 18:25:06 PDT 2015]; root of context hierarchy
2015-06-10 18:25:07.043  WARN 14938 --- [           main] o.s.b.d.r.c.RemoteClientConfiguration    : The connection to http://localhost:8080 is insecure. You should use a URL starting with 'https://'.
2015-06-10 18:25:07.074  INFO 14938 --- [           main] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2015-06-10 18:25:07.130  INFO 14938 --- [           main] o.s.b.devtools.RemoteSpringApplication   : Started RemoteSpringApplication in 0.74 seconds (JVM running for 1.105)
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å› ä¸ºè¿œç¨‹å®¢æˆ·ç«¯ä½¿ç”¨ä¸çœŸå®åº”ç”¨ç¨‹åºç›¸åŒçš„ç±»è·¯å¾„ï¼Œæ‰€ä»¥å®ƒå¯ä»¥ç›´æ¥è¯»å–åº”ç”¨ç¨‹åºå±æ€§ã€‚è¿™æ˜¯<code class="literal" i="345">spring.devtools.remote.secret</code>å±æ€§çš„è¯»å–æ–¹å¼å¹¶ä¼ é€’ç»™æœåŠ¡å™¨è¿›è¡Œèº«ä»½éªŒè¯ã€‚</p></td></tr></tbody></table><table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å§‹ç»ˆå»ºè®®ä½¿ç”¨<code class="literal" i="346">https://</code>ä½œä¸ºè¿æ¥åè®®ï¼Œä»¥ä¾¿åŠ å¯†æµé‡å¹¶ä¸”ä¸ä¼šæˆªè·å¯†ç ã€‚</p></td></tr></tbody></table><table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¦‚æœéœ€è¦ä½¿ç”¨ä»£ç†æ¥è®¿é—®è¿œç¨‹åº”ç”¨ç¨‹åºï¼Œè¯·é…ç½®<code class="literal" i="347">spring.devtools.remote.proxy.host</code>å’Œ<code class="literal" i="348">spring.devtools.remote.proxy.port</code>å±æ€§ã€‚</p></td></tr></tbody></table>

### 20.5.2è¿œç¨‹æ›´æ–°

è¿œç¨‹å®¢æˆ·ç«¯ä»¥ä¸[æœ¬åœ°é‡æ–°å¯åŠ¨](#using-boot-devtools-restart "20.2è‡ªåŠ¨é‡å¯")ç›¸åŒçš„æ–¹å¼ç›‘è§†åº”ç”¨ç¨‹åºç±»è·¯å¾„ä»¥è¿›è¡Œæ›´æ”¹ ã€‚ä»»ä½•æ›´æ–°çš„èµ„æºéƒ½ä¼šè¢«æ¨é€åˆ°è¿œç¨‹åº”ç”¨ç¨‹åºï¼Œå¹¶ä¸”ï¼ˆ_å¦‚æœéœ€è¦_ï¼‰ä¼šè§¦å‘é‡æ–°å¯åŠ¨ã€‚å¦‚æœæ‚¨è¿­ä»£ä½¿ç”¨æœ¬åœ°æ²¡æœ‰çš„äº‘æœåŠ¡çš„åŠŸèƒ½ï¼Œè¿™å°†éå¸¸æœ‰ç”¨ã€‚é€šå¸¸ï¼Œè¿œç¨‹æ›´æ–°å’Œé‡æ–°å¯åŠ¨æ¯”å®Œå…¨é‡å»ºå’Œéƒ¨ç½²å‘¨æœŸå¿«å¾—å¤šã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>ä»…åœ¨è¿œç¨‹å®¢æˆ·ç«¯è¿è¡Œæ—¶ç›‘è§†æ–‡ä»¶ã€‚å¦‚æœåœ¨å¯åŠ¨è¿œç¨‹å®¢æˆ·ç«¯ä¹‹å‰æ›´æ”¹æ–‡ä»¶ï¼Œåˆ™ä¸ä¼šå°†å…¶æ¨é€åˆ°è¿œç¨‹æœåŠ¡å™¨ã€‚</p></td></tr></tbody></table>

21.åŒ…è£…æ‚¨çš„ç”Ÿäº§åº”ç”¨ç¨‹åº
-------------

å¯æ‰§è¡Œjarå¯ç”¨äºç”Ÿäº§éƒ¨ç½²ã€‚ç”±äºå®ƒä»¬æ˜¯ç‹¬ç«‹çš„ï¼Œå› æ­¤å®ƒä»¬ä¹Ÿéå¸¸é€‚åˆåŸºäºäº‘çš„éƒ¨ç½²ã€‚

å¯¹äºå…¶ä»–â€œç”Ÿäº§å°±ç»ªâ€åŠŸèƒ½ï¼Œä¾‹å¦‚è¿è¡ŒçŠ¶å†µï¼Œå®¡è®¡å’Œåº¦é‡æ ‡å‡†RESTæˆ–JMXç«¯ç‚¹ï¼Œè¯·è€ƒè™‘æ·»åŠ `spring-boot-actuator`ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯_[ï¼Œ](#production-ready "ç¬¬äº”éƒ¨åˆ†å¼¹ç°§å¯åŠ¨æ‰§è¡Œå™¨ï¼šç”Ÿäº§å°±ç»ªåŠŸèƒ½")_è¯·å‚è§ _[ç¬¬Véƒ¨åˆ†â€œSpring Boot Actuatorï¼šç”Ÿäº§å°±ç»ªåŠŸèƒ½â€](#production-ready "PartÂ V.Â Spring Boot Actuator: Production-ready features")_ã€‚

22.æ¥ä¸‹æ¥è¦é˜…è¯»çš„å†…å®¹
------------

æ‚¨ç°åœ¨åº”è¯¥äº†è§£å¦‚ä½•ä½¿ç”¨Spring Bootå’Œä¸€äº›æ‚¨åº”è¯¥éµå¾ªçš„æœ€ä½³å®è·µã€‚æ‚¨ç°åœ¨å¯ä»¥ç»§ç»­æ·±å…¥äº†è§£ç‰¹å®šçš„ _[Spring BootåŠŸèƒ½](#boot-features "ç¬¬å››éƒ¨åˆ†ã€‚ Spring BootåŠŸèƒ½")_ï¼Œæˆ–è€…æ‚¨å¯ä»¥è·³è¿‡å¹¶é˜…è¯»Spring Boot çš„â€œ [ç”Ÿäº§å°±ç»ª](#production-ready "ç¬¬äº”éƒ¨åˆ†å¼¹ç°§å¯åŠ¨æ‰§è¡Œå™¨ï¼šç”Ÿäº§å°±ç»ªåŠŸèƒ½") â€æ–¹é¢ã€‚

ç¬¬å››éƒ¨åˆ†ã€‚Spring BootåŠŸèƒ½
==================

æœ¬èŠ‚æ·±å…¥ç ”ç©¶Spring Bootçš„ç»†èŠ‚ã€‚åœ¨è¿™é‡Œï¼Œæ‚¨å¯ä»¥äº†è§£æ‚¨å¯èƒ½æƒ³è¦ä½¿ç”¨å’Œè‡ªå®šä¹‰çš„ä¸»è¦åŠŸèƒ½ã€‚å¦‚æœæ‚¨è¿˜æ²¡æœ‰è¿™æ ·åšï¼Œæ‚¨å¯èƒ½éœ€è¦é˜…è¯»â€œ [ç¬¬äºŒéƒ¨åˆ†](#getting-started "ç¬¬äºŒéƒ¨åˆ†ã€‚ å…¥é—¨") â€ [ï¼Œâ€œå…¥é—¨](#getting-started "PartÂ II.Â Getting Started") â€å’Œâ€œ [ç¬¬ä¸‰éƒ¨åˆ†â€ï¼Œä½¿ç”¨Spring Bootâ€œ](#using-boot "ç¬¬ä¸‰éƒ¨åˆ†ã€‚ ä½¿ç”¨Spring Boot") â€éƒ¨åˆ†ï¼Œä»¥ä¾¿æ‚¨æŒæ¡åŸºç¡€çŸ¥è¯†ã€‚

23. SpringApplication

---------------------

`SpringApplication`ç±»æä¾›äº†ä¸€ç§æ–¹ä¾¿çš„æ–¹æ³•æ¥å¼•å¯¼ä»`main()`æ–¹æ³•å¯åŠ¨çš„Springåº”ç”¨ç¨‹åºã€‚åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œæ‚¨å¯ä»¥å§”æ‰˜é™æ€`SpringApplication.run`æ–¹æ³•ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
public static void main(String[] args) {
	SpringApplication.run(MySpringConfiguration.class, args);
}
```

å½“æ‚¨çš„åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶ï¼Œæ‚¨åº”è¯¥çœ‹åˆ°ç±»ä¼¼äºä»¥ä¸‹è¾“å‡ºçš„å†…å®¹ï¼š

```
  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::   v2.1.1.RELEASE

2013-07-31 00:08:16.117  INFO 56603 --- [           main] o.s.b.s.app.SampleApplication            : Starting SampleApplication v0.1.0 on mycomputer with PID 56603 (/apps/myapp.jar started by pwebb)
2013-07-31 00:08:16.166  INFO 56603 --- [           main] ationConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6e5a8246: startup date [Wed Jul 31 00:08:16 PDT 2013]; root of context hierarchy
2014-03-04 13:09:54.912  INFO 41370 --- [           main] .t.TomcatServletWebServerFactory : Server initialized with port: 8080
2014-03-04 13:09:56.501  INFO 41370 --- [           main] o.s.b.s.app.SampleApplication            : Started SampleApplication in 2.992 seconds (JVM running for 3.658)
```

é»˜è®¤æƒ…å†µä¸‹ï¼Œä¼šæ˜¾ç¤º`INFO`æ—¥å¿—è®°å½•æ¶ˆæ¯ï¼ŒåŒ…æ‹¬ä¸€äº›ç›¸å…³çš„å¯åŠ¨è¯¦ç»†ä¿¡æ¯ï¼Œä¾‹å¦‚å¯åŠ¨åº”ç”¨ç¨‹åºçš„ç”¨æˆ·ã€‚å¦‚æœæ‚¨éœ€è¦`INFO`ä»¥å¤–çš„æ—¥å¿—çº§åˆ«ï¼Œå¯ä»¥è¿›è¡Œè®¾ç½®ï¼Œå¦‚[ç¬¬26.4èŠ‚â€œæ—¥å¿—çº§åˆ«â€ä¸­æ‰€è¿°](#boot-features-custom-log-levels "26ã€‚4æ—¥å¿—çº§åˆ«")ï¼Œ

23.1å¯åŠ¨å¤±è´¥
--------

å¦‚æœæ‚¨çš„åº”ç”¨ç¨‹åºæ— æ³•å¯åŠ¨ï¼Œåˆ™å·²æ³¨å†Œ`FailureAnalyzers`æœ‰æœºä¼šæä¾›ä¸“ç”¨é”™è¯¯æ¶ˆæ¯å’Œå…·ä½“æ“ä½œæ¥è§£å†³é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨åœ¨ç«¯å£`8080`ä¸Šå¯åŠ¨Webåº”ç”¨ç¨‹åºå¹¶ä¸”è¯¥ç«¯å£å·²åœ¨ä½¿ç”¨ä¸­ï¼Œæ‚¨åº”è¯¥ä¼šçœ‹åˆ°ç±»ä¼¼äºä»¥ä¸‹æ¶ˆæ¯çš„å†…å®¹ï¼š

```
***************************
APPLICATION FAILED TO START
***************************

Description:

Embedded servlet container failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>Spring Bootæä¾›äº†è®¸å¤š<code class="literal" i="357">FailureAnalyzer</code>å®ç°ï¼Œæ‚¨å¯ä»¥ <a class="link" href="#howto-failure-analyzer" title="76.1åˆ›å»ºè‡ªå·±çš„å¤±è´¥åˆ†æå™¨">æ·»åŠ è‡ªå·±çš„å®ç°</a>ã€‚</p></td></tr></tbody></table>

å¦‚æœæ²¡æœ‰æ•…éšœåˆ†æå™¨èƒ½å¤Ÿå¤„ç†å¼‚å¸¸ï¼Œæ‚¨ä»ç„¶å¯ä»¥æ˜¾ç¤ºå®Œæ•´çš„æ¡ä»¶æŠ¥å‘Šï¼Œä»¥ä¾¿æ›´å¥½åœ°äº†è§£å‡ºç°äº†ä»€ä¹ˆé—®é¢˜ã€‚ä¸ºæ­¤ï¼Œæ‚¨éœ€è¦ [å¯ç”¨`debug`å±æ€§](#boot-features-external-config "24.å¤–éƒ¨é…ç½®")æˆ– ä¸º`org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener` [å¯ç”¨`DEBUG`æ—¥å¿—è®°å½•](#boot-features-custom-log-levels "26ã€‚4æ—¥å¿—çº§åˆ«")ã€‚

ä¾‹å¦‚ï¼Œå¦‚æœä½¿ç”¨`java -jar`è¿è¡Œåº”ç”¨ç¨‹åºï¼Œåˆ™å¯ä»¥å¯ç”¨`debug`å±æ€§ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
$ java -jar myproject-0.0.1-SNAPSHOT.jar --debug
```

23.2è‡ªå®šä¹‰æ¨ªå¹…
---------

é€šè¿‡å°†`banner.txt`æ–‡ä»¶æ·»åŠ åˆ°ç±»è·¯å¾„æˆ–å°†`spring.banner.location`å±æ€§è®¾ç½®ä¸ºæ­¤ç±»æ–‡ä»¶çš„ä½ç½®ï¼Œå¯ä»¥æ›´æ”¹å¯åŠ¨æ—¶æ‰“å°çš„æ¨ªå¹…ã€‚å¦‚æœæ–‡ä»¶çš„ç¼–ç ä¸æ˜¯UTF-8ï¼Œåˆ™å¯ä»¥è®¾ç½®`spring.banner.charset`ã€‚é™¤äº†æ–‡æœ¬æ–‡ä»¶ï¼Œæ‚¨è¿˜å¯ä»¥å°†`banner.gif`ï¼Œ`banner.jpg`æˆ–`banner.png`å›¾åƒæ–‡ä»¶æ·»åŠ åˆ°ç±»è·¯å¾„æˆ–è®¾ç½®`spring.banner.image.location`å±æ€§ã€‚å›¾åƒå°†è½¬æ¢ä¸ºASCIIè‰ºæœ¯è¡¨ç¤ºï¼Œå¹¶æ‰“å°åœ¨ä»»ä½•æ–‡æœ¬æ¨ªå¹…ä¸Šæ–¹ã€‚

åœ¨`banner.txt`æ–‡ä»¶ä¸­ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä»»ä½•å ä½ç¬¦ï¼š

**è¡¨23.1ã€‚æ¨ªå¹…å˜é‡**

<table class="table" summary="Banner variables" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">å˜é‡</th><th style="border-bottom: 1px solid ; " align="left" valign="top">æè¿°</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">${application.version}</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>åº”ç”¨ç¨‹åºçš„ç‰ˆæœ¬å·ï¼Œå¦‚<code class="literal" i="371">MANIFEST.MF</code>ä¸­å£°æ˜çš„é‚£æ ·ã€‚ä¾‹å¦‚ï¼Œ<code class="literal" i="372">Implementation-Version: 1.0</code>æ‰“å°ä¸º<code class="literal" i="373">1.0</code>ã€‚</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">${application.formatted-version}</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>åº”ç”¨ç¨‹åºçš„ç‰ˆæœ¬å·ï¼Œåœ¨<code class="literal" i="374">MANIFEST.MF</code>ä¸­å£°æ˜å¹¶æ ¼å¼åŒ–ä»¥æ˜¾ç¤ºï¼ˆç”¨æ‹¬å·æ‹¬èµ·æ¥å¹¶ä»¥<code class="literal" i="375">v</code>ä¸ºå‰ç¼€ï¼‰ã€‚ä¾‹å¦‚<code class="literal" i="376">(v1.0)</code>ã€‚</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">${spring-boot.version}</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>æ‚¨æ­£åœ¨ä½¿ç”¨çš„Spring Bootç‰ˆæœ¬ã€‚ä¾‹å¦‚<code class="literal" i="377">2.1.1.RELEASE</code>ã€‚</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">${spring-boot.formatted-version}</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>æ‚¨æ­£åœ¨ä½¿ç”¨çš„Spring Bootç‰ˆæœ¬ï¼Œæ ¼å¼åŒ–æ˜¾ç¤ºï¼ˆç”¨æ‹¬å·æ‹¬èµ·æ¥å¹¶ä»¥<code class="literal" i="378">v</code>ä¸ºå‰ç¼€ï¼‰ã€‚ä¾‹å¦‚<code class="literal" i="379">(v2.1.1.RELEASE)</code>ã€‚</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal" i="380">${Ansi.NAME}</code>ï¼ˆæˆ–<code class="literal" i="381">${AnsiColor.NAME}</code>ï¼Œ<code class="literal" i="382">${AnsiBackground.NAME}</code>ï¼Œ<code class="literal" i="383">${AnsiStyle.NAME}</code>ï¼‰</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>å…¶ä¸­<code class="literal" i="384">NAME</code>æ˜¯ANSIè½¬ä¹‰ç çš„åç§°ã€‚è¯¦æƒ… <a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/ansi/AnsiPropertySource.java" target="_top"><code class="literal">AnsiPropertySource</code></a>è¯·è§ã€‚</p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top"><p><code class="literal">${application.title}</code></p></td><td style="" align="left" valign="top"><p>ç”³è¯·çš„æ ‡é¢˜ï¼Œå¦‚<code class="literal" i="385">MANIFEST.MF</code>ä¸­æ‰€è¿°ã€‚ä¾‹å¦‚<code class="literal" i="386">Implementation-Title: MyApp</code>æ‰“å°ä¸º<code class="literal" i="387">MyApp</code>ã€‚</p></td></tr></tbody></table>  
<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¦‚æœè¦ä»¥ç¼–ç¨‹æ–¹å¼ç”Ÿæˆæ¨ªå¹…ï¼Œå¯ä»¥ä½¿ç”¨<code class="literal" i="388">SpringApplication.setBanner(â€¦â€‹)</code>æ–¹æ³•ã€‚ä½¿ç”¨<code class="literal" i="389">org.springframework.boot.Banner</code>æ¥å£å¹¶å®ç°æ‚¨è‡ªå·±çš„<code class="literal" i="390">printBanner()</code>æ–¹æ³•ã€‚</p></td></tr></tbody></table>

æ‚¨è¿˜å¯ä»¥ä½¿ç”¨`spring.main.banner-mode`å±æ€§æ¥ç¡®å®šæ˜¯å¦å¿…é¡»åœ¨`System.out`ï¼ˆ`console`ï¼‰ä¸Šæ‰“å°æ¨ªå¹…ï¼Œå‘é€åˆ°é…ç½®çš„è®°å½•å™¨ï¼ˆ`log`ï¼‰ï¼Œæˆ–è€…æ ¹æœ¬ä¸äº§ç”Ÿæ¨ªå¹…ï¼ˆ`off`ï¼‰ã€‚

æ‰“å°çš„æ¨ªå¹…ä»¥ä¸‹åˆ—åç§°æ³¨å†Œä¸ºå•èº«beanï¼š`springBootBanner`ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>YAMLå°†<code class="literal" i="397">off</code>æ˜ å°„åˆ°<code class="literal" i="398">false</code>ï¼Œå› æ­¤å¦‚æœè¦åœ¨åº”ç”¨ç¨‹åºä¸­ç¦ç”¨æ¨ªå¹…ï¼Œè¯·åŠ¡å¿…æ·»åŠ å¼•å·ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š</p><pre class="programlisting notranslate">spring:
	main:
		banner-mode: "off"</pre></td></tr></tbody></table>


23.3è‡ªå®šä¹‰SpringApplication
------------------------

å¦‚æœ`SpringApplication`é»˜è®¤å€¼ä¸ç¬¦åˆæ‚¨çš„å£å‘³ï¼Œæ‚¨å¯ä»¥æ”¹ä¸ºåˆ›å»ºæœ¬åœ°å®ä¾‹å¹¶å¯¹å…¶è¿›è¡Œè‡ªå®šä¹‰ã€‚ä¾‹å¦‚ï¼Œè¦å…³é—­æ¨ªå¹…ï¼Œæ‚¨å¯ä»¥å†™ï¼š

```
public static void main(String[] args) {
	SpringApplication app = new SpringApplication(MySpringConfiguration.class);
	app.setBannerMode(Banner.Mode.OFF);
	app.run(args);
}
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>ä¼ é€’ç»™<code class="literal" i="400">SpringApplication</code>çš„æ„é€ å‡½æ•°å‚æ•°æ˜¯Spring beansçš„é…ç½®æºã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¿™äº›æ˜¯å¯¹<code class="literal" i="401">@Configuration</code>ç±»çš„å¼•ç”¨ï¼Œä½†å®ƒä»¬ä¹Ÿå¯ä»¥æ˜¯å¯¹XMLé…ç½®æˆ–åº”æ‰«æçš„åŒ…çš„å¼•ç”¨ã€‚</p></td></tr></tbody></table>

ä¹Ÿå¯ä»¥ä½¿ç”¨`application.properties`æ–‡ä»¶é…ç½®`SpringApplication`ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯_[ï¼Œ](#boot-features-external-config "24.å¤–éƒ¨é…ç½®")_è¯·å‚è§_[ç¬¬24ç« ï¼Œ](#boot-features-external-config "24.Â Externalized Configuration")__[_å¤–éƒ¨åŒ–é…ç½®_](#boot-features-external-config "24.Â Externalized Configuration")_ã€‚

æœ‰å…³é…ç½®é€‰é¡¹çš„å®Œæ•´åˆ—è¡¨ï¼Œè¯·å‚é˜… [`SpringApplication` Javadoc](https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/SpringApplication.html)ã€‚

23.4 Fluent Builder API
-----------------------

å¦‚æœæ‚¨éœ€è¦æ„å»º`ApplicationContext`å±‚æ¬¡ç»“æ„ï¼ˆå…·æœ‰çˆ¶/å­å…³ç³»çš„å¤šä¸ªä¸Šä¸‹æ–‡ï¼‰æˆ–è€…æ‚¨æ›´å–œæ¬¢ä½¿ç”¨â€œæµç•…â€æ„å»ºå™¨APIï¼Œåˆ™å¯ä»¥ä½¿ç”¨`SpringApplicationBuilder`ã€‚

`SpringApplicationBuilder`å…è®¸æ‚¨å°†å¤šä¸ªæ–¹æ³•è°ƒç”¨é“¾æ¥åœ¨ä¸€èµ·ï¼Œå¹¶åŒ…å«å…è®¸æ‚¨åˆ›å»ºå±‚æ¬¡ç»“æ„çš„`parent`å’Œ`child`æ–¹æ³•ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
new SpringApplicationBuilder()
		.sources(Parent.class)
		.child(Application.class)
		.bannerMode(Banner.Mode.OFF)
		.run(args);
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>åˆ›å»º<code class="literal" i="410">ApplicationContext</code>å±‚æ¬¡ç»“æ„æ—¶å­˜åœ¨ä¸€äº›é™åˆ¶ã€‚ä¾‹å¦‚ï¼ŒWebç»„ä»¶<strong>å¿…é¡»</strong>åŒ…å«åœ¨å­ä¸Šä¸‹æ–‡ä¸­ï¼Œå¹¶ä¸”çˆ¶/å­ä¸Šä¸‹æ–‡ä½¿ç”¨ç›¸åŒçš„<code class="literal" i="411">Environment</code>ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… <a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/builder/SpringApplicationBuilder.html" target="_top"><code class="literal" i="412">SpringApplicationBuilder</code> Javadoc</a>ã€‚</p></td></tr></tbody></table>

23.5åº”ç”¨ç¨‹åºäº‹ä»¶å’Œç›‘å¬å™¨
--------------

é™¤äº†é€šå¸¸çš„Springæ¡†æ¶äº‹ä»¶ä¹‹å¤–ï¼Œä¾‹å¦‚ [`ContextRefreshedEvent`](https://docs.spring.io/spring/docs/5.1.3.RELEASE/javadoc-api/org/springframework/context/event/ContextRefreshedEvent.html)ï¼Œ`SpringApplication`è¿˜ä¼šå‘é€ä¸€äº›å…¶ä»–åº”ç”¨ç¨‹åºäº‹ä»¶ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>æŸäº›äº‹ä»¶å®é™…ä¸Šæ˜¯åœ¨åˆ›å»º<code class="literal" i="414">ApplicationContext</code>ä¹‹å‰è§¦å‘çš„ï¼Œå› æ­¤æ‚¨æ— æ³•åœ¨<code class="literal" i="415">@Bean</code>ä¸Šæ³¨å†Œä¾¦å¬å™¨ã€‚æ‚¨å¯ä»¥ä½¿ç”¨<code class="literal" i="416">SpringApplication.addListeners(â€¦â€‹)</code>æ–¹æ³•æˆ–<code class="literal" i="417">SpringApplicationBuilder.listeners(â€¦â€‹)</code>æ–¹æ³•æ³¨å†Œå®ƒä»¬ã€‚</p><p>å¦‚æœæ‚¨å¸Œæœ›è‡ªåŠ¨æ³¨å†Œè¿™äº›ä¾¦å¬å™¨ï¼Œæ— è®ºåº”ç”¨ç¨‹åºçš„åˆ›å»ºæ–¹å¼å¦‚ä½•ï¼Œæ‚¨éƒ½å¯ä»¥å°†<code class="literal" i="418">META-INF/spring.factories</code>æ–‡ä»¶æ·»åŠ åˆ°é¡¹ç›®ä¸­å¹¶ä½¿ç”¨<code class="literal" i="419">org.springframework.context.ApplicationListener</code>é”®å¼•ç”¨æ‚¨çš„ä¾¦å¬å™¨ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼šä»¥ä¸‹ç¤ºä¾‹ï¼š</p><pre class="screen notranslate">org.springframework.context.ApplicationListener=com.example.project.MyListener</pre></td></tr></tbody></table>

åº”ç”¨ç¨‹åºè¿è¡Œæ—¶ï¼Œåº”æŒ‰ä»¥ä¸‹é¡ºåºå‘é€åº”ç”¨ç¨‹åºäº‹ä»¶ï¼š

1.  é™¤äº†æ³¨å†Œä¾¦å¬å™¨å’Œåˆå§‹åŒ–ç¨‹åºä¹‹å¤–ï¼Œåœ¨è¿è¡Œå¼€å§‹æ—¶ä½†åœ¨ä»»ä½•å¤„ç†ä¹‹å‰å‘é€`ApplicationStartingEvent`ã€‚
2.  å½“åœ¨ä¸Šä¸‹æ–‡ä¸­ä½¿ç”¨çš„`Environment`å·²çŸ¥ä½†åœ¨åˆ›å»ºä¸Šä¸‹æ–‡ä¹‹å‰ï¼Œå°†å‘é€`ApplicationEnvironmentPreparedEvent`ã€‚
3.  åœ¨åˆ·æ–°å¼€å§‹ä¹‹å‰ä½†åœ¨åŠ è½½beanå®šä¹‰ä¹‹åå‘é€`ApplicationPreparedEvent`ã€‚
4.  åœ¨åˆ·æ–°ä¸Šä¸‹æ–‡ä¹‹åä½†åœ¨è°ƒç”¨ä»»ä½•åº”ç”¨ç¨‹åºå’Œå‘½ä»¤è¡Œè¿è¡Œç¨‹åºä¹‹å‰å‘é€`ApplicationStartedEvent`ã€‚
5.  åœ¨è°ƒç”¨ä»»ä½•åº”ç”¨ç¨‹åºå’Œå‘½ä»¤è¡Œè¿è¡Œç¨‹åºåå‘é€`ApplicationReadyEvent`ã€‚å®ƒè¡¨ç¤ºåº”ç”¨ç¨‹åºå·²å‡†å¤‡å¥½ä¸ºè¯·æ±‚æä¾›æœåŠ¡ã€‚
6.  å¦‚æœå¯åŠ¨æ—¶å‘ç”Ÿå¼‚å¸¸ï¼Œåˆ™ä¼šå‘é€`ApplicationFailedEvent`ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æ‚¨ç»å¸¸ä¸éœ€è¦ä½¿ç”¨åº”ç”¨ç¨‹åºäº‹ä»¶ï¼Œä½†çŸ¥é“å®ƒä»¬å­˜åœ¨å¯èƒ½å¾ˆæ–¹ä¾¿ã€‚åœ¨å†…éƒ¨ï¼ŒSpring Bootä½¿ç”¨äº‹ä»¶æ¥å¤„ç†å„ç§ä»»åŠ¡ã€‚</p></td></tr></tbody></table>

åº”ç”¨ç¨‹åºäº‹ä»¶ä½¿ç”¨Spring Frameworkçš„äº‹ä»¶å‘å¸ƒæœºåˆ¶å‘é€ã€‚æ­¤æœºåˆ¶çš„ä¸€éƒ¨åˆ†ç¡®ä¿åœ¨å­ä¸Šä¸‹æ–‡ä¸­å‘å¸ƒç»™ä¾¦å¬å™¨çš„äº‹ä»¶ä¹Ÿä¼šåœ¨ä»»ä½•ç¥–å…ˆä¸Šä¸‹æ–‡ä¸­å‘å¸ƒç»™ä¾¦å¬å™¨ã€‚å› æ­¤ï¼Œå¦‚æœæ‚¨çš„åº”ç”¨ç¨‹åºä½¿ç”¨`SpringApplication`å®ä¾‹çš„å±‚æ¬¡ç»“æ„ï¼Œåˆ™ä¾¦å¬å™¨å¯èƒ½ä¼šæ”¶åˆ°ç›¸åŒç±»å‹çš„åº”ç”¨ç¨‹åºäº‹ä»¶çš„å¤šä¸ªå®ä¾‹ã€‚

ä¸ºäº†å…è®¸ä¾¦å¬å™¨åŒºåˆ†å…¶ä¸Šä¸‹æ–‡çš„äº‹ä»¶å’Œåä»£ä¸Šä¸‹æ–‡çš„äº‹ä»¶ï¼Œå®ƒåº”è¯¥è¯·æ±‚æ³¨å…¥å…¶åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ï¼Œç„¶åå°†æ³¨å…¥çš„ä¸Šä¸‹æ–‡ä¸äº‹ä»¶çš„ä¸Šä¸‹æ–‡è¿›è¡Œæ¯”è¾ƒã€‚å¯ä»¥é€šè¿‡å®ç°`ApplicationContextAware`æˆ–è€…å¦‚æœç›‘å¬å™¨æ˜¯beanï¼Œä½¿ç”¨`@Autowired`æ¥æ³¨å…¥ä¸Šä¸‹æ–‡ã€‚

23.6ç½‘ç»œç¯å¢ƒ
--------

`SpringApplication`è¯•å›¾ä»£è¡¨æ‚¨åˆ›å»ºæ­£ç¡®ç±»å‹çš„`ApplicationContext`ã€‚ç”¨äºç¡®å®š`WebApplicationType`çš„ç®—æ³•éå¸¸ç®€å•ï¼š

*   å¦‚æœå­˜åœ¨Spring MVCï¼Œåˆ™ä½¿ç”¨`AnnotationConfigServletWebServerApplicationContext`
*   å¦‚æœSpring MVCä¸å­˜åœ¨ä¸”å­˜åœ¨Spring WebFluxï¼Œåˆ™ä½¿ç”¨`AnnotationConfigReactiveWebServerApplicationContext`
*   å¦åˆ™ï¼Œä½¿ç”¨`AnnotationConfigApplicationContext`

è¿™æ„å‘³ç€å¦‚æœæ‚¨åœ¨åŒä¸€ä¸ªåº”ç”¨ç¨‹åºä¸­ä½¿ç”¨Spring MVCå’Œæ¥è‡ªSpring WebFluxçš„æ–°`WebClient`ï¼Œé»˜è®¤æƒ…å†µä¸‹å°†ä½¿ç”¨Spring MVCã€‚æ‚¨å¯ä»¥é€šè¿‡è°ƒç”¨`setWebApplicationType(WebApplicationType)`è½»æ¾è¦†ç›–å®ƒã€‚

ä¹Ÿå¯ä»¥é€šè¿‡è°ƒç”¨`setApplicationContextClass(â€¦â€‹)`æ¥å®Œå…¨æ§åˆ¶ä½¿ç”¨çš„`ApplicationContext`ç±»å‹ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>åœ¨JUnitæµ‹è¯•ä¸­ä½¿ç”¨<code class="literal" i="441">SpringApplication</code>æ—¶ï¼Œé€šå¸¸éœ€è¦è°ƒç”¨<code class="literal" i="440">setWebApplicationType(WebApplicationType.NONE)</code>ã€‚</p></td></tr></tbody></table>

23.7è®¿é—®åº”ç”¨ç¨‹åºå‚æ•°
------------

å¦‚æœæ‚¨éœ€è¦è®¿é—®ä¼ é€’ç»™`SpringApplication.run(â€¦â€‹)`çš„åº”ç”¨ç¨‹åºå‚æ•°ï¼Œåˆ™å¯ä»¥æ³¨å…¥`org.springframework.boot.ApplicationArguments` beanã€‚`ApplicationArguments`æ¥å£æä¾›å¯¹åŸå§‹`String[]`å‚æ•°ä»¥åŠè§£æçš„`option`å’Œ`non-option`å‚æ•°çš„è®¿é—®ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
import org.springframework.boot.*;
import org.springframework.beans.factory.annotation.*;
import org.springframework.stereotype.*;

_@Component_
public class MyBean {

	_@Autowired_
	public MyBean(ApplicationArguments args) {
		boolean debug = args.containsOption("debug");
		List<String> files = args.getNonOptionArgs();
		// if run with "--debug logfile.txt" debug=true, files=["logfile.txt"]
	}

}
```

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>Spring Bootè¿˜æ³¨å†Œ<code class="literal" i="448">CommandLinePropertySource</code>å’ŒSpring <code class="literal" i="449">Environment</code>ã€‚è¿™ä½¿æ‚¨è¿˜å¯ä»¥ä½¿ç”¨<code class="literal" i="450">@Value</code>æ³¨é‡Šæ³¨å…¥å•ä¸ªåº”ç”¨ç¨‹åºå‚æ•°ã€‚</p></td></tr></tbody></table>

23.8ä½¿ç”¨ApplicationRunneræˆ–CommandLineRunner
-----------------------------------------

å¦‚æœæ‚¨éœ€è¦åœ¨`SpringApplication`å¯åŠ¨åè¿è¡ŒæŸäº›ç‰¹å®šä»£ç ï¼Œåˆ™å¯ä»¥å®ç°`ApplicationRunner`æˆ–`CommandLineRunner`æ¥å£ã€‚ä¸¤ä¸ªæ¥å£ä»¥ç›¸åŒçš„æ–¹å¼å·¥ä½œï¼Œå¹¶æä¾›å•ä¸ª`run`æ–¹æ³•ï¼Œè¯¥æ–¹æ³•åœ¨`SpringApplication.run(â€¦â€‹)`å®Œæˆä¹‹å‰è°ƒç”¨ã€‚

`CommandLineRunner`æ¥å£æä¾›å¯¹åº”ç”¨ç¨‹åºå‚æ•°çš„è®¿é—®ï¼Œä½œä¸ºç®€å•çš„å­—ç¬¦ä¸²æ•°ç»„ï¼Œè€Œ`ApplicationRunner`ä½¿ç”¨å‰é¢è®¨è®ºçš„`ApplicationArguments`æ¥å£ã€‚ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤º`CommandLineRunner`å’Œ`run`æ–¹æ³•ï¼š

```
import org.springframework.boot.*;
import org.springframework.stereotype.*;

_@Component_
public class MyBean implements CommandLineRunner {

	public void run(String... args) {
		// Do something...
	}

}
```

å¦‚æœå®šä¹‰äº†å¿…é¡»æŒ‰ç‰¹å®šé¡ºåºè°ƒç”¨çš„å¤šä¸ª`CommandLineRunner`æˆ–`ApplicationRunner` beansï¼Œåˆ™å¯ä»¥å¦å¤–å®ç°`org.springframework.core.Ordered`æ¥å£æˆ–ä½¿ç”¨`org.springframework.core.annotation.Order`æ³¨é‡Šã€‚

23.9ç”³è¯·é€€å‡º
--------

æ¯ä¸ª`SpringApplication`éƒ½ä¼šå‘JVMæ³¨å†Œä¸€ä¸ªå…³é—­é’©å­ï¼Œä»¥ç¡®ä¿`ApplicationContext`åœ¨é€€å‡ºæ—¶æ­£å¸¸å…³é—­ã€‚å¯ä»¥ä½¿ç”¨æ‰€æœ‰æ ‡å‡†Springç”Ÿå‘½å‘¨æœŸå›è°ƒï¼ˆä¾‹å¦‚`DisposableBean`æ¥å£æˆ–`@PreDestroy`æ³¨é‡Šï¼‰ã€‚

æ­¤å¤–ï¼Œbeanså¦‚æœå¸Œæœ›åœ¨è°ƒç”¨`SpringApplication.exit()`æ—¶è¿”å›ç‰¹å®šçš„é€€å‡ºä»£ç ï¼Œåˆ™å¯ä»¥å®ç°`org.springframework.boot.ExitCodeGenerator`æ¥å£ã€‚ç„¶åå¯ä»¥å°†æ­¤é€€å‡ºä»£ç ä¼ é€’ç»™`System.exit()`ä»¥å°†å…¶ä½œä¸ºçŠ¶æ€ä»£ç è¿”å›ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
_@SpringBootApplication_
public class ExitCodeApplication {

	_@Bean_
	public ExitCodeGenerator exitCodeGenerator() {
		return () -> 42;
	}

	public static void main(String[] args) {
		System.exit(SpringApplication
				.exit(SpringApplication.run(ExitCodeApplication.class, args)));
	}

}
```

æ­¤å¤–ï¼Œ`ExitCodeGenerator`æ¥å£å¯ä»¥é€šè¿‡ä¾‹å¤–æ¥å®ç°ã€‚é‡åˆ°è¿™æ ·çš„å¼‚å¸¸æ—¶ï¼ŒSpring Bootè¿”å›å®ç°çš„`getExitCode()`æ–¹æ³•æä¾›çš„é€€å‡ºä»£ç ã€‚

23.10ç®¡ç†å‘˜åŠŸèƒ½
----------

é€šè¿‡æŒ‡å®š`spring.application.admin.enabled`å±æ€§ï¼Œå¯ä»¥ä¸ºåº”ç”¨ç¨‹åºå¯ç”¨ä¸ç®¡ç†ç›¸å…³çš„åŠŸèƒ½ã€‚è¿™æš´éœ²äº† [`SpringApplicationAdminMXBean`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/admin/SpringApplicationAdminMXBean.java) å¹³å°`MBeanServer`ã€‚æ‚¨å¯ä»¥ä½¿ç”¨æ­¤åŠŸèƒ½è¿œç¨‹ç®¡ç†æ‚¨çš„Spring Bootåº”ç”¨ç¨‹åºã€‚æ­¤åŠŸèƒ½å¯¹äºä»»ä½•æœåŠ¡åŒ…è£…å™¨å®ç°ä¹Ÿå¾ˆæœ‰ç”¨ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¦‚æœæ‚¨æƒ³çŸ¥é“åº”ç”¨ç¨‹åºæ­£åœ¨è¿è¡Œçš„HTTPç«¯å£ï¼Œè¯·ä½¿ç”¨<code class="literal" i="476">local.server.port</code>çš„å¯†é’¥è·å–è¯¥å±æ€§ã€‚</p></td></tr></tbody></table><table border="0" summary="Caution"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[è­¦å‘Š]" src="images/caution.png"></td><th align="left">è­¦å‘Š</th></tr><tr><td align="left" valign="top"><p>å¯ç”¨æ­¤åŠŸèƒ½æ—¶è¦å°å¿ƒï¼Œå› ä¸ºMBeanå…¬å¼€äº†ä¸€ç§å…³é—­åº”ç”¨ç¨‹åºçš„æ–¹æ³•ã€‚</p></td></tr></tbody></table>

24.å¤–éƒ¨é…ç½®
-------

Spring Bootå…è®¸æ‚¨å¤–éƒ¨åŒ–æ‚¨çš„é…ç½®ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥åœ¨ä¸åŒçš„ç¯å¢ƒä¸­ä½¿ç”¨ç›¸åŒçš„åº”ç”¨ç¨‹åºä»£ç ã€‚æ‚¨å¯ä»¥ä½¿ç”¨å±æ€§æ–‡ä»¶ï¼ŒYAMLæ–‡ä»¶ï¼Œç¯å¢ƒå˜é‡å’Œå‘½ä»¤è¡Œå‚æ•°æ¥å¤–éƒ¨åŒ–é…ç½®ã€‚Propertyå€¼å¯ä»¥é€šè¿‡ä½¿ç”¨`@Value`æ³¨é‡Šç›´æ¥æ³¨å…¥beansï¼Œé€šè¿‡Springçš„`Environment`æŠ½è±¡è®¿é—®ï¼Œæˆ– é€šè¿‡`@ConfigurationProperties` [ç»‘å®šåˆ°ç»“æ„åŒ–å¯¹è±¡](#boot-features-external-config-typesafe-configuration-properties "24.8ç±»å‹å®‰å…¨é…ç½®å±æ€§")ã€‚

Spring Bootä½¿ç”¨éå¸¸ç‰¹æ®Šçš„`PropertySource`é¡ºåºï¼Œæ—¨åœ¨å…è®¸åˆç†åœ°è¦†ç›–å€¼ã€‚æŒ‰ä»¥ä¸‹é¡ºåºè€ƒè™‘å±æ€§ï¼š

1.  [Devtools](#using-boot-devtools-globalsettings "20.4å…¨å±€è®¾ç½®") ä¸»ç›®å½•ä¸Šçš„[å…¨å±€è®¾ç½®å±æ€§](#using-boot-devtools-globalsettings "20.4Â Global Settings")ï¼ˆå½“devtoolså¤„äºæ´»åŠ¨çŠ¶æ€æ—¶`~/.spring-boot-devtools.properties`ï¼‰ã€‚
2.  [`@TestPropertySource`](https://docs.spring.io/spring/docs/5.1.3.RELEASE/javadoc-api/org/springframework/test/context/TestPropertySource.html) æµ‹è¯•ä¸Šçš„æ³¨é‡Šã€‚
3.  `properties`å±äºæ‚¨çš„æµ‹è¯•ã€‚å¯ [ç”¨äºæµ‹è¯•ç‰¹å®šåº”ç”¨ç¨‹åºç‰‡æ®µ](#boot-features-testing-spring-boot-applications-testing-autoconfigured-tests "45.3.8Â Auto-configured Tests")[`@SpringBootTest`](https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/test/context/SpringBootTest.html)çš„ [æµ‹è¯•æ³¨é‡Š](#boot-features-testing-spring-boot-applications-testing-autoconfigured-tests "45.3.8è‡ªåŠ¨é…ç½®çš„æµ‹è¯•")ã€‚
4.  å‘½ä»¤è¡Œå‚æ•°ã€‚
5.  æ¥è‡ª`SPRING_APPLICATION_JSON`çš„å±æ€§ï¼ˆåµŒå…¥åœ¨ç¯å¢ƒå˜é‡æˆ–ç³»ç»Ÿå±æ€§ä¸­çš„å†…è”JSONï¼‰ã€‚
6.  `ServletConfig` initå‚æ•°ã€‚
7.  `ServletContext` initå‚æ•°ã€‚
8.  JNDIæ¥è‡ª`java:comp/env`ã€‚
9.  Javaç³»ç»Ÿå±æ€§ï¼ˆ`System.getProperties()`ï¼‰ã€‚
10.  OSç¯å¢ƒå˜é‡ã€‚
11.  `RandomValuePropertySource`ä»…åœ¨`random.*`ä¸­å…·æœ‰å±æ€§ã€‚
12.  [ç‰¹å®šäºé…ç½®æ–‡ä»¶çš„åº”ç”¨ç¨‹åºå±æ€§](#boot-features-external-config-profile-specific-properties "24.4ç‰¹å®šäºé…ç½®æ–‡ä»¶çš„å±æ€§")åœ¨æ‰“åŒ…çš„jarä¹‹å¤–ï¼ˆ`application-{profile}.properties`å’ŒYAMLå˜ä½“ï¼‰ã€‚
13.  [](#boot-features-external-config-profile-specific-properties "24.4ç‰¹å®šäºé…ç½®æ–‡ä»¶çš„å±æ€§")æ‰“åŒ…åœ¨jarä¸­[çš„ç‰¹å®šäºé…ç½®æ–‡ä»¶çš„åº”ç”¨ç¨‹åºå±æ€§](#boot-features-external-config-profile-specific-properties "24.4Â Profile-specific Properties")ï¼ˆ`application-{profile}.properties`å’ŒYAMLå˜ä½“ï¼‰ã€‚
14.  æ‰“åŒ…jarä¹‹å¤–çš„åº”ç”¨ç¨‹åºå±æ€§ï¼ˆ`application.properties`å’ŒYAMLå˜ä½“ï¼‰ã€‚
15.  æ‰“åŒ…åœ¨jarä¸­çš„åº”ç”¨ç¨‹åºå±æ€§ï¼ˆ`application.properties`å’ŒYAMLå˜ä½“ï¼‰ã€‚
16.  [`@PropertySource`](https://docs.spring.io/spring/docs/5.1.3.RELEASE/javadoc-api/org/springframework/context/annotation/PropertySource.html) `@Configuration`è¯¾ç¨‹ä¸Šçš„æ³¨é‡Šã€‚
17.  é»˜è®¤å±æ€§ï¼ˆé€šè¿‡è®¾ç½®`SpringApplication.setDefaultProperties`æŒ‡å®šï¼‰ã€‚

ä¸ºäº†æä¾›ä¸€ä¸ªå…·ä½“ç¤ºä¾‹ï¼Œå‡è®¾æ‚¨å¼€å‘äº†ä¸€ä¸ªä½¿ç”¨`name`å±æ€§çš„`@Component`ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
import org.springframework.stereotype.*;
import org.springframework.beans.factory.annotation.*;

_@Component_
public class MyBean {

    _@Value("${name}")_
    private String name;

    // ...

}
```

åœ¨åº”ç”¨ç¨‹åºç±»è·¯å¾„ä¸Šï¼ˆä¾‹å¦‚ï¼Œåœ¨jarä¸­ï¼‰ï¼Œæ‚¨å¯ä»¥æ‹¥æœ‰ä¸€ä¸ª`application.properties`æ–‡ä»¶ï¼Œä¸º`name`æä¾›åˆç†çš„é»˜è®¤å±æ€§å€¼ã€‚åœ¨æ–°ç¯å¢ƒä¸­è¿è¡Œæ—¶ï¼Œå¯ä»¥åœ¨jarä¹‹å¤–æä¾›è¦†ç›–`name`çš„`application.properties`æ–‡ä»¶ã€‚å¯¹äºä¸€æ¬¡æ€§æµ‹è¯•ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ç‰¹å®šçš„å‘½ä»¤è¡Œå¼€å…³å¯åŠ¨ï¼ˆä¾‹å¦‚ï¼Œ`java -jar app.jar --`ï¼‰ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¯ä»¥åœ¨å‘½ä»¤è¡Œä¸Šä½¿ç”¨ç¯å¢ƒå˜é‡æä¾›<code class="literal" i="503">SPRING_APPLICATION_JSON</code>å±æ€§ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥åœ¨UN * X shellä¸­ä½¿ç”¨ä»¥ä¸‹è¡Œï¼š</p><pre class="screen notranslate">$ SPRING_APPLICATION_JSON='{"acme":{"name":"test"}}' java -jar myapp.jar</pre><p>åœ¨å‰é¢çš„ç¤ºä¾‹ä¸­ï¼Œæ‚¨æœ€ç»ˆåœ¨Spring <code class="literal" i="505">Environment</code>ä¸­ä½¿ç”¨<code class="literal" i="504">acme.name=test</code>ã€‚æ‚¨è¿˜å¯ä»¥åœ¨Systemå±æ€§ä¸­å°†JSONæä¾›ä¸º<code class="literal" i="506">spring.application.json</code>ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š</p><pre class="screen notranslate">$ java -Dspring.application.json='{"name":"test"}' -jar myapp.jar</pre><p>æ‚¨è¿˜å¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°æä¾›JSONï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š</p><pre class="screen notranslate">$ java -jar myapp.jar --spring.application.json='{"name":"test"}'</pre><p>æ‚¨è¿˜å¯ä»¥å°†JSONä½œä¸ºJNDIå˜é‡æä¾›ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š<code class="literal" i="507">java:comp/env/spring.application.json</code>ã€‚</p></td></tr></tbody></table>

24.1é…ç½®éšæœºå€¼
---------

`RandomValuePropertySource`å¯¹äºæ³¨å…¥éšæœºå€¼ï¼ˆä¾‹å¦‚ï¼Œè¿›å…¥ç§˜å¯†æˆ–æµ‹è¯•ç”¨ä¾‹ï¼‰éå¸¸æœ‰ç”¨ã€‚å®ƒå¯ä»¥ç”Ÿæˆæ•´æ•°ï¼Œé•¿æ•´æ•°ï¼Œuuidsæˆ–å­—ç¬¦ä¸²ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
my.secret=${random.value}
my.number=${random.int}
my.bignumber=${random.long}
my.uuid=${random.uuid}
my.number.less.than.ten=${random.int(10)}
my.number.in.range=${random.int[1024,65536]}
```

`random.int*`è¯­æ³•ä¸º`OPEN value (,max) CLOSE`ï¼Œå…¶ä¸­`OPEN,CLOSE`ä¸ºä»»æ„å­—ç¬¦ï¼Œ`value,max`ä¸ºæ•´æ•°ã€‚å¦‚æœæä¾›`max`ï¼Œé‚£ä¹ˆ`value`æ˜¯æœ€å°å€¼ï¼Œ`max`æ˜¯æœ€å¤§å€¼ï¼ˆä¸åŒ…æ‹¬ï¼‰ã€‚

24.2è®¿é—®å‘½ä»¤è¡Œå±æ€§
-----------

é»˜è®¤æƒ…å†µä¸‹ï¼Œ`SpringApplication`å°†ä»»ä½•å‘½ä»¤è¡Œé€‰é¡¹å‚æ•°ï¼ˆå³ä»¥`--`å¼€å¤´çš„å‚æ•°ï¼Œä¾‹å¦‚`--server.port=9000`ï¼‰è½¬æ¢ä¸º`property`ï¼Œå¹¶å°†å®ƒä»¬æ·»åŠ åˆ°Spring `Environment`ã€‚å¦‚å‰æ‰€è¿°ï¼Œå‘½ä»¤è¡Œå±æ€§å§‹ç»ˆä¼˜å…ˆäºå…¶ä»–å±æ€§æºã€‚

å¦‚æœæ‚¨ä¸å¸Œæœ›å°†å‘½ä»¤è¡Œå±æ€§æ·»åŠ åˆ°`Environment`ï¼Œåˆ™å¯ä»¥ä½¿ç”¨`SpringApplication.setAddCommandLineProperties(false)`ç¦ç”¨å®ƒä»¬ã€‚

24.3åº”ç”¨ç¨‹åºPropertyæ–‡ä»¶
------------------

`SpringApplication`ä»ä»¥ä¸‹ä½ç½®çš„`application.properties`æ–‡ä»¶åŠ è½½å±æ€§ï¼Œå¹¶å°†å®ƒä»¬æ·»åŠ åˆ°Spring `Environment`ï¼š

1.  å½“å‰ç›®å½•çš„`/config`å­ç›®å½•
2.  å½“å‰ç›®å½•
3.  classpath `/config`åŒ…
4.  ç±»è·¯å¾„æ ¹

åˆ—è¡¨æŒ‰ä¼˜å…ˆçº§æ’åºï¼ˆåœ¨åˆ—è¡¨ä¸­è¾ƒé«˜ä½ç½®å®šä¹‰çš„å±æ€§å°†è¦†ç›–åœ¨è¾ƒä½ä½ç½®ä¸­å®šä¹‰çš„å±æ€§ï¼‰ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>æ‚¨è¿˜å¯ä»¥<a class="link" href="#boot-features-external-config-yaml" title="24.7ä½¿ç”¨YAMLè€Œä¸æ˜¯å±æ€§">ä½¿ç”¨YAMLï¼ˆ'ã€‚mil'ï¼‰æ–‡ä»¶</a>æ›¿ä»£'.properties'ã€‚</p></td></tr></tbody></table>

å¦‚æœæ‚¨ä¸å–œæ¬¢`application.properties`ä½œä¸ºé…ç½®æ–‡ä»¶åï¼Œåˆ™å¯ä»¥é€šè¿‡æŒ‡å®š`spring.config.name`ç¯å¢ƒå±æ€§æ¥åˆ‡æ¢åˆ°å¦ä¸€ä¸ªæ–‡ä»¶åã€‚æ‚¨è¿˜å¯ä»¥ä½¿ç”¨`spring.config.location`ç¯å¢ƒå±æ€§ï¼ˆä»¥é€—å·åˆ†éš”çš„ç›®å½•ä½ç½®æˆ–æ–‡ä»¶è·¯å¾„åˆ—è¡¨ï¼‰æ¥å¼•ç”¨æ˜¾å¼ä½ç½®ã€‚ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºå¦‚ä½•æŒ‡å®šå…¶ä»–æ–‡ä»¶åï¼š

```
$ java -jar myproject.jar --spring.config.name=myproject
```

ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºå¦‚ä½•æŒ‡å®šä¸¤ä¸ªä½ç½®ï¼š

```
$ java -jar myproject.jar --spring.config.location=classpath:/default.properties,classpath:/override.properties
```

<table border="0" summary="Warning"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[è­¦å‘Š]" src="images/warning.png"></td><th align="left">è­¦å‘Š</th></tr><tr><td align="left" valign="top"><p>å¾ˆæ—©å°±ä½¿ç”¨<code class="literal" i="531">spring.config.name</code>å’Œ<code class="literal" i="532">spring.config.location</code>æ¥ç¡®å®šå¿…é¡»åŠ è½½å“ªäº›æ–‡ä»¶ï¼Œå› æ­¤å¿…é¡»å°†å®ƒä»¬å®šä¹‰ä¸ºç¯å¢ƒå±æ€§ï¼ˆé€šå¸¸æ˜¯OSç¯å¢ƒå˜é‡ï¼Œç³»ç»Ÿå±æ€§æˆ–å‘½ä»¤è¡Œå‚æ•°ï¼‰ã€‚</p></td></tr></tbody></table>

å¦‚æœ`spring.config.location`åŒ…å«ç›®å½•ï¼ˆè€Œä¸æ˜¯æ–‡ä»¶ï¼‰ï¼Œåˆ™å®ƒä»¬åº”ä»¥`/`ç»“æŸï¼ˆå¹¶ä¸”åœ¨è¿è¡Œæ—¶ï¼Œåœ¨åŠ è½½ä¹‹å‰é™„åŠ ä»`spring.config.name`ç”Ÿæˆçš„åç§°ï¼ŒåŒ…æ‹¬ç‰¹å®šäºé…ç½®æ–‡ä»¶çš„æ–‡ä»¶åï¼‰ ã€‚`spring.config.location`ä¸­æŒ‡å®šçš„æ–‡ä»¶æŒ‰åŸæ ·ä½¿ç”¨ï¼Œä¸æ”¯æŒç‰¹å®šäºé…ç½®æ–‡ä»¶çš„å˜ä½“ï¼Œå¹¶ä¸”è¢«ä»»ä½•ç‰¹å®šäºé…ç½®æ–‡ä»¶çš„å±æ€§è¦†ç›–ã€‚

ä»¥ç›¸åçš„é¡ºåºæœç´¢é…ç½®ä½ç½®ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œé…ç½®çš„ä½ç½®ä¸º`classpath:/,classpath:/config/,file:./,file:./config/`ã€‚ç”Ÿæˆçš„æœç´¢é¡ºåºå¦‚ä¸‹ï¼š

1.  `file:./config/`
2.  `file:./`
3.  `classpath:/config/`
4.  `classpath:/`

ä½¿ç”¨`spring.config.location`é…ç½®è‡ªå®šä¹‰é…ç½®ä½ç½®æ—¶ï¼Œå®ƒä»¬ä¼šæ›¿æ¢é»˜è®¤ä½ç½®ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ`spring.config.location`é…ç½®äº†å€¼`classpath:/custom-config/,file:./custom-config/`ï¼Œåˆ™æœç´¢é¡ºåºå°†å˜ä¸ºï¼š

1.  `file:./custom-config/`
2.  `classpath:custom-config/`

æˆ–è€…ï¼Œå½“ä½¿ç”¨`spring.config.additional-location`é…ç½®è‡ªå®šä¹‰é…ç½®ä½ç½®æ—¶ï¼Œé™¤äº†é»˜è®¤ä½ç½®å¤–ï¼Œè¿˜ä¼šä½¿ç”¨å®ƒä»¬ã€‚åœ¨é»˜è®¤ä½ç½®ä¹‹å‰æœç´¢å…¶ä»–ä½ç½®ã€‚ä¾‹å¦‚ï¼Œå¦‚æœé…ç½®äº†`classpath:/custom-config/,file:./custom-config/`çš„å…¶ä»–ä½ç½®ï¼Œåˆ™æœç´¢é¡ºåºå°†å˜ä¸ºä»¥ä¸‹å†…å®¹ï¼š

1.  `file:./custom-config/`
2.  `classpath:custom-config/`
3.  `file:./config/`
4.  `file:./`
5.  `classpath:/config/`
6.  `classpath:/`

æ­¤æœç´¢é¡ºåºå…è®¸æ‚¨åœ¨ä¸€ä¸ªé…ç½®æ–‡ä»¶ä¸­æŒ‡å®šé»˜è®¤å€¼ï¼Œç„¶åæœ‰é€‰æ‹©åœ°è¦†ç›–å¦ä¸€ä¸ªé…ç½®æ–‡ä»¶ä¸­çš„å€¼ã€‚æ‚¨å¯ä»¥åœ¨`application.properties`ï¼ˆæˆ–æ‚¨ä½¿ç”¨`spring.config.name`é€‰æ‹©çš„ä»»ä½•å…¶ä»–åŸºæœ¬åç§°ï¼‰ä¸­çš„æŸä¸ªé»˜è®¤ä½ç½®ä¸ºæ‚¨çš„åº”ç”¨ç¨‹åºæä¾›é»˜è®¤å€¼ã€‚ç„¶åï¼Œå¯ä»¥åœ¨è¿è¡Œæ—¶ä½¿ç”¨ä½äºå…¶ä¸­ä¸€ä¸ªè‡ªå®šä¹‰ä½ç½®çš„ä¸åŒæ–‡ä»¶è¦†ç›–è¿™äº›é»˜è®¤å€¼ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å¦‚æœä½¿ç”¨ç¯å¢ƒå˜é‡è€Œä¸æ˜¯ç³»ç»Ÿå±æ€§ï¼Œåˆ™å¤§å¤šæ•°æ“ä½œç³»ç»Ÿéƒ½ä¸å…è®¸ä½¿ç”¨å¥ç‚¹åˆ†éš”çš„é”®åç§°ï¼Œä½†æ‚¨å¯ä»¥ä½¿ç”¨ä¸‹åˆ’çº¿ï¼ˆä¾‹å¦‚ï¼Œ<code class="literal" i="545">SPRING_CONFIG_NAME</code>è€Œä¸æ˜¯<code class="literal" i="546">spring.config.name</code>ï¼‰ã€‚</p></td></tr></tbody></table><table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å¦‚æœåº”ç”¨ç¨‹åºåœ¨å®¹å™¨ä¸­è¿è¡Œï¼Œåˆ™å¯ä»¥ä½¿ç”¨JNDIå±æ€§ï¼ˆåœ¨<code class="literal" i="547">java:comp/env</code>ä¸­ï¼‰æˆ–servletä¸Šä¸‹æ–‡åˆå§‹åŒ–å‚æ•°æ¥ä»£æ›¿ç¯å¢ƒå˜é‡æˆ–ç³»ç»Ÿå±æ€§ã€‚</p></td></tr></tbody></table>

24.4ç‰¹å®šäºé…ç½®æ–‡ä»¶çš„å±æ€§
--------------

é™¤äº†`application.properties`æ–‡ä»¶ä¹‹å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½åçº¦å®šæ¥å®šä¹‰ç‰¹å®šäºé…ç½®æ–‡ä»¶çš„å±æ€§ï¼š`application-{profile}.properties`ã€‚`Environment`æœ‰ä¸€ç»„é»˜è®¤é…ç½®æ–‡ä»¶ï¼ˆé»˜è®¤æƒ…å†µä¸‹ä¸º`[default]`ï¼‰ï¼Œå¦‚æœæœªè®¾ç½®æ´»åŠ¨é…ç½®æ–‡ä»¶ï¼Œåˆ™ä½¿ç”¨è¿™äº›é…ç½®æ–‡ä»¶ã€‚æ¢å¥è¯è¯´ï¼Œå¦‚æœæ²¡æœ‰æ˜¾å¼æ¿€æ´»é…ç½®æ–‡ä»¶ï¼Œåˆ™ä¼šåŠ è½½`application-default.properties`ä¸­çš„å±æ€§ã€‚

ç‰¹å®šäºé…ç½®æ–‡ä»¶çš„å±æ€§ä»æ ‡å‡†`application.properties`çš„ç›¸åŒä½ç½®åŠ è½½ï¼Œç‰¹å®šäºé…ç½®æ–‡ä»¶çš„æ–‡ä»¶å§‹ç»ˆè¦†ç›–éç‰¹å®šæ–‡ä»¶ï¼Œæ— è®ºç‰¹å®šäºé…ç½®æ–‡ä»¶çš„æ–‡ä»¶æ˜¯åœ¨æ‰“åŒ…çš„jarå†…éƒ¨è¿˜æ˜¯å¤–éƒ¨ã€‚

å¦‚æœæŒ‡å®šäº†å¤šä¸ªé…ç½®æ–‡ä»¶ï¼Œåˆ™åº”ç”¨last-winsç­–ç•¥ã€‚ä¾‹å¦‚ï¼Œ`spring.profiles.active`å±æ€§æŒ‡å®šçš„é…ç½®æ–‡ä»¶å°†åœ¨é€šè¿‡`SpringApplication` APIé…ç½®çš„é…ç½®æ–‡ä»¶ä¹‹åæ·»åŠ ï¼Œå› æ­¤ä¼˜å…ˆã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å¦‚æœæ‚¨åœ¨<code class="literal" i="556">spring.config.location</code>ä¸­æŒ‡å®šäº†ä»»ä½•æ–‡ä»¶ï¼Œåˆ™ä¸ä¼šè€ƒè™‘è¿™äº›æ–‡ä»¶çš„ç‰¹å®šäºé…ç½®æ–‡ä»¶çš„å˜ä½“ã€‚å¦‚æœæ‚¨è¿˜æƒ³ä½¿ç”¨ç‰¹å®šäºé…ç½®æ–‡ä»¶çš„å±æ€§ï¼Œè¯·ä½¿ç”¨<code class="literal" i="557">spring.config.location</code>ä¸­çš„ç›®å½•ã€‚</p></td></tr></tbody></table>

24.5å±æ€§ä¸­çš„å ä½ç¬¦
-----------

`application.properties`ä¸­çš„å€¼åœ¨ä½¿ç”¨æ—¶é€šè¿‡ç°æœ‰çš„`Environment`è¿›è¡Œè¿‡æ»¤ï¼Œå› æ­¤æ‚¨å¯ä»¥è¿”å›å…ˆå‰å®šä¹‰çš„å€¼ï¼ˆä¾‹å¦‚ï¼Œä»ç³»ç»Ÿå±æ€§ä¸­ï¼‰ã€‚

```
app.name=MyApp
app.description=${app.name} is a Spring Boot application
```

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æ‚¨è¿˜å¯ä»¥ä½¿ç”¨æ­¤æŠ€æœ¯åˆ›å»ºç°æœ‰Spring Bootå±æ€§çš„â€œçŸ­â€å˜ä½“ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è§<em><a class="xref" href="#howto-use-short-command-line-arguments" title="77.4ä½¿ç”¨â€œçŸ­â€å‘½ä»¤è¡Œå‚æ•°">ç¬¬77.4èŠ‚â€œä½¿ç”¨'çŸ­'å‘½ä»¤è¡Œå‚æ•°â€</a></em>æ–¹æ³•ã€‚</p></td></tr></tbody></table>

24.6åŠ å¯†å±æ€§
--------

Spring Bootæ²¡æœ‰ä¸ºåŠ å¯†å±æ€§å€¼æä¾›ä»»ä½•å†…ç½®æ”¯æŒï¼Œä½†æ˜¯ï¼Œå®ƒç¡®å®æä¾›äº†ä¿®æ”¹Spring `Environment`ä¸­åŒ…å«çš„å€¼æ‰€å¿…éœ€çš„é’©å­ç‚¹ã€‚`EnvironmentPostProcessor`ç•Œé¢å…è®¸æ‚¨åœ¨åº”ç”¨ç¨‹åºå¯åŠ¨ä¹‹å‰æ“ä½œ`Environment`ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯[ï¼Œ](#howto-customize-the-environment-or-application-context "76.3åœ¨å¼€å§‹ä¹‹å‰è‡ªå®šä¹‰ç¯å¢ƒæˆ–ApplicationContext")è¯·å‚è§[ç¬¬76.3èŠ‚â€œåœ¨å¼€å§‹ä¹‹å‰è‡ªå®šä¹‰ç¯å¢ƒæˆ–ApplicationContextâ€](#howto-customize-the-environment-or-application-context "76.3Â Customize the Environment or ApplicationContext Before It Starts") ã€‚

å¦‚æœæ‚¨æ­£åœ¨å¯»æ‰¾ä¸€ç§å­˜å‚¨å‡­æ®å’Œå¯†ç çš„å®‰å…¨æ–¹æ³•ï¼Œé‚£ä¹ˆ [Spring Cloud Vault](https://cloud.spring.io/spring-cloud-vault/)é¡¹ç›®å°†æ”¯æŒåœ¨[HashiCorp Vaultä¸­](https://www.vaultproject.io/)å­˜å‚¨å¤–éƒ¨åŒ–é…ç½® ã€‚

24.7ä½¿ç”¨YAMLè€Œä¸æ˜¯å±æ€§
---------------

[YAML](http://yaml.org)æ˜¯JSONçš„è¶…é›†ï¼Œå› æ­¤æ˜¯ç”¨äºæŒ‡å®šåˆ†å±‚é…ç½®æ•°æ®çš„ä¾¿æ·æ ¼å¼ã€‚åªè¦åœ¨ç±»è·¯å¾„ä¸Šæœ‰[SnakeYAML](http://www.snakeyaml.org/)åº“ï¼Œ`SpringApplication`ç±»å°±ä¼šè‡ªåŠ¨æ”¯æŒYAMLä½œä¸ºå±æ€§çš„æ›¿ä»£ ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å¦‚æœæ‚¨ä½¿ç”¨â€œStartersâ€ï¼Œåˆ™<code class="literal" i="564">spring-boot-starter</code>ä¼šè‡ªåŠ¨æä¾›SnakeYAMLã€‚</p></td></tr></tbody></table>

### 24.7.1åŠ è½½YAML

Spring Frameworkæä¾›äº†ä¸¤ä¸ªæ–¹ä¾¿çš„ç±»ï¼Œå¯ç”¨äºåŠ è½½YAMLæ–‡æ¡£ã€‚`YamlPropertiesFactoryBean`å°†YAMLåŠ è½½ä¸º`Properties`ï¼Œ`YamlMapFactoryBean`å°†YAMLåŠ è½½ä¸º`Map`ã€‚

ä¾‹å¦‚ï¼Œè¯·è€ƒè™‘ä»¥ä¸‹YAMLæ–‡æ¡£ï¼š

```
environments:
	dev:
		url: http://dev.example.com
		name: Developer Setup
	prod:
		url: http://another.example.com
		name: My Cool App
```

å‰é¢çš„ç¤ºä¾‹å°†è½¬æ¢ä¸ºä»¥ä¸‹å±æ€§ï¼š

```
environments.dev.url=http://dev.example.com
environments.dev.name=Developer Setup
environments.prod.url=http://another.example.com
environments.prod.name=My Cool App
```

YAMLåˆ—è¡¨è¡¨ç¤ºä¸ºå…·æœ‰`[index]`è§£é™¤å¼•ç”¨çš„å±æ€§é”®ã€‚ä¾‹å¦‚ï¼Œè€ƒè™‘ä»¥ä¸‹YAMLï¼š

```
my:
servers:
	- dev.example.com
	- another.example.com
```

å‰é¢çš„ç¤ºä¾‹å°†è½¬æ¢ä¸ºè¿™äº›å±æ€§ï¼š

```
my.servers[0]=dev.example.com
my.servers[1]=another.example.com
```

è¦ä½¿ç”¨Spring Bootçš„`Binder`å®ç”¨ç¨‹åºï¼ˆè¿™æ˜¯`@ConfigurationProperties`æ‰€åšçš„ï¼‰ç»‘å®šåˆ°è¿™æ ·çš„å±æ€§ï¼Œä½ éœ€è¦åœ¨`java.util.List`ç±»å‹çš„ç›®æ ‡beanä¸­æ‹¥æœ‰ä¸€ä¸ªå±æ€§ï¼ˆæˆ–`Set`ï¼‰æ‚¨éœ€è¦æä¾›ä¸€ä¸ªsetteræˆ–ç”¨å¯å˜å€¼åˆå§‹åŒ–å®ƒã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹ç¤ºä¾‹ç»‘å®šåˆ°å‰é¢æ˜¾ç¤ºçš„å±æ€§ï¼š

```
_@ConfigurationProperties(prefix="my")_
public class Config {

	private List<String> servers = new ArrayList<String>();

	public List<String> getServers() {
		return this.servers;
	}
}
```

### 24.7.2åœ¨Springç¯å¢ƒä¸­å°†YAMLå…¬å¼€ä¸ºå±æ€§

`YamlPropertySourceLoader`ç±»å¯ç”¨äºåœ¨Spring `Environment`ä¸­å°†YAMLå…¬å¼€ä¸º`PropertySource`ã€‚è¿™æ ·åšå¯ä»¥ä½¿ç”¨å¸¦æœ‰å ä½ç¬¦è¯­æ³•çš„`@Value`æ³¨é‡Šæ¥è®¿é—®YAMLå±æ€§ã€‚

### 24.7.3å¤šè½®å»“YAMLæ–‡æ¡£

æ‚¨å¯ä»¥ä½¿ç”¨`spring.profiles`é”®åœ¨å•ä¸ªæ–‡ä»¶ä¸­æŒ‡å®šå¤šä¸ªç‰¹å®šäºé…ç½®æ–‡ä»¶çš„YAMLæ–‡æ¡£ï¼Œä»¥æŒ‡ç¤ºæ–‡æ¡£ä½•æ—¶åº”ç”¨ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
server:
	address: 192.168.1.100
---
spring:
	profiles: development
server:
	address: 127.0.0.1
---
spring:
	profiles: production & eu-central
server:
	address: 192.168.1.120
```

åœ¨å‰é¢çš„ç¤ºä¾‹ä¸­ï¼Œå¦‚æœ`development`é…ç½®æ–‡ä»¶å¤„äºæ´»åŠ¨çŠ¶æ€ï¼Œåˆ™`server.address`å±æ€§ä¸º`127.0.0.1`ã€‚åŒæ ·ï¼Œå¦‚æœ`production` **å’Œ** `eu-central`é…ç½®æ–‡ä»¶å¤„äºæ´»åŠ¨çŠ¶æ€ï¼Œåˆ™`server.address`å±æ€§ä¸º`192.168.1.120`ã€‚å¦‚æœ**æœª**å¯ç”¨`development`ï¼Œ`production`å’Œ`eu-central`é…ç½®æ–‡ä»¶ï¼Œåˆ™è¯¥å±æ€§çš„å€¼ä¸º`192.168.1.100`ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å› æ­¤ï¼Œ<code class="literal" i="590">spring.profiles</code>å¯ä»¥åŒ…å«ç®€å•çš„é…ç½®æ–‡ä»¶åç§°ï¼ˆä¾‹å¦‚<code class="literal" i="591">production</code>ï¼‰æˆ–é…ç½®æ–‡ä»¶è¡¨è¾¾å¼ã€‚æ¦‚è¦è¡¨è¾¾å¼å…è®¸è¡¨è¾¾æ›´å¤æ‚çš„æ¦‚è¦é€»è¾‘ï¼Œä¾‹å¦‚<code class="literal" i="592">production &amp; (eu-central | eu-west)</code>ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·æŸ¥é˜… <a class="link" href="https://docs.spring.io/spring/docs/5.1.3.RELEASE/spring-framework-reference/core.html#beans-definition-profiles-java" target="_top">å‚è€ƒæŒ‡å—</a>ã€‚</p></td></tr></tbody></table>

å¦‚æœåœ¨åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡å¯åŠ¨æ—¶æ²¡æœ‰æ˜¾å¼æ¿€æ´»ï¼Œåˆ™æ¿€æ´»é»˜è®¤é…ç½®æ–‡ä»¶ã€‚å› æ­¤ï¼Œåœ¨ä»¥ä¸‹YAMLä¸­ï¼Œæˆ‘ä»¬è®¾ç½®`spring.security.user.password`çš„å€¼ï¼Œè¯¥å€¼**ä»…**åœ¨â€œé»˜è®¤â€é…ç½®æ–‡ä»¶ä¸­å¯ç”¨ï¼š

```
server:
  port: 8000
---
spring:
  profiles: default
  security:
    user:
      password: weak
```

ç„¶è€Œï¼Œåœ¨ä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼Œå§‹ç»ˆè®¾ç½®å¯†ç ï¼Œå› ä¸ºå®ƒæœªé™„åŠ åˆ°ä»»ä½•é…ç½®æ–‡ä»¶ï¼Œå¹¶ä¸”å¿…é¡»åœ¨å¿…è¦æ—¶åœ¨æ‰€æœ‰å…¶ä»–é…ç½®æ–‡ä»¶ä¸­æ˜¾å¼é‡ç½®ï¼š

```
server:
  port: 8000
spring:
  security:
    user:
      password: weak
```

ä½¿ç”¨`spring.profiles`å…ƒç´ æŒ‡å®šçš„Springé…ç½®æ–‡ä»¶å¯ä»¥é€‰æ‹©ä½¿ç”¨`!`å­—ç¬¦æ¥å¦å®šã€‚å¦‚æœä¸ºå•ä¸ªæ–‡æ¡£æŒ‡å®šäº†å¦å®šå’Œéå¦å®šçš„é…ç½®æ–‡ä»¶ï¼Œåˆ™è‡³å°‘ä¸€ä¸ªéå¦å®šçš„é…ç½®æ–‡ä»¶å¿…é¡»åŒ¹é…ï¼Œå¹¶ä¸”æ²¡æœ‰å¦å®šçš„é…ç½®æ–‡ä»¶å¯ä»¥åŒ¹é…ã€‚

### 24.7.4 YAMLç¼ºç‚¹

æ— æ³•ä½¿ç”¨`@PropertySource`æ³¨é‡ŠåŠ è½½YAMLæ–‡ä»¶ã€‚å› æ­¤ï¼Œå¦‚æœæ‚¨éœ€è¦ä»¥è¿™ç§æ–¹å¼åŠ è½½å€¼ï¼Œåˆ™éœ€è¦ä½¿ç”¨å±æ€§æ–‡ä»¶ã€‚

24.8ç±»å‹å®‰å…¨é…ç½®å±æ€§
------------

ä½¿ç”¨`@Value("${property}")`æ³¨é‡Šæ¥æ³¨å…¥é…ç½®å±æ€§æœ‰æ—¶ä¼šå¾ˆéº»çƒ¦ï¼Œç‰¹åˆ«æ˜¯å¦‚æœæ‚¨æ­£åœ¨ä½¿ç”¨å¤šä¸ªå±æ€§æˆ–è€…æ‚¨çš„æ•°æ®æœ¬è´¨ä¸Šæ˜¯åˆ†å±‚çš„ã€‚Spring Bootæä¾›äº†ä¸€ç§ä½¿ç”¨å±æ€§çš„æ›¿ä»£æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å…è®¸å¼ºç±»å‹beansç®¡ç†å’ŒéªŒè¯åº”ç”¨ç¨‹åºçš„é…ç½®ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
package com.example;

import java.net.InetAddress;
import java.util.ArrayList;
import java.util.Collections;
import java.util.List;

import org.springframework.boot.context.properties.ConfigurationProperties;

_@ConfigurationProperties("acme")_
public class AcmeProperties {

	private boolean enabled;

	private InetAddress remoteAddress;

	private final Security security = new Security();

	public boolean isEnabled() { ... }

	public void setEnabled(boolean enabled) { ... }

	public InetAddress getRemoteAddress() { ... }

	public void setRemoteAddress(InetAddress remoteAddress) { ... }

	public Security getSecurity() { ... }

	public static class Security {

		private String username;

		private String password;

		private List<String> roles = new ArrayList<>(Collections.singleton("USER"));

		public String getUsername() { ... }

		public void setUsername(String username) { ... }

		public String getPassword() { ... }

		public void setPassword(String password) { ... }

		public List<String> getRoles() { ... }

		public void setRoles(List<String> roles) { ... }

	}
}
```

å‰é¢çš„POJOå®šä¹‰äº†ä»¥ä¸‹å±æ€§ï¼š

*   `acme.enabled`ï¼Œé»˜è®¤å€¼ä¸º`false`ã€‚
*   `acme.remote-address`ï¼Œå…¶ç±»å‹å¯ä»¥ä»`String`å¼ºåˆ¶æ‰§è¡Œã€‚
*   `acme.security.username`ï¼Œå¸¦æœ‰åµŒå¥—çš„â€œå®‰å…¨â€å¯¹è±¡ï¼Œå…¶åç§°ç”±å±æ€§åç§°å†³å®šã€‚ç‰¹åˆ«æ˜¯ï¼Œé‚£é‡Œæ ¹æœ¬æ²¡æœ‰ä½¿ç”¨è¿”å›ç±»å‹ï¼Œå¯èƒ½æ˜¯`SecurityProperties`ã€‚
*   `acme.security.password`.
*   `acme.security.roles`ï¼Œæ”¶é›†`String`ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>getterå’Œsetteré€šå¸¸æ˜¯å¿…éœ€çš„ï¼Œå› ä¸ºç»‘å®šæ˜¯é€šè¿‡æ ‡å‡†çš„Java Beanså±æ€§æè¿°ç¬¦ï¼Œå°±åƒåœ¨Spring MVCä¸­ä¸€æ ·ã€‚åœ¨ä¸‹åˆ—æƒ…å†µä¸‹å¯ä»¥çœç•¥setterï¼š</p><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">æ˜ å°„ï¼Œåªè¦å®ƒä»¬è¢«åˆå§‹åŒ–ï¼Œå°±éœ€è¦ä¸€ä¸ªgetterä½†ä¸ä¸€å®šæ˜¯setterï¼Œå› ä¸ºå®ƒä»¬å¯ä»¥è¢«ç»‘å®šå™¨å˜å¼‚ã€‚</li><li class="listitem">å¯ä»¥é€šè¿‡ç´¢å¼•ï¼ˆé€šå¸¸ä½¿ç”¨YAMLï¼‰æˆ–ä½¿ç”¨å•ä¸ªé€—å·åˆ†éš”å€¼ï¼ˆå±æ€§ï¼‰è®¿é—®é›†åˆå’Œæ•°ç»„ã€‚åœ¨åä¸€ç§æƒ…å†µä¸‹ï¼Œå¿…é¡»ä½¿ç”¨setterã€‚æˆ‘ä»¬å»ºè®®å§‹ç»ˆä¸ºæ­¤ç±»å‹æ·»åŠ setterã€‚å¦‚æœåˆå§‹åŒ–é›†åˆï¼Œè¯·ç¡®ä¿å®ƒä¸æ˜¯ä¸å¯å˜çš„ï¼ˆå¦‚ä¸Šä¾‹æ‰€ç¤ºï¼‰ã€‚</li><li class="listitem">å¦‚æœåˆå§‹åŒ–åµŒå¥—çš„POJOå±æ€§ï¼ˆå¦‚å‰é¢ç¤ºä¾‹ä¸­çš„<code class="literal" i="607">Security</code>å­—æ®µï¼‰ï¼Œåˆ™ä¸éœ€è¦setterã€‚å¦‚æœæ‚¨å¸Œæœ›ç»‘å®šå™¨é€šè¿‡ä½¿ç”¨å…¶é»˜è®¤æ„é€ å‡½æ•°åŠ¨æ€åˆ›å»ºå®ä¾‹ï¼Œåˆ™éœ€è¦ä¸€ä¸ªsetterã€‚</li></ul><p>æœ‰äº›äººä½¿ç”¨Project Lombokè‡ªåŠ¨æ·»åŠ getterå’Œsetterã€‚ç¡®ä¿Lombokä¸ä¸ºæ­¤ç±»å‹ç”Ÿæˆä»»ä½•ç‰¹å®šæ„é€ å‡½æ•°ï¼Œå› ä¸ºå®¹å™¨ä¼šè‡ªåŠ¨ä½¿ç”¨å®ƒæ¥å®ä¾‹åŒ–å¯¹è±¡ã€‚</p><p>æœ€åï¼Œä»…è€ƒè™‘æ ‡å‡†Java Beanå±æ€§ï¼Œå¹¶ä¸”ä¸æ”¯æŒå¯¹é™æ€å±æ€§çš„ç»‘å®šã€‚</p></td></tr></tbody></table><table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¦è¯·å‚é˜…<a class="link" href="#boot-features-external-config-vs-value" title="24.8.6 @ConfigurationPropertiesä¸@Value"><code class="literal" i="608">@Value</code>å’Œ<code class="literal" i="609">@ConfigurationProperties</code>ä¹‹é—´</a>çš„<a class="link" href="#boot-features-external-config-vs-value" title="24.8.6&nbsp;@ConfigurationProperties vs. @Value">å·®å¼‚</a>ã€‚</p></td></tr></tbody></table>

æ‚¨è¿˜éœ€è¦åˆ—å‡ºè¦åœ¨`@EnableConfigurationProperties`æ³¨é‡Šä¸­æ³¨å†Œçš„å±æ€§ç±»ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
_@Configuration_
_@EnableConfigurationProperties(AcmeProperties.class)_
public class MyConfiguration {
}
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å½“<code class="literal" i="611">@ConfigurationProperties</code> beanä»¥è¿™ç§æ–¹å¼æ³¨å†Œæ—¶ï¼Œbeanå…·æœ‰å¸¸è§„åç§°ï¼š<code class="literal" i="612">&lt;prefix&gt;-&lt;fqn&gt;</code>ï¼Œå…¶ä¸­<code class="literal" i="613">&lt;prefix&gt;</code>æ˜¯<code class="literal" i="614">@ConfigurationProperties</code>æ³¨é‡Šä¸­æŒ‡å®šçš„ç¯å¢ƒé”®å‰ç¼€<code class="literal" i="615">&lt;fqn&gt;</code>æ˜¯beançš„å®Œå…¨é™å®šåç§°ã€‚å¦‚æœæ³¨é‡Šæœªæä¾›ä»»ä½•å‰ç¼€ï¼Œåˆ™ä»…ä½¿ç”¨beançš„å®Œå…¨é™å®šåç§°ã€‚</p><p>ä¸Šä¾‹ä¸­çš„beanåç§°ä¸º<code class="literal" i="616">acme-com.example.AcmeProperties</code>ã€‚</p></td></tr></tbody></table>

å³ä½¿å‰é¢çš„é…ç½®ä¸º`AcmeProperties`åˆ›å»ºäº†å¸¸è§„beanï¼Œæˆ‘ä»¬ä¹Ÿå»ºè®®`@ConfigurationProperties`ä»…å¤„ç†ç¯å¢ƒï¼Œç‰¹åˆ«æ˜¯ä¸ä»ä¸Šä¸‹æ–‡ä¸­æ³¨å…¥å…¶ä»–beansã€‚è¯è™½å¦‚æ­¤ï¼Œ`@EnableConfigurationProperties`æ³¨é‡Š_ä¹Ÿä¼š_è‡ªåŠ¨åº”ç”¨äºæ‚¨çš„é¡¹ç›®ï¼Œä»¥ä¾¿ä»`Environment`é…ç½®ä»»ä½•_ç°æœ‰_ beanæ³¨é‡Š`@ConfigurationProperties`ã€‚æ‚¨å¯ä»¥é€šè¿‡ç¡®ä¿`AcmeProperties`å·²ç»æ˜¯beanæ¥å¿«æ·`MyConfiguration`ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
_@Component_
_@ConfigurationProperties(prefix="acme")_
public class AcmeProperties {

	// ... see the preceding example

}
```

è¿™ç§é…ç½®é£æ ¼ä¸`SpringApplication`å¤–éƒ¨YAMLé…ç½®ç‰¹åˆ«æœ‰æ•ˆï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
# application.yml

acme:
	remote-address: 192.168.1.1
	security:
		username: admin
		roles:
		  - USER
		  - ADMIN

# additional configuration as required
```

è¦ä½¿ç”¨`@ConfigurationProperties` beansï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä¸ä»»ä½•å…¶ä»–beanç›¸åŒçš„æ–¹å¼æ³¨å…¥å®ƒä»¬ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
_@Service_
public class MyService {

	private final AcmeProperties properties;

	_@Autowired_
	public MyService(AcmeProperties properties) {
	    this.properties = properties;
	}

 	//...

	_@PostConstruct_
	public void openConnection() {
		Server server = new Server(this.properties.getRemoteAddress());
		// ...
	}

}
```

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>ä½¿ç”¨<code class="literal" i="626">@ConfigurationProperties</code>è¿˜å¯ä»¥ç”Ÿæˆå…ƒæ•°æ®æ–‡ä»¶ï¼ŒIDEå¯ä»¥ä½¿ç”¨è¿™äº›æ–‡ä»¶ä¸ºæ‚¨è‡ªå·±çš„å¯†é’¥æä¾›è‡ªåŠ¨å®ŒæˆåŠŸèƒ½ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯<a class="xref" href="#configuration-metadata" title="é™„å½•B.é…ç½®å…ƒæ•°æ®">ï¼Œ<i></i></a>è¯·å‚é˜… <a class="xref" href="#configuration-metadata" title="Appendix&nbsp;B.&nbsp;Configuration Metadata">é™„å½•Bï¼Œ</a><a class="xref" href="#configuration-metadata" title="Appendix&nbsp;B.&nbsp;Configuration Metadata"><i>é…ç½®å…ƒæ•°æ®</i></a>é™„å½•ã€‚</p></td></tr></tbody></table>

### 24.8.1ç¬¬ä¸‰æ–¹é…ç½®

é™¤äº†ä½¿ç”¨`@ConfigurationProperties`æ³¨é‡Šç±»ä¹‹å¤–ï¼Œæ‚¨è¿˜å¯ä»¥åœ¨å…¬å…±`@Bean`æ–¹æ³•ä¸Šä½¿ç”¨å®ƒã€‚å½“æ‚¨æƒ³è¦å°†å±æ€§ç»‘å®šåˆ°æ§ä»¶ä¹‹å¤–çš„ç¬¬ä¸‰æ–¹ç»„ä»¶æ—¶ï¼Œè¿™æ ·åšä¼šç‰¹åˆ«æœ‰ç”¨ã€‚

è¦ä»`Environment`å±æ€§é…ç½®beanï¼Œè¯·åœ¨å…¶beanæ³¨å†Œä¸­æ·»åŠ `@ConfigurationProperties`ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
_@ConfigurationProperties(prefix = "another")_
_@Bean_
public AnotherComponent anotherComponent() {
	...
}
```

ä½¿ç”¨`another`å‰ç¼€å®šä¹‰çš„ä»»ä½•å±æ€§éƒ½ä»¥ä¸å‰é¢çš„`AcmeProperties`ç¤ºä¾‹ç±»ä¼¼çš„æ–¹å¼æ˜ å°„åˆ°`AnotherComponent` beanã€‚

### 24.8.2æ¾å¼›ç»“åˆ

Spring Bootä½¿ç”¨ä¸€äº›å®½æ¾çš„è§„åˆ™å°†`Environment`å±æ€§ç»‘å®šåˆ°`@ConfigurationProperties` beansï¼Œå› æ­¤ä¸éœ€è¦åœ¨`Environment`å±æ€§åç§°å’Œbeanå±æ€§ä¹‹é—´è¿›è¡Œç²¾ç¡®åŒ¹é…åç§°ã€‚è¿™æœ‰ç”¨çš„å¸¸è§ç¤ºä¾‹åŒ…æ‹¬ç ´æŠ˜å·åˆ†éš”çš„ç¯å¢ƒå±æ€§ï¼ˆä¾‹å¦‚ï¼Œ`context-path`ç»‘å®šåˆ°`contextPath`ï¼‰å’Œå¤§å†™ç¯å¢ƒå±æ€§ï¼ˆä¾‹å¦‚ï¼Œ`PORT`ç»‘å®šåˆ°`port`ï¼‰ã€‚

ä¾‹å¦‚ï¼Œè€ƒè™‘ä»¥ä¸‹`@ConfigurationProperties`ç±»ï¼š

```
_@ConfigurationProperties(prefix="acme.my-project.person")_
public class OwnerProperties {

	private String firstName;

	public String getFirstName() {
		return this.firstName;
	}

	public void setFirstName(String firstName) {
		this.firstName = firstName;
	}

}
```

åœ¨å‰é¢çš„ç¤ºä¾‹ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å±æ€§åç§°ï¼š

**è¡¨24.1ã€‚è½»æ¾ç»‘å®š**

<table class="table" summary="relaxed binding" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">Property</th><th style="border-bottom: 1px solid ; " align="left" valign="top">æ³¨æ„</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">acme.my-project.person.first-name</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>Kebabæ¡ˆä¾‹ï¼Œå»ºè®®åœ¨<code class="literal" i="642">.properties</code>å’Œ<code class="literal" i="643">.yml</code>æ–‡ä»¶ä¸­ä½¿ç”¨ã€‚</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">acme.myProject.person.firstName</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>æ ‡å‡†çš„é©¼å³°æ¡ˆä¾‹è¯­æ³•ã€‚</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">acme.my_project.person.first_name</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>ä¸‹åˆ’çº¿è¡¨ç¤ºæ³•ï¼Œè¿™æ˜¯åœ¨<code class="literal" i="644">.properties</code>å’Œ<code class="literal" i="645">.yml</code>æ–‡ä»¶ä¸­ä½¿ç”¨çš„æ›¿ä»£æ ¼å¼ã€‚</p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top"><p><code class="literal">ACME_MYPROJECT_PERSON_FIRSTNAME</code></p></td><td style="" align="left" valign="top"><p>å¤§å†™æ ¼å¼ï¼Œä½¿ç”¨ç³»ç»Ÿç¯å¢ƒå˜é‡æ—¶å»ºè®®ä½¿ç”¨ã€‚</p></td></tr></tbody></table>  
<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>æ³¨é‡Šçš„<code class="literal" i="646">prefix</code>å€¼<em>å¿…é¡»</em>ä¸ºkebabå¤§å°å†™ï¼ˆå°å†™å¹¶ä»¥<code class="literal" i="647">-</code>åˆ†éš”ï¼Œä¾‹å¦‚<code class="literal" i="648">acme.my-project.person</code>ï¼‰ã€‚</p></td></tr></tbody></table>

**è¡¨24.2ã€‚æ¯ä¸ªå±æ€§æºæ”¾å®½ç»‘å®šè§„åˆ™**

<table class="table" summary="relaxed binding rules per property source" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"><col class="col_3"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">Propertyæ¥æº</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">ç®€å•</th><th style="border-bottom: 1px solid ; " align="left" valign="top">åå•</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>å±æ€§æ–‡ä»¶</p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>éª†é©¼æ¡ˆï¼Œçƒ¤è‚‰ä¸²æ¡ˆä¾‹æˆ–ä¸‹åˆ’çº¿è¡¨ç¤ºæ³•</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>ä½¿ç”¨<code class="literal" i="649">[ ]</code>æˆ–é€—å·åˆ†éš”å€¼çš„æ ‡å‡†åˆ—è¡¨è¯­æ³•</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>YAMLæ–‡ä»¶</p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>éª†é©¼æ¡ˆï¼Œçƒ¤è‚‰ä¸²æ¡ˆä¾‹æˆ–ä¸‹åˆ’çº¿è¡¨ç¤ºæ³•</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>æ ‡å‡†YAMLåˆ—è¡¨è¯­æ³•æˆ–é€—å·åˆ†éš”å€¼</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>ç¯å¢ƒå˜é‡</p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>å¤§å†™æ ¼å¼ï¼Œä¸‹åˆ’çº¿ä½œä¸ºåˆ†éš”ç¬¦ã€‚<code class="literal" i="650">_</code>ä¸åº”åœ¨å±æ€§åç§°ä¸­ä½¿ç”¨</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>ç”±ä¸‹åˆ’çº¿åŒ…å›´çš„æ•°å­—å€¼ï¼Œä¾‹å¦‚<code class="literal" i="651">MY_ACME_1_OTHER = my.acme[1].other</code></p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top"><p>ç³»ç»Ÿå±æ€§</p></td><td style="border-right: 1px solid ; " align="left" valign="top"><p>éª†é©¼æ¡ˆï¼Œçƒ¤è‚‰ä¸²æ¡ˆä¾‹æˆ–ä¸‹åˆ’çº¿è¡¨ç¤ºæ³•</p></td><td style="" align="left" valign="top"><p>ä½¿ç”¨<code class="literal" i="652">[ ]</code>æˆ–é€—å·åˆ†éš”å€¼çš„æ ‡å‡†åˆ—è¡¨è¯­æ³•</p></td></tr></tbody></table>  
<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æˆ‘ä»¬å»ºè®®ï¼Œåœ¨å¯èƒ½çš„æƒ…å†µä¸‹ï¼Œå±æ€§ä»¥å°å†™çƒ¤è‚‰ä¸²æ ¼å¼å­˜å‚¨ï¼Œä¾‹å¦‚<code class="literal" i="653">my.property-name=acme</code>ã€‚</p></td></tr></tbody></table>

ç»‘å®šåˆ°`Map`å±æ€§æ—¶ï¼Œå¦‚æœ`key`åŒ…å«é™¤å°å†™å­—æ¯æ•°å­—å­—ç¬¦æˆ–`-`ä»¥å¤–çš„ä»»ä½•å†…å®¹ï¼Œåˆ™éœ€è¦ä½¿ç”¨æ‹¬å·è¡¨ç¤ºæ³•ä»¥ä¿ç•™åŸå§‹å€¼ã€‚å¦‚æœå¯†é’¥æœªè¢«`[]`åŒ…å›´ï¼Œåˆ™åˆ é™¤ä»»ä½•éå­—æ¯æ•°å­—æˆ–`-`çš„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œè€ƒè™‘å°†ä»¥ä¸‹å±æ€§ç»‘å®šåˆ°`Map`ï¼š

```
acme:
  map:
    "[/key1]": value1
    "[/key2]": value2
    /key3: value3
```

ä¸Šé¢çš„å±æ€§å°†ç»‘å®šåˆ°`Map`ï¼Œå…¶ä¸­`/key1`ï¼Œ`/key2`å’Œ`key3`ä½œä¸ºåœ°å›¾ä¸­çš„é”®ã€‚

### 24.8.3åˆå¹¶å¤æ‚ç±»å‹

å½“åˆ—è¡¨åœ¨å¤šä¸ªä½ç½®é…ç½®æ—¶ï¼Œè¦†ç›–é€šè¿‡æ›¿æ¢æ•´ä¸ªåˆ—è¡¨æ¥å·¥ä½œã€‚

ä¾‹å¦‚ï¼Œå‡è®¾ä¸€ä¸ª`MyPojo`å¯¹è±¡ï¼Œå…¶`name`å’Œ`description`å±æ€§é»˜è®¤ä¸º`null`ã€‚ä»¥ä¸‹ç¤ºä¾‹å…¬å¼€äº†æ¥è‡ª`AcmeProperties`çš„`MyPojo`å¯¹è±¡çš„åˆ—è¡¨ï¼š

```
_@ConfigurationProperties("acme")_
public class AcmeProperties {

	private final List<MyPojo> list = new ArrayList<>();

	public List<MyPojo> getList() {
		return this.list;
	}

}
```

è¯·è€ƒè™‘ä»¥ä¸‹é…ç½®ï¼š

```
acme:
  list:
    - name: my name
      description: my description
---
spring:
  profiles: dev
acme:
  list:
    - name: my another name
```

å¦‚æœ`dev`é…ç½®æ–‡ä»¶æœªæ¿€æ´»ï¼Œ`AcmeProperties.list`åŒ…å«ä¸€ä¸ª`MyPojo`æ¡ç›®ï¼Œå¦‚å‰æ‰€è¿°ã€‚ä½†æ˜¯ï¼Œå¦‚æœå¯ç”¨äº†`dev`é…ç½®æ–‡ä»¶ï¼Œåˆ™`list` _ä»ç„¶_ åªåŒ…å«ä¸€ä¸ªæ¡ç›®ï¼ˆåç§°ä¸º`my another name`ä¸”æè¿°ä¸º`null`ï¼‰ã€‚æ­¤é…ç½®_ä¸ä¼š_å‘åˆ—è¡¨æ·»åŠ ç¬¬äºŒä¸ª`MyPojo`å®ä¾‹ï¼Œä¹Ÿä¸ä¼šåˆå¹¶é¡¹ç›®ã€‚

åœ¨å¤šä¸ªé…ç½®æ–‡ä»¶ä¸­æŒ‡å®š`List`æ—¶ï¼Œå°†ä½¿ç”¨å…·æœ‰æœ€é«˜ä¼˜å…ˆçº§ï¼ˆå¹¶ä¸”ä»…å…·æœ‰è¯¥ä¼˜å…ˆçº§ï¼‰çš„é…ç½®æ–‡ä»¶ã€‚è¯·è€ƒè™‘ä»¥ä¸‹ç¤ºä¾‹ï¼š

```
acme:
  list:
    - name: my name
      description: my description
    - name: another name
      description: another description
---
spring:
  profiles: dev
acme:
  list:
    - name: my another name
```

åœ¨å‰é¢çš„ç¤ºä¾‹ä¸­ï¼Œå¦‚æœ`dev`é…ç½®æ–‡ä»¶å¤„äºæ´»åŠ¨çŠ¶æ€ï¼Œåˆ™`AcmeProperties.list`åŒ…å« _ä¸€ä¸ª_ `MyPojo`æ¡ç›®ï¼ˆåç§°ä¸º`my another name`ï¼Œæè¿°ä¸º`null`ï¼‰ã€‚å¯¹äºYAMLï¼Œé€—å·åˆ†éš”åˆ—è¡¨å’ŒYAMLåˆ—è¡¨éƒ½å¯ç”¨äºå®Œå…¨è¦†ç›–åˆ—è¡¨çš„å†…å®¹ã€‚

å¯¹äº`Map`å±æ€§ï¼Œæ‚¨å¯ä»¥ç»‘å®šä»å¤šä¸ªæºä¸­æå–çš„å±æ€§å€¼ã€‚ä½†æ˜¯ï¼Œå¯¹äºå¤šä¸ªæºä¸­çš„ç›¸åŒå±æ€§ï¼Œä½¿ç”¨å…·æœ‰æœ€é«˜ä¼˜å…ˆçº§çš„å±æ€§ã€‚ä»¥ä¸‹ç¤ºä¾‹ä»`AcmeProperties`å…¬å¼€`Map<String, MyPojo>`ï¼š

```
_@ConfigurationProperties("acme")_
public class AcmeProperties {

	private final Map<String, MyPojo> map = new HashMap<>();

	public Map<String, MyPojo> getMap() {
		return this.map;
	}

}
```

è¯·è€ƒè™‘ä»¥ä¸‹é…ç½®ï¼š

```
acme:
  map:
    key1:
      name: my name 1
      description: my description 1
---
spring:
  profiles: dev
acme:
  map:
    key1:
      name: dev name 1
    key2:
      name: dev name 2
      description: dev description 2
```

å¦‚æœ`dev`ä¸ªäººèµ„æ–™æœªæ¿€æ´»ï¼Œåˆ™`AcmeProperties.map`åŒ…å«ä¸€ä¸ªå¯†é’¥ä¸º`key1`çš„æ¡ç›®ï¼ˆåç§°ä¸º`my name 1`ï¼Œæè¿°ä¸º`my description 1`ï¼‰ã€‚ä½†æ˜¯ï¼Œå¦‚æœ`dev`é…ç½®æ–‡ä»¶å·²å¯ç”¨ï¼Œåˆ™`map`åŒ…å«ä¸¤ä¸ªå¸¦æœ‰å¯†é’¥`key1`çš„æ¡ç›®ï¼ˆåç§°ä¸º`dev name 1`ä¸”æè¿°ä¸º`my description 1`ï¼‰å’Œ`key2`ï¼ˆå¸¦æœ‰åç§°`dev name 2`å’Œæè¿°`dev description 2`ï¼‰ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å‰é¢çš„åˆå¹¶è§„åˆ™é€‚ç”¨äºæ‰€æœ‰å±æ€§æºçš„å±æ€§ï¼Œè€Œä¸ä»…ä»…æ˜¯YAMLæ–‡ä»¶ã€‚</p></td></tr></tbody></table>

### 24.8.4å±æ€§è½¬æ¢

Spring Bootåœ¨ç»‘å®šåˆ°`@ConfigurationProperties` beansæ—¶å°è¯•å°†å¤–éƒ¨åº”ç”¨ç¨‹åºå±æ€§å¼ºåˆ¶è½¬æ¢ä¸ºæ­£ç¡®çš„ç±»å‹ã€‚å¦‚æœæ‚¨éœ€è¦è‡ªå®šä¹‰ç±»å‹è½¬æ¢ï¼Œåˆ™å¯ä»¥æä¾›`ConversionService` beanï¼ˆbeanåä¸º`conversionService`ï¼‰æˆ–è‡ªå®šä¹‰å±æ€§ç¼–è¾‘å™¨ï¼ˆé€šè¿‡`CustomEditorConfigurer` beanï¼‰æˆ–è‡ªå®šä¹‰`Converters`ï¼ˆbeanå®šä¹‰æ³¨é‡Šä¸º`@ConfigurationPropertiesBinding`ï¼‰ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>ç”±äºåœ¨åº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸä¸­å¾ˆæ—©å°±è¯·æ±‚beanï¼Œå› æ­¤è¯·ç¡®ä¿é™åˆ¶<code class="literal" i="706">ConversionService</code>æ­£åœ¨ä½¿ç”¨çš„ä¾èµ–é¡¹ã€‚é€šå¸¸ï¼Œæ‚¨åœ¨åˆ›å»ºæ—¶å¯èƒ½æ— æ³•å®Œå…¨åˆå§‹åŒ–æ‰€éœ€çš„ä»»ä½•ä¾èµ–é¡¹ã€‚å¦‚æœé…ç½®å¯†é’¥å¼ºåˆ¶ä¸éœ€è¦ï¼Œæ‚¨å¯èƒ½éœ€è¦é‡å‘½åè‡ªå®šä¹‰<code class="literal" i="707">ConversionService</code>ï¼Œå¹¶ä¸”åªä¾èµ–äºä½¿ç”¨<code class="literal" i="708">@ConfigurationPropertiesBinding</code>é™å®šçš„è‡ªå®šä¹‰è½¬æ¢å™¨ã€‚</p></td></tr></tbody></table>

#### è½¬æ¢æŒç»­æ—¶é—´

Spring Bootä¸“é—¨æ”¯æŒè¡¨è¾¾æŒç»­æ—¶é—´ã€‚å¦‚æœå…¬å¼€`java.time.Duration`å±æ€§ï¼Œåˆ™å¯ä»¥ä½¿ç”¨åº”ç”¨ç¨‹åºå±æ€§ä¸­çš„ä»¥ä¸‹æ ¼å¼ï¼š

*   å¸¸è§„`long`è¡¨ç¤ºï¼ˆä½¿ç”¨æ¯«ç§’ä½œä¸ºé»˜è®¤å•ä½ï¼Œé™¤éæŒ‡å®šäº†`@DurationUnit`ï¼‰
*   [`java.util.Duration`ä½¿ç”¨](https://docs.oracle.com/javase/8/docs/api//java/time/Duration.html#parse-java.lang.CharSequence-)çš„æ ‡å‡†ISO-8601æ ¼å¼[](https://docs.oracle.com/javase/8/docs/api//java/time/Duration.html#parse-java.lang.CharSequence-)
*   æ›´å¯è¯»çš„æ ¼å¼ï¼Œå…¶ä¸­å€¼å’Œå•ä½è€¦åˆï¼ˆä¾‹å¦‚`10s`è¡¨ç¤º10ç§’ï¼‰

è¯·è€ƒè™‘ä»¥ä¸‹ç¤ºä¾‹ï¼š

```
_@ConfigurationProperties("app.system")_
public class AppSystemProperties {

	_@DurationUnit(ChronoUnit.SECONDS)_
	private Duration sessionTimeout = Duration.ofSeconds(30);

	private Duration readTimeout = Duration.ofMillis(1000);

	public Duration getSessionTimeout() {
		return this.sessionTimeout;
	}

	public void setSessionTimeout(Duration sessionTimeout) {
		this.sessionTimeout = sessionTimeout;
	}

	public Duration getReadTimeout() {
		return this.readTimeout;
	}

	public void setReadTimeout(Duration readTimeout) {
		this.readTimeout = readTimeout;
	}

}
```

è¦æŒ‡å®š30ç§’çš„ä¼šè¯è¶…æ—¶ï¼Œ`30`ï¼Œ`PT30S`å’Œ`30s`éƒ½æ˜¯ç­‰æ•ˆçš„ã€‚å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä»»ä½•ä¸€ç§å½¢å¼æŒ‡å®š500msçš„è¯»å–è¶…æ—¶ï¼š`500`ï¼Œ`PT0.5S`å’Œ`500ms`ã€‚

æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ä»»ä½•æ”¯æŒçš„å•ä½ã€‚è¿™äº›æ˜¯ï¼š

*   çº³ç§’æ—¶é—´ä¸º`ns`
*   `us`å¾®ç§’
*   `ms`æ¯«ç§’
*   `s`ç§’
*   `m`åˆ†é’Ÿ
*   `h`å‡ ä¸ªå°æ—¶
*   `d`å‡ å¤©

é»˜è®¤å•ä½æ˜¯æ¯«ç§’ï¼Œå¯ä»¥ä½¿ç”¨`@DurationUnit`è¦†ç›–ï¼Œå¦‚ä¸Šé¢çš„ç¤ºä¾‹æ‰€ç¤ºã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¦‚æœè¦ä»ä»…ä½¿ç”¨<code class="literal" i="728">Long</code>æ¥è¡¨ç¤ºæŒç»­æ—¶é—´çš„å…ˆå‰ç‰ˆæœ¬å‡çº§ï¼Œè¯·ç¡®ä¿å®šä¹‰å•ä½ï¼ˆä½¿ç”¨<code class="literal" i="729">@DurationUnit</code>ï¼‰ï¼Œå¦‚æœå®ƒä¸æ˜¯åˆ‡æ¢åˆ°<code class="literal" i="730">Duration</code>æ—è¾¹çš„æ¯«ç§’ã€‚è¿™æ ·åšå¯ä»¥æä¾›é€æ˜çš„å‡çº§è·¯å¾„ï¼ŒåŒæ—¶æ”¯æŒæ›´ä¸°å¯Œçš„æ ¼å¼ã€‚</p></td></tr></tbody></table>

#### è½¬æ¢æ•°æ®å¤§å°

Spring Frameworkæœ‰ä¸€ä¸ª`DataSize`å€¼ç±»å‹ï¼Œå…è®¸ä»¥å­—èŠ‚ä¸ºå•ä½è¡¨ç¤ºå¤§å°ã€‚å¦‚æœå…¬å¼€`DataSize`å±æ€§ï¼Œåˆ™å¯ä»¥ä½¿ç”¨åº”ç”¨ç¨‹åºå±æ€§ä¸­çš„ä»¥ä¸‹æ ¼å¼ï¼š

*   å¸¸è§„`long`è¡¨ç¤ºï¼ˆä½¿ç”¨å­—èŠ‚ä½œä¸ºé»˜è®¤å•ä½ï¼Œé™¤éæŒ‡å®šäº†`@DataSizeUnit`ï¼‰
*   å€¼å’Œå•å…ƒè€¦åˆçš„æ›´æ˜“è¯»çš„æ ¼å¼ï¼ˆä¾‹å¦‚`10MB`è¡¨ç¤º10å…†å­—èŠ‚ï¼‰

è¯·è€ƒè™‘ä»¥ä¸‹ç¤ºä¾‹ï¼š

```
_@ConfigurationProperties("app.io")_
public class AppIoProperties {

	_@DataSizeUnit(DataUnit.MEGABYTES)_
	private DataSize bufferSize = DataSize.ofMegabytes(2);

	private DataSize sizeThreshold = DataSize.ofBytes(512);

	public DataSize getBufferSize() {
		return this.bufferSize;
	}

	public void setBufferSize(DataSize bufferSize) {
		this.bufferSize = bufferSize;
	}

	public DataSize getSizeThreshold() {
		return this.sizeThreshold;
	}

	public void setSizeThreshold(DataSize sizeThreshold) {
		this.sizeThreshold = sizeThreshold;
	}

}
```

è¦æŒ‡å®š10å…†å­—èŠ‚çš„ç¼“å†²åŒºå¤§å°ï¼Œ`10`å’Œ`10MB`æ˜¯ç­‰æ•ˆçš„ã€‚å¯ä»¥å°†å¤§å°é˜ˆå€¼256å­—èŠ‚æŒ‡å®šä¸º`256`æˆ–`256B`ã€‚

æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ä»»ä½•æ”¯æŒçš„å•ä½ã€‚è¿™äº›æ˜¯ï¼š

*   `B`è¡¨ç¤ºå­—èŠ‚
*   åƒå­—èŠ‚`KB`
*   `MB`è¡¨ç¤ºå…†å­—èŠ‚
*   `GB`ä¸ºåƒå…†å­—èŠ‚
*   `TB`è¡¨ç¤ºå¤ªå­—èŠ‚

é»˜è®¤å•ä½æ˜¯å­—èŠ‚ï¼Œå¯ä»¥ä½¿ç”¨`@DataSizeUnit`è¦†ç›–ï¼Œå¦‚ä¸Šé¢çš„ç¤ºä¾‹æ‰€ç¤ºã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¦‚æœè¦ä»ä»…ä½¿ç”¨<code class="literal" i="746">Long</code>æ¥è¡¨ç¤ºå¤§å°çš„å…ˆå‰ç‰ˆæœ¬å‡çº§ï¼Œè¯·ç¡®ä¿å®šä¹‰å•ä½ï¼ˆä½¿ç”¨<code class="literal" i="747">@DataSizeUnit</code>ï¼‰ï¼Œå¦‚æœå®ƒä¸æ˜¯åˆ‡æ¢åˆ°<code class="literal" i="748">DataSize</code>æ—è¾¹çš„å­—èŠ‚ã€‚è¿™æ ·åšå¯ä»¥æä¾›é€æ˜çš„å‡çº§è·¯å¾„ï¼ŒåŒæ—¶æ”¯æŒæ›´ä¸°å¯Œçš„æ ¼å¼ã€‚</p></td></tr></tbody></table>

### 24.8.5 @ConfigurationPropertieséªŒè¯

Spring Bootå°è¯•ä½¿ç”¨Spring `@Validated`æ³¨é‡Šæ³¨é‡Š`@ConfigurationProperties`ç±»ã€‚æ‚¨å¯ä»¥ç›´æ¥åœ¨é…ç½®ç±»ä¸Šä½¿ç”¨JSR-303 `javax.validation`çº¦æŸæ³¨é‡Šã€‚ä¸ºæ­¤ï¼Œè¯·ç¡®ä¿ç¬¦åˆæ¡ä»¶çš„JSR-303å®ç°ä½äºç±»è·¯å¾„ä¸Šï¼Œç„¶åå°†çº¦æŸæ³¨é‡Šæ·»åŠ åˆ°å­—æ®µä¸­ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
_@ConfigurationProperties(prefix="acme")_
_@Validated_
public class AcmeProperties {

	_@NotNull_
	private InetAddress remoteAddress;

	// ... getters and setters

}
```

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æ‚¨è¿˜å¯ä»¥é€šè¿‡ä½¿ç”¨<code class="literal" i="753">@Validated</code>æ³¨é‡Šåˆ›å»ºé…ç½®å±æ€§çš„<code class="literal" i="752">@Bean</code>æ–¹æ³•æ¥è§¦å‘éªŒè¯ã€‚</p></td></tr></tbody></table>

è™½ç„¶åµŒå¥—å±æ€§ä¹Ÿä¼šåœ¨ç»‘å®šæ—¶è¿›è¡ŒéªŒè¯ï¼Œä½†æœ€å¥½è¿˜æ˜¯å°†å…³è”å­—æ®µæ³¨é‡Šä¸º`@Valid`ã€‚è¿™å¯ç¡®ä¿å³ä½¿æœªæ‰¾åˆ°åµŒå¥—å±æ€§ä¹Ÿä¼šè§¦å‘éªŒè¯ã€‚ä»¥ä¸‹ç¤ºä¾‹åŸºäºå‰é¢çš„`AcmeProperties`ç¤ºä¾‹æ„å»ºï¼š

```
_@ConfigurationProperties(prefix="acme")_
_@Validated_
public class AcmeProperties {

	_@NotNull_
	private InetAddress remoteAddress;

	_@Valid_
	private final Security security = new Security();

	// ... getters and setters

	public static class Security {

		_@NotEmpty_
		public String username;

		// ... getters and setters

	}

}
```

æ‚¨è¿˜å¯ä»¥é€šè¿‡åˆ›å»ºåä¸º`configurationPropertiesValidator`çš„beanå®šä¹‰æ¥æ·»åŠ è‡ªå®šä¹‰Spring `Validator`ã€‚åº”è¯¥å£°æ˜`@Bean`æ–¹æ³•`static`ã€‚é…ç½®å±æ€§éªŒè¯å™¨æ˜¯åœ¨åº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸçš„æ—©æœŸåˆ›å»ºçš„ï¼Œå¹¶ä¸”å°†`@Bean`æ–¹æ³•å£°æ˜ä¸ºé™æ€å¯ä»¥åˆ›å»ºbeanè€Œæ— éœ€å®ä¾‹åŒ–`@Configuration`ç±»ã€‚è¿™æ ·åšå¯ä»¥é¿å…æ—©æœŸå®ä¾‹åŒ–å¯èƒ½å¯¼è‡´çš„ä»»ä½•é—®é¢˜ã€‚æœ‰ä¸€ä¸ª [å±æ€§éªŒè¯ç¤ºä¾‹](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-samples/spring-boot-sample-property-validation)ï¼Œæ˜¾ç¤ºå¦‚ä½•è®¾ç½®ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p><code class="literal" i="762">spring-boot-actuator</code>æ¨¡å—åŒ…å«ä¸€ä¸ªæš´éœ²æ‰€æœ‰<code class="literal" i="763">@ConfigurationProperties</code> beansçš„ç«¯ç‚¹ã€‚å°†Webæµè§ˆå™¨æŒ‡å‘<code class="literal" i="764">/actuator/configprops</code>æˆ–ä½¿ç”¨ç­‰æ•ˆçš„JMXç«¯ç‚¹ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…â€œ <a class="link" href="#production-ready-endpoints" title="53.ç»ˆç‚¹">ç”Ÿäº§å°±ç»ªåŠŸèƒ½</a> â€éƒ¨åˆ†ã€‚</p></td></tr></tbody></table>

### 24.8.6 @ConfigurationPropertiesä¸@Value

`@Value`æ³¨é‡Šæ˜¯æ ¸å¿ƒå®¹å™¨åŠŸèƒ½ï¼Œå®ƒä¸æä¾›ä¸ç±»å‹å®‰å…¨é…ç½®å±æ€§ç›¸åŒçš„åŠŸèƒ½ã€‚ä¸‹è¡¨æ€»ç»“äº†`@ConfigurationProperties`å’Œ`@Value`æ”¯æŒçš„åŠŸèƒ½ï¼š

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"><col class="col_3"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">ç‰¹å¾</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><code class="literal">@ConfigurationProperties</code></th><th style="border-bottom: 1px solid ; " align="left" valign="top"><code class="literal">@Value</code></th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="#boot-features-external-config-relaxed-binding" title="24.8.2&nbsp;Relaxed Binding">Relaxed binding</a></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Yes</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>No</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="#configuration-metadata" title="Appendix&nbsp;B.&nbsp;Configuration Metadata">Meta-data support</a></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Yes</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>No</p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">SpEL</code> evaluation</p></td><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p>No</p></td><td style="" align="left" valign="top" class="notranslate"><p>Yes</p></td></tr></tbody></table>

å¦‚æœä¸ºè‡ªå·±çš„ç»„ä»¶å®šä¹‰ä¸€ç»„é…ç½®é”®ï¼Œæˆ‘ä»¬å»ºè®®æ‚¨å°†å®ƒä»¬åˆ†ç»„åˆ°å¸¦æœ‰`@ConfigurationProperties`æ³¨é‡Šçš„POJOä¸­ã€‚æ‚¨è¿˜åº”è¯¥çŸ¥é“ï¼Œç”±äº`@Value`ä¸æ”¯æŒå®½æ¾ç»‘å®šï¼Œå› æ­¤å¦‚æœæ‚¨éœ€è¦ä½¿ç”¨ç¯å¢ƒå˜é‡æ¥æä¾›å€¼ï¼Œåˆ™å®ƒä¸æ˜¯ä¸€ä¸ªå¥½çš„å€™é€‰è€…ã€‚

æœ€åï¼Œè™½ç„¶æ‚¨å¯ä»¥åœ¨`@Value`ä¸­ç¼–å†™`SpEL`è¡¨è¾¾å¼ï¼Œä½†ä¸ä¼šä»[åº”ç”¨ç¨‹åºå±æ€§æ–‡ä»¶ä¸­](#boot-features-external-config-application-property-files "24.3åº”ç”¨ç¨‹åºå±æ€§æ–‡ä»¶")å¤„ç†æ­¤ç±»è¡¨è¾¾å¼ã€‚

25.ç®€ä»‹
-----

Spring Profilesæä¾›äº†ä¸€ç§éš”ç¦»åº”ç”¨ç¨‹åºé…ç½®éƒ¨åˆ†å¹¶ä½¿å…¶ä»…åœ¨ç‰¹å®šç¯å¢ƒä¸­å¯ç”¨çš„æ–¹æ³•ã€‚ä»»ä½•`@Component`æˆ–`@Configuration`éƒ½å¯ä»¥ç”¨`@Profile`æ ‡è®°ä»¥é™åˆ¶ä½•æ—¶åŠ è½½ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
_@Configuration_
_@Profile("production")_
public class ProductionConfiguration {

	// ...

}
```

æ‚¨å¯ä»¥ä½¿ç”¨`spring.profiles.active` `Environment`å±æ€§æŒ‡å®šå“ªäº›é…ç½®æ–‡ä»¶å¤„äºæ´»åŠ¨çŠ¶æ€ã€‚æ‚¨å¯ä»¥ä½¿ç”¨æœ¬ç« å‰é¢ä»‹ç»çš„ä»»ä½•æ–¹æ³•æŒ‡å®šå±æ€§ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥å°†å…¶åŒ…å«åœ¨`application.properties`ä¸­ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
spring.profiles.active=dev,hsqldb
```

æ‚¨è¿˜å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å¼€å…³åœ¨å‘½ä»¤è¡Œä¸ŠæŒ‡å®šå®ƒï¼š`--spring.profiles.active=dev,hsqldb`ã€‚

25.1æ·»åŠ æ´»åŠ¨é…ç½®æ–‡ä»¶
------------

`spring.profiles.active`å±æ€§éµå¾ªä¸å…¶ä»–å±æ€§ç›¸åŒçš„æ’åºè§„åˆ™ï¼šæœ€é«˜`PropertySource`è·èƒœã€‚è¿™æ„å‘³ç€æ‚¨å¯ä»¥åœ¨`application.properties`ä¸­æŒ‡å®šæ´»åŠ¨é…ç½®æ–‡ä»¶ï¼Œç„¶åä½¿ç”¨å‘½ä»¤è¡Œå¼€å…³**æ›¿æ¢**å®ƒä»¬ã€‚

æœ‰æ—¶ï¼Œå°†ç‰¹å®šäºé…ç½®æ–‡ä»¶çš„å±æ€§**æ·»åŠ **åˆ°æ´»åŠ¨é…ç½®æ–‡ä»¶è€Œä¸æ˜¯æ›¿æ¢å®ƒä»¬æ˜¯æœ‰ç”¨çš„ã€‚`spring.profiles.include`å±æ€§å¯ç”¨äºæ— æ¡ä»¶åœ°æ·»åŠ æ´»åŠ¨é…ç½®æ–‡ä»¶ã€‚`SpringApplication`å…¥å£ç‚¹è¿˜æœ‰ä¸€ä¸ªç”¨äºè®¾ç½®å…¶ä»–é…ç½®æ–‡ä»¶çš„Java APIï¼ˆå³ï¼Œåœ¨`spring.profiles.active`å±æ€§æ¿€æ´»çš„é…ç½®æ–‡ä»¶ä¹‹ä¸Šï¼‰ã€‚è¯·å‚é˜…[SpringApplicationä¸­](https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/SpringApplication.html)çš„`setAdditionalProfiles()`æ–¹æ³• ã€‚

ä¾‹å¦‚ï¼Œå½“ä½¿ç”¨å¼€å…³`--spring.profiles.active=prod`è¿è¡Œå…·æœ‰ä»¥ä¸‹å±æ€§çš„åº”ç”¨ç¨‹åºæ—¶ï¼Œ`proddb`å’Œ`prodmq`é…ç½®æ–‡ä»¶ä¹Ÿä¼šè¢«æ¿€æ´»ï¼š

```
---
my.property: fromyamlfile
---
spring.profiles: prod
spring.profiles.include:
  - proddb
  - prodmq
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>è¯·è®°ä½ï¼Œå¯ä»¥åœ¨YAMLæ–‡æ¡£ä¸­å®šä¹‰<code class="literal" i="789">spring.profiles</code>å±æ€§ï¼Œä»¥ç¡®å®šæ­¤ç‰¹å®šæ–‡æ¡£ä½•æ—¶åŒ…å«åœ¨é…ç½®ä¸­ã€‚æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯<a class="xref" href="#howto-change-configuration-depending-on-the-environment" title="77.7æ ¹æ®ç¯å¢ƒæ›´æ”¹é…ç½®">ï¼Œ</a>è¯·å‚è§ <a class="xref" href="#howto-change-configuration-depending-on-the-environment" title="77.7&nbsp;Change Configuration Depending on the Environment">ç¬¬77.7èŠ‚â€œæ ¹æ®ç¯å¢ƒæ›´æ”¹é…ç½®â€</a>ã€‚</p></td></tr></tbody></table>

25.2ä»¥ç¼–ç¨‹æ–¹å¼è®¾ç½®é…ç½®æ–‡ä»¶
---------------

æ‚¨å¯ä»¥åœ¨åº”ç”¨ç¨‹åºè¿è¡Œä¹‹å‰é€šè¿‡è°ƒç”¨`SpringApplication.setAdditionalProfiles(â€¦â€‹)`ä»¥ç¼–ç¨‹æ–¹å¼è®¾ç½®æ´»åŠ¨é…ç½®æ–‡ä»¶ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨Springçš„`ConfigurableEnvironment`ç•Œé¢æ¿€æ´»é…ç½®æ–‡ä»¶ã€‚

25.3ç‰¹å®šäºé…ç½®æ–‡ä»¶çš„é…ç½®æ–‡ä»¶
----------------

`application.properties`ï¼ˆæˆ–`application.yml`ï¼‰çš„é…ç½®æ–‡ä»¶ç‰¹å®šå˜ä½“å’Œé€šè¿‡`@ConfigurationProperties`å¼•ç”¨çš„æ–‡ä»¶è¢«è§†ä¸ºæ–‡ä»¶å¹¶å·²åŠ è½½ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯[ï¼Œ](#boot-features-external-config-profile-specific-properties "24.4ç‰¹å®šäºé…ç½®æ–‡ä»¶çš„å±æ€§")è¯·å‚è§â€œ [ç¬¬24.4èŠ‚â€â€œç‰¹å®š](#boot-features-external-config-profile-specific-properties "24.4Â Profile-specific Properties")äº[é…ç½®æ–‡ä»¶çš„å±æ€§â€](#boot-features-external-config-profile-specific-properties "24.4Â Profile-specific Properties")ã€‚

26.è®°å½•
-----

Spring Bootä½¿ç”¨[Commons Logging](https://commons.apache.org/logging)è¿›è¡Œæ‰€æœ‰å†…éƒ¨æ—¥å¿—è®°å½•ï¼Œä½†ä¿ç•™åº•å±‚æ—¥å¿—å®ç°ã€‚ä¸º[Java Util Logging](https://docs.oracle.com/javase/8/docs/api//java/util/logging/package-summary.html)ï¼Œ[Log4J2](https://logging.apache.org/log4j/2.x/)å’Œ [Logback](http://logback.qos.ch/)æä¾›äº†é»˜è®¤é…ç½® ã€‚åœ¨æ¯ç§æƒ…å†µä¸‹ï¼Œè®°å½•å™¨éƒ½é¢„å…ˆé…ç½®ä¸ºä½¿ç”¨æ§åˆ¶å°è¾“å‡ºï¼Œå¹¶ä¸”è¿˜æä¾›å¯é€‰çš„æ–‡ä»¶è¾“å‡ºã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœä½¿ç”¨â€œStartersâ€ï¼Œåˆ™ä½¿ç”¨Logbackè¿›è¡Œæ—¥å¿—è®°å½•ã€‚è¿˜åŒ…æ‹¬é€‚å½“çš„Logbackè·¯ç”±ï¼Œä»¥ç¡®ä¿ä½¿ç”¨Java Util Loggingï¼ŒCommons Loggingï¼ŒLog4Jæˆ–SLF4Jçš„ä¾èµ–åº“éƒ½èƒ½æ­£å¸¸å·¥ä½œã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>Javaæœ‰å¾ˆå¤šæ—¥å¿—æ¡†æ¶å¯ä¾›ä½¿ç”¨ã€‚å¦‚æœä»¥ä¸Šåˆ—è¡¨çœ‹èµ·æ¥ä»¤äººå›°æƒ‘ï¼Œè¯·ä¸è¦æ‹…å¿ƒã€‚é€šå¸¸ï¼Œæ‚¨ä¸éœ€è¦æ›´æ”¹æ—¥å¿—è®°å½•ä¾èµ–é¡¹ï¼Œå¹¶ä¸”Spring Booté»˜è®¤å€¼å¯ä»¥æ­£å¸¸å·¥ä½œã€‚</p></td></tr></tbody></table>

26ã€‚1æ—¥å¿—æ ¼å¼
--------

Spring Bootçš„é»˜è®¤æ—¥å¿—è¾“å‡ºç±»ä¼¼äºä»¥ä¸‹ç¤ºä¾‹ï¼š

```
2014-03-05 10:57:51.112  INFO 45469 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/7.0.52
2014-03-05 10:57:51.253  INFO 45469 --- [ost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2014-03-05 10:57:51.253  INFO 45469 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1358 ms
2014-03-05 10:57:51.698  INFO 45469 --- [ost-startStop-1] o.s.b.c.e.ServletRegistrationBean        : Mapping servlet: 'dispatcherServlet' to [/]
2014-03-05 10:57:51.702  INFO 45469 --- [ost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
```

è¾“å‡ºä»¥ä¸‹é¡¹ç›®ï¼š

*   æ—¥æœŸå’Œæ—¶é—´ï¼šæ¯«ç§’ç²¾åº¦ï¼Œæ˜“äºæ’åºã€‚
*   æ—¥å¿—çº§åˆ«ï¼š`ERROR`ï¼Œ`WARN`ï¼Œ`INFO`ï¼Œ`DEBUG`æˆ–`TRACE`ã€‚
*   è¿›ç¨‹IDã€‚
*   ä¸€ä¸ª`---`åˆ†éš”ç¬¦ï¼Œç”¨äºåŒºåˆ†å®é™…æ—¥å¿—æ¶ˆæ¯çš„å¼€å¤´ã€‚
*   çº¿ç¨‹åç§°ï¼šæ‹¬åœ¨æ–¹æ‹¬å·ä¸­ï¼ˆå¯èƒ½ä¼šæˆªæ–­æ§åˆ¶å°è¾“å‡ºï¼‰ã€‚
*   è®°å½•å™¨åç§°ï¼šè¿™é€šå¸¸æ˜¯æºç±»åç§°ï¼ˆé€šå¸¸ç¼©å†™ï¼‰ã€‚
*   æ—¥å¿—æ¶ˆæ¯ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>Logbackæ²¡æœ‰<code class="literal" i="801">FATAL</code>çº§åˆ«ã€‚å®ƒæ˜ å°„åˆ°<code class="literal" i="802">ERROR</code>ã€‚</p></td></tr></tbody></table>

26.2æ§åˆ¶å°è¾“å‡º
---------

é»˜è®¤æ—¥å¿—é…ç½®ä¼šåœ¨å†™å…¥æ—¶å°†æ¶ˆæ¯å›æ˜¾åˆ°æ§åˆ¶å°ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œä¼šè®°å½•`ERROR` - çº§åˆ«ï¼Œ`WARN` - çº§åˆ«å’Œ`INFO`çº§åˆ«çš„æ¶ˆæ¯ã€‚æ‚¨è¿˜å¯ä»¥é€šè¿‡ä½¿ç”¨`--debug`æ ‡å¿—å¯åŠ¨åº”ç”¨ç¨‹åºæ¥å¯ç”¨â€œè°ƒè¯•â€æ¨¡å¼ã€‚

```
$ java -jar myapp.jar --debug
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>æ‚¨è¿˜å¯ä»¥åœ¨<code class="literal" i="808">application.properties</code>ä¸­æŒ‡å®š<code class="literal" i="807">debug=true</code>ã€‚</p></td></tr></tbody></table>

å¯ç”¨è°ƒè¯•æ¨¡å¼åï¼Œå°†é€‰æ‹©ä¸€äº›æ ¸å¿ƒè®°å½•å™¨ï¼ˆåµŒå…¥å¼å®¹å™¨ï¼ŒHibernateå’ŒSpring Bootï¼‰ä»¥è¾“å‡ºæ›´å¤šä¿¡æ¯ã€‚å¯ç”¨è°ƒè¯•æ¨¡å¼å¹¶_æ²¡æœ‰_å°†åº”ç”¨ç¨‹åºé…ç½®ä¸ºè®°å½•ä¸`DEBUG`çº§åˆ«çš„æ‰€æœ‰æ¶ˆæ¯ã€‚

æˆ–è€…ï¼Œæ‚¨å¯ä»¥é€šè¿‡ä½¿ç”¨`--trace`æ ‡å¿—ï¼ˆæˆ–`application.properties`ä¸­çš„`trace=true`ï¼‰å¯åŠ¨åº”ç”¨ç¨‹åºæ¥å¯ç”¨â€œè·Ÿè¸ªâ€æ¨¡å¼ã€‚è¿™æ ·åšå¯ä»¥ä¸ºé€‰æ‹©çš„æ ¸å¿ƒè®°å½•å™¨ï¼ˆåµŒå…¥å¼å®¹å™¨ï¼ŒHibernateæ¨¡å¼ç”Ÿæˆå’Œæ•´ä¸ªSpringç»„åˆï¼‰å¯ç”¨è·Ÿè¸ªæ—¥å¿—è®°å½•ã€‚

### 26.2.1å½©è‰²ç¼–ç è¾“å‡º

å¦‚æœæ‚¨çš„ç»ˆç«¯æ”¯æŒANSIï¼Œåˆ™ä½¿ç”¨é¢œè‰²è¾“å‡ºæ¥æé«˜å¯è¯»æ€§ã€‚æ‚¨å¯ä»¥å°†`spring.output.ansi.enabled`è®¾ç½®ä¸º [æ”¯æŒçš„å€¼](https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/ansi/AnsiOutput.Enabled.html)ä»¥è¦†ç›–è‡ªåŠ¨æ£€æµ‹ã€‚

ä½¿ç”¨`%clr`è½¬æ¢å­—é…ç½®é¢œè‰²ç¼–ç ã€‚åœ¨æœ€ç®€å•çš„å½¢å¼ä¸­ï¼Œè½¬æ¢å™¨æ ¹æ®æ—¥å¿—çº§åˆ«ä¸ºè¾“å‡ºç€è‰²ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
%clr(%5p)
```

ä¸‹è¡¨æè¿°äº†æ—¥å¿—çº§åˆ«åˆ°é¢œè‰²çš„æ˜ å°„ï¼š

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">æ°´å¹³</th><th style="border-bottom: 1px solid ; " align="left" valign="top">é¢œè‰²</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">FATAL</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Red</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">ERROR</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Red</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">WARN</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Yellow</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">INFO</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Green</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">DEBUG</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Green</p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">TRACE</code></p></td><td style="" align="left" valign="top" class="notranslate"><p>Green</p></td></tr></tbody></table>

æˆ–è€…ï¼Œæ‚¨å¯ä»¥é€šè¿‡å°†å…¶ä½œä¸ºè½¬æ¢é€‰é¡¹æŒ‡å®šåº”ä½¿ç”¨çš„é¢œè‰²æˆ–æ ·å¼ã€‚ä¾‹å¦‚ï¼Œè¦ä½¿æ–‡æœ¬å˜ä¸ºé»„è‰²ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹è®¾ç½®ï¼š

```
%clr(%d{yyyy-MM-dd HH:mm:ss.SSS}){yellow}
```

æ”¯æŒä»¥ä¸‹é¢œè‰²å’Œæ ·å¼ï¼š

*   `blue`
*   `cyan`
*   `faint`
*   `green`
*   `magenta`
*   `red`
*   `yellow`

26.3æ–‡ä»¶è¾“å‡º
--------

é»˜è®¤æƒ…å†µä¸‹ï¼ŒSpring Bootä»…è®°å½•åˆ°æ§åˆ¶å°ï¼Œä¸ä¼šå†™å…¥æ—¥å¿—æ–‡ä»¶ã€‚å¦‚æœé™¤äº†æ§åˆ¶å°è¾“å‡ºä¹‹å¤–è¿˜è¦ç¼–å†™æ—¥å¿—æ–‡ä»¶ï¼Œåˆ™éœ€è¦è®¾ç½®`logging.file`æˆ–`logging.path`å±æ€§ï¼ˆä¾‹å¦‚ï¼Œåœ¨`application.properties`ä¸­ï¼‰ã€‚

ä¸‹è¡¨æ˜¾ç¤ºäº†`logging.*`å±æ€§å¦‚ä½•ä¸€èµ·ä½¿ç”¨ï¼š

**è¡¨26.1ã€‚è®°å½•å±æ€§**

<table class="table" summary="Logging properties" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"><col class="col_3"><col class="col_4"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><code class="literal">logging.file</code></th><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><code class="literal">logging.path</code></th><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">ä¾‹</th><th style="border-bottom: 1px solid ; " align="left" valign="top">æè¿°</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><em>ï¼ˆæ²¡æœ‰ï¼‰</em></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><em>ï¼ˆæ²¡æœ‰ï¼‰</em></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">&nbsp;</td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>ä»…æ§åˆ¶å°è®°å½•ã€‚</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p>å…·ä½“æ–‡ä»¶</p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><em>ï¼ˆæ²¡æœ‰ï¼‰</em></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">my.log</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>å†™å…¥æŒ‡å®šçš„æ—¥å¿—æ–‡ä»¶ã€‚åç§°å¯ä»¥æ˜¯ç²¾ç¡®ä½ç½®æˆ–ç›¸å¯¹äºå½“å‰ç›®å½•ã€‚</p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top"><p><em>ï¼ˆæ²¡æœ‰ï¼‰</em></p></td><td style="border-right: 1px solid ; " align="left" valign="top"><p>å…·ä½“ç›®å½•</p></td><td style="border-right: 1px solid ; " align="left" valign="top"><p><code class="literal">/var/log</code></p></td><td style="" align="left" valign="top"><p>å°†<code class="literal" i="819">spring.log</code>å†™å…¥æŒ‡å®šçš„ç›®å½•ã€‚åç§°å¯ä»¥æ˜¯ç²¾ç¡®ä½ç½®æˆ–ç›¸å¯¹äºå½“å‰ç›®å½•ã€‚</p></td></tr></tbody></table>  

æ—¥å¿—æ–‡ä»¶åœ¨è¾¾åˆ°10 MBæ—¶ä¼šè½®æ¢ï¼Œä¸æ§åˆ¶å°è¾“å‡ºä¸€æ ·ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¼šè®°å½•`ERROR` - çº§åˆ«ï¼Œ`WARN` - çº§åˆ«å’Œ`INFO`çº§åˆ«çš„æ¶ˆæ¯ã€‚å¯ä»¥ä½¿ç”¨`logging.file.max-size`å±æ€§æ›´æ”¹å¤§å°é™åˆ¶ã€‚é™¤éå·²è®¾ç½®`logging.file.max-history`å±æ€§ï¼Œå¦åˆ™ä»¥å‰è½®æ¢çš„æ–‡ä»¶å°†æ— é™æœŸå½’æ¡£ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>æ—¥å¿—è®°å½•ç³»ç»Ÿåœ¨åº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸçš„æ—©æœŸåˆå§‹åŒ–ã€‚å› æ­¤ï¼Œåœ¨é€šè¿‡<code class="literal" i="825">@PropertySource</code>æ³¨é‡ŠåŠ è½½çš„å±æ€§æ–‡ä»¶ä¸­æ‰¾ä¸åˆ°æ—¥å¿—è®°å½•å±æ€§ã€‚</p></td></tr></tbody></table><table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æ—¥å¿—è®°å½•å±æ€§ç‹¬ç«‹äºå®é™…çš„æ—¥å¿—è®°å½•åŸºç¡€ç»“æ„ã€‚å› æ­¤ï¼ŒSpring Bootä¸ç®¡ç†ç‰¹å®šçš„é…ç½®å¯†é’¥ï¼ˆä¾‹å¦‚ç”¨äºLogbackçš„<code class="literal" i="826">logback.configurationFile</code>ï¼‰ã€‚</p></td></tr></tbody></table>

26ã€‚4æ—¥å¿—çº§åˆ«
--------

æ‰€æœ‰å—æ”¯æŒçš„æ—¥å¿—è®°å½•ç³»ç»Ÿéƒ½å¯ä»¥ä½¿ç”¨`logging.level.<logger-name>=<level>`åœ¨Spring `Environment`ä¸­è®¾ç½®è®°å½•å™¨çº§åˆ«ï¼ˆä¾‹å¦‚ï¼Œåœ¨`application.properties`ä¸­ï¼‰ï¼Œå…¶ä¸­`level`æ˜¯TRACEï¼ŒDEBUGï¼ŒINFOä¹‹ä¸€ï¼Œè­¦å‘Šï¼Œé”™è¯¯ï¼Œè‡´å‘½æˆ–å…³é—­ã€‚å¯ä»¥ä½¿ç”¨`logging.level.root`é…ç½®`root`è®°å½•å™¨ã€‚

ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤º`application.properties`ä¸­çš„æ½œåœ¨æ—¥å¿—è®°å½•è®¾ç½®ï¼š

```
logging.level.root=WARN
logging.level.org.springframework.web=DEBUG
logging.level.org.hibernate=ERROR
```

26ã€‚5æ—¥å¿—ç»„
-------

èƒ½å¤Ÿå°†ç›¸å…³è®°å½•å™¨ç»„åˆåœ¨ä¸€èµ·ä»¥ä¾¿å¯ä»¥åŒæ—¶é…ç½®å®ƒä»¬é€šå¸¸å¾ˆæœ‰ç”¨ã€‚ä¾‹å¦‚ï¼Œæ‚¨é€šå¸¸å¯ä»¥æ›´æ”¹_æ‰€æœ‰_ Tomcatç›¸å…³è®°å½•å™¨çš„æ—¥å¿—è®°å½•çº§åˆ« ï¼Œä½†æ‚¨æ— æ³•è½»æ¾è®°ä½é¡¶çº§è½¯ä»¶åŒ…ã€‚

ä¸ºæ­¤ï¼ŒSpring Bootå…è®¸æ‚¨åœ¨Spring `Environment`ä¸­å®šä¹‰æ—¥å¿—è®°å½•ç»„ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹æ˜¯å¦‚ä½•é€šè¿‡å°†â€œtomcatâ€ç»„æ·»åŠ åˆ°`application.properties`æ¥å®šä¹‰å®ƒï¼š

```
logging.group.tomcat=org.apache.catalina, org.apache.coyote, org.apache.tomcat
```

å®šä¹‰åï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä¸€è¡Œæ›´æ”¹ç»„ä¸­æ‰€æœ‰è®°å½•å™¨çš„çº§åˆ«ï¼š

```
logging.level.tomcat=TRACE
```

Spring BootåŒ…æ‹¬ä»¥ä¸‹å¯ä»¥å¼€ç®±å³ç”¨çš„é¢„å®šä¹‰æ—¥å¿—è®°å½•ç»„ï¼š

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">åç§°</th><th style="border-bottom: 1px solid ; " align="left" valign="top">è®°å½•ä»ª</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>web</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.core.codec</code>, <code class="literal">org.springframework.http</code>, <code class="literal">org.springframework.web</code></p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p>sql</p></td><td style="" align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.jdbc.core</code>, <code class="literal">org.hibernate.SQL</code></p></td></tr></tbody></table>

26.6è‡ªå®šä¹‰æ—¥å¿—é…ç½®
-----------

å¯ä»¥é€šè¿‡åœ¨ç±»è·¯å¾„ä¸­åŒ…å«ç›¸åº”çš„åº“æ¥æ¿€æ´»å„ç§æ—¥å¿—è®°å½•ç³»ç»Ÿï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡åœ¨ç±»è·¯å¾„çš„æ ¹ç›®å½•ä¸­æˆ–åœ¨ä»¥ä¸‹Spring `Environment`å±æ€§æŒ‡å®šçš„ä½ç½®æä¾›åˆé€‚çš„é…ç½®æ–‡ä»¶æ¥è¿›ä¸€æ­¥è‡ªå®šä¹‰ï¼š `logging.config`ã€‚

æ‚¨å¯ä»¥ä½¿ç”¨`org.springframework.boot.logging.LoggingSystem`ç³»ç»Ÿå±æ€§å¼ºåˆ¶Spring Bootä½¿ç”¨ç‰¹å®šçš„æ—¥å¿—è®°å½•ç³»ç»Ÿã€‚è¯¥å€¼åº”è¯¥æ˜¯`LoggingSystem`å®ç°çš„å®Œå…¨é™å®šç±»åã€‚æ‚¨è¿˜å¯ä»¥ä½¿ç”¨å€¼`none`å®Œå…¨ç¦ç”¨Spring Bootçš„æ—¥å¿—è®°å½•é…ç½®ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>ç”±äº<strong>åœ¨</strong>åˆ›å»º<code class="literal" i="841">ApplicationContext</code> <strong>ä¹‹å‰</strong>åˆå§‹åŒ–æ—¥å¿—è®°å½•ï¼Œå› æ­¤æ— æ³•æ§åˆ¶Spring <code class="literal" i="843">@Configuration</code>æ–‡ä»¶ä¸­<code class="literal" i="842">@PropertySources</code>çš„æ—¥å¿—è®°å½•ã€‚æ›´æ”¹æ—¥å¿—è®°å½•ç³»ç»Ÿæˆ–å®Œå…¨ç¦ç”¨å®ƒçš„å”¯ä¸€æ–¹æ³•æ˜¯é€šè¿‡ç³»ç»Ÿå±æ€§ã€‚</p></td></tr></tbody></table>

æ ¹æ®æ‚¨çš„æ—¥å¿—è®°å½•ç³»ç»Ÿï¼Œå°†åŠ è½½ä»¥ä¸‹æ–‡ä»¶ï¼š

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">è®°å½•ç³»ç»Ÿ</th><th style="border-bottom: 1px solid ; " align="left" valign="top">å®šåˆ¶</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Logback</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">logback-spring.xml</code>, <code class="literal">logback-spring.groovy</code>, <code class="literal">logback.xml</code>, or <code class="literal">logback.groovy</code></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Log4j2</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">log4j2-spring.xml</code> or <code class="literal">log4j2.xml</code></p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p>JDK (Java Util Logging)</p></td><td style="" align="left" valign="top" class="notranslate"><p><code class="literal">logging.properties</code></p></td></tr></tbody></table><table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å¦‚æœå¯èƒ½ï¼Œæˆ‘ä»¬å»ºè®®æ‚¨ä½¿ç”¨<code class="literal" i="844">-spring</code>å˜ä½“è¿›è¡Œæ—¥å¿—è®°å½•é…ç½®ï¼ˆä¾‹å¦‚ï¼Œ<code class="literal" i="845">logback-spring.xml</code>è€Œä¸æ˜¯<code class="literal" i="846">logback.xml</code>ï¼‰ã€‚å¦‚æœä½¿ç”¨æ ‡å‡†é…ç½®ä½ç½®ï¼ŒSpringæ— æ³•å®Œå…¨æ§åˆ¶æ—¥å¿—åˆå§‹åŒ–ã€‚</p></td></tr></tbody></table><table border="0" summary="Warning"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[è­¦å‘Š]" src="images/warning.png"></td><th align="left">è­¦å‘Š</th></tr><tr><td align="left" valign="top"><p>Java Util Loggingå­˜åœ¨å·²çŸ¥çš„ç±»åŠ è½½é—®é¢˜ï¼Œè¿™äº›é—®é¢˜åœ¨ä»â€œå¯æ‰§è¡Œjarâ€è¿è¡Œæ—¶ä¼šå¯¼è‡´é—®é¢˜ã€‚å¦‚æœå¯èƒ½çš„è¯ï¼Œæˆ‘ä»¬å»ºè®®æ‚¨åœ¨ä»â€œå¯æ‰§è¡Œjarâ€è¿è¡Œæ—¶é¿å…ä½¿ç”¨å®ƒã€‚</p></td></tr></tbody></table>

ä¸ºäº†å¸®åŠ©è¿›è¡Œè‡ªå®šä¹‰ï¼Œä¸€äº›å…¶ä»–å±æ€§ä»Spring `Environment`ä¼ è¾“åˆ°ç³»ç»Ÿå±æ€§ï¼Œå¦‚ä¸‹è¡¨æ‰€è¿°ï¼š

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"><col class="col_3"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">Springç¯å¢ƒ</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">ç³»ç»ŸProperty</th><th style="border-bottom: 1px solid ; " align="left" valign="top">è¯„è®º</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">logging.exception-conversion-word</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">LOG_EXCEPTION_CONVERSION_WORD</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>The conversion word used when logging exceptions.</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">logging.file</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">LOG_FILE</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>If defined, it is used in the default log configuration.</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">logging.file.max-size</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">LOG_FILE_MAX_SIZE</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Maximum log file size (if LOG_FILE enabled). (Only supported with the default Logback setup.)</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">logging.file.max-history</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">LOG_FILE_MAX_HISTORY</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Maximum number of archive log files to keep (if LOG_FILE enabled). (Only supported with the default Logback setup.)</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">logging.path</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">LOG_PATH</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>If defined, it is used in the default log configuration.</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">logging.pattern.console</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">CONSOLE_LOG_PATTERN</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>The log pattern to use on the console (stdout). (Only supported with the default Logback setup.)</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">logging.pattern.dateformat</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">LOG_DATEFORMAT_PATTERN</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Appender pattern for log date format. (Only supported with the default Logback setup.)</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">logging.pattern.file</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">FILE_LOG_PATTERN</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>The log pattern to use in a file (if <code class="literal">LOG_FILE</code> is enabled). (Only supported with the default Logback setup.)</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">logging.pattern.level</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">LOG_LEVEL_PATTERN</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>The format to use when rendering the log level (default <code class="literal">%5p</code>). (Only supported with the default Logback setup.)</p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">PID</code></p></td><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">PID</code></p></td><td style="" align="left" valign="top" class="notranslate"><p>The current process ID (discovered if possible and when not already defined as an OS environment variable).</p></td></tr></tbody></table>

æ‰€æœ‰å—æ”¯æŒçš„æ—¥å¿—è®°å½•ç³»ç»Ÿåœ¨è§£æå…¶é…ç½®æ–‡ä»¶æ—¶éƒ½å¯ä»¥å‚è€ƒç³»ç»Ÿå±æ€§ã€‚æœ‰å…³ç¤ºä¾‹ï¼Œè¯·å‚é˜…`spring-boot.jar`ä¸­çš„é»˜è®¤é…ç½®ï¼š

*   [çš„logback](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot/src/main/resources/org/springframework/boot/logging/logback/defaults.xml)
*   [Log4j 2](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot/src/main/resources/org/springframework/boot/logging/log4j2/log4j2.xml)
*   [Java Utilæ—¥å¿—è®°å½•](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot/src/main/resources/org/springframework/boot/logging/java/logging-file.properties)

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¦‚æœè¦åœ¨æ—¥å¿—è®°å½•å±æ€§ä¸­ä½¿ç”¨å ä½ç¬¦ï¼Œåˆ™åº”ä½¿ç”¨ <a class="link" href="#boot-features-external-config-placeholders-in-properties" title="24.5å±æ€§ä¸­çš„å ä½ç¬¦">Spring Bootçš„è¯­æ³•ï¼Œ</a>è€Œä¸æ˜¯åº•å±‚æ¡†æ¶çš„è¯­æ³•ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœä½¿ç”¨Logbackï¼Œåˆ™åº”ä½¿ç”¨<code class="literal" i="849">:</code>ä½œä¸ºå±æ€§åç§°ä¸å…¶é»˜è®¤å€¼ä¹‹é—´çš„åˆ†éš”ç¬¦ï¼Œè€Œä¸æ˜¯ä½¿ç”¨<code class="literal" i="850">:-</code>ã€‚</p></td></tr></tbody></table><table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æ‚¨å¯ä»¥é€šè¿‡ä»…è¦†ç›–<code class="literal" i="851">LOG_LEVEL_PATTERN</code>ï¼ˆæˆ–å¸¦æœ‰Logbackçš„<code class="literal" i="852">logging.pattern.level</code>ï¼‰å°†MDCå’Œå…¶ä»–ä¸´æ—¶å†…å®¹æ·»åŠ åˆ°æ—¥å¿—è¡Œã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½¿ç”¨<code class="literal" i="853">logging.pattern.level=user:%X{user} %5p</code>ï¼Œåˆ™é»˜è®¤æ—¥å¿—æ ¼å¼åŒ…å«â€œuserâ€çš„MDCæ¡ç›®ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºã€‚</p><pre class="screen notranslate">2015-09-30 12:30:04.031 user:someone INFO 22174 --- [  nio-8080-exec-0] demo.Controller
Handling authenticated request</pre></td></tr></tbody></table>


26.7 Logback Extensions
-----------------------

Spring BootåŒ…å«è®¸å¤šLogbackæ‰©å±•ï¼Œå¯ä»¥å¸®åŠ©è¿›è¡Œé«˜çº§é…ç½®ã€‚æ‚¨å¯ä»¥åœ¨`logback-spring.xml`é…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨è¿™äº›æ‰©å±•åã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>ç”±äºæ ‡å‡†<code class="literal" i="855">logback.xml</code>é…ç½®æ–‡ä»¶åŠ è½½è¿‡æ—©ï¼Œå› æ­¤æ— æ³•åœ¨å…¶ä¸­ä½¿ç”¨æ‰©å±•ã€‚æ‚¨éœ€è¦ä½¿ç”¨<code class="literal" i="856">logback-spring.xml</code>æˆ–å®šä¹‰<code class="literal" i="857">logging.config</code>å±æ€§ã€‚</p></td></tr></tbody></table><table border="0" summary="Warning"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[è­¦å‘Š]" src="images/warning.png"></td><th align="left">è­¦å‘Š</th></tr><tr><td align="left" valign="top"><p>æ‰©å±•ä¸èƒ½ä¸Logbackçš„ <a class="link" href="http://logback.qos.ch/manual/configuration.html#autoScan" target="_top">é…ç½®æ‰«æä¸€èµ·ä½¿ç”¨</a>ã€‚å¦‚æœå°è¯•è¿™æ ·åšï¼Œåˆ™æ›´æ”¹é…ç½®æ–‡ä»¶ä¼šå¯¼è‡´ç±»ä¼¼äºä»¥ä¸‹è®°å½•ä¹‹ä¸€çš„é”™è¯¯ï¼š</p></td></tr></tbody></table>

```
ERROR in ch.qos.logback.core.joran.spi.Interpreter@4:71 - no applicable action for [springProperty], current ElementPath is [[configuration][springProperty]]
ERROR in ch.qos.logback.core.joran.spi.Interpreter@4:71 - no applicable action for [springProfile], current ElementPath is [[configuration][springProfile]]
```

### 26.7.1ç‰¹å®šäºé…ç½®æ–‡ä»¶çš„é…ç½®

`<springProfile>`æ ‡è®°å…è®¸æ‚¨æ ¹æ®æ´»åŠ¨çš„Springé…ç½®æ–‡ä»¶é€‰æ‹©æ€§åœ°åŒ…å«æˆ–æ’é™¤é…ç½®éƒ¨åˆ†ã€‚`<configuration>`å…ƒç´ ä¸­çš„ä»»ä½•ä½ç½®éƒ½æ”¯æŒé…ç½®æ–‡ä»¶èŠ‚ã€‚ä½¿ç”¨`name`å±æ€§æŒ‡å®šå“ªä¸ªé…ç½®æ–‡ä»¶æ¥å—é…ç½®ã€‚`<springProfile>`æ ‡è®°å¯ä»¥åŒ…å«ç®€å•çš„é…ç½®æ–‡ä»¶åç§°ï¼ˆä¾‹å¦‚`staging`ï¼‰æˆ–é…ç½®æ–‡ä»¶è¡¨è¾¾å¼ã€‚æ¦‚è¦è¡¨è¾¾å¼å…è®¸è¡¨è¾¾æ›´å¤æ‚çš„æ¦‚è¦é€»è¾‘ï¼Œä¾‹å¦‚`production & (eu-central | eu-west)`ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·æŸ¥é˜… [å‚è€ƒæŒ‡å—](https://docs.spring.io/spring/docs/5.1.3.RELEASE/spring-framework-reference/core.html#beans-definition-profiles-java)ã€‚ä»¥ä¸‹æ¸…å•æ˜¾ç¤ºäº†ä¸‰ä¸ªç¤ºä¾‹é…ç½®æ–‡ä»¶ï¼š

```
<springProfile >
	<!-- configuration to be enabled when the "staging" profile is active -->
</springProfile>

<springProfile name="dev | staging">
	<!-- configuration to be enabled when the "dev" or "staging" profiles are active -->
</springProfile>

<springProfile name="!production">
	<!-- configuration to be enabled when the "production" profile is not active -->
</springProfile>
```

### 26.7.2ç¯å¢ƒå±æ€§

`<springProperty>`æ ‡è®°å…è®¸æ‚¨å…¬å¼€Spring `Environment`ä¸­çš„å±æ€§ï¼Œä»¥ä¾¿åœ¨Logbackä¸­ä½¿ç”¨ã€‚å¦‚æœè¦åœ¨Logbacké…ç½®ä¸­è®¿é—®`application.properties`æ–‡ä»¶ä¸­çš„å€¼ï¼Œè¿™æ ·åšéå¸¸æœ‰ç”¨ã€‚æ ‡ç­¾çš„å·¥ä½œæ–¹å¼ä¸Logbackçš„æ ‡å‡†`<property>`æ ‡ç­¾ç±»ä¼¼ã€‚ä½†æ˜¯ï¼Œä¸æ˜¯æŒ‡å®šç›´æ¥`value`ï¼Œè€Œæ˜¯æŒ‡å®šå±æ€§çš„`source`ï¼ˆæ¥è‡ª`Environment`ï¼‰ã€‚å¦‚æœæ‚¨éœ€è¦å°†å±æ€§å­˜å‚¨åœ¨`local`èŒƒå›´ä»¥å¤–çš„å…¶ä»–ä½ç½®ï¼Œåˆ™å¯ä»¥ä½¿ç”¨`scope`å±æ€§ã€‚å¦‚æœéœ€è¦å›é€€å€¼ï¼ˆå¦‚æœæœªåœ¨`Environment`ä¸­è®¾ç½®è¯¥å±æ€§ï¼‰ï¼Œåˆ™å¯ä»¥ä½¿ç”¨`defaultValue`å±æ€§ã€‚ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºå¦‚ä½•å…¬å¼€åœ¨Logbackä¸­ä½¿ç”¨çš„å±æ€§ï¼š

```
<springProperty scope="context" 
		defaultValue="localhost"/>
<appender >
	<remoteHost>${fluentHost}</remoteHost>
	...
</appender>
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å¿…é¡»åœ¨çƒ¤è‚‰ä¸²æ¡ˆä¾‹ä¸­æŒ‡å®š<code class="literal" i="875">source</code>ï¼ˆä¾‹å¦‚<code class="literal" i="876">my.property-name</code>ï¼‰ã€‚ä½†æ˜¯ï¼Œå¯ä»¥ä½¿ç”¨å®½æ¾è§„åˆ™å°†å±æ€§æ·»åŠ åˆ°<code class="literal" i="877">Environment</code>ã€‚</p></td></tr></tbody></table>

27. JSON

--------

Spring Bootæä¾›äº†ä¸ä¸‰ä¸ªJSONæ˜ å°„åº“çš„é›†æˆï¼š

*   GSON
*   Jackson
*   JSON-B

Jacksonæ˜¯é¦–é€‰çš„é»˜è®¤åº“ã€‚

27.1Â Jackson
------------

æä¾›äº†Jacksonçš„è‡ªåŠ¨é…ç½®ï¼ŒJacksonæ˜¯`spring-boot-starter-json`çš„ä¸€éƒ¨åˆ†ã€‚å½“Jacksonåœ¨ç±»è·¯å¾„ä¸Šæ—¶ï¼Œä¼šè‡ªåŠ¨é…ç½®`ObjectMapper` beanã€‚æä¾›äº†å‡ ä¸ªé…ç½®å±æ€§æ¥è‡ª [å®šä¹‰`ObjectMapper`çš„é…ç½®](#howto-customize-the-jackson-objectmapper "79.3è‡ªå®šä¹‰Jackson ObjectMapper")ã€‚

27.2 Gson
---------

æä¾›Gsonçš„è‡ªåŠ¨é…ç½®ã€‚å½“Gsonåœ¨ç±»è·¯å¾„ä¸Šæ—¶ï¼Œä¼šè‡ªåŠ¨é…ç½®`Gson` beanã€‚æä¾›äº†å‡ ä¸ª`spring.gson.*`é…ç½®å±æ€§æ¥è‡ªå®šä¹‰é…ç½®ã€‚ä¸ºäº†è·å¾—æ›´å¤šæ§åˆ¶ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªæˆ–å¤šä¸ª`GsonBuilderCustomizer` beansã€‚

27.3 JSON-B
-----------

æä¾›äº†JSON-Bçš„è‡ªåŠ¨é…ç½®ã€‚å½“JSON-B APIå’Œå®ç°åœ¨ç±»è·¯å¾„ä¸Šæ—¶ï¼Œå°†è‡ªåŠ¨é…ç½®`Jsonb` beanã€‚é¦–é€‰çš„JSON-Bå®ç°æ˜¯Apache Johnzonï¼Œå®ƒæä¾›äº†ä¾èµ–å…³ç³»ç®¡ç†ã€‚

28.å¼€å‘Webåº”ç”¨ç¨‹åº
------------

Spring Bootéå¸¸é€‚åˆWebåº”ç”¨ç¨‹åºå¼€å‘ã€‚æ‚¨å¯ä»¥ä½¿ç”¨åµŒå…¥å¼Tomcatï¼ŒJettyï¼ŒUndertowæˆ–Nettyåˆ›å»ºè‡ªåŒ…å«çš„HTTPæœåŠ¡å™¨ã€‚å¤§å¤šæ•°Webåº”ç”¨ç¨‹åºä½¿ç”¨`spring-boot-starter-web`æ¨¡å—å¿«é€Ÿå¯åŠ¨å’Œè¿è¡Œã€‚æ‚¨è¿˜å¯ä»¥ä½¿ç”¨`spring-boot-starter-webflux`æ¨¡å—é€‰æ‹©æ„å»ºå“åº”å¼Webåº”ç”¨ç¨‹åºã€‚

å¦‚æœæ‚¨è¿˜æ²¡æœ‰å¼€å‘Spring Boot Webåº”ç”¨ç¨‹åºï¼Œå¯ä»¥æŒ‰ç…§â€œHello Worldï¼â€è¿›è¡Œæ“ä½œã€‚â€œ _[å…¥é—¨â€](#getting-started-first-application "11.å¼€å‘æ‚¨çš„ç¬¬ä¸€ä¸ªSpring Bootåº”ç”¨ç¨‹åº")_éƒ¨åˆ†ä¸­çš„ç¤ºä¾‹ ã€‚

28.1â€œSpring Web MVCæ¡†æ¶â€
----------------------

åœ¨[Spring Webæ¡†æ¶](https://docs.spring.io/spring/docs/5.1.3.RELEASE/spring-framework-reference/web.html#mvc)ï¼ˆé€šå¸¸ç®€ç§°ä¸ºâ€œSpring MVCâ€ï¼‰æ˜¯ä¸€ç§å¯Œå«â€œæ¨¡å‹è§†å›¾æ§åˆ¶å™¨â€ Webæ¡†æ¶ã€‚Spring MVCå…è®¸æ‚¨åˆ›å»ºç‰¹æ®Šçš„`@Controller`æˆ–`@RestController` beansæ¥å¤„ç†ä¼ å…¥çš„HTTPè¯·æ±‚ã€‚æ§åˆ¶å™¨ä¸­çš„æ–¹æ³•ä½¿ç”¨`@RequestMapping`æ³¨é‡Šæ˜ å°„åˆ°HTTPã€‚

ä»¥ä¸‹ä»£ç æ˜¾ç¤ºäº†ä¸ºJSONæ•°æ®æä¾›æœåŠ¡çš„å…¸å‹`@RestController`ï¼š

```
_@RestController_
_@RequestMapping(value="/users")_
public class MyRestController {

	_@RequestMapping(value="/{user}", method=RequestMethod.GET)_
	public User getUser(_@PathVariable_ Long user) {
		// ...
	}

	_@RequestMapping(value="/{user}/customers", method=RequestMethod.GET)_
	List<Customer> getUserCustomers(_@PathVariable_ Long user) {
		// ...
	}

	_@RequestMapping(value="/{user}", method=RequestMethod.DELETE)_
	public User deleteUser(_@PathVariable_ Long user) {
		// ...
	}

}
```

Spring MVCæ˜¯æ ¸å¿ƒSpringæ¡†æ¶çš„ä¸€éƒ¨åˆ†ï¼Œè¯¦ç»†ä¿¡æ¯å¯åœ¨[å‚è€ƒæ–‡æ¡£ä¸­æ‰¾åˆ°](https://docs.spring.io/spring/docs/5.1.3.RELEASE/spring-framework-reference/web.html#mvc)ã€‚è¿˜æœ‰ä¸€äº›æŒ‡å—æ¶µç›–Spring MVCï¼Œå¯åœ¨[spring.io/guidesä¸Šæ‰¾åˆ°](https://spring.io/guides)ã€‚

### 28.1.1 Spring MVCè‡ªåŠ¨é…ç½®

Spring Bootä¸ºSpring MVCæä¾›äº†è‡ªåŠ¨é…ç½®ï¼Œé€‚ç”¨äºå¤§å¤šæ•°åº”ç”¨ç¨‹åºã€‚

è‡ªåŠ¨é…ç½®åœ¨Springçš„é»˜è®¤å€¼ä¹‹ä¸Šæ·»åŠ äº†ä»¥ä¸‹åŠŸèƒ½ï¼š

*   åŒ…å«`ContentNegotiatingViewResolver`å’Œ`BeanNameViewResolver` beansã€‚
*   æ”¯æŒæä¾›é™æ€èµ„æºï¼ŒåŒ…æ‹¬å¯¹WebJarsçš„æ”¯æŒï¼ˆ [æœ¬æ–‡æ¡£ç¨åä»‹ç»](#boot-features-spring-mvc-static-content "28.1.5é™æ€å†…å®¹")ï¼‰ï¼‰ã€‚
*   è‡ªåŠ¨æ³¨å†Œ`Converter`ï¼Œ`GenericConverter`å’Œ`Formatter` beansã€‚
*   æ”¯æŒ`HttpMessageConverters`ï¼ˆ [æœ¬æ–‡æ¡£ç¨åéƒ¨åˆ†](#boot-features-spring-mvc-message-converters "28.1.2 HttpMessageConverters")ï¼‰ã€‚
*   è‡ªåŠ¨æ³¨å†Œ`MessageCodesResolver`ï¼ˆ [æœ¬æ–‡æ¡£åé¢éƒ¨åˆ†](#boot-features-spring-message-codes "28.1.4 MessageCodesResolver")ï¼‰ã€‚
*   é™æ€`index.html`æ”¯æŒã€‚
*   è‡ªå®šä¹‰`Favicon`æ”¯æŒï¼ˆ[æœ¬æ–‡æ¡£ç¨åä»‹ç»](#boot-features-spring-mvc-favicon "28.1.7è‡ªå®šä¹‰Favicon")ï¼‰ã€‚
*   è‡ªåŠ¨ä½¿ç”¨`ConfigurableWebBindingInitializer` beanï¼ˆæœ¬æ–‡ [åé¢ä¼šä»‹ç»](#boot-features-spring-mvc-web-binding-initializer "28.1.9 ConfigurableWebBindingInitializer")ï¼‰ã€‚

å¦‚æœä½ æƒ³ä¿ç•™Spring Boot MVCåŠŸèƒ½ï¼Œå¹¶ä¸”ä½ æƒ³æ·»åŠ é¢å¤–çš„ [MVCé…ç½®](https://docs.spring.io/spring/docs/5.1.3.RELEASE/spring-framework-reference/web.html#mvc)ï¼ˆæ‹¦æˆªå™¨ï¼Œæ ¼å¼åŒ–ç¨‹åºï¼Œè§†å›¾æ§åˆ¶å™¨å’Œå…¶ä»–åŠŸèƒ½ï¼‰ï¼Œä½ å¯ä»¥æ·»åŠ è‡ªå·±çš„`@Configuration`ç±»`WebMvcConfigurer`ç±»ä½†**æ²¡æœ‰** `@EnableWebMvc`ã€‚å¦‚æœæ‚¨å¸Œæœ›æä¾›`RequestMappingHandlerMapping`ï¼Œ`RequestMappingHandlerAdapter`æˆ–`ExceptionHandlerExceptionResolver`çš„è‡ªå®šä¹‰å®ä¾‹ï¼Œåˆ™å¯ä»¥å£°æ˜`WebMvcRegistrationsAdapter`å®ä¾‹ä»¥æä¾›æ­¤ç±»ç»„ä»¶ã€‚

å¦‚æœæ‚¨æƒ³å®Œå…¨æ§åˆ¶Spring MVCï¼Œå¯ä»¥æ·»åŠ è‡ªå·±çš„`@Configuration`æ³¨é‡Š`@EnableWebMvc`ã€‚

### 28.1.2 HttpMessageConverters

Spring MVCä½¿ç”¨`HttpMessageConverter`æ¥å£è½¬æ¢HTTPè¯·æ±‚å’Œå“åº”ã€‚æ˜æ™ºçš„é»˜è®¤è®¾ç½®åŒ…å«åœ¨å¼€ç®±å³ç”¨ä¸­ã€‚ä¾‹å¦‚ï¼Œå¯¹è±¡å¯ä»¥è‡ªåŠ¨è½¬æ¢ä¸ºJSONï¼ˆé€šè¿‡ä½¿ç”¨Jacksonåº“ï¼‰æˆ–XMLï¼ˆå¦‚æœå¯ç”¨ï¼Œä½¿ç”¨Jackson XMLæ‰©å±•ï¼Œæˆ–è€…å¦‚æœJackson XMLæ‰©å±•ä¸æ˜¯ï¼Œåˆ™ä½¿ç”¨JAXBå¯ç”¨ï¼‰ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå­—ç¬¦ä¸²ä»¥`UTF-8`ç¼–ç ã€‚

å¦‚æœæ‚¨éœ€è¦æ·»åŠ æˆ–è‡ªå®šä¹‰è½¬æ¢å™¨ï¼Œå¯ä»¥ä½¿ç”¨Spring Bootçš„`HttpMessageConverters`ç±»ï¼Œå¦‚ä¸‹é¢çš„æ¸…å•æ‰€ç¤ºï¼š

```
import org.springframework.boot.autoconfigure.web.HttpMessageConverters;
import org.springframework.context.annotation.*;
import org.springframework.http.converter.*;

_@Configuration_
public class MyConfiguration {

	_@Bean_
	public HttpMessageConverters customConverters() {
		HttpMessageConverter<?> additional = ...
		HttpMessageConverter<?> another = ...
		return new HttpMessageConverters(additional, another);
	}

}
```

ä¸Šä¸‹æ–‡ä¸­å­˜åœ¨çš„ä»»ä½•`HttpMessageConverter` beanéƒ½å°†æ·»åŠ åˆ°è½¬æ¢å™¨åˆ—è¡¨ä¸­ã€‚æ‚¨ä¹Ÿå¯ä»¥ä»¥ç›¸åŒçš„æ–¹å¼è¦†ç›–é»˜è®¤è½¬æ¢å™¨ã€‚

### 28.1.3è‡ªå®šä¹‰JSONåºåˆ—åŒ–ç¨‹åºå’Œååºåˆ—åŒ–ç¨‹åº

å¦‚æœä½¿ç”¨Jacksonåºåˆ—åŒ–å’Œååºåˆ—åŒ–JSONæ•°æ®ï¼Œæ‚¨å¯èƒ½éœ€è¦ç¼–å†™è‡ªå·±çš„`JsonSerializer`å’Œ`JsonDeserializer`ç±»ã€‚è‡ªå®šä¹‰åºåˆ—åŒ–ç¨‹åºé€šå¸¸ [é€šè¿‡æ¨¡å—æ³¨å†ŒJackson](https://github.com/FasterXML/jackson-docs/wiki/JacksonHowToCustomSerializers)ï¼Œä½†Spring Bootæä¾›äº†å¦ä¸€ç§`@JsonComponent`æ³¨é‡Šï¼Œå¯ä»¥æ›´å®¹æ˜“åœ°ç›´æ¥æ³¨å†ŒSpring Beansã€‚

æ‚¨å¯ä»¥ç›´æ¥åœ¨`JsonSerializer`æˆ–`JsonDeserializer`å®ç°ä¸Šä½¿ç”¨`@JsonComponent`æ³¨é‡Šã€‚æ‚¨è¿˜å¯ä»¥åœ¨åŒ…å«åºåˆ—åŒ–ç¨‹åº/ååºåˆ—åŒ–ç¨‹åºä½œä¸ºå†…éƒ¨ç±»çš„ç±»ä¸Šä½¿ç”¨å®ƒï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
import java.io.*;
import com.fasterxml.jackson.core.*;
import com.fasterxml.jackson.databind.*;
import org.springframework.boot.jackson.*;

_@JsonComponent_
public class Example {

	public static class Serializer extends JsonSerializer<SomeObject> {
		// ...
	}

	public static class Deserializer extends JsonDeserializer<SomeObject> {
		// ...
	}

}
```

`ApplicationContext`ä¸­çš„æ‰€æœ‰`@JsonComponent` beanséƒ½ä¼šè‡ªåŠ¨æ³¨å†Œåˆ°Jacksonã€‚ç”±äº`@JsonComponent`ä½¿ç”¨`@Component`è¿›è¡Œå…ƒæ³¨é‡Šï¼Œå› æ­¤é€šå¸¸çš„ç»„ä»¶æ‰«æè§„åˆ™é€‚ç”¨ã€‚

Spring Bootè¿˜æä¾› [`JsonObjectSerializer`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/jackson/JsonObjectSerializer.java)ä¸ [`JsonObjectDeserializer`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/jackson/JsonObjectDeserializer.java)è¯¥ç»™æ ‡å‡†æä¾›æœ‰ç”¨çš„æ›¿ä»£åŸºç±»Jacksonç‰ˆæœ¬åºåˆ—åŒ–å¯¹è±¡æ—¶ã€‚è§ [`JsonObjectSerializer`](https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/jackson/JsonObjectSerializer.html) å’Œ[`JsonObjectDeserializer`](https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/jackson/JsonObjectDeserializer.html)åœ¨Javadocäº†è§£è¯¦æƒ…ã€‚

### 28.1.4 MessageCodesResolver

Spring MVCæœ‰ä¸€ä¸ªç”Ÿæˆé”™è¯¯ä»£ç çš„ç­–ç•¥ï¼Œç”¨äºä»ç»‘å®šé”™è¯¯ä¸­å‘ˆç°é”™è¯¯æ¶ˆæ¯ï¼š`MessageCodesResolver`ã€‚å¦‚æœè®¾ç½®`spring.mvc.message-codes-resolver.format`å±æ€§`PREFIX_ERROR_CODE`æˆ–`POSTFIX_ERROR_CODE`ï¼Œåˆ™Spring Bootä¼šä¸ºæ‚¨åˆ›å»ºä¸€ä¸ªï¼ˆè¯·å‚é˜…æšä¸¾ [`DefaultMessageCodesResolver.Format`](https://docs.spring.io/spring/docs/5.1.3.RELEASE/javadoc-api/org/springframework/validation/DefaultMessageCodesResolver.Format.html)ï¼‰ã€‚

### 28.1.5é™æ€å†…å®¹

é»˜è®¤æƒ…å†µä¸‹ï¼ŒSpring Bootä»ç±»è·¯å¾„ä¸­çš„`/static`ï¼ˆæˆ–`/public`æˆ–`/resources`æˆ–`/META-INF/resources`ï¼‰ç›®å½•æˆ–`ServletContext`çš„æ ¹ç›®å½•ä¸­æä¾›é™æ€å†…å®¹ã€‚å®ƒä½¿ç”¨æ¥è‡ªSpring MVCçš„`ResourceHttpRequestHandler`ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥é€šè¿‡æ·»åŠ è‡ªå·±çš„`WebMvcConfigurer`å¹¶è¦†ç›–`addResourceHandlers`æ–¹æ³•æ¥ä¿®æ”¹è¯¥è¡Œä¸ºã€‚

åœ¨ç‹¬ç«‹çš„Webåº”ç”¨ç¨‹åºä¸­ï¼Œå®¹å™¨ä¸­çš„é»˜è®¤servletä¹Ÿä¼šå¯ç”¨ï¼Œå¹¶ä½œä¸ºåå¤‡ï¼Œå¦‚æœSpringå†³å®šä¸å¤„ç†å®ƒï¼Œåˆ™ä»`ServletContext`çš„æ ¹ç›®å½•æä¾›å†…å®¹ã€‚å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¿™ä¸ä¼šå‘ç”Ÿï¼ˆé™¤éæ‚¨ä¿®æ”¹é»˜è®¤çš„MVCé…ç½®ï¼‰ï¼Œå› ä¸ºSpringå§‹ç»ˆå¯ä»¥é€šè¿‡`DispatcherServlet`å¤„ç†è¯·æ±‚ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼Œèµ„æºæ˜ å°„åˆ°`/**`ï¼Œä½†æ‚¨å¯ä»¥ä½¿ç”¨`spring.mvc.static-path-pattern`å±æ€§å¯¹å…¶è¿›è¡Œè°ƒæ•´ã€‚ä¾‹å¦‚ï¼Œå°†æ‰€æœ‰èµ„æºé‡æ–°å®šä½åˆ°`/resources/**`å¯ä»¥å®ç°å¦‚ä¸‹ï¼š

```
spring.mvc.static-path-pattern=/resources/**
```

æ‚¨è¿˜å¯ä»¥ä½¿ç”¨`spring.resources.static-locations`å±æ€§è‡ªå®šä¹‰é™æ€èµ„æºä½ç½®ï¼ˆå°†é»˜è®¤å€¼æ›¿æ¢ä¸ºç›®å½•ä½ç½®åˆ—è¡¨ï¼‰ã€‚æ ¹Servletä¸Šä¸‹æ–‡è·¯å¾„`"/"`ä¹Ÿä¼šè‡ªåŠ¨æ·»åŠ ä¸ºä½ç½®ã€‚

é™¤äº†å‰é¢æåˆ°çš„â€œæ ‡å‡†â€é™æ€èµ„æºä½ç½®ä¹‹å¤–ï¼Œè¿˜ä¸º[Webjarså†…å®¹](https://www.webjars.org/)åˆ¶ä½œäº†ä¸€ä¸ªç‰¹ä¾‹ã€‚å¦‚æœå®ƒä»¬ä»¥Webjarsæ ¼å¼æ‰“åŒ…ï¼Œé‚£ä¹ˆå…·æœ‰`/webjars/**`ä¸­è·¯å¾„çš„ä»»ä½•èµ„æºéƒ½å°†ä»jaræ–‡ä»¶ä¸­æä¾›ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¦‚æœæ‚¨çš„åº”ç”¨ç¨‹åºæ‰“åŒ…ä¸ºjarï¼Œè¯·ä¸è¦ä½¿ç”¨<code class="literal" i="944">src/main/webapp</code>ç›®å½•ã€‚è™½ç„¶è¿™ä¸ªç›®å½•æ˜¯ä¸€ä¸ªé€šç”¨çš„æ ‡å‡†ï¼Œå®ƒçš„å·¥ä½œåŸç†<strong>åªæ˜¯</strong>æˆ˜äº‰çš„åŒ…è£…ï¼Œå®ƒæ˜¯é»˜é»˜å¤§å¤šæ•°æ„å»ºå·¥å…·å¿½ç•¥ï¼Œå¦‚æœä½ ç”Ÿæˆä¸€ä¸ªç½å­ã€‚</p></td></tr></tbody></table>

Spring Bootè¿˜æ”¯æŒSpring MVCæä¾›çš„é«˜çº§èµ„æºå¤„ç†åŠŸèƒ½ï¼Œå…è®¸ä½¿ç”¨ç¼“å­˜ç ´åé™æ€èµ„æºç­‰ç”¨ä¾‹æˆ–ä½¿ç”¨ä¸Webjarsæ— å…³çš„URLã€‚

è¦ä¸ºWebjarsä½¿ç”¨ç‰ˆæœ¬æ— å…³çš„URLï¼Œè¯·æ·»åŠ `webjars-locator-core`ä¾èµ–é¡¹ã€‚ç„¶åå£°æ˜ä½ çš„Webjarã€‚ä»¥jQueryä¸ºä¾‹ï¼Œæ·»åŠ `"/webjars/jquery/jquery.min.js"`ä¼šäº§ç”Ÿ`"/webjars/jquery/x.y.z/jquery.min.js"`ã€‚å…¶ä¸­`x.y.z`æ˜¯Webjarç‰ˆæœ¬ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å¦‚æœä½¿ç”¨JBossï¼Œåˆ™éœ€è¦å£°æ˜<code class="literal" i="949">webjars-locator-jboss-vfs</code>ä¾èµ–é¡¹è€Œä¸æ˜¯<code class="literal" i="950">webjars-locator-core</code>ã€‚å¦åˆ™ï¼Œæ‰€æœ‰Webjarséƒ½å°†è§£æä¸º<code class="literal" i="951">404</code>ã€‚</p></td></tr></tbody></table>

è¦ä½¿ç”¨ç¼“å­˜æ¸…é™¤ï¼Œä»¥ä¸‹é…ç½®ä¼šä¸ºæ‰€æœ‰é™æ€èµ„æºé…ç½®ç¼“å­˜æ¸…é™¤è§£å†³æ–¹æ¡ˆï¼Œä»è€Œåœ¨URLä¸­æœ‰æ•ˆæ·»åŠ å†…å®¹å“ˆå¸Œï¼ˆä¾‹å¦‚`<link href="/css/spring-2a2d595e6ed9a0b24f027f2b63b134d6.css"/>`ï¼‰ï¼š

```
spring.resources.chain.strategy.content.enabled=true
spring.resources.chain.strategy.content.paths=/**
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>ç”±äºä¸ºThymeleafå’ŒFreeMarkerè‡ªåŠ¨é…ç½®äº†<code class="literal" i="953">ResourceUrlEncodingFilter</code>ï¼Œå› æ­¤åœ¨è¿è¡Œæ—¶å¯ä»¥åœ¨æ¨¡æ¿ä¸­é‡å†™èµ„æºé“¾æ¥ã€‚æ‚¨åº”è¯¥åœ¨ä½¿ç”¨JSPæ—¶æ‰‹åŠ¨å£°æ˜æ­¤è¿‡æ»¤å™¨ã€‚å…¶ä»–æ¨¡æ¿å¼•æ“ç›®å‰ä¸æ˜¯è‡ªåŠ¨æ”¯æŒçš„ï¼Œä½†å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰æ¨¡æ¿å®/å¸®åŠ©ç¨‹åºå’Œä½¿ç”¨ <a class="link" href="https://docs.spring.io/spring/docs/5.1.3.RELEASE/javadoc-api/org/springframework/web/servlet/resource/ResourceUrlProvider.html" target="_top"><code class="literal">ResourceUrlProvider</code></a>ã€‚</p></td></tr></tbody></table>

ä½¿ç”¨ï¼ˆä¾‹å¦‚ï¼‰JavaScriptæ¨¡å—åŠ è½½å™¨åŠ¨æ€åŠ è½½èµ„æºæ—¶ï¼Œä¸èƒ½é‡å‘½åæ–‡ä»¶ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå…¶ä»–ç­–ç•¥ä¹Ÿå¾—åˆ°æ”¯æŒå¹¶å¯ä»¥åˆå¹¶çš„åŸå› ã€‚â€œå›ºå®šâ€ç­–ç•¥åœ¨URLä¸­æ·»åŠ é™æ€ç‰ˆæœ¬å­—ç¬¦ä¸²è€Œä¸æ›´æ”¹æ–‡ä»¶åï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
spring.resources.chain.strategy.content.enabled=true
spring.resources.chain.strategy.content.paths=/**
spring.resources.chain.strategy.fixed.enabled=true
spring.resources.chain.strategy.fixed.paths=/js/lib/
spring.resources.chain.strategy.fixed.version=v12
```

ä½¿ç”¨æ­¤é…ç½®ï¼Œä½äº`"/js/lib/"`ä¸‹çš„JavaScriptæ¨¡å—ä½¿ç”¨å›ºå®šç‰ˆæœ¬æ§åˆ¶ç­–ç•¥ï¼ˆ`"/v12/js/lib/mymodule.js"`ï¼‰ï¼Œè€Œå…¶ä»–èµ„æºä»ä½¿ç”¨å†…å®¹1ï¼ˆ`<link href="/css/spring-2a2d595e6ed9a0b24f027f2b63b134d6.css"/>`ï¼‰ã€‚

æœ‰å…³[`ResourceProperties`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/ResourceProperties.java) æ›´å¤šæ”¯æŒé€‰é¡¹ï¼Œè¯·å‚é˜…

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æ­¤åŠŸèƒ½å·²åœ¨ä¸“é—¨çš„<a class="link" href="https://spring.io/blog/2014/07/24/spring-framework-4-1-handling-static-web-resources" target="_top">åšå®¢æ–‡ç« </a>å’ŒSpring Frameworkçš„ <a class="link" href="https://docs.spring.io/spring/docs/5.1.3.RELEASE/spring-framework-reference/web.html#mvc-config-static-resources" target="_top">å‚è€ƒæ–‡æ¡£ä¸­</a>è¿›è¡Œäº†è¯¦ç»†æè¿° ã€‚</p></td></tr></tbody></table>

### 28.1.6æ¬¢è¿é¡µé¢

Spring Bootæ”¯æŒé™æ€å’Œæ¨¡æ¿åŒ–çš„æ¬¢è¿é¡µé¢ã€‚å®ƒé¦–å…ˆåœ¨é…ç½®çš„é™æ€å†…å®¹ä½ç½®ä¸­æŸ¥æ‰¾`index.html`æ–‡ä»¶ã€‚å¦‚æœæ‰¾ä¸åˆ°ï¼Œåˆ™ä¼šæŸ¥æ‰¾`index`æ¨¡æ¿ã€‚å¦‚æœæ‰¾åˆ°ä»»ä½•ä¸€ä¸ªï¼Œå®ƒå°†è‡ªåŠ¨ç”¨ä½œåº”ç”¨ç¨‹åºçš„æ¬¢è¿é¡µé¢ã€‚

### 28.1.7è‡ªå®šä¹‰Favicon

Spring Bootåœ¨é…ç½®çš„é™æ€å†…å®¹ä½ç½®å’Œç±»è·¯å¾„çš„æ ¹ï¼ˆæŒ‰æ­¤é¡ºåºï¼‰ä¸­æŸ¥æ‰¾`favicon.ico`ã€‚å¦‚æœå­˜åœ¨è¿™æ ·çš„æ–‡ä»¶ï¼Œå®ƒå°†è‡ªåŠ¨ç”¨ä½œåº”ç”¨ç¨‹åºçš„faviconã€‚

### 28.1.8è·¯å¾„åŒ¹é…å’Œå†…å®¹åå•†

Spring MVCå¯ä»¥é€šè¿‡æŸ¥çœ‹è¯·æ±‚è·¯å¾„å¹¶å°†å…¶ä¸åº”ç”¨ç¨‹åºä¸­å®šä¹‰çš„æ˜ å°„ç›¸åŒ¹é…ï¼ˆä¾‹å¦‚ï¼Œå…³äºControlleræ–¹æ³•çš„`@GetMapping`æ³¨é‡Šï¼‰ï¼Œå°†ä¼ å…¥çš„HTTPè¯·æ±‚æ˜ å°„åˆ°å¤„ç†ç¨‹åºã€‚

Spring Booté»˜è®¤æƒ…å†µä¸‹é€‰æ‹©ç¦ç”¨åç¼€æ¨¡å¼åŒ¹é…ï¼Œè¿™æ„å‘³ç€åƒ`"GET /projects/spring-boot.json"`è¿™æ ·çš„è¯·æ±‚å°†ä¸ä¼šä¸`@GetMapping("/projects/spring-boot")`æ˜ å°„åŒ¹é…ã€‚è¿™è¢«è®¤ä¸ºæ˜¯[Spring MVCåº”ç”¨ç¨‹åº](https://docs.spring.io/spring/docs/5.1.3.RELEASE/spring-framework-reference/web.html#mvc-ann-requestmapping-suffix-pattern-match)çš„ [æœ€ä½³å®è·µ](https://docs.spring.io/spring/docs/5.1.3.RELEASE/spring-framework-reference/web.html#mvc-ann-requestmapping-suffix-pattern-match)ã€‚å¯¹äºæ²¡æœ‰å‘é€æ­£ç¡®â€œæ¥å—â€è¯·æ±‚æ ‡å¤´çš„HTTPå®¢æˆ·ç«¯ï¼Œæ­¤åŠŸèƒ½åœ¨è¿‡å»ä¸»è¦æœ‰ç”¨; æˆ‘ä»¬éœ€è¦ç¡®ä¿å°†æ­£ç¡®çš„å†…å®¹ç±»å‹å‘é€ç»™å®¢æˆ·ç«¯ã€‚å¦‚ä»Šï¼Œå†…å®¹åå•†æ›´åŠ å¯é ã€‚

è¿˜æœ‰å…¶ä»–æ–¹æ³•å¯ä»¥å¤„ç†ä¸ä¸€è‡´å‘é€æ­£ç¡®â€œæ¥å—â€è¯·æ±‚æ ‡å¤´çš„HTTPå®¢æˆ·ç«¯ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æŸ¥è¯¢å‚æ•°æ¥ç¡®ä¿`"GET /projects/spring-boot?format=json"`ä¹‹ç±»çš„è¯·æ±‚æ˜ å°„åˆ°`@GetMapping("/projects/spring-boot")`ï¼Œè€Œä¸æ˜¯ä½¿ç”¨åç¼€åŒ¹é…ï¼š

```
spring.mvc.contentnegotiation.favor-parameter=true

# We can change the parameter name, which is "format" by default:
# spring.mvc.contentnegotiation.parameter-name=myparam

# We can also register additional file extensions/media types with:
spring.mvc.contentnegotiation.media-types.markdown=text/markdown
```

å¦‚æœæ‚¨äº†è§£è­¦å‘Šå¹¶ä»å¸Œæœ›æ‚¨çš„åº”ç”¨ç¨‹åºä½¿ç”¨åç¼€æ¨¡å¼åŒ¹é…ï¼Œåˆ™éœ€è¦ä»¥ä¸‹é…ç½®ï¼š

```
spring.mvc.contentnegotiation.favor-path-extension=true
spring.mvc.pathmatch.use-suffix-pattern=true
```

æˆ–è€…ï¼Œä¸æ˜¯æ‰“å¼€æ‰€æœ‰åç¼€æ¨¡å¼ï¼Œè€Œæ˜¯ä»…æ”¯æŒå·²æ³¨å†Œçš„åç¼€æ¨¡å¼æ›´å®‰å…¨ï¼š

```
spring.mvc.contentnegotiation.favor-path-extension=true
spring.mvc.pathmatch.use-registered-suffix-pattern=true

# You can also register additional file extensions/media types with:
# spring.mvc.contentnegotiation.media-types.adoc=text/asciidoc
```

### 28.1.9 ConfigurableWebBindingInitializer

Spring MVCä½¿ç”¨`WebBindingInitializer`ä¸ºç‰¹å®šè¯·æ±‚åˆå§‹åŒ–`WebDataBinder`ã€‚å¦‚æœæ‚¨åˆ›å»ºè‡ªå·±çš„`ConfigurableWebBindingInitializer` `@Bean`ï¼ŒSpring Bootä¼šè‡ªåŠ¨é…ç½®Spring MVCä»¥ä½¿ç”¨å®ƒã€‚

### 28.1.10æ¨¡æ¿å¼•æ“

é™¤REST WebæœåŠ¡å¤–ï¼Œæ‚¨è¿˜å¯ä»¥ä½¿ç”¨Spring MVCæ¥æä¾›åŠ¨æ€HTMLå†…å®¹ã€‚Spring MVCæ”¯æŒå„ç§æ¨¡æ¿æŠ€æœ¯ï¼ŒåŒ…æ‹¬Thymeleafï¼ŒFreeMarkerå’ŒJSPã€‚æ­¤å¤–ï¼Œè®¸å¤šå…¶ä»–æ¨¡æ¿å¼•æ“åŒ…æ‹¬ä»–ä»¬è‡ªå·±çš„Spring MVCé›†æˆã€‚

Spring BootåŒ…æ‹¬å¯¹ä»¥ä¸‹æ¨¡æ¿å¼•æ“çš„è‡ªåŠ¨é…ç½®æ”¯æŒï¼š

*   [FreeMarkerçš„](https://freemarker.apache.org/docs/)
*   [Groovyçš„](http://docs.groovy-lang.org/docs/next/html/documentation/template-engines.html#_the_markuptemplateengine)
*   [Thymeleaf](http://www.thymeleaf.org)
*   [èƒ¡å­](https://mustache.github.io/)

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¦‚æœå¯èƒ½ï¼Œåº”è¯¥é¿å…ä½¿ç”¨JSPã€‚å°†å®ƒä»¬ä¸åµŒå…¥å¼servletå®¹å™¨ä¸€èµ·ä½¿ç”¨æ—¶æœ‰å‡ ä¸ª <a class="link" href="#boot-features-jsp-limitations" title="28.4.5 JSPé™åˆ¶">å·²çŸ¥çš„é™åˆ¶</a>ã€‚</p></td></tr></tbody></table>

å½“æ‚¨ä½¿ç”¨å…¶ä¸­ä¸€ä¸ªæ¨¡æ¿å¼•æ“å’Œé»˜è®¤é…ç½®æ—¶ï¼Œæ‚¨çš„æ¨¡æ¿å°†ä»`src/main/resources/templates`è‡ªåŠ¨è·å–ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æ ¹æ®æ‚¨è¿è¡Œåº”ç”¨ç¨‹åºçš„æ–¹å¼ï¼ŒIntelliJ IDEAä»¥ä¸åŒæ–¹å¼å¯¹ç±»è·¯å¾„è¿›è¡Œæ’åºã€‚ä»ä¸»æ–¹æ³•åœ¨IDEä¸­è¿è¡Œåº”ç”¨ç¨‹åºä¼šäº§ç”Ÿä¸ä½¿ç”¨Mavenæˆ–Gradleæˆ–å…¶æ‰“åŒ…çš„jarè¿è¡Œåº”ç”¨ç¨‹åºæ—¶ä¸åŒçš„é¡ºåºã€‚è¿™å¯èƒ½å¯¼è‡´Spring Bootæ— æ³•åœ¨ç±»è·¯å¾„ä¸Šæ‰¾åˆ°æ¨¡æ¿ã€‚å¦‚æœé‡åˆ°æ­¤é—®é¢˜ï¼Œå¯ä»¥åœ¨IDEä¸­é‡æ–°æ’åºç±»è·¯å¾„ï¼Œä»¥ä¾¿é¦–å…ˆæ”¾ç½®æ¨¡å—çš„ç±»å’Œèµ„æºã€‚æˆ–è€…ï¼Œæ‚¨å¯ä»¥é…ç½®æ¨¡æ¿å‰ç¼€ä»¥æœç´¢ç±»è·¯å¾„ä¸Šçš„æ¯ä¸ª<code class="literal" i="970">templates</code>ç›®å½•ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š<code class="literal" i="971">classpath*:/templates/</code>ã€‚</p></td></tr></tbody></table>

### 28.1.11é”™è¯¯å¤„ç†

é»˜è®¤æƒ…å†µä¸‹ï¼ŒSpring Bootæä¾›`/error`æ˜ å°„ï¼Œä»¥åˆç†çš„æ–¹å¼å¤„ç†æ‰€æœ‰é”™è¯¯ï¼Œå¹¶åœ¨servletå®¹å™¨ä¸­æ³¨å†Œä¸ºâ€œå…¨å±€â€é”™è¯¯é¡µé¢ã€‚å¯¹äºè®¡ç®—æœºå®¢æˆ·ç«¯ï¼Œå®ƒä¼šç”Ÿæˆä¸€ä¸ªJSONå“åº”ï¼Œå…¶ä¸­åŒ…å«é”™è¯¯ï¼ŒHTTPçŠ¶æ€å’Œå¼‚å¸¸æ¶ˆæ¯çš„è¯¦ç»†ä¿¡æ¯ã€‚å¯¹äºæµè§ˆå™¨å®¢æˆ·ç«¯ï¼Œæœ‰ä¸€ä¸ªâ€œwhitelabelâ€é”™è¯¯è§†å›¾ï¼Œä»¥HTMLæ ¼å¼å‘ˆç°ç›¸åŒçš„æ•°æ®ï¼ˆè¦è‡ªå®šä¹‰å®ƒï¼Œæ·»åŠ ä¸€ä¸ªè§£æä¸º`error`çš„`View`ï¼‰ã€‚è¦å®Œå…¨æ›¿æ¢é»˜è®¤è¡Œä¸ºï¼Œæ‚¨å¯ä»¥å®ç°`ErrorController`å¹¶æ³¨å†Œè¯¥ç±»å‹çš„beanå®šä¹‰æˆ–æ·»åŠ beanç±»å‹`ErrorAttributes`ä»¥ä½¿ç”¨ç°æœ‰æœºåˆ¶ä½†æ›¿æ¢å†…å®¹ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p><code class="literal" i="977">BasicErrorController</code>å¯ä»¥ç”¨ä½œè‡ªå®šä¹‰<code class="literal" i="978">ErrorController</code>çš„åŸºç±»ã€‚å¦‚æœè¦ä¸ºæ–°å†…å®¹ç±»å‹æ·»åŠ å¤„ç†ç¨‹åºï¼Œåˆ™æ­¤åŠŸèƒ½ç‰¹åˆ«æœ‰ç”¨ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼Œä¸“é—¨å¤„ç†<code class="literal" i="979">text/html</code>å¹¶ä¸ºå…¶ä»–æ‰€æœ‰å†…å®¹æä¾›åå¤‡ï¼‰ã€‚ä¸ºæ­¤ï¼Œè¯·æ‰©å±•<code class="literal" i="980">BasicErrorController</code>ï¼Œæ·»åŠ å…·æœ‰<code class="literal" i="982">produces</code>å±æ€§çš„<code class="literal" i="981">@RequestMapping</code>çš„å…¬å…±æ–¹æ³•ï¼Œå¹¶åˆ›å»ºæ–°ç±»å‹çš„beanã€‚</p></td></tr></tbody></table>

æ‚¨è¿˜å¯ä»¥å®šä¹‰ä½¿ç”¨`@ControllerAdvice`æ³¨é‡Šçš„ç±»ï¼Œä»¥è‡ªå®šä¹‰è¦ä¸ºç‰¹å®šæ§åˆ¶å™¨å’Œ/æˆ–å¼‚å¸¸ç±»å‹è¿”å›çš„JSONæ–‡æ¡£ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
_@ControllerAdvice(basePackageClasses = AcmeController.class)_
public class AcmeControllerAdvice extends ResponseEntityExceptionHandler {

	_@ExceptionHandler(YourException.class)_
	_@ResponseBody_
	ResponseEntity<?> handleControllerException(HttpServletRequest request, Throwable ex) {
		HttpStatus status = getStatus(request);
		return new ResponseEntity<>(new CustomErrorType(status.value(), ex.getMessage()), status);
	}

	private HttpStatus getStatus(HttpServletRequest request) {
		Integer statusCode = (Integer) request.getAttribute("javax.servlet.error.status_code");
		if (statusCode == null) {
			return HttpStatus.INTERNAL_SERVER_ERROR;
		}
		return HttpStatus.valueOf(statusCode);
	}

}
```

åœ¨å‰é¢çš„ç¤ºä¾‹ä¸­ï¼Œå¦‚æœ`YourException`åœ¨ä¸`AcmeController`ç›¸åŒçš„åŒ…ä¸­å®šä¹‰çš„æ§åˆ¶å™¨æŠ›å‡ºï¼Œåˆ™ä½¿ç”¨`CustomErrorType` POJOçš„JSONè¡¨ç¤ºè€Œä¸æ˜¯`ErrorAttributes`è¡¨ç¤ºã€‚

#### è‡ªå®šä¹‰é”™è¯¯é¡µé¢

å¦‚æœè¦æ˜¾ç¤ºç»™å®šçŠ¶æ€ä»£ç çš„è‡ªå®šä¹‰HTMLé”™è¯¯é¡µé¢ï¼Œå¯ä»¥å°†æ–‡ä»¶æ·»åŠ åˆ°`/error`æ–‡ä»¶å¤¹ã€‚é”™è¯¯é¡µé¢å¯ä»¥æ˜¯é™æ€HTMLï¼ˆå³ï¼Œæ·»åŠ åˆ°ä»»ä½•é™æ€èµ„æºæ–‡ä»¶å¤¹ä¸‹ï¼‰ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ¨¡æ¿æ„å»ºã€‚æ–‡ä»¶ååº”è¯¥æ˜¯ç¡®åˆ‡çš„çŠ¶æ€ä»£ç æˆ–ç³»åˆ—æ©ç ã€‚

ä¾‹å¦‚ï¼Œè¦å°†`404`æ˜ å°„åˆ°é™æ€HTMLæ–‡ä»¶ï¼Œæ‚¨çš„æ–‡ä»¶å¤¹ç»“æ„å°†å¦‚ä¸‹æ‰€ç¤ºï¼š

```
src/
 +- main/
     +- java/
     |   + <source code>
     +- resources/
         +- public/
             +- error/
             |   +- 404.html
             +- <other public assets>
```

è¦ä½¿ç”¨FreeMarkeræ¨¡æ¿æ˜ å°„æ‰€æœ‰`5xx`é”™è¯¯ï¼Œæ‚¨çš„æ–‡ä»¶å¤¹ç»“æ„å¦‚ä¸‹ï¼š

```
src/
 +- main/
     +- java/
     |   + <source code>
     +- resources/
         +- templates/
             +- error/
             |   +- 5xx.ftl
             +- <other templates>
```

å¯¹äºæ›´å¤æ‚çš„æ˜ å°„ï¼Œæ‚¨è¿˜å¯ä»¥æ·»åŠ å®ç°`ErrorViewResolver`æ¥å£çš„beansï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
public class MyErrorViewResolver implements ErrorViewResolver {

	_@Override_
	public ModelAndView resolveErrorView(HttpServletRequest request,
			HttpStatus status, Map<String, Object> model) {
		// Use the request or status to optionally return a ModelAndView
		return ...
	}

}
```

æ‚¨è¿˜å¯ä»¥ä½¿ç”¨å¸¸è§„çš„Spring MVCåŠŸèƒ½ï¼Œä¾‹å¦‚ [`@ExceptionHandler`æ–¹æ³•](https://docs.spring.io/spring/docs/5.1.3.RELEASE/spring-framework-reference/web.html#mvc-exceptionhandlers)å’Œ [`@ControllerAdvice`](https://docs.spring.io/spring/docs/5.1.3.RELEASE/spring-framework-reference/web.html#mvc-ann-controller-advice)ã€‚`ErrorController`ç„¶åé€‰æ‹©ä»»ä½•æœªå¤„ç†çš„å¼‚å¸¸ã€‚

#### å°†é”™è¯¯é¡µé¢æ˜ å°„åˆ°Spring MVCä¹‹å¤–

å¯¹äºä¸ä½¿ç”¨Spring MVCçš„åº”ç”¨ç¨‹åºï¼Œå¯ä»¥ä½¿ç”¨`ErrorPageRegistrar`æ¥å£ç›´æ¥æ³¨å†Œ`ErrorPages`ã€‚è¿™ç§æŠ½è±¡ç›´æ¥ä¸åº•å±‚åµŒå…¥å¼servletå®¹å™¨ä¸€èµ·å·¥ä½œï¼Œå³ä½¿ä½ æ²¡æœ‰Spring MVC `DispatcherServlet`ä¹Ÿå¯ä»¥å·¥ä½œã€‚

```
_@Bean_
public ErrorPageRegistrar errorPageRegistrar(){
	return new MyErrorPageRegistrar();
}

// ...

private static class MyErrorPageRegistrar implements ErrorPageRegistrar {

	_@Override_
	public void registerErrorPages(ErrorPageRegistry registry) {
		registry.addErrorPages(new ErrorPage(HttpStatus.BAD_REQUEST, "/400"));
	}

}
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å¦‚æœä½ æ³¨å†Œ<code class="literal" i="997">ErrorPage</code>çš„è·¯å¾„æœ€ç»ˆç”±<code class="literal" i="998">Filter</code>å¤„ç†ï¼ˆå¦‚æŸäº›éSpringç½‘é¡µæ¡†æ¶ï¼Œå¦‚Jerseyå’ŒWicketï¼‰ï¼Œé‚£ä¹ˆ<code class="literal" i="999">Filter</code>å¿…é¡»æ˜¾å¼æ³¨å†Œä¸º<code class="literal" i="1000">ERROR</code>è°ƒåº¦ç¨‹åºï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š</p></td></tr></tbody></table>

```
_@Bean_
public FilterRegistrationBean myFilter() {
	FilterRegistrationBean registration = new FilterRegistrationBean();
	registration.setFilter(new MyFilter());
	...
	registration.setDispatcherTypes(EnumSet.allOf(DispatcherType.class));
	return registration;
}
```

è¯·æ³¨æ„ï¼Œé»˜è®¤å€¼`FilterRegistrationBean`ä¸åŒ…æ‹¬`ERROR`è°ƒåº¦ç¨‹åºç±»å‹ã€‚

å°å¿ƒï¼šå½“éƒ¨ç½²åˆ°servletå®¹å™¨æ—¶ï¼ŒSpring Bootä½¿ç”¨å…¶é”™è¯¯é¡µé¢è¿‡æ»¤å™¨å°†å…·æœ‰é”™è¯¯çŠ¶æ€çš„è¯·æ±‚è½¬å‘åˆ°ç›¸åº”çš„é”™è¯¯é¡µé¢ã€‚å¦‚æœå°šæœªæäº¤å“åº”ï¼Œåˆ™åªèƒ½å°†è¯·æ±‚è½¬å‘åˆ°æ­£ç¡®çš„é”™è¯¯é¡µé¢ã€‚ç¼ºçœæƒ…å†µä¸‹ï¼ŒWebSphere Application Server 8.0åŠæ›´é«˜ç‰ˆæœ¬åœ¨æˆåŠŸå®Œæˆservletçš„æœåŠ¡æ–¹æ³•åæäº¤å“åº”ã€‚æ‚¨åº”è¯¥é€šè¿‡å°†`com.ibm.ws.webcontainer.invokeFlushAfterService`è®¾ç½®ä¸º`false`æ¥ç¦ç”¨æ­¤è¡Œä¸ºã€‚

### 28.1.12Â Spring HATEOAS

å¦‚æœæ‚¨å¼€å‘ä½¿ç”¨è¶…åª’ä½“çš„RESTful APIï¼ŒSpring Bootä¸ºSpring HATEOASæä¾›äº†é€‚ç”¨äºå¤§å¤šæ•°åº”ç”¨ç¨‹åºçš„è‡ªåŠ¨é…ç½®ã€‚è‡ªåŠ¨é…ç½®å–ä»£äº†ä½¿ç”¨`@EnableHypermediaSupport`å¹¶æ³¨å†Œå¤šä¸ªbeansä»¥ç®€åŒ–åŸºäºè¶…åª’ä½“çš„åº”ç”¨ç¨‹åºçš„éœ€æ±‚ï¼ŒåŒ…æ‹¬`LinkDiscoverers`ï¼ˆç”¨äºå®¢æˆ·ç«¯æ”¯æŒï¼‰å’Œ`ObjectMapper`é…ç½®ä¸ºæ­£ç¡®åœ°å°†å“åº”ç¼–ç»„åˆ°æ‰€éœ€çš„è¡¨ç¤ºä¸­ã€‚`ObjectMapper`æ˜¯é€šè¿‡è®¾ç½®å„ç§`spring.jackson.*`å±æ€§æˆ–ï¼ˆå¦‚æœå­˜åœ¨ï¼‰`Jackson2ObjectMapperBuilder` beanæ¥è‡ªå®šä¹‰çš„ã€‚

æ‚¨å¯ä»¥ä½¿ç”¨`@EnableHypermediaSupport`æ§åˆ¶Spring HATEOASçš„é…ç½®ã€‚è¯·æ³¨æ„ï¼Œè¿™æ ·åšä¼šç¦ç”¨å‰é¢æè¿°çš„`ObjectMapper`è‡ªå®šä¹‰ã€‚

### 28.1.13 CORSæ”¯æŒ

[è·¨æºèµ„æºå…±äº«](https://en.wikipedia.org/wiki/Cross-origin_resource_sharing) ï¼ˆCORSï¼‰æ˜¯[å¤§å¤šæ•°æµè§ˆå™¨](https://caniuse.com/#feat=cors)å®ç° çš„[W3Cè§„èŒƒ](https://www.w3.org/TR/cors/)ï¼Œå…è®¸æ‚¨ä»¥çµæ´»çš„æ–¹å¼æŒ‡å®šæˆæƒä½•ç§è·¨åŸŸè¯·æ±‚ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ä¸€äº›ä¸å¤ªå®‰å…¨ä¸”åŠŸèƒ½è¾ƒå¼±çš„æ–¹æ³•ï¼Œå¦‚IFRAMEæˆ–JSONPã€‚[](https://caniuse.com/#feat=cors)

ä»ç‰ˆæœ¬4.2å¼€å§‹ï¼ŒSpring MVC [æ”¯æŒCORS](https://docs.spring.io/spring/docs/5.1.3.RELEASE/spring-framework-reference/web.html#cors)ã€‚ åœ¨Spring Bootåº”ç”¨ç¨‹åºä¸­ä½¿ç”¨å¸¦æœ‰ æ³¨é‡Šçš„[æ§åˆ¶å™¨æ–¹æ³•CORSé…ç½®](https://docs.spring.io/spring/docs/5.1.3.RELEASE/spring-framework-reference/web.html#controller-method-cors-configuration)[`@CrossOrigin`](https://docs.spring.io/spring/docs/5.1.3.RELEASE/javadoc-api/org/springframework/web/bind/annotation/CrossOrigin.html)ä¸éœ€è¦ä»»ä½•ç‰¹å®šé…ç½®ã€‚ å¯ä»¥é€šè¿‡ä½¿ç”¨è‡ªå®šä¹‰çš„`addCorsMappings(CorsRegistry)`æ–¹æ³•æ³¨å†Œ`WebMvcConfigurer` beanæ¥å®šä¹‰[å…¨å±€CORSé…ç½®](https://docs.spring.io/spring/docs/5.1.3.RELEASE/spring-framework-reference/web.html#global-cors-configuration)ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
_@Configuration_
public class MyConfiguration {

	_@Bean_
	public WebMvcConfigurer corsConfigurer() {
		return new WebMvcConfigurer() {
			_@Override_
			public void addCorsMappings(CorsRegistry registry) {
				registry.addMapping("/api/**");
			}
		};
	}
}
```

28.2â€œSpring WebFluxæ¡†æ¶â€
----------------------

Spring WebFluxæ˜¯Spring Framework 5.0ä¸­å¼•å…¥çš„æ–°çš„å“åº”å¼Webæ¡†æ¶ã€‚ä¸Spring MVCä¸åŒï¼Œå®ƒä¸éœ€è¦Servlet APIï¼Œå®Œå…¨å¼‚æ­¥ä¸”æ— é˜»å¡ï¼Œå¹¶ é€šè¿‡[Reactoré¡¹ç›®](https://projectreactor.io/)å®ç°[Reactive Streams](http://www.reactive-streams.org/)è§„èŒƒã€‚[](https://projectreactor.io/)

Spring WebFluxæœ‰ä¸¤ç§ç‰ˆæœ¬ï¼šåŠŸèƒ½å’Œæ³¨é‡Šã€‚åŸºäºæ³¨é‡Šçš„æ³¨é‡Šéå¸¸æ¥è¿‘Spring MVCæ¨¡å‹ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
_@RestController_
_@RequestMapping("/users")_
public class MyRestController {

	_@GetMapping("/{user}")_
	public Mono<User> getUser(_@PathVariable_ Long user) {
		// ...
	}

	_@GetMapping("/{user}/customers")_
	public Flux<Customer> getUserCustomers(_@PathVariable_ Long user) {
		// ...
	}

	_@DeleteMapping("/{user}")_
	public Mono<User> deleteUser(_@PathVariable_ Long user) {
		// ...
	}

}
```

â€œWebFlux.fnâ€æ˜¯åŠŸèƒ½å˜ä½“ï¼Œå®ƒå°†è·¯ç”±é…ç½®ä¸è¯·æ±‚çš„å®é™…å¤„ç†åˆ†å¼€ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
_@Configuration_
public class RoutingConfiguration {

	_@Bean_
	public RouterFunction<ServerResponse> monoRouterFunction(UserHandler userHandler) {
		return route(GET("/{user}").and(accept(APPLICATION_JSON)), userHandler::getUser)
				.andRoute(GET("/{user}/customers").and(accept(APPLICATION_JSON)), userHandler::getUserCustomers)
				.andRoute(DELETE("/{user}").and(accept(APPLICATION_JSON)), userHandler::deleteUser);
	}

}

_@Component_
public class UserHandler {

	public Mono<ServerResponse> getUser(ServerRequest request) {
		// ...
	}

	public Mono<ServerResponse> getUserCustomers(ServerRequest request) {
		// ...
	}

	public Mono<ServerResponse> deleteUser(ServerRequest request) {
		// ...
	}
}
```

WebFluxæ˜¯Springæ¡†æ¶çš„ä¸€éƒ¨åˆ†ï¼Œè¯¦ç»†ä¿¡æ¯å¯åœ¨å…¶ [å‚è€ƒæ–‡æ¡£ä¸­æ‰¾åˆ°](https://docs.spring.io/spring/docs/5.1.3.RELEASE/spring-framework-reference/web-reactive.html#webflux-fn)ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æ‚¨å¯ä»¥æ ¹æ®éœ€è¦å®šä¹‰å°½å¯èƒ½å¤šçš„<code class="literal" i="1015">RouterFunction</code> beansæ¥æ¨¡å—åŒ–è·¯ç”±å™¨çš„å®šä¹‰ã€‚å¦‚æœæ‚¨éœ€è¦åº”ç”¨ä¼˜å…ˆçº§ï¼Œå¯ä»¥è®¢è´­Beansã€‚</p></td></tr></tbody></table>

è¦å¼€å§‹ä½¿ç”¨ï¼Œè¯·å°†`spring-boot-starter-webflux`æ¨¡å—æ·»åŠ åˆ°æ‚¨çš„åº”ç”¨ç¨‹åºä¸­ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>åœ¨æ‚¨çš„åº”ç”¨ç¨‹åºä¸­æ·»åŠ <code class="literal" i="1017">spring-boot-starter-web</code>å’Œ<code class="literal" i="1018">spring-boot-starter-webflux</code>æ¨¡å—ä¼šå¯¼è‡´Spring Bootè‡ªåŠ¨é…ç½®Spring MVCï¼Œè€Œä¸æ˜¯WebFluxã€‚é€‰æ‹©æ­¤è¡Œä¸ºæ˜¯å› ä¸ºè®¸å¤šSpringå¼€å‘äººå‘˜å°†<code class="literal" i="1019">spring-boot-starter-webflux</code>æ·»åŠ åˆ°ä»–ä»¬çš„Spring MVCåº”ç”¨ç¨‹åºä»¥ä½¿ç”¨è¢«åŠ¨<code class="literal" i="1020">WebClient</code>ã€‚æ‚¨ä»ç„¶å¯ä»¥é€šè¿‡å°†æ‰€é€‰åº”ç”¨ç¨‹åºç±»å‹è®¾ç½®ä¸º<code class="literal" i="1021">SpringApplication.setWebApplicationType(WebApplicationType.REACTIVE)</code>æ¥å¼ºåˆ¶æ‰§è¡Œæ‚¨çš„é€‰æ‹©ã€‚</p></td></tr></tbody></table>

### 28.2.1 Spring WebFluxè‡ªåŠ¨é…ç½®

Spring Bootä¸ºSpring WebFluxæä¾›è‡ªåŠ¨é…ç½®ï¼Œé€‚ç”¨äºå¤§å¤šæ•°åº”ç”¨ç¨‹åºã€‚

è‡ªåŠ¨é…ç½®åœ¨Springçš„é»˜è®¤å€¼ä¹‹ä¸Šæ·»åŠ äº†ä»¥ä¸‹åŠŸèƒ½ï¼š

*   ä¸º`HttpMessageReader`å’Œ`HttpMessageWriter`å®ä¾‹é…ç½®ç¼–è§£ç å™¨ï¼ˆ [æœ¬æ–‡æ¡£åé¢ä¼šä»‹ç»](#boot-features-webflux-httpcodecs "28.2.2å¸¦æœ‰HttpMessageReaderså’ŒHttpMessageWritersçš„HTTPç¼–è§£ç å™¨")ï¼‰ã€‚
*   æ”¯æŒæä¾›é™æ€èµ„æºï¼ŒåŒ…æ‹¬å¯¹WebJarsçš„æ”¯æŒï¼ˆ [æœ¬æ–‡æ¡£åé¢å°†ä»‹ç»](#boot-features-spring-mvc-static-content "28.1.5é™æ€å†…å®¹")ï¼‰ã€‚

å¦‚æœä½ æƒ³ä¿ç•™Spring Boot WebFluxåŠŸèƒ½ï¼Œå¹¶ä¸”æƒ³è¦æ·»åŠ é¢å¤–çš„ [WebFluxé…ç½®](https://docs.spring.io/spring/docs/5.1.3.RELEASE/spring-framework-reference/web.html#web-reactive)ï¼Œä½ å¯ä»¥æ·»åŠ è‡ªå·±çš„`@Configuration`ç±»`WebFluxConfigurer`ä½†**æ²¡æœ‰** `@EnableWebFlux`ã€‚

å¦‚æœæ‚¨æƒ³å®Œå…¨æ§åˆ¶Spring WebFluxï¼Œå¯ä»¥ä½¿ç”¨`@EnableWebFlux`æ·»åŠ è‡ªå·±çš„`@Configuration`æ³¨é‡Šã€‚

### 28.2.2å¸¦æœ‰HttpMessageReaderså’ŒHttpMessageWritersçš„HTTPç¼–è§£ç å™¨

Spring WebFluxä½¿ç”¨`HttpMessageReader`å’Œ`HttpMessageWriter`æ¥å£è½¬æ¢HTTPè¯·æ±‚å’Œå“åº”ã€‚é€šè¿‡æŸ¥çœ‹ç±»è·¯å¾„ä¸­å¯ç”¨çš„åº“ï¼Œå®ƒä»¬é…ç½®ä¸º`CodecConfigurer`ä»¥å…·æœ‰åˆç†çš„é»˜è®¤å€¼ã€‚

Spring Booté€šè¿‡ä½¿ç”¨`CodecCustomizer`å®ä¾‹è¿›ä¸€æ­¥è‡ªå®šä¹‰ã€‚ä¾‹å¦‚ï¼Œ`spring.jackson.*`é…ç½®å¯†é’¥åº”ç”¨äºJacksonç¼–è§£ç å™¨ã€‚

å¦‚æœéœ€è¦æ·»åŠ æˆ–è‡ªå®šä¹‰ç¼–è§£ç å™¨ï¼Œå¯ä»¥åˆ›å»ºè‡ªå®šä¹‰`CodecCustomizer`ç»„ä»¶ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
import org.springframework.boot.web.codec.CodecCustomizer;

_@Configuration_
public class MyConfiguration {

	_@Bean_
	public CodecCustomizer myCodecCustomizer() {
		return codecConfigurer -> {
			// ...
		}
	}

}
```

æ‚¨è¿˜å¯ä»¥åˆ©ç”¨[Bootçš„è‡ªå®šä¹‰JSONåºåˆ—åŒ–ç¨‹åºå’Œååºåˆ—åŒ–ç¨‹åº](#boot-features-json-components "28.1.3è‡ªå®šä¹‰JSONåºåˆ—åŒ–ç¨‹åºå’Œååºåˆ—åŒ–ç¨‹åº")ã€‚

### 28.2.3é™æ€å†…å®¹

é»˜è®¤æƒ…å†µä¸‹ï¼ŒSpring Bootä»ç±»è·¯å¾„ä¸­åä¸º`/static`ï¼ˆæˆ–`/public`æˆ–`/resources`æˆ–`/META-INF/resources`ï¼‰çš„ç›®å½•ä¸­æä¾›é™æ€å†…å®¹ã€‚å®ƒä½¿ç”¨æ¥è‡ªSpring WebFluxçš„`ResourceWebHandler`ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥é€šè¿‡æ·»åŠ è‡ªå·±çš„`WebFluxConfigurer`å¹¶è¦†ç›–`addResourceHandlers`æ–¹æ³•æ¥ä¿®æ”¹è¯¥è¡Œä¸ºã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼Œèµ„æºæ˜ å°„åˆ°`/**`ï¼Œä½†æ‚¨å¯ä»¥é€šè¿‡è®¾ç½®`spring.webflux.static-path-pattern`å±æ€§æ¥è°ƒæ•´å®ƒã€‚ä¾‹å¦‚ï¼Œå°†æ‰€æœ‰èµ„æºé‡æ–°å®šä½åˆ°`/resources/**`å¯ä»¥å®ç°å¦‚ä¸‹ï¼š

```
spring.webflux.static-path-pattern=/resources/**
```

æ‚¨è¿˜å¯ä»¥ä½¿ç”¨`spring.resources.static-locations`è‡ªå®šä¹‰é™æ€èµ„æºä½ç½®ã€‚è¿™æ ·åšä¼šå°†é»˜è®¤å€¼æ›¿æ¢ä¸ºç›®å½•ä½ç½®åˆ—è¡¨ã€‚å¦‚æœè¿™æ ·åšï¼Œé»˜è®¤çš„æ¬¢è¿é¡µé¢æ£€æµ‹ä¼šåˆ‡æ¢åˆ°æ‚¨çš„è‡ªå®šä¹‰ä½ç½®ã€‚å› æ­¤ï¼Œå¦‚æœæ‚¨åœ¨å¯åŠ¨æ—¶çš„ä»»ä½•ä½ç½®éƒ½æœ‰`index.html`ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯åº”ç”¨ç¨‹åºçš„ä¸»é¡µã€‚

é™¤äº†å‰é¢åˆ—å‡ºçš„â€œæ ‡å‡†â€é™æ€èµ„æºä½ç½®ä¹‹å¤–ï¼Œè¿˜ä¸º[Webjarså†…å®¹](https://www.webjars.org/)åˆ¶ä½œäº†ä¸€ä¸ªç‰¹ä¾‹ã€‚å¦‚æœæ–‡ä»¶ä»¥Webjarsæ ¼å¼æ‰“åŒ…ï¼Œé‚£ä¹ˆå…·æœ‰`/webjars/**`ä¸­è·¯å¾„çš„ä»»ä½•èµ„æºéƒ½å°†ä»jaræ–‡ä»¶ä¸­æä¾›ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>Spring WebFluxåº”ç”¨ç¨‹åºå¹¶ä¸ä¸¥æ ¼ä¾èµ–äºServlet APIï¼Œå› æ­¤å®ƒä»¬ä¸èƒ½ä½œä¸ºwaræ–‡ä»¶éƒ¨ç½²ï¼Œä¹Ÿä¸èƒ½ä½¿ç”¨<code class="literal" i="1048">src/main/webapp</code>ç›®å½•ã€‚</p></td></tr></tbody></table>

### 28.2.4æ¨¡æ¿å¼•æ“

é™¤REST WebæœåŠ¡å¤–ï¼Œæ‚¨è¿˜å¯ä»¥ä½¿ç”¨Spring WebFluxæ¥æä¾›åŠ¨æ€HTMLå†…å®¹ã€‚Spring WebFluxæ”¯æŒå„ç§æ¨¡æ¿æŠ€æœ¯ï¼ŒåŒ…æ‹¬Thymeleafï¼ŒFreeMarkerå’ŒMustacheã€‚

Spring BootåŒ…æ‹¬å¯¹ä»¥ä¸‹æ¨¡æ¿å¼•æ“çš„è‡ªåŠ¨é…ç½®æ”¯æŒï¼š

*   [FreeMarkerçš„](https://freemarker.apache.org/docs/)
*   [Thymeleaf](http://www.thymeleaf.org)
*   [èƒ¡å­](https://mustache.github.io/)

å½“æ‚¨ä½¿ç”¨å…¶ä¸­ä¸€ä¸ªæ¨¡æ¿å¼•æ“å’Œé»˜è®¤é…ç½®æ—¶ï¼Œæ‚¨çš„æ¨¡æ¿å°†ä»`src/main/resources/templates`è‡ªåŠ¨è·å–ã€‚

### 28.2.5é”™è¯¯å¤„ç†

Spring Bootæä¾›`WebExceptionHandler`ä»¥åˆç†çš„æ–¹å¼å¤„ç†æ‰€æœ‰é”™è¯¯ã€‚å®ƒåœ¨å¤„ç†é¡ºåºä¸­çš„ä½ç½®ç´§æ¥åœ¨WebFluxæä¾›çš„å¤„ç†ç¨‹åºä¹‹å‰ï¼Œè¿™è¢«è®¤ä¸ºæ˜¯æœ€åçš„ã€‚å¯¹äºè®¡ç®—æœºå®¢æˆ·ç«¯ï¼Œå®ƒä¼šç”Ÿæˆä¸€ä¸ªJSONå“åº”ï¼Œå…¶ä¸­åŒ…å«é”™è¯¯ï¼ŒHTTPçŠ¶æ€å’Œå¼‚å¸¸æ¶ˆæ¯çš„è¯¦ç»†ä¿¡æ¯ã€‚å¯¹äºæµè§ˆå™¨å®¢æˆ·ç«¯ï¼Œæœ‰ä¸€ä¸ªâ€œwhitelabelâ€é”™è¯¯å¤„ç†ç¨‹åºï¼Œå®ƒä»¥HTMLæ ¼å¼å‘ˆç°ç›¸åŒçš„æ•°æ®ã€‚æ‚¨è¿˜å¯ä»¥æä¾›è‡ªå·±çš„HTMLæ¨¡æ¿æ¥æ˜¾ç¤ºé”™è¯¯ï¼ˆè¯·å‚é˜… [ä¸‹ä¸€èŠ‚](#boot-features-webflux-error-handling-custom-error-pages "è‡ªå®šä¹‰é”™è¯¯é¡µé¢")ï¼‰ã€‚

è‡ªå®šä¹‰æ­¤åŠŸèƒ½çš„ç¬¬ä¸€æ­¥é€šå¸¸æ¶‰åŠä½¿ç”¨ç°æœ‰æœºåˆ¶ï¼Œä½†æ›¿æ¢æˆ–æ‰©å……é”™è¯¯å†…å®¹ã€‚ä¸ºæ­¤ï¼Œæ‚¨å¯ä»¥æ·»åŠ beanç±»å‹`ErrorAttributes`ã€‚

è¦æ›´æ”¹é”™è¯¯å¤„ç†è¡Œä¸ºï¼Œæ‚¨å¯ä»¥å®ç°`ErrorWebExceptionHandler`å¹¶æ³¨å†Œè¯¥ç±»å‹çš„beanå®šä¹‰ã€‚å› ä¸º`WebExceptionHandler`éå¸¸ä½çº§ï¼ŒSpring Bootè¿˜æä¾›äº†ä¸€ä¸ªæ–¹ä¾¿çš„`AbstractErrorWebExceptionHandler`æ¥è®©ä½ ä»¥WebFluxå‡½æ•°æ–¹å¼å¤„ç†é”™è¯¯ï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤ºï¼š

```
public class CustomErrorWebExceptionHandler extends AbstractErrorWebExceptionHandler {

	// Define constructor here

	_@Override_
	protected RouterFunction<ServerResponse> getRoutingFunction(ErrorAttributes errorAttributes) {

		return RouterFunctions
				.route(aPredicate, aHandler)
				.andRoute(anotherPredicate, anotherHandler);
	}

}
```

è¦è·å¾—æ›´å®Œæ•´çš„å›¾ç‰‡ï¼Œæ‚¨è¿˜å¯ä»¥ç›´æ¥ç»§æ‰¿`DefaultErrorWebExceptionHandler`å¹¶è¦†ç›–ç‰¹å®šæ–¹æ³•ã€‚

#### è‡ªå®šä¹‰é”™è¯¯é¡µé¢

å¦‚æœè¦æ˜¾ç¤ºç»™å®šçŠ¶æ€ä»£ç çš„è‡ªå®šä¹‰HTMLé”™è¯¯é¡µé¢ï¼Œå¯ä»¥å°†æ–‡ä»¶æ·»åŠ åˆ°`/error`æ–‡ä»¶å¤¹ã€‚é”™è¯¯é¡µé¢å¯ä»¥æ˜¯é™æ€HTMLï¼ˆå³ï¼Œæ·»åŠ åˆ°ä»»ä½•é™æ€èµ„æºæ–‡ä»¶å¤¹ä¸‹ï¼‰æˆ–ä½¿ç”¨æ¨¡æ¿æ„å»ºã€‚æ–‡ä»¶ååº”è¯¥æ˜¯ç¡®åˆ‡çš„çŠ¶æ€ä»£ç æˆ–ç³»åˆ—æ©ç ã€‚

ä¾‹å¦‚ï¼Œè¦å°†`404`æ˜ å°„åˆ°é™æ€HTMLæ–‡ä»¶ï¼Œæ‚¨çš„æ–‡ä»¶å¤¹ç»“æ„å°†å¦‚ä¸‹æ‰€ç¤ºï¼š

```
src/
 +- main/
     +- java/
     |   + <source code>
     +- resources/
         +- public/
             +- error/
             |   +- 404.html
             +- <other public assets>
```

è¦ä½¿ç”¨Mustacheæ¨¡æ¿æ˜ å°„æ‰€æœ‰`5xx`é”™è¯¯ï¼Œæ‚¨çš„æ–‡ä»¶å¤¹ç»“æ„å¦‚ä¸‹ï¼š

```
src/
 +- main/
     +- java/
     |   + <source code>
     +- resources/
         +- templates/
             +- error/
             |   +- 5xx.mustache
             +- <other templates>
```

### 28.2.6 Webè¿‡æ»¤å™¨

Spring WebFluxæä¾›äº†ä¸€ä¸ª`WebFilter`æ¥å£ï¼Œå¯ä»¥å®ç°è¿‡æ»¤HTTPè¯·æ±‚ - å“åº”äº¤æ¢ã€‚åœ¨åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ä¸­æ‰¾åˆ°çš„`WebFilter` beanså°†è‡ªåŠ¨ç”¨äºè¿‡æ»¤æ¯ä¸ªäº¤æ¢ã€‚

å¦‚æœè¿‡æ»¤å™¨çš„é¡ºåºå¾ˆé‡è¦ï¼Œåˆ™å¯ä»¥å®ç°`Ordered`æˆ–ä½¿ç”¨`@Order`è¿›è¡Œæ³¨é‡Šã€‚Spring Bootè‡ªåŠ¨é…ç½®å¯ä»¥ä¸ºæ‚¨é…ç½®Webè¿‡æ»¤å™¨ã€‚æ‰§è¡Œæ­¤æ“ä½œæ—¶ï¼Œå°†ä½¿ç”¨ä¸‹è¡¨ä¸­æ˜¾ç¤ºçš„è®¢å•ï¼š

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">ç½‘ç»œè¿‡æ»¤å™¨</th><th style="border-bottom: 1px solid ; " align="left" valign="top">è®¢è´­</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">MetricsWebFilter</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">Ordered.HIGHEST_PRECEDENCE + 1</code></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">WebFilterChainProxy</code> (Spring Security)</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">-100</code></p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">HttpTraceWebFilter</code></p></td><td style="" align="left" valign="top" class="notranslate"><p><code class="literal">Ordered.LOWEST_PRECEDENCE - 10</code></p></td></tr></tbody></table>

28.3 JAX-RSå’ŒJersey
------------------

å¦‚æœæ‚¨æ›´å–œæ¬¢RESTç«¯ç‚¹çš„JAX-RSç¼–ç¨‹æ¨¡å‹ï¼Œåˆ™å¯ä»¥ä½¿ç”¨å…¶ä¸­ä¸€ä¸ªå¯ç”¨çš„å®ç°è€Œä¸æ˜¯Spring MVCã€‚[Jersey](https://jersey.github.io/)å’Œ [Apache CXF](https://cxf.apache.org/)å¼€ç®±å³ç”¨ã€‚CXFè¦æ±‚æ‚¨åœ¨åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ä¸­å°†`Servlet`æˆ–`Filter`æ³¨å†Œä¸º`@Bean`ã€‚Jerseyå…·æœ‰ä¸€äº›æœ¬åœ°Springæ”¯æŒï¼Œå› æ­¤æˆ‘ä»¬è¿˜åœ¨Spring Bootä¸­ä¸ºå…¶æä¾›äº†è‡ªåŠ¨é…ç½®æ”¯æŒä»¥åŠå¯åŠ¨å™¨ã€‚

è¦å¼€å§‹ä½¿ç”¨Jerseyï¼Œè¯·å°†`spring-boot-starter-jersey`ä½œä¸ºä¾èµ–é¡¹åŒ…å«åœ¨å†…ï¼Œç„¶åéœ€è¦ä¸€ä¸ª`@Bean`ç±»å‹`ResourceConfig`ï¼Œåœ¨å…¶ä¸­æ³¨å†Œæ‰€æœ‰ç«¯ç‚¹ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
_@Component_
public class JerseyConfig extends ResourceConfig {

	public JerseyConfig() {
		register(Endpoint.class);
	}

}
```

<table border="0" summary="Warning"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[è­¦å‘Š]" src="images/warning.png"></td><th align="left">è­¦å‘Š</th></tr><tr><td align="left" valign="top"><p>Jerseyå¯¹æ‰«æå¯æ‰§è¡Œæ¡£æ¡ˆçš„æ”¯æŒç›¸å½“æœ‰é™ã€‚ä¾‹å¦‚ï¼Œå®ƒæ— æ³•æ‰«æ<a class="link" href="#deployment-install" title="64.å®‰è£…Spring Bootåº”ç”¨ç¨‹åº">å®Œå…¨å¯æ‰§è¡Œjaræ–‡ä»¶</a>ä¸­çš„åŒ…ä¸­çš„ç«¯ç‚¹ï¼Œä¹Ÿæ— æ³•åœ¨è¿è¡Œå¯æ‰§è¡Œwaræ–‡ä»¶æ—¶æ‰«æ<code class="literal" i="1069">WEB-INF/classes</code>ä¸­çš„ç«¯ç‚¹ã€‚ä¸ºé¿å…æ­¤é™åˆ¶ï¼Œä¸åº”ä½¿ç”¨<code class="literal" i="1070">packages</code>æ–¹æ³•ï¼Œå¹¶ä¸”åº”ä½¿ç”¨<code class="literal" i="1071">register</code>æ–¹æ³•å•ç‹¬æ³¨å†Œç«¯ç‚¹ï¼Œå¦‚ä¸Šä¾‹æ‰€ç¤ºã€‚</p></td></tr></tbody></table>

å¯¹äºæ›´é«˜çº§çš„è‡ªå®šä¹‰ï¼Œæ‚¨è¿˜å¯ä»¥æ³¨å†Œå®ç°`ResourceConfigCustomizer`çš„ä»»æ„æ•°é‡çš„beansã€‚

æ‰€æœ‰å·²æ³¨å†Œçš„ç«¯ç‚¹éƒ½åº”ä¸º`@Components`ï¼Œå¹¶å¸¦æœ‰HTTPèµ„æºæ³¨é‡Šï¼ˆ`@GET`å’Œå…¶ä»–ï¼‰ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
_@Component_
_@Path("/hello")_
public class Endpoint {

	_@GET_
	public String message() {
		return "Hello";
	}

}
```

ç”±äº`Endpoint`æ˜¯Spring `@Component`ï¼Œå…¶ç”Ÿå‘½å‘¨æœŸç”±Springç®¡ç†ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨`@Autowired`æ³¨é‡Šæ³¨å…¥ä¾èµ–é¡¹å¹¶ä½¿ç”¨`@Value`æ³¨é‡Šæ³¨å…¥å¤–éƒ¨ç»„æ€ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒJersey servletå·²æ³¨å†Œå¹¶æ˜ å°„åˆ°`/*`ã€‚æ‚¨å¯ä»¥é€šè¿‡å°†`@ApplicationPath`æ·»åŠ åˆ°`ResourceConfig`æ¥æ›´æ”¹æ˜ å°„ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼ŒJerseyè®¾ç½®ä¸ºåä¸º`jerseyServletRegistration`çš„`ServletRegistrationBean`ç±»å‹çš„`@Bean`ä¸­çš„Servletã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œservletæ˜¯æ‡’æƒ°åœ°åˆå§‹åŒ–çš„ï¼Œä½†æ‚¨å¯ä»¥é€šè¿‡è®¾ç½®`spring.jersey.servlet.load-on-startup`æ¥è‡ªå®šä¹‰è¯¥è¡Œä¸ºã€‚æ‚¨å¯ä»¥é€šè¿‡åˆ›å»ºä¸€ä¸ªå…·æœ‰ç›¸åŒåç§°çš„è‡ªå·±æ¥ç¦ç”¨æˆ–è¦†ç›–beanã€‚æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡è®¾ç½®`spring.jersey.type=filter`æ¥ä½¿ç”¨è¿‡æ»¤å™¨è€Œä¸æ˜¯servletï¼ˆåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¦æ›¿æ¢æˆ–è¦†ç›–çš„`@Bean`ä¸º`jerseyFilterRegistration`ï¼‰ã€‚è¿‡æ»¤å™¨çš„`@Order`ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨`spring.jersey.filter.order`è¿›è¡Œè®¾ç½®ã€‚é€šè¿‡ä½¿ç”¨`spring.jersey.init.*`æŒ‡å®šå±æ€§æ˜ å°„ï¼Œå¯ä»¥ä¸ºservletå’Œè¿‡æ»¤å™¨æ³¨å†Œæä¾›initå‚æ•°ã€‚

æœ‰ä¸€ä¸ª[Jerseyæ ·æœ¬ï¼Œ](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-samples/spring-boot-sample-jersey)ä»¥ä¾¿æ‚¨å¯ä»¥çœ‹åˆ°å¦‚ä½•è®¾ç½®ã€‚

28.4åµŒå…¥å¼Servletå®¹å™¨æ”¯æŒ
------------------

Spring BootåŒ…æ‹¬å¯¹åµŒå…¥å¼[Tomcat](https://tomcat.apache.org/)ï¼Œ [Jetty](https://www.eclipse.org/jetty/)å’Œ[Undertow](http://undertow.io/)æœåŠ¡å™¨çš„æ”¯æŒã€‚å¤§å¤šæ•°å¼€å‘äººå‘˜ä½¿ç”¨é€‚å½“çš„â€œStarterâ€æ¥è·å–å®Œå…¨é…ç½®çš„å®ä¾‹ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒåµŒå…¥å¼æœåŠ¡å™¨ä¾¦å¬ç«¯å£`8080`ä¸Šçš„HTTPè¯·æ±‚ã€‚

<table border="0" summary="Warning"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[è­¦å‘Š]" src="images/warning.png"></td><th align="left">è­¦å‘Š</th></tr><tr><td align="left" valign="top"><p>å¦‚æœæ‚¨é€‰æ‹©åœ¨<a class="link" href="https://www.centos.org/" target="_top">CentOS</a>ä¸Šä½¿ç”¨Tomcat ï¼Œè¯·æ³¨æ„ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œä¸´æ—¶ç›®å½•ç”¨äºå­˜å‚¨å·²ç¼–è¯‘çš„JSPï¼Œæ–‡ä»¶ä¸Šè½½ç­‰ã€‚å½“æ‚¨çš„åº”ç”¨ç¨‹åºè¿è¡Œæ—¶ï¼Œ<code class="literal" i="1093">tmpwatch</code>å¯èƒ½ä¼šåˆ é™¤æ­¤ç›®å½•ï¼Œä»è€Œå¯¼è‡´å¤±è´¥ã€‚è¦é¿å…æ­¤è¡Œä¸ºï¼Œæ‚¨å¯èƒ½å¸Œæœ›è‡ªå®šä¹‰<code class="literal" i="1094">tmpwatch</code>é…ç½®ï¼Œä»¥ä¾¿ä¸åˆ é™¤<code class="literal" i="1095">tomcat.*</code>ç›®å½•æˆ–é…ç½®<code class="literal" i="1096">server.tomcat.basedir</code>ï¼Œä»¥ä¾¿åµŒå…¥å¼Tomcatä½¿ç”¨ä¸åŒçš„ä½ç½®ã€‚</p></td></tr></tbody></table>

### 28.4.1 Servletï¼Œè¿‡æ»¤å™¨å’Œç›‘å¬å™¨

ä½¿ç”¨åµŒå…¥å¼servletå®¹å™¨æ—¶ï¼Œå¯ä»¥ä½¿ç”¨Spring beansæˆ–æ‰«æServletç»„ä»¶ï¼Œä»Servletè§„èŒƒä¸­æ³¨å†Œservletï¼Œè¿‡æ»¤å™¨å’Œæ‰€æœ‰ä¾¦å¬å™¨ï¼ˆä¾‹å¦‚`HttpSessionListener`ï¼‰ã€‚

#### æ³¨å†ŒServletï¼Œè¿‡æ»¤å™¨å’Œç›‘å¬å™¨Spring Beans

åœ¨åµŒå…¥å¼å®¹å™¨ä¸­æ³¨å†Œäº†Spring beançš„ä»»ä½•`Servlet`ï¼Œ`Filter`æˆ–servlet `*Listener`å®ä¾‹ã€‚å¦‚æœè¦åœ¨é…ç½®æœŸé—´å¼•ç”¨`application.properties`ä¸­çš„å€¼ï¼Œè¿™å¯èƒ½ç‰¹åˆ«æ–¹ä¾¿ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœä¸Šä¸‹æ–‡ä»…åŒ…å«ä¸€ä¸ªServletï¼Œåˆ™å®ƒå°†æ˜ å°„åˆ°`/`ã€‚åœ¨å¤šä¸ªservlet beansçš„æƒ…å†µä¸‹ï¼Œbeanåç§°ç”¨ä½œè·¯å¾„å‰ç¼€ã€‚è¿‡æ»¤å™¨æ˜ å°„åˆ°`/*`ã€‚

å¦‚æœåŸºäºçº¦å®šçš„æ˜ å°„ä¸å¤Ÿçµæ´»ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨`ServletRegistrationBean`ï¼Œ`FilterRegistrationBean`å’Œ`ServletListenerRegistrationBean`ç±»è¿›è¡Œå®Œå…¨æ§åˆ¶ã€‚

Spring Booté™„å¸¦äº†è®¸å¤šå¯ä»¥å®šä¹‰Filter beansçš„è‡ªåŠ¨é…ç½®ã€‚ä»¥ä¸‹æ˜¯è¿‡æ»¤å™¨åŠå…¶å„è‡ªé¡ºåºçš„ä¸€äº›ç¤ºä¾‹ï¼ˆè¾ƒä½çš„é¡ºåºå€¼è¡¨ç¤ºè¾ƒé«˜çš„ä¼˜å…ˆçº§ï¼‰ï¼š

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">Servletè¿‡æ»¤å™¨</th><th style="border-bottom: 1px solid ; " align="left" valign="top">è®¢è´­</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">OrderedCharacterEncodingFilter</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">Ordered.HIGHEST_PRECEDENCE</code></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">WebMvcMetricsFilter</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">Ordered.HIGHEST_PRECEDENCE + 1</code></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">ErrorPageFilter</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">Ordered.HIGHEST_PRECEDENCE + 1</code></p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">HttpTraceFilter</code></p></td><td style="" align="left" valign="top" class="notranslate"><p><code class="literal">Ordered.LOWEST_PRECEDENCE - 10</code></p></td></tr></tbody></table>

å°†Filter beansæ— åºæ”¾ç½®é€šå¸¸æ˜¯å®‰å…¨çš„ã€‚

å¦‚æœéœ€è¦ç‰¹å®šè®¢å•ï¼Œåˆ™åº”é¿å…åœ¨`Ordered.HIGHEST_PRECEDENCE`å¤„é…ç½®è¯»å–è¯·æ±‚æ­£æ–‡çš„ç­›é€‰å™¨ï¼Œå› ä¸ºå®ƒå¯èƒ½è¿ååº”ç”¨ç¨‹åºçš„å­—ç¬¦ç¼–ç é…ç½®ã€‚å¦‚æœServletè¿‡æ»¤å™¨åŒ…è£…è¯·æ±‚ï¼Œåˆ™åº”ä½¿ç”¨å°äºæˆ–ç­‰äº`OrderedFilter.REQUEST_WRAPPER_FILTER_MAX_ORDER`çš„é¡ºåºè¿›è¡Œé…ç½®ã€‚

### 28.4.2 Servletä¸Šä¸‹æ–‡åˆå§‹åŒ–

åµŒå…¥å¼servletå®¹å™¨ä¸ç›´æ¥æ‰§è¡ŒServlet 3.0+ `javax.servlet.ServletContainerInitializer`æ¥å£æˆ–Springçš„`org.springframework.web.WebApplicationInitializer`æ¥å£ã€‚è¿™æ˜¯ä¸€é¡¹æœ‰æ„çš„è®¾è®¡å†³ç­–ï¼Œæ—¨åœ¨é™ä½è®¾è®¡åœ¨æˆ˜äº‰ä¸­è¿è¡Œçš„ç¬¬ä¸‰æ–¹å›¾ä¹¦é¦†å¯èƒ½ä¼šç ´åSpring Bootåº”ç”¨ç¨‹åºçš„é£é™©ã€‚

å¦‚æœéœ€è¦åœ¨Spring Bootåº”ç”¨ç¨‹åºä¸­æ‰§è¡Œservletä¸Šä¸‹æ–‡åˆå§‹åŒ–ï¼Œåˆ™åº”æ³¨å†Œå®ç°`org.springframework.boot.web.servlet.ServletContextInitializer`æ¥å£çš„beanã€‚å•`onStartup`æ–¹æ³•æä¾›å¯¹`ServletContext`çš„è®¿é—®ï¼Œå¦‚æœéœ€è¦ï¼Œå¯ä»¥å¾ˆå®¹æ˜“åœ°ç”¨ä½œç°æœ‰`WebApplicationInitializer`çš„é€‚é…å™¨ã€‚

#### æ‰«æServletï¼Œè¿‡æ»¤å™¨å’Œä¾¦å¬å™¨

ä½¿ç”¨åµŒå…¥å¼å®¹å™¨æ—¶ï¼Œå¯ä»¥ä½¿ç”¨`@ServletComponentScan`å¯ç”¨ä½¿ç”¨`@WebServlet`ï¼Œ`@WebFilter`å’Œ`@WebListener`æ³¨é‡Šçš„ç±»çš„è‡ªåŠ¨æ³¨å†Œã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p><code class="literal" i="1119">@ServletComponentScan</code>å¯¹ç‹¬ç«‹å®¹å™¨æ²¡æœ‰å½±å“ï¼Œå…¶ä¸­ä½¿ç”¨å®¹å™¨çš„å†…ç½®å‘ç°æœºåˆ¶ã€‚</p></td></tr></tbody></table>

### 28.4.3 ServletWebServerApplicationContext

åœ¨å¼•æ“ç›–ä¸‹ï¼ŒSpring Bootä½¿ç”¨ä¸åŒç±»å‹çš„`ApplicationContext`æ¥æ”¯æŒåµŒå…¥å¼servletå®¹å™¨ã€‚`ServletWebServerApplicationContext`æ˜¯`WebApplicationContext`çš„ä¸€ç§ç‰¹æ®Šç±»å‹ï¼Œå®ƒé€šè¿‡æœç´¢å•ä¸ª`ServletWebServerFactory` beanæ¥å¼•å¯¼è‡ªå·±ã€‚é€šå¸¸ä¼šè‡ªåŠ¨é…ç½®`TomcatServletWebServerFactory`ï¼Œ`JettyServletWebServerFactory`æˆ–`UndertowServletWebServerFactory`ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>æ‚¨é€šå¸¸ä¸éœ€è¦äº†è§£è¿™äº›å®ç°ç±»ã€‚å¤§å¤šæ•°åº”ç”¨ç¨‹åºéƒ½æ˜¯è‡ªåŠ¨é…ç½®çš„ï¼Œå¹¶ä¸”ä»£è¡¨æ‚¨åˆ›å»ºäº†ç›¸åº”çš„<code class="literal" i="1127">ApplicationContext</code>å’Œ<code class="literal" i="1128">ServletWebServerFactory</code>ã€‚</p></td></tr></tbody></table>

### 28.4.4è‡ªå®šä¹‰åµŒå…¥å¼Servletå®¹å™¨

å¯ä»¥ä½¿ç”¨Spring `Environment`å±æ€§é…ç½®å…¬å…±servletå®¹å™¨è®¾ç½®ã€‚é€šå¸¸ï¼Œæ‚¨å°†åœ¨`application.properties`æ–‡ä»¶ä¸­å®šä¹‰å±æ€§ã€‚

å¸¸ç”¨æœåŠ¡å™¨è®¾ç½®åŒ…æ‹¬ï¼š

*   ç½‘ç»œè®¾ç½®ï¼šä¾¦å¬ä¼ å…¥HTTPè¯·æ±‚çš„ç«¯å£ï¼ˆ`server.port`ï¼‰ï¼Œç»‘å®šåˆ°`server.address`çš„æ¥å£åœ°å€ï¼Œä¾æ­¤ç±»æ¨ã€‚
*   ä¼šè¯è®¾ç½®ï¼šä¼šè¯æ˜¯æŒä¹…çš„ï¼ˆ`server.servlet.session.persistence`ï¼‰ï¼Œä¼šè¯è¶…æ—¶ï¼ˆ`server.servlet.session.timeout`ï¼‰ï¼Œä¼šè¯æ•°æ®çš„ä½ç½®ï¼ˆ`server.servlet.session.store-dir`ï¼‰å’Œä¼šè¯cookieé…ç½®ï¼ˆ`server.servlet.session.cookie.*`ï¼‰ã€‚
*   é”™è¯¯ç®¡ç†ï¼šé”™è¯¯é¡µé¢çš„ä½ç½®ï¼ˆ`server.error.path`ï¼‰ç­‰ã€‚
*   [SSL](#howto-configure-ssl "78.7é…ç½®SSL")
*   [HTTPå‹ç¼©](#how-to-enable-http-response-compression "78.6å¯ç”¨HTTPå“åº”å‹ç¼©")

Spring Bootå°è¯•å°½å¯èƒ½å¤šåœ°æš´éœ²å¸¸è§è®¾ç½®ï¼Œä½†è¿™å¹¶éæ€»æ˜¯å¯è¡Œã€‚å¯¹äºè¿™äº›æƒ…å†µï¼Œä¸“ç”¨å‘½åç©ºé—´æä¾›ç‰¹å®šäºæœåŠ¡å™¨çš„è‡ªå®šä¹‰ï¼ˆè¯·å‚é˜…`server.tomcat`å’Œ`server.undertow`ï¼‰ã€‚ä¾‹å¦‚ï¼Œ å¯ä»¥ä½¿ç”¨åµŒå…¥å¼servletå®¹å™¨çš„ç‰¹å®šåŠŸèƒ½é…ç½®[è®¿é—®æ—¥å¿—](#howto-configure-accesslogs "78.11é…ç½®è®¿é—®æ—¥å¿—è®°å½•")ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>è¯·å‚é˜… <a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/ServerProperties.java" target="_top"><code class="literal">ServerProperties</code></a>è¯¾ç¨‹ä»¥è·å–å®Œæ•´åˆ—è¡¨ã€‚</p></td></tr></tbody></table>

#### ç¨‹åºåŒ–å®šåˆ¶

å¦‚æœéœ€è¦ä»¥ç¼–ç¨‹æ–¹å¼é…ç½®åµŒå…¥å¼servletå®¹å™¨ï¼Œå¯ä»¥æ³¨å†Œå®ç°`WebServerFactoryCustomizer`æ¥å£çš„Spring beanã€‚`WebServerFactoryCustomizer`æä¾›å¯¹`ConfigurableServletWebServerFactory`çš„è®¿é—®ï¼Œå…¶ä¸­åŒ…æ‹¬è®¸å¤šè‡ªå®šä¹‰setteræ–¹æ³•ã€‚ä»¥ä¸‹ç¤ºä¾‹ä»¥ç¼–ç¨‹æ–¹å¼è®¾ç½®ç«¯å£ï¼š

```
import org.springframework.boot.web.server.WebServerFactoryCustomizer;
import org.springframework.boot.web.servlet.server.ConfigurableServletWebServerFactory;
import org.springframework.stereotype.Component;

_@Component_
public class CustomizationBean implements WebServerFactoryCustomizer<ConfigurableServletWebServerFactory> {

	_@Override_
	public void customize(ConfigurableServletWebServerFactory server) {
		server.setPort(9000);
	}

}
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p><code class="literal" i="1143">TomcatServletWebServerFactory</code>ï¼Œ<code class="literal" i="1144">JettyServletWebServerFactory</code>å’Œ<code class="literal" i="1145">UndertowServletWebServerFactory</code>æ˜¯<code class="literal" i="1146">ConfigurableServletWebServerFactory</code>çš„ä¸“ç”¨å˜ä½“ï¼Œåˆ†åˆ«ä¸ºTomcatï¼ŒJettyå’ŒUndertowæä¾›äº†é¢å¤–çš„è‡ªå®šä¹‰setteræ–¹æ³•ã€‚</p></td></tr></tbody></table>

#### ç›´æ¥è‡ªå®šä¹‰ConfigurableServletWebServerFactory

å¦‚æœå‰é¢çš„è‡ªå®šä¹‰æŠ€æœ¯å¤ªæœ‰é™ï¼Œæ‚¨å¯ä»¥è‡ªå·±æ³¨å†Œ`TomcatServletWebServerFactory`ï¼Œ`JettyServletWebServerFactory`æˆ–`UndertowServletWebServerFactory` beanã€‚

```
_@Bean_
public ConfigurableServletWebServerFactory webServerFactory() {
	TomcatServletWebServerFactory factory = new TomcatServletWebServerFactory();
	factory.setPort(9000);
	factory.setSessionTimeout(10, TimeUnit.MINUTES);
	factory.addErrorPages(new ErrorPage(HttpStatus.NOT_FOUND, "/notfound.html"));
	return factory;
}
```

ä¸ºè®¸å¤šé…ç½®é€‰é¡¹æä¾›äº†Setterã€‚å¦‚æœæ‚¨éœ€è¦åšä¸€äº›æ›´å…·å¼‚å›½æƒ…è°ƒçš„äº‹æƒ…ï¼Œè¿˜ä¼šæä¾›ä¸€äº›å—ä¿æŠ¤çš„æ–¹æ³•â€œæŒ‚é’©â€ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… [æºä»£ç æ–‡æ¡£](https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/web/servlet/server/ConfigurableServletWebServerFactory.html)ã€‚

### 28.4.5 JSPé™åˆ¶

è¿è¡Œä½¿ç”¨åµŒå…¥å¼servletå®¹å™¨çš„Spring Bootåº”ç”¨ç¨‹åºï¼ˆå¹¶æ‰“åŒ…ä¸ºå¯æ‰§è¡Œå­˜æ¡£ï¼‰æ—¶ï¼ŒJSPæ”¯æŒå­˜åœ¨ä¸€äº›é™åˆ¶ã€‚

*   ä½¿ç”¨Jettyå’ŒTomcatï¼Œå¦‚æœä½¿ç”¨waråŒ…è£…ï¼Œå®ƒåº”è¯¥å¯ä»¥å·¥ä½œã€‚ä½¿ç”¨`java -jar`å¯åŠ¨æ—¶ï¼Œå¯æ‰§è¡Œæˆ˜äº‰å°†èµ·ä½œç”¨ï¼Œå¹¶ä¸”è¿˜å¯ä»¥éƒ¨ç½²åˆ°ä»»ä½•æ ‡å‡†å®¹å™¨ã€‚ä½¿ç”¨å¯æ‰§è¡Œjaræ—¶ä¸æ”¯æŒJSPã€‚
*   Undertowä¸æ”¯æŒJSPã€‚
*   åˆ›å»ºè‡ªå®šä¹‰`error.jsp`é¡µé¢ä¸ä¼šè¦†ç›–[é”™è¯¯å¤„ç†](#boot-features-error-handling "28.1.11é”™è¯¯å¤„ç†")çš„é»˜è®¤è§†å›¾ ã€‚ åº”è¯¥ä½¿ç”¨[è‡ªå®šä¹‰é”™è¯¯é¡µé¢](#boot-features-error-handling-custom-error-pages "è‡ªå®šä¹‰é”™è¯¯é¡µé¢")ã€‚

æœ‰ä¸€ä¸ª[JSPç¤ºä¾‹ï¼Œ](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-samples/spring-boot-sample-web-jsp)ä»¥ä¾¿æ‚¨å¯ä»¥çœ‹åˆ°å¦‚ä½•è®¾ç½®ã€‚

28.5åµŒå…¥å¼Reactive Serveræ”¯æŒ
------------------------

Spring BootåŒ…æ‹¬å¯¹ä»¥ä¸‹åµŒå…¥å¼å“åº”å¼WebæœåŠ¡å™¨çš„æ”¯æŒï¼šReactor Nettyï¼ŒTomcatï¼ŒJettyå’ŒUndertowã€‚å¤§å¤šæ•°å¼€å‘äººå‘˜ä½¿ç”¨é€‚å½“çš„â€œStarterâ€æ¥è·å–å®Œå…¨é…ç½®çš„å®ä¾‹ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒåµŒå…¥å¼æœåŠ¡å™¨åœ¨ç«¯å£8080ä¸Šä¾¦å¬HTTPè¯·æ±‚ã€‚

28.6 Reactive Serverèµ„æºé…ç½®
------------------------

åœ¨è‡ªåŠ¨é…ç½®Reactor Nettyæˆ–JettyæœåŠ¡å™¨æ—¶ï¼ŒSpring Bootå°†åˆ›å»ºç‰¹å®šçš„beansï¼Œå®ƒå°†ä¸ºæœåŠ¡å™¨å®ä¾‹æä¾›HTTPèµ„æºï¼š`ReactorResourceFactory`æˆ–`JettyResourceFactory`ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™äº›èµ„æºä¹Ÿå°†ä¸Reactor Nettyå’ŒJettyå®¢æˆ·ç«¯å…±äº«ä»¥è·å¾—æœ€ä½³æ€§èƒ½ï¼Œå…·ä½“å¦‚ä¸‹ï¼š

*   ç›¸åŒçš„æŠ€æœ¯ç”¨äºæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯
*   å®¢æˆ·ç«¯å®ä¾‹ä½¿ç”¨ç”±Spring Bootè‡ªåŠ¨é…ç½®çš„`WebClient.Builder` beanæ„å»º

å¼€å‘äººå‘˜å¯ä»¥é€šè¿‡æä¾›è‡ªå®šä¹‰`ReactorResourceFactory`æˆ–`JettyResourceFactory` beanè¦†ç›–Jettyå’ŒReactor Nettyçš„èµ„æºé…ç½® - è¿™å°†åº”ç”¨äºå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ã€‚

æ‚¨å¯ä»¥åœ¨[WebClient Runtimeéƒ¨åˆ†ä¸­](#boot-features-webclient-runtime "35.1 WebClientè¿è¡Œæ—¶")äº†è§£æœ‰å…³å®¢æˆ·ç«¯èµ„æºé…ç½®çš„æ›´å¤šä¿¡æ¯ ã€‚

29.å®‰å…¨
-----

å¦‚æœ[Springå®‰å…¨](https://projects.spring.io/spring-security/)æ€§åœ¨ç±»è·¯å¾„ä¸Šï¼Œåˆ™é»˜è®¤æƒ…å†µä¸‹Webåº”ç”¨ç¨‹åºæ˜¯å®‰å…¨çš„ã€‚Spring Bootä¾èµ–äºSpringå®‰å…¨æ€§çš„å†…å®¹åå•†ç­–ç•¥æ¥ç¡®å®šæ˜¯ä½¿ç”¨`httpBasic`è¿˜æ˜¯`formLogin`ã€‚è¦å‘Webåº”ç”¨ç¨‹åºæ·»åŠ æ–¹æ³•çº§å®‰å…¨æ€§ï¼Œæ‚¨è¿˜å¯ä»¥ä½¿ç”¨æ‰€éœ€è®¾ç½®æ·»åŠ `@EnableGlobalMethodSecurity`ã€‚å…¶ä»–ä¿¡æ¯å¯åœ¨ [Springå®‰å…¨å‚è€ƒæŒ‡å—ä¸­æ‰¾åˆ°](https://docs.spring.io/spring-security/site/docs/5.1.2.RELEASE/reference/htmlsingle#jc-method)ã€‚

é»˜è®¤`UserDetailsService`åªæœ‰ä¸€ä¸ªç”¨æˆ·ã€‚ç”¨æˆ·åä¸º`user`ï¼Œå¯†ç æ˜¯éšæœºçš„ï¼Œåœ¨åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶ä»¥INFOçº§åˆ«æ‰“å°ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
Using generated security password: 78fa095d-3f4c-48b1-ad50-e24c31d5cf35
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å¦‚æœæ‚¨å¯¹æ—¥å¿—è®°å½•é…ç½®è¿›è¡Œå¾®è°ƒï¼Œè¯·ç¡®ä¿å°†<code class="literal" i="1162">org.springframework.boot.autoconfigure.security</code>ç±»åˆ«è®¾ç½®ä¸ºè®°å½•<code class="literal" i="1163">INFO</code>çº§åˆ«çš„æ¶ˆæ¯ã€‚å¦åˆ™ï¼Œä¸ä¼šæ‰“å°é»˜è®¤å¯†ç ã€‚</p></td></tr></tbody></table>

æ‚¨å¯ä»¥é€šè¿‡æä¾›`spring.security.user.name`å’Œ`spring.security.user.password`æ¥æ›´æ”¹ç”¨æˆ·åå’Œå¯†ç ã€‚

æ‚¨åœ¨Webåº”ç”¨ç¨‹åºä¸­é»˜è®¤è·å¾—çš„åŸºæœ¬åŠŸèƒ½åŒ…æ‹¬ï¼š

*   `UserDetailsService`ï¼ˆå¯¹äºWebFluxåº”ç”¨ç¨‹åºï¼Œä¸º`ReactiveUserDetailsService`ï¼‰beanå…·æœ‰å†…å­˜å­˜å‚¨ï¼Œå•ä¸ªç”¨æˆ·å…·æœ‰ç”Ÿæˆçš„å¯†ç ï¼ˆè¯·å‚é˜… [`SecurityProperties.User`](https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/security/SecurityProperties.User.html) ç”¨æˆ·çš„å±æ€§ï¼‰ã€‚
*   åŸºäºè¡¨å•çš„ç™»å½•æˆ–HTTPåŸºæœ¬å®‰å…¨æ€§ï¼ˆå–å†³äºContent-Typeï¼‰ï¼Œç”¨äºæ•´ä¸ªåº”ç”¨ç¨‹åºï¼ˆå¦‚æœæ‰§è¡Œå™¨åœ¨ç±»è·¯å¾„ä¸Šï¼Œåˆ™åŒ…æ‹¬æ‰§è¡Œå™¨ç«¯ç‚¹ï¼‰ã€‚
*   ç”¨äºå‘å¸ƒèº«ä»½éªŒè¯äº‹ä»¶çš„`DefaultAuthenticationEventPublisher`ã€‚

æ‚¨å¯ä»¥ä¸ºå…¶æ·»åŠ beanæ¥æä¾›ä¸åŒçš„`AuthenticationEventPublisher`ã€‚

29.1 MVCå®‰å…¨æ€§
-----------

é»˜è®¤å®‰å…¨é…ç½®åœ¨`SecurityAutoConfiguration`å’Œ`UserDetailsServiceAutoConfiguration`ä¸­å®ç°ã€‚`SecurityAutoConfiguration`å¯¼å…¥ç”¨äºWebå®‰å…¨çš„`SpringBootWebSecurityConfiguration`å’Œç”¨äºé…ç½®èº«ä»½éªŒè¯çš„`UserDetailsServiceAutoConfiguration`ï¼Œè¿™åœ¨éWebåº”ç”¨ç¨‹åºä¸­ä¹Ÿæ˜¯ç›¸å…³çš„ã€‚è¦å®Œå…¨å…³é—­é»˜è®¤Webåº”ç”¨ç¨‹åºå®‰å…¨é…ç½®ï¼Œæ‚¨å¯ä»¥æ·»åŠ beanç±»å‹`WebSecurityConfigurerAdapter`ï¼ˆè¿™æ ·åšä¸ä¼šç¦ç”¨`UserDetailsService`é…ç½®æˆ–Actuatorçš„å®‰å…¨æ€§ï¼‰ã€‚

è¦åŒæ—¶å…³é—­`UserDetailsService`é…ç½®ï¼Œæ‚¨å¯ä»¥æ·»åŠ beanç±»å‹`UserDetailsService`ï¼Œ`AuthenticationProvider`æˆ–`AuthenticationManager`ã€‚[Spring Bootç¤ºä¾‹ä¸­](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-samples/)æœ‰å‡ ä¸ªå®‰å…¨åº”ç”¨ç¨‹åºå¯ä»¥å¸®åŠ©æ‚¨å¼€å§‹ä½¿ç”¨å¸¸è§ç”¨ä¾‹ã€‚

å¯ä»¥é€šè¿‡æ·»åŠ è‡ªå®šä¹‰`WebSecurityConfigurerAdapter`æ¥è¦†ç›–è®¿é—®è§„åˆ™ã€‚Spring Bootæä¾›äº†ä¾¿æ·æ–¹æ³•ï¼Œå¯ç”¨äºè¦†ç›–æ‰§è¡Œå™¨ç«¯ç‚¹å’Œé™æ€èµ„æºçš„è®¿é—®è§„åˆ™ã€‚`EndpointRequest`å¯ç”¨äºåˆ›å»ºåŸºäº`management.endpoints.web.base-path`å±æ€§çš„`RequestMatcher`ã€‚`PathRequest`å¯ç”¨äºä¸ºå¸¸ç”¨ä½ç½®çš„èµ„æºåˆ›å»º`RequestMatcher`ã€‚

29.2 WebFluxå®‰å…¨æ€§
---------------

ä¸Spring MVCåº”ç”¨ç¨‹åºç±»ä¼¼ï¼Œæ‚¨å¯ä»¥é€šè¿‡æ·»åŠ `spring-boot-starter-security`ä¾èµ–é¡¹æ¥ä¿æŠ¤WebFluxåº”ç”¨ç¨‹åºã€‚é»˜è®¤å®‰å…¨é…ç½®åœ¨`ReactiveSecurityAutoConfiguration`å’Œ`UserDetailsServiceAutoConfiguration`ä¸­å®ç°ã€‚`ReactiveSecurityAutoConfiguration`å¯¼å…¥ç”¨äºWebå®‰å…¨çš„`WebFluxSecurityConfiguration`å’Œç”¨äºé…ç½®èº«ä»½éªŒè¯çš„`UserDetailsServiceAutoConfiguration`ï¼Œè¿™åœ¨éWebåº”ç”¨ç¨‹åºä¸­ä¹Ÿæ˜¯ç›¸å…³çš„ã€‚è¦å®Œå…¨å…³é—­é»˜è®¤Webåº”ç”¨ç¨‹åºå®‰å…¨é…ç½®ï¼Œæ‚¨å¯ä»¥æ·»åŠ beanç±»å‹`WebFilterChainProxy`ï¼ˆè¿™æ ·åšä¸ä¼šç¦ç”¨`UserDetailsService`é…ç½®æˆ–æ‰§è¡Œå™¨çš„å®‰å…¨æ€§ï¼‰ã€‚

è¦åŒæ—¶å…³é—­`UserDetailsService`é…ç½®ï¼Œæ‚¨å¯ä»¥æ·»åŠ beanç±»å‹`ReactiveUserDetailsService`æˆ–`ReactiveAuthenticationManager`ã€‚

å¯ä»¥é€šè¿‡æ·»åŠ è‡ªå®šä¹‰`SecurityWebFilterChain`æ¥é…ç½®è®¿é—®è§„åˆ™ã€‚Spring Bootæä¾›äº†ä¾¿æ·æ–¹æ³•ï¼Œå¯ç”¨äºè¦†ç›–æ‰§è¡Œå™¨ç«¯ç‚¹å’Œé™æ€èµ„æºçš„è®¿é—®è§„åˆ™ã€‚`EndpointRequest`å¯ç”¨äºåˆ›å»ºåŸºäº`management.endpoints.web.base-path`å±æ€§çš„`ServerWebExchangeMatcher`ã€‚

`PathRequest`å¯ç”¨äºä¸ºå¸¸ç”¨ä½ç½®çš„èµ„æºåˆ›å»º`ServerWebExchangeMatcher`ã€‚

ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥é€šè¿‡æ·»åŠ ä»¥ä¸‹å†…å®¹æ¥è‡ªå®šä¹‰å®‰å…¨é…ç½®ï¼š

```
_@Bean_
public SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http) {
	return http
		.authorizeExchange()
			.matchers(PathRequest.toStaticResources().atCommonLocations()).permitAll()
			.pathMatchers("/foo", "/bar")
				.authenticated().and()
			.formLogin().and()
		.build();
}
```

29.3Â OAuth2
-----------

[OAuth2](https://oauth.net/2/)æ˜¯Springæ”¯æŒçš„å¹¿æ³›ä½¿ç”¨çš„æˆæƒæ¡†æ¶ã€‚

### 29.3.1å®¢æˆ·

å¦‚æœæ‚¨çš„ç±»è·¯å¾„ä¸Šæœ‰`spring-security-oauth2-client`ï¼Œåˆ™å¯ä»¥åˆ©ç”¨ä¸€äº›è‡ªåŠ¨é…ç½®æ¥è½»æ¾è®¾ç½®OAuth2 / Open ID Connectå®¢æˆ·ç«¯ã€‚æ­¤é…ç½®ä½¿ç”¨`OAuth2ClientProperties`ä¸‹çš„å±æ€§ã€‚ç›¸åŒçš„å±æ€§é€‚ç”¨äºservletå’Œååº”åº”ç”¨ç¨‹åºã€‚

æ‚¨å¯ä»¥åœ¨`spring.security.oauth2.client`å‰ç¼€ä¸‹æ³¨å†Œå¤šä¸ªOAuth2å®¢æˆ·ç«¯å’Œæä¾›å•†ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
spring.security.oauth2.client.registration.my-client-1.client-id=abcd
spring.security.oauth2.client.registration.my-client-1.client-secret=password
spring.security.oauth2.client.registration.my-client-1.client-name=Client for user scope
spring.security.oauth2.client.registration.my-client-1.provider=my-oauth-provider
spring.security.oauth2.client.registration.my-client-1.scope=user
spring.security.oauth2.client.registration.my-client-1.redirect-uri-template=http://my-redirect-uri.com
spring.security.oauth2.client.registration.my-client-1.client-authentication-method=basic
spring.security.oauth2.client.registration.my-client-1.authorization-grant-type=authorization_code

spring.security.oauth2.client.registration.my-client-2.client-id=abcd
spring.security.oauth2.client.registration.my-client-2.client-secret=password
spring.security.oauth2.client.registration.my-client-2.client-name=Client for email scope
spring.security.oauth2.client.registration.my-client-2.provider=my-oauth-provider
spring.security.oauth2.client.registration.my-client-2.scope=email
spring.security.oauth2.client.registration.my-client-2.redirect-uri-template=http://my-redirect-uri.com
spring.security.oauth2.client.registration.my-client-2.client-authentication-method=basic
spring.security.oauth2.client.registration.my-client-2.authorization-grant-type=authorization_code

spring.security.oauth2.client.provider.my-oauth-provider.authorization-uri=http://my-auth-server/oauth/authorize
spring.security.oauth2.client.provider.my-oauth-provider.token-uri=http://my-auth-server/oauth/token
spring.security.oauth2.client.provider.my-oauth-provider.user-info-uri=http://my-auth-server/userinfo
spring.security.oauth2.client.provider.my-oauth-provider.user-info-authentication-method=header
spring.security.oauth2.client.provider.my-oauth-provider.jwk-set-uri=http://my-auth-server/token_keys
spring.security.oauth2.client.provider.my-oauth-provider.user-name-attribute=name
```

å¯¹äºæ”¯æŒ[OpenID Connectå‘ç°çš„](https://openid.net/specs/openid-connect-discovery-1_0.html) OpenID Connectæä¾›ç¨‹åºï¼Œå¯ä»¥è¿›ä¸€æ­¥ç®€åŒ–é…ç½®ã€‚æä¾›ç¨‹åºéœ€è¦é…ç½®`issuer-uri`ï¼Œè¿™æ˜¯å®ƒå£°æ˜ä¸ºå…¶é¢å‘è€…æ ‡è¯†ç¬¦çš„URIã€‚ä¾‹å¦‚ï¼Œå¦‚æœæä¾›çš„`issuer-uri`ä¸ºâ€œhttps://example.comâ€ï¼Œåˆ™ä¼šå°†`OpenID Provider Configuration Request`è®¾ç½®ä¸ºâ€œhttps://example.com/.well-known/openid-configurationâ€ã€‚ç»“æœé¢„è®¡ä¸º`OpenID Provider Configuration Response`ã€‚ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºå¦‚ä½•ä½¿ç”¨`issuer-uri`é…ç½®OpenID Connect Providerï¼š

```
spring.security.oauth2.client.provider.oidc-provider.issuer-uri=https://dev-123456.oktapreview.com/oauth2/default/
```

é»˜è®¤æƒ…å†µä¸‹ï¼ŒSpringå®‰å…¨æ€§`OAuth2LoginAuthenticationFilter`ä»…å¤„ç†ä¸`/login/oauth2/code/*`åŒ¹é…çš„ç½‘å€ã€‚å¦‚æœè¦è‡ªå®šä¹‰`redirect-uri`ä»¥ä½¿ç”¨å…¶ä»–æ¨¡å¼ï¼Œåˆ™éœ€è¦æä¾›é…ç½®ä»¥å¤„ç†è¯¥è‡ªå®šä¹‰æ¨¡å¼ã€‚ä¾‹å¦‚ï¼Œå¯¹äºservletåº”ç”¨ç¨‹åºï¼Œæ‚¨å¯ä»¥æ·»åŠ ç±»ä¼¼äºä»¥ä¸‹å†…å®¹çš„`WebSecurityConfigurerAdapter`ï¼š

```
public class OAuth2LoginSecurityConfig extends WebSecurityConfigurerAdapter {

	_@Override_
	protected void configure(HttpSecurity http) throws Exception {
		http
			.authorizeRequests()
				.anyRequest().authenticated()
				.and()
			.oauth2Login()
				.redirectionEndpoint()
					.baseUri("/custom-callback");
	}
}
```

#### OAuth2å…±åŒæä¾›è€…çš„å®¢æˆ·æ³¨å†Œ

å¯¹äºå¸¸è§çš„OAuth2å’ŒOpenIDæä¾›å•†ï¼ŒåŒ…æ‹¬Googleï¼ŒGithubï¼ŒFacebookå’ŒOktaï¼Œæˆ‘ä»¬æä¾›äº†ä¸€ç»„æä¾›å•†é»˜è®¤å€¼ï¼ˆåˆ†åˆ«ä¸º`google`ï¼Œ`github`ï¼Œ`facebook`å’Œ`okta` ï¼‰ã€‚

å¦‚æœæ‚¨ä¸éœ€è¦è‡ªå®šä¹‰è¿™äº›æä¾›ç¨‹åºï¼Œåˆ™å¯ä»¥å°†`provider`å±æ€§è®¾ç½®ä¸ºæ‚¨éœ€è¦æ¨æ–­é»˜è®¤å€¼çš„å±æ€§ã€‚æ­¤å¤–ï¼Œå¦‚æœå®¢æˆ·ç«¯æ³¨å†Œçš„å¯†é’¥ä¸é»˜è®¤æ”¯æŒçš„æä¾›è€…åŒ¹é…ï¼Œåˆ™Spring Bootä¹Ÿä¼šæ¨æ–­å‡ºã€‚

æ¢å¥è¯è¯´ï¼Œä»¥ä¸‹ç¤ºä¾‹ä¸­çš„ä¸¤ä¸ªé…ç½®ä½¿ç”¨Googleæä¾›ç¨‹åºï¼š

```
spring.security.oauth2.client.registration.my-client.client-id=abcd
spring.security.oauth2.client.registration.my-client.client-secret=password
spring.security.oauth2.client.registration.my-client.provider=google

spring.security.oauth2.client.registration.google.client-id=abcd
spring.security.oauth2.client.registration.google.client-secret=password
```

### 29.3.2èµ„æºæœåŠ¡å™¨

å¦‚æœç±»è·¯å¾„ä¸Šæœ‰`spring-security-oauth2-resource-server`ï¼Œåªè¦æŒ‡å®šäº†JWK Set URIæˆ–OIDC Issuer URIï¼ŒSpring Bootå°±å¯ä»¥è®¾ç½®OAuth2èµ„æºæœåŠ¡å™¨ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
spring.security.oauth2.resourceserver.jwt.jwk-set-uri=https://example.com/oauth2/default/v1/keys
```

```
spring.security.oauth2.resourceserver.jwt.issuer-uri=https://dev-123456.oktapreview.com/oauth2/default/
```

ç›¸åŒçš„å±æ€§é€‚ç”¨äºservletå’Œååº”åº”ç”¨ç¨‹åºã€‚

æˆ–è€…ï¼Œæ‚¨å¯ä»¥ä¸ºservletåº”ç”¨ç¨‹åºå®šä¹‰è‡ªå·±çš„`JwtDecoder` beanï¼Œæˆ–è€…ä¸ºå“åº”å¼åº”ç”¨ç¨‹åºå®šä¹‰`ReactiveJwtDecoder`ã€‚

### 29.3.3æˆæƒæœåŠ¡å™¨

ç›®å‰ï¼ŒSpringå®‰å…¨æ€§ä¸æ”¯æŒå®æ–½OAuth 2.0æˆæƒæœåŠ¡å™¨ã€‚ä½†æ˜¯ï¼Œæ­¤åŠŸèƒ½å¯ä»[Springå®‰å…¨OAuth](https://projects.spring.io/spring-security-oauth/)é¡¹ç›®è·å¾—ï¼Œè¯¥é¡¹ç›®æœ€ç»ˆå°†å®Œå…¨è¢«Springå®‰å…¨æ€§å–ä»£ã€‚åœ¨æ­¤ä¹‹å‰ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨`spring-security-oauth2-autoconfigure`æ¨¡å—è½»æ¾è®¾ç½®OAuth 2.0æˆæƒæœåŠ¡å™¨; è¯·å‚é˜…å…¶[æ–‡æ¡£](https://docs.spring.io/spring-security-oauth2-boot)ä»¥è·å–è¯´æ˜

29.4æ‰§è¡Œå™¨å®‰å…¨æ€§
----------

å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œé»˜è®¤æƒ…å†µä¸‹ç¦ç”¨`/health`å’Œ`/info`ä»¥å¤–çš„æ‰€æœ‰æ‰§è¡Œå™¨ã€‚`management.endpoints.web.exposure.include`å±æ€§å¯ç”¨äºå¯ç”¨æ‰§è¡Œå™¨ã€‚

å¦‚æœSpringå®‰å…¨æ€§åœ¨ç±»è·¯å¾„ä¸Šä¸”æ²¡æœ‰å…¶ä»–WebSecurityConfigurerAdapterå­˜åœ¨ï¼Œåˆ™`/health`å’Œ`/info`ä»¥å¤–çš„æ‰€æœ‰æ‰§è¡Œå™¨éƒ½ç”±Spring Bootè‡ªåŠ¨é…ç½®ä¿æŠ¤ã€‚å¦‚æœæ‚¨å®šä¹‰è‡ªå®šä¹‰`WebSecurityConfigurerAdapter`ï¼Œåˆ™Spring Bootè‡ªåŠ¨é…ç½®å°†é€€å›ï¼Œæ‚¨å°†å®Œå…¨æ§åˆ¶æ‰§è¡Œå™¨è®¿é—®è§„åˆ™ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>åœ¨è®¾ç½®<code class="literal" i="1231">management.endpoints.web.exposure.include</code>ä¹‹å‰ï¼Œè¯·ç¡®ä¿æš´éœ²çš„æ‰§è¡Œå™¨ä¸åŒ…å«æ•æ„Ÿä¿¡æ¯å’Œ/æˆ–é€šè¿‡å°†å®ƒä»¬æ”¾åœ¨é˜²ç«å¢™åé¢æˆ–é€šè¿‡Springå®‰å…¨æ€§ç­‰æ–¹å¼è¿›è¡Œä¿æŠ¤ã€‚</p></td></tr></tbody></table>

### 29.4.1è·¨ç«™ç‚¹è¯·æ±‚ä¼ªé€ ä¿æŠ¤

ç”±äºSpring Bootä¾èµ–äºSpringå®‰å…¨æ€§çš„é»˜è®¤å€¼ï¼Œå› æ­¤é»˜è®¤æƒ…å†µä¸‹ä¼šå¯ç”¨CSRFä¿æŠ¤ã€‚è¿™æ„å‘³ç€å½“ä½¿ç”¨é»˜è®¤å®‰å…¨é…ç½®æ—¶ï¼Œéœ€è¦`POST`ï¼ˆå…³é—­å’Œè®°å½•å™¨ç«¯ç‚¹ï¼‰ï¼Œ`PUT`æˆ–`DELETE`çš„æ‰§è¡Œå™¨ç«¯ç‚¹å°†è·å¾—403ç¦æ­¢é”™è¯¯ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>æˆ‘ä»¬å»ºè®®ä»…åœ¨åˆ›å»ºéæµè§ˆå™¨å®¢æˆ·ç«¯ä½¿ç”¨çš„æœåŠ¡æ—¶æ‰å®Œå…¨ç¦ç”¨CSRFä¿æŠ¤ã€‚</p></td></tr></tbody></table>

æœ‰å…³CSRFä¿æŠ¤çš„å…¶ä»–ä¿¡æ¯ï¼Œè¯·å‚é˜… [Springå®‰å…¨å‚è€ƒæŒ‡å—](https://docs.spring.io/spring-security/site/docs/5.1.2.RELEASE/reference/htmlsingle#csrf)ã€‚

30.ä½¿ç”¨SQLæ•°æ®åº“
-----------

åœ¨[Springæ¡†æ¶](https://projects.spring.io/spring-framework/)æä¾›ç”¨äºä½¿ç”¨`JdbcTemplate`å®Œæˆâ€œå¯¹è±¡å…³ç³»æ˜ å°„â€çš„æŠ€æœ¯ï¼Œå¦‚ä¼‘çœ ä½¿ç”¨SQLæ•°æ®åº“ï¼Œä»ç›´æ¥JDBCè®¿é—®å¹¿æ³›çš„æ”¯æŒã€‚[Springæ•°æ®](https://projects.spring.io/spring-data/)æä¾›äº†æ›´å¤šçº§åˆ«çš„åŠŸèƒ½ï¼šç›´æ¥ä»æ¥å£åˆ›å»º`Repository`å®ç°ï¼Œå¹¶ä½¿ç”¨çº¦å®šä»æ–¹æ³•åç§°ç”ŸæˆæŸ¥è¯¢ã€‚

30.1é…ç½®æ•°æ®æº
---------

Javaçš„`javax.sql.DataSource`æ¥å£æä¾›äº†ä¸€ç§ä½¿ç”¨æ•°æ®åº“è¿æ¥çš„æ ‡å‡†æ–¹æ³•ã€‚ä¼ ç»Ÿä¸Šï¼Œ'DataSource'ä½¿ç”¨`URL`ä»¥åŠä¸€äº›å‡­æ®æ¥å»ºç«‹æ•°æ®åº“è¿æ¥ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æœ‰å…³æ›´å¤šé«˜çº§ç¤ºä¾‹ï¼Œè¯·å‚é˜…<a class="link" href="#howto-configure-a-datasource" title="84.1é…ç½®è‡ªå®šä¹‰æ•°æ®æº">â€œæ“ä½œæ–¹æ³•â€éƒ¨åˆ†</a>ï¼Œé€šå¸¸æ˜¯ä¸ºäº†å®Œå…¨æ§åˆ¶DataSourceçš„é…ç½®ã€‚</p></td></tr></tbody></table>

### 30.1.1åµŒå…¥å¼æ•°æ®åº“æ”¯æŒ

é€šè¿‡ä½¿ç”¨å†…å­˜ä¸­åµŒå…¥å¼æ•°æ®åº“æ¥å¼€å‘åº”ç”¨ç¨‹åºé€šå¸¸å¾ˆæ–¹ä¾¿ã€‚æ˜¾ç„¶ï¼Œå†…å­˜æ•°æ®åº“ä¸æä¾›æŒä¹…å­˜å‚¨ã€‚æ‚¨éœ€è¦åœ¨åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶å¡«å……æ•°æ®åº“ï¼Œå¹¶å‡†å¤‡åœ¨åº”ç”¨ç¨‹åºç»“æŸæ—¶ä¸¢å¼ƒæ•°æ®ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>â€œæ“ä½œæ–¹æ³•â€éƒ¨åˆ†åŒ…å«<a class="link" href="#howto-database-initialization" title="85.æ•°æ®åº“åˆå§‹åŒ–">æœ‰å…³å¦‚ä½•åˆå§‹åŒ–æ•°æ®åº“çš„éƒ¨åˆ†</a>ã€‚</p></td></tr></tbody></table>

Spring Bootå¯ä»¥è‡ªåŠ¨é…ç½®åµŒå…¥å¼[H2](http://www.h2database.com)ï¼Œ [HSQL](http://hsqldb.org/)å’Œ[Derby](https://db.apache.org/derby/)æ•°æ®åº“ã€‚æ‚¨æ— éœ€æä¾›ä»»ä½•è¿æ¥URLã€‚æ‚¨åªéœ€è¦åŒ…å«è¦ä½¿ç”¨çš„åµŒå…¥å¼æ•°æ®åº“çš„æ„å»ºä¾èµ–é¡¹ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å¦‚æœæ‚¨åœ¨æµ‹è¯•ä¸­ä½¿ç”¨æ­¤åŠŸèƒ½ï¼Œæ‚¨å¯èƒ½ä¼šæ³¨æ„åˆ°æ•´ä¸ªæµ‹è¯•å¥—ä»¶éƒ½ä¼šé‡å¤ä½¿ç”¨ç›¸åŒçš„æ•°æ®åº“ï¼Œæ— è®ºæ‚¨ä½¿ç”¨çš„åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡çš„æ•°é‡å¦‚ä½•ã€‚å¦‚æœè¦ç¡®ä¿æ¯ä¸ªä¸Šä¸‹æ–‡éƒ½æœ‰ä¸€ä¸ªå•ç‹¬çš„åµŒå…¥å¼æ•°æ®åº“ï¼Œåˆ™åº”å°†<code class="literal" i="1239">spring.datasource.generate-unique-name</code>è®¾ç½®ä¸º<code class="literal" i="1240">true</code>ã€‚</p></td></tr></tbody></table>

ä¾‹å¦‚ï¼Œå…¸å‹çš„POMä¾èµ–å…³ç³»å¦‚ä¸‹ï¼š

```
<dependency>
	<groupId>org.springframework.boot</groupId>
	<artifactId>spring-boot-starter-data-jpa</artifactId>
</dependency>
<dependency>
	<groupId>org.hsqldb</groupId>
	<artifactId>hsqldb</artifactId>
	<scope>runtime</scope>
</dependency>
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>æ‚¨éœ€è¦ä¾èµ–<code class="literal" i="1241">spring-jdbc</code>æ‰èƒ½è‡ªåŠ¨é…ç½®åµŒå…¥å¼æ•°æ®åº“ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå®ƒé€šè¿‡<code class="literal" i="1242">spring-boot-starter-data-jpa</code>ä¼ é€’ã€‚</p></td></tr></tbody></table><table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¦‚æœç”±äºæŸç§åŸå› ï¼Œæ‚¨ç¡®å®ä¸ºåµŒå…¥å¼æ•°æ®åº“é…ç½®äº†è¿æ¥URLï¼Œè¯·æ³¨æ„ç¡®ä¿ç¦ç”¨æ•°æ®åº“çš„è‡ªåŠ¨å…³é—­ã€‚å¦‚æœæ‚¨ä½¿ç”¨H2ï¼Œåˆ™åº”ä½¿ç”¨<code class="literal" i="1243">DB_CLOSE_ON_EXIT=FALSE</code>æ¥æ‰§è¡Œæ­¤æ“ä½œã€‚å¦‚æœä½¿ç”¨HSQLDBï¼Œåˆ™åº”ç¡®ä¿æœªä½¿ç”¨<code class="literal" i="1244">shutdown=true</code>ã€‚ç¦ç”¨æ•°æ®åº“çš„è‡ªåŠ¨å…³é—­å…è®¸Spring Bootæ§åˆ¶æ•°æ®åº“ä½•æ—¶å…³é—­ï¼Œä»è€Œç¡®ä¿åœ¨ä¸å†éœ€è¦è®¿é—®æ•°æ®åº“æ—¶å‘ç”Ÿè¿™ç§æƒ…å†µã€‚</p></td></tr></tbody></table>

### 30.1.2è¿æ¥åˆ°ç”Ÿäº§æ•°æ®åº“

ä¹Ÿå¯ä»¥ä½¿ç”¨æ± `DataSource`è‡ªåŠ¨é…ç½®ç”Ÿäº§æ•°æ®åº“è¿æ¥ã€‚Spring Bootä½¿ç”¨ä»¥ä¸‹ç®—æ³•é€‰æ‹©ç‰¹å®šå®ç°ï¼š

1.  æˆ‘ä»¬æ›´å–œæ¬¢[HikariCP](https://github.com/brettwooldridge/HikariCP)çš„æ€§èƒ½å’Œå¹¶å‘æ€§ã€‚å¦‚æœHikariCPå¯ç”¨ï¼Œæˆ‘ä»¬æ€»æ˜¯é€‰æ‹©å®ƒã€‚
2.  å¦åˆ™ï¼Œå¦‚æœTomcatæ± `DataSource`å¯ç”¨ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨å®ƒã€‚
3.  å¦‚æœHikariCPå’ŒTomcatæ± åŒ–æ•°æ®æºéƒ½ä¸å¯ç”¨ï¼Œå¹¶ä¸” [Commons DBCP2](https://commons.apache.org/proper/commons-dbcp/)å¯ç”¨ï¼Œæˆ‘ä»¬å°±ä¼šä½¿ç”¨å®ƒã€‚

å¦‚æœæ‚¨ä½¿ç”¨`spring-boot-starter-jdbc`æˆ–`spring-boot-starter-data-jpa`â€œstartersâ€ï¼Œåˆ™ä¼šè‡ªåŠ¨è·å¾—`HikariCP`çš„ä¾èµ–å…³ç³»ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>æ‚¨å¯ä»¥å®Œå…¨ç»•è¿‡è¯¥ç®—æ³•ï¼Œå¹¶é€šè¿‡è®¾ç½®<code class="literal" i="1250">spring.datasource.type</code>å±æ€§æŒ‡å®šè¦ä½¿ç”¨çš„è¿æ¥æ± ã€‚å¦‚æœæ‚¨åœ¨Tomcatå®¹å™¨ä¸­è¿è¡Œåº”ç”¨ç¨‹åºï¼Œè¿™ä¸€ç‚¹å°¤ä¸ºé‡è¦ï¼Œå› ä¸ºé»˜è®¤æƒ…å†µä¸‹ä¼šæä¾›<code class="literal" i="1251">tomcat-jdbc</code>ã€‚</p></td></tr></tbody></table><table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å§‹ç»ˆå¯ä»¥æ‰‹åŠ¨é…ç½®å…¶ä»–è¿æ¥æ± ã€‚å¦‚æœæ‚¨å®šä¹‰è‡ªå·±çš„<code class="literal" i="1252">DataSource</code> beanï¼Œåˆ™ä¸ä¼šè¿›è¡Œè‡ªåŠ¨é…ç½®ã€‚</p></td></tr></tbody></table>

DataSourceé…ç½®ç”±`spring.datasource.*`ä¸­çš„å¤–éƒ¨é…ç½®å±æ€§æ§åˆ¶ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥åœ¨`application.properties`ä¸­å£°æ˜ä»¥ä¸‹éƒ¨åˆ†ï¼š

```
spring.datasource.url=jdbc:mysql://localhost/test
spring.datasource.username=dbuser
spring.datasource.password=dbpass
spring.datasource.driver-class-name=com.mysql.jdbc.Driver
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>æ‚¨è‡³å°‘åº”è¯¥é€šè¿‡è®¾ç½®<code class="literal" i="1255">spring.datasource.url</code>å±æ€§æ¥æŒ‡å®šURLã€‚å¦åˆ™ï¼ŒSpring Bootä¼šå°è¯•è‡ªåŠ¨é…ç½®åµŒå…¥å¼æ•°æ®åº“ã€‚</p></td></tr></tbody></table><table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æ‚¨é€šå¸¸ä¸éœ€è¦æŒ‡å®š<code class="literal" i="1256">driver-class-name</code>ï¼Œå› ä¸ºSpring Bootå¯ä»¥ä»<code class="literal" i="1257">url</code>ä¸­ä¸ºå¤§å¤šæ•°æ•°æ®åº“æ¨æ–­å‡ºå®ƒã€‚</p></td></tr></tbody></table><table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å¯¹äºè¦åˆ›å»ºçš„æ± <code class="literal" i="1258">DataSource</code>ï¼Œæˆ‘ä»¬éœ€è¦èƒ½å¤ŸéªŒè¯æœ‰æ•ˆçš„<code class="literal" i="1259">Driver</code>ç±»æ˜¯å¦å¯ç”¨ï¼Œå› æ­¤æˆ‘ä»¬åœ¨æ‰§è¡Œä»»ä½•æ“ä½œä¹‹å‰æ£€æŸ¥å®ƒã€‚æ¢å¥è¯è¯´ï¼Œå¦‚æœè®¾ç½®<code class="literal" i="1260">spring.datasource.driver-class-name=com.mysql.jdbc.Driver</code>ï¼Œé‚£ä¹ˆè¯¥ç±»å¿…é¡»æ˜¯å¯åŠ è½½çš„ã€‚</p></td></tr></tbody></table>

æœ‰å…³[`DataSourceProperties`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jdbc/DataSourceProperties.java) æ›´å¤šæ”¯æŒçš„é€‰é¡¹ï¼Œè¯·å‚é˜… ã€‚æ— è®ºå®é™…å®æ–½å¦‚ä½•ï¼Œè¿™äº›éƒ½æ˜¯æ ‡å‡†é€‰é¡¹ã€‚è¿˜å¯ä»¥ä½¿ç”¨å„è‡ªçš„å‰ç¼€ï¼ˆ`spring.datasource.hikari.*`ï¼Œ`spring.datasource.tomcat.*`å’Œ`spring.datasource.dbcp2.*`ï¼‰æ¥å¾®è°ƒç‰¹å®šäºå®ç°çš„è®¾ç½®ã€‚æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…æ‚¨æ­£åœ¨ä½¿ç”¨çš„è¿æ¥æ± å®ç°çš„æ–‡æ¡£ã€‚

ä¾‹å¦‚ï¼Œå¦‚æœä½¿ç”¨ [Tomcatè¿æ¥æ± ](https://tomcat.apache.org/tomcat-8.0-doc/jdbc-pool.html#Common_Attributes)ï¼Œåˆ™å¯ä»¥è‡ªå®šä¹‰è®¸å¤šå…¶ä»–è®¾ç½®ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
# Number of ms to wait before throwing an exception if no connection is available.
spring.datasource.tomcat.max-wait=10000

# Maximum number of active connections that can be allocated from this pool at the same time.
spring.datasource.tomcat.max-active=50

# Validate the connection before borrowing it from the pool.
spring.datasource.tomcat.test-on-borrow=true
```

### 30.1.3è¿æ¥åˆ°JNDIæ•°æ®æº

å¦‚æœå°†Spring Bootåº”ç”¨ç¨‹åºéƒ¨ç½²åˆ°Application Serverï¼Œåˆ™å¯èƒ½å¸Œæœ›ä½¿ç”¨Application Serverçš„å†…ç½®åŠŸèƒ½é…ç½®å’Œç®¡ç†DataSourceï¼Œå¹¶ä½¿ç”¨JNDIè®¿é—®å®ƒã€‚

`spring.datasource.jndi-name`å±æ€§å¯ç”¨ä½œ`spring.datasource.url`ï¼Œ`spring.datasource.username`å’Œ`spring.datasource.password`å±æ€§çš„æ›¿ä»£ï¼Œä»¥ä»ç‰¹å®šJNDIä½ç½®è®¿é—®`DataSource`ã€‚ä¾‹å¦‚ï¼Œ`application.properties`ä¸­çš„ä»¥ä¸‹éƒ¨åˆ†æ˜¾ç¤ºäº†å¦‚ä½•è®¿é—®å®šä¹‰çš„`DataSource` JBoss ASï¼š

```
spring.datasource.jndi-name=java:jboss/datasources/customers
```

30.2ä½¿ç”¨JdbcTemplate
------------------

Springçš„`JdbcTemplate`å’Œ`NamedParameterJdbcTemplate`ç±»æ˜¯è‡ªåŠ¨é…ç½®çš„ï¼Œæ‚¨å¯ä»¥`@Autowire`ç›´æ¥å°†å®ƒä»¬æ”¾å…¥æ‚¨è‡ªå·±çš„beansä¸­ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.jdbc.core.JdbcTemplate;
import org.springframework.stereotype.Component;

_@Component_
public class MyBean {

	private final JdbcTemplate jdbcTemplate;

	_@Autowired_
	public MyBean(JdbcTemplate jdbcTemplate) {
		this.jdbcTemplate = jdbcTemplate;
	}

	// ...

}
```

æ‚¨å¯ä»¥ä½¿ç”¨`spring.jdbc.template.*`å±æ€§è‡ªå®šä¹‰æ¨¡æ¿çš„æŸäº›å±æ€§ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
spring.jdbc.template.max-rows=500
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p><code class="literal" i="1275">NamedParameterJdbcTemplate</code>åœ¨å¹•åé‡ç”¨äº†ç›¸åŒçš„<code class="literal" i="1276">JdbcTemplate</code>å®ä¾‹ã€‚å¦‚æœå®šä¹‰äº†å¤šä¸ª<code class="literal" i="1277">JdbcTemplate</code>å¹¶ä¸”ä¸å­˜åœ¨ä¸»è¦å€™é€‰è€…ï¼Œåˆ™ä¸ä¼šè‡ªåŠ¨é…ç½®<code class="literal" i="1278">NamedParameterJdbcTemplate</code>ã€‚</p></td></tr></tbody></table>

30.3 JPAå’ŒSpringæ•°æ®JPA
--------------------

Java Persistence APIæ˜¯ä¸€ç§æ ‡å‡†æŠ€æœ¯ï¼Œå¯è®©æ‚¨å°†å¯¹è±¡â€œæ˜ å°„â€åˆ°å…³ç³»æ•°æ®åº“ã€‚`spring-boot-starter-data-jpa` POMæä¾›äº†ä¸€ç§å¿«é€Ÿå…¥é—¨æ–¹å¼ã€‚å®ƒæä¾›ä»¥ä¸‹å…³é”®ä¾èµ–é¡¹ï¼š

*   Hibernateï¼šæœ€å—æ¬¢è¿çš„JPAå®ç°ä¹‹ä¸€ã€‚
*   Spring Data JPAï¼šä½¿å®ç°åŸºäºJPAçš„å­˜å‚¨åº“å˜å¾—å®¹æ˜“ã€‚
*   Spring ORMï¼šæ¥è‡ªSpringæ¡†æ¶çš„æ ¸å¿ƒORMæ”¯æŒã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æˆ‘ä»¬ä¸ä¼šåœ¨è¿™é‡Œè¯¦ç»†ä»‹ç»JPAæˆ–<a class="link" href="https://projects.spring.io/spring-data/" target="_top">Springæ•°æ®</a>ã€‚æ‚¨å¯ä»¥æŒ‰ç…§<a class="link" href="https://spring.io/guides/gs/accessing-data-jpa/" target="_top">â€œè®¿é—®æ•°æ®ä¸JPAâ€</a> ä»æŒ‡å¯¼<a class="link" href="https://spring.io" target="_top">spring.io</a>å’Œè¯»å–<a class="link" href="https://projects.spring.io/spring-data-jpa/" target="_top">Springæ•°æ®JPA</a>å’Œ <a class="link" href="https://hibernate.org/orm/documentation/" target="_top">Hibernateçš„</a>å‚è€ƒæ–‡æ¡£ã€‚</p></td></tr></tbody></table>

### 30.3.1å®ä½“ç±»

ä¼ ç»Ÿä¸Šï¼ŒJPAâ€œå®ä½“â€ç±»åœ¨`persistence.xml`æ–‡ä»¶ä¸­æŒ‡å®šã€‚ä½¿ç”¨Spring Bootæ—¶ï¼Œä¸éœ€è¦æ­¤æ–‡ä»¶ï¼Œè€Œæ˜¯ä½¿ç”¨â€œå®ä½“æ‰«æâ€ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå°†æœç´¢ä¸»é…ç½®ç±»ï¼ˆæ³¨é‡Šä¸º`@EnableAutoConfiguration`æˆ–`@SpringBootApplication`ï¼‰ä¸‹çš„æ‰€æœ‰åŒ…ã€‚

ä»»ä½•æ³¨æ˜`@Entity`ï¼Œ`@Embeddable`æˆ–`@MappedSuperclass`çš„ç±»éƒ½ä¼šè¢«è€ƒè™‘ã€‚å…¸å‹çš„å®ä½“ç±»ç±»ä¼¼äºä»¥ä¸‹ç¤ºä¾‹ï¼š

```
package com.example.myapp.domain;

import java.io.Serializable;
import javax.persistence.*;

_@Entity_
public class City implements Serializable {

	_@Id_
	_@GeneratedValue_
	private Long id;

	_@Column(nullable = false)_
	private String name;

	_@Column(nullable = false)_
	private String state;

	// ... additional members, often include @OneToMany mappings

	protected City() {
		// no-args constructor required by JPA spec
		// this one is protected since it shouldn't be used directly
	}

	public City(String name, String state) {
		this.name = name;
		this.state = state;
	}

	public String getName() {
		return this.name;
	}

	public String getState() {
		return this.state;
	}

	// ... etc

}
```

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æ‚¨å¯ä»¥ä½¿ç”¨<code class="literal" i="1286">@EntityScan</code>æ³¨é‡Šè‡ªå®šä¹‰å®ä½“æ‰«æä½ç½®ã€‚è¯·å‚é˜…â€œ <a class="xref" href="#howto-separate-entity-definitions-from-spring-configuration" title="84.4ä»Springé…ç½®ä¸­åˆ†ç¦»@Entityå®šä¹‰">ç¬¬84.4èŠ‚</a> â€ <a class="xref" href="#howto-separate-entity-definitions-from-spring-configuration" title="84.4&nbsp;Separate @Entity Definitions from Spring Configuration">ï¼Œâ€œSpringé…ç½®â€ä¸­çš„@Entityå®šä¹‰â€œ</a> â€æ“ä½œæ–¹æ³•ã€‚</p></td></tr></tbody></table>

### 30.3.2 Springæ•°æ®JPAå­˜å‚¨åº“

[Springæ•°æ®JPA](https://projects.spring.io/spring-data-jpa/)å­˜å‚¨åº“æ˜¯æ‚¨å¯ä»¥å®šä¹‰ä»¥è®¿é—®æ•°æ®çš„æ¥å£ã€‚JPAæŸ¥è¯¢æ˜¯ä»æ‚¨çš„æ–¹æ³•åç§°è‡ªåŠ¨åˆ›å»ºçš„ã€‚ä¾‹å¦‚ï¼Œ`CityRepository`æ¥å£å¯èƒ½ä¼šå£°æ˜`findAllByState(String state)`æ–¹æ³•æ¥æŸ¥æ‰¾ç»™å®šçŠ¶æ€ä¸­çš„æ‰€æœ‰åŸå¸‚ã€‚

å¯¹äºæ›´å¤æ‚çš„æŸ¥è¯¢ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨Spring Dataçš„[`Query`](https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/Query.html)æ³¨é‡Šæ¥æ³¨é‡Šæ‚¨çš„æ–¹æ³• ã€‚

Springæ•°æ®å­˜å‚¨åº“é€šå¸¸ä»[`Repository`](https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/Repository.html)æˆ– [`CrudRepository`](https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html) æ¥å£æ‰©å±• ã€‚å¦‚æœä½¿ç”¨è‡ªåŠ¨é…ç½®ï¼Œåˆ™ä¼šä»åŒ…å«ä¸»é…ç½®ç±»ï¼ˆä½¿ç”¨`@EnableAutoConfiguration`æˆ–`@SpringBootApplication`æ³¨é‡Šçš„åŒ…ï¼‰çš„åŒ…ä¸­æœç´¢å­˜å‚¨åº“ã€‚

ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†å…¸å‹çš„Springæ•°æ®å­˜å‚¨åº“æ¥å£å®šä¹‰ï¼š

```
package com.example.myapp.domain;

import org.springframework.data.domain.*;
import org.springframework.data.repository.*;

public interface CityRepository extends Repository<City, Long> {

	Page<City> findAll(Pageable pageable);

	City findByNameAndStateAllIgnoringCase(String name, String state);

}
```

Springæ•°æ®JPAå­˜å‚¨åº“æ”¯æŒä¸‰ç§ä¸åŒçš„å¼•å¯¼æ¨¡å¼ï¼šdefaultï¼Œdeferredå’Œlazyã€‚è¦å¯ç”¨å»¶è¿Ÿæˆ–å»¶è¿Ÿå¼•å¯¼ï¼Œè¯·å°†`spring.data.jpa.repositories.bootstrap-mode`åˆ†åˆ«è®¾ç½®ä¸º`deferred`æˆ–`lazy`ã€‚ä½¿ç”¨å»¶è¿Ÿæˆ–å»¶è¿Ÿå¼•å¯¼æ—¶ï¼Œè‡ªåŠ¨é…ç½®çš„`EntityManagerFactoryBuilder`å°†ä½¿ç”¨ä¸Šä¸‹æ–‡çš„å¼‚æ­¥ä»»åŠ¡æ‰§è¡Œç¨‹åºï¼ˆå¦‚æœæœ‰ï¼‰ä½œä¸ºå¼•å¯¼ç¨‹åºæ‰§è¡Œç¨‹åºã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æˆ‘ä»¬å‡ ä¹æ²¡æœ‰è§¦åŠSpring Data JPAçš„è¡¨é¢ã€‚æœ‰å…³å®Œæ•´çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…<a class="link" href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/" target="_top">Spring Data JPAå‚è€ƒæ–‡æ¡£</a>ã€‚</p></td></tr></tbody></table>

### 30.3.3åˆ›å»ºå’Œåˆ é™¤JPAæ•°æ®åº“

é»˜è®¤æƒ…å†µä¸‹ï¼Œ**ä»…**å½“æ‚¨ä½¿ç”¨åµŒå…¥å¼æ•°æ®åº“ï¼ˆH2ï¼ŒHSQLæˆ–Derbyï¼‰æ—¶ï¼Œ**æ‰ä¼š**è‡ªåŠ¨åˆ›å»ºJPAæ•°æ®åº“ã€‚æ‚¨å¯ä»¥ä½¿ç”¨`spring.jpa.*`å±æ€§æ˜¾å¼é…ç½®JPAè®¾ç½®ã€‚ä¾‹å¦‚ï¼Œè¦åˆ›å»ºå’Œåˆ é™¤è¡¨ï¼Œå¯ä»¥å°†ä»¥ä¸‹è¡Œæ·»åŠ åˆ°`application.properties`ï¼š

```
spring.jpa.hibernate.ddl-auto=create-drop
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>Hibernateè‡ªå·±çš„å†…éƒ¨å±æ€§åç§°ï¼ˆå¦‚æœä½ ç¢°å·§æ›´å¥½åœ°è®°ä½å®ƒï¼‰æ˜¯<code class="literal" i="1297">hibernate.hbm2ddl.auto</code>ã€‚æ‚¨å¯ä»¥ä½¿ç”¨<code class="literal" i="1298">spring.jpa.properties.*</code>ï¼ˆåœ¨å°†å®ƒä»¬æ·»åŠ åˆ°å®ä½“ç®¡ç†å™¨ä¹‹å‰åˆ é™¤å‰ç¼€ï¼‰æ¥è®¾ç½®å®ƒä»¥åŠå…¶ä»–Hibernateæœ¬æœºå±æ€§ã€‚ä»¥ä¸‹è¡Œæ˜¾ç¤ºäº†ä¸ºHibernateè®¾ç½®JPAå±æ€§çš„ç¤ºä¾‹ï¼š</p></td></tr></tbody></table>

```
spring.jpa.properties.hibernate.globally_quoted_identifiers=true
```

å‰é¢ç¤ºä¾‹ä¸­çš„è¡Œå°†`hibernate.globally_quoted_identifiers`å±æ€§çš„å€¼`true`ä¼ é€’ç»™Hibernateå®ä½“ç®¡ç†å™¨ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼ŒDDLæ‰§è¡Œï¼ˆæˆ–éªŒè¯ï¼‰å°†å»¶è¿Ÿåˆ°`ApplicationContext`å¼€å§‹ã€‚è¿˜æœ‰ä¸€ä¸ª`spring.jpa.generate-ddl`æ ‡å¿—ï¼Œä½†å¦‚æœHibernateè‡ªåŠ¨é…ç½®å¤„äºæ´»åŠ¨çŠ¶æ€ï¼Œåˆ™ä¸ä¼šä½¿ç”¨å®ƒï¼Œå› ä¸º`ddl-auto`è®¾ç½®æ›´ç²¾ç»†ã€‚

### 30.3.4åœ¨Viewä¸­æ‰“å¼€EntityManager

å¦‚æœæ‚¨æ­£åœ¨è¿è¡ŒWebåº”ç”¨ç¨‹åºï¼Œåˆ™é»˜è®¤æƒ…å†µä¸‹Spring Bootä¼šæ³¨å†Œ [`OpenEntityManagerInViewInterceptor`](https://docs.spring.io/spring/docs/5.1.3.RELEASE/javadoc-api/org/springframework/orm/jpa/support/OpenEntityManagerInViewInterceptor.html) ä»¥åº”ç”¨â€œåœ¨è§†å›¾ä¸­æ‰“å¼€EntityManagerâ€æ¨¡å¼ï¼Œä»¥å…è®¸åœ¨Webè§†å›¾ä¸­è¿›è¡Œå»¶è¿ŸåŠ è½½ã€‚å¦‚æœæ‚¨ä¸æƒ³è¦æ­¤è¡Œä¸ºï¼Œåˆ™åº”åœ¨`application.properties`ä¸­å°†`spring.jpa.open-in-view`è®¾ç½®ä¸º`false`ã€‚

30.4 Springæ•°æ®JDBC
-----------------

Springæ•°æ®åŒ…æ‹¬JDBCçš„å­˜å‚¨åº“æ”¯æŒï¼Œå¹¶å°†è‡ªåŠ¨ä¸º`CrudRepository`ä¸Šçš„æ–¹æ³•ç”ŸæˆSQLã€‚å¯¹äºæ›´é«˜çº§çš„æŸ¥è¯¢ï¼Œæä¾›äº†`@Query`æ³¨é‡Šã€‚

å½“å¿…è¦çš„ä¾èµ–é¡¹åœ¨ç±»è·¯å¾„ä¸Šæ—¶ï¼ŒSpring Bootå°†è‡ªåŠ¨é…ç½®Springæ•°æ®çš„JDBCå­˜å‚¨åº“ã€‚å¯ä»¥ä½¿ç”¨`spring-boot-starter-data-jdbc`ä¸Šçš„å•ä¸ªä¾èµ–é¡¹å°†å®ƒä»¬æ·»åŠ åˆ°é¡¹ç›®ä¸­ã€‚å¦‚æœ‰å¿…è¦ï¼Œæ‚¨å¯ä»¥é€šè¿‡å‘åº”ç”¨ç¨‹åºæ·»åŠ `@EnableJdbcRepositories`æ³¨é‡Šæˆ–`JdbcConfiguration`å­ç±»æ¥æ§åˆ¶Spring Data JDBCçš„é…ç½®ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æœ‰å…³Springæ•°æ®JDBCçš„å®Œæ•´è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… <a class="link" href="https://projects.spring.io/spring-data-jdbc/" target="_top">å‚è€ƒæ–‡æ¡£</a>ã€‚</p></td></tr></tbody></table>

30.5ä½¿ç”¨H2çš„Webæ§åˆ¶å°
---------------

è¯¥[H2æ•°æ®åº“](http://www.h2database.com)æä¾›äº†ä¸€ä¸ª [åŸºäºæµè§ˆå™¨çš„æ§åˆ¶å°](http://www.h2database.com/html/quickstart.html#h2_console)æ˜¯Spring Bootå¯ä»¥è‡ªåŠ¨ä¸ºæ‚¨é…ç½®ã€‚æ»¡è¶³ä»¥ä¸‹æ¡ä»¶æ—¶ï¼Œå°†è‡ªåŠ¨é…ç½®æ§åˆ¶å°ï¼š

*   æ‚¨æ­£åœ¨å¼€å‘åŸºäºservletçš„Webåº”ç”¨ç¨‹åºã€‚
*   `com.h2database:h2`åœ¨ç±»è·¯å¾„ä¸Šã€‚
*   æ‚¨æ­£åœ¨ä½¿ç”¨[Spring Bootçš„å¼€å‘äººå‘˜å·¥å…·](#using-boot-devtools "20.å¼€å‘äººå‘˜å·¥å…·")ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¦‚æœæ‚¨æ²¡æœ‰ä½¿ç”¨Spring Bootçš„å¼€å‘äººå‘˜å·¥å…·ä½†ä»æƒ³ä½¿ç”¨H2çš„æ§åˆ¶å°ï¼Œåˆ™å¯ä»¥ä½¿ç”¨å€¼<code class="literal" i="1314">true</code>é…ç½®<code class="literal" i="1313">spring.h2.console.enabled</code>å±æ€§ã€‚</p></td></tr></tbody></table><table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>H2æ§åˆ¶å°ä»…ç”¨äºå¼€å‘æœŸé—´ï¼Œå› æ­¤æ‚¨åº”è¯¥æ³¨æ„ç¡®ä¿ç”Ÿäº§ä¸­<code class="literal" i="1315">spring.h2.console.enabled</code>æœªè®¾ç½®ä¸º<code class="literal" i="1316">true</code>ã€‚</p></td></tr></tbody></table>

### 30.5.1æ›´æ”¹H2æ§åˆ¶å°çš„è·¯å¾„

é»˜è®¤æƒ…å†µä¸‹ï¼Œæ§åˆ¶å°ä½äº`/h2-console`ã€‚æ‚¨å¯ä»¥ä½¿ç”¨`spring.h2.console.path`å±æ€§è‡ªå®šä¹‰æ§åˆ¶å°çš„è·¯å¾„ã€‚

30.6ä½¿ç”¨jOOQ
----------

Javaé¢å‘å¯¹è±¡æŸ¥è¯¢ï¼ˆ[jOOQ](http://www.jooq.org/)ï¼‰æ˜¯[Data Geekeryçš„](http://www.datageekery.com/)ä¸€ä¸ªæµè¡Œäº§å“ï¼Œ å®ƒä»æ‚¨çš„æ•°æ®åº“ç”ŸæˆJavaä»£ç ï¼Œå¹¶å…è®¸æ‚¨é€šè¿‡å…¶æµç•…çš„APIæ„å»ºç±»å‹å®‰å…¨çš„SQLæŸ¥è¯¢ã€‚å•†ä¸šç‰ˆå’Œå¼€æºç‰ˆéƒ½å¯ä»¥ä¸Spring Bootä¸€èµ·ä½¿ç”¨ã€‚

### 30.6.1ä»£ç ç”Ÿæˆ

è¦ä½¿ç”¨jOOQç±»å‹å®‰å…¨æŸ¥è¯¢ï¼Œæ‚¨éœ€è¦ä»æ•°æ®åº“æ¨¡å¼ç”ŸæˆJavaç±»ã€‚æ‚¨å¯ä»¥æŒ‰ç…§[jOOQç”¨æˆ·æ‰‹å†Œä¸­](https://www.jooq.org/doc/3.11.7/manual-single-page/#jooq-in-7-steps-step3)çš„è¯´æ˜è¿›è¡Œ [æ“ä½œ](https://www.jooq.org/doc/3.11.7/manual-single-page/#jooq-in-7-steps-step3)ã€‚å¦‚æœæ‚¨ä½¿ç”¨`jooq-codegen-maven`æ’ä»¶å¹¶ä¸”è¿˜ä½¿ç”¨`spring-boot-starter-parent`â€œçˆ¶POMâ€ï¼Œåˆ™å¯ä»¥å®‰å…¨åœ°çœç•¥æ’ä»¶çš„`<version>`æ ‡è®°ã€‚æ‚¨è¿˜å¯ä»¥ä½¿ç”¨Springå¼•å¯¼å®šä¹‰çš„ç‰ˆæœ¬å˜é‡ï¼ˆä¾‹å¦‚`h2.version`ï¼‰æ¥å£°æ˜æ’ä»¶çš„æ•°æ®åº“ä¾èµ–æ€§ã€‚ä»¥ä¸‹æ¸…å•æ˜¾ç¤ºäº†ä¸€ä¸ªç¤ºä¾‹ï¼š

```
<plugin>
	<groupId>org.jooq</groupId>
	<artifactId>jooq-codegen-maven</artifactId>
	<executions>
		...
	</executions>
	<dependencies>
		<dependency>
			<groupId>com.h2database</groupId>
			<artifactId>h2</artifactId>
			<version>${h2.version}</version>
		</dependency>
	</dependencies>
	<configuration>
		<jdbc>
			<driver>org.h2.Driver</driver>
			<url>jdbc:h2:~/yourdatabase</url>
		</jdbc>
		<generator>
			...
		</generator>
	</configuration>
</plugin>
```

### 30.6.2ä½¿ç”¨DSLContext

jOOQæä¾›çš„æµç•…APIé€šè¿‡`org.jooq.DSLContext`æ¥å£å¯åŠ¨ã€‚Spring Bootå°†`DSLContext`è‡ªåŠ¨é…ç½®ä¸ºSpring Beanå¹¶å°†å…¶è¿æ¥åˆ°æ‚¨çš„åº”ç”¨`DataSource`ã€‚è¦ä½¿ç”¨`DSLContext`ï¼Œæ‚¨å¯ä»¥`@Autowire`ï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤ºï¼š

```
_@Component_
public class JooqExample implements CommandLineRunner {

	private final DSLContext create;

	_@Autowired_
	public JooqExample(DSLContext dslContext) {
		this.create = dslContext;
	}

}
```

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>jOOQæ‰‹å†Œå€¾å‘äºä½¿ç”¨åä¸º<code class="literal" i="1328">create</code>çš„å˜é‡æ¥ä¿å­˜<code class="literal" i="1329">DSLContext</code>ã€‚</p></td></tr></tbody></table>

ç„¶åï¼Œæ‚¨å¯ä»¥ä½¿ç”¨`DSLContext`æ„å»ºæŸ¥è¯¢ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
public List<GregorianCalendar> authorsBornAfter1980() {
	return this.create.selectFrom(AUTHOR)
		.where(AUTHOR.DATE_OF_BIRTH.greaterThan(new GregorianCalendar(1980, 0, 1)))
		.fetch(AUTHOR.DATE_OF_BIRTH);
}
```

### 30.6.3 jOOQ SQLæ–¹è¨€

é™¤éå·²é…ç½®`spring.jooq.sql-dialect`å±æ€§ï¼Œå¦åˆ™Spring Bootå°†ç¡®å®šç”¨äºæ•°æ®æºçš„SQLæ–¹è¨€ã€‚å¦‚æœSpring Bootæ— æ³•æ£€æµ‹åˆ°æ–¹è¨€ï¼Œåˆ™ä½¿ç”¨`DEFAULT`ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>Spring Bootåªèƒ½è‡ªåŠ¨é…ç½®å¼€æºç‰ˆæœ¬çš„jOOQæ”¯æŒçš„æ–¹è¨€ã€‚</p></td></tr></tbody></table>

### 30.6.4è‡ªå®šä¹‰jOOQ

é€šè¿‡å®šä¹‰è‡ªå·±çš„`@Bean`å®šä¹‰å¯ä»¥å®ç°æ›´é«˜çº§çš„è‡ªå®šä¹‰ï¼Œè¿™äº›å®šä¹‰åœ¨åˆ›å»ºjOOQ `Configuration`æ—¶ä½¿ç”¨ã€‚æ‚¨å¯ä»¥ä¸ºä»¥ä¸‹jOOQç±»å‹å®šä¹‰beansï¼š

*   `ConnectionProvider`
*   `ExecutorProvider`
*   `TransactionProvider`
*   `RecordMapperProvider`
*   `RecordUnmapperProvider`
*   `RecordListenerProvider`
*   `ExecuteListenerProvider`
*   `VisitListenerProvider`
*   `TransactionListenerProvider`

å¦‚æœæ‚¨æƒ³å®Œå…¨æ§åˆ¶jOOQé…ç½®ï¼Œä¹Ÿå¯ä»¥åˆ›å»ºè‡ªå·±çš„`org.jooq.Configuration` `@Bean`ã€‚

31.ä½¿ç”¨NoSQL Technologies
-----------------------

Springæ•°æ®æä¾›äº†å…¶ä»–é¡¹ç›®ï¼Œå¯å¸®åŠ©æ‚¨è®¿é—®å„ç§NoSQLæŠ€æœ¯ï¼ŒåŒ…æ‹¬ï¼š [MongoDB](https://projects.spring.io/spring-data-mongodb/)ï¼Œ [Neo4J](https://projects.spring.io/spring-data-neo4j/)ï¼Œ [Elasticsearch](https://github.com/spring-projects/spring-data-elasticsearch/)ï¼Œ [Solr](https://projects.spring.io/spring-data-solr/)ï¼Œ [Redis](https://projects.spring.io/spring-data-redis/)ï¼Œ [Gemfire](https://projects.spring.io/spring-data-gemfire/)ï¼Œ [Cassandra](https://projects.spring.io/spring-data-cassandra/)ï¼Œ [Couchbase](https://projects.spring.io/spring-data-couchbase/)å’Œ [LDAP](https://projects.spring.io/spring-data-ldap/)ã€‚Spring Bootä¸ºRedisï¼ŒMongoDBï¼ŒNeo4jï¼ŒElasticsearchï¼ŒSolr Cassandraï¼ŒCouchbaseå’ŒLDAPæä¾›è‡ªåŠ¨é…ç½®ã€‚æ‚¨å¯ä»¥ä½¿ç”¨å…¶ä»–é¡¹ç›®ï¼Œä½†å¿…é¡»è‡ªå·±é…ç½®å®ƒä»¬ã€‚è¯·å‚é˜…[projects.spring.io/spring-data](https://projects.spring.io/spring-data)ä¸Šçš„ç›¸åº”å‚è€ƒæ–‡æ¡£ ã€‚

31.1Â Redis
----------

[Redis](http://redis.io/)æ˜¯ä¸€ä¸ªç¼“å­˜ï¼Œæ¶ˆæ¯ä»£ç†å’ŒåŠŸèƒ½ä¸°å¯Œçš„é”®å€¼å­˜å‚¨ã€‚Spring Bootä¸º[Lettuce](https://github.com/lettuce-io/lettuce-core/)å’Œ [Jedis](https://github.com/xetorthio/jedis/)å®¢æˆ·ç«¯åº“æä¾›äº†åŸºæœ¬çš„è‡ªåŠ¨é…ç½®ï¼Œ å¹¶ä¸º[Springæ•°æ®Redis](https://github.com/spring-projects/spring-data-redis)æä¾›äº†å®ƒä»¬ä¹‹å¤–çš„æŠ½è±¡ã€‚

æœ‰ä¸€ä¸ª`spring-boot-starter-data-redis`â€œStarterâ€ç”¨äºä»¥æ–¹ä¾¿çš„æ–¹å¼æ”¶é›†ä¾èµ–é¡¹ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒä½¿ç”¨ [Lettuce](https://github.com/lettuce-io/lettuce-core/)ã€‚è¯¥å¯åŠ¨å™¨å¤„ç†ä¼ ç»Ÿå’Œååº”åº”ç”¨ç¨‹åºã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æˆ‘ä»¬è¿˜æä¾›<code class="literal" i="1338">spring-boot-starter-data-redis-reactive</code>â€œStarterâ€ä»¥ä¸å…¶ä»–å…·æœ‰ååº”æ”¯æŒçš„å•†åº—ä¿æŒä¸€è‡´ã€‚</p></td></tr></tbody></table>

### 31.1.1è¿æ¥åˆ°Redis

æ‚¨å¯ä»¥åƒæ³¨å°„ä»»ä½•å…¶ä»–Spring Beanä¸€æ ·æ³¨å…¥è‡ªåŠ¨é…ç½®çš„`RedisConnectionFactory`ï¼Œ`StringRedisTemplate`æˆ–vanilla `RedisTemplate`å®ä¾‹ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ä¾‹å°è¯•åœ¨`localhost:6379`è¿æ¥åˆ°RedisæœåŠ¡å™¨ã€‚ä»¥ä¸‹åˆ—è¡¨æ˜¾ç¤ºäº†æ­¤ç±»beançš„ç¤ºä¾‹ï¼š

```
_@Component_
public class MyBean {

	private StringRedisTemplate template;

	_@Autowired_
	public MyBean(StringRedisTemplate template) {
		this.template = template;
	}

	// ...

}
```

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æ‚¨è¿˜å¯ä»¥æ³¨å†Œå®ç°<code class="literal" i="1343">LettuceClientConfigurationBuilderCustomizer</code>çš„ä»»æ„æ•°é‡çš„beansä»¥è¿›è¡Œæ›´é«˜çº§çš„è‡ªå®šä¹‰ã€‚å¦‚æœæ‚¨ä½¿ç”¨Jedisï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨<code class="literal" i="1344">JedisClientConfigurationBuilderCustomizer</code>ã€‚</p></td></tr></tbody></table>

å¦‚æœæ‚¨æ·»åŠ è‡ªå·±é…ç½®çš„ä»»ä½•ç±»å‹çš„`@Bean`ï¼Œå®ƒå°†æ›¿æ¢é»˜è®¤å€¼ï¼ˆ`RedisTemplate`é™¤å¤–ï¼Œå½“æ’é™¤åŸºäºbeanåç§°æ—¶ï¼Œ`redisTemplate` ï¼Œè€Œä¸æ˜¯å®ƒçš„ç±»å‹ï¼‰ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœç±»è·¯å¾„ä¸Šæœ‰`commons-pool2`ï¼Œåˆ™ä¼šå‡ºç°æ± è¿æ¥å·¥å‚ã€‚

31.2 MongoDB
------------

[MongoDB](https://www.mongodb.com/)æ˜¯ä¸€ä¸ªå¼€æºçš„NoSQLæ–‡æ¡£æ•°æ®åº“ï¼Œå®ƒä½¿ç”¨ç±»ä¼¼JSONçš„æ¨¡å¼è€Œä¸æ˜¯ä¼ ç»Ÿçš„åŸºäºè¡¨çš„å…³ç³»æ•°æ®ã€‚Spring Bootæä¾›äº†ä¸€äº›ä½¿ç”¨MongoDBçš„ä¾¿åˆ©ï¼ŒåŒ…æ‹¬`spring-boot-starter-data-mongodb`å’Œ`spring-boot-starter-data-mongodb-reactive`â€œStartersâ€ã€‚

### 31.2.1è¿æ¥MongoDBæ•°æ®åº“

è¦è®¿é—®Mongoæ•°æ®åº“ï¼Œæ‚¨å¯ä»¥æ³¨å…¥è‡ªåŠ¨é…ç½®çš„`org.springframework.data.mongodb.MongoDbFactory`ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ä¾‹å°è¯•åœ¨`mongodb://localhost/test`è¿æ¥åˆ°MongoDBæœåŠ¡å™¨ã€‚ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºå¦‚ä½•è¿æ¥åˆ°MongoDBæ•°æ®åº“ï¼š

```
import org.springframework.data.mongodb.MongoDbFactory;
import com.mongodb.DB;

_@Component_
public class MyBean {

	private final MongoDbFactory mongo;

	_@Autowired_
	public MyBean(MongoDbFactory mongo) {
		this.mongo = mongo;
	}

	// ...

	public void example() {
		DB db = mongo.getDb();
		// ...
	}

}
```

æ‚¨å¯ä»¥è®¾ç½®`spring.data.mongodb.uri`å±æ€§ä»¥æ›´æ”¹URLå¹¶é…ç½®å…¶ä»–è®¾ç½®ï¼Œä¾‹å¦‚_å‰¯æœ¬é›†_ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
spring.data.mongodb.uri=mongodb://user:secret@mongo1.example.com:12345,mongo2.example.com:23456/test
```

æˆ–è€…ï¼Œåªè¦æ‚¨ä½¿ç”¨Mongo 2.xï¼Œå°±å¯ä»¥æŒ‡å®š`host` / `port`ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥åœ¨`application.properties`ä¸­å£°æ˜ä»¥ä¸‹è®¾ç½®ï¼š

```
spring.data.mongodb.host=mongoserver
spring.data.mongodb.port=27017
```

å¦‚æœæ‚¨å·²ç»å®šä¹‰äº†è‡ªå·±çš„`MongoClient`ï¼Œå®ƒå°†ç”¨äºè‡ªåŠ¨é…ç½®åˆé€‚çš„`MongoDbFactory`ã€‚æ”¯æŒ`com.mongodb.MongoClient`å’Œ`com.mongodb.client.MongoClient`ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å¦‚æœæ‚¨ä½¿ç”¨Mongo 3.0 Javaé©±åŠ¨ç¨‹åºï¼Œåˆ™ä¸æ”¯æŒ<code class="literal" i="1361">spring.data.mongodb.host</code>å’Œ<code class="literal" i="1362">spring.data.mongodb.port</code>ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ<code class="literal" i="1363">spring.data.mongodb.uri</code>åº”è¯¥ç”¨äºæä¾›æ‰€æœ‰é…ç½®ã€‚</p></td></tr></tbody></table><table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¦‚æœæœªæŒ‡å®š<code class="literal" i="1364">spring.data.mongodb.port</code>ï¼Œåˆ™ä½¿ç”¨é»˜è®¤å€¼<code class="literal" i="1365">27017</code>ã€‚æ‚¨å¯ä»¥ä»å‰é¢æ˜¾ç¤ºçš„ç¤ºä¾‹ä¸­åˆ é™¤æ­¤è¡Œã€‚</p></td></tr></tbody></table><table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¦‚æœæ‚¨ä¸ä½¿ç”¨Spring Data Mongoï¼Œåˆ™å¯ä»¥æ³¨å…¥<code class="literal" i="1366">com.mongodb.MongoClient</code> beansè€Œä¸æ˜¯<code class="literal" i="1367">MongoDbFactory</code>ã€‚å¦‚æœæ‚¨æƒ³å®Œå…¨æ§åˆ¶å»ºç«‹MongoDBè¿æ¥ï¼Œæ‚¨ä¹Ÿå¯ä»¥å£°æ˜è‡ªå·±çš„<code class="literal" i="1368">MongoDbFactory</code>æˆ–<code class="literal" i="1369">MongoClient</code> beanã€‚</p></td></tr></tbody></table><table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯ååº”å¼é©±åŠ¨ç¨‹åºï¼Œåˆ™SSLéœ€è¦Nettyã€‚å¦‚æœNettyå¯ç”¨ä¸”è‡ªå·±çš„å·¥å‚å°šæœªè‡ªå®šä¹‰ï¼Œåˆ™è‡ªåŠ¨é…ç½®ä¼šè‡ªåŠ¨é…ç½®æ­¤å·¥å‚ã€‚</p></td></tr></tbody></table>

### 31.2.2 MongoTemplate

[Springæ•°æ®MongoDB](https://projects.spring.io/spring-data-mongodb/)æä¾›äº†ä¸€ä¸ª[`MongoTemplate`](https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/MongoTemplate.html)ä¸Spring `JdbcTemplate`è®¾è®¡éå¸¸ç›¸ä¼¼çš„ ç±»ã€‚ä¸`JdbcTemplate`ä¸€æ ·ï¼ŒSpring Bootä¸ºæ‚¨è‡ªåŠ¨é…ç½®beanä»¥æ³¨å…¥æ¨¡æ¿ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.data.mongodb.core.MongoTemplate;
import org.springframework.stereotype.Component;

_@Component_
public class MyBean {

	private final MongoTemplate mongoTemplate;

	_@Autowired_
	public MyBean(MongoTemplate mongoTemplate) {
		this.mongoTemplate = mongoTemplate;
	}

	// ...

}
```

æœ‰å…³å®Œæ•´çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… [`MongoOperations` Javadoc](https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/MongoOperations.html)ã€‚

### 31.2.3 Springæ•°æ®MongoDBå­˜å‚¨åº“

Springæ•°æ®åŒ…æ‹¬MongoDBçš„å­˜å‚¨åº“æ”¯æŒã€‚ä¸å‰é¢è®¨è®ºçš„JPAå­˜å‚¨åº“ä¸€æ ·ï¼ŒåŸºæœ¬åŸåˆ™æ˜¯åŸºäºæ–¹æ³•åç§°è‡ªåŠ¨æ„é€ æŸ¥è¯¢ã€‚

å®é™…ä¸Šï¼ŒSpring Data JPAå’ŒSpring Data MongoDBå…±äº«ç›¸åŒçš„å…¬å…±åŸºç¡€ç»“æ„ã€‚æ‚¨å¯ä»¥ä»å‰é¢è·å–JPAç¤ºä¾‹ï¼Œå‡è®¾`City`ç°åœ¨æ˜¯Mongoæ•°æ®ç±»è€Œä¸æ˜¯JPA `@Entity`ï¼Œå®ƒçš„å·¥ä½œæ–¹å¼ç›¸åŒï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤ºï¼š

```
package com.example.myapp.domain;

import org.springframework.data.domain.*;
import org.springframework.data.repository.*;

public interface CityRepository extends Repository<City, Long> {

	Page<City> findAll(Pageable pageable);

	City findByNameAndStateAllIgnoringCase(String name, String state);

}
```

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æ‚¨å¯ä»¥ä½¿ç”¨<code class="literal" i="1375">@EntityScan</code>æ³¨é‡Šè‡ªå®šä¹‰æ–‡æ¡£æ‰«æä½ç½®ã€‚</p></td></tr></tbody></table><table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æœ‰å…³Spring Data MongoDBçš„å®Œæ•´è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬å…¶ä¸°å¯Œçš„å¯¹è±¡æ˜ å°„æŠ€æœ¯ï¼Œè¯·å‚é˜…å…¶<a class="link" href="https://projects.spring.io/spring-data-mongodb/" target="_top">å‚è€ƒæ–‡æ¡£</a>ã€‚</p></td></tr></tbody></table>

### 31.2.4åµŒå…¥å¼Mongo

Spring Bootä¸º[Embedded Mongo](https://github.com/flapdoodle-oss/de.flapdoodle.embed.mongo)æä¾›è‡ªåŠ¨é…ç½® ã€‚è¦åœ¨Spring Bootåº”ç”¨ç¨‹åºä¸­ä½¿ç”¨å®ƒï¼Œè¯·åœ¨`de.flapdoodle.embed:de.flapdoodle.embed.mongo`ä¸Šæ·»åŠ ä¾èµ–é¡¹ã€‚

å¯ä»¥é€šè¿‡è®¾ç½®`spring.data.mongodb.port`å±æ€§æ¥é…ç½®Mongoä¾¦å¬çš„ç«¯å£ã€‚è¦ä½¿ç”¨éšæœºåˆ†é…çš„ç©ºé—²ç«¯å£ï¼Œè¯·ä½¿ç”¨å€¼0. `MongoAutoConfiguration`åˆ›å»ºçš„`MongoClient`å°†è‡ªåŠ¨é…ç½®ä¸ºä½¿ç”¨éšæœºåˆ†é…çš„ç«¯å£ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å¦‚æœæœªé…ç½®è‡ªå®šä¹‰ç«¯å£ï¼Œåˆ™åµŒå…¥å¼æ”¯æŒé»˜è®¤ä½¿ç”¨éšæœºç«¯å£ï¼ˆè€Œä¸æ˜¯27017ï¼‰ã€‚</p></td></tr></tbody></table>

å¦‚æœç±»è·¯å¾„ä¸Šæœ‰SLF4Jï¼Œåˆ™Mongoç”Ÿæˆçš„è¾“å‡ºä¼šè‡ªåŠ¨è·¯ç”±åˆ°åä¸º`org.springframework.boot.autoconfigure.mongo.embedded.EmbeddedMongo`çš„è®°å½•å™¨ã€‚

æ‚¨å¯ä»¥å£°æ˜è‡ªå·±çš„`IMongodConfig`å’Œ`IRuntimeConfig` beansæ¥æ§åˆ¶Mongoå®ä¾‹çš„é…ç½®å’Œæ—¥å¿—è·¯ç”±ã€‚

31.3 Neo4j
----------

[Neo4j](http://neo4j.com/)æ˜¯ä¸€ä¸ªå¼€æºçš„NoSQLå›¾å½¢æ•°æ®åº“ï¼Œå®ƒä½¿ç”¨ç”±ä¸€çº§å…³ç³»è¿æ¥çš„èŠ‚ç‚¹çš„ä¸°å¯Œæ•°æ®æ¨¡å‹ï¼Œä¸ä¼ ç»Ÿçš„RDBMSæ–¹æ³•ç›¸æ¯”ï¼Œå®ƒæ›´é€‚åˆäºè¿æ¥çš„å¤§æ•°æ®ã€‚Spring Bootä¸ºä½¿ç”¨Neo4jæä¾›äº†ä¸€äº›ä¾¿åˆ©ï¼ŒåŒ…æ‹¬`spring-boot-starter-data-neo4j`â€œStarterâ€ã€‚

### 31.3.1è¿æ¥åˆ°Neo4jæ•°æ®åº“

è¦è®¿é—®Neo4jæœåŠ¡å™¨ï¼Œæ‚¨å¯ä»¥æ³¨å…¥è‡ªåŠ¨é…ç½®çš„`org.neo4j.ogm.session.Session`ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ä¾‹å°è¯•ä½¿ç”¨Boltåè®®è¿æ¥åˆ°`localhost:7687`çš„Neo4jæœåŠ¡å™¨ã€‚ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†å¦‚ä½•æ³¨å…¥Neo4j `Session`ï¼š

```
_@Component_
public class MyBean {

	private final Session session;

	_@Autowired_
	public MyBean(Session session) {
		this.session = session;
	}

	// ...

}
```

æ‚¨å¯ä»¥é€šè¿‡è®¾ç½®`spring.data.neo4j.*`å±æ€§æ¥é…ç½®è¦ä½¿ç”¨çš„URIå’Œå‡­æ®ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
spring.data.neo4j.uri=bolt://my-server:7687
spring.data.neo4j.username=neo4j
spring.data.neo4j.password=secret
```

æ‚¨å¯ä»¥é€šè¿‡æ·»åŠ `org.neo4j.ogm.config.Configuration` `@Bean`æ¥å®Œå…¨æ§åˆ¶ä¼šè¯åˆ›å»ºã€‚æ­¤å¤–ï¼Œæ·»åŠ `@Bean`ç±»å‹`SessionFactory`ä¼šç¦ç”¨è‡ªåŠ¨é…ç½®å¹¶ä¸ºæ‚¨æä¾›å®Œå…¨æ§åˆ¶æƒã€‚

### 31.3.2ä½¿ç”¨åµŒå…¥æ¨¡å¼

å¦‚æœå°†`org.neo4j:neo4j-ogm-embedded-driver`æ·»åŠ åˆ°åº”ç”¨ç¨‹åºçš„ä¾èµ–é¡¹ä¸­ï¼ŒSpring Bootä¼šè‡ªåŠ¨é…ç½®Neo4jçš„è¿›ç¨‹å†…åµŒå…¥å¼å®ä¾‹ï¼Œè¯¥åº”ç”¨ç¨‹åºåœ¨åº”ç”¨ç¨‹åºå…³é—­æ—¶ä¸ä¼šä¿ç•™ä»»ä½•æ•°æ®ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>ç”±äºåµŒå…¥å¼Neo4j OGMé©±åŠ¨ç¨‹åºæœ¬èº«ä¸æä¾›Neo4jå†…æ ¸ï¼Œå› æ­¤æ‚¨å¿…é¡»è‡ªå·±å£°æ˜<code class="literal" i="1393">org.neo4j:neo4j</code>ä¸ºä¾èµ–é¡¹ã€‚æœ‰å…³å…¼å®¹ç‰ˆæœ¬çš„åˆ—è¡¨ï¼Œè¯·å‚é˜… <a class="link" href="https://neo4j.com/docs/ogm-manual/current/reference/#reference:getting-started" target="_top">Neo4j OGMæ–‡æ¡£</a>ã€‚</p></td></tr></tbody></table>

å½“ç±»è·¯å¾„ä¸Šæœ‰å¤šä¸ªé©±åŠ¨ç¨‹åºæ—¶ï¼ŒåµŒå…¥å¼é©±åŠ¨ç¨‹åºä¼˜å…ˆäºå…¶ä»–é©±åŠ¨ç¨‹åºã€‚æ‚¨å¯ä»¥é€šè¿‡è®¾ç½®`spring.data.neo4j.embedded.enabled=false`æ¥æ˜ç¡®ç¦ç”¨åµŒå…¥æ¨¡å¼ã€‚

[](#boot-features-testing-spring-boot-applications-testing-autoconfigured-neo4j-test "45.3.17è‡ªåŠ¨é…ç½®çš„æ•°æ®Neo4jæµ‹è¯•")å¦‚æœåµŒå…¥å¼é©±åŠ¨ç¨‹åºå’ŒNeo4jå†…æ ¸å¦‚ä¸Šæ‰€è¿°ä½äºç±»è·¯å¾„ä¸Šï¼Œåˆ™[æ•°æ®Neo4jæµ‹è¯•ä¼š](#boot-features-testing-spring-boot-applications-testing-autoconfigured-neo4j-test "45.3.17Â Auto-configured Data Neo4j Tests")è‡ªåŠ¨ä½¿ç”¨åµŒå…¥å¼Neo4jå®ä¾‹ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>æ‚¨å¯ä»¥é€šè¿‡åœ¨é…ç½®ä¸­æä¾›æ•°æ®åº“æ–‡ä»¶çš„è·¯å¾„æ¥ä¸ºåµŒå…¥æ¨¡å¼å¯ç”¨æŒä¹…æ€§ï¼Œä¾‹å¦‚<code class="literal" i="1395">spring.data.neo4j.uri=file://var/tmp/graph.db</code>ã€‚</p></td></tr></tbody></table>

### 31.3.3 Neo4jSession

é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœæ‚¨æ­£åœ¨è¿è¡ŒWebåº”ç”¨ç¨‹åºï¼Œåˆ™ä¼šè¯å°†ç»‘å®šåˆ°è¯¥çº¿ç¨‹ä»¥è¿›è¡Œæ•´ä¸ªè¯·æ±‚å¤„ç†ï¼ˆå³ï¼Œå®ƒä½¿ç”¨â€œåœ¨è§†å›¾ä¸­æ‰“å¼€ä¼šè¯â€æ¨¡å¼ï¼‰ã€‚å¦‚æœæ‚¨ä¸æƒ³è¦æ­¤è¡Œä¸ºï¼Œè¯·å°†ä»¥ä¸‹è¡Œæ·»åŠ åˆ°æ‚¨çš„`application.properties`æ–‡ä»¶ä¸­ï¼š

```
spring.data.neo4j.open-in-view=false
```

### 31.3.4 Springæ•°æ®Neo4jå­˜å‚¨åº“

Springæ•°æ®åŒ…æ‹¬Neo4jçš„å­˜å‚¨åº“æ”¯æŒã€‚

Springæ•°æ®Neo4jä¸Spring Data JPAå…±äº«å…¬å…±åŸºç¡€æ¶æ„ï¼Œæ­£å¦‚è®¸å¤šå…¶ä»–Springæ•°æ®æ¨¡å—é‚£æ ·ã€‚æ‚¨å¯ä»¥ä»ä¹‹å‰çš„JPAç¤ºä¾‹ä¸­å°†`City`å®šä¹‰ä¸ºNeo4j OGM `@NodeEntity`è€Œä¸æ˜¯JPA `@Entity`ï¼Œå¹¶ä¸”å­˜å‚¨åº“æŠ½è±¡ä»¥ç›¸åŒçš„æ–¹å¼å·¥ä½œï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
package com.example.myapp.domain;

import java.util.Optional;

import org.springframework.data.neo4j.repository.*;

public interface CityRepository extends Neo4jRepository<City, Long> {

	Optional<City> findOneByNameAndState(String name, String state);

}
```

`spring-boot-starter-data-neo4j`â€œStarterâ€å¯ç”¨å­˜å‚¨åº“æ”¯æŒä»¥åŠäº‹åŠ¡ç®¡ç†ã€‚æ‚¨å¯ä»¥åœ¨`@Configuration` - beanä¸Šåˆ†åˆ«ä½¿ç”¨`@EnableNeo4jRepositories`å’Œ`@EntityScan`æ¥è‡ªå®šä¹‰ä½ç½®ä»¥æŸ¥æ‰¾å­˜å‚¨åº“å’Œå®ä½“ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æœ‰å…³Spring Data Neo4jçš„å®Œæ•´è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬å…¶å¯¹è±¡æ˜ å°„æŠ€æœ¯ï¼Œè¯·å‚é˜…<a class="link" href="https://projects.spring.io/spring-data-neo4j/" target="_top">å‚è€ƒæ–‡æ¡£</a>ã€‚</p></td></tr></tbody></table>

31.4Â Gemfire
------------

[Springæ•°æ®Gemfire](https://github.com/spring-projects/spring-data-gemfire)ä¸ºè®¿é—®[Pivotal Gemfire](https://pivotal.io/big-data/pivotal-gemfire#details)æ•°æ®ç®¡ç†å¹³å°æä¾›äº†æ–¹ä¾¿çš„Springå‹å¥½å·¥å…· ã€‚æœ‰ä¸€ä¸ª`spring-boot-starter-data-gemfire`â€œStarterâ€ç”¨äºä»¥æ–¹ä¾¿çš„æ–¹å¼æ”¶é›†ä¾èµ–é¡¹ã€‚ç›®å‰æ²¡æœ‰Gemfireçš„è‡ªåŠ¨é…ç½®æ”¯æŒï¼Œä½†æ‚¨å¯ä»¥ä½¿ç”¨[å•ä¸ªæ³¨é‡Š](https://github.com/spring-projects/spring-data-gemfire/blob/master/src/main/java/org/springframework/data/gemfire/repository/config/EnableGemfireRepositories.java)å¯ç”¨Springæ•°æ®å­˜å‚¨åº“ [ï¼š`@EnableGemfireRepositories`](https://github.com/spring-projects/spring-data-gemfire/blob/master/src/main/java/org/springframework/data/gemfire/repository/config/EnableGemfireRepositories.java)ã€‚

31.5 Solr
---------

[Apache Solr](https://lucene.apache.org/solr/)æ˜¯ä¸€ä¸ªæœç´¢å¼•æ“ã€‚Spring Bootä¸ºSolr 5å®¢æˆ·ç«¯åº“æä¾›äº†åŸºæœ¬çš„è‡ªåŠ¨é…ç½®ï¼Œå¹¶åœ¨[Spring Data Solr](https://github.com/spring-projects/spring-data-solr)æä¾›äº†å®ƒä¸Šé¢çš„æŠ½è±¡ã€‚æœ‰ä¸€ä¸ª`spring-boot-starter-data-solr`â€œStarterâ€ç”¨äºä»¥æ–¹ä¾¿çš„æ–¹å¼æ”¶é›†ä¾èµ–é¡¹ã€‚

### 31.5.1è¿æ¥åˆ°Solr

æ‚¨å¯ä»¥åƒæ³¨å°„ä»»ä½•å…¶ä»–Spring beanä¸€æ ·æ³¨å…¥è‡ªåŠ¨é…ç½®çš„`SolrClient`å®ä¾‹ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ä¾‹å°è¯•è¿æ¥åˆ°`[localhost:8983/solr](http://localhost:8983/solr)`çš„æœåŠ¡å™¨ã€‚ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†å¦‚ä½•æ³¨å…¥Solr beanï¼š

```
_@Component_
public class MyBean {

	private SolrClient solr;

	_@Autowired_
	public MyBean(SolrClient solr) {
		this.solr = solr;
	}

	// ...

}
```

å¦‚æœæ‚¨æ·»åŠ `SolrClient`ç±»å‹çš„`@Bean`ï¼Œå®ƒå°†æ›¿æ¢é»˜è®¤å€¼ã€‚

### 31.5.2 Springæ•°æ®Solrå­˜å‚¨åº“

Springæ•°æ®åŒ…æ‹¬Apache Solrçš„å­˜å‚¨åº“æ”¯æŒã€‚ä¸å‰é¢è®¨è®ºçš„JPAå­˜å‚¨åº“ä¸€æ ·ï¼ŒåŸºæœ¬åŸåˆ™æ˜¯æ ¹æ®æ–¹æ³•åç§°è‡ªåŠ¨æ„å»ºæŸ¥è¯¢ã€‚

å®é™…ä¸Šï¼ŒSpring Data JPAå’ŒSpring Data Solrå…±äº«ç›¸åŒçš„å…¬å…±åŸºç¡€ç»“æ„ã€‚æ‚¨å¯ä»¥ä»å‰é¢è·å–JPAç¤ºä¾‹ï¼Œå‡è®¾`City`ç°åœ¨æ˜¯`@SolrDocument`ç±»è€Œä¸æ˜¯JPA `@Entity`ï¼Œå®ƒçš„å·¥ä½œæ–¹å¼ç›¸åŒã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æœ‰å…³Spring Data Solrçš„å®Œæ•´è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… <a class="link" href="https://projects.spring.io/spring-data-solr/" target="_top">å‚è€ƒæ–‡æ¡£</a>ã€‚</p></td></tr></tbody></table>

31.6 Elasticsearch
------------------

[Elasticsearch](https://www.elastic.co/products/elasticsearch)æ˜¯ä¸€ä¸ªå¼€æºï¼Œåˆ†å¸ƒå¼ï¼ŒRESTfulæœç´¢å’Œåˆ†æå¼•æ“ã€‚Spring Bootä¸ºElasticsearchæä¾›åŸºæœ¬çš„è‡ªåŠ¨é…ç½®ã€‚

Spring Bootæ”¯æŒå¤šä¸ªHTTPå®¢æˆ·ç«¯ï¼š

*   å®˜æ–¹Javaâ€œä½çº§â€å’Œâ€œé«˜çº§â€RESTå®¢æˆ·ç«¯
*   [ç¬‘è¯](https://github.com/searchbox-io/Jest)

[Spring Data Elasticsearch](https://github.com/spring-projects/spring-data-elasticsearch)ä»åœ¨ä½¿ç”¨ä¼ è¾“å®¢æˆ·ç«¯ ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨`spring-boot-starter-data-elasticsearch`â€œStarterâ€å¼€å§‹ä½¿ç”¨å®ƒã€‚

### 31.6.1 RESTå®¢æˆ·ç«¯è¿æ¥åˆ°Elasticsearch

Elasticsearchæä¾›äº† [ä¸¤ä¸ª](https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/index.html) å¯ç”¨äºæŸ¥è¯¢é›†ç¾¤çš„[RESTå®¢æˆ·ç«¯](https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/index.html)ï¼šâ€œä½çº§â€å®¢æˆ·ç«¯å’Œâ€œé«˜çº§â€å®¢æˆ·ç«¯ã€‚

å¦‚æœæ‚¨å¯¹ç±»è·¯å¾„å…·æœ‰`org.elasticsearch.client:elasticsearch-rest-client`ä¾èµ–å…³ç³»ï¼ŒSpring Bootå°†è‡ªåŠ¨é…ç½®å¹¶æ³¨å†Œé»˜è®¤ç›®æ ‡ä¸º`[localhost:9200](http://localhost:9200)`çš„`RestClient` beanã€‚æ‚¨å¯ä»¥è¿›ä¸€æ­¥è°ƒæ•´`RestClient`çš„é…ç½®æ–¹å¼ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
spring.elasticsearch.rest.uris=http://search.example.com:9200
spring.elasticsearch.rest.username=user
spring.elasticsearch.rest.password=secret
```

æ‚¨è¿˜å¯ä»¥æ³¨å†Œå®ç°`RestClientBuilderCustomizer`çš„ä»»æ„æ•°é‡çš„beansä»¥è¿›è¡Œæ›´é«˜çº§çš„è‡ªå®šä¹‰ã€‚è¦å®Œå…¨æ§åˆ¶æ³¨å†Œï¼Œè¯·å®šä¹‰`RestClient` beanã€‚

å¦‚æœæ‚¨å¯¹ç±»è·¯å¾„å…·æœ‰`org.elasticsearch.client:elasticsearch-rest-high-level-client`ä¾èµ–å…³ç³»ï¼ŒSpring Bootå°†è‡ªåŠ¨é…ç½®`RestHighLevelClient`ï¼Œå…¶åŒ…è£…ä»»ä½•ç°æœ‰çš„`RestClient` beanï¼Œé‡ç”¨å…¶HTTPé…ç½®ã€‚

### 31.6.2ä½¿ç”¨Jestè¿æ¥åˆ°Elasticsearch

å¦‚æœç±»è·¯å¾„ä¸Šæœ‰`Jest`ï¼Œåˆ™å¯ä»¥æ³¨å…¥ä¸€ä¸ªè‡ªåŠ¨é…ç½®çš„`JestClient`ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¸º`[localhost:9200](http://localhost:9200)`ã€‚æ‚¨å¯ä»¥è¿›ä¸€æ­¥è°ƒæ•´å®¢æˆ·ç«¯çš„é…ç½®æ–¹å¼ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
spring.elasticsearch.jest.uris=http://search.example.com:9200
spring.elasticsearch.jest.read-timeout=10000
spring.elasticsearch.jest.username=user
spring.elasticsearch.jest.password=secret
```

æ‚¨è¿˜å¯ä»¥æ³¨å†Œå®ç°`HttpClientConfigBuilderCustomizer`çš„ä»»æ„æ•°é‡çš„beansä»¥è¿›è¡Œæ›´é«˜çº§çš„è‡ªå®šä¹‰ã€‚ä»¥ä¸‹ç¤ºä¾‹è°ƒæ•´å…¶ä»–HTTPè®¾ç½®ï¼š

```
static class HttpSettingsCustomizer implements HttpClientConfigBuilderCustomizer {

	_@Override_
	public void customize(HttpClientConfig.Builder builder) {
		builder.maxTotalConnection(100).defaultMaxTotalConnectionPerRoute(5);
	}

}
```

è¦å®Œå…¨æ§åˆ¶æ³¨å†Œï¼Œè¯·å®šä¹‰`JestClient` beanã€‚

### 31.6.3ä½¿ç”¨Springæ•°æ®è¿æ¥åˆ°Elasticsearch

è¦è¿æ¥åˆ°Elasticsearchï¼Œæ‚¨å¿…é¡»æä¾›ä¸€ä¸ªæˆ–å¤šä¸ªç¾¤é›†èŠ‚ç‚¹çš„åœ°å€ã€‚å¯ä»¥é€šè¿‡å°†`spring.data.elasticsearch.cluster-nodes`å±æ€§è®¾ç½®ä¸ºé€—å·åˆ†éš”çš„`host:port`åˆ—è¡¨æ¥æŒ‡å®šåœ°å€ã€‚æœ‰äº†è¿™ç§é…ç½®ï¼Œ`ElasticsearchTemplate`æˆ–`TransportClient`å¯ä»¥åƒä»»ä½•å…¶ä»–Spring beanä¸€æ ·æ³¨å…¥ï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤ºï¼š

```
spring.data.elasticsearch.cluster-nodes=localhost:9300
```

```
_@Component_
public class MyBean {

	private final ElasticsearchTemplate template;

	public MyBean(ElasticsearchTemplate template) {
		this.template = template;
	}

	// ...

}
```

å¦‚æœæ‚¨æ·»åŠ è‡ªå·±çš„`ElasticsearchTemplate`æˆ–`TransportClient` `@Bean`ï¼Œåˆ™ä¼šæ›¿æ¢é»˜è®¤å€¼ã€‚

### 31.6.4 Springæ•°æ®Elasticsearchå­˜å‚¨åº“

Springæ•°æ®åŒ…æ‹¬Elasticsearchçš„å­˜å‚¨åº“æ”¯æŒã€‚ä¸å‰é¢è®¨è®ºçš„JPAå­˜å‚¨åº“ä¸€æ ·ï¼ŒåŸºæœ¬åŸåˆ™æ˜¯æ ¹æ®æ–¹æ³•åç§°è‡ªåŠ¨ä¸ºæ‚¨æ„å»ºæŸ¥è¯¢ã€‚

äº‹å®ä¸Šï¼ŒSpring Data JPAå’ŒSpring Data Elasticsearchå…±äº«ç›¸åŒçš„é€šç”¨åŸºç¡€æ¶æ„ã€‚æ‚¨å¯ä»¥ä»ä¹‹å‰è·å–JPAç¤ºä¾‹ï¼Œå‡è®¾`City`ç°åœ¨æ˜¯Elasticsearch `@Document`ç±»è€Œä¸æ˜¯JPA `@Entity`ï¼Œå®ƒçš„å·¥ä½œæ–¹å¼ç›¸åŒã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æœ‰å…³Spring Data Elasticsearchçš„å®Œæ•´è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… <a class="link" href="https://docs.spring.io/spring-data/elasticsearch/docs/" target="_top">å‚è€ƒæ–‡æ¡£</a>ã€‚</p></td></tr></tbody></table>

31.7Â Cassandra
--------------

[Cassandra](https://cassandra.apache.org/)æ˜¯ä¸€ä¸ªå¼€æºçš„åˆ†å¸ƒå¼æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œæ—¨åœ¨å¤„ç†è®¸å¤šå•†ç”¨æœåŠ¡å™¨ä¸Šçš„å¤§é‡æ•°æ®ã€‚Spring Bootæä¾›Cassandraçš„è‡ªåŠ¨é…ç½®ä»¥åŠ[Springæ•°æ®Cassandra](https://github.com/spring-projects/spring-data-cassandra)æä¾›çš„æ‘˜è¦ã€‚æœ‰ä¸€ä¸ª`spring-boot-starter-data-cassandra`â€œStarterâ€ç”¨äºä»¥æ–¹ä¾¿çš„æ–¹å¼æ”¶é›†ä¾èµ–é¡¹ã€‚

### 31.7.1è¿æ¥åˆ°Cassandra

æ‚¨å¯ä»¥åƒå¯¹å¾…ä»»ä½•å…¶ä»–Spring Beanä¸€æ ·æ³¨å…¥è‡ªåŠ¨é…ç½®çš„`CassandraTemplate`æˆ–Cassandra `Session`å®ä¾‹ã€‚`spring.data.cassandra.*`å±æ€§å¯ç”¨äºè‡ªå®šä¹‰è¿æ¥ã€‚é€šå¸¸ï¼Œæ‚¨æä¾›`keyspace-name`å’Œ`contact-points`å±æ€§ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
spring.data.cassandra.keyspace-name=mykeyspace
spring.data.cassandra.contact-points=cassandrahost1,cassandrahost2
```

æ‚¨è¿˜å¯ä»¥æ³¨å†Œå®ç°`ClusterBuilderCustomizer`çš„ä»»æ„æ•°é‡çš„beansä»¥è¿›è¡Œæ›´é«˜çº§çš„è‡ªå®šä¹‰ã€‚

ä»¥ä¸‹ä»£ç æ¸…å•æ˜¾ç¤ºäº†å¦‚ä½•æ³¨å…¥Cassandra beanï¼š

```
_@Component_
public class MyBean {

	private CassandraTemplate template;

	_@Autowired_
	public MyBean(CassandraTemplate template) {
		this.template = template;
	}

	// ...

}
```

å¦‚æœæ‚¨æ·»åŠ `CassandraTemplate`ç±»å‹çš„`@Bean`ï¼Œå®ƒå°†æ›¿æ¢é»˜è®¤å€¼ã€‚

### 31.7.2 Springæ•°æ®Cassandraå­˜å‚¨åº“

Springæ•°æ®åŒ…æ‹¬Cassandraçš„åŸºæœ¬å­˜å‚¨åº“æ”¯æŒã€‚ç›®å‰ï¼Œè¿™æ¯”å‰é¢è®¨è®ºçš„JPAå­˜å‚¨åº“æ›´æœ‰é™ï¼Œéœ€è¦ä½¿ç”¨`@Query`æ¥æ³¨é‡Šfinderæ–¹æ³•ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æœ‰å…³Springæ•°æ®Cassandraçš„å®Œæ•´è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… <a class="link" href="https://docs.spring.io/spring-data/cassandra/docs/" target="_top">å‚è€ƒæ–‡æ¡£</a>ã€‚</p></td></tr></tbody></table>

31.8 Couchbase
--------------

[Couchbase](https://www.couchbase.com/)æ˜¯ä¸€ä¸ªå¼€æºçš„ï¼Œåˆ†å¸ƒå¼çš„ï¼Œå¤šæ¨¡å‹çš„NoSQLé¢å‘æ–‡æ¡£çš„æ•°æ®åº“ï¼Œé’ˆå¯¹äº¤äº’å¼åº”ç”¨ç¨‹åºè¿›è¡Œäº†ä¼˜åŒ–ã€‚Spring Bootæä¾›äº†Couchbaseçš„è‡ªåŠ¨é…ç½®ä»¥åŠ[Spring Data Couchbase](https://github.com/spring-projects/spring-data-couchbase)æä¾›çš„æŠ½è±¡ ã€‚æœ‰`spring-boot-starter-data-couchbase`å’Œ`spring-boot-starter-data-couchbase-reactive`â€œStartersâ€ç”¨äºä»¥æ–¹ä¾¿çš„æ–¹å¼æ”¶é›†ä¾èµ–é¡¹ã€‚

### 31.8.1è¿æ¥Couchbase

æ‚¨å¯ä»¥é€šè¿‡æ·»åŠ Couchbase SDKå’Œä¸€äº›é…ç½®æ¥è·å¾—`Bucket`å’Œ`Cluster`ã€‚`spring.couchbase.*`å±æ€§å¯ç”¨äºè‡ªå®šä¹‰è¿æ¥ã€‚é€šå¸¸ï¼Œæ‚¨æä¾›å¼•å¯¼ä¸»æœºï¼Œå­˜å‚¨æ¡¶åç§°å’Œå¯†ç ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
spring.couchbase.bootstrap-hosts=my-host-1,192.168.1.123
spring.couchbase.bucket.name=my-bucket
spring.couchbase.bucket.password=secret
```

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æ‚¨éœ€è¦<em>è‡³å°‘</em>æä¾›å¼•å¯¼ä¸»æœºï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå­˜å‚¨æ¡¶åç§°ä¸º<code class="literal" i="1454">default</code>ï¼Œå¯†ç ä¸ºç©ºå­—ç¬¦ä¸²ã€‚æˆ–è€…ï¼Œæ‚¨å¯ä»¥å®šä¹‰è‡ªå·±çš„<code class="literal" i="1455">org.springframework.data.couchbase.config.CouchbaseConfigurer</code> <code class="literal" i="1456">@Bean</code>æ¥æ§åˆ¶æ•´ä¸ªé…ç½®ã€‚</p></td></tr></tbody></table>

ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ä¸€äº›`CouchbaseEnvironment`è®¾ç½®ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹é…ç½®æ›´æ”¹ç”¨äºæ‰“å¼€æ–°`Bucket`çš„è¶…æ—¶å¹¶å¯ç”¨SSLæ”¯æŒï¼š

```
spring.couchbase.env.timeouts.connect=3000
spring.couchbase.env.ssl.key-store=/location/of/keystore.jks
spring.couchbase.env.ssl.key-store-password=secret
```

æŸ¥çœ‹`spring.couchbase.env.*`å±æ€§ä»¥è·å–æ›´å¤šè¯¦ç»†ä¿¡æ¯ã€‚

### 31.8.2 Springæ•°æ®Couchbaseå­˜å‚¨åº“

Springæ•°æ®åŒ…æ‹¬Couchbaseçš„å­˜å‚¨åº“æ”¯æŒã€‚æœ‰å…³Spring Data Couchbaseçš„å®Œæ•´è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… [å‚è€ƒæ–‡æ¡£](https://docs.spring.io/spring-data/couchbase/docs/current/reference/html/)ã€‚

æ‚¨å¯ä»¥åƒä½¿ç”¨ä»»ä½•å…¶ä»–Spring Beanä¸€æ ·æ³¨å…¥è‡ªåŠ¨é…ç½®çš„`CouchbaseTemplate`å®ä¾‹ï¼Œå‰ææ˜¯_é»˜è®¤_ `CouchbaseConfigurer`å¯ç”¨ï¼ˆå½“æ‚¨å¯ç”¨Couchbaseæ”¯æŒæ—¶ä¼šå‘ç”Ÿè¿™ç§æƒ…å†µï¼Œå¦‚å‰æ‰€è¿°ï¼‰ã€‚

ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†å¦‚ä½•æ³¨å…¥Couchbase beanï¼š

```
_@Component_
public class MyBean {

	private final CouchbaseTemplate template;

	_@Autowired_
	public MyBean(CouchbaseTemplate template) {
		this.template = template;
	}

	// ...

}
```

æ‚¨å¯ä»¥åœ¨è‡ªå·±çš„é…ç½®ä¸­å®šä¹‰ä¸€äº›beansæ¥è¦†ç›–è‡ªåŠ¨é…ç½®æä¾›çš„å†…å®¹ï¼š

*   `CouchbaseTemplate` `@Bean`ï¼Œåç§°ä¸º`couchbaseTemplate`ã€‚
*   `IndexManager` `@Bean`ï¼Œåç§°ä¸º`couchbaseIndexManager`ã€‚
*   `CustomConversions` `@Bean`ï¼Œåç§°ä¸º`couchbaseCustomConversions`ã€‚

ä¸ºé¿å…åœ¨æ‚¨è‡ªå·±çš„é…ç½®ä¸­å¯¹è¿™äº›åç§°è¿›è¡Œç¡¬ç¼–ç ï¼Œæ‚¨å¯ä»¥é‡ç”¨Spring Data Couchbaseæä¾›çš„`BeanNames`ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥è‡ªå®šä¹‰è¦ä½¿ç”¨çš„è½¬æ¢å™¨ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
_@Configuration_
public class SomeConfiguration {

	_@Bean(BeanNames.COUCHBASE_CUSTOM_CONVERSIONS)_
	public CustomConversions myCustomConversions() {
		return new CustomConversions(...);
	}

	// ...

}
```

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¦‚æœæ‚¨æƒ³å®Œå…¨ç»•è¿‡Spring Data Couchbaseçš„è‡ªåŠ¨é…ç½®ï¼Œè¯·æä¾›æ‚¨è‡ªå·±çš„<code class="literal" i="1472">org.springframework.data.couchbase.config.AbstractCouchbaseDataConfiguration</code>å®ç°ã€‚</p></td></tr></tbody></table>

31.9 LDAP
---------

[LDAP](https://en.wikipedia.org/wiki/Lightweight_Directory_Access_Protocol)ï¼ˆè½»é‡çº§ç›®å½•è®¿é—®åè®®ï¼‰æ˜¯ä¸€ç§å¼€æ”¾çš„ï¼Œä¸ä¾›åº”å•†æ— å…³çš„è¡Œä¸šæ ‡å‡†åº”ç”¨ç¨‹åºåè®®ï¼Œç”¨äºé€šè¿‡IPç½‘ç»œè®¿é—®å’Œç»´æŠ¤åˆ†å¸ƒå¼ç›®å½•ä¿¡æ¯æœåŠ¡ã€‚Spring Bootä¸ºä»»ä½•å…¼å®¹çš„LDAPæœåŠ¡å™¨æä¾›è‡ªåŠ¨é…ç½®ï¼Œå¹¶ä¸º[UnboundID](https://www.ldap.com/unboundid-ldap-sdk-for-java)æ”¯æŒåµŒå…¥å¼å†…å­˜ä¸­LDAPæœåŠ¡å™¨ ã€‚

LDAPæŠ½è±¡ç”± [Springæ•°æ®LDAPæä¾›](https://github.com/spring-projects/spring-data-ldap)ã€‚æœ‰ä¸€ä¸ª`spring-boot-starter-data-ldap`â€œStarterâ€ç”¨äºä»¥æ–¹ä¾¿çš„æ–¹å¼æ”¶é›†ä¾èµ–é¡¹ã€‚

### 31.9.1è¿æ¥LDAPæœåŠ¡å™¨

è¦è¿æ¥åˆ°LDAPæœåŠ¡å™¨ï¼Œè¯·ç¡®ä¿å£°æ˜å¯¹`spring-boot-starter-data-ldap`â€œStarterâ€æˆ–`spring-ldap-core`çš„ä¾èµ–å…³ç³»ï¼Œç„¶ååœ¨application.propertiesä¸­å£°æ˜æœåŠ¡å™¨çš„URLï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
spring.ldap.urls=ldap://myserver:1235
spring.ldap.username=admin
spring.ldap.password=secret
```

å¦‚æœéœ€è¦è‡ªå®šä¹‰è¿æ¥è®¾ç½®ï¼Œå¯ä»¥ä½¿ç”¨`spring.ldap.base`å’Œ`spring.ldap.base-environment`å±æ€§ã€‚

æ ¹æ®è¿™äº›è®¾ç½®è‡ªåŠ¨é…ç½®`LdapContextSource`ã€‚å¦‚æœæ‚¨éœ€è¦è‡ªå®šä¹‰å®ƒï¼Œä¾‹å¦‚ä½¿ç”¨`PooledContextSource`ï¼Œæ‚¨ä»ç„¶å¯ä»¥æ³¨å…¥è‡ªåŠ¨é…ç½®çš„`LdapContextSource`ã€‚è¯·åŠ¡å¿…å°†è‡ªå®šä¹‰çš„`ContextSource`æ ‡è®°ä¸º`@Primary`ï¼Œä»¥ä¾¿è‡ªåŠ¨é…ç½®çš„`LdapTemplate`ä½¿ç”¨å®ƒã€‚

### 31.9.2 Springæ•°æ®LDAPå­˜å‚¨åº“

Springæ•°æ®åŒ…æ‹¬LDAPçš„å­˜å‚¨åº“æ”¯æŒã€‚æœ‰å…³Springæ•°æ®LDAPçš„å®Œæ•´è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… [å‚è€ƒæ–‡æ¡£](https://docs.spring.io/spring-data/ldap/docs/1.0.x/reference/html/)ã€‚

æ‚¨ä¹Ÿå¯ä»¥åƒå¯¹å¾…ä»»ä½•å…¶ä»–Spring Beanä¸€æ ·æ³¨å…¥è‡ªåŠ¨é…ç½®çš„`LdapTemplate`å®ä¾‹ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
_@Component_
public class MyBean {

	private final LdapTemplate template;

	_@Autowired_
	public MyBean(LdapTemplate template) {
		this.template = template;
	}

	// ...

}
```

### 31.9.3åµŒå…¥å¼å†…å­˜LDAPæœåŠ¡å™¨

å‡ºäºæµ‹è¯•ç›®çš„ï¼ŒSpring Bootæ”¯æŒä»[UnboundID](https://www.ldap.com/unboundid-ldap-sdk-for-java)è‡ªåŠ¨é…ç½®å†…å­˜ä¸­LDAPæœåŠ¡å™¨ã€‚è¦é…ç½®æœåŠ¡å™¨ï¼Œè¯·å‘`com.unboundid:unboundid-ldapsdk`æ·»åŠ ä¾èµ–é¡¹å¹¶å£°æ˜`base-dn`å±æ€§ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
spring.ldap.embedded.base-dn=dc=spring,dc=io
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å¯ä»¥å®šä¹‰å¤šä¸ªbase-dnå€¼ï¼Œä½†æ˜¯ï¼Œç”±äºå¯åˆ†è¾¨åç§°é€šå¸¸åŒ…å«é€—å·ï¼Œå› æ­¤å¿…é¡»ä½¿ç”¨æ­£ç¡®çš„ç¬¦å·æ¥å®šä¹‰å®ƒä»¬ã€‚</p><p>åœ¨yamlæ–‡ä»¶ä¸­ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨yamlåˆ—è¡¨è¡¨ç¤ºæ³•ï¼š</p><pre class="programlisting notranslate">spring.ldap.embedded.base-dn:
  - dc=spring,dc=io
  - dc=pivotal,dc=io</pre><p>åœ¨å±æ€§æ–‡ä»¶ä¸­ï¼Œå¿…é¡»åŒ…å«ç´¢å¼•ä½œä¸ºå±æ€§åç§°çš„ä¸€éƒ¨åˆ†ï¼š</p><pre class="programlisting notranslate">spring.ldap.embedded.base-dn[0]=dc=spring,dc=io
spring.ldap.embedded.base-dn[1]=dc=pivotal,dc=io</pre></td></tr></tbody></table>


é»˜è®¤æƒ…å†µä¸‹ï¼ŒæœåŠ¡å™¨åœ¨éšæœºç«¯å£ä¸Šå¯åŠ¨å¹¶è§¦å‘å¸¸è§„LDAPæ”¯æŒã€‚æ— éœ€æŒ‡å®š`spring.ldap.urls`å±æ€§ã€‚

å¦‚æœç±»è·¯å¾„ä¸Šæœ‰`schema.ldif`æ–‡ä»¶ï¼Œåˆ™ç”¨äºåˆå§‹åŒ–æœåŠ¡å™¨ã€‚å¦‚æœè¦ä»å…¶ä»–èµ„æºåŠ è½½åˆå§‹åŒ–è„šæœ¬ï¼Œè¿˜å¯ä»¥ä½¿ç”¨`spring.ldap.embedded.ldif`å±æ€§ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼Œæ ‡å‡†æ¨¡å¼ç”¨äºéªŒè¯`LDIF`æ–‡ä»¶ã€‚æ‚¨å¯ä»¥é€šè¿‡è®¾ç½®`spring.ldap.embedded.validation.enabled`å±æ€§å®Œå…¨å…³é—­éªŒè¯ã€‚å¦‚æœæ‚¨æœ‰è‡ªå®šä¹‰å±æ€§ï¼Œåˆ™å¯ä»¥ä½¿ç”¨`spring.ldap.embedded.validation.schema`æ¥å®šä¹‰è‡ªå®šä¹‰å±æ€§ç±»å‹æˆ–å¯¹è±¡ç±»ã€‚

31.10 InfluxDB
--------------

[InfluxDB](https://www.influxdata.com/)æ˜¯ä¸€ä¸ªå¼€æºæ—¶é—´åºåˆ—æ•°æ®åº“ï¼Œé’ˆå¯¹è¿è¥ç›‘æ§ï¼Œåº”ç”¨ç¨‹åºæŒ‡æ ‡ï¼Œç‰©è”ç½‘ä¼ æ„Ÿå™¨æ•°æ®å’Œå®æ—¶åˆ†æç­‰é¢†åŸŸä¸­çš„æ—¶é—´åºåˆ—æ•°æ®çš„å¿«é€Ÿï¼Œé«˜å¯ç”¨æ€§å­˜å‚¨å’Œæ£€ç´¢è¿›è¡Œäº†ä¼˜åŒ–ã€‚

### 31.10.1è¿æ¥åˆ°InfluxDB

Spring Bootè‡ªåŠ¨é…ç½®`InfluxDB`å®ä¾‹ï¼Œå‰ææ˜¯`influxdb-java`å®¢æˆ·ç«¯åœ¨ç±»è·¯å¾„ä¸Šå¹¶ä¸”è®¾ç½®äº†æ•°æ®åº“çš„URLï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
spring.influx.url=http://172.0.0.1:8086
```

å¦‚æœä¸InfluxDBçš„è¿æ¥éœ€è¦ç”¨æˆ·å’Œå¯†ç ï¼Œåˆ™å¯ä»¥ç›¸åº”åœ°è®¾ç½®`spring.influx.user`å’Œ`spring.influx.password`å±æ€§ã€‚

InfluxDBä¾èµ–äºOkHttpã€‚å¦‚æœæ‚¨éœ€è¦åœ¨åå°è°ƒæ•´httpå®¢æˆ·ç«¯`InfluxDB`ï¼Œåˆ™å¯ä»¥æ³¨å†Œ`InfluxDbOkHttpClientBuilderProvider` beanã€‚

32.ç¼“å­˜
-----

Springæ¡†æ¶æ”¯æŒé€æ˜åœ°å‘åº”ç”¨ç¨‹åºæ·»åŠ ç¼“å­˜ã€‚ä»æœ¬è´¨ä¸Šè®²ï¼ŒæŠ½è±¡å°†ç¼“å­˜åº”ç”¨äºæ–¹æ³•ï¼Œä»è€Œæ ¹æ®ç¼“å­˜ä¸­å¯ç”¨çš„ä¿¡æ¯å‡å°‘æ‰§è¡Œæ¬¡æ•°ã€‚ç¼“å­˜é€»è¾‘åº”ç”¨é€æ˜ï¼Œä¸ä¼šå¯¹è°ƒç”¨è€…é€ æˆä»»ä½•å¹²æ‰°ã€‚åªè¦é€šè¿‡`@EnableCaching`æ³¨é‡Šå¯ç”¨äº†ç¼“å­˜æ”¯æŒï¼ŒSpring Bootå°±ä¼šè‡ªåŠ¨é…ç½®ç¼“å­˜åŸºç¡€ç»“æ„ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p><a class="link" href="https://docs.spring.io/spring/docs/5.1.3.RELEASE/spring-framework-reference/integration.html#cache" target="_top">æœ‰å…³</a>è¯¦ç»†ä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹Springæ¡†æ¶å‚è€ƒçš„<a class="link" href="https://docs.spring.io/spring/docs/5.1.3.RELEASE/spring-framework-reference/integration.html#cache" target="_top">ç›¸å…³éƒ¨åˆ†</a>ã€‚</p></td></tr></tbody></table>

ç®€è€Œè¨€ä¹‹ï¼Œå°†ç¼“å­˜æ·»åŠ åˆ°æœåŠ¡æ“ä½œå°±åƒåœ¨å…¶æ–¹æ³•ä¸­æ·»åŠ ç›¸å…³æ³¨é‡Šä¸€æ ·ç®€å•ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
import org.springframework.cache.annotation.Cacheable;
import org.springframework.stereotype.Component;

_@Component_
public class MathService {

	_@Cacheable("piDecimals")_
	public int computePiDecimal(int i) {
		// ...
	}

}
```

æ­¤ç¤ºä¾‹æ¼”ç¤ºäº†å¦‚ä½•åœ¨å¯èƒ½ä»£ä»·é«˜æ˜‚çš„æ“ä½œä¸Šä½¿ç”¨ç¼“å­˜ã€‚åœ¨è°ƒç”¨`computePiDecimal`ä¹‹å‰ï¼ŒæŠ½è±¡åœ¨`piDecimals`ç¼“å­˜ä¸­æŸ¥æ‰¾ä¸`i`å‚æ•°åŒ¹é…çš„æ¡ç›®ã€‚å¦‚æœæ‰¾åˆ°æ¡ç›®ï¼Œåˆ™ç¼“å­˜ä¸­çš„å†…å®¹ä¼šç«‹å³è¿”å›ç»™è°ƒç”¨è€…ï¼Œå¹¶ä¸”ä¸ä¼šè°ƒç”¨è¯¥æ–¹æ³•ã€‚å¦åˆ™ï¼Œå°†è°ƒç”¨è¯¥æ–¹æ³•ï¼Œå¹¶åœ¨è¿”å›å€¼ä¹‹å‰æ›´æ–°ç¼“å­˜ã€‚

<table border="0" summary="Caution"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[è­¦å‘Š]" src="images/caution.png"></td><th align="left">è­¦å‘Š</th></tr><tr><td align="left" valign="top"><p>æ‚¨è¿˜å¯ä»¥é€æ˜åœ°ä½¿ç”¨æ ‡å‡†JSR-107ï¼ˆJCacheï¼‰æ³¨é‡Šï¼ˆä¾‹å¦‚<code class="literal" i="1503">@CacheResult</code>ï¼‰ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬å¼ºçƒˆå»ºè®®æ‚¨ä¸è¦æ··ç”¨å’ŒåŒ¹é…Spring Cacheå’ŒJCacheæ³¨é‡Šã€‚</p></td></tr></tbody></table>

å¦‚æœæ‚¨ä¸æ·»åŠ ä»»ä½•ç‰¹å®šçš„ç¼“å­˜åº“ï¼ŒSpring Bootä¼šè‡ªåŠ¨é…ç½®åœ¨å†…å­˜ä¸­ä½¿ç”¨å¹¶å‘æ˜ å°„çš„ [ç®€å•æä¾›ç¨‹åº](#boot-features-caching-provider-simple "32.1.9ç®€å•")ã€‚å½“éœ€è¦ç¼“å­˜æ—¶ï¼ˆä¾‹å¦‚å‰é¢ç¤ºä¾‹ä¸­çš„`piDecimals`ï¼‰ï¼Œæ­¤æä¾›ç¨‹åºä¼šä¸ºæ‚¨åˆ›å»ºç¼“å­˜ã€‚ç®€å•çš„æä¾›ç¨‹åºå¹¶ä¸æ˜¯çœŸæ­£æ¨èç”¨äºç”Ÿäº§ç”¨é€”ï¼Œä½†å®ƒéå¸¸é€‚åˆå…¥é—¨å¹¶ç¡®ä¿æ‚¨äº†è§£è¿™äº›åŠŸèƒ½ã€‚å½“æ‚¨å†³å®šä½¿ç”¨ç¼“å­˜æä¾›ç¨‹åºæ—¶ï¼Œè¯·åŠ¡å¿…é˜…è¯»å…¶æ–‡æ¡£ä»¥äº†è§£å¦‚ä½•é…ç½®åº”ç”¨ç¨‹åºä½¿ç”¨çš„ç¼“å­˜ã€‚å‡ ä¹æ‰€æœ‰æä¾›ç¨‹åºéƒ½è¦æ±‚æ‚¨æ˜¾å¼é…ç½®åœ¨åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨çš„æ¯ä¸ªç¼“å­˜ã€‚æœ‰äº›æä¾›äº†ä¸€ç§è‡ªå®šä¹‰`spring.cache.cache-names`å±æ€§å®šä¹‰çš„é»˜è®¤ç¼“å­˜çš„æ–¹æ³•ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>è¿˜å¯ä»¥é€æ˜åœ° <a class="link" href="https://docs.spring.io/spring/docs/5.1.3.RELEASE/spring-framework-reference/integration.html#cache-annotations-put" target="_top">æ›´æ–°</a>æˆ– <a class="link" href="https://docs.spring.io/spring/docs/5.1.3.RELEASE/spring-framework-reference/integration.html#cache-annotations-evict" target="_top">é€å‡º</a>ç¼“å­˜ä¸­çš„æ•°æ®ã€‚</p></td></tr></tbody></table>

32.1æ”¯æŒçš„ç¼“å­˜æä¾›ç¨‹åº
-------------

ç¼“å­˜æŠ½è±¡ä¸æä¾›å®é™…å­˜å‚¨ï¼Œå¹¶ä¾èµ–äº`org.springframework.cache.Cache`å’Œ`org.springframework.cache.CacheManager`æ¥å£å®ç°çš„æŠ½è±¡ã€‚

å¦‚æœæ‚¨å°šæœªå®šä¹‰ç±»å‹ä¸º`CacheManager`çš„beanæˆ–åä¸º`cacheResolver`çš„`CacheResolver`ï¼ˆè¯·å‚é˜…å‚è€ƒèµ„æ–™ [`CachingConfigurer`](https://docs.spring.io/spring/docs/5.1.3.RELEASE/javadoc-api/org/springframework/cache/annotation/CachingConfigurer.html)ï¼‰ï¼Œåˆ™Spring Bootä¼šå°è¯•æ£€æµ‹ä»¥ä¸‹æä¾›ç¨‹åºï¼ˆæŒ‰æŒ‡ç¤ºé¡ºåºï¼‰ï¼š

1.  [é€šç”¨](#boot-features-caching-provider-generic "32.1.1é€šç”¨")
2.  [JCacheï¼ˆJSR-107ï¼‰](#boot-features-caching-provider-jcache "32.1.2 JCacheï¼ˆJSR-107ï¼‰")ï¼ˆEhCache 3ï¼ŒHazelcastï¼ŒInfinispanç­‰ï¼‰
3.  [EhCache 2.x](#boot-features-caching-provider-ehcache2 "32.1.3 EhCache 2.x")
4.  [Hazelcast](#boot-features-caching-provider-hazelcast "32.1.4æ¦›å­å¹¿æ’­")
5.  [Infinispan](#boot-features-caching-provider-infinispan "32.1.5 Infinispan")
6.  [Couchbase](#boot-features-caching-provider-couchbase "32.1.6 Couchbase")
7.  [Redis](#boot-features-caching-provider-redis "32.1.7 Redis")
8.  [Caffeine](#boot-features-caching-provider-caffeine "32.1.8å’–å•¡å› ")
9.  [ç®€å•](#boot-features-caching-provider-simple "32.1.9ç®€å•")

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>ä¹Ÿå¯ä»¥é€šè¿‡è®¾ç½®<code class="literal" i="1511">spring.cache.type</code>å±æ€§æ¥<em>å¼ºåˆ¶</em>ç‰¹å®šçš„ç¼“å­˜æä¾›ç¨‹åºã€‚å¦‚æœæ‚¨éœ€è¦åœ¨æŸäº›ç¯å¢ƒï¼ˆä¾‹å¦‚æµ‹è¯•ï¼‰ä¸­<a class="link" href="#boot-features-caching-provider-none" title="32.1.10æ— ">å®Œå…¨ç¦ç”¨ç¼“å­˜ï¼Œ</a>è¯·ä½¿ç”¨æ­¤å±æ€§ ã€‚</p></td></tr></tbody></table><table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>ä½¿ç”¨<code class="literal" i="1512">spring-boot-starter-cache</code>â€œStarterâ€å¿«é€Ÿæ·»åŠ åŸºæœ¬ç¼“å­˜ä¾èµ–é¡¹ã€‚é¦–å‘è¿›å…¥<code class="literal" i="1513">spring-context-support</code>ã€‚å¦‚æœæ‰‹åŠ¨æ·»åŠ ä¾èµ–é¡¹ï¼Œåˆ™å¿…é¡»åŒ…å«<code class="literal" i="1514">spring-context-support</code>æ‰èƒ½ä½¿ç”¨JCacheï¼ŒEhCache 2.xæˆ–Guavaæ”¯æŒã€‚</p></td></tr></tbody></table>

å¦‚æœWavefrontè‡ªåŠ¨é…ç½®`CacheManager`ï¼Œåˆ™å¯ä»¥é€šè¿‡å…¬å¼€å®ç°`CacheManagerCustomizer`æ¥å£çš„beanæ¥å®Œå…¨åˆå§‹åŒ–ä¹‹å‰è°ƒæ•´å…¶é…ç½®ã€‚ä»¥ä¸‹ç¤ºä¾‹è®¾ç½®ä¸€ä¸ªæ ‡å¿—ï¼Œè¡¨ç¤ºåº”å°†nullå€¼ä¼ é€’ç»™åº•å±‚æ˜ å°„ï¼š

```
_@Bean_
public CacheManagerCustomizer<ConcurrentMapCacheManager> cacheManagerCustomizer() {
	return new CacheManagerCustomizer<ConcurrentMapCacheManager>() {
		_@Override_
		public void customize(ConcurrentMapCacheManager cacheManager) {
			cacheManager.setAllowNullValues(false);
		}
	};
}
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>åœ¨å‰é¢çš„ç¤ºä¾‹ä¸­ï¼Œé¢„è®¡ä¼šè‡ªåŠ¨é…ç½®<code class="literal" i="1517">ConcurrentMapCacheManager</code>ã€‚å¦‚æœä¸æ˜¯è¿™ç§æƒ…å†µï¼ˆæ‚¨æä¾›äº†è‡ªå·±çš„é…ç½®æˆ–è‡ªåŠ¨é…ç½®äº†ä¸åŒçš„ç¼“å­˜æä¾›ç¨‹åºï¼‰ï¼Œåˆ™æ ¹æœ¬ä¸ä¼šè°ƒç”¨è‡ªå®šä¹‰ç¨‹åºã€‚æ‚¨å¯ä»¥æ‹¥æœ‰ä»»æ„æ•°é‡çš„è‡ªå®šä¹‰ç¨‹åºï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨<code class="literal" i="1518">@Order</code>æˆ–<code class="literal" i="1519">Ordered</code>è®¢è´­å®ƒä»¬ã€‚</p></td></tr></tbody></table>

### 32.1.1é€šç”¨

å¦‚æœä¸Šä¸‹æ–‡å®šä¹‰_è‡³å°‘_ä¸€ä¸ª`org.springframework.cache.Cache` beanï¼Œåˆ™ä½¿ç”¨é€šç”¨ç¼“å­˜ã€‚åˆ›å»ºäº†åŒ…å«è¯¥ç±»å‹çš„æ‰€æœ‰beansçš„`CacheManager`ã€‚

### 32.1.2 JCacheï¼ˆJSR-107ï¼‰

[JCache](https://jcp.org/en/jsr/detail?id=107)é€šè¿‡ç±»è·¯å¾„ä¸Šçš„`javax.cache.spi.CachingProvider`è¿›è¡Œè‡ªä¸¾ï¼ˆå³ç±»è·¯å¾„ä¸Šå­˜åœ¨ç¬¦åˆJSR-107çš„ç¼“å­˜åº“ï¼‰ï¼Œ`spring-boot-starter-cache`ç”±`spring-boot-starter-cache`â€œStarterâ€æä¾›ã€‚å¯ä»¥ä½¿ç”¨å„ç§å…¼å®¹åº“ï¼ŒSpring Bootä¸ºEhcache 3ï¼ŒHazelcastå’ŒInfinispanæä¾›ä¾èµ–å…³ç³»ç®¡ç†ã€‚è¿˜å¯ä»¥æ·»åŠ ä»»ä½•å…¶ä»–å…¼å®¹åº“ã€‚

å¯èƒ½ä¼šå‡ºç°å¤šä¸ªæä¾›ç¨‹åºï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹å¿…é¡»æ˜ç¡®æŒ‡å®šæä¾›ç¨‹åºã€‚å³ä½¿JSR-107æ ‡å‡†æ²¡æœ‰å¼ºåˆ¶ä½¿ç”¨æ ‡å‡†åŒ–æ–¹æ³•æ¥å®šä¹‰é…ç½®æ–‡ä»¶çš„ä½ç½®ï¼ŒSpring Bootä¹Ÿä¼šå°½åŠ›é€‚åº”ä½¿ç”¨å®ç°ç»†èŠ‚è®¾ç½®ç¼“å­˜ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
   # Only necessary if more than one provider is present
spring.cache.jcache.provider=com.acme.MyCachingProvider
spring.cache.jcache.config=classpath:acme.xml
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å½“ç¼“å­˜åº“åŒæ—¶æä¾›æœ¬æœºå®ç°å’ŒJSR-107æ”¯æŒæ—¶ï¼ŒSpring Bootæ›´å–œæ¬¢JSR-107æ”¯æŒï¼Œå› æ­¤å¦‚æœåˆ‡æ¢åˆ°ä¸åŒçš„JSR-107å®ç°ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ç›¸åŒçš„åŠŸèƒ½ã€‚</p></td></tr></tbody></table><table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>Spring Boot <a class="link" href="#boot-features-hazelcast" title="39. Hazelcast">æ™®éæ”¯æŒHazelcast</a>ã€‚å¦‚æœå•ä¸ª<code class="literal" i="1525">HazelcastInstance</code>å¯ç”¨ï¼Œå®ƒä¹Ÿä¼šè‡ªåŠ¨é‡ç”¨äº<code class="literal" i="1526">CacheManager</code>ï¼Œé™¤éæŒ‡å®šäº†<code class="literal" i="1527">spring.cache.jcache.config</code>å±æ€§ã€‚</p></td></tr></tbody></table>

æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥è‡ªå®šä¹‰åŸºç¡€`javax.cache.cacheManager`ï¼š

*   å¯ä»¥é€šè¿‡è®¾ç½®`spring.cache.cache-names`å±æ€§åœ¨å¯åŠ¨æ—¶åˆ›å»ºç¼“å­˜ã€‚å¦‚æœå®šä¹‰äº†è‡ªå®šä¹‰`javax.cache.configuration.Configuration` beanï¼Œåˆ™ä¼šä½¿ç”¨å®ƒæ¥è‡ªå®šä¹‰å®ƒä»¬ã€‚
*   ä½¿ç”¨`CacheManager`çš„å¼•ç”¨è°ƒç”¨`org.springframework.boot.autoconfigure.cache.JCacheManagerCustomizer` beansè¿›è¡Œå®Œå…¨è‡ªå®šä¹‰ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¦‚æœå®šä¹‰äº†æ ‡å‡†<code class="literal" i="1533">javax.cache.CacheManager</code> beanï¼Œå®ƒå°†è‡ªåŠ¨åŒ…è£…åœ¨æŠ½è±¡æ‰€éœ€çš„<code class="literal" i="1534">org.springframework.cache.CacheManager</code>å®ç°ä¸­ã€‚æ²¡æœ‰è¿›ä¸€æ­¥çš„è‡ªå®šä¹‰ã€‚</p></td></tr></tbody></table>

### 32.1.3 EhCache 2.x

[](http://www.ehcache.org/)å¦‚æœå¯ä»¥åœ¨ç±»è·¯å¾„çš„æ ¹ç›®å½•ä¸­æ‰¾åˆ°åä¸º`ehcache.xml`çš„æ–‡ä»¶ï¼Œåˆ™ä½¿ç”¨[EhCache 2.x.](http://www.ehcache.org/) å¦‚æœæ‰¾åˆ°EhCache 2.xï¼Œåˆ™`spring-boot-starter-cache`â€œStarterâ€æä¾›çš„`EhCacheCacheManager`ç”¨äºå¼•å¯¼ç¼“å­˜ç®¡ç†å™¨ã€‚è¿˜å¯ä»¥æä¾›å¤‡ç”¨é…ç½®æ–‡ä»¶ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
spring.cache.ehcache.config=classpath:config/another-config.xml
```

### 32.1.4Â Hazelcast

Spring Boot [æ™®éæ”¯æŒHazelcast](#boot-features-hazelcast "39. Hazelcast")ã€‚å¦‚æœå·²è‡ªåŠ¨é…ç½®`HazelcastInstance`ï¼Œåˆ™ä¼šè‡ªåŠ¨å°†å…¶åŒ…è£…åœ¨`CacheManager`ä¸­ã€‚

### 32.1.5Â Infinispan

[Infinispan](http://infinispan.org/)æ²¡æœ‰é»˜è®¤é…ç½®æ–‡ä»¶ä½ç½®ï¼Œå› æ­¤å¿…é¡»æ˜ç¡®æŒ‡å®šã€‚å¦åˆ™ï¼Œä½¿ç”¨é»˜è®¤å¼•å¯¼ç¨‹åºã€‚

```
spring.cache.infinispan.config=infinispan.xml
```

å¯ä»¥é€šè¿‡è®¾ç½®`spring.cache.cache-names`å±æ€§åœ¨å¯åŠ¨æ—¶åˆ›å»ºç¼“å­˜ã€‚å¦‚æœå®šä¹‰äº†è‡ªå®šä¹‰`ConfigurationBuilder` beanï¼Œåˆ™å®ƒç”¨äºè‡ªå®šä¹‰ç¼“å­˜ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>Spring Bootä¸­Infinispançš„æ”¯æŒä»…é™äºåµŒå…¥æ¨¡å¼ï¼Œå¹¶ä¸”éå¸¸åŸºç¡€ã€‚å¦‚æœæ‚¨æƒ³è¦æ›´å¤šé€‰é¡¹ï¼Œåˆ™åº”ä½¿ç”¨å®˜æ–¹Infinispan Spring Bootå¯åŠ¨å™¨ã€‚æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… <a class="link" href="https://github.com/infinispan/infinispan-spring-boot" target="_top">Infinispançš„æ–‡æ¡£</a>ã€‚</p></td></tr></tbody></table>

### 32.1.6 Couchbase

å¦‚æœ[Couchbase](https://www.couchbase.com/) Javaå®¢æˆ·ç«¯å’Œ`couchbase-spring-cache`å®ç°å¯ç”¨å¹¶ä¸”å·²[é…ç½®](#boot-features-couchbase "31.8 Couchbase") Couchbase ï¼Œåˆ™ä¼šè‡ªåŠ¨é…ç½®`CouchbaseCacheManager`ã€‚é€šè¿‡è®¾ç½®`spring.cache.cache-names`å±æ€§ï¼Œè¿˜å¯ä»¥åœ¨å¯åŠ¨æ—¶åˆ›å»ºå…¶ä»–ç¼“å­˜ã€‚è¿™äº›ç¼“å­˜åœ¨è‡ªåŠ¨é…ç½®çš„`Bucket`ä¸Šè¿è¡Œã€‚æ‚¨å¯ä»¥_è¿˜_é€šè¿‡ä½¿ç”¨å®šåˆ¶åˆ›å»ºå¦ä¸€ä¸ª`Bucket`é¢å¤–çš„ç¼“å­˜ã€‚å‡è®¾ä½ éœ€è¦ä¸¤ä¸ªç¼“å­˜ï¼ˆ`cache1`å’Œ`cache2`ï¼‰åœ¨â€œä¸»â€`Bucket`å’Œä¸€ä¸ªï¼ˆ`cache3`ï¼‰ç¼“å­˜ä¸Šï¼Œè‡ªå®šä¹‰æ—¶é—´ä¸º2ç§’ï¼Œâ€œå¦ä¸€ä¸ªâ€`Bucket`ã€‚æ‚¨å¯ä»¥é€šè¿‡é…ç½®åˆ›å»ºå‰ä¸¤ä¸ªç¼“å­˜ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
spring.cache.cache-names=cache1,cache2
```

ç„¶åï¼Œæ‚¨å¯ä»¥å®šä¹‰`@Configuration`ç±»æ¥é…ç½®é¢å¤–çš„`Bucket`å’Œ`cache3`ç¼“å­˜ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
_@Configuration_
public class CouchbaseCacheConfiguration {

	private final Cluster cluster;

	public CouchbaseCacheConfiguration(Cluster cluster) {
		this.cluster = cluster;
	}

	_@Bean_
	public Bucket anotherBucket() {
		return this.cluster.openBucket("another", "secret");
	}

	_@Bean_
	public CacheManagerCustomizer<CouchbaseCacheManager> cacheManagerCustomizer() {
		return c -> {
			c.prepareCache("cache3", CacheBuilder.newInstance(anotherBucket())
					.withExpiration(2));
		};
	}

}
```

æ­¤ç¤ºä¾‹é…ç½®é‡ç”¨é€šè¿‡è‡ªåŠ¨é…ç½®åˆ›å»ºçš„`Cluster`ã€‚

### 32.1.7Â Redis

å¦‚æœ[Redis](http://redis.io/)å¯ç”¨ä¸”å·²é…ç½®ï¼Œåˆ™ä¼šè‡ªåŠ¨é…ç½®`RedisCacheManager`ã€‚é€šè¿‡è®¾ç½®`spring.cache.cache-names`å±æ€§å¯ä»¥åœ¨å¯åŠ¨æ—¶åˆ›å»ºå…¶ä»–ç¼“å­˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨`spring.cache.redis.*`å±æ€§é…ç½®ç¼“å­˜é»˜è®¤å€¼ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹é…ç½®åˆ›å»º`cache1`å’Œ`cache2`ç¼“å­˜ï¼Œ_ç”Ÿå­˜æ—¶é—´ä¸º_ 10åˆ†é’Ÿï¼š

```
spring.cache.cache-names=cache1,cache2
spring.cache.redis.time-to-live=600000
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œä¼šæ·»åŠ ä¸€ä¸ªé”®å‰ç¼€ï¼Œä»¥ä¾¿åœ¨ä¸¤ä¸ªå•ç‹¬çš„ç¼“å­˜ä½¿ç”¨ç›¸åŒçš„é”®æ—¶ï¼ŒRedisæ²¡æœ‰é‡å çš„é”®ï¼Œå¹¶ä¸”ä¸èƒ½è¿”å›æ— æ•ˆå€¼ã€‚å¦‚æœæ‚¨åˆ›å»ºè‡ªå·±çš„<code class="literal" i="1561">RedisCacheManager</code>ï¼Œæˆ‘ä»¬å¼ºçƒˆå»ºè®®æ‚¨å¯ç”¨æ­¤è®¾ç½®ã€‚</p></td></tr></tbody></table><table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æ‚¨å¯ä»¥é€šè¿‡æ·»åŠ è‡ªå·±çš„<code class="literal" i="1562">RedisCacheConfiguration</code> <code class="literal" i="1563">@Bean</code>æ¥å®Œå…¨æ§åˆ¶é…ç½®ã€‚å¦‚æœæ‚¨æ­£åœ¨å¯»æ‰¾è‡ªå®šä¹‰åºåˆ—åŒ–ç­–ç•¥ï¼Œè¿™å¯èƒ½å¾ˆæœ‰ç”¨ã€‚</p></td></tr></tbody></table>

### 32.1.8Â Caffeine

[Caffeine](https://github.com/ben-manes/caffeine)æ˜¯Java 8é‡å†™çš„Guavaç¼“å­˜ï¼Œå–ä»£äº†å¯¹Guavaçš„æ”¯æŒã€‚å¦‚æœå­˜åœ¨Caffeineï¼Œåˆ™è‡ªåŠ¨é…ç½®`CaffeineCacheManager`ï¼ˆç”±`spring-boot-starter-cache`â€œStarterâ€æä¾›ï¼‰ã€‚å¯ä»¥é€šè¿‡è®¾ç½®`spring.cache.cache-names`å±æ€§åœ¨å¯åŠ¨æ—¶åˆ›å»ºç¼“å­˜ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¹‹ä¸€ï¼ˆæŒ‰æŒ‡ç¤ºçš„é¡ºåºï¼‰è‡ªå®šä¹‰ç¼“å­˜ï¼š

1.  ç”±`spring.cache.caffeine.spec`å®šä¹‰çš„ç¼“å­˜è§„èŒƒ
2.  å®šä¹‰äº†`com.github.benmanes.caffeine.cache.CaffeineSpec` bean
3.  å®šä¹‰äº†`com.github.benmanes.caffeine.cache.Caffeine` bean

ä¾‹å¦‚ï¼Œä»¥ä¸‹é…ç½®åˆ›å»º`cache1`å’Œ`cache2`ç¼“å­˜ï¼Œæœ€å¤§å¤§å°ä¸º500ï¼Œ_ç”Ÿå­˜æ—¶é—´ä¸º_ 10åˆ†é’Ÿ

```
spring.cache.cache-names=cache1,cache2
spring.cache.caffeine.spec=maximumSize=500,expireAfterAccess=600s
```

å¦‚æœå®šä¹‰äº†`com.github.benmanes.caffeine.cache.CacheLoader` beanï¼Œå®ƒå°†è‡ªåŠ¨ä¸`CaffeineCacheManager`ç›¸å…³è”ã€‚ç”±äº`CacheLoader`å°†ä¸ç¼“å­˜ç®¡ç†å™¨ç®¡ç†çš„_æ‰€æœ‰_ç¼“å­˜å…³è”ï¼Œå› æ­¤å¿…é¡»å°†å…¶å®šä¹‰ä¸º`CacheLoader<Object, Object>`ã€‚è‡ªåŠ¨é…ç½®å¿½ç•¥ä»»ä½•å…¶ä»–æ³›å‹ç±»å‹ã€‚

### 32.1.9ç®€å•

å¦‚æœæ‰¾ä¸åˆ°å…¶ä»–æä¾›ç¨‹åºï¼Œåˆ™é…ç½®ä½¿ç”¨`ConcurrentHashMap`ä½œä¸ºç¼“å­˜å­˜å‚¨çš„ç®€å•å®ç°ã€‚å¦‚æœæ‚¨çš„åº”ç”¨ç¨‹åºä¸­æ²¡æœ‰ç¼“å­˜åº“ï¼Œåˆ™è¿™æ˜¯é»˜è®¤å€¼ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œä¼šæ ¹æ®éœ€è¦åˆ›å»ºç¼“å­˜ï¼Œä½†æ‚¨å¯ä»¥é€šè¿‡è®¾ç½®`cache-names`å±æ€§æ¥é™åˆ¶å¯ç”¨ç¼“å­˜åˆ—è¡¨ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨åªæƒ³è¦`cache1`å’Œ`cache2`ç¼“å­˜ï¼Œè¯·æŒ‰å¦‚ä¸‹æ‰€ç¤ºè®¾ç½®`cache-names`å±æ€§ï¼š

```
spring.cache.cache-names=cache1,cache2
```

å¦‚æœè¿™æ ·åšå¹¶ä¸”æ‚¨çš„åº”ç”¨ç¨‹åºä½¿ç”¨æœªåˆ—å‡ºçš„ç¼“å­˜ï¼Œåˆ™åœ¨éœ€è¦ç¼“å­˜æ—¶å®ƒä¼šåœ¨è¿è¡Œæ—¶å¤±è´¥ï¼Œä½†åœ¨å¯åŠ¨æ—¶åˆ™ä¸ä¼šã€‚è¿™ç±»ä¼¼äºâ€œçœŸå®â€ç¼“å­˜æä¾›ç¨‹åºåœ¨ä½¿ç”¨æœªå£°æ˜çš„ç¼“å­˜æ—¶çš„è¡Œä¸ºæ–¹å¼ã€‚

### 32.1.10Â None

å½“é…ç½®ä¸­å­˜åœ¨`@EnableCaching`æ—¶ï¼Œä¹Ÿéœ€è¦åˆé€‚çš„ç¼“å­˜é…ç½®ã€‚å¦‚æœéœ€è¦åœ¨æŸäº›ç¯å¢ƒä¸­å®Œå…¨ç¦ç”¨ç¼“å­˜ï¼Œè¯·å°†ç¼“å­˜ç±»å‹å¼ºåˆ¶ä¸º`none`ä»¥ä½¿ç”¨no-opå®ç°ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
spring.cache.type=none
```

33.æ¶ˆæ¯ä¼ é€’
-------

Springæ¡†æ¶ä¸ºä¸æ¶ˆæ¯ä¼ é€’ç³»ç»Ÿçš„é›†æˆæä¾›äº†å¹¿æ³›çš„æ”¯æŒï¼Œä»ä½¿ç”¨`JmsTemplate`çš„JMS APIçš„ç®€åŒ–ä½¿ç”¨åˆ°å¼‚æ­¥æ¥æ”¶æ¶ˆæ¯çš„å®Œæ•´åŸºç¡€ç»“æ„ã€‚Spring AMQPä¸ºé«˜çº§æ¶ˆæ¯é˜Ÿåˆ—åè®®æä¾›äº†ç±»ä¼¼çš„åŠŸèƒ½é›†ã€‚Spring Bootè¿˜ä¸º`RabbitTemplate`å’ŒRabbitMQæä¾›äº†è‡ªåŠ¨é…ç½®é€‰é¡¹ã€‚Spring WebSocketæœ¬èº«åŒ…å«å¯¹STOMPæ¶ˆæ¯ä¼ é€’çš„æ”¯æŒï¼ŒSpring Booté€šè¿‡å¯åŠ¨å™¨å’Œå°‘é‡è‡ªåŠ¨é…ç½®æ”¯æŒã€‚Spring Bootä¹Ÿæ”¯æŒApache Kafkaã€‚

33.1 JMS
--------

`javax.jms.ConnectionFactory`æ¥å£æä¾›äº†ä¸€ç§åˆ›å»º`javax.jms.Connection`çš„æ ‡å‡†æ–¹æ³•ï¼Œç”¨äºä¸JMSä»£ç†è¿›è¡Œäº¤äº’ã€‚è™½ç„¶Springéœ€è¦`ConnectionFactory`æ¥ä½¿ç”¨JMSï¼Œä½†æ‚¨é€šå¸¸ä¸éœ€è¦è‡ªå·±ç›´æ¥ä½¿ç”¨å®ƒï¼Œè€Œæ˜¯å¯ä»¥ä¾èµ–æ›´é«˜çº§åˆ«çš„æ¶ˆæ¯ä¼ é€’æŠ½è±¡ã€‚ï¼ˆæœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…Springæ¡†æ¶å‚è€ƒæ–‡æ¡£çš„ [ç›¸å…³éƒ¨åˆ†](https://docs.spring.io/spring/docs/5.1.3.RELEASE/spring-framework-reference/integration.html#jms)ã€‚ï¼‰Spring Bootè¿˜è‡ªåŠ¨é…ç½®å‘é€å’Œæ¥æ”¶æ¶ˆæ¯æ‰€éœ€çš„åŸºç¡€ç»“æ„ã€‚

### 33.1.1 ActiveMQæ”¯æŒ

å½“[ActiveMQ](http://activemq.apache.org/)åœ¨ç±»è·¯å¾„ä¸Šå¯ç”¨æ—¶ï¼ŒSpring Bootä¹Ÿå¯ä»¥é…ç½®`ConnectionFactory`ã€‚å¦‚æœä»£ç†å­˜åœ¨ï¼Œåˆ™ä¼šè‡ªåŠ¨å¯åŠ¨å¹¶é…ç½®åµŒå…¥å¼ä»£ç†ï¼ˆå‰ææ˜¯æœªé€šè¿‡é…ç½®æŒ‡å®šä»£ç†URLï¼‰ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å¦‚æœä½¿ç”¨<code class="literal" i="1589">spring-boot-starter-activemq</code>ï¼Œåˆ™æä¾›è¿æ¥æˆ–åµŒå…¥ActiveMQå®ä¾‹çš„å¿…è¦ä¾èµ–é¡¹ï¼Œä»¥åŠä¸JMSé›†æˆçš„SpringåŸºç¡€ç»“æ„ã€‚</p></td></tr></tbody></table>

ActiveMQé…ç½®ç”±`spring.activemq.*`ä¸­çš„å¤–éƒ¨é…ç½®å±æ€§æ§åˆ¶ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥åœ¨`application.properties`ä¸­å£°æ˜ä»¥ä¸‹éƒ¨åˆ†ï¼š

```
spring.activemq.broker-url=tcp://192.168.1.210:9876
spring.activemq.user=admin
spring.activemq.password=secret
```

é»˜è®¤æƒ…å†µä¸‹ï¼Œ`CachingConnectionFactory`ä½¿ç”¨`spring.jms.*`ä¸­çš„å¤–éƒ¨é…ç½®å±æ€§å¯ä»¥æ§åˆ¶çš„åˆç†è®¾ç½®åŒ…è£…æœ¬æœº`ConnectionFactory`ï¼š

```
spring.jms.cache.session-cache-size=5
```

å¦‚æœæ‚¨æ›´æ„¿æ„ä½¿ç”¨æœ¬æœºæ± ï¼Œåˆ™å¯ä»¥é€šè¿‡å‘`org.messaginghub:pooled-jms`æ·»åŠ ä¾èµ–é¡¹å¹¶ç›¸åº”åœ°é…ç½®`JmsPoolConnectionFactory`æ¥å®ç°ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
spring.activemq.pool.enabled=true
spring.activemq.pool.max-connections=50
```

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æœ‰å…³<a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jms/activemq/ActiveMQProperties.java" target="_top"><code class="literal">ActiveMQProperties</code></a> æ›´å¤šæ”¯æŒçš„é€‰é¡¹ï¼Œè¯·å‚é˜… ã€‚æ‚¨è¿˜å¯ä»¥æ³¨å†Œå®ç°<code class="literal" i="1597">ActiveMQConnectionFactoryCustomizer</code>çš„ä»»æ„æ•°é‡çš„beansä»¥è¿›è¡Œæ›´é«˜çº§çš„è‡ªå®šä¹‰ã€‚</p></td></tr></tbody></table>

é»˜è®¤æƒ…å†µä¸‹ï¼ŒActiveMQä¼šåˆ›å»ºä¸€ä¸ªç›®æ ‡ï¼ˆå¦‚æœå®ƒå°šä¸å­˜åœ¨ï¼‰ï¼Œä»¥ä¾¿æ ¹æ®æä¾›çš„åç§°è§£æç›®æ ‡ã€‚

### 33.1.2é˜¿è€³å¿’å¼¥æ–¯æ”¯æŒ

Spring Bootå¯ä»¥åœ¨æ£€æµ‹åˆ°ç±»è·¯å¾„ä¸Šçš„[Artemis](http://activemq.apache.org/artemis/)å¯ç”¨æ—¶è‡ªåŠ¨é…ç½®`ConnectionFactory` ã€‚å¦‚æœå­˜åœ¨ä»£ç†ï¼Œåˆ™ä¼šè‡ªåŠ¨å¯åŠ¨å¹¶é…ç½®åµŒå…¥å¼ä»£ç†ï¼ˆé™¤éå·²æ˜ç¡®è®¾ç½®modeå±æ€§ï¼‰ã€‚æ”¯æŒçš„æ¨¡å¼æ˜¯`embedded`ï¼ˆä»¥æ˜ç¡®è¡¨ç¤ºéœ€è¦åµŒå…¥å¼ä»£ç†ï¼Œå¦‚æœä»£ç†è·¯å¾„åœ¨ç±»è·¯å¾„ä¸Šä¸å¯ç”¨åˆ™å‘ç”Ÿé”™è¯¯ï¼‰å’Œ`native`ï¼ˆä½¿ç”¨{11 /è¿æ¥åˆ°ä»£ç†ï¼‰ä¼ è¾“åè®®ï¼‰ã€‚é…ç½®åè€…æ—¶ï¼ŒSpring Bootä½¿ç”¨é»˜è®¤è®¾ç½®é…ç½®è¿æ¥åˆ°æœ¬åœ°è®¡ç®—æœºä¸Šè¿è¡Œçš„ä»£ç†çš„`ConnectionFactory`ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å¦‚æœä½¿ç”¨<code class="literal" i="1603">spring-boot-starter-artemis</code>ï¼Œåˆ™ä¼šæä¾›è¿æ¥åˆ°ç°æœ‰Artemiså®ä¾‹çš„å¿…è¦ä¾èµ–é¡¹ï¼Œä»¥åŠä¸JMSé›†æˆçš„SpringåŸºç¡€ç»“æ„ã€‚å°†<code class="literal" i="1604">org.apache.activemq:artemis-jms-server</code>æ·»åŠ åˆ°æ‚¨çš„åº”ç”¨ç¨‹åºå¯è®©æ‚¨ä½¿ç”¨åµŒå…¥æ¨¡å¼ã€‚</p></td></tr></tbody></table>

Artemisé…ç½®ç”±`spring.artemis.*`ä¸­çš„å¤–éƒ¨é…ç½®å±æ€§æ§åˆ¶ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥åœ¨`application.properties`ä¸­å£°æ˜ä»¥ä¸‹éƒ¨åˆ†ï¼š

```
spring.artemis.mode=native
spring.artemis.host=192.168.1.210
spring.artemis.port=9876
spring.artemis.user=admin
spring.artemis.password=secret
```

åµŒå…¥ä»£ç†æ—¶ï¼Œæ‚¨å¯ä»¥é€‰æ‹©æ˜¯å¦è¦å¯ç”¨æŒä¹…æ€§å¹¶åˆ—å‡ºåº”è¯¥å¯ç”¨çš„ç›®æ ‡ã€‚è¿™äº›å¯ä»¥æŒ‡å®šä¸ºé€—å·åˆ†éš”åˆ—è¡¨ä»¥ä½¿ç”¨é»˜è®¤é€‰é¡¹åˆ›å»ºå®ƒä»¬ï¼Œæˆ–è€…æ‚¨å¯ä»¥åˆ†åˆ«ä¸ºé«˜çº§é˜Ÿåˆ—å’Œä¸»é¢˜é…ç½®å®šä¹‰`org.apache.activemq.artemis.jms.server.config.JMSQueueConfiguration`æˆ–`org.apache.activemq.artemis.jms.server.config.TopicConfiguration`ç±»å‹çš„beanã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼Œ`CachingConnectionFactory`ä½¿ç”¨`spring.jms.*`ä¸­çš„å¤–éƒ¨é…ç½®å±æ€§å¯ä»¥æ§åˆ¶çš„åˆç†è®¾ç½®åŒ…è£…æœ¬æœº`ConnectionFactory`ï¼š

```
spring.jms.cache.session-cache-size=5
```

å¦‚æœæ‚¨æ›´æ„¿æ„ä½¿ç”¨æœ¬æœºæ± ï¼Œåˆ™å¯ä»¥é€šè¿‡å‘`org.messaginghub:pooled-jms`æ·»åŠ ä¾èµ–å…³ç³»å¹¶ç›¸åº”åœ°é…ç½®`JmsPoolConnectionFactory`æ¥å®ç°ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
spring.artemis.pool.enabled=true
spring.artemis.pool.max-connections=50
```

æœ‰å…³[`ArtemisProperties`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jms/artemis/ArtemisProperties.java) æ›´å¤šæ”¯æŒé€‰é¡¹ï¼Œè¯·å‚é˜…

ä¸ä½¿ç”¨JNDIæŸ¥æ‰¾ï¼Œå¹¶ä½¿ç”¨Artemisé…ç½®ä¸­çš„`name`å±æ€§æˆ–é€šè¿‡é…ç½®æä¾›çš„åç§°æ¥è§£æç›®æ ‡åç§°ã€‚

### 33.1.3ä½¿ç”¨JNDI ConnectionFactory

å¦‚æœæ‚¨åœ¨åº”ç”¨ç¨‹åºæœåŠ¡å™¨ä¸­è¿è¡Œåº”ç”¨ç¨‹åºï¼ŒSpring Bootä¼šå°è¯•ä½¿ç”¨JNDIæ‰¾åˆ°JMS `ConnectionFactory`ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œä¼šæ£€æŸ¥`java:/JmsXA`å’Œ`java:/XAConnectionFactory`ä½ç½®ã€‚å¦‚æœéœ€è¦æŒ‡å®šå¤‡ç”¨ä½ç½®ï¼Œå¯ä»¥ä½¿ç”¨`spring.jms.jndi-name`å±æ€§ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
spring.jms.jndi-name=java:/MyConnectionFactory
```

### 33.1.4å‘é€æ¶ˆæ¯

Springçš„`JmsTemplate`æ˜¯è‡ªåŠ¨é…ç½®çš„ï¼Œæ‚¨å¯ä»¥å°†å…¶ç›´æ¥è‡ªåŠ¨è£…å…¥æ‚¨è‡ªå·±çš„beansï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.jms.core.JmsTemplate;
import org.springframework.stereotype.Component;

_@Component_
public class MyBean {

	private final JmsTemplate jmsTemplate;

	_@Autowired_
	public MyBean(JmsTemplate jmsTemplate) {
		this.jmsTemplate = jmsTemplate;
	}

	// ...

}
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p><a class="link" href="https://docs.spring.io/spring/docs/5.1.3.RELEASE/javadoc-api/org/springframework/jms/core/JmsMessagingTemplate.html" target="_top"><code class="literal">JmsMessagingTemplate</code></a>å¯ä»¥ä»¥ç±»ä¼¼çš„æ–¹å¼æ³¨å°„ã€‚å¦‚æœå®šä¹‰äº†<code class="literal" i="1620">DestinationResolver</code>æˆ–<code class="literal" i="1621">MessageConverter</code> beanï¼Œåˆ™ä¼šè‡ªåŠ¨å°†å…¶ä¸è‡ªåŠ¨é…ç½®çš„<code class="literal" i="1622">JmsTemplate</code>ç›¸å…³è”ã€‚</p></td></tr></tbody></table>

### 33.1.5æ¥æ”¶æ¶ˆæ¯

å½“å­˜åœ¨JMSåŸºç¡€ç»“æ„æ—¶ï¼Œå¯ä»¥ä½¿ç”¨`@JmsListener`æ³¨é‡Šä»»ä½•beanä»¥åˆ›å»ºä¾¦å¬å™¨ç«¯ç‚¹ã€‚å¦‚æœæœªå®šä¹‰`JmsListenerContainerFactory`ï¼Œåˆ™ä¼šè‡ªåŠ¨é…ç½®é»˜è®¤å€¼ã€‚å¦‚æœå®šä¹‰äº†`DestinationResolver`æˆ–`MessageConverter` beansï¼Œå®ƒå°†è‡ªåŠ¨å…³è”åˆ°é»˜è®¤å·¥å‚ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼Œé»˜è®¤å·¥å‚æ˜¯äº‹åŠ¡æ€§çš„ã€‚å¦‚æœæ‚¨åœ¨å­˜åœ¨`JtaTransactionManager`çš„åŸºç¡€ç»“æ„ä¸­è¿è¡Œï¼Œåˆ™é»˜è®¤æƒ…å†µä¸‹å®ƒä¸ä¾¦å¬å™¨å®¹å™¨å…³è”ã€‚å¦‚æœä¸æ˜¯ï¼Œåˆ™å¯ç”¨`sessionTransacted`æ ‡å¿—ã€‚åœ¨åä¸€ç§æƒ…å†µä¸‹ï¼Œæ‚¨å¯ä»¥é€šè¿‡åœ¨ä¾¦å¬å™¨æ–¹æ³•ï¼ˆæˆ–å…¶å§”æ‰˜ï¼‰ä¸Šæ·»åŠ `@Transactional`ï¼Œå°†æœ¬åœ°æ•°æ®å­˜å‚¨äº‹åŠ¡ä¸ä¼ å…¥æ¶ˆæ¯çš„å¤„ç†ç›¸å…³è”ã€‚è¿™ç¡®ä¿äº†åœ¨æœ¬åœ°äº‹åŠ¡å®Œæˆåç¡®è®¤ä¼ å…¥æ¶ˆæ¯ã€‚è¿™è¿˜åŒ…æ‹¬å‘é€å·²åœ¨åŒä¸€JMSä¼šè¯ä¸Šæ‰§è¡Œçš„å“åº”æ¶ˆæ¯ã€‚

ä»¥ä¸‹ç»„ä»¶åœ¨`someQueue`ç›®æ ‡ä¸Šåˆ›å»ºä¸€ä¸ªä¾¦å¬å™¨ç«¯ç‚¹ï¼š

```
_@Component_
public class MyBean {

	_@JmsListener(destination = "someQueue")_
	public void processMessage(String content) {
		// ...
	}

}
```

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æœ‰å…³ æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…<a class="link" href="https://docs.spring.io/spring/docs/5.1.3.RELEASE/javadoc-api/org/springframework/jms/annotation/EnableJms.html" target="_top"><code class="literal" i="1631">@EnableJms</code>çš„Javadoc</a>ã€‚</p></td></tr></tbody></table>

å¦‚æœæ‚¨éœ€è¦åˆ›å»ºæ›´å¤š`JmsListenerContainerFactory`å®ä¾‹ï¼Œæˆ–è€…å¦‚æœè¦è¦†ç›–é»˜è®¤å€¼ï¼ŒSpring Bootæä¾›`DefaultJmsListenerContainerFactoryConfigurer`ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨`DefaultJmsListenerContainerFactoryConfigurer`æ¥åˆå§‹åŒ–`DefaultJmsListenerContainerFactory`ï¼Œå…¶è®¾ç½®ä¸è‡ªåŠ¨é…ç½®ã€‚

ä¾‹å¦‚ï¼Œä»¥ä¸‹ç¤ºä¾‹å…¬å¼€äº†å¦ä¸€ä¸ªä½¿ç”¨ç‰¹å®š`MessageConverter`çš„å·¥å‚ï¼š

```
_@Configuration_
static class JmsConfiguration {

	_@Bean_
	public DefaultJmsListenerContainerFactory myFactory(
			DefaultJmsListenerContainerFactoryConfigurer configurer) {
		DefaultJmsListenerContainerFactory factory =
				new DefaultJmsListenerContainerFactory();
		configurer.configure(factory, connectionFactory());
		factory.setMessageConverter(myMessageConverter());
		return factory;
	}

}
```

ç„¶åæ‚¨å¯ä»¥åœ¨ä»»ä½•`@JmsListener` - æ³¨é‡Šæ–¹æ³•ä¸­ä½¿ç”¨å·¥å‚ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
_@Component_
public class MyBean {

	@JmsListener(destination = "someQueue", **containerFactory="myFactory"**)
	public void processMessage(String content) {
		// ...
	}

}
```

33.2 AMQP
---------

é«˜çº§æ¶ˆæ¯é˜Ÿåˆ—åè®®ï¼ˆAMQPï¼‰æ˜¯é¢å‘æ¶ˆæ¯çš„ä¸­é—´ä»¶çš„å¹³å°ä¸­ç«‹çš„çº¿çº§åè®®ã€‚Spring AMQPé¡¹ç›®å°†æ ¸å¿ƒSpringæ¦‚å¿µåº”ç”¨äºåŸºäºAMQPçš„æ¶ˆæ¯ä¼ é€’è§£å†³æ–¹æ¡ˆçš„å¼€å‘ã€‚Spring Bootä¸ºé€šè¿‡RabbitMQä½¿ç”¨AMQPæä¾›äº†ä¸€äº›ä¾¿åˆ©ï¼ŒåŒ…æ‹¬`spring-boot-starter-amqp`â€œStarterâ€ã€‚

### 33.2.1 RabbitMQæ”¯æŒ

[RabbitMQ](https://www.rabbitmq.com/)æ˜¯ä¸€ä¸ªåŸºäºAMQPåè®®çš„è½»é‡çº§ï¼Œå¯é ï¼Œå¯æ‰©å±•ä¸”å¯ç§»æ¤çš„æ¶ˆæ¯ä»£ç†ã€‚Springä½¿ç”¨`RabbitMQ`é€šè¿‡AMQPåè®®è¿›è¡Œé€šä¿¡ã€‚

RabbitMQé…ç½®ç”±`spring.rabbitmq.*`ä¸­çš„å¤–éƒ¨é…ç½®å±æ€§æ§åˆ¶ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥åœ¨`application.properties`ä¸­å£°æ˜ä»¥ä¸‹éƒ¨åˆ†ï¼š

```
spring.rabbitmq.host=localhost
spring.rabbitmq.port=5672
spring.rabbitmq.username=admin
spring.rabbitmq.password=secret
```

å¦‚æœä¸Šä¸‹æ–‡ä¸­å­˜åœ¨`ConnectionNameStrategy` beanï¼Œå®ƒå°†è‡ªåŠ¨ç”¨äºå‘½åç”±è‡ªåŠ¨é…ç½®çš„`ConnectionFactory`åˆ›å»ºçš„è¿æ¥ã€‚æœ‰å…³[`RabbitProperties`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/amqp/RabbitProperties.java)æ›´å¤šæ”¯æŒçš„é€‰é¡¹ï¼Œè¯·å‚é˜… ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æœ‰å…³è¯¦ç»†ä¿¡æ¯<a class="link" href="https://spring.io/blog/2010/06/14/understanding-amqp-the-protocol-used-by-rabbitmq/" target="_top">ï¼Œ</a>è¯·å‚é˜… <a class="link" href="https://spring.io/blog/2010/06/14/understanding-amqp-the-protocol-used-by-rabbitmq/" target="_top">äº†è§£AMQPï¼ŒRabbitMQä½¿ç”¨çš„åè®®</a>ã€‚</p></td></tr></tbody></table>

### 33.2.2å‘é€æ¶ˆæ¯

Springçš„`AmqpTemplate`å’Œ`AmqpAdmin`æ˜¯è‡ªåŠ¨é…ç½®çš„ï¼Œæ‚¨å¯ä»¥å°†å®ƒä»¬ç›´æ¥è‡ªåŠ¨è£…å…¥æ‚¨è‡ªå·±çš„beansï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
import org.springframework.amqp.core.AmqpAdmin;
import org.springframework.amqp.core.AmqpTemplate;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Component;

_@Component_
public class MyBean {

	private final AmqpAdmin amqpAdmin;
	private final AmqpTemplate amqpTemplate;

	_@Autowired_
	public MyBean(AmqpAdmin amqpAdmin, AmqpTemplate amqpTemplate) {
		this.amqpAdmin = amqpAdmin;
		this.amqpTemplate = amqpTemplate;
	}

	// ...

}
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p><a class="link" href="https://docs.spring.io/spring-amqp/docs/current/api/org/springframework/amqp/rabbit/core/RabbitMessagingTemplate.html" target="_top"><code class="literal">RabbitMessagingTemplate</code></a> å¯ä»¥ä»¥ç±»ä¼¼çš„æ–¹å¼æ³¨å°„ã€‚å¦‚æœå®šä¹‰äº†<code class="literal" i="1645">MessageConverter</code> beanï¼Œå®ƒå°†è‡ªåŠ¨å…³è”åˆ°è‡ªåŠ¨é…ç½®çš„<code class="literal" i="1646">AmqpTemplate</code>ã€‚</p></td></tr></tbody></table>

å¦‚æœ‰å¿…è¦ï¼Œä»»ä½•å®šä¹‰ä¸ºbeançš„`org.springframework.amqp.core.Queue`éƒ½å°†è‡ªåŠ¨ç”¨äºåœ¨RabbitMQå®ä¾‹ä¸Šå£°æ˜ç›¸åº”çš„é˜Ÿåˆ—ã€‚

è¦é‡è¯•æ“ä½œï¼Œå¯ä»¥åœ¨`AmqpTemplate`ä¸Šå¯ç”¨é‡è¯•ï¼ˆä¾‹å¦‚ï¼Œåœ¨ä»£ç†è¿æ¥ä¸¢å¤±çš„æƒ…å†µä¸‹ï¼‰ï¼š

```
spring.rabbitmq.template.retry.enabled=true
spring.rabbitmq.template.retry.initial-interval=2s
```

é»˜è®¤æƒ…å†µä¸‹ç¦ç”¨é‡è¯•ã€‚æ‚¨è¿˜å¯ä»¥é€šè¿‡å£°æ˜`RabbitRetryTemplateCustomizer` beanä»¥ç¼–ç¨‹æ–¹å¼è‡ªå®šä¹‰`RetryTemplate`ã€‚

### 33.2.3æ¥æ”¶æ¶ˆæ¯

å½“RabbitåŸºç¡€ç»“æ„å­˜åœ¨æ—¶ï¼Œä»»ä½•beanéƒ½å¯ä»¥ä½¿ç”¨`@RabbitListener`è¿›è¡Œæ³¨é‡Šä»¥åˆ›å»ºä¾¦å¬å™¨ç«¯ç‚¹ã€‚å¦‚æœæœªå®šä¹‰`RabbitListenerContainerFactory`ï¼Œåˆ™ä¼šè‡ªåŠ¨é…ç½®é»˜è®¤å€¼`SimpleRabbitListenerContainerFactory`ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨`spring.rabbitmq.listener.type`å±æ€§åˆ‡æ¢åˆ°ç›´æ¥å®¹å™¨ã€‚å¦‚æœå®šä¹‰äº†`MessageConverter`æˆ–`MessageRecoverer` beanï¼Œå®ƒå°†è‡ªåŠ¨ä¸é»˜è®¤å·¥å‚å…³è”ã€‚

ä»¥ä¸‹ç¤ºä¾‹ç»„ä»¶åœ¨`someQueue`é˜Ÿåˆ—ä¸Šåˆ›å»ºä¸€ä¸ªä¾¦å¬å™¨ç«¯ç‚¹ï¼š

```
_@Component_
public class MyBean {

	_@RabbitListener(queues = "someQueue")_
	public void processMessage(String content) {
		// ...
	}

}
```

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…<a class="link" href="https://docs.spring.io/spring-amqp/docs/current/api/org/springframework/amqp/rabbit/annotation/EnableRabbit.html" target="_top"><code class="literal" i="1658">@EnableRabbit</code>çš„Javadoc</a>ã€‚</p></td></tr></tbody></table>

å¦‚æœæ‚¨éœ€è¦åˆ›å»ºæ›´å¤š`RabbitListenerContainerFactory`ä¸ªå®ä¾‹ï¼Œæˆ–è€…å¦‚æœè¦è¦†ç›–é»˜è®¤å€¼ï¼ŒSpring Bootä¼šæä¾›`SimpleRabbitListenerContainerFactoryConfigurer`å’Œ`DirectRabbitListenerContainerFactoryConfigurer`ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å®ƒæ¥åˆå§‹åŒ–`SimpleRabbitListenerContainerFactory`å’Œ`DirectRabbitListenerContainerFactory`å…·æœ‰ä¸è‡ªåŠ¨é…ç½®ä½¿ç”¨çš„å·¥å‚ç›¸åŒçš„è®¾ç½®ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æ‚¨é€‰æ‹©çš„å®¹å™¨ç±»å‹æ— å…³ç´§è¦ã€‚è¿™ä¸¤ä¸ªbeansç”±è‡ªåŠ¨é…ç½®å…¬å¼€ã€‚</p></td></tr></tbody></table>

ä¾‹å¦‚ï¼Œä»¥ä¸‹é…ç½®ç±»å…¬å¼€äº†å¦ä¸€ä¸ªä½¿ç”¨ç‰¹å®š`MessageConverter`çš„å·¥å‚ï¼š

```
_@Configuration_
static class RabbitConfiguration {

	_@Bean_
	public SimpleRabbitListenerContainerFactory myFactory(
			SimpleRabbitListenerContainerFactoryConfigurer configurer) {
		SimpleRabbitListenerContainerFactory factory =
				new SimpleRabbitListenerContainerFactory();
		configurer.configure(factory, connectionFactory);
		factory.setMessageConverter(myMessageConverter());
		return factory;
	}

}
```

ç„¶åä½ å¯ä»¥åœ¨ä»»ä½•`@RabbitListener` - æ³¨é‡Šæ–¹æ³•ä¸­ä½¿ç”¨å·¥å‚ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
_@Component_
public class MyBean {

	@RabbitListener(queues = "someQueue", **containerFactory="myFactory"**)
	public void processMessage(String content) {
		// ...
	}

}
```

æ‚¨å¯ä»¥å¯ç”¨é‡è¯•æ¥å¤„ç†ä¾¦å¬å™¨æŠ›å‡ºå¼‚å¸¸çš„æƒ…å†µã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œä½¿ç”¨`RejectAndDontRequeueRecoverer`ï¼Œä½†æ‚¨å¯ä»¥å®šä¹‰è‡ªå·±çš„`MessageRecoverer`ã€‚å½“é‡è¯•è€—å°½æ—¶ï¼Œå¦‚æœä»£ç†é…ç½®äº†è¿™æ ·åšï¼Œåˆ™æ‹’ç»è¯¥æ¶ˆæ¯å¹¶å°†å…¶ä¸¢å¼ƒæˆ–è·¯ç”±åˆ°æ­»ä¿¡äº¤æ¢ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œç¦ç”¨é‡è¯•ã€‚æ‚¨è¿˜å¯ä»¥é€šè¿‡å£°æ˜`RabbitRetryTemplateCustomizer` beanä»¥ç¼–ç¨‹æ–¹å¼è‡ªå®šä¹‰`RetryTemplate`ã€‚

<table border="0" summary="Important"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[é‡è¦]" src="images/important.png"></td><th align="left">é‡è¦</th></tr><tr><td align="left" valign="top"><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœç¦ç”¨é‡è¯•å¹¶ä¸”ä¾¦å¬å™¨æŠ›å‡ºå¼‚å¸¸ï¼Œåˆ™ä¼šæ— é™æœŸåœ°é‡è¯•ä¼ é€’ã€‚æ‚¨å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼ä¿®æ”¹æ­¤è¡Œä¸ºï¼šå°†<code class="literal" i="1670">defaultRequeueRejected</code>å±æ€§è®¾ç½®ä¸º<code class="literal" i="1671">false</code>ï¼Œä»¥ä¾¿å°è¯•é›¶é‡æ–°ä¼ é€’æˆ–æŠ›å‡º<code class="literal" i="1672">AmqpRejectAndDontRequeueException</code>ä»¥è¡¨ç¤ºåº”æ‹’ç»è¯¥æ¶ˆæ¯ã€‚åè€…æ˜¯å¯ç”¨é‡è¯•å¹¶ä¸”è¾¾åˆ°æœ€å¤§ä¼ é€’å°è¯•æ¬¡æ•°æ—¶ä½¿ç”¨çš„æœºåˆ¶ã€‚</p></td></tr></tbody></table>

33.3 Apache Kafkaæ”¯æŒ
-------------------

[](https://kafka.apache.org/)é€šè¿‡æä¾›`spring-kafka`é¡¹ç›®çš„è‡ªåŠ¨é…ç½®æ¥æ”¯æŒ[Apache Kafka](https://kafka.apache.org/)ã€‚

Kafkaé…ç½®ç”±`spring.kafka.*`ä¸­çš„å¤–éƒ¨é…ç½®å±æ€§æ§åˆ¶ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥åœ¨`application.properties`ä¸­å£°æ˜ä»¥ä¸‹éƒ¨åˆ†ï¼š

```
spring.kafka.bootstrap-servers=localhost:9092
spring.kafka.consumer.group-id=myGroup
```

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>è¦åœ¨å¯åŠ¨æ—¶åˆ›å»ºä¸»é¢˜ï¼Œè¯·æ·»åŠ beanç±»å‹<code class="literal" i="1676">NewTopic</code>ã€‚å¦‚æœä¸»é¢˜å·²å­˜åœ¨ï¼Œåˆ™å¿½ç•¥beanã€‚</p></td></tr></tbody></table>

æœ‰å…³[`KafkaProperties`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/kafka/KafkaProperties.java) æ›´å¤šæ”¯æŒé€‰é¡¹ï¼Œè¯·å‚é˜…

### 33.3.1å‘é€æ¶ˆæ¯

Springçš„`KafkaTemplate`æ˜¯è‡ªåŠ¨é…ç½®çš„ï¼Œæ‚¨å¯ä»¥ç›´æ¥åœ¨è‡ªå·±çš„beansä¸­è‡ªåŠ¨è£…é…å®ƒï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤ºï¼š

```
_@Component_
public class MyBean {

	private final KafkaTemplate kafkaTemplate;

	_@Autowired_
	public MyBean(KafkaTemplate kafkaTemplate) {
		this.kafkaTemplate = kafkaTemplate;
	}

	// ...

}
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å¦‚æœå®šä¹‰äº†å±æ€§<code class="literal" i="1678">spring.kafka.producer.transaction-id-prefix</code>ï¼Œåˆ™ä¼šè‡ªåŠ¨é…ç½®<code class="literal" i="1679">KafkaTransactionManager</code>ã€‚æ­¤å¤–ï¼Œå¦‚æœå®šä¹‰äº†<code class="literal" i="1680">RecordMessageConverter</code> beanï¼Œå®ƒå°†è‡ªåŠ¨ä¸è‡ªåŠ¨é…ç½®çš„<code class="literal" i="1681">KafkaTemplate</code>ç›¸å…³è”ã€‚</p></td></tr></tbody></table>

### 33.3.2æ¥æ”¶æ¶ˆæ¯

å½“å­˜åœ¨Apache KafkaåŸºç¡€ç»“æ„æ—¶ï¼Œå¯ä»¥ä½¿ç”¨`@KafkaListener`æ³¨é‡Šä»»ä½•beanä»¥åˆ›å»ºä¾¦å¬å™¨ç«¯ç‚¹ã€‚å¦‚æœæœªå®šä¹‰`KafkaListenerContainerFactory`ï¼Œåˆ™ä¼šä½¿ç”¨`spring.kafka.listener.*`ä¸­å®šä¹‰çš„é”®è‡ªåŠ¨é…ç½®é»˜è®¤å€¼ã€‚

ä»¥ä¸‹ç»„ä»¶åœ¨`someTopic`ä¸»é¢˜ä¸Šåˆ›å»ºä¸€ä¸ªä¾¦å¬å™¨ç«¯ç‚¹ï¼š

```
_@Component_
public class MyBean {

	_@KafkaListener(topics = "someTopic")_
	public void processMessage(String content) {
		// ...
	}

}
```

å¦‚æœå®šä¹‰äº†`KafkaTransactionManager` beanï¼Œå®ƒå°†è‡ªåŠ¨å…³è”åˆ°å®¹å™¨å·¥å‚ã€‚åŒæ ·ï¼Œå¦‚æœå®šä¹‰äº†`RecordMessageConverter`ï¼Œ`ErrorHandler`æˆ–`AfterRollbackProcessor` beanï¼Œå®ƒå°†è‡ªåŠ¨ä¸é»˜è®¤å·¥å‚ç›¸å…³è”ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>è‡ªå®šä¹‰<code class="literal" i="1690">ChainedKafkaTransactionManager</code>å¿…é¡»æ ‡è®°ä¸º<code class="literal" i="1691">@Primary</code>ï¼Œå› ä¸ºå®ƒé€šå¸¸ä¼šå¼•ç”¨è‡ªåŠ¨é…ç½®çš„<code class="literal" i="1692">KafkaTransactionManager</code> beanã€‚</p></td></tr></tbody></table>

### 33.3.3å¡å¤«å¡æµ

Apache Kafkaçš„Springæä¾›äº†ä¸€ä¸ªå·¥å‚beanæ¥åˆ›å»ºä¸€ä¸ª`StreamsBuilder`å¯¹è±¡å¹¶ç®¡ç†å…¶æµçš„ç”Ÿå‘½å‘¨æœŸã€‚Spring Bootåªè¦`kafka-streams`åœ¨ç±»è·¯å¾„ä¸Šï¼Œå¹¶ä¸”é€šè¿‡`@EnableKafkaStreams`æ³¨é‡Šå¯ç”¨Kafka Streamsï¼Œå°±ä¼šè‡ªåŠ¨é…ç½®æ‰€éœ€çš„`KafkaStreamsConfiguration` beanã€‚

å¯ç”¨Kafka Streamsæ„å‘³ç€å¿…é¡»è®¾ç½®åº”ç”¨ç¨‹åºIDå’Œå¼•å¯¼ç¨‹åºæœåŠ¡å™¨ã€‚å¯ä»¥ä½¿ç”¨`spring.kafka.streams.application-id`é…ç½®å‰è€…ï¼Œå¦‚æœæœªè®¾ç½®ï¼Œåˆ™é»˜è®¤ä¸º`spring.application.name`ã€‚åè€…å¯ä»¥å…¨å±€è®¾ç½®æˆ–ä¸“é—¨ä¸ºæµè€Œé‡å†™ã€‚

ä½¿ç”¨ä¸“ç”¨å±æ€§å¯ä»¥ä½¿ç”¨å…¶ä»–å‡ ä¸ªå±æ€§; å¯ä»¥ä½¿ç”¨`spring.kafka.streams.properties`å‘½åç©ºé—´è®¾ç½®å…¶ä»–ä»»æ„Kafkaå±æ€§ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯[ï¼Œ](#boot-features-kafka-extra-props "33.3.4é™„åŠ Kafkaå±æ€§")å¦è¯·å‚è§[ç¬¬33.3.4èŠ‚â€œå…¶ä»–Kafkaå±æ€§â€](#boot-features-kafka-extra-props "33.3.4Â Additional Kafka Properties")ã€‚

è¦ä½¿ç”¨å·¥å‚beanï¼Œåªéœ€å°†`StreamsBuilder`è¿æ¥åˆ°`@Bean`ï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤ºï¼š

```
_@Configuration_
_@EnableKafkaStreams_
static class KafkaStreamsExampleConfiguration {

	_@Bean_
	public KStream<Integer, String> kStream(StreamsBuilder streamsBuilder) {
		KStream<Integer, String> stream = streamsBuilder.stream("ks1In");
		stream.map((k, v) -> new KeyValue<>(k, v.toUpperCase())).to("ks1Out",
				Produced.with(Serdes.Integer(), new JsonSerde<>()));
		return stream;
	}

}
```

é»˜è®¤æƒ…å†µä¸‹ï¼Œç”±å…¶åˆ›å»ºçš„`StreamBuilder`å¯¹è±¡ç®¡ç†çš„æµå°†è‡ªåŠ¨å¯åŠ¨ã€‚æ‚¨å¯ä»¥ä½¿ç”¨`spring.kafka.streams.auto-startup`å±æ€§è‡ªå®šä¹‰æ­¤è¡Œä¸ºã€‚

### 33.3.4é™„åŠ Kafkaå±æ€§

è‡ªåŠ¨é…ç½®æ”¯æŒçš„å±æ€§æ˜¾ç¤ºåœ¨ [é™„å½•Aï¼Œ_å¸¸è§åº”ç”¨ç¨‹åºå±æ€§ä¸­_](#common-application-properties "é™„å½•A.å¸¸ç”¨åº”ç”¨ç¨‹åºå±æ€§")ã€‚è¯·æ³¨æ„ï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¿™äº›å±æ€§ï¼ˆè¿å­—ç¬¦æˆ–camelCaseï¼‰ç›´æ¥æ˜ å°„åˆ°Apache Kafkaç‚¹çŠ¶å±æ€§ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…Apache Kafkaæ–‡æ¡£ã€‚

è¿™äº›å±æ€§ä¸­çš„å‰å‡ ä¸ªé€‚ç”¨äºæ‰€æœ‰ç»„ä»¶ï¼ˆç”Ÿäº§è€…ï¼Œä½¿ç”¨è€…ï¼Œç®¡ç†å‘˜å’Œæµï¼‰ï¼Œä½†å¦‚æœæ‚¨å¸Œæœ›ä½¿ç”¨ä¸åŒçš„å€¼ï¼Œåˆ™å¯ä»¥åœ¨ç»„ä»¶çº§åˆ«æŒ‡å®šã€‚Apache KafkaæŒ‡å®šé‡è¦æ€§ä¸ºHIGHï¼ŒMEDIUMæˆ–LOWçš„å±æ€§ã€‚Spring Boot auto-configurationæ”¯æŒæ‰€æœ‰HIGHé‡è¦æ€§å±æ€§ï¼Œä¸€äº›é€‰å®šçš„MEDIUMå’ŒLOWå±æ€§ï¼Œä»¥åŠä»»ä½•æ²¡æœ‰é»˜è®¤å€¼çš„å±æ€§ã€‚

åªæœ‰Kafkaæ”¯æŒçš„å±æ€§çš„ä¸€éƒ¨åˆ†å¯ä»¥é€šè¿‡`KafkaProperties`ç±»ç›´æ¥è·å¾—ã€‚å¦‚æœæ‚¨å¸Œæœ›ä½¿ç”¨ä¸ç›´æ¥æ”¯æŒçš„å…¶ä»–å±æ€§é…ç½®ç”Ÿäº§è€…æˆ–ä½¿ç”¨è€…ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å±æ€§ï¼š

```
spring.kafka.properties.prop.one=first
spring.kafka.admin.properties.prop.two=second
spring.kafka.consumer.properties.prop.three=third
spring.kafka.producer.properties.prop.four=fourth
spring.kafka.streams.properties.prop.five=fifth
```

è¿™å°†å¸¸è§çš„`prop.one` Kafkaå±æ€§è®¾ç½®ä¸º`first`ï¼ˆé€‚ç”¨äºç”Ÿäº§è€…ï¼Œæ¶ˆè´¹è€…å’Œç®¡ç†å‘˜ï¼‰ï¼Œå°†`prop.two` adminå±æ€§è®¾ç½®ä¸º`second`ï¼Œå°†`prop.three`ä½¿ç”¨è€…å±æ€§è®¾ç½®ä¸º`third` ï¼Œ`prop.four`ç”Ÿäº§è€…å±æ€§ä¸º`fourth`ï¼Œ`prop.five`æµå±æ€§ä¸º`fifth`ã€‚

æ‚¨è¿˜å¯ä»¥æŒ‰å¦‚ä¸‹æ–¹å¼é…ç½®Spring Kafka `JsonDeserializer`ï¼š

```
spring.kafka.consumer.value-deserializer=org.springframework.kafka.support.serializer.JsonDeserializer
spring.kafka.consumer.properties.spring.json.value.default.type=com.example.Invoice
spring.kafka.consumer.properties.spring.json.trusted.packages=com.example,org.acme
```

åŒæ ·ï¼Œæ‚¨å¯ä»¥ç¦ç”¨åœ¨æ ‡å¤´ä¸­å‘é€ç±»å‹ä¿¡æ¯çš„`JsonSerializer`é»˜è®¤è¡Œä¸ºï¼š

```
spring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer
spring.kafka.producer.properties.spring.json.add.type.headers=false
```

<table border="0" summary="Important"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[é‡è¦]" src="images/important.png"></td><th align="left">é‡è¦</th></tr><tr><td align="left" valign="top"><p>ä»¥è¿™ç§æ–¹å¼è®¾ç½®çš„å±æ€§ä¼šè¦†ç›–Spring Bootæ˜ç¡®æ”¯æŒçš„ä»»ä½•é…ç½®é¡¹ã€‚</p></td></tr></tbody></table>

34.ä½¿ç”¨`RestTemplate`è°ƒç”¨RESTæœåŠ¡
---------------------------

å¦‚æœéœ€è¦ä»åº”ç”¨ç¨‹åºè°ƒç”¨è¿œç¨‹RESTæœåŠ¡ï¼Œå¯ä»¥ä½¿ç”¨Spring Frameworkçš„[`RestTemplate`](https://docs.spring.io/spring/docs/5.1.3.RELEASE/javadoc-api/org/springframework/web/client/RestTemplate.html)ç±»ã€‚ç”±äº`RestTemplate`å®ä¾‹åœ¨ä½¿ç”¨ä¹‹å‰é€šå¸¸éœ€è¦è¿›è¡Œè‡ªå®šä¹‰ï¼Œå› æ­¤Spring Bootä¸æä¾›ä»»ä½•å•ä¸ªè‡ªåŠ¨é…ç½®`RestTemplate` beanã€‚ä½†æ˜¯ï¼Œå®ƒä¼šè‡ªåŠ¨é…ç½®`RestTemplateBuilder`ï¼Œå¯åœ¨éœ€è¦æ—¶ç”¨äºåˆ›å»º`RestTemplate`å®ä¾‹ã€‚è‡ªåŠ¨é…ç½®çš„`RestTemplateBuilder`ç¡®ä¿å°†åˆç†çš„`HttpMessageConverters`åº”ç”¨äº`RestTemplate`å®ä¾‹ã€‚

ä»¥ä¸‹ä»£ç æ˜¾ç¤ºäº†ä¸€ä¸ªå…¸å‹ç¤ºä¾‹ï¼š

```
_@Service_
public class MyService {

	private final RestTemplate restTemplate;

	public MyService(RestTemplateBuilder restTemplateBuilder) {
		this.restTemplate = restTemplateBuilder.build();
	}

	public Details someRestCall(String name) {
		return this.restTemplate.getForObject("/{name}/details", Details.class, name);
	}

}
```

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p><code class="literal" i="1725">RestTemplateBuilder</code>åŒ…å«è®¸å¤šå¯ç”¨äºå¿«é€Ÿé…ç½®<code class="literal" i="1726">RestTemplate</code>çš„æœ‰ç”¨æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œè¦æ·»åŠ BASIC authæ”¯æŒï¼Œå¯ä»¥ä½¿ç”¨<code class="literal" i="1727">builder.basicAuthentication("user", "password").build()</code>ã€‚</p></td></tr></tbody></table>

34.1 RestTemplateè‡ªå®šä¹‰
--------------------

`RestTemplate`è‡ªå®šä¹‰æœ‰ä¸‰ç§ä¸»è¦æ–¹æ³•ï¼Œå…·ä½“å–å†³äºæ‚¨å¸Œæœ›è‡ªå®šä¹‰åº”ç”¨çš„å¹¿æ³›ç¨‹åº¦ã€‚

è¦ä½¿ä»»ä½•è‡ªå®šä¹‰çš„èŒƒå›´å°½å¯èƒ½çª„ï¼Œè¯·æ³¨å…¥è‡ªåŠ¨é…ç½®çš„`RestTemplateBuilder`ï¼Œç„¶åæ ¹æ®éœ€è¦è°ƒç”¨å…¶æ–¹æ³•ã€‚æ¯ä¸ªæ–¹æ³•è°ƒç”¨éƒ½è¿”å›ä¸€ä¸ªæ–°çš„`RestTemplateBuilder`å®ä¾‹ï¼Œå› æ­¤è‡ªå®šä¹‰åªä¼šå½±å“æ„å»ºå™¨çš„è¿™ç§ä½¿ç”¨ã€‚

è¦è¿›è¡Œåº”ç”¨ç¨‹åºèŒƒå›´çš„é™„åŠ è‡ªå®šä¹‰ï¼Œè¯·ä½¿ç”¨`RestTemplateCustomizer` beanã€‚æ‰€æœ‰è¿™äº›beanséƒ½ä¼šè‡ªåŠ¨æ³¨å†Œåˆ°è‡ªåŠ¨é…ç½®çš„`RestTemplateBuilder`ï¼Œå¹¶åº”ç”¨äºä½¿ç”¨å®ƒæ„å»ºçš„ä»»ä½•æ¨¡æ¿ã€‚

ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†ä¸€ä¸ªè‡ªå®šä¹‰ç¨‹åºï¼Œå®ƒä¸ºé™¤`192.168.0.5`ä¹‹å¤–çš„æ‰€æœ‰ä¸»æœºé…ç½®ä»£ç†çš„ä½¿ç”¨ï¼š

```
static class ProxyCustomizer implements RestTemplateCustomizer {

	_@Override_
	public void customize(RestTemplate restTemplate) {
		HttpHost proxy = new HttpHost("proxy.example.com");
		HttpClient httpClient = HttpClientBuilder.create()
				.setRoutePlanner(new DefaultProxyRoutePlanner(proxy) {

					_@Override_
					public HttpHost determineProxy(HttpHost target,
							HttpRequest request, HttpContext context)
							throws HttpException {
						if (target.getHostName().equals("192.168.0.5")) {
							return null;
						}
						return super.determineProxy(target, request, context);
					}

				}).build();
		restTemplate.setRequestFactory(
				new HttpComponentsClientHttpRequestFactory(httpClient));
	}

}
```

æœ€åï¼Œæœ€æç«¯ï¼ˆä¹Ÿå¾ˆå°‘ä½¿ç”¨ï¼‰çš„é€‰é¡¹æ˜¯åˆ›å»ºè‡ªå·±çš„`RestTemplateBuilder` beanã€‚è¿™æ ·åšä¼šå…³é—­`RestTemplateBuilder`çš„è‡ªåŠ¨é…ç½®ï¼Œå¹¶é˜»æ­¢ä½¿ç”¨ä»»ä½•`RestTemplateCustomizer` beansã€‚

35.ä½¿ç”¨`WebClient`è°ƒç”¨RESTæœåŠ¡
------------------------

å¦‚æœæ‚¨çš„ç±»è·¯å¾„ä¸Šæœ‰Spring WebFluxï¼Œæ‚¨è¿˜å¯ä»¥é€‰æ‹©ä½¿ç”¨`WebClient`æ¥è°ƒç”¨è¿œç¨‹RESTæœåŠ¡ã€‚ä¸`RestTemplate`ç›¸æ¯”ï¼Œè¯¥å®¢æˆ·ç«¯å…·æœ‰æ›´å¤šåŠŸèƒ½æ„Ÿå¹¶ä¸”å®Œå…¨è¢«åŠ¨ã€‚æ‚¨å¯ä»¥[åœ¨Springæ¡†æ¶æ–‡æ¡£](https://docs.spring.io/spring/docs/5.1.3.RELEASE/spring-framework-reference/web-reactive.html#webflux-client)çš„ä¸“ç”¨[éƒ¨åˆ†ä¸­](https://docs.spring.io/spring/docs/5.1.3.RELEASE/spring-framework-reference/web-reactive.html#webflux-client)äº†è§£æœ‰å…³`WebClient`çš„æ›´å¤šä¿¡æ¯ ã€‚

Spring Bootä¸ºæ‚¨åˆ›å»ºå¹¶é¢„å…ˆé…ç½®`WebClient.Builder`; å¼ºçƒˆå»ºè®®å°†å…¶æ³¨å…¥æ‚¨çš„ç»„ä»¶å¹¶ä½¿ç”¨å®ƒæ¥åˆ›å»º`WebClient`å®ä¾‹ã€‚Spring Bootæ­£åœ¨é…ç½®è¯¥æ„å»ºå™¨ä»¥å…±äº«HTTPèµ„æºï¼Œä»¥ä¸æœåŠ¡å™¨ç›¸åŒçš„æ–¹å¼åæ˜ ç¼–è§£ç å™¨è®¾ç½®ï¼ˆè¯·å‚é˜… [WebFlux HTTPç¼–è§£ç å™¨è‡ªåŠ¨é…ç½®](#boot-features-webflux-httpcodecs "28.2.2å¸¦æœ‰HttpMessageReaderså’ŒHttpMessageWritersçš„HTTPç¼–è§£ç å™¨")ï¼‰ç­‰ã€‚

ä»¥ä¸‹ä»£ç æ˜¾ç¤ºäº†ä¸€ä¸ªå…¸å‹ç¤ºä¾‹ï¼š

```
_@Service_
public class MyService {

	private final WebClient webClient;

	public MyService(WebClient.Builder webClientBuilder) {
		this.webClient = webClientBuilder.baseUrl("http://example.org").build();
	}

	public Mono<Details> someRestCall(String name) {
		return this.webClient.get().uri("/{name}/details", name)
						.retrieve().bodyToMono(Details.class);
	}

}
```

35.1 WebClientè¿è¡Œæ—¶
-----------------

Spring Bootå°†è‡ªåŠ¨æ£€æµ‹ç”¨äºé©±åŠ¨`WebClient`çš„`ClientHttpConnector`ï¼Œå…·ä½“å–å†³äºåº”ç”¨ç¨‹åºç±»è·¯å¾„ä¸Šå¯ç”¨çš„åº“ã€‚ç›®å‰ï¼Œæ”¯æŒReactor Nettyå’ŒJetty RSå®¢æˆ·ç«¯ã€‚

`spring-boot-starter-webflux`å¯åŠ¨ç¨‹åºé»˜è®¤ä¾èµ–äº`io.projectreactor.netty:reactor-netty`ï¼Œå®ƒå¸¦æ¥äº†æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯å®ç°ã€‚å¦‚æœæ‚¨é€‰æ‹©å°†Jettyç”¨ä½œååº”å¼æœåŠ¡å™¨ï¼Œåˆ™åº”è¯¥åœ¨Jetty Reactive HTTPå®¢æˆ·ç«¯åº“`org.eclipse.jetty:jetty-reactive-httpclient`ä¸Šæ·»åŠ ä¾èµ–é¡¹ã€‚å¯¹æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ä½¿ç”¨ç›¸åŒçš„æŠ€æœ¯å…·æœ‰ä¼˜åŠ¿ï¼Œå› ä¸ºå®ƒå°†è‡ªåŠ¨åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´å…±äº«HTTPèµ„æºã€‚

å¼€å‘äººå‘˜å¯ä»¥é€šè¿‡æä¾›è‡ªå®šä¹‰`ReactorResourceFactory`æˆ–`JettyResourceFactory` beanè¦†ç›–Jettyå’ŒReactor Nettyçš„èµ„æºé…ç½® - è¿™å°†åº”ç”¨äºå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ã€‚

å¦‚æœæ‚¨å¸Œæœ›è¦†ç›–å®¢æˆ·ç«¯çš„è¯¥é€‰é¡¹ï¼Œæ‚¨å¯ä»¥å®šä¹‰è‡ªå·±çš„`ClientHttpConnector` beanå¹¶å®Œå…¨æ§åˆ¶å®¢æˆ·ç«¯é…ç½®ã€‚

æ‚¨å¯ä»¥[åœ¨Springæ¡†æ¶å‚è€ƒæ–‡æ¡£ä¸­](https://docs.spring.io/spring/docs/5.1.3.RELEASE/spring-framework-reference/web-reactive.html#webflux-client-builder)äº†è§£æœ‰å…³[`WebClient`é…ç½®é€‰é¡¹çš„](https://docs.spring.io/spring/docs/5.1.3.RELEASE/spring-framework-reference/web-reactive.html#webflux-client-builder)æ›´å¤šä¿¡æ¯ ã€‚

35.2 WebClientè‡ªå®šä¹‰
-----------------

`WebClient`è‡ªå®šä¹‰æœ‰ä¸‰ç§ä¸»è¦æ–¹æ³•ï¼Œå…·ä½“å–å†³äºæ‚¨å¸Œæœ›è‡ªå®šä¹‰åº”ç”¨çš„å¹¿æ³›ç¨‹åº¦ã€‚

è¦ä½¿ä»»ä½•è‡ªå®šä¹‰çš„èŒƒå›´å°½å¯èƒ½çª„ï¼Œè¯·æ³¨å…¥è‡ªåŠ¨é…ç½®çš„`WebClient.Builder`ï¼Œç„¶åæ ¹æ®éœ€è¦è°ƒç”¨å…¶æ–¹æ³•ã€‚`WebClient.Builder`å®ä¾‹æ˜¯æœ‰çŠ¶æ€çš„ï¼šæ„å»ºå™¨ä¸Šçš„ä»»ä½•æ›´æ”¹éƒ½ä¼šåæ˜ åœ¨éšåä½¿ç”¨å®ƒåˆ›å»ºçš„æ‰€æœ‰å®¢æˆ·ç«¯ä¸­ã€‚å¦‚æœè¦ä½¿ç”¨ç›¸åŒçš„æ„å»ºå™¨åˆ›å»ºå¤šä¸ªå®¢æˆ·ç«¯ï¼Œè¿˜å¯ä»¥è€ƒè™‘ä½¿ç”¨`WebClient.Builder other = builder.clone();`å…‹éš†æ„å»ºå™¨ã€‚

è¦å¯¹æ‰€æœ‰`WebClient.Builder`å®ä¾‹è¿›è¡Œåº”ç”¨ç¨‹åºèŒƒå›´çš„é™„åŠ è‡ªå®šä¹‰ï¼Œæ‚¨å¯ä»¥å£°æ˜`WebClientCustomizer` beanså¹¶åœ¨æ³¨å…¥ç‚¹æœ¬åœ°æ›´æ”¹`WebClient.Builder`ã€‚

æœ€åï¼Œæ‚¨å¯ä»¥å›é€€åˆ°åŸå§‹APIå¹¶ä½¿ç”¨`WebClient.create()`ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¸åº”ç”¨è‡ªåŠ¨é…ç½®æˆ–`WebClientCustomizer`ã€‚

36.éªŒè¯
-----

åªè¦JSR-303å®ç°ï¼ˆä¾‹å¦‚HibernateéªŒè¯å™¨ï¼‰åœ¨ç±»è·¯å¾„ä¸Šï¼ŒBeanéªŒè¯1.1æ”¯æŒçš„æ–¹æ³•éªŒè¯åŠŸèƒ½å°±ä¼šè‡ªåŠ¨å¯ç”¨ã€‚è¿™ä½¿å¾—beanæ–¹æ³•å¯ä»¥ä½¿ç”¨`javax.validation`å¯¹å…¶å‚æ•°å’Œ/æˆ–è¿”å›å€¼çš„çº¦æŸè¿›è¡Œæ³¨é‡Šã€‚å…·æœ‰æ­¤ç±»å¸¦æ³¨é‡Šæ–¹æ³•çš„ç›®æ ‡ç±»éœ€è¦åœ¨ç±»å‹çº§åˆ«ä½¿ç”¨`@Validated`æ³¨é‡Šè¿›è¡Œæ³¨é‡Šï¼Œä»¥ä¾¿æœç´¢å…¶å†…è”çº¦æŸæ³¨é‡Šçš„æ–¹æ³•ã€‚

ä¾‹å¦‚ï¼Œä»¥ä¸‹æœåŠ¡è§¦å‘ç¬¬ä¸€ä¸ªå‚æ•°çš„éªŒè¯ï¼Œç¡®ä¿å…¶å¤§å°åœ¨8åˆ°10ä¹‹é—´ï¼š

```
_@Service_
_@Validated_
public class MyBean {

	public Archive findByCodeAndAuthor(_@Size(min = 8, max = 10)_ String code,
			Author author) {
		...
	}

}
```

37.å‘é€ç”µå­é‚®ä»¶
---------

Springæ¡†æ¶æä¾›äº†ä½¿ç”¨`JavaMailSender`ç•Œé¢å‘é€ç”µå­é‚®ä»¶çš„ç®€å•æŠ½è±¡ï¼ŒSpring Bootä¸ºå…¶æä¾›äº†è‡ªåŠ¨é…ç½®ä»¥åŠå¯åŠ¨å™¨æ¨¡å—ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æœ‰å…³å¦‚ä½•ä½¿ç”¨<code class="literal" i="1764">JavaMailSender</code>çš„è¯¦ç»†è¯´æ˜ï¼Œè¯·å‚é˜…<a class="link" href="https://docs.spring.io/spring/docs/5.1.3.RELEASE/spring-framework-reference/integration.html#mail" target="_top">å‚è€ƒæ–‡æ¡£</a>ã€‚</p></td></tr></tbody></table>

å¦‚æœ`spring.mail.host`å’Œç›¸å…³åº“ï¼ˆç”±`spring-boot-starter-mail`å®šä¹‰ï¼‰å¯ç”¨ï¼Œåˆ™åˆ›å»ºé»˜è®¤å€¼`JavaMailSender`ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰ã€‚å¯ä»¥é€šè¿‡`spring.mail`å‘½åç©ºé—´ä¸­çš„é…ç½®é¡¹è¿›ä¸€æ­¥è‡ªå®šä¹‰å‘ä»¶äººã€‚æœ‰å…³[`MailProperties`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/mail/MailProperties.java)è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…

ç‰¹åˆ«æ˜¯ï¼ŒæŸäº›é»˜è®¤è¶…æ—¶å€¼æ˜¯æ— é™çš„ï¼Œæ‚¨å¯èƒ½å¸Œæœ›æ›´æ”¹å®ƒä»¥é¿å…çº¿ç¨‹è¢«æ— å“åº”çš„é‚®ä»¶æœåŠ¡å™¨é˜»å¡ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=3000
spring.mail.properties.mail.smtp.writetimeout=5000
```

ä¹Ÿå¯ä»¥ä½¿ç”¨JNDIä¸­çš„ç°æœ‰`Session`é…ç½®`JavaMailSender`ï¼š

```
spring.mail.jndi-name=mail/Session
```

è®¾ç½®`jndi-name`æ—¶ï¼Œå®ƒä¼˜å…ˆäºæ‰€æœ‰å…¶ä»–ä¸ä¼šè¯ç›¸å…³çš„è®¾ç½®ã€‚

38.ä½¿ç”¨JTAçš„åˆ†å¸ƒå¼äº‹åŠ¡
--------------

Spring Booté€šè¿‡ä½¿ç”¨[Atomikos](http://www.atomikos.com/)æˆ–[Bitronix](https://github.com/bitronix/btm) åµŒå…¥å¼äº‹åŠ¡ç®¡ç†å™¨æ”¯æŒè·¨å¤šä¸ªXAèµ„æºçš„åˆ†å¸ƒå¼JTAäº‹åŠ¡ã€‚éƒ¨ç½²åˆ°åˆé€‚çš„Java EE Application Serveræ—¶ï¼Œä¹Ÿæ”¯æŒJTAäº‹åŠ¡ã€‚

æ£€æµ‹åˆ°JTAç¯å¢ƒæ—¶ï¼ŒSpringçš„`JtaTransactionManager`ç”¨äºç®¡ç†äº‹åŠ¡ã€‚è‡ªåŠ¨é…ç½®çš„JMSï¼ŒDataSourceå’ŒJPA beanså·²å‡çº§ä¸ºæ”¯æŒXAäº‹åŠ¡ã€‚æ‚¨å¯ä»¥ä½¿ç”¨æ ‡å‡†Springæƒ¯ç”¨è¯­ï¼ˆä¾‹å¦‚`@Transactional`ï¼‰æ¥å‚ä¸åˆ†å¸ƒå¼äº‹åŠ¡ã€‚å¦‚æœæ‚¨åœ¨JTAç¯å¢ƒä¸­å¹¶ä¸”ä»æƒ³ä½¿ç”¨æœ¬åœ°äº‹åŠ¡ï¼Œåˆ™å¯ä»¥å°†`spring.jta.enabled`å±æ€§è®¾ç½®ä¸º`false`ä»¥ç¦ç”¨JTAè‡ªåŠ¨é…ç½®ã€‚

38.1ä½¿ç”¨Atomikosäº‹åŠ¡ç®¡ç†å™¨
-------------------

[Atomikos](https://www.atomikos.com/)æ˜¯ä¸€ä¸ªæµè¡Œçš„å¼€æºäº‹åŠ¡ç®¡ç†å™¨ï¼Œå¯ä»¥åµŒå…¥åˆ°æ‚¨çš„Spring Bootåº”ç”¨ç¨‹åºä¸­ã€‚æ‚¨å¯ä»¥ä½¿ç”¨`spring-boot-starter-jta-atomikos` Starterå¼•å…¥ç›¸åº”çš„Atomikosåº“ã€‚Spring Bootè‡ªåŠ¨é…ç½®Atomikoså¹¶ç¡®ä¿å°†é€‚å½“çš„`depends-on`è®¾ç½®åº”ç”¨äºSpring beansä»¥æ­£ç¡®å¯åŠ¨å’Œå…³é—­é¡ºåºã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼ŒAtomikosäº‹åŠ¡æ—¥å¿—å°†å†™å…¥åº”ç”¨ç¨‹åºä¸»ç›®å½•ï¼ˆåº”ç”¨ç¨‹åºjaræ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ï¼‰ä¸­çš„`transaction-logs`ç›®å½•ã€‚æ‚¨å¯ä»¥é€šè¿‡åœ¨`application.properties`æ–‡ä»¶ä¸­è®¾ç½®`spring.jta.log-dir`å±æ€§æ¥è‡ªå®šä¹‰æ­¤ç›®å½•çš„ä½ç½®ã€‚ä»¥`spring.jta.atomikos.properties`å¼€å¤´çš„å±æ€§ä¹Ÿå¯ç”¨äºè‡ªå®šä¹‰Atomikos `UserTransactionServiceImp`ã€‚æœ‰å…³ å®Œæ•´çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… [`AtomikosProperties` Javadoc](https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/jta/atomikos/AtomikosProperties.html)ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>ä¸ºç¡®ä¿å¤šä¸ªäº‹åŠ¡ç®¡ç†å™¨å¯ä»¥å®‰å…¨åœ°åè°ƒç›¸åŒçš„èµ„æºç®¡ç†å™¨ï¼Œå¿…é¡»ä¸ºæ¯ä¸ªAtomikoså®ä¾‹é…ç½®å”¯ä¸€IDã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ­¤IDæ˜¯è¿è¡ŒAtomikosçš„è®¡ç®—æœºçš„IPåœ°å€ã€‚è¦ç¡®ä¿ç”Ÿäº§ä¸­çš„å”¯ä¸€æ€§ï¼Œåº”ä¸ºåº”ç”¨ç¨‹åºçš„æ¯ä¸ªå®ä¾‹é…ç½®å…·æœ‰ä¸åŒå€¼çš„<code class="literal" i="1784">spring.jta.transaction-manager-id</code>å±æ€§ã€‚</p></td></tr></tbody></table>

38.2ä½¿ç”¨Bitronixäº‹åŠ¡ç®¡ç†å™¨
-------------------

[Bitronix](https://github.com/bitronix/btm)æ˜¯ä¸€ç§æµè¡Œçš„å¼€æºJTAäº‹åŠ¡ç®¡ç†å™¨å®ç°ã€‚æ‚¨å¯ä»¥ä½¿ç”¨`spring-boot-starter-jta-bitronix`å¯åŠ¨ç¨‹åºå°†é€‚å½“çš„Bitronixä¾èµ–é¡¹æ·»åŠ åˆ°é¡¹ç›®ä¸­ã€‚ä¸Atomikosä¸€æ ·ï¼ŒSpring Bootè‡ªåŠ¨é…ç½®Bitronixå¹¶å¯¹beansè¿›è¡Œåå¤„ç†ï¼Œä»¥ç¡®ä¿å¯åŠ¨å’Œå…³é—­é¡ºåºæ­£ç¡®ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼ŒBitronixäº‹åŠ¡æ—¥å¿—æ–‡ä»¶ï¼ˆ`part1.btm`å’Œ`part2.btm`ï¼‰å°†å†™å…¥åº”ç”¨ç¨‹åºä¸»ç›®å½•ä¸­çš„`transaction-logs`ç›®å½•ã€‚æ‚¨å¯ä»¥é€šè¿‡è®¾ç½®`spring.jta.log-dir`å±æ€§æ¥è‡ªå®šä¹‰æ­¤ç›®å½•çš„ä½ç½®ã€‚ä»¥`spring.jta.bitronix.properties`å¼€å¤´çš„å±æ€§ä¹Ÿç»‘å®šåˆ°`bitronix.tm.Configuration` beanï¼Œå…è®¸å®Œå…¨è‡ªå®šä¹‰ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… [Bitronixæ–‡æ¡£](https://github.com/bitronix/btm/wiki/Transaction-manager-configuration)ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>ä¸ºç¡®ä¿å¤šä¸ªäº‹åŠ¡ç®¡ç†å™¨å¯ä»¥å®‰å…¨åœ°åè°ƒç›¸åŒçš„èµ„æºç®¡ç†å™¨ï¼Œå¿…é¡»ä¸ºæ¯ä¸ªBitronixå®ä¾‹é…ç½®å”¯ä¸€çš„IDã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ­¤IDæ˜¯è¿è¡ŒBitronixçš„è®¡ç®—æœºçš„IPåœ°å€ã€‚ä¸ºäº†ç¡®ä¿ç”Ÿäº§çš„å”¯ä¸€æ€§ï¼Œæ‚¨åº”è¯¥ä¸ºåº”ç”¨ç¨‹åºçš„æ¯ä¸ªå®ä¾‹é…ç½®ä¸åŒå€¼çš„<code class="literal" i="1792">spring.jta.transaction-manager-id</code>å±æ€§ã€‚</p></td></tr></tbody></table>

38.3ä½¿ç”¨Java EEæ‰˜ç®¡äº‹åŠ¡ç®¡ç†å™¨
--------------------

å¦‚æœå°†Spring Bootåº”ç”¨ç¨‹åºæ‰“åŒ…ä¸º`war`æˆ–`ear`æ–‡ä»¶å¹¶å°†å…¶éƒ¨ç½²åˆ°Java EEåº”ç”¨ç¨‹åºæœåŠ¡å™¨ï¼Œåˆ™å¯ä»¥ä½¿ç”¨åº”ç”¨ç¨‹åºæœåŠ¡å™¨çš„å†…ç½®äº‹åŠ¡ç®¡ç†å™¨ã€‚Spring Bootå°è¯•é€šè¿‡æŸ¥çœ‹å¸¸è§çš„JNDIä½ç½®ï¼ˆ`java:comp/UserTransaction`ï¼Œ`java:comp/TransactionManager`ç­‰ï¼‰æ¥è‡ªåŠ¨é…ç½®äº‹åŠ¡ç®¡ç†å™¨ã€‚å¦‚æœä½¿ç”¨åº”ç”¨ç¨‹åºæœåŠ¡å™¨æä¾›çš„äº‹åŠ¡æœåŠ¡ï¼Œé€šå¸¸è¿˜éœ€è¦ç¡®ä¿æ‰€æœ‰èµ„æºéƒ½ç”±æœåŠ¡å™¨ç®¡ç†å¹¶é€šè¿‡JNDIå…¬å¼€ã€‚Spring Bootå°è¯•é€šè¿‡åœ¨JNDIè·¯å¾„ï¼ˆ`java:/JmsXA`æˆ–`java:/XAConnectionFactory`ï¼‰æŸ¥æ‰¾`ConnectionFactory`æ¥è‡ªåŠ¨é…ç½®JMSï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨`spring.datasource.jndi-name`å±æ€§æ¥é…ç½®`DataSource`ã€‚[`spring.datasource.jndi-name`å±æ€§](#boot-features-connecting-to-a-jndi-datasource "30.1.3è¿æ¥åˆ°JNDIæ•°æ®æº") é…ç½®{1801 [}](#boot-features-connecting-to-a-jndi-datasource "30.1.3Â Connection to a JNDI DataSource") /}ã€‚

38.4æ··åˆXAå’ŒéXA JMSè¿æ¥
------------------

ä½¿ç”¨JTAæ—¶ï¼Œä¸»JMS `ConnectionFactory` beanå¯è¯†åˆ«XAå¹¶å‚ä¸åˆ†å¸ƒå¼äº‹åŠ¡ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæ‚¨å¯èƒ½å¸Œæœ›ä½¿ç”¨éXA `ConnectionFactory`å¤„ç†æŸäº›JMSæ¶ˆæ¯ã€‚ä¾‹å¦‚ï¼Œæ‚¨çš„JMSå¤„ç†é€»è¾‘å¯èƒ½éœ€è¦æ¯”XAè¶…æ—¶æ›´é•¿çš„æ—¶é—´ã€‚

å¦‚æœä½ æƒ³ä½¿ç”¨éXA `ConnectionFactory`ï¼Œä½ å¯ä»¥æ³¨å…¥`nonXaJmsConnectionFactory` beanè€Œä¸æ˜¯`@Primary` `jmsConnectionFactory` beanã€‚ä¸ºäº†ä¿æŒä¸€è‡´æ€§ï¼Œä½¿ç”¨beanåˆ«å`xaJmsConnectionFactory`ä¹Ÿæä¾›äº†`jmsConnectionFactory` beanã€‚

ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºå¦‚ä½•æ³¨å…¥`ConnectionFactory`å®ä¾‹ï¼š

```
// Inject the primary (XA aware) ConnectionFactory
_@Autowired_
private ConnectionFactory defaultConnectionFactory;

// Inject the XA aware ConnectionFactory (uses the alias and injects the same as above)
_@Autowired_
_@Qualifier("xaJmsConnectionFactory")_
private ConnectionFactory xaConnectionFactory;

// Inject the non-XA aware ConnectionFactory
_@Autowired_
_@Qualifier("nonXaJmsConnectionFactory")_
private ConnectionFactory nonXaConnectionFactory;
```

38.5æ”¯æŒæ›¿ä»£åµŒå…¥å¼äº‹åŠ¡ç®¡ç†å™¨
----------------

è¯¥[`XAConnectionFactoryWrapper`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/jms/XAConnectionFactoryWrapper.java) å’Œ[`XADataSourceWrapper`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/jdbc/XADataSourceWrapper.java)æ¥å£å¯ç”¨äºæ”¯æŒæ›¿ä»£åµŒå…¥å¼äº‹åŠ¡ç»ç†ã€‚æ¥å£è´Ÿè´£åŒ…è£…`XAConnectionFactory`å’Œ`XADataSource` beanså¹¶å°†å®ƒä»¬å…¬å¼€ä¸ºå¸¸è§„`ConnectionFactory`å’Œ`DataSource` beansï¼Œå®ƒä»¬é€æ˜åœ°æ³¨å†Œåˆ†å¸ƒå¼äº‹åŠ¡ã€‚å¦‚æœæ‚¨åœ¨`ApplicationContext`ä¸­æ³¨å†Œäº†`JtaTransactionManager` beanå’Œç›¸åº”çš„XAåŒ…è£…beansï¼Œåˆ™DataSourceå’ŒJMSè‡ªåŠ¨é…ç½®å°†ä½¿ç”¨JTAå˜ä½“ã€‚

è¯¥[BitronixXAConnectionFactoryWrapper](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/jta/bitronix/BitronixXAConnectionFactoryWrapper.java) å’Œ[BitronixXADataSourceWrapper](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/jta/bitronix/BitronixXADataSourceWrapper.java) æä¾›äº†å¦‚ä½•ç¼–å†™XAåŒ…è£…å¾ˆå¥½çš„ä¾‹å­ã€‚

39.Â Hazelcast

-------------

å¦‚æœ[Hazelcast](https://hazelcast.com/)åœ¨ç±»è·¯å¾„ä¸Šå¹¶æ‰¾åˆ°åˆé€‚çš„é…ç½®ï¼ŒSpring Bootä¼šè‡ªåŠ¨é…ç½®æ‚¨å¯ä»¥åœ¨åº”ç”¨ç¨‹åºä¸­æ³¨å…¥çš„`HazelcastInstance`ã€‚

å¦‚æœä½ å®šä¹‰`com.hazelcast.config.Config` beanï¼ŒSpring Bootä½¿ç”¨å®ƒã€‚å¦‚æœæ‚¨çš„é…ç½®å®šä¹‰äº†å®ä¾‹åç§°ï¼ŒSpring Bootä¼šå°è¯•æŸ¥æ‰¾ç°æœ‰å®ä¾‹è€Œä¸æ˜¯åˆ›å»ºæ–°å®ä¾‹ã€‚

æ‚¨è¿˜å¯ä»¥æŒ‡å®šè¦é€šè¿‡é…ç½®ä½¿ç”¨çš„`hazelcast.xml`é…ç½®æ–‡ä»¶ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
spring.hazelcast.config=classpath:config/my-hazelcast.xml
```

å¦åˆ™ï¼ŒSpring Bootä¼šå°è¯•ä»é»˜è®¤ä½ç½®æ‰¾åˆ°Hazelcasté…ç½®ï¼šå·¥ä½œç›®å½•ä¸­çš„`hazelcast.xml`æˆ–ç±»è·¯å¾„çš„æ ¹ç›®å½•ã€‚æˆ‘ä»¬è¿˜æ£€æŸ¥æ˜¯å¦è®¾ç½®äº†`hazelcast.config`ç³»ç»Ÿå±æ€§ã€‚æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… [Hazelcastæ–‡æ¡£](http://docs.hazelcast.org/docs/latest/manual/html-single/)ã€‚

å¦‚æœç±»è·¯å¾„ä¸­å­˜åœ¨`hazelcast-client`ï¼Œåˆ™Spring Booté¦–å…ˆå°è¯•é€šè¿‡æ£€æŸ¥ä»¥ä¸‹é…ç½®é€‰é¡¹æ¥åˆ›å»ºå®¢æˆ·ç«¯ï¼š

*   å­˜åœ¨`com.hazelcast.client.config.ClientConfig` beanã€‚
*   ç”±`spring.hazelcast.config`å±æ€§å®šä¹‰çš„é…ç½®æ–‡ä»¶ã€‚
*   `hazelcast.client.config`ç³»ç»Ÿå±æ€§çš„å­˜åœ¨ã€‚
*   å·¥ä½œç›®å½•ä¸­çš„`hazelcast-client.xml`æˆ–ç±»è·¯å¾„çš„æ ¹ç›®å½•ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>Spring Bootè¿˜<a class="link" href="#boot-features-caching-provider-hazelcast" title="32.1.4æ¦›å­å¹¿æ’­">ä¸ºHazelcast</a>æä¾›äº† <a class="link" href="#boot-features-caching-provider-hazelcast" title="32.1.4&nbsp;Hazelcast">æ˜ç¡®çš„ç¼“å­˜æ”¯æŒ</a>ã€‚å¦‚æœå¯ç”¨äº†ç¼“å­˜ï¼Œ<code class="literal" i="1827">HazelcastInstance</code>å°†è‡ªåŠ¨åŒ…å«åœ¨<code class="literal" i="1828">CacheManager</code>å®ç°ä¸­ã€‚</p></td></tr></tbody></table>

40. Quartz Scheduler

--------------------

Spring Bootä¸ºä½¿ç”¨[Quartzè°ƒåº¦ç¨‹åº](http://www.quartz-scheduler.org/)æä¾›äº†ä¸€äº›ä¾¿åˆ© ï¼ŒåŒ…æ‹¬`spring-boot-starter-quartz`â€œStarterâ€ã€‚å¦‚æœQuartzå¯ç”¨ï¼Œåˆ™è‡ªåŠ¨é…ç½®`Scheduler`ï¼ˆé€šè¿‡`SchedulerFactoryBean`æŠ½è±¡ï¼‰ã€‚

è‡ªåŠ¨é€‰å–ä»¥ä¸‹ç±»å‹çš„Beanså¹¶ä¸`Scheduler`ç›¸å…³è”ï¼š

*   `JobDetail`ï¼šå®šä¹‰ä¸€ä¸ªç‰¹å®šçš„å·¥ä½œã€‚å¯ä»¥ä½¿ç”¨`JobBuilder` APIæ„å»º`JobDetail`ä¸ªå®ä¾‹ã€‚
*   `Calendar`.
*   `Trigger`ï¼šå®šä¹‰ä½•æ—¶è§¦å‘ç‰¹å®šä½œä¸šã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼Œä½¿ç”¨å†…å­˜ä¸­çš„`JobStore`ã€‚ä½†æ˜¯ï¼Œå¦‚æœåº”ç”¨ç¨‹åºä¸­æœ‰`DataSource` beanå¹¶ä¸”ç›¸åº”åœ°é…ç½®äº†`spring.quartz.job-store-type`å±æ€§ï¼Œåˆ™å¯ä»¥é…ç½®åŸºäºJDBCçš„å­˜å‚¨ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
spring.quartz.job-store-type=jdbc
```

ä½¿ç”¨JDBCå­˜å‚¨æ—¶ï¼Œå¯ä»¥åœ¨å¯åŠ¨æ—¶åˆå§‹åŒ–æ¶æ„ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
spring.quartz.jdbc.initialize-schema=always
```

<table border="0" summary="Warning"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[è­¦å‘Š]" src="images/warning.png"></td><th align="left">è­¦å‘Š</th></tr><tr><td align="left" valign="top"><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œä½¿ç”¨Quartzåº“æä¾›çš„æ ‡å‡†è„šæœ¬æ£€æµ‹å¹¶åˆå§‹åŒ–æ•°æ®åº“ã€‚è¿™äº›è„šæœ¬åˆ é™¤ç°æœ‰è¡¨ï¼Œåœ¨æ¯æ¬¡é‡å¯æ—¶åˆ é™¤æ‰€æœ‰è§¦å‘å™¨ã€‚ä¹Ÿå¯ä»¥é€šè¿‡è®¾ç½®<code class="literal" i="1841">spring.quartz.jdbc.schema</code>å±æ€§æ¥æä¾›è‡ªå®šä¹‰è„šæœ¬ã€‚</p></td></tr></tbody></table>

è¦è®©Quartzä½¿ç”¨`DataSource`è€Œä¸æ˜¯åº”ç”¨ç¨‹åºçš„ä¸»`DataSource`ï¼Œè¯·å£°æ˜`DataSource` beanï¼Œç”¨`@QuartzDataSource`æ³¨é‡Šå…¶`@Bean`æ–¹æ³•ã€‚è¿™æ ·åšå¯ç¡®ä¿`SchedulerFactoryBean`å’Œæ¶æ„åˆå§‹åŒ–éƒ½ä½¿ç”¨ç‰¹å®šäºQuartzçš„`DataSource`ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼Œé…ç½®åˆ›å»ºçš„ä½œä¸šä¸ä¼šè¦†ç›–å·²ä»æ°¸ä¹…æ€§ä½œä¸šå­˜å‚¨åŒºè¯»å–çš„å·²æ³¨å†Œä½œä¸šã€‚è¦å¯ç”¨è¦†ç›–ç°æœ‰ä½œä¸šå®šä¹‰ï¼Œè¯·è®¾ç½®`spring.quartz.overwrite-existing-jobs`å±æ€§ã€‚

å¯ä»¥ä½¿ç”¨`spring.quartz`å±æ€§å’Œ`SchedulerFactoryBeanCustomizer` beansè‡ªå®šä¹‰Quartz Scheduleré…ç½®ï¼Œè¿™å…è®¸ç¨‹åºåŒ–`SchedulerFactoryBean`è‡ªå®šä¹‰ã€‚å¯ä»¥ä½¿ç”¨`spring.quartz.properties.*`è‡ªå®šä¹‰é«˜çº§Quartzé…ç½®å±æ€§ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>ç‰¹åˆ«æ˜¯ï¼Œ<code class="literal" i="1854">Executor</code> beanä¸è°ƒåº¦ç¨‹åºæ— å…³ï¼Œå› ä¸ºQuartzæä¾›äº†ä¸€ç§é€šè¿‡<code class="literal" i="1855">spring.quartz.properties</code>é…ç½®è°ƒåº¦ç¨‹åºçš„æ–¹æ³•ã€‚å¦‚æœéœ€è¦è‡ªå®šä¹‰ä»»åŠ¡æ‰§è¡Œç¨‹åºï¼Œè¯·è€ƒè™‘å®ç°<code class="literal" i="1856">SchedulerFactoryBeanCustomizer</code>ã€‚</p></td></tr></tbody></table>

ä½œä¸šå¯ä»¥å®šä¹‰setterä»¥æ³¨å…¥æ•°æ®æ˜ å°„å±æ€§ã€‚å¸¸è§„beansä¹Ÿå¯ä»¥ä»¥ç±»ä¼¼çš„æ–¹å¼æ³¨å…¥ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
public class SampleJob extends QuartzJobBean {

	private MyService myService;

	private String name;

	// Inject "MyService" bean
	public void setMyService(MyService myService) { ... }

	// Inject the "name" job data property
	public void setName(String name) { ... }

	_@Override_
	protected void executeInternal(JobExecutionContext context)
			throws JobExecutionException {
		...
	}

}
```

41.ä»»åŠ¡æ‰§è¡Œå’Œè°ƒåº¦
----------

åœ¨ä¸Šä¸‹æ–‡ä¸­æ²¡æœ‰`TaskExecutor` beançš„æƒ…å†µä¸‹ï¼ŒSpring Bootä½¿ç”¨åˆç†çš„é»˜è®¤å€¼è‡ªåŠ¨é…ç½®`ThreadPoolTaskExecutor`ï¼Œè¿™äº›é»˜è®¤å€¼å¯ä»¥è‡ªåŠ¨ä¸å¼‚æ­¥ä»»åŠ¡æ‰§è¡Œç›¸å…³è”ï¼ˆ`@EnableAsync`ï¼‰å’ŒSpring MVCå¼‚æ­¥è¯·æ±‚å¤„ç†ã€‚

çº¿ç¨‹æ± ä½¿ç”¨8ä¸ªæ ¸å¿ƒçº¿ç¨‹ï¼Œå¯æ ¹æ®è´Ÿè½½å¢é•¿å’Œç¼©å°ã€‚å¯ä»¥ä½¿ç”¨`spring.task.execution`å‘½åç©ºé—´å¯¹è¿™äº›é»˜è®¤è®¾ç½®è¿›è¡Œå¾®è°ƒï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
spring.task.execution.pool.max-threads=16
spring.task.execution.pool.queue-capacity=100
spring.task.execution.pool.keep-alive=10s
```

è¿™ä¼šå°†çº¿ç¨‹æ± æ›´æ”¹ä¸ºä½¿ç”¨æœ‰ç•Œé˜Ÿåˆ—ï¼Œä»¥ä¾¿åœ¨é˜Ÿåˆ—æ»¡ï¼ˆ100ä¸ªä»»åŠ¡ï¼‰æ—¶ï¼Œçº¿ç¨‹æ± å¢åŠ åˆ°æœ€å¤š16ä¸ªçº¿ç¨‹ã€‚å½“çº¿ç¨‹åœ¨é—²ç½®10ç§’ï¼ˆè€Œä¸æ˜¯é»˜è®¤ä¸º60ç§’ï¼‰æ—¶å›æ”¶çº¿ç¨‹æ—¶ï¼Œæ± çš„æ”¶ç¼©ä¼šæ›´åŠ æ¿€è¿›ã€‚

å¦‚æœéœ€è¦ä¸è®¡åˆ’ä»»åŠ¡æ‰§è¡Œï¼ˆ`@EnableScheduling`ï¼‰ç›¸å…³è”ï¼Œä¹Ÿå¯ä»¥è‡ªåŠ¨é…ç½®`ThreadPoolTaskScheduler`ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œçº¿ç¨‹æ± ä½¿ç”¨ä¸€ä¸ªçº¿ç¨‹ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨`spring.task.scheduling`å‘½åç©ºé—´å¯¹è¿™äº›è®¾ç½®è¿›è¡Œå¾®è°ƒã€‚

å¦‚æœéœ€è¦åˆ›å»ºè‡ªå®šä¹‰æ‰§è¡Œç¨‹åºæˆ–è°ƒåº¦ç¨‹åºï¼Œåˆ™åœ¨ä¸Šä¸‹æ–‡ä¸­å¯ä»¥ä½¿ç”¨`TaskExecutorBuilder` beanå’Œ`TaskSchedulerBuilder` beanã€‚

42.Â Spring Integration

----------------------

Spring Bootä¸ºä½¿ç”¨[Springé›†æˆ](https://projects.spring.io/spring-integration/)æä¾›äº†ä¸€äº›ä¾¿åˆ©ï¼ŒåŒ…æ‹¬`spring-boot-starter-integration`â€œStarterâ€ã€‚Springé›†æˆæä¾›äº†æœ‰å…³æ¶ˆæ¯ä¼ é€’ä»¥åŠå…¶ä»–ä¼ è¾“ï¼ˆå¦‚HTTPï¼ŒTCPç­‰ï¼‰çš„æŠ½è±¡ã€‚å¦‚æœç±»è·¯å¾„ä¸Šæœ‰Spring Integrationï¼Œåˆ™é€šè¿‡`@EnableIntegration`æ³¨é‡Šåˆå§‹åŒ–å®ƒã€‚

Spring Bootè¿˜é…ç½®ç”±é™„åŠ Spring Integrationæ¨¡å—çš„å­˜åœ¨è§¦å‘çš„ä¸€äº›åŠŸèƒ½ã€‚å¦‚æœ`spring-integration-jmx`ä¹Ÿåœ¨ç±»è·¯å¾„ä¸Šï¼Œåˆ™é€šè¿‡JMXå‘å¸ƒæ¶ˆæ¯å¤„ç†ç»Ÿè®¡ä¿¡æ¯ã€‚å¦‚æœ`spring-integration-jdbc`å¯ç”¨ï¼Œåˆ™å¯ä»¥åœ¨å¯åŠ¨æ—¶åˆ›å»ºé»˜è®¤æ•°æ®åº“æ¨¡å¼ï¼Œå¦‚ä»¥ä¸‹è¡Œæ‰€ç¤ºï¼š

```
spring.integration.jdbc.initialize-schema=always
```

æœ‰å…³ è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… [`IntegrationAutoConfiguration`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/integration/IntegrationAutoConfiguration.java) å’Œ[`IntegrationProperties`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/integration/IntegrationProperties.java)ç±»ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœå­˜åœ¨åƒåˆ†å°º`meterRegistry` beanï¼Œåˆ™åƒåˆ†å°ºå°†ç®¡ç†Spring IntegrationæŒ‡æ ‡ã€‚å¦‚æœæ‚¨å¸Œæœ›ä½¿ç”¨æ—§ç‰ˆSpring IntegrationæŒ‡æ ‡ï¼Œè¯·åœ¨åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ä¸­æ·»åŠ `DefaultMetricsFactory` beanã€‚

43.Â Spring Session

------------------

Spring Bootä¸ºå„ç§æ•°æ®å­˜å‚¨æä¾›[Spring Session](https://projects.spring.io/spring-session/)è‡ªåŠ¨é…ç½®ã€‚æ„å»ºServlet Webåº”ç”¨ç¨‹åºæ—¶ï¼Œå¯ä»¥è‡ªåŠ¨é…ç½®ä»¥ä¸‹å­˜å‚¨ï¼š

*   JDBC
*   Redis
*   Hazelcast
*   MongoDBçš„

æ„å»ºå“åº”å¼Webåº”ç”¨ç¨‹åºæ—¶ï¼Œå¯ä»¥è‡ªåŠ¨é…ç½®ä»¥ä¸‹å­˜å‚¨ï¼š

*   Redis
*   MongoDBçš„

å¦‚æœç±»è·¯å¾„ä¸­å­˜åœ¨å•ä¸ªSpring Sessionæ¨¡å—ï¼Œåˆ™Spring Bootä¼šè‡ªåŠ¨ä½¿ç”¨è¯¥å­˜å‚¨å®ç°ã€‚å¦‚æœæ‚¨æœ‰å¤šä¸ªå®ç°ï¼Œåˆ™å¿…é¡»é€‰æ‹©[`StoreType`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/session/StoreType.java)è¦ç”¨äºå­˜å‚¨ä¼šè¯çš„å®ç°ã€‚ä¾‹å¦‚ï¼Œè¦ä½¿ç”¨JDBCä½œä¸ºåç«¯å­˜å‚¨ï¼Œæ‚¨å¯ä»¥æŒ‰å¦‚ä¸‹æ–¹å¼é…ç½®åº”ç”¨ç¨‹åºï¼š

```
spring.session.store-type=jdbc
```

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æ‚¨å¯ä»¥é€šè¿‡å°†<code class="literal" i="1872">store-type</code>è®¾ç½®ä¸º<code class="literal" i="1873">none</code>æ¥ç¦ç”¨Spring Sessionã€‚</p></td></tr></tbody></table>

æ¯ä¸ªå•†åº—éƒ½æœ‰ç‰¹å®šçš„é™„åŠ è®¾ç½®ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ä¸ºJDBCå­˜å‚¨å®šåˆ¶è¡¨çš„åç§°ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
spring.session.jdbc.table-name=SESSIONS
```

è¦è®¾ç½®ä¼šè¯è¶…æ—¶ï¼Œå¯ä»¥ä½¿ç”¨`spring.session.timeout`å±æ€§ã€‚å¦‚æœæœªè®¾ç½®è¯¥å±æ€§ï¼Œåˆ™è‡ªåŠ¨é…ç½®å°†å›é€€åˆ°`server.servlet.session.timeout`çš„å€¼ã€‚

44.å¯¹JMXçš„ç›‘æµ‹å’Œç®¡ç†
-------------

Java Management Extensionsï¼ˆJMXï¼‰æä¾›äº†ä¸€ç§ç›‘è§†å’Œç®¡ç†åº”ç”¨ç¨‹åºçš„æ ‡å‡†æœºåˆ¶ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒSpring Bootä¼šåˆ›å»ºä¸€ä¸ªIDä¸º`mbeanServer`çš„`MBeanServer` beanï¼Œå¹¶å…¬å¼€ä½¿ç”¨Spring JMXæ³¨é‡Šï¼ˆ`@ManagedResource`æ³¨é‡Šçš„ä»»ä½•beansï¼Œ `@ManagedAttribute`æˆ–`@ManagedOperation`ï¼‰ã€‚

æœ‰å…³[`JmxAutoConfiguration`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jmx/JmxAutoConfiguration.java) è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… è¯¾ç¨‹ã€‚

45.æµ‹è¯•
-----

Spring Bootæä¾›äº†è®¸å¤šå®ç”¨ç¨‹åºå’Œæ³¨é‡Šæ¥å¸®åŠ©æ‚¨æµ‹è¯•åº”ç”¨ç¨‹åºã€‚æµ‹è¯•æ”¯æŒç”±ä¸¤ä¸ªæ¨¡å—æä¾›ï¼š`spring-boot-test`åŒ…å«æ ¸å¿ƒé¡¹ï¼Œ`spring-boot-test-autoconfigure`æ”¯æŒæµ‹è¯•çš„è‡ªåŠ¨é…ç½®ã€‚

å¤§å¤šæ•°å¼€å‘äººå‘˜ä½¿ç”¨`spring-boot-starter-test`â€œStarterâ€ï¼Œå®ƒå¯¼å…¥Spring Bootæµ‹è¯•æ¨¡å—ä»¥åŠJUnitï¼ŒAssertJï¼ŒHamcrestå’Œè®¸å¤šå…¶ä»–æœ‰ç”¨çš„åº“ã€‚

45.1æµ‹è¯•èŒƒå›´ä¾èµ–æ€§
-----------

`spring-boot-starter-test`â€œStarterâ€ï¼ˆåœ¨`test` `scope`ä¸­ï¼‰åŒ…å«ä»¥ä¸‹æä¾›çš„åº“ï¼š

*   [JUnit](http://junit.org)ï¼šå•å…ƒæµ‹è¯•Javaåº”ç”¨ç¨‹åºçš„äº‹å®æ ‡å‡†ã€‚
*   [Springæµ‹è¯•](https://docs.spring.io/spring/docs/5.1.3.RELEASE/spring-framework-reference/testing.html#integration-testing)å’ŒSpring Bootæµ‹è¯•ï¼šSpring Bootåº”ç”¨ç¨‹åºçš„å®ç”¨ç¨‹åºå’Œé›†æˆæµ‹è¯•æ”¯æŒã€‚
*   [AssertJ](https://joel-costigliola.github.io/assertj/)ï¼šä¸€ä¸ªæµç•…çš„æ–­è¨€åº“ã€‚
*   [Hamcrest](http://hamcrest.org/JavaHamcrest/)ï¼šåŒ¹é…å™¨å¯¹è±¡åº“ï¼ˆä¹Ÿç§°ä¸ºçº¦æŸæˆ–è°“è¯ï¼‰ã€‚
*   [Mockito](http://mockito.org/)ï¼šä¸€ä¸ªJava [æ¨¡æ‹Ÿ](http://mockito.org/)æ¡†æ¶ã€‚
*   [JSONassert](https://github.com/skyscreamer/JSONassert)ï¼šJSONçš„æ–­è¨€åº“ã€‚
*   [JsonPath](https://github.com/jayway/JsonPath)ï¼šJSONçš„XPathã€‚

æˆ‘ä»¬é€šå¸¸å‘ç°è¿™äº›å¸¸ç”¨åº“åœ¨ç¼–å†™æµ‹è¯•æ—¶å¾ˆæœ‰ç”¨ã€‚å¦‚æœè¿™äº›åº“ä¸é€‚åˆæ‚¨çš„éœ€æ±‚ï¼Œæ‚¨å¯ä»¥æ·»åŠ è‡ªå·±çš„å…¶ä»–æµ‹è¯•ä¾èµ–é¡¹ã€‚

45.2æµ‹è¯•Springåº”ç”¨ç¨‹åº
----------------

ä¾èµ–æ³¨å…¥çš„ä¸€ä¸ªä¸»è¦ä¼˜ç‚¹æ˜¯å®ƒåº”è¯¥ä½¿æ‚¨çš„ä»£ç æ›´å®¹æ˜“è¿›è¡Œå•å…ƒæµ‹è¯•ã€‚æ‚¨å¯ä»¥ä½¿ç”¨`new`è¿ç®—ç¬¦å®ä¾‹åŒ–å¯¹è±¡ï¼Œç”šè‡³ä¸æ¶‰åŠSpringã€‚æ‚¨è¿˜å¯ä»¥ä½¿ç”¨_æ¨¡æ‹Ÿå¯¹è±¡_è€Œä¸æ˜¯çœŸæ­£çš„ä¾èµ–é¡¹ã€‚

é€šå¸¸ï¼Œæ‚¨éœ€è¦è¶…è¶Šå•å…ƒæµ‹è¯•å¹¶å¼€å§‹é›†æˆæµ‹è¯•ï¼ˆä½¿ç”¨Spring `ApplicationContext`ï¼‰ã€‚èƒ½å¤Ÿåœ¨ä¸éœ€è¦éƒ¨ç½²åº”ç”¨ç¨‹åºæˆ–éœ€è¦è¿æ¥åˆ°å…¶ä»–åŸºç¡€æ¶æ„çš„æƒ…å†µä¸‹æ‰§è¡Œé›†æˆæµ‹è¯•éå¸¸æœ‰ç”¨ã€‚

Springæ¡†æ¶åŒ…æ‹¬ç”¨äºæ­¤ç±»é›†æˆæµ‹è¯•çš„ä¸“ç”¨æµ‹è¯•æ¨¡å—ã€‚æ‚¨å¯ä»¥ç›´æ¥å‘`org.springframework:spring-test`å£°æ˜ä¾èµ–å…³ç³»ï¼Œæˆ–ä½¿ç”¨`spring-boot-starter-test`â€œStarterâ€å°†å…¶ä¼ é€’ç»™å®ƒã€‚

å¦‚æœæ‚¨ä¹‹å‰æœªä½¿ç”¨è¿‡`spring-test`æ¨¡å—ï¼Œåˆ™åº”é¦–å…ˆé˜…è¯»Springæ¡†æ¶å‚è€ƒæ–‡æ¡£çš„ [ç›¸å…³éƒ¨åˆ†](https://docs.spring.io/spring/docs/5.1.3.RELEASE/spring-framework-reference/testing.html#testing)ã€‚

45.3æµ‹è¯•Spring Bootåº”ç”¨ç¨‹åº
---------------------

Spring Bootåº”ç”¨ç¨‹åºæ˜¯Spring `ApplicationContext`ï¼Œå› æ­¤é™¤äº†é€šå¸¸ä½¿ç”¨vanilla Springä¸Šä¸‹æ–‡æ‰€åšçš„æµ‹è¯•ä¹‹å¤–ï¼Œæ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«çš„è¦åšã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>ä»…å½“æ‚¨ä½¿ç”¨<code class="literal" i="1893">SpringApplication</code>åˆ›å»ºå¤–éƒ¨å±æ€§ï¼Œæ—¥å¿—è®°å½•å’ŒSpring Bootçš„å…¶ä»–åŠŸèƒ½æ—¶ï¼Œæ‰ä¼šé»˜è®¤å®‰è£…åœ¨ä¸Šä¸‹æ–‡ä¸­ã€‚</p></td></tr></tbody></table>

Spring Bootæä¾›äº†`@SpringBootTest`æ³¨é‡Šï¼Œå½“æ‚¨éœ€è¦Springå¼•å¯¼åŠŸèƒ½æ—¶ï¼Œå¯ä»¥å°†å…¶ç”¨ä½œæ ‡å‡†`spring-test` `@ContextConfiguration`æ³¨é‡Šçš„æ›¿ä»£ã€‚æ³¨é‡Šçš„å·¥ä½œåŸç†æ˜¯ [é€šè¿‡`SpringApplication`åˆ›å»ºæµ‹è¯•ä¸­ä½¿ç”¨çš„`ApplicationContext`](#boot-features-testing-spring-boot-applications-detecting-config "45.3.2æ£€æµ‹æµ‹è¯•é…ç½®")ã€‚é™¤äº†`@SpringBootTest`ä¹‹å¤–ï¼Œè¿˜æä¾›äº†è®¸å¤šå…¶ä»–æ³¨é‡Šæ¥ [æµ‹è¯•](#boot-features-testing-spring-boot-applications-testing-autoconfigured-tests "45.3.8è‡ªåŠ¨é…ç½®çš„æµ‹è¯•")åº”ç”¨ç¨‹åºçš„[æ›´å…·ä½“çš„åˆ‡ç‰‡](#boot-features-testing-spring-boot-applications-testing-autoconfigured-tests "45.3.8Â Auto-configured Tests")ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯JUnit 4ï¼Œè¯·ä¸è¦å¿˜è®°åœ¨æµ‹è¯•ä¸­æ·»åŠ <code class="literal" i="1900">@RunWith(SpringRunner.class)</code>ï¼Œå¦åˆ™æ³¨é‡Šå°†è¢«å¿½ç•¥ã€‚å¦‚æœæ‚¨æ­£åœ¨ä½¿ç”¨JUnit 5ï¼Œåˆ™æ— éœ€å°†ç­‰æ•ˆçš„<code class="literal" i="1901">@ExtendWith(SpringExtension)</code>æ·»åŠ ä¸º<code class="literal" i="1902">@SpringBootTest</code>ï¼Œè€Œå…¶ä»–<code class="literal" i="1903">@â€¦Test</code>æ³¨é‡Šå·²ç»ä½¿ç”¨å®ƒè¿›è¡Œæ³¨é‡Šã€‚</p></td></tr></tbody></table>

é»˜è®¤æƒ…å†µä¸‹ï¼Œ`@SpringBootTest`å°†æ— æ³•å¯åŠ¨æœåŠ¡å™¨ã€‚æ‚¨å¯ä»¥ä½¿ç”¨`@SpringBootTest`çš„`webEnvironment`å±æ€§æ¥è¿›ä¸€æ­¥ä¼˜åŒ–æµ‹è¯•çš„è¿è¡Œæ–¹å¼ï¼š

*   `MOCK`ï¼ˆé»˜è®¤ï¼‰ï¼šåŠ è½½ç½‘ç»œ`ApplicationContext`å¹¶æä¾›æ¨¡æ‹Ÿç½‘ç»œç¯å¢ƒã€‚ä½¿ç”¨æ­¤æ‰¹æ³¨æ—¶ï¼Œä¸ä¼šå¯åŠ¨åµŒå…¥å¼æœåŠ¡å™¨ã€‚å¦‚æœæ‚¨çš„ç±»è·¯å¾„ä¸Šæ²¡æœ‰Webç¯å¢ƒï¼Œåˆ™æ­¤æ¨¡å¼å°†é€æ˜åœ°å›é€€åˆ°åˆ›å»ºå¸¸è§„éWeb `ApplicationContext`ã€‚å®ƒå¯ä»¥ä¸ [`@AutoConfigureMockMvc`æˆ–`@AutoConfigureWebTestClient`ä¸€èµ·](#boot-features-testing-spring-boot-applications-testing-with-mock-environment "45.3.4ä½¿ç”¨æ¨¡æ‹Ÿç¯å¢ƒè¿›è¡Œæµ‹è¯•")ç”¨äºåŸºäºæ¨¡æ‹Ÿçš„Webåº”ç”¨ç¨‹åºæµ‹è¯•ã€‚
*   `RANDOM_PORT`ï¼šåŠ è½½`WebServerApplicationContext`å¹¶æä¾›çœŸå®çš„ç½‘ç»œç¯å¢ƒã€‚åµŒå…¥å¼æœåŠ¡å™¨å¯åŠ¨å¹¶åœ¨éšæœºç«¯å£ä¸Šä¾¦å¬ã€‚
*   `DEFINED_PORT`ï¼šåŠ è½½`WebServerApplicationContext`å¹¶æä¾›çœŸå®çš„ç½‘ç»œç¯å¢ƒã€‚åµŒå…¥å¼æœåŠ¡å™¨å¯åŠ¨å¹¶ä¾¦å¬å®šä¹‰çš„ç«¯å£ï¼ˆæ¥è‡ªæ‚¨çš„`application.properties`ï¼‰æˆ–é»˜è®¤ç«¯å£`8080`ã€‚
*   `NONE`ï¼šä½¿ç”¨`SpringApplication`åŠ è½½`ApplicationContext`ä½†ä¸æä¾› _ä»»ä½•_ç½‘ç»œç¯å¢ƒï¼ˆæ¨¡æ‹Ÿæˆ–å…¶ä»–ï¼‰ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å¦‚æœæ‚¨çš„æµ‹è¯•æ˜¯<code class="literal" i="1921">@Transactional</code>ï¼Œåˆ™é»˜è®¤æƒ…å†µä¸‹ä¼šåœ¨æ¯ä¸ªæµ‹è¯•æ–¹æ³•çš„æœ«å°¾å›æ»šäº‹åŠ¡ã€‚ä½†æ˜¯ï¼Œå½“ä½¿ç”¨<code class="literal" i="1922">RANDOM_PORT</code>æˆ–<code class="literal" i="1923">DEFINED_PORT</code>çš„è¿™ç§å®‰æ’éšå¼åœ°æä¾›çœŸæ­£çš„servletç¯å¢ƒæ—¶ï¼ŒHTTPå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨åœ¨å•ç‹¬çš„çº¿ç¨‹ä¸­è¿è¡Œï¼Œå› æ­¤åœ¨å•ç‹¬çš„äº‹åŠ¡ä¸­è¿è¡Œã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåœ¨æœåŠ¡å™¨ä¸Šå¯åŠ¨çš„ä»»ä½•äº‹åŠ¡éƒ½ä¸ä¼šå›æ»šã€‚</p></td></tr></tbody></table><table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å¦‚æœæ‚¨çš„åº”ç”¨ç¨‹åºä½¿ç”¨ä¸åŒçš„ç®¡ç†æœåŠ¡å™¨ç«¯å£ï¼Œ<code class="literal" i="1924">@SpringBootTest</code>å’Œ<code class="literal" i="1925">webEnvironment = WebEnvironment.RANDOM_PORT</code>ä¹Ÿå°†åœ¨å•ç‹¬çš„éšæœºç«¯å£ä¸Šå¯åŠ¨ç®¡ç†æœåŠ¡å™¨ã€‚</p></td></tr></tbody></table>

### 45.3.1æ£€æµ‹Webåº”ç”¨ç¨‹åºç±»å‹

å¦‚æœSpring MVCå¯ç”¨ï¼Œåˆ™é…ç½®åŸºäºMVCçš„å¸¸è§„åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ã€‚å¦‚æœæ‚¨åªæœ‰Spring WebFluxï¼Œæˆ‘ä»¬å°†æ£€æµ‹åˆ°å¹¶é…ç½®åŸºäºWebFluxçš„åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ã€‚

å¦‚æœä¸¤è€…éƒ½å­˜åœ¨ï¼ŒSpring MVCä¼˜å…ˆã€‚å¦‚æœè¦åœ¨æ­¤æ–¹æ¡ˆä¸­æµ‹è¯•å“åº”å¼Webåº”ç”¨ç¨‹åºï¼Œåˆ™å¿…é¡»è®¾ç½®`spring.main.web-application-type`å±æ€§ï¼š

```
_@RunWith(SpringRunner.class)_
_@SpringBootTest(properties = "spring.main.web-application-type=reactive")_
public class MyWebFluxTests { ... }
```

### 45.3.2æ£€æµ‹æµ‹è¯•é…ç½®

å¦‚æœæ‚¨ç†Ÿæ‚‰Springæµ‹è¯•æ¡†æ¶ï¼Œåˆ™å¯èƒ½ä¹ æƒ¯ä½¿ç”¨`@ContextConfiguration(classes=â€¦â€‹)`æ¥æŒ‡å®šè¦åŠ è½½çš„Spring `@Configuration`ã€‚æˆ–è€…ï¼Œæ‚¨å¯èƒ½ç»å¸¸åœ¨æµ‹è¯•ä¸­ä½¿ç”¨åµŒå¥—çš„`@Configuration`ç±»ã€‚

åœ¨æµ‹è¯•Spring Bootåº”ç”¨ç¨‹åºæ—¶ï¼Œé€šå¸¸ä¸éœ€è¦è¿™æ ·åšã€‚åªè¦æ‚¨æ²¡æœ‰æ˜ç¡®å®šä¹‰ä¸€ä¸ªï¼ŒSpring Bootçš„`@*Test`æ³¨é‡Šå°±ä¼šè‡ªåŠ¨æœç´¢æ‚¨çš„ä¸»è¦é…ç½®ã€‚

æœç´¢ç®—æ³•ä»åŒ…å«æµ‹è¯•çš„åŒ…å¼€å§‹å·¥ä½œï¼Œç›´åˆ°æ‰¾åˆ°ä½¿ç”¨`@SpringBootApplication`æˆ–`@SpringBootConfiguration`æ³¨é‡Šçš„ç±»ã€‚åªè¦æ‚¨ä»¥åˆç†çš„æ–¹å¼[æ„å»ºä»£ç ](#using-boot-structuring-your-code "14.æ„å»ºæ‚¨çš„ä»£ç ")ï¼Œé€šå¸¸å°±ä¼šæ‰¾åˆ°ä¸»è¦é…ç½®ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å¦‚æœä½¿ç”¨ <a class="link" href="#boot-features-testing-spring-boot-applications-testing-autoconfigured-tests" title="45.3.8è‡ªåŠ¨é…ç½®çš„æµ‹è¯•">æµ‹è¯•æ‰¹æ³¨æ¥æµ‹è¯•åº”ç”¨ç¨‹åºçš„æ›´å…·ä½“çš„ç‰‡æ®µ</a>ï¼Œåˆ™åº”é¿å…åœ¨<a class="link" href="#boot-features-testing-spring-boot-applications-testing-user-configuration" title="45.3.23ç”¨æˆ·é…ç½®å’Œåˆ‡ç‰‡">mainæ–¹æ³•çš„åº”ç”¨ç¨‹åºç±»ä¸­</a>æ·»åŠ ç‰¹å®šäºç‰¹å®šåŒºåŸŸçš„é…ç½®è®¾ç½® ã€‚</p><p><code class="literal" i="1933">@SpringBootApplication</code>çš„åŸºç¡€ç»„ä»¶æ‰«æé…ç½®å®šä¹‰äº†æ’é™¤è¿‡æ»¤å™¨ï¼Œç”¨äºç¡®ä¿åˆ‡ç‰‡æŒ‰é¢„æœŸå·¥ä½œã€‚å¦‚æœæ‚¨åœ¨<code class="literal" i="1935">@SpringBootApplication</code> - å¸¦æ³¨é‡Šçš„ç±»ä¸Šä½¿ç”¨æ˜ç¡®çš„<code class="literal" i="1934">@ComponentScan</code>æŒ‡ä»¤ï¼Œè¯·æ³¨æ„è¿™äº›è¿‡æ»¤å™¨å°†è¢«ç¦ç”¨ã€‚å¦‚æœæ‚¨æ­£åœ¨ä½¿ç”¨åˆ‡ç‰‡ï¼Œåˆ™åº”å†æ¬¡å®šä¹‰å®ƒä»¬ã€‚</p></td></tr></tbody></table>

å¦‚æœè¦è‡ªå®šä¹‰ä¸»è¦é…ç½®ï¼Œå¯ä»¥ä½¿ç”¨åµŒå¥—çš„`@TestConfiguration`ç±»ã€‚ä¸åµŒå¥—çš„`@Configuration`ç±»ä¸åŒï¼Œå®ƒå°†ç”¨äºä»£æ›¿åº”ç”¨ç¨‹åºçš„ä¸»è¦é…ç½®ï¼Œé™¤äº†åº”ç”¨ç¨‹åºçš„ä¸»è¦é…ç½®ä¹‹å¤–ï¼Œè¿˜ä½¿ç”¨åµŒå¥—çš„`@TestConfiguration`ç±»ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>Springçš„æµ‹è¯•æ¡†æ¶åœ¨æµ‹è¯•ä¹‹é—´ç¼“å­˜åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ã€‚å› æ­¤ï¼Œåªè¦æ‚¨çš„æµ‹è¯•å…±äº«ç›¸åŒçš„é…ç½®ï¼ˆæ— è®ºå¦‚ä½•å‘ç°ï¼‰ï¼ŒåŠ è½½ä¸Šä¸‹æ–‡çš„æ½œåœ¨è€—æ—¶è¿‡ç¨‹åªå‘ç”Ÿä¸€æ¬¡ã€‚</p></td></tr></tbody></table>

### 45.3.3æ’é™¤æµ‹è¯•é…ç½®

å¦‚æœæ‚¨çš„åº”ç”¨ç¨‹åºä½¿ç”¨ç»„ä»¶æ‰«æï¼ˆä¾‹å¦‚ï¼Œå¦‚æœæ‚¨ä½¿ç”¨`@SpringBootApplication`æˆ–`@ComponentScan`ï¼‰ï¼Œæ‚¨å¯èƒ½ä¼šå‘ç°ä»…ä¸ºç‰¹å®šæµ‹è¯•åˆ›å»ºçš„é¡¶çº§é…ç½®ç±»ä¼šæ„å¤–åœ°åœ¨ä»»ä½•åœ°æ–¹è¿›è¡Œæ£€ç´¢ã€‚

å¦‚å‰æ‰€è¿°ï¼Œ`@TestConfiguration`å¯ç”¨äºæµ‹è¯•çš„å†…éƒ¨ç±»ä»¥è‡ªå®šä¹‰ä¸»è¦é…ç½®ã€‚[å‰é¢æ‰€çœ‹åˆ°çš„](#boot-features-testing-spring-boot-applications-detecting-config "45.3.2æ£€æµ‹æµ‹è¯•é…ç½®")ï¼Œ1941å¹´{/}å¯ä»¥åœ¨ä¸€ä¸ªå†…éƒ¨ç±»çš„æµ‹è¯•çš„ç”¨äºå®šåˆ¶çš„ä¸»é…ç½®ã€‚å½“æ”¾ç½®åœ¨é¡¶çº§ç±»æ—¶ï¼Œ`@TestConfiguration`è¡¨ç¤ºä¸åº”é€šè¿‡æ‰«ææ‹¾å–`src/test/java`ä¸­çš„ç±»ã€‚ç„¶åï¼Œæ‚¨å¯ä»¥åœ¨éœ€è¦çš„ä½ç½®æ˜¾å¼å¯¼å…¥è¯¥ç±»ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
_@RunWith(SpringRunner.class)_
_@SpringBootTest_
_@Import(MyTestsConfiguration.class)_
public class MyTests {

	_@Test_
	public void exampleTest() {
		...
	}

}
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å¦‚æœæ‚¨ç›´æ¥ä½¿ç”¨<code class="literal" i="1944">@ComponentScan</code>ï¼ˆå³ä¸é€šè¿‡<code class="literal" i="1945">@SpringBootApplication</code>ï¼‰ï¼Œåˆ™éœ€è¦ä½¿ç”¨<code class="literal" i="1946">TypeExcludeFilter</code>æ³¨å†Œã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… <a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/context/TypeExcludeFilter.html" target="_top">Javadoc</a>ã€‚</p></td></tr></tbody></table>

### 45.3.4ä½¿ç”¨æ¨¡æ‹Ÿç¯å¢ƒè¿›è¡Œæµ‹è¯•

é»˜è®¤æƒ…å†µä¸‹ï¼Œ`@SpringBootTest`æ— æ³•å¯åŠ¨æœåŠ¡å™¨ã€‚å¦‚æœæ‚¨è¦é’ˆå¯¹æ­¤æ¨¡æ‹Ÿç¯å¢ƒæµ‹è¯•Webç«¯ç‚¹ï¼Œåˆ™å¯ä»¥å¦å¤–è¿›è¡Œé…ç½® [`MockMvc`](https://docs.spring.io/spring/docs/5.1.3.RELEASE/spring-framework-reference//testing.html#spring-mvc-test-framework)ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
import org.junit.Test;
import org.junit.runner.RunWith;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.test.context.junit4.SpringRunner;
import org.springframework.test.web.servlet.MockMvc;

import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;
import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.content;
import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;

_@RunWith(SpringRunner.class)_
_@SpringBootTest_
_@AutoConfigureMockMvc_
public class MockMvcExampleTests {

	_@Autowired_
	private MockMvc mvc;

	_@Test_
	public void exampleTest() throws Exception {
		this.mvc.perform(get("/")).andExpect(status().isOk())
				.andExpect(content().string("Hello World"));
	}

}
```

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¦‚æœæ‚¨åªæƒ³å…³æ³¨ç½‘ç»œå±‚è€Œä¸æ˜¯å¼€å§‹ä¸€ä¸ªå®Œæ•´çš„<code class="literal" i="1948">ApplicationContext</code>ï¼Œè¯·è€ƒè™‘ <a class="link" href="#boot-features-testing-spring-boot-applications-testing-autoconfigured-mvc-tests" title="45.3.10è‡ªåŠ¨é…ç½®çš„Spring MVCæµ‹è¯•">ä½¿ç”¨<code class="literal" i="1949">@WebMvcTest</code></a>ã€‚</p></td></tr></tbody></table>

æˆ–è€…ï¼Œæ‚¨å¯ä»¥é…ç½®a [`WebTestClient`](https://docs.spring.io/spring/docs/5.1.3.RELEASE/spring-framework-reference/testing.html#webtestclient-tests)ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
import org.junit.Test;
import org.junit.runner.RunWith;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.autoconfigure.web.reactive.AutoConfigureWebTestClient;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.test.context.junit4.SpringRunner;
import org.springframework.test.web.reactive.server.WebTestClient;

_@RunWith(SpringRunner.class)_
_@SpringBootTest_
_@AutoConfigureWebTestClient_
public class MockWebTestClientExampleTests {

	_@Autowired_
	private WebTestClient webClient;

	_@Test_
	public void exampleTest() {
		this.webClient.get().uri("/").exchange().expectStatus().isOk()
				.expectBody(String.class).isEqualTo("Hello World");
	}

}
```

### 45.3.5ä½¿ç”¨æ­£åœ¨è¿è¡Œçš„æœåŠ¡å™¨è¿›è¡Œæµ‹è¯•

å¦‚æœæ‚¨éœ€è¦å¯åŠ¨å®Œæ•´è¿è¡Œçš„æœåŠ¡å™¨ï¼Œæˆ‘ä»¬å»ºè®®æ‚¨ä½¿ç”¨éšæœºç«¯å£ã€‚å¦‚æœä½¿ç”¨`@SpringBootTest(webEnvironment=WebEnvironment.RANDOM_PORT)`ï¼Œåˆ™æ¯æ¬¡æµ‹è¯•è¿è¡Œæ—¶éšæœºé€‰æ‹©ä¸€ä¸ªå¯ç”¨ç«¯å£ã€‚

`@LocalServerPort`æ³¨é‡Šå¯ç”¨äº [æ³¨å…¥](#howto-discover-the-http-port-at-runtime "78.5åœ¨è¿è¡Œæ—¶å‘ç°HTTPç«¯å£")æµ‹è¯•ä¸­[ä½¿ç”¨çš„å®é™…ç«¯å£](#howto-discover-the-http-port-at-runtime "78.5Â Discover the HTTP Port at Runtime")ã€‚ä¸ºæ–¹ä¾¿èµ·è§ï¼Œéœ€è¦å¯¹å¯åŠ¨çš„æœåŠ¡å™¨è¿›è¡ŒRESTè°ƒç”¨çš„æµ‹è¯•è¿˜å¯ä»¥`@Autowire` a [`WebTestClient`](https://docs.spring.io/spring/docs/5.1.3.RELEASE/spring-framework-reference/testing.html#webtestclient-tests)ï¼Œå®ƒè§£æäº†ä¸æ­£åœ¨è¿è¡Œçš„æœåŠ¡å™¨çš„ç›¸å¯¹é“¾æ¥ï¼Œå¹¶é™„å¸¦äº†ç”¨äºéªŒè¯å“åº”çš„ä¸“ç”¨APIï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
import org.junit.Test;
import org.junit.runner.RunWith;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.boot.test.context.SpringBootTest.WebEnvironment;
import org.springframework.test.context.junit4.SpringRunner;
import org.springframework.test.web.reactive.server.WebTestClient;

_@RunWith(SpringRunner.class)_
_@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)_
public class RandomPortWebTestClientExampleTests {

	_@Autowired_
	private WebTestClient webClient;

	_@Test_
	public void exampleTest() {
		this.webClient.get().uri("/").exchange().expectStatus().isOk()
				.expectBody(String.class).isEqualTo("Hello World");
	}

}
```

æ­¤è®¾ç½®åœ¨ç±»è·¯å¾„ä¸Šéœ€è¦`spring-webflux`ã€‚å¦‚æœæ‚¨ä¸èƒ½æˆ–ä¸ä¼šæ·»åŠ webfluxï¼ŒSpring Bootè¿˜æä¾›`TestRestTemplate`è®¾æ–½ï¼š

```
import org.junit.Test;
import org.junit.runner.RunWith;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.boot.test.context.SpringBootTest.WebEnvironment;
import org.springframework.boot.test.web.client.TestRestTemplate;
import org.springframework.test.context.junit4.SpringRunner;

import static org.assertj.core.api.Assertions.assertThat;

_@RunWith(SpringRunner.class)_
_@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)_
public class RandomPortTestRestTemplateExampleTests {

	_@Autowired_
	private TestRestTemplate restTemplate;

	_@Test_
	public void exampleTest() {
		String body = this.restTemplate.getForObject("/", String.class);
		assertThat(body).isEqualTo("Hello World");
	}

}
```

### 45.3.6ä½¿ç”¨JMX

å½“æµ‹è¯•ä¸Šä¸‹æ–‡æ¡†æ¶ç¼“å­˜ä¸Šä¸‹æ–‡æ—¶ï¼Œé»˜è®¤æƒ…å†µä¸‹ç¦ç”¨JMXä»¥é˜²æ­¢ç›¸åŒçš„ç»„ä»¶åœ¨åŒä¸€åŸŸä¸Šæ³¨å†Œã€‚å¦‚æœæ­¤ç±»æµ‹è¯•éœ€è¦è®¿é—®`MBeanServer`ï¼Œè¯·è€ƒè™‘å°†å…¶æ ‡è®°ä¸ºè„ï¼š

```
_@RunWith(SpringRunner.class)_
_@SpringBootTest(properties = "spring.jmx.enabled=true")_
_@DirtiesContext_
public class SampleJmxTests {

	_@Autowired_
	private MBeanServer mBeanServer;

	_@Test_
	public void exampleTest() {
		// ...
	}

}
```

### 45.3.7å˜²å¼„å’Œé—´è°æ´»åŠ¨Beans

è¿è¡Œæµ‹è¯•æ—¶ï¼Œæœ‰æ—¶éœ€è¦åœ¨åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ä¸­æ¨¡æ‹ŸæŸäº›ç»„ä»¶ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯èƒ½æ‹¥æœ‰åœ¨å¼€å‘æœŸé—´ä¸å¯ç”¨çš„æŸäº›è¿œç¨‹æœåŠ¡çš„å¤–è§‚ã€‚å½“æ‚¨æƒ³è¦æ¨¡æ‹Ÿåœ¨çœŸå®ç¯å¢ƒä¸­å¯èƒ½éš¾ä»¥è§¦å‘çš„æ•…éšœæ—¶ï¼Œæ¨¡æ‹Ÿä¹Ÿå¾ˆæœ‰ç”¨ã€‚

Spring BootåŒ…å«`@MockBean`æ³¨é‡Šï¼Œå¯ç”¨äºä¸º`ApplicationContext`å†…çš„beanå®šä¹‰Mockitoæ¨¡æ‹Ÿã€‚æ‚¨å¯ä»¥ä½¿ç”¨æ³¨é‡Šæ·»åŠ æ–°çš„beansæˆ–æ›¿æ¢å•ä¸ªç°æœ‰çš„beanå®šä¹‰ã€‚æ³¨é‡Šå¯ä»¥ç›´æ¥ç”¨äºæµ‹è¯•ç±»ï¼Œæµ‹è¯•ä¸­çš„å­—æ®µæˆ–`@Configuration`ç±»å’Œå­—æ®µã€‚åœ¨å­—æ®µä¸Šä½¿ç”¨æ—¶ï¼Œä¹Ÿä¼šæ³¨å…¥åˆ›å»ºçš„æ¨¡æ‹Ÿçš„å®ä¾‹ã€‚æ¨¡æ‹Ÿbeansåœ¨æ¯ç§æµ‹è¯•æ–¹æ³•åè‡ªåŠ¨é‡ç½®ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å¦‚æœæ‚¨çš„æµ‹è¯•ä½¿ç”¨Spring Bootçš„æµ‹è¯•æ³¨é‡Šä¹‹ä¸€ï¼ˆä¾‹å¦‚<code class="literal" i="1959">@SpringBootTest</code>ï¼‰ï¼Œåˆ™ä¼šè‡ªåŠ¨å¯ç”¨æ­¤åŠŸèƒ½ã€‚è¦ä»¥ä¸åŒçš„æ’åˆ—æ–¹å¼ä½¿ç”¨æ­¤åŠŸèƒ½ï¼Œå¿…é¡»æ˜¾å¼æ·»åŠ ä¾¦å¬å™¨ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š</p><pre class="programlisting notranslate">@TestExecutionListeners(MockitoTestExecutionListener.class)</pre></td></tr></tbody></table>

ä»¥ä¸‹ç¤ºä¾‹ä½¿ç”¨æ¨¡æ‹Ÿå®ç°æ›¿æ¢ç°æœ‰çš„`RemoteService` beanï¼š

```
import org.junit.*;
import org.junit.runner.*;
import org.springframework.beans.factory.annotation.*;
import org.springframework.boot.test.context.*;
import org.springframework.boot.test.mock.mockito.*;
import org.springframework.test.context.junit4.*;

import static org.assertj.core.api.Assertions.*;
import static org.mockito.BDDMockito.*;

_@RunWith(SpringRunner.class)_
_@SpringBootTest_
public class MyTests {

	_@MockBean_
	private RemoteService remoteService;

	_@Autowired_
	private Reverser reverser;

	_@Test_
	public void exampleTest() {
		// RemoteService has been injected into the reverser bean
		given(this.remoteService.someCall()).willReturn("mock");
		String reverse = reverser.reverseSomeCall();
		assertThat(reverse).isEqualTo("kcom");
	}

}
```

æ­¤å¤–ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨`@SpyBean`å°†ä»»ä½•ç°æœ‰çš„beanä¸Mockito `spy`åŒ…è£…åœ¨ä¸€èµ·ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…[Javadoc](https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/test/mock/mockito/SpyBean.html)ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>è™½ç„¶Springçš„æµ‹è¯•æ¡†æ¶åœ¨æµ‹è¯•ä¹‹é—´ç¼“å­˜åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡å¹¶é‡ç”¨å…±äº«ç›¸åŒé…ç½®çš„æµ‹è¯•çš„ä¸Šä¸‹æ–‡ï¼Œä½†ä½¿ç”¨<code class="literal" i="1963">@MockBean</code>æˆ–<code class="literal" i="1964">@SpyBean</code>ä¼šå½±å“ç¼“å­˜å¯†é’¥ï¼Œè¿™å¾ˆå¯èƒ½ä¼šå¢åŠ ç¼“å­˜å¯†é’¥çš„æ•°é‡ã€‚ä¸Šä¸‹æ–‡ã€‚</p></td></tr></tbody></table><table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¦‚æœæ‚¨ä½¿ç”¨<code class="literal" i="1965">@SpyBean</code>ç›‘è§†beanå¹¶ä½¿ç”¨<code class="literal" i="1966">@Cacheable</code>æ–¹æ³•æŒ‰åç§°å¼•ç”¨å‚æ•°ï¼Œåˆ™å¿…é¡»ä½¿ç”¨<code class="literal" i="1967">-parameters</code>ç¼–è¯‘åº”ç”¨ç¨‹åºã€‚è¿™å¯ä»¥ç¡®ä¿åœ¨beanè¢«ç›‘è§†åï¼Œå‚æ•°åç§°å¯ç”¨äºç¼“å­˜åŸºç¡€ç»“æ„ã€‚</p></td></tr></tbody></table>

### 45.3.8è‡ªåŠ¨é…ç½®çš„æµ‹è¯•

Spring Bootçš„è‡ªåŠ¨é…ç½®ç³»ç»Ÿé€‚ç”¨äºåº”ç”¨ç¨‹åºï¼Œä½†æœ‰æ—¶å¯¹äºæµ‹è¯•æ¥è¯´æœ‰ç‚¹å¤ªå¤šäº†ã€‚é€šå¸¸ï¼Œåªéœ€åŠ è½½æµ‹è¯•åº”ç”¨ç¨‹åºâ€œåˆ‡ç‰‡â€æ‰€éœ€çš„é…ç½®éƒ¨åˆ†ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯èƒ½å¸Œæœ›æµ‹è¯•Spring MVCæ§åˆ¶å™¨æ˜¯å¦æ­£ç¡®æ˜ å°„URLï¼Œå¹¶ä¸”æ‚¨ä¸å¸Œæœ›åœ¨è¿™äº›æµ‹è¯•ä¸­æ¶‰åŠæ•°æ®åº“è°ƒç”¨ï¼Œæˆ–è€…æ‚¨å¯èƒ½æƒ³è¦æµ‹è¯•JPAå®ä½“ï¼Œå¹¶ä¸”æ‚¨å¯¹Webä¸æ„Ÿå…´è¶£è¿™äº›æµ‹è¯•è¿è¡Œæ—¶çš„å›¾å±‚ã€‚

`spring-boot-test-autoconfigure`æ¨¡å—åŒ…æ‹¬è®¸å¤šå¯ç”¨äºè‡ªåŠ¨é…ç½®è¿™ç§â€œåˆ‡ç‰‡â€çš„æ³¨é‡Šã€‚å®ƒä»¬ä¸­çš„æ¯ä¸€ä¸ªéƒ½ä»¥ç±»ä¼¼çš„æ–¹å¼å·¥ä½œï¼Œæä¾›`@â€¦â€‹Test`æ³¨é‡Šï¼Œç”¨äºåŠ è½½`ApplicationContext`å’Œä¸€ä¸ªæˆ–å¤šä¸ª`@AutoConfigureâ€¦â€‹`æ³¨é‡Šï¼Œå¯ç”¨äºè‡ªå®šä¹‰è‡ªåŠ¨é…ç½®è®¾ç½®ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>æ¯ä¸ªåˆ‡ç‰‡éƒ½å°†ç»„ä»¶æ‰«æé™åˆ¶ä¸ºé€‚å½“çš„ç»„ä»¶ï¼Œå¹¶åŠ è½½ä¸€ç»„éå¸¸æœ‰é™çš„è‡ªåŠ¨é…ç½®ç±»ã€‚å¦‚æœæ‚¨éœ€è¦æ’é™¤å…¶ä¸­ä¸€ä¸ªï¼Œåˆ™å¤§å¤šæ•°<code class="literal" i="1972">@â€¦â€‹Test</code>æ³¨é‡Šéƒ½ä¼šæä¾›<code class="literal" i="1973">excludeAutoConfiguration</code>å±æ€§ã€‚æˆ–è€…ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨<code class="literal" i="1974">@ImportAutoConfiguration#exclude</code>ã€‚</p></td></tr></tbody></table><table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>ä¸æ”¯æŒåœ¨ä¸€æ¬¡æµ‹è¯•ä¸­ä½¿ç”¨å¤šä¸ª<code class="literal" i="1975">@â€¦â€‹Test</code>æ³¨é‡ŠåŒ…å«å¤šä¸ªâ€œåˆ‡ç‰‡â€ã€‚å¦‚æœæ‚¨éœ€è¦å¤šä¸ªâ€œåˆ‡ç‰‡â€ï¼Œè¯·é€‰æ‹©<code class="literal" i="1976">@â€¦â€‹Test</code>æ³¨é‡Šä¹‹ä¸€å¹¶æ‰‹åŠ¨åŒ…å«å…¶ä»–â€œåˆ‡ç‰‡â€çš„<code class="literal" i="1977">@AutoConfigureâ€¦â€‹</code>æ³¨é‡Šã€‚</p></td></tr></tbody></table><table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>ä¹Ÿå¯ä»¥å°†<code class="literal" i="1978">@AutoConfigureâ€¦â€‹</code>æ³¨é‡Šä¸æ ‡å‡†<code class="literal" i="1979">@SpringBootTest</code>æ³¨é‡Šä¸€èµ·ä½¿ç”¨ã€‚å¦‚æœæ‚¨å¯¹â€œåˆ‡ç‰‡â€åº”ç”¨ç¨‹åºä¸æ„Ÿå…´è¶£ï¼Œä½†æƒ³è¦ä¸€äº›è‡ªåŠ¨é…ç½®çš„æµ‹è¯•beansï¼Œåˆ™å¯ä»¥ä½¿ç”¨æ­¤ç»„åˆã€‚</p></td></tr></tbody></table>

### 45.3.9è‡ªåŠ¨é…ç½®çš„JSONæµ‹è¯•

è¦æµ‹è¯•è¯¥å¯¹è±¡JSONåºåˆ—åŒ–å’Œååºåˆ—åŒ–æ˜¯å¦æŒ‰é¢„æœŸå·¥ä½œï¼Œæ‚¨å¯ä»¥ä½¿ç”¨`@JsonTest`æ³¨é‡Šã€‚`@JsonTest`è‡ªåŠ¨é…ç½®å¯ç”¨çš„å—æ”¯æŒçš„JSONæ˜ å°„å™¨ï¼Œå®ƒå¯ä»¥æ˜¯ä»¥ä¸‹åº“ä¹‹ä¸€ï¼š

*   Jackson `ObjectMapper`ï¼Œä»»ä½•`@JsonComponent` beanså’Œä»»ä½•Jackson `Module` s
*   `Gson`
*   `Jsonb`

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¯ä»¥<a class="link" href="#test-auto-configuration" title="é™„å½•D.æµ‹è¯•è‡ªåŠ¨é…ç½®æ³¨é‡Š">åœ¨é™„å½•ä¸­æ‰¾åˆ°</a> <code class="literal" i="1985">@JsonTest</code>å¯ç”¨çš„è‡ªåŠ¨é…ç½®åˆ—è¡¨ ã€‚</p></td></tr></tbody></table>

å¦‚æœéœ€è¦é…ç½®è‡ªåŠ¨é…ç½®çš„å…ƒç´ ï¼Œå¯ä»¥ä½¿ç”¨`@AutoConfigureJsonTesters`æ³¨é‡Šã€‚

Spring BootåŒ…æ‹¬åŸºäºAssertJçš„åŠ©æ‰‹ï¼Œå®ƒä»¬ä¸JSONAssertå’ŒJsonPathåº“ä¸€èµ·ä½¿ç”¨ï¼Œä»¥æ£€æŸ¥JSONæ˜¯å¦æŒ‰é¢„æœŸæ˜¾ç¤ºã€‚`JacksonTester`ï¼Œ`GsonTester`ï¼Œ`JsonbTester`å’Œ`BasicJsonTester`ç±»å¯åˆ†åˆ«ç”¨äºJacksonï¼ŒGsonï¼ŒJsonbå’ŒStringsã€‚ä½¿ç”¨`@JsonTest`æ—¶ï¼Œæµ‹è¯•ç±»ä¸Šçš„ä»»ä½•è¾…åŠ©å­—æ®µéƒ½å¯ä»¥æ˜¯`@Autowired`ã€‚ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†Jacksonçš„æµ‹è¯•ç±»ï¼š

```
import org.junit.*;
import org.junit.runner.*;
import org.springframework.beans.factory.annotation.*;
import org.springframework.boot.test.autoconfigure.json.*;
import org.springframework.boot.test.context.*;
import org.springframework.boot.test.json.*;
import org.springframework.test.context.junit4.*;

import static org.assertj.core.api.Assertions.*;

_@RunWith(SpringRunner.class)_
_@JsonTest_
public class MyJsonTests {

	_@Autowired_
	private JacksonTester<VehicleDetails> json;

	_@Test_
	public void testSerialize() throws Exception {
		VehicleDetails details = new VehicleDetails("Honda", "Civic");
		// Assert against a `.json` file in the same package as the test
		assertThat(this.json.write(details)).isEqualToJson("expected.json");
		// Or use JSON path based assertions
		assertThat(this.json.write(details)).hasJsonPathStringValue("@.make");
		assertThat(this.json.write(details)).extractingJsonPathStringValue("@.make")
				.isEqualTo("Honda");
	}

	_@Test_
	public void testDeserialize() throws Exception {
		String content = "{\"make\":\"Ford\",\"model\":\"Focus\"}";
		assertThat(this.json.parse(content))
				.isEqualTo(new VehicleDetails("Ford", "Focus"));
		assertThat(this.json.parseObject(content).getMake()).isEqualTo("Ford");
	}

}
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>JSONå¸®åŠ©ç¨‹åºç±»ä¹Ÿå¯ä»¥ç›´æ¥ç”¨äºæ ‡å‡†å•å…ƒæµ‹è¯•ã€‚ä¸ºæ­¤ï¼Œå¦‚æœä¸ä½¿ç”¨<code class="literal" i="1995">@JsonTest</code>ï¼Œè¯·åœ¨<code class="literal" i="1994">@Before</code>æ–¹æ³•ä¸­è°ƒç”¨åŠ©æ‰‹çš„<code class="literal" i="1993">initFields</code>æ–¹æ³•ã€‚</p></td></tr></tbody></table>

### 45.3.10è‡ªåŠ¨é…ç½®çš„Spring MVCæµ‹è¯•

è¦æµ‹è¯•Spring MVCæ§åˆ¶å™¨æ˜¯å¦æŒ‰é¢„æœŸå·¥ä½œï¼Œè¯·ä½¿ç”¨`@WebMvcTest`æ³¨é‡Šã€‚`@WebMvcTest`è‡ªåŠ¨é…ç½®Spring MVCåŸºç¡€è®¾æ–½å¹¶å°†æ‰«æbeansé™åˆ¶ä¸º`@Controller`ï¼Œ`@ControllerAdvice`ï¼Œ`@JsonComponent`ï¼Œ`Converter`ï¼Œ`GenericConverter`ï¼Œ`Filter`ï¼Œ`WebMvcConfigurer`å’Œ`HandlerMethodArgumentResolver`ã€‚ä½¿ç”¨æ­¤æ³¨é‡Šæ—¶ï¼Œä¸ä¼šæ‰«æå¸¸è§„`@Component` beansã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¯ä»¥<a class="link" href="#test-auto-configuration" title="é™„å½•D.æµ‹è¯•è‡ªåŠ¨é…ç½®æ³¨é‡Š">åœ¨é™„å½•ä¸­æ‰¾åˆ°</a> <code class="literal" i="2007">@WebMvcTest</code>å¯ç”¨çš„è‡ªåŠ¨é…ç½®è®¾ç½®åˆ—è¡¨ ã€‚</p></td></tr></tbody></table><table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¦‚æœæ‚¨éœ€è¦æ³¨å†Œé¢å¤–çš„ç»„ä»¶ï¼Œä¾‹å¦‚Jackson <code class="literal" i="2008">Module</code>ï¼Œåˆ™å¯ä»¥åœ¨æµ‹è¯•ä¸­ä½¿ç”¨<code class="literal" i="2009">@Import</code>å¯¼å…¥å…¶ä»–é…ç½®ç±»ã€‚</p></td></tr></tbody></table>

é€šå¸¸ï¼Œ`@WebMvcTest`ä»…é™äºä¸€ä¸ªæ§åˆ¶å™¨ï¼Œå¹¶ä¸`@MockBean`ç»“åˆä½¿ç”¨ï¼Œä¸ºæ‰€éœ€çš„åä½œè€…æä¾›æ¨¡æ‹Ÿå®ç°ã€‚

`@WebMvcTest`ä¹Ÿè‡ªåŠ¨é…ç½®`MockMvc`ã€‚Mock MVCæä¾›äº†ä¸€ç§å¿«é€Ÿæµ‹è¯•MVCæ§åˆ¶å™¨çš„å¼ºå¤§æ–¹æ³•ï¼Œæ— éœ€å¯åŠ¨å®Œæ•´çš„HTTPæœåŠ¡å™¨ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æ‚¨è¿˜å¯ä»¥ä½¿ç”¨<code class="literal" i="2017">@AutoConfigureMockMvc</code>å¯¹å…¶è¿›è¡Œæ³¨é‡Šï¼Œä»¥é<code class="literal" i="2015">@WebMvcTest</code>ï¼ˆä¾‹å¦‚<code class="literal" i="2016">@SpringBootTest</code>ï¼‰è‡ªåŠ¨é…ç½®<code class="literal" i="2014">MockMvc</code>ã€‚ä»¥ä¸‹ç¤ºä¾‹ä½¿ç”¨<code class="literal" i="2018">MockMvc</code>ï¼š</p></td></tr></tbody></table>

```
import org.junit.*;
import org.junit.runner.*;
import org.springframework.beans.factory.annotation.*;
import org.springframework.boot.test.autoconfigure.web.servlet.*;
import org.springframework.boot.test.mock.mockito.*;

import static org.assertj.core.api.Assertions.*;
import static org.mockito.BDDMockito.*;
import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;
import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;

_@RunWith(SpringRunner.class)_
_@WebMvcTest(UserVehicleController.class)_
public class MyControllerTests {

	_@Autowired_
	private MockMvc mvc;

	_@MockBean_
	private UserVehicleService userVehicleService;

	_@Test_
	public void testExample() throws Exception {
		given(this.userVehicleService.getVehicleDetails("sboot"))
				.willReturn(new VehicleDetails("Honda", "Civic"));
		this.mvc.perform(get("/sboot/vehicle").accept(MediaType.TEXT_PLAIN))
				.andExpect(status().isOk()).andExpect(content().string("Honda Civic"));
	}

}
```

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¦‚æœéœ€è¦é…ç½®è‡ªåŠ¨é…ç½®çš„å…ƒç´ ï¼ˆä¾‹å¦‚ï¼Œåº”è¯¥åº”ç”¨servletè¿‡æ»¤å™¨æ—¶ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨<code class="literal" i="2019">@AutoConfigureMockMvc</code>æ³¨é‡Šä¸­çš„å±æ€§ã€‚</p></td></tr></tbody></table>

å¦‚æœæ‚¨ä½¿ç”¨HtmlUnitæˆ–Seleniumï¼Œåˆ™è‡ªåŠ¨é…ç½®è¿˜ä¼šæä¾›HTMLUnit `WebClient` beanå’Œ/æˆ–`WebDriver` beanã€‚ä»¥ä¸‹ç¤ºä¾‹ä½¿ç”¨HtmlUnitï¼š

```
import com.gargoylesoftware.htmlunit.*;
import org.junit.*;
import org.junit.runner.*;
import org.springframework.beans.factory.annotation.*;
import org.springframework.boot.test.autoconfigure.web.servlet.*;
import org.springframework.boot.test.mock.mockito.*;

import static org.assertj.core.api.Assertions.*;
import static org.mockito.BDDMockito.*;

_@RunWith(SpringRunner.class)_
_@WebMvcTest(UserVehicleController.class)_
public class MyHtmlUnitTests {

	_@Autowired_
	private WebClient webClient;

	_@MockBean_
	private UserVehicleService userVehicleService;

	_@Test_
	public void testExample() throws Exception {
		given(this.userVehicleService.getVehicleDetails("sboot"))
				.willReturn(new VehicleDetails("Honda", "Civic"));
		HtmlPage page = this.webClient.getPage("/sboot/vehicle.html");
		assertThat(page.getBody().getTextContent()).isEqualTo("Honda Civic");
	}

}
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒSpring Bootå°†<code class="literal" i="2022">WebDriver</code> beansç½®äºç‰¹æ®Šçš„â€œèŒƒå›´â€ä¸­ï¼Œä»¥ç¡®ä¿é©±åŠ¨ç¨‹åºåœ¨æ¯æ¬¡æµ‹è¯•åé€€å‡ºå¹¶æ³¨å…¥æ–°å®ä¾‹ã€‚å¦‚æœæ‚¨ä¸æƒ³è¦æ­¤è¡Œä¸ºï¼Œå¯ä»¥å°†<code class="literal" i="2023">@Scope("singleton")</code>æ·»åŠ åˆ°<code class="literal" i="2024">WebDriver</code> <code class="literal" i="2025">@Bean</code>å®šä¹‰ä¸­ã€‚</p></td></tr></tbody></table><table border="0" summary="Warning"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[è­¦å‘Š]" src="images/warning.png"></td><th align="left">è­¦å‘Š</th></tr><tr><td align="left" valign="top"><p>Spring Bootåˆ›å»ºçš„<code class="literal" i="2026">webDriver</code>èŒƒå›´å°†æ›¿æ¢ä»»ä½•ç”¨æˆ·å®šä¹‰çš„åŒåèŒƒå›´ã€‚å¦‚æœæ‚¨å®šä¹‰è‡ªå·±çš„<code class="literal" i="2027">webDriver</code>èŒƒå›´ï¼Œåˆ™åœ¨ä½¿ç”¨<code class="literal" i="2028">@WebMvcTest</code>æ—¶å¯èƒ½ä¼šå‘ç°å®ƒåœæ­¢å·¥ä½œã€‚</p></td></tr></tbody></table>

å¦‚æœæ‚¨åœ¨ç±»è·¯å¾„ä¸Šæ‹¥æœ‰Springå®‰å…¨æ€§ï¼Œ`@WebMvcTest`ä¹Ÿä¼šæ‰«æ`WebSecurityConfigurer` beansã€‚æ‚¨å¯ä»¥ä½¿ç”¨Springå®‰å…¨æ€§æµ‹è¯•æ”¯æŒï¼Œè€Œä¸æ˜¯å®Œå…¨ç¦ç”¨æ­¤ç±»æµ‹è¯•çš„å®‰å…¨æ€§ã€‚æœ‰å…³å¦‚ä½•ä½¿ç”¨Springå®‰å…¨æ€§`MockMvc`æ”¯æŒçš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…_[æœ¬ç« 80ï¼Œ_ä½¿ç”¨Springå®‰å…¨_](#howto-use-test-with-spring-security "80.ä½¿ç”¨Spring Securityè¿›è¡Œæµ‹è¯•")_æ€§æ“ä½œæ–¹æ³•éƒ¨åˆ†è¿›è¡Œæµ‹è¯•ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æœ‰æ—¶å†™Spring MVCæµ‹è¯•æ˜¯ä¸å¤Ÿçš„; Spring Bootå¯ä»¥å¸®åŠ©æ‚¨<a class="link" href="#boot-features-testing-spring-boot-applications-testing-with-running-server" title="45.3.5ä½¿ç”¨æ­£åœ¨è¿è¡Œçš„æœåŠ¡å™¨è¿›è¡Œæµ‹è¯•">ä½¿ç”¨å®é™…æœåŠ¡å™¨</a>è¿è¡Œ <a class="link" href="#boot-features-testing-spring-boot-applications-testing-with-running-server" title="45.3.5&nbsp;Testing with a running server">å®Œæ•´çš„ç«¯åˆ°ç«¯æµ‹è¯•</a>ã€‚</p></td></tr></tbody></table>

### 45.3.11è‡ªåŠ¨é…ç½®Spring WebFluxæµ‹è¯•

è¦æµ‹è¯•[Spring WebFlux](https://docs.spring.io/spring/docs/5.1.3.RELEASE/spring-framework-reference//web-reactive.html)æ§åˆ¶å™¨æ˜¯å¦æŒ‰é¢„æœŸå·¥ä½œï¼Œæ‚¨å¯ä»¥ä½¿ç”¨`@WebFluxTest`æ³¨é‡Šã€‚`@WebFluxTest`è‡ªåŠ¨é…ç½®Spring WebFluxåŸºç¡€æ¶æ„ï¼Œå¹¶å°†æ‰«æçš„beansé™åˆ¶ä¸º`@Controller`ï¼Œ`@ControllerAdvice`ï¼Œ`@JsonComponent`ï¼Œ`Converter`ï¼Œ`GenericConverter`å’Œ`WebFluxConfigurer`ã€‚ä½¿ç”¨`@WebFluxTest`æ³¨é‡Šæ—¶ï¼Œä¸ä¼šæ‰«æå¸¸è§„`@Component` beansã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¯ä»¥<a class="link" href="#test-auto-configuration" title="é™„å½•D.æµ‹è¯•è‡ªåŠ¨é…ç½®æ³¨é‡Š">åœ¨é™„å½•ä¸­æ‰¾åˆ°</a> <code class="literal" i="2042">@WebFluxTest</code>å¯ç”¨çš„è‡ªåŠ¨é…ç½®åˆ—è¡¨ ã€‚</p></td></tr></tbody></table><table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¦‚æœéœ€è¦æ³¨å†Œé¢å¤–çš„ç»„ä»¶ï¼Œä¾‹å¦‚Jackson <code class="literal" i="2043">Module</code>ï¼Œåˆ™å¯ä»¥åœ¨æµ‹è¯•ä¸­ä½¿ç”¨<code class="literal" i="2044">@Import</code>å¯¼å…¥å…¶ä»–é…ç½®ç±»ã€‚</p></td></tr></tbody></table>

é€šå¸¸ï¼Œ`@WebFluxTest`ä»…é™äºå•ä¸ªæ§åˆ¶å™¨ï¼Œå¹¶ä¸`@MockBean`æ³¨é‡Šç»“åˆä½¿ç”¨ï¼Œä¸ºæ‰€éœ€çš„åä½œè€…æä¾›æ¨¡æ‹Ÿå®ç°ã€‚

`@WebFluxTest`ä¹Ÿæ˜¯è‡ªåŠ¨é…ç½® [`WebTestClient`](https://docs.spring.io/spring/docs/5.1.3.RELEASE/spring-framework-reference/testing.html#webtestclient)ï¼Œå®ƒæä¾›äº†ä¸€ç§å¿«é€Ÿæµ‹è¯•WebFluxæ§åˆ¶å™¨çš„å¼ºå¤§æ–¹æ³•ï¼Œæ— éœ€å¯åŠ¨å®Œæ•´çš„HTTPæœåŠ¡å™¨ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æ‚¨è¿˜å¯ä»¥é€šè¿‡ä½¿ç”¨<code class="literal" i="2051">@AutoConfigureWebTestClient</code>å¯¹å…¶è¿›è¡Œæ³¨é‡Šï¼Œåœ¨é<code class="literal" i="2049">@WebFluxTest</code>ï¼ˆä¾‹å¦‚<code class="literal" i="2050">@SpringBootTest</code>ï¼‰ä¸­è‡ªåŠ¨é…ç½®<code class="literal" i="2048">WebTestClient</code>ã€‚ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†åŒæ—¶ä½¿ç”¨<code class="literal" i="2052">@WebFluxTest</code>å’Œ<code class="literal" i="2053">WebTestClient</code>çš„ç±»ï¼š</p></td></tr></tbody></table>

```
import org.junit.Test;
import org.junit.runner.RunWith;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.autoconfigure.web.reactive.WebFluxTest;
import org.springframework.http.MediaType;
import org.springframework.test.context.junit4.SpringRunner;
import org.springframework.test.web.reactive.server.WebTestClient;

_@RunWith(SpringRunner.class)_
_@WebFluxTest(UserVehicleController.class)_
public class MyControllerTests {

	_@Autowired_
	private WebTestClient webClient;

	_@MockBean_
	private UserVehicleService userVehicleService;

	_@Test_
	public void testExample() throws Exception {
		given(this.userVehicleService.getVehicleDetails("sboot"))
				.willReturn(new VehicleDetails("Honda", "Civic"));
		this.webClient.get().uri("/sboot/vehicle").accept(MediaType.TEXT_PLAIN)
				.exchange()
				.expectStatus().isOk()
				.expectBody(String.class).isEqualTo("Honda Civic");
	}

}
```

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æ­¤è®¾ç½®ä»…ç”±WebFluxåº”ç”¨ç¨‹åºæ”¯æŒï¼Œå› ä¸ºåœ¨æ¨¡æ‹Ÿçš„Webåº”ç”¨ç¨‹åºä¸­ä½¿ç”¨<code class="literal" i="2054">WebTestClient</code>ç›®å‰ä»…é€‚ç”¨äºWebFluxã€‚</p></td></tr></tbody></table><table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p><code class="literal" i="2055">@WebFluxTest</code>æ— æ³•æ£€æµ‹é€šè¿‡åŠŸèƒ½Webæ¡†æ¶æ³¨å†Œçš„è·¯ç”±ã€‚è¦åœ¨ä¸Šä¸‹æ–‡ä¸­æµ‹è¯•<code class="literal" i="2056">RouterFunction</code> beansï¼Œè¯·è€ƒè™‘é€šè¿‡<code class="literal" i="2058">@Import</code>æˆ–ä½¿ç”¨<code class="literal" i="2059">@SpringBootTest</code>è‡ªè¡Œå¯¼å…¥<code class="literal" i="2057">RouterFunction</code>ã€‚</p></td></tr></tbody></table><table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æœ‰æ—¶å†™Spring WebFluxæµ‹è¯•æ˜¯ä¸å¤Ÿçš„; Spring Bootå¯ä»¥å¸®åŠ©æ‚¨<a class="link" href="#boot-features-testing-spring-boot-applications-testing-with-running-server" title="45.3.5ä½¿ç”¨æ­£åœ¨è¿è¡Œçš„æœåŠ¡å™¨è¿›è¡Œæµ‹è¯•">ä½¿ç”¨å®é™…æœåŠ¡å™¨</a>è¿è¡Œ <a class="link" href="#boot-features-testing-spring-boot-applications-testing-with-running-server" title="45.3.5&nbsp;Testing with a running server">å®Œæ•´çš„ç«¯åˆ°ç«¯æµ‹è¯•</a>ã€‚</p></td></tr></tbody></table>

### 45.3.12è‡ªåŠ¨é…ç½®çš„æ•°æ®JPAæµ‹è¯•

æ‚¨å¯ä»¥ä½¿ç”¨`@DataJpaTest`æ³¨é‡Šæ¥æµ‹è¯•JPAåº”ç”¨ç¨‹åºã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒé…ç½®å†…å­˜ä¸­çš„åµŒå…¥å¼æ•°æ®åº“ï¼Œæ‰«æ`@Entity`ç±»ï¼Œå¹¶é…ç½®Spring Data JPAå­˜å‚¨åº“ã€‚å¸¸è§„`@Component` beansæœªåŠ è½½åˆ°`ApplicationContext`ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¯ä»¥<a class="link" href="#test-auto-configuration" title="é™„å½•D.æµ‹è¯•è‡ªåŠ¨é…ç½®æ³¨é‡Š">åœ¨é™„å½•ä¸­æ‰¾åˆ°</a> <code class="literal" i="2064">@DataJpaTest</code>å¯ç”¨çš„è‡ªåŠ¨é…ç½®è®¾ç½®åˆ—è¡¨ ã€‚</p></td></tr></tbody></table>

é»˜è®¤æƒ…å†µä¸‹ï¼Œæ•°æ®JPAæµ‹è¯•æ˜¯äº‹åŠ¡æ€§çš„ï¼Œå¹¶åœ¨æ¯æ¬¡æµ‹è¯•ç»“æŸæ—¶å›æ»šã€‚æœ‰å…³ æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…Springæ¡†æ¶å‚è€ƒæ–‡æ¡£ä¸­çš„[ç›¸å…³éƒ¨åˆ†](https://docs.spring.io/spring/docs/5.1.3.RELEASE/spring-framework-reference/testing.html#testcontext-tx-enabling-transactions)ã€‚å¦‚æœè¿™ä¸æ˜¯æ‚¨æƒ³è¦çš„ï¼Œæ‚¨å¯ä»¥ä¸ºæµ‹è¯•æˆ–æ•´ä¸ªç±»ç¦ç”¨äº‹åŠ¡ç®¡ç†ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;
import org.springframework.test.context.junit4.SpringRunner;
import org.springframework.transaction.annotation.Propagation;
import org.springframework.transaction.annotation.Transactional;

_@RunWith(SpringRunner.class)_
_@DataJpaTest_
_@Transactional(propagation = Propagation.NOT_SUPPORTED)_
public class ExampleNonTransactionalTests {

}
```

æ•°æ®JPAæµ‹è¯•ä¹Ÿå¯ä»¥æ³¨å…¥ [`TestEntityManager`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-test-autoconfigure/src/main/java/org/springframework/boot/test/autoconfigure/orm/jpa/TestEntityManager.java) beanï¼Œå®ƒæä¾›äº†ä¸“é—¨ä¸ºæµ‹è¯•è®¾è®¡çš„æ ‡å‡†JPA `EntityManager`çš„æ›¿ä»£æ–¹æ¡ˆã€‚å¦‚æœè¦åœ¨`@DataJpaTest`å®ä¾‹ä¹‹å¤–ä½¿ç”¨`TestEntityManager`ï¼Œè¿˜å¯ä»¥ä½¿ç”¨`@AutoConfigureTestEntityManager`æ³¨é‡Šã€‚å¦‚æœæ‚¨éœ€è¦ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨`JdbcTemplate`ã€‚ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºæ­£åœ¨ä½¿ç”¨çš„`@DataJpaTest`æ³¨é‡Šï¼š

```
import org.junit.*;
import org.junit.runner.*;
import org.springframework.boot.test.autoconfigure.orm.jpa.*;

import static org.assertj.core.api.Assertions.*;

_@RunWith(SpringRunner.class)_
_@DataJpaTest_
public class ExampleRepositoryTests {

	_@Autowired_
	private TestEntityManager entityManager;

	_@Autowired_
	private UserRepository repository;

	_@Test_
	public void testExample() throws Exception {
		this.entityManager.persist(new User("sboot", "1234"));
		User user = this.repository.findByUsername("sboot");
		assertThat(user.getUsername()).isEqualTo("sboot");
		assertThat(user.getVin()).isEqualTo("1234");
	}

}
```

å†…å­˜ä¸­åµŒå…¥å¼æ•°æ®åº“é€šå¸¸é€‚ç”¨äºæµ‹è¯•ï¼Œå› ä¸ºå®ƒä»¬é€Ÿåº¦å¿«ä¸”ä¸éœ€è¦ä»»ä½•å®‰è£…ã€‚ä½†æ˜¯ï¼Œå¦‚æœæ‚¨æ›´å–œæ¬¢å¯¹çœŸå®æ•°æ®åº“è¿è¡Œæµ‹è¯•ï¼Œåˆ™å¯ä»¥ä½¿ç”¨`@AutoConfigureTestDatabase`æ³¨é‡Šï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
_@RunWith(SpringRunner.class)_
_@DataJpaTest_
_@AutoConfigureTestDatabase(replace=Replace.NONE)_
public class ExampleRepositoryTests {

	// ...

}
```

### 45.3.13è‡ªåŠ¨é…ç½®çš„JDBCæµ‹è¯•

`@JdbcTest`ç±»ä¼¼äº`@DataJpaTest`ï¼Œä½†é€‚ç”¨äºä»…éœ€è¦`DataSource`å¹¶ä¸”ä¸ä½¿ç”¨Springæ•°æ®JDBCçš„æµ‹è¯•ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒé…ç½®å†…å­˜ä¸­åµŒå…¥å¼æ•°æ®åº“å’Œ`JdbcTemplate`ã€‚å¸¸è§„`@Component` beansæœªåŠ è½½åˆ°`ApplicationContext`ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¯ä»¥<a class="link" href="#test-auto-configuration" title="é™„å½•D.æµ‹è¯•è‡ªåŠ¨é…ç½®æ³¨é‡Š">åœ¨é™„å½•ä¸­æ‰¾åˆ°</a> <code class="literal" i="2078">@JdbcTest</code>å¯ç”¨çš„è‡ªåŠ¨é…ç½®åˆ—è¡¨ ã€‚</p></td></tr></tbody></table>

é»˜è®¤æƒ…å†µä¸‹ï¼ŒJDBCæµ‹è¯•æ˜¯äº‹åŠ¡æ€§çš„ï¼Œå¹¶åœ¨æ¯æ¬¡æµ‹è¯•ç»“æŸæ—¶å›æ»šã€‚æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…Springæ¡†æ¶å‚è€ƒæ–‡æ¡£ä¸­çš„ [ç›¸å…³éƒ¨åˆ†](https://docs.spring.io/spring/docs/5.1.3.RELEASE/spring-framework-reference/testing.html#testcontext-tx-enabling-transactions)ã€‚å¦‚æœè¿™ä¸æ˜¯æ‚¨æƒ³è¦çš„ï¼Œæ‚¨å¯ä»¥ç¦ç”¨æµ‹è¯•æˆ–æ•´ä¸ªç±»çš„äº‹åŠ¡ç®¡ç†ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.boot.test.autoconfigure.jdbc.JdbcTest;
import org.springframework.test.context.junit4.SpringRunner;
import org.springframework.transaction.annotation.Propagation;
import org.springframework.transaction.annotation.Transactional;

_@RunWith(SpringRunner.class)_
_@JdbcTest_
_@Transactional(propagation = Propagation.NOT_SUPPORTED)_
public class ExampleNonTransactionalTests {

}
```

å¦‚æœæ‚¨å¸Œæœ›æµ‹è¯•é’ˆå¯¹çœŸå®æ•°æ®åº“è¿è¡Œï¼Œåˆ™å¯ä»¥ä½¿ç”¨`@AutoConfigureTestDatabase`æ³¨é‡Šï¼Œæ–¹æ³•ä¸`DataJpaTest`ç›¸åŒã€‚ï¼ˆå‚è§â€œ [ç¬¬45.3.12èŠ‚](#boot-features-testing-spring-boot-applications-testing-autoconfigured-jpa-test "45.3.12è‡ªåŠ¨é…ç½®çš„æ•°æ®JPAæµ‹è¯•") â€ [ï¼Œâ€œè‡ªåŠ¨é…ç½®çš„æ•°æ®JPAæµ‹è¯•â€](#boot-features-testing-spring-boot-applications-testing-autoconfigured-jpa-test "45.3.12Â Auto-configured Data JPA Tests") â€œã€‚ï¼‰

### 45.3.14è‡ªåŠ¨é…ç½®çš„æ•°æ®JDBCæµ‹è¯•

`@DataJdbcTest`ç±»ä¼¼äº`@JdbcTest`ï¼Œä½†é€‚ç”¨äºä½¿ç”¨Springæ•°æ®JDBCå­˜å‚¨åº“çš„æµ‹è¯•ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒé…ç½®å†…å­˜ä¸­çš„åµŒå…¥å¼æ•°æ®åº“ï¼Œ`JdbcTemplate`å’ŒSpringæ•°æ®JDBCå­˜å‚¨åº“ã€‚å¸¸è§„`@Component` beansæœªåŠ è½½åˆ°`ApplicationContext`ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¯ä»¥<a class="link" href="#test-auto-configuration" title="é™„å½•D.æµ‹è¯•è‡ªåŠ¨é…ç½®æ³¨é‡Š">åœ¨é™„å½•ä¸­æ‰¾åˆ°</a> <code class="literal" i="2086">@DataJdbcTest</code>å¯ç”¨çš„è‡ªåŠ¨é…ç½®åˆ—è¡¨ ã€‚</p></td></tr></tbody></table>

é»˜è®¤æƒ…å†µä¸‹ï¼Œæ•°æ®JDBCæµ‹è¯•æ˜¯äº‹åŠ¡æ€§çš„ï¼Œå¹¶åœ¨æ¯æ¬¡æµ‹è¯•ç»“æŸæ—¶å›æ»šã€‚æœ‰å…³ æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…Springæ¡†æ¶å‚è€ƒæ–‡æ¡£ä¸­çš„[ç›¸å…³éƒ¨åˆ†](https://docs.spring.io/spring/docs/5.1.3.RELEASE/spring-framework-reference/testing.html#testcontext-tx-enabling-transactions)ã€‚å¦‚æœè¿™ä¸æ˜¯æ‚¨æƒ³è¦çš„ï¼Œæ‚¨å¯ä»¥ç¦ç”¨æµ‹è¯•æˆ–æ•´ä¸ªæµ‹è¯•ç±»çš„äº‹åŠ¡ç®¡ç†ï¼Œå¦‚ [JDBCç¤ºä¾‹ä¸­æ‰€ç¤º](#boot-features-testing-spring-boot-applications-testing-autoconfigured-jdbc-test "45.3.13è‡ªåŠ¨é…ç½®çš„JDBCæµ‹è¯•")ã€‚

å¦‚æœæ‚¨å¸Œæœ›æµ‹è¯•é’ˆå¯¹çœŸå®æ•°æ®åº“è¿è¡Œï¼Œåˆ™å¯ä»¥ä½¿ç”¨`@AutoConfigureTestDatabase`æ³¨é‡Šï¼Œæ–¹æ³•ä¸`DataJpaTest`ç›¸åŒã€‚ï¼ˆå‚è§â€œ [ç¬¬45.3.12èŠ‚](#boot-features-testing-spring-boot-applications-testing-autoconfigured-jpa-test "45.3.12è‡ªåŠ¨é…ç½®çš„æ•°æ®JPAæµ‹è¯•") â€ [ï¼Œâ€œè‡ªåŠ¨é…ç½®çš„æ•°æ®JPAæµ‹è¯•â€](#boot-features-testing-spring-boot-applications-testing-autoconfigured-jpa-test "45.3.12Â Auto-configured Data JPA Tests") â€œã€‚ï¼‰

### 45.3.15è‡ªåŠ¨é…ç½®çš„jOOQæµ‹è¯•

æ‚¨å¯ä»¥ä½¿ç”¨ä¸`@JdbcTest`ç±»ä¼¼çš„æ–¹å¼ä½¿ç”¨`@JooqTest`ï¼Œä½†æ˜¯å¯ä»¥ä½¿ç”¨ä¸jOOQç›¸å…³çš„æµ‹è¯•ã€‚ç”±äºjOOQä¸¥é‡ä¾èµ–äºä¸æ•°æ®åº“æ¨¡å¼ç›¸å¯¹åº”çš„åŸºäºJavaçš„æ¨¡å¼ï¼Œå› æ­¤ä½¿ç”¨ç°æœ‰çš„`DataSource`ã€‚å¦‚æœè¦å°†å…¶æ›¿æ¢ä¸ºå†…å­˜æ•°æ®åº“ï¼Œå¯ä»¥ä½¿ç”¨`@AutoConfigureTestDatabase`è¦†ç›–è¿™äº›è®¾ç½®ã€‚ï¼ˆæœ‰å…³åœ¨Spring Bootä¸­ä½¿ç”¨jOOQçš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…æœ¬ç« å‰é¢çš„â€œ [ç¬¬30.6èŠ‚](#boot-features-jooq "30.6ä½¿ç”¨jOOQ") â€ [ï¼Œâ€œä½¿ç”¨jOOQâ€](#boot-features-jooq "30.6Â Using jOOQ")ã€‚ï¼‰å¸¸è§„`@Component` beansæœªåŠ è½½åˆ°`ApplicationContext`ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¯ä»¥<a class="link" href="#test-auto-configuration" title="é™„å½•D.æµ‹è¯•è‡ªåŠ¨é…ç½®æ³¨é‡Š">åœ¨é™„å½•ä¸­æ‰¾åˆ°</a> <code class="literal" i="2095">@JooqTest</code>å¯ç”¨çš„è‡ªåŠ¨é…ç½®åˆ—è¡¨ ã€‚</p></td></tr></tbody></table>

`@JooqTest`é…ç½®`DSLContext`ã€‚å¸¸è§„`@Component` beansæœªåŠ è½½åˆ°`ApplicationContext`ã€‚ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºæ­£åœ¨ä½¿ç”¨çš„`@JooqTest`æ³¨é‡Šï¼š

```
import org.jooq.DSLContext;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.boot.test.autoconfigure.jooq.JooqTest;
import org.springframework.test.context.junit4.SpringRunner;

_@RunWith(SpringRunner.class)_
_@JooqTest_
public class ExampleJooqTests {

	_@Autowired_
	private DSLContext dslContext;
}
```

JOOQæµ‹è¯•æ˜¯äº‹åŠ¡æ€§çš„ï¼Œé»˜è®¤æƒ…å†µä¸‹åœ¨æ¯ä¸ªæµ‹è¯•ç»“æŸæ—¶å›æ»šã€‚å¦‚æœè¿™ä¸æ˜¯æ‚¨æƒ³è¦çš„ï¼Œæ‚¨å¯ä»¥ç¦ç”¨æµ‹è¯•æˆ–æ•´ä¸ªæµ‹è¯•ç±»çš„äº‹åŠ¡ç®¡ç†ï¼Œå¦‚ [JDBCç¤ºä¾‹ä¸­æ‰€ç¤º](#boot-features-testing-spring-boot-applications-testing-autoconfigured-jdbc-test "45.3.13è‡ªåŠ¨é…ç½®çš„JDBCæµ‹è¯•")ã€‚

### 45.3.16è‡ªåŠ¨é…ç½®çš„æ•°æ®MongoDBæµ‹è¯•

æ‚¨å¯ä»¥ä½¿ç”¨`@DataMongoTest`æ¥æµ‹è¯•MongoDBåº”ç”¨ç¨‹åºã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒé…ç½®å†…å­˜ä¸­åµŒå…¥çš„MongoDBï¼ˆå¦‚æœå¯ç”¨ï¼‰ï¼Œé…ç½®`MongoTemplate`ï¼Œæ‰«æ`@Document`ç±»ï¼Œå¹¶é…ç½®Spring Data MongoDBå­˜å‚¨åº“ã€‚å¸¸è§„`@Component` beansæœªåŠ è½½åˆ°`ApplicationContext`ã€‚ï¼ˆæœ‰å…³å°†MongoDBä¸Spring Bootä¸€èµ·ä½¿ç”¨çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…æœ¬ç« å‰é¢çš„â€œ [ç¬¬31.2èŠ‚â€ï¼Œâ€œMongoDBâ€](#boot-features-mongodb "31.2 MongoDB")ã€‚ï¼‰

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¯ä»¥<a class="link" href="#test-auto-configuration" title="é™„å½•D.æµ‹è¯•è‡ªåŠ¨é…ç½®æ³¨é‡Š">åœ¨é™„å½•ä¸­æ‰¾åˆ°</a> <code class="literal" i="2106">@DataMongoTest</code>å¯ç”¨çš„è‡ªåŠ¨é…ç½®è®¾ç½®åˆ—è¡¨ ã€‚</p></td></tr></tbody></table>

ä»¥ä¸‹ç±»æ˜¾ç¤ºæ­£åœ¨ä½¿ç”¨çš„`@DataMongoTest`æ³¨é‡Šï¼š

```
import org.junit.runner.RunWith;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTest;
import org.springframework.data.mongodb.core.MongoTemplate;
import org.springframework.test.context.junit4.SpringRunner;

_@RunWith(SpringRunner.class)_
_@DataMongoTest_
public class ExampleDataMongoTests {

	_@Autowired_
	private MongoTemplate mongoTemplate;

	//
}
```

å†…å­˜ä¸­åµŒå…¥å¼MongoDBé€šå¸¸é€‚ç”¨äºæµ‹è¯•ï¼Œå› ä¸ºå®ƒé€Ÿåº¦å¿«ï¼Œä¸éœ€è¦ä»»ä½•å¼€å‘äººå‘˜å®‰è£…ã€‚ä½†æ˜¯ï¼Œå¦‚æœæ‚¨æ›´å–œæ¬¢å¯¹çœŸæ­£çš„MongoDBæœåŠ¡å™¨è¿è¡Œæµ‹è¯•ï¼Œåˆ™åº”æ’é™¤åµŒå…¥å¼MongoDBè‡ªåŠ¨é…ç½®ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
import org.junit.runner.RunWith;
 import org.springframework.boot.autoconfigure.mongo.embedded.EmbeddedMongoAutoConfiguration;
import org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTest;
import org.springframework.test.context.junit4.SpringRunner;

_@RunWith(SpringRunner.class)_
_@DataMongoTest(excludeAutoConfiguration = EmbeddedMongoAutoConfiguration.class)_
public class ExampleDataMongoNonEmbeddedTests {

}
```

### 45.3.17è‡ªåŠ¨é…ç½®çš„æ•°æ®Neo4jæµ‹è¯•

æ‚¨å¯ä»¥ä½¿ç”¨`@DataNeo4jTest`æ¥æµ‹è¯•Neo4jåº”ç”¨ç¨‹åºã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒä½¿ç”¨å†…å­˜ä¸­åµŒå…¥å¼Neo4jï¼ˆå¦‚æœåµŒå…¥å¼é©±åŠ¨ç¨‹åºå¯ç”¨ï¼‰ï¼Œæ‰«æ`@NodeEntity`ç±»ï¼Œå¹¶é…ç½®Spring Data Neo4jå­˜å‚¨åº“ã€‚å¸¸è§„`@Component` beansæœªåŠ è½½åˆ°`ApplicationContext`ã€‚ï¼ˆæœ‰å…³ä½¿ç”¨å¸¦æœ‰Spring Bootçš„Neo4Jçš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…æœ¬ç« å‰é¢çš„â€œ [ç¬¬31.3èŠ‚â€ï¼Œâ€œNeo4jâ€](#boot-features-neo4j "31.3 Neo4j")ã€‚ï¼‰

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¯ä»¥<a class="link" href="#test-auto-configuration" title="é™„å½•D.æµ‹è¯•è‡ªåŠ¨é…ç½®æ³¨é‡Š">åœ¨é™„å½•ä¸­æ‰¾åˆ°</a> <code class="literal" i="2112">@DataNeo4jTest</code>å¯ç”¨çš„è‡ªåŠ¨é…ç½®è®¾ç½®åˆ—è¡¨ ã€‚</p></td></tr></tbody></table>

ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†åœ¨Spring Bootä¸­ä½¿ç”¨Neo4Jæµ‹è¯•çš„å…¸å‹è®¾ç½®ï¼š

```
import org.junit.runner.RunWith;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.autoconfigure.data.neo4j.DataNeo4jTest;
import org.springframework.test.context.junit4.SpringRunner;

_@RunWith(SpringRunner.class)_
_@DataNeo4jTest_
public class ExampleDataNeo4jTests {

	_@Autowired_
	private YourRepository repository;

	//
}
```

é»˜è®¤æƒ…å†µä¸‹ï¼ŒData Neo4jæµ‹è¯•æ˜¯äº‹åŠ¡æ€§çš„ï¼Œå¹¶åœ¨æ¯æ¬¡æµ‹è¯•ç»“æŸæ—¶å›æ»šã€‚æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…Springæ¡†æ¶å‚è€ƒæ–‡æ¡£ä¸­çš„[ç›¸å…³éƒ¨åˆ†](https://docs.spring.io/spring/docs/5.1.3.RELEASE/spring-framework-reference/testing.html#testcontext-tx-enabling-transactions)ã€‚å¦‚æœè¿™ä¸æ˜¯æ‚¨æƒ³è¦çš„ï¼Œæ‚¨å¯ä»¥ç¦ç”¨æµ‹è¯•æˆ–æ•´ä¸ªç±»çš„äº‹åŠ¡ç®¡ç†ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.boot.test.autoconfigure.data.neo4j.DataNeo4jTest;
import org.springframework.test.context.junit4.SpringRunner;
import org.springframework.transaction.annotation.Propagation;
import org.springframework.transaction.annotation.Transactional;

_@RunWith(SpringRunner.class)_
_@DataNeo4jTest_
_@Transactional(propagation = Propagation.NOT_SUPPORTED)_
public class ExampleNonTransactionalTests {

}
```

### 45.3.18è‡ªåŠ¨é…ç½®çš„æ•°æ®Redisæµ‹è¯•

æ‚¨å¯ä»¥ä½¿ç”¨`@DataRedisTest`æ¥æµ‹è¯•Redisåº”ç”¨ç¨‹åºã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒä¼šæ‰«æ`@RedisHash`ç±»å¹¶é…ç½®Spring Data Rediså­˜å‚¨åº“ã€‚å¸¸è§„`@Component` beansæœªåŠ è½½åˆ°`ApplicationContext`ã€‚ï¼ˆæœ‰å…³å°†Redisä¸Spring Bootä¸€èµ·ä½¿ç”¨çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…æœ¬ç« å‰é¢çš„â€œ [ç¬¬31.1èŠ‚â€ï¼Œâ€œ37 /}â€](#boot-features-redis "31.1 Redis")ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¯ä»¥<a class="link" href="#test-auto-configuration" title="é™„å½•D.æµ‹è¯•è‡ªåŠ¨é…ç½®æ³¨é‡Š">åœ¨é™„å½•ä¸­æ‰¾åˆ°</a> <code class="literal" i="2117">@DataRedisTest</code>å¯ç”¨çš„è‡ªåŠ¨é…ç½®è®¾ç½®åˆ—è¡¨ ã€‚</p></td></tr></tbody></table>

ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºæ­£åœ¨ä½¿ç”¨çš„`@DataRedisTest`æ³¨é‡Šï¼š

```
import org.junit.runner.RunWith;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.autoconfigure.data.redis.DataRedisTest;
import org.springframework.test.context.junit4.SpringRunner;

_@RunWith(SpringRunner.class)_
_@DataRedisTest_
public class ExampleDataRedisTests {

	_@Autowired_
	private YourRepository repository;

	//
}
```

### 45.3.19è‡ªåŠ¨é…ç½®çš„æ•°æ®LDAPæµ‹è¯•

æ‚¨å¯ä»¥ä½¿ç”¨`@DataLdapTest`æ¥æµ‹è¯•LDAPåº”ç”¨ç¨‹åºã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒé…ç½®å†…å­˜ä¸­åµŒå…¥å¼LDAPï¼ˆå¦‚æœå¯ç”¨ï¼‰ï¼Œé…ç½®`LdapTemplate`ï¼Œæ‰«æ`@Entry`ç±»ï¼Œå¹¶é…ç½®Springæ•°æ®LDAPå­˜å‚¨åº“ã€‚å¸¸è§„`@Component` beansæœªåŠ è½½åˆ°`ApplicationContext`ã€‚ï¼ˆæœ‰å…³å°†LDAPä¸Spring Bootä¸€èµ·ä½¿ç”¨çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…æœ¬ç« å‰é¢çš„â€œ [ç¬¬31.9èŠ‚â€ï¼Œâ€œLDAPâ€](#boot-features-ldap "31.9 LDAP")ã€‚ï¼‰

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¯ä»¥<a class="link" href="#test-auto-configuration" title="é™„å½•D.æµ‹è¯•è‡ªåŠ¨é…ç½®æ³¨é‡Š">åœ¨é™„å½•ä¸­æ‰¾åˆ°</a> <code class="literal" i="2124">@DataLdapTest</code>å¯ç”¨çš„è‡ªåŠ¨é…ç½®è®¾ç½®åˆ—è¡¨ ã€‚</p></td></tr></tbody></table>

ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºæ­£åœ¨ä½¿ç”¨çš„`@DataLdapTest`æ³¨é‡Šï¼š

```
import org.junit.runner.RunWith;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.autoconfigure.data.ldap.DataLdapTest;
import org.springframework.ldap.core.LdapTemplate;
import org.springframework.test.context.junit4.SpringRunner;

_@RunWith(SpringRunner.class)_
_@DataLdapTest_
public class ExampleDataLdapTests {

	_@Autowired_
	private LdapTemplate ldapTemplate;

	//
}
```

å†…å­˜ä¸­åµŒå…¥å¼LDAPé€šå¸¸é€‚ç”¨äºæµ‹è¯•ï¼Œå› ä¸ºå®ƒé€Ÿåº¦å¿«ï¼Œä¸éœ€è¦ä»»ä½•å¼€å‘äººå‘˜å®‰è£…ã€‚ä½†æ˜¯ï¼Œå¦‚æœæ‚¨å¸Œæœ›é’ˆå¯¹çœŸå®LDAPæœåŠ¡å™¨è¿è¡Œæµ‹è¯•ï¼Œåˆ™åº”æ’é™¤åµŒå…¥å¼LDAPè‡ªåŠ¨é…ç½®ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
import org.junit.runner.RunWith;
import org.springframework.boot.autoconfigure.ldap.embedded.EmbeddedLdapAutoConfiguration;
import org.springframework.boot.test.autoconfigure.data.ldap.DataLdapTest;
import org.springframework.test.context.junit4.SpringRunner;

_@RunWith(SpringRunner.class)_
_@DataLdapTest(excludeAutoConfiguration = EmbeddedLdapAutoConfiguration.class)_
public class ExampleDataLdapNonEmbeddedTests {

}
```

### 45.3.20è‡ªåŠ¨é…ç½®çš„RESTå®¢æˆ·ç«¯

æ‚¨å¯ä»¥ä½¿ç”¨`@RestClientTest`æ³¨é‡Šæ¥æµ‹è¯•RESTå®¢æˆ·ç«¯ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒä¼šè‡ªåŠ¨é…ç½®Jacksonï¼ŒGSONå’ŒJsonbæ”¯æŒï¼Œé…ç½®`RestTemplateBuilder`ï¼Œå¹¶æ·»åŠ å¯¹`MockRestServiceServer`çš„æ”¯æŒã€‚å¸¸è§„`@Component` beansæœªåŠ è½½åˆ°`ApplicationContext`ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¯ä»¥<a class="link" href="#test-auto-configuration" title="é™„å½•D.æµ‹è¯•è‡ªåŠ¨é…ç½®æ³¨é‡Š">åœ¨é™„å½•ä¸­æ‰¾åˆ°</a> <code class="literal" i="2131">@RestClientTest</code>å¯ç”¨çš„è‡ªåŠ¨é…ç½®è®¾ç½®åˆ—è¡¨ã€‚</p></td></tr></tbody></table>

åº”ä½¿ç”¨`@RestClientTest`çš„`value`æˆ–`components`å±æ€§æŒ‡å®šè¦æµ‹è¯•çš„ç‰¹å®šbeansï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
_@RunWith(SpringRunner.class)_
_@RestClientTest(RemoteVehicleDetailsService.class)_
public class ExampleRestClientTest {

	_@Autowired_
	private RemoteVehicleDetailsService service;

	_@Autowired_
	private MockRestServiceServer server;

	_@Test_
	public void getVehicleDetailsWhenResultIsSuccessShouldReturnDetails()
			throws Exception {
		this.server.expect(requestTo("/greet/details"))
				.andRespond(withSuccess("hello", MediaType.TEXT_PLAIN));
		String greeting = this.service.callRestService();
		assertThat(greeting).isEqualTo("hello");
	}

}
```

### 45.3.21è‡ªåŠ¨é…ç½®çš„Spring RESTæ–‡æ¡£æµ‹è¯•

æ‚¨å¯ä»¥ä½¿ç”¨`@AutoConfigureRestDocs`æ³¨é‡Šåœ¨Mock MVCï¼ŒREST Assuredæˆ–WebTestClientçš„æµ‹è¯•ä¸­ä½¿ç”¨[Spring REST Docs](https://projects.spring.io/spring-restdocs/)ã€‚å®ƒæ¶ˆé™¤äº†å¯¹Spring REST Docsä¸­JUnitè§„åˆ™çš„éœ€æ±‚ã€‚

`@AutoConfigureRestDocs`å¯ç”¨äºè¦†ç›–é»˜è®¤è¾“å‡ºç›®å½•ï¼ˆå¦‚æœæ‚¨ä½¿ç”¨Mavenï¼Œåˆ™ä¸º`target/generated-snippets`;å¦‚æœæ‚¨ä½¿ç”¨Gradleï¼Œåˆ™ä¸º`build/generated-snippets`ï¼‰ã€‚å®ƒè¿˜å¯ç”¨äºé…ç½®å‡ºç°åœ¨ä»»ä½•å·²è®°å½•çš„URIä¸­çš„ä¸»æœºï¼Œæ–¹æ¡ˆå’Œç«¯å£ã€‚

#### ä½¿ç”¨Mock MVCè‡ªåŠ¨é…ç½®Spring RESTæ–‡æ¡£æµ‹è¯•

`@AutoConfigureRestDocs`è‡ªå®šä¹‰`MockMvc` beanä»¥ä½¿ç”¨Spring RESTæ–‡æ¡£ã€‚æ‚¨å¯ä»¥ä½¿ç”¨`@Autowired`æ³¨å…¥å®ƒå¹¶åœ¨æµ‹è¯•ä¸­ä½¿ç”¨å®ƒï¼Œå°±åƒä½¿ç”¨Mock MVCå’ŒSpring REST Docsæ—¶ä¸€æ ·ï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤ºï¼š

```
import org.junit.Test;
import org.junit.runner.RunWith;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;
import org.springframework.http.MediaType;
import org.springframework.test.context.junit4.SpringRunner;
import org.springframework.test.web.servlet.MockMvc;

import static org.springframework.restdocs.mockmvc.MockMvcRestDocumentation.document;
import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;
import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;

_@RunWith(SpringRunner.class)_
_@WebMvcTest(UserController.class)_
_@AutoConfigureRestDocs_
public class UserDocumentationTests {

	_@Autowired_
	private MockMvc mvc;

	_@Test_
	public void listUsers() throws Exception {
		this.mvc.perform(get("/users").accept(MediaType.TEXT_PLAIN))
				.andExpect(status().isOk())
				.andDo(document("list-users"));
	}

}
```

å¦‚æœæ‚¨éœ€è¦å¯¹Spring REST Docsé…ç½®çš„æ›´å¤šæ§åˆ¶ï¼Œè€Œä¸æ˜¯`@AutoConfigureRestDocs`å±æ€§æä¾›çš„æ§åˆ¶ï¼Œåˆ™å¯ä»¥ä½¿ç”¨`RestDocsMockMvcConfigurationCustomizer` beanï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
_@TestConfiguration_
static class CustomizationConfiguration
		implements RestDocsMockMvcConfigurationCustomizer {

	_@Override_
	public void customize(MockMvcRestDocumentationConfigurer configurer) {
		configurer.snippets().withTemplateFormat(TemplateFormats.markdown());
	}

}
```

å¦‚æœè¦å¯¹å‚æ•°åŒ–è¾“å‡ºç›®å½•ä½¿ç”¨Spring REST Docsæ”¯æŒï¼Œå¯ä»¥åˆ›å»º`RestDocumentationResultHandler` beanã€‚è‡ªåŠ¨é…ç½®ä½¿ç”¨æ­¤ç»“æœå¤„ç†ç¨‹åºè°ƒç”¨`alwaysDo`ï¼Œä»è€Œå¯¼è‡´æ¯ä¸ª`MockMvc`è°ƒç”¨è‡ªåŠ¨ç”Ÿæˆé»˜è®¤ä»£ç æ®µã€‚ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºæ­£åœ¨å®šä¹‰çš„`RestDocumentationResultHandler`ï¼š

```
_@TestConfiguration_
static class ResultHandlerConfiguration {

	_@Bean_
	public RestDocumentationResultHandler restDocumentation() {
		return MockMvcRestDocumentation.document("{method-name}");
	}

}
```

#### ä½¿ç”¨REST Assuredè‡ªåŠ¨é…ç½®Spring RESTæ–‡æ¡£æµ‹è¯•

`@AutoConfigureRestDocs`ç”Ÿæˆ`RequestSpecification` beanï¼Œé¢„å…ˆé…ç½®ä¸ºä½¿ç”¨Spring RESTæ–‡æ¡£ï¼Œå¯ç”¨äºæ‚¨çš„æµ‹è¯•ã€‚æ‚¨å¯ä»¥ä½¿ç”¨`@Autowired`æ³¨å…¥å®ƒå¹¶åœ¨æµ‹è¯•ä¸­ä½¿ç”¨å®ƒï¼Œå°±åƒä½¿ç”¨REST Assuredå’ŒSpring REST Docsæ—¶ä¸€æ ·ï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤ºï¼š

```
import io.restassured.specification.RequestSpecification;
import org.junit.Test;
import org.junit.runner.RunWith;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.autoconfigure.restdocs.AutoConfigureRestDocs;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.boot.test.context.SpringBootTest.WebEnvironment;
import org.springframework.boot.web.server.LocalServerPort;
import org.springframework.test.context.junit4.SpringRunner;

import static io.restassured.RestAssured.given;
import static org.hamcrest.CoreMatchers.is;
import static org.springframework.restdocs.restassured3.RestAssuredRestDocumentation.document;

_@RunWith(SpringRunner.class)_
_@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)_
_@AutoConfigureRestDocs_
public class UserDocumentationTests {

	_@LocalServerPort_
	private int port;

	_@Autowired_
	private RequestSpecification documentationSpec;

	_@Test_
	public void listUsers() {
		given(this.documentationSpec).filter(document("list-users")).when()
				.port(this.port).get("/").then().assertThat().statusCode(is(200));
	}

}
```

å¦‚æœæ‚¨éœ€è¦å¯¹Spring REST Docsé…ç½®è¿›è¡Œæ›´å¤šæ§åˆ¶ï¼Œè€Œä¸æ˜¯`@AutoConfigureRestDocs`å±æ€§æä¾›çš„æ§åˆ¶ï¼Œåˆ™å¯ä»¥ä½¿ç”¨`RestDocsRestAssuredConfigurationCustomizer` beanï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
_@TestConfiguration_
public static class CustomizationConfiguration
		implements RestDocsRestAssuredConfigurationCustomizer {

	_@Override_
	public void customize(RestAssuredRestDocumentationConfigurer configurer) {
		configurer.snippets().withTemplateFormat(TemplateFormats.markdown());
	}

}
```

### 45.3.22é™„åŠ è‡ªåŠ¨é…ç½®å’Œåˆ‡ç‰‡

æ¯ä¸ªåˆ‡ç‰‡æä¾›ä¸€ä¸ªæˆ–å¤šä¸ª`@AutoConfigureâ€¦â€‹`æ³¨é‡Šï¼Œå³å®šä¹‰åº”ä½œä¸ºåˆ‡ç‰‡çš„ä¸€éƒ¨åˆ†åŒ…æ‹¬çš„è‡ªåŠ¨é…ç½®ã€‚å¯ä»¥é€šè¿‡åˆ›å»ºè‡ªå®šä¹‰`@AutoConfigureâ€¦â€‹`æ³¨é‡Šæˆ–ä»…é€šè¿‡å‘æµ‹è¯•æ·»åŠ `@ImportAutoConfiguration`æ¥æ·»åŠ å…¶ä»–è‡ªåŠ¨é…ç½®ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
_@RunWith(SpringRunner.class)_
_@JdbcTest_
_@ImportAutoConfiguration(IntegrationAutoConfiguration.class)_
public class ExampleJdbcTests {

}
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>ç¡®ä¿ä¸ä½¿ç”¨å¸¸è§„<code class="literal" i="2156">@Import</code>æ³¨é‡Šæ¥å¯¼å…¥è‡ªåŠ¨é…ç½®ï¼Œå› ä¸ºSpring Bootä»¥ç‰¹å®šæ–¹å¼å¤„ç†å®ƒä»¬ã€‚</p></td></tr></tbody></table>

### 45.3.23ç”¨æˆ·é…ç½®å’Œåˆ‡ç‰‡

å¦‚æœä»¥åˆç†çš„æ–¹å¼[æ„é€ ä»£ç ](#using-boot-structuring-your-code "14.æ„å»ºæ‚¨çš„ä»£ç ")ï¼Œ[é»˜è®¤æƒ…å†µä¸‹](#boot-features-testing-spring-boot-applications-detecting-config "45.3.2æ£€æµ‹æµ‹è¯•é…ç½®")ä¼š[ä½¿ç”¨](#boot-features-testing-spring-boot-applications-detecting-config "45.3.2Â Detecting Test Configuration") `@SpringBootApplication`ç±» ä½œä¸ºæµ‹è¯•çš„é…ç½®ã€‚

ç„¶åï¼Œé‡è¦çš„æ˜¯ä¸è¦ä½¿ç”¨ç‰¹å®šäºå…¶åŠŸèƒ½çš„ç‰¹å®šåŒºåŸŸçš„é…ç½®è®¾ç½®æ¥ä¸¢å¼ƒåº”ç”¨ç¨‹åºçš„ä¸»ç±»ã€‚

å‡è®¾æ‚¨æ­£åœ¨ä½¿ç”¨Spring Batchï¼Œå¹¶ä¾èµ–äºå®ƒçš„è‡ªåŠ¨é…ç½®ã€‚æ‚¨å¯ä»¥æŒ‰å¦‚ä¸‹æ–¹å¼å®šä¹‰`@SpringBootApplication`ï¼š

```
_@SpringBootApplication_
_@EnableBatchProcessing_
public class SampleApplication { ... }
```

å› ä¸ºæ­¤ç±»æ˜¯æµ‹è¯•çš„æºé…ç½®ï¼Œæ‰€ä»¥ä»»ä½•åˆ‡ç‰‡æµ‹è¯•å®é™…ä¸Šéƒ½ä¼šå°è¯•å¯åŠ¨Spring Batchï¼Œè¿™ç»å¯¹ä¸æ˜¯æ‚¨æƒ³è¦åšçš„ã€‚å»ºè®®çš„æ–¹æ³•æ˜¯å°†ç‰¹å®šäºåŒºåŸŸçš„é…ç½®ç§»åŠ¨åˆ°ä¸åº”ç”¨ç¨‹åºç›¸åŒçº§åˆ«çš„å•ç‹¬`@Configuration`ç±»ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
_@Configuration_
_@EnableBatchProcessing_
public class BatchConfiguration { ... }
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>æ ¹æ®åº”ç”¨ç¨‹åºçš„å¤æ‚ç¨‹åº¦ï¼Œæ‚¨å¯èƒ½åªæœ‰ä¸€ä¸ª<code class="literal" i="2160">@Configuration</code>ç±»ç”¨äºè‡ªå®šä¹‰ï¼Œæˆ–è€…æ¯ä¸ªåŸŸåŒºåŸŸæœ‰ä¸€ä¸ªç±»ã€‚åä¸€ç§æ–¹æ³•å…è®¸æ‚¨åœ¨å¿…è¦æ—¶ä½¿ç”¨<code class="literal" i="2161">@Import</code>æ³¨é‡Šåœ¨å…¶ä¸­ä¸€ä¸ªæµ‹è¯•ä¸­å¯ç”¨å®ƒã€‚</p></td></tr></tbody></table>

æ··æ·†çš„å¦ä¸€ä¸ªåŸå› æ˜¯ç±»è·¯å¾„æ‰«æã€‚å‡è®¾æ‚¨ä»¥åˆç†çš„æ–¹å¼æ„å»ºä»£ç ï¼Œåˆ™éœ€è¦æ‰«æå…¶ä»–åŒ…ã€‚æ‚¨çš„åº”ç”¨ç¨‹åºå¯èƒ½ç±»ä¼¼äºä»¥ä¸‹ä»£ç ï¼š

```
_@SpringBootApplication_
_@ComponentScan({ "com.example.app", "org.acme.another" })_
public class SampleApplication { ... }
```

è¿™æ ·åšä¼šæœ‰æ•ˆåœ°è¦†ç›–é»˜è®¤çš„ç»„ä»¶æ‰«ææŒ‡ä»¤ï¼Œæ— è®ºæ‚¨é€‰æ‹©å“ªä¸ªåˆ‡ç‰‡ï¼Œéƒ½ä¼šæ‰«æè¿™ä¸¤ä¸ªåŒ…ã€‚ä¾‹å¦‚ï¼Œ`@DataJpaTest`ä¼¼ä¹çªç„¶æ‰«æåº”ç”¨ç¨‹åºçš„ç»„ä»¶å’Œç”¨æˆ·é…ç½®ã€‚åŒæ ·ï¼Œå°†è‡ªå®šä¹‰æŒ‡ä»¤ç§»åŠ¨åˆ°å•ç‹¬çš„ç±»æ˜¯è§£å†³æ­¤é—®é¢˜çš„å¥½æ–¹æ³•ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¦‚æœè¿™ä¸æ˜¯æ‚¨çš„é€‰é¡¹ï¼Œæ‚¨å¯ä»¥åœ¨æµ‹è¯•çš„å±‚æ¬¡ç»“æ„ä¸­çš„æŸå¤„åˆ›å»ºä¸€ä¸ª<code class="literal" i="2163">@SpringBootConfiguration</code>ï¼Œä»¥ä¾¿ä½¿ç”¨å®ƒã€‚æˆ–è€…ï¼Œæ‚¨å¯ä»¥ä¸ºæµ‹è¯•æŒ‡å®šæºï¼Œè¿™ä¼šç¦ç”¨æŸ¥æ‰¾é»˜è®¤æºçš„è¡Œä¸ºã€‚</p></td></tr></tbody></table>

### 45.3.24ä½¿ç”¨Spockæµ‹è¯•Spring Bootåº”ç”¨ç¨‹åº

å¦‚æœæ‚¨å¸Œæœ›ä½¿ç”¨Spockæ¥æµ‹è¯•Spring Bootåº”ç”¨ç¨‹åºï¼Œæ‚¨åº”è¯¥å°†Spockçš„`spock-spring`æ¨¡å—çš„ä¾èµ–é¡¹æ·»åŠ åˆ°æ‚¨çš„åº”ç”¨ç¨‹åºçš„æ„å»ºä¸­ã€‚`spock-spring`å°†Springçš„æµ‹è¯•æ¡†æ¶é›†æˆåˆ°Spockä¸­ã€‚å»ºè®®æ‚¨ä½¿ç”¨Spock 1.2æˆ–æ›´é«˜ç‰ˆæœ¬ä»Spockçš„Springæ¡†æ¶å’ŒSpring Booté›†æˆçš„è®¸å¤šæ”¹è¿›ä¸­å—ç›Šã€‚æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…[Spockçš„Springæ¨¡å—çš„æ–‡æ¡£](http://spockframework.org/spock/docs/1.2/modules.html#_spring_module)ã€‚

45.4æµ‹è¯•å®ç”¨ç¨‹åº
----------

æµ‹è¯•åº”ç”¨ç¨‹åºæ—¶é€šå¸¸æœ‰ç”¨çš„ä¸€äº›æµ‹è¯•å®ç”¨ç¨‹åºç±»æ‰“åŒ…ä¸º`spring-boot`çš„ä¸€éƒ¨åˆ†ã€‚

### 45.4.1 ConfigFileApplicationContextInitializer

`ConfigFileApplicationContextInitializer`æ˜¯`ApplicationContextInitializer`ï¼Œæ‚¨å¯ä»¥å°†å…¶åº”ç”¨äºæµ‹è¯•ä»¥åŠ è½½Spring Boot `application.properties`ä¸ªæ–‡ä»¶ã€‚å½“æ‚¨ä¸éœ€è¦`@SpringBootTest`æä¾›çš„å…¨éƒ¨åŠŸèƒ½æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å®ƒï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
@ContextConfiguration(classes = Config.class,
	initializers = ConfigFileApplicationContextInitializer.class)
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>ä»…ä½¿ç”¨<code class="literal" i="2171">ConfigFileApplicationContextInitializer</code>ä¸èƒ½ä¸º<code class="literal" i="2172">@Value("${â€¦â€‹}")</code>æ³¨å°„æä¾›æ”¯æŒã€‚å®ƒå”¯ä¸€çš„å·¥ä½œæ˜¯ç¡®ä¿å°†<code class="literal" i="2173">application.properties</code>ä¸ªæ–‡ä»¶åŠ è½½åˆ°Springçš„<code class="literal" i="2174">Environment</code>ä¸­ã€‚å¯¹äº<code class="literal" i="2175">@Value</code>æ”¯æŒï¼Œæ‚¨éœ€è¦å¦å¤–é…ç½®<code class="literal" i="2176">PropertySourcesPlaceholderConfigurer</code>æˆ–ä½¿ç”¨<code class="literal" i="2177">@SpringBootTest</code>ï¼Œå®ƒä¼šä¸ºæ‚¨è‡ªåŠ¨é…ç½®ä¸€ä¸ªã€‚</p></td></tr></tbody></table>

### 45.4.2 TestPropertyValues

`TestPropertyValues`å¯è®©æ‚¨å¿«é€Ÿå‘`ConfigurableEnvironment`æˆ–`ConfigurableApplicationContext`æ·»åŠ å±æ€§ã€‚æ‚¨å¯ä»¥ä½¿ç”¨`key=value`å­—ç¬¦ä¸²è°ƒç”¨å®ƒï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
TestPropertyValues.of("org=Spring", ").applyTo(env);
```

### 45.4.3 OutputCapture

`OutputCapture`æ˜¯ä¸€ä¸ªJUnit `Rule`ï¼Œå¯ç”¨äºæ•è·`System.out`å’Œ`System.err`è¾“å‡ºã€‚æ‚¨å¯ä»¥å°†æ•è·å£°æ˜ä¸º`@Rule`ï¼Œç„¶åä½¿ç”¨`toString()`è¿›è¡Œæ–­è¨€ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
import org.junit.Rule;
import org.junit.Test;
import org.springframework.boot.test.rule.OutputCapture;

import static org.hamcrest.Matchers.*;
import static org.junit.Assert.*;

public class MyTest {

	_@Rule_
	public OutputCapture capture = new OutputCapture();

	_@Test_
	public void testName() throws Exception {
		System.out.println("Hello World!");
		assertThat(capture.toString(), containsString("World"));
	}

}
```

### 45.4.4 TestRestTemplate

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>Spring Framework 5.0æä¾›äº†ä¸€ä¸ªæ–°çš„<code class="literal" i="2188">WebTestClient</code>ï¼Œé€‚ç”¨äº <a class="link" href="#boot-features-testing-spring-boot-applications-testing-autoconfigured-webflux-tests" title="45.3.11è‡ªåŠ¨é…ç½®çš„Spring WebFluxæµ‹è¯•">WebFluxé›†æˆæµ‹è¯•</a>ä»¥åŠ <a class="link" href="#boot-features-testing-spring-boot-applications-testing-with-running-server" title="45.3.5ä½¿ç”¨æ­£åœ¨è¿è¡Œçš„æœåŠ¡å™¨è¿›è¡Œæµ‹è¯•">WebFluxå’ŒMVCç«¯åˆ°ç«¯æµ‹è¯•</a>ã€‚ä¸<code class="literal" i="2189">TestRestTemplate</code>ä¸åŒï¼Œå®ƒä¸ºæ–­è¨€æä¾›äº†æµç•…çš„APIã€‚</p></td></tr></tbody></table>

`TestRestTemplate`æ˜¯Spring `RestTemplate`çš„ä¾¿åˆ©æ›¿ä»£å“ï¼Œå¯ç”¨äºé›†æˆæµ‹è¯•ã€‚æ‚¨å¯ä»¥è·å¾—ä¸€ä¸ªvanillaæ¨¡æ¿æˆ–ä¸€ä¸ªå‘é€åŸºæœ¬HTTPèº«ä»½éªŒè¯ï¼ˆä½¿ç”¨ç”¨æˆ·åå’Œå¯†ç ï¼‰çš„æ¨¡æ¿ã€‚åœ¨ä»»ä½•ä¸€ç§æƒ…å†µä¸‹ï¼Œæ¨¡æ¿éƒ½ä»¥ä¸€ç§æµ‹è¯•å‹å¥½çš„æ–¹å¼è¿è¡Œï¼Œä¸ä¼šåœ¨æœåŠ¡å™¨ç«¯é”™è¯¯ä¸ŠæŠ›å‡ºå¼‚å¸¸ã€‚å»ºè®®ï¼ˆä½†ä¸æ˜¯å¼ºåˆ¶æ€§çš„ï¼‰ä½¿ç”¨Apache HTTP Clientï¼ˆç‰ˆæœ¬4.3.2æˆ–æ›´é«˜ç‰ˆæœ¬ï¼‰ã€‚å¦‚æœæ‚¨åœ¨ç±»è·¯å¾„ä¸Šæœ‰è¿™ä¸ªï¼Œé‚£ä¹ˆ`TestRestTemplate`é€šè¿‡é€‚å½“åœ°é…ç½®å®¢æˆ·ç«¯æ¥å“åº”ã€‚å¦‚æœæ‚¨ç¡®å®ä½¿ç”¨Apacheçš„HTTPå®¢æˆ·ç«¯ï¼Œåˆ™å¯ç”¨ä¸€äº›å…¶ä»–æµ‹è¯•å‹å¥½åŠŸèƒ½ï¼š

*   ä¸éµå¾ªé‡å®šå‘ï¼ˆå› æ­¤æ‚¨å¯ä»¥æ–­è¨€å“åº”ä½ç½®ï¼‰ã€‚
*   Cookieè¢«å¿½ç•¥ï¼ˆå› æ­¤æ¨¡æ¿æ˜¯æ— çŠ¶æ€çš„ï¼‰ã€‚

`TestRestTemplate`å¯ä»¥ç›´æ¥åœ¨é›†æˆæµ‹è¯•ä¸­å®ä¾‹åŒ–ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
public class MyTest {

	private TestRestTemplate template = new TestRestTemplate();

	_@Test_
	public void testRequest() throws Exception {
		HttpHeaders headers = this.template.getForEntity(
				"http://myhost.example.com/example", String.class).getHeaders();
		assertThat(headers.getLocation()).hasHost("other.example.com");
	}

}
```

æˆ–è€…ï¼Œå¦‚æœæ‚¨å°†`@SpringBootTest`æ³¨é‡Šä¸`WebEnvironment.RANDOM_PORT`æˆ–`WebEnvironment.DEFINED_PORT`ä¸€èµ·ä½¿ç”¨ï¼Œåˆ™å¯ä»¥æ³¨å…¥å®Œå…¨é…ç½®çš„`TestRestTemplate`å¹¶å¼€å§‹ä½¿ç”¨å®ƒã€‚å¦‚æœ‰å¿…è¦ï¼Œå¯ä»¥é€šè¿‡`RestTemplateBuilder` beanåº”ç”¨å…¶ä»–è‡ªå®šä¹‰è®¾ç½®ã€‚ä»»ä½•æœªæŒ‡å®šä¸»æœºå’Œç«¯å£çš„URLéƒ½ä¼šè‡ªåŠ¨è¿æ¥åˆ°åµŒå…¥å¼æœåŠ¡å™¨ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
_@RunWith(SpringRunner.class)_
_@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)_
public class SampleWebClientTests {

	_@Autowired_
	private TestRestTemplate template;

	_@Test_
	public void testRequest() {
		HttpHeaders headers = this.template.getForEntity("/example", String.class)
				.getHeaders();
		assertThat(headers.getLocation()).hasHost("other.example.com");
	}

	_@TestConfiguration_
	static class Config {

		_@Bean_
		public RestTemplateBuilder restTemplateBuilder() {
			return new RestTemplateBuilder().setConnectTimeout(Duration.ofSeconds(1))
					.setReadTimeout(Duration.ofSeconds(1));
		}

	}

}
```

46. WebSockets

--------------

Spring Bootä¸ºåµŒå…¥å¼Tomcatï¼ŒJettyå’ŒUndertowæä¾›WebSocketsè‡ªåŠ¨é…ç½®ã€‚å¦‚æœå°†waræ–‡ä»¶éƒ¨ç½²åˆ°ç‹¬ç«‹å®¹å™¨ï¼Œåˆ™Spring Bootå‡å®šå®¹å™¨è´Ÿè´£å…¶WebSocketæ”¯æŒçš„é…ç½®ã€‚

Spring Framework ä¸ºMVC Webåº”ç”¨ç¨‹åºæä¾›äº†[ä¸°å¯Œçš„WebSocketæ”¯æŒ](https://docs.spring.io/spring/docs/5.1.3.RELEASE/spring-framework-reference/web.html#websocket)ï¼Œå¯ä»¥é€šè¿‡`spring-boot-starter-websocket`æ¨¡å—è½»æ¾è®¿é—®ã€‚

WebSocketæ”¯æŒä¹Ÿå¯ç”¨äº [å“åº”å¼Webåº”ç”¨ç¨‹åºï¼Œ](https://docs.spring.io/spring/docs/5.1.3.RELEASE/spring-framework-reference/web-reactive.html#webflux-websocket)å¹¶ä¸”éœ€è¦åœ¨`spring-boot-starter-webflux`æ—è¾¹åŒ…å«WebSocket APIï¼š

```
<dependency>
	<groupId>javax.websocket</groupId>
	<artifactId>javax.websocket-api</artifactId>
</dependency>
```

47.ç½‘ç»œæœåŠ¡
-------

Spring Bootæä¾›WebæœåŠ¡è‡ªåŠ¨é…ç½®ï¼Œå› æ­¤æ‚¨å¿…é¡»åšçš„å°±æ˜¯å®šä¹‰`Endpoints`ã€‚

è¯¥[Spring WebæœåŠ¡åŠŸèƒ½ï¼Œ](https://docs.spring.io/spring-ws/docs/3.0.4.RELEASE/reference/)å¯ä»¥ä¸`spring-boot-starter-webservices`æ¨¡å—å¯ä»¥è½»æ¾è®¿é—®ã€‚

å¯ä»¥åˆ†åˆ«ä¸ºæ‚¨çš„WSDLå’ŒXSDè‡ªåŠ¨åˆ›å»º`SimpleWsdl11Definition`å’Œ`SimpleXsdSchema` beansã€‚ä¸ºæ­¤ï¼Œè¯·é…ç½®å…¶ä½ç½®ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
spring.webservices.wsdl-locations=classpath:/wsdl
```

48.ä½¿ç”¨`WebServiceTemplate`è°ƒç”¨WebæœåŠ¡
--------------------------------

å¦‚æœéœ€è¦ä»åº”ç”¨ç¨‹åºè°ƒç”¨è¿œç¨‹WebæœåŠ¡ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ [`WebServiceTemplate`](https://docs.spring.io/spring-ws/docs/3.0.4.RELEASE/reference/#client-web-service-template)è¯¥ç±»ã€‚ç”±äº`WebServiceTemplate`å®ä¾‹åœ¨ä½¿ç”¨ä¹‹å‰é€šå¸¸éœ€è¦è¿›è¡Œè‡ªå®šä¹‰ï¼Œå› æ­¤Spring Bootä¸æä¾›ä»»ä½•å•ä¸ªè‡ªåŠ¨é…ç½®çš„`WebServiceTemplate` beanã€‚ä½†æ˜¯ï¼Œå®ƒä¼šè‡ªåŠ¨é…ç½®`WebServiceTemplateBuilder`ï¼Œå¯ç”¨äºåœ¨éœ€è¦æ—¶åˆ›å»º`WebServiceTemplate`å®ä¾‹ã€‚

ä»¥ä¸‹ä»£ç æ˜¾ç¤ºäº†ä¸€ä¸ªå…¸å‹ç¤ºä¾‹ï¼š

```
_@Service_
public class MyService {

	private final WebServiceTemplate webServiceTemplate;

	public MyService(WebServiceTemplateBuilder webServiceTemplateBuilder) {
		this.webServiceTemplate = webServiceTemplateBuilder.build();
	}

	public DetailsResp someWsCall(DetailsReq detailsReq) {
		 return (DetailsResp) this.webServiceTemplate.marshalSendAndReceive(detailsReq, new SoapActionCallback(ACTION));

	}

}
```

é»˜è®¤æƒ…å†µä¸‹ï¼Œ`WebServiceTemplateBuilder`ä½¿ç”¨ç±»è·¯å¾„ä¸Šçš„å¯ç”¨HTTPå®¢æˆ·ç«¯åº“æ£€æµ‹åˆ°åˆé€‚çš„åŸºäºHTTPçš„`WebServiceMessageSender`ã€‚æ‚¨è¿˜å¯ä»¥æŒ‰å¦‚ä¸‹æ–¹å¼è‡ªå®šä¹‰è¯»å–å’Œè¿æ¥è¶…æ—¶ï¼š

```
_@Bean_
public WebServiceTemplate webServiceTemplate(WebServiceTemplateBuilder builder) {
	return builder.messageSenders(new HttpWebServiceMessageSenderBuilder()
			.setConnectTimeout(5000).setReadTimeout(2000).build()).build();
}
```

49.åˆ›å»ºè‡ªå·±çš„è‡ªåŠ¨é…ç½®
------------

å¦‚æœæ‚¨åœ¨å¼€å‘å…±äº«åº“çš„å…¬å¸å·¥ä½œï¼Œæˆ–è€…æ‚¨åœ¨å¼€æºæˆ–å•†ä¸šåº“ä¸­å·¥ä½œï¼Œåˆ™å¯èƒ½éœ€è¦å¼€å‘è‡ªå·±çš„è‡ªåŠ¨é…ç½®ã€‚è‡ªåŠ¨é…ç½®ç±»å¯ä»¥æ†ç»‘åœ¨å¤–éƒ¨jarä¸­ï¼Œä»ç„¶å¯ä»¥é€šè¿‡Spring Bootè·å–ã€‚

è‡ªåŠ¨é…ç½®å¯ä»¥ä¸â€œå¯åŠ¨å™¨â€ç›¸å…³è”ï¼Œè¯¥å¯åŠ¨å™¨æä¾›è‡ªåŠ¨é…ç½®ä»£ç ä»¥åŠæ‚¨å°†ä½¿ç”¨å®ƒçš„å…¸å‹åº“ã€‚æˆ‘ä»¬é¦–å…ˆä»‹ç»äº†æ„å»ºè‡ªå·±çš„è‡ªåŠ¨é…ç½®éœ€è¦äº†è§£çš„å†…å®¹ï¼Œç„¶åæˆ‘ä»¬å°†ç»§ç»­ä»‹ç»[åˆ›å»ºè‡ªå®šä¹‰å¯åŠ¨å™¨æ‰€éœ€](#boot-features-custom-starter "49.5åˆ›å»ºè‡ªå·±çš„åˆå­¦è€…")çš„ [å…¸å‹æ­¥éª¤](#boot-features-custom-starter "49.5Â Creating Your Own Starter")ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¯ä»¥ä½¿ç”¨<a class="link" href="https://github.com/snicoll-demos/spring-boot-master-auto-configuration" target="_top">æ¼”ç¤ºé¡¹ç›®</a>æ¥å±•ç¤ºå¦‚ä½•é€æ­¥åˆ›å»ºå¯åŠ¨å™¨ã€‚</p></td></tr></tbody></table>

49.1äº†è§£è‡ªåŠ¨é…ç½®Beans
---------------

åœ¨å¼•æ“ç›–ä¸‹ï¼Œè‡ªåŠ¨é…ç½®ä½¿ç”¨æ ‡å‡†`@Configuration`ç±»å®ç°ã€‚é¢å¤–çš„`@Conditional`æ³¨é‡Šç”¨äºçº¦æŸä½•æ—¶åº”ç”¨è‡ªåŠ¨é…ç½®ã€‚é€šå¸¸ï¼Œè‡ªåŠ¨é…ç½®ç±»ä½¿ç”¨`@ConditionalOnClass`å’Œ`@ConditionalOnMissingBean`æ³¨é‡Šã€‚è¿™å¯ç¡®ä¿ä»…åœ¨æ‰¾åˆ°ç›¸å…³ç±»æ—¶ä»¥åŠæœªå£°æ˜è‡ªå·±çš„`@Configuration`æ—¶æ‰åº”ç”¨è‡ªåŠ¨é…ç½®ã€‚

æ‚¨å¯ä»¥æµè§ˆæºä»£ç [`spring-boot-autoconfigure`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure) ä»¥æŸ¥çœ‹Springæä¾›çš„`@Configuration`ç±»ï¼ˆè¯·å‚é˜… [`META-INF/spring.factories`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/resources/META-INF/spring.factories) æ–‡ä»¶ï¼‰ã€‚

49.2æ‰¾åˆ°è‡ªåŠ¨é…ç½®å€™é€‰è€…
-------------

Spring Bootæ£€æŸ¥å·²å‘å¸ƒjarä¸­æ˜¯å¦å­˜åœ¨`META-INF/spring.factories`æ–‡ä»¶ã€‚è¯¥æ–‡ä»¶åº”åœ¨`EnableAutoConfiguration`é”®ä¸‹åˆ—å‡ºæ‚¨çš„é…ç½®ç±»ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
org.springframework.boot.autoconfigure.EnableAutoConfiguration=\
com.mycorp.libx.autoconfigure.LibXAutoConfiguration,\
com.mycorp.libx.autoconfigure.LibXWebAutoConfiguration
```

å¦‚æœéœ€è¦æŒ‰ç‰¹å®šé¡ºåºåº”ç”¨é…ç½®ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ [`@AutoConfigureAfter`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/AutoConfigureAfter.java)æˆ– [`@AutoConfigureBefore`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/AutoConfigureBefore.java)æ³¨é‡Šã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æä¾›ç‰¹å®šäºWebçš„é…ç½®ï¼Œåˆ™å¯èƒ½éœ€è¦åœ¨`WebMvcAutoConfiguration`ä¹‹ååº”ç”¨æ‚¨çš„ç±»ã€‚

å¦‚æœæ‚¨æƒ³è®¢è´­æŸäº›ä¸åº”è¯¥å½¼æ­¤ç›´æ¥äº†è§£çš„è‡ªåŠ¨é…ç½®ï¼Œæ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨`@AutoConfigureOrder`ã€‚è¯¥æ³¨é‡Šä¸å¸¸è§„`@Order`æ³¨é‡Šå…·æœ‰ç›¸åŒçš„è¯­ä¹‰ï¼Œä½†ä¸ºè‡ªåŠ¨é…ç½®ç±»æä¾›äº†ä¸“ç”¨é¡ºåºã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>è‡ªåŠ¨é…ç½®ï¼Œå¿…é¡»åŠ è½½è¿™ç§æ–¹å¼<em>åª</em>ã€‚ç¡®ä¿å®ƒä»¬æ˜¯åœ¨ç‰¹å®šçš„åŒ…ç©ºé—´ä¸­å®šä¹‰çš„ï¼Œç‰¹åˆ«æ˜¯å®ƒä»¬æ°¸è¿œä¸æ˜¯ç»„ä»¶æ‰«æçš„ç›®æ ‡ã€‚</p></td></tr></tbody></table>

49.3æ¡ä»¶Annotations
-----------------

æ‚¨å‡ ä¹æ€»æ˜¯å¸Œæœ›åœ¨è‡ªåŠ¨é…ç½®ç±»ä¸­åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ª`@Conditional`æ³¨é‡Šã€‚`@ConditionalOnMissingBean`æ³¨é‡Šæ˜¯ä¸€ä¸ªå¸¸è§ç¤ºä¾‹ï¼Œç”¨äºå…è®¸å¼€å‘äººå‘˜åœ¨æ‚¨çš„é»˜è®¤å€¼ä¸æ»¡æ„æ—¶è¦†ç›–è‡ªåŠ¨é…ç½®ã€‚

Spring BootåŒ…å«è®¸å¤š`@Conditional`æ³¨é‡Šï¼Œæ‚¨å¯ä»¥é€šè¿‡æ³¨é‡Š`@Configuration`ç±»æˆ–å•ç‹¬çš„`@Bean`æ–¹æ³•åœ¨æ‚¨è‡ªå·±çš„ä»£ç ä¸­é‡ç”¨è¿™äº›æ³¨é‡Šã€‚è¿™äº›æ³¨é‡ŠåŒ…æ‹¬ï¼š

*   [ç¬¬49.3.1èŠ‚â€œç±»åˆ«æ¡ä»¶â€](#boot-features-class-conditions "49.3.1ç­‰çº§æ¡ä»¶")
*   [ç¬¬49.3.2èŠ‚ï¼Œâ€œBeanæ¡ä»¶â€](#boot-features-bean-conditions "49.3.2è±†ç±»æ¡ä»¶")
*   [ç¬¬49.3.3èŠ‚ï¼Œâ€œPropertyæ¡ä»¶â€](#boot-features-property-conditions "49.3.3è´¢äº§æ¡ä»¶")
*   [ç¬¬49.3.4èŠ‚â€œèµ„æºæ¡ä»¶â€](#boot-features-resource-conditions "49.3.4èµ„æºæ¡ä»¶")
*   [ç¬¬49.3.5èŠ‚â€œWebåº”ç”¨ç¨‹åºæ¡ä»¶â€](#boot-features-web-application-conditions "49.3.5 Webåº”ç”¨ç¨‹åºæ¡ä»¶")
*   [ç¬¬49.3.6èŠ‚â€œSpELè¡¨è¾¾æ¡ä»¶â€](#boot-features-spel-conditions "49.3.6 SpELè¡¨è¾¾æ¡ä»¶")

### 49.3.1ç­‰çº§æ¡ä»¶

`@ConditionalOnClass`å’Œ`@ConditionalOnMissingClass`æ³¨é‡Šå…è®¸æ ¹æ®ç‰¹å®šç±»çš„å­˜åœ¨ä¸å¦æ¥åŒ…å«é…ç½®ã€‚ç”±äºä½¿ç”¨[ASM](http://asm.ow2.org/)è§£ææ³¨é‡Šå…ƒæ•°æ®è¿™ä¸€äº‹å®ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨`value`å±æ€§æ¥å¼•ç”¨çœŸå®ç±»ï¼Œå³ä½¿è¯¥ç±»å®é™…ä¸Šå¯èƒ½ä¸ä¼šå‡ºç°åœ¨æ­£åœ¨è¿è¡Œçš„åº”ç”¨ç¨‹åºç±»è·¯å¾„ä¸­ã€‚å¦‚æœæ‚¨å¸Œæœ›ä½¿ç”¨`String`å€¼æŒ‡å®šç±»åï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨`name`å±æ€§ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¦‚æœæ‚¨ä½¿ç”¨<code class="literal" i="2233">@ConditionalOnClass</code>æˆ–<code class="literal" i="2234">@ConditionalOnMissingClass</code>ä½œä¸ºå…ƒæ³¨é‡Šçš„ä¸€éƒ¨åˆ†æ¥ç¼–å†™è‡ªå·±çš„ç»„åˆæ³¨é‡Šï¼Œåˆ™å¿…é¡»ä½¿ç”¨<code class="literal" i="2235">name</code>ä½œä¸ºå¼•ç”¨è¯¥ç±»çš„æƒ…å†µï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ä¸ä¼šå¤„ç†ã€‚</p></td></tr></tbody></table>

### 49.3.2 Beanæ¡ä»¶

`@ConditionalOnBean`å’Œ`@ConditionalOnMissingBean`æ³¨é‡Šå…è®¸æ ¹æ®ç‰¹å®šbeansçš„å­˜åœ¨ä¸å¦æ¥åŒ…æ‹¬beanã€‚æ‚¨å¯ä»¥ä½¿ç”¨`value`å±æ€§æŒ‰ç±»å‹æŒ‡å®šbeansï¼Œæˆ–ä½¿ç”¨`name`æŒ‰åç§°æŒ‡å®šbeansã€‚`search`å±æ€§å…è®¸æ‚¨é™åˆ¶æœç´¢beansæ—¶åº”è€ƒè™‘çš„`ApplicationContext`å±‚æ¬¡ç»“æ„ã€‚

ç½®äº`@Bean`æ–¹æ³•æ—¶ï¼Œç›®æ ‡ç±»å‹é»˜è®¤ä¸ºæ–¹æ³•çš„è¿”å›ç±»å‹ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
_@Configuration_
public class MyAutoConfiguration {

	_@Bean_
	_@ConditionalOnMissingBean_
	public MyService myService() { ... }

}
```

åœ¨å‰é¢çš„ç¤ºä¾‹ä¸­ï¼Œå¦‚æœ`ApplicationContext`ä¸­æœªåŒ…å«ç±»å‹`MyService`çš„beanï¼Œåˆ™å°†åˆ›å»º`myService` beanã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æ‚¨éœ€è¦éå¸¸å°å¿ƒæ·»åŠ beanå®šä¹‰çš„é¡ºåºï¼Œå› ä¸ºè¿™äº›æ¡ä»¶æ˜¯æ ¹æ®åˆ°ç›®å‰ä¸ºæ­¢å·²å¤„ç†çš„å†…å®¹è¿›è¡Œè¯„ä¼°çš„ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å»ºè®®ä»…å¯¹è‡ªåŠ¨é…ç½®ç±»ä½¿ç”¨<code class="literal" i="2246">@ConditionalOnBean</code>å’Œ<code class="literal" i="2247">@ConditionalOnMissingBean</code>æ³¨é‡Šï¼ˆå› ä¸ºè¿™äº›æ³¨é‡Šä¿è¯åœ¨æ·»åŠ ä»»ä½•ç”¨æˆ·å®šä¹‰çš„beanå®šä¹‰ååŠ è½½ï¼‰ã€‚</p></td></tr></tbody></table><table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p><code class="literal" i="2248">@ConditionalOnBean</code>å’Œ<code class="literal" i="2249">@ConditionalOnMissingBean</code>ä¸ä¼šé˜»æ­¢åˆ›å»º<code class="literal" i="2250">@Configuration</code>ç±»ã€‚åœ¨ç±»çº§åˆ«ä½¿ç”¨è¿™äº›æ¡ä»¶å’Œä½¿ç”¨æ³¨é‡Šæ ‡è®°æ¯ä¸ªåŒ…å«<code class="literal" i="2251">@Bean</code>æ–¹æ³•çš„å”¯ä¸€åŒºåˆ«æ˜¯ï¼Œå¦‚æœæ¡ä»¶ä¸åŒ¹é…ï¼Œå‰è€…ä¼šé˜»æ­¢å°†<code class="literal" i="2252">@Configuration</code>ç±»æ³¨å†Œä¸ºbeanã€‚</p></td></tr></tbody></table>

### 49.3.3 Propertyæ¡ä»¶

`@ConditionalOnProperty`æ³¨é‡Šå…è®¸åŸºäºSpring Environmentå±æ€§åŒ…å«é…ç½®ã€‚ä½¿ç”¨`prefix`å’Œ`name`å±æ€§æŒ‡å®šåº”æ£€æŸ¥çš„å±æ€§ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒåŒ¹é…å­˜åœ¨ä¸”ä¸ç­‰äº`false`çš„ä»»ä½•å±æ€§ã€‚æ‚¨è¿˜å¯ä»¥ä½¿ç”¨`havingValue`å’Œ`matchIfMissing`å±æ€§åˆ›å»ºæ›´é«˜çº§çš„æ£€æŸ¥ã€‚

### 49.3.4èµ„æºæ¡ä»¶

`@ConditionalOnResource`æ³¨é‡Šä»…åœ¨å­˜åœ¨ç‰¹å®šèµ„æºæ—¶æ‰å…è®¸é…ç½®ã€‚å¯ä»¥ä½¿ç”¨é€šå¸¸çš„Springçº¦å®šæ¥æŒ‡å®šèµ„æºï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š`file:/home/user/test.dat`ã€‚

### 49.3.5 Webåº”ç”¨ç¨‹åºæ¡ä»¶

`@ConditionalOnWebApplication`å’Œ`@ConditionalOnNotWebApplication`æ³¨é‡Šå…è®¸é…ç½®ï¼Œå…·ä½“å–å†³äºåº”ç”¨ç¨‹åºæ˜¯å¦ä¸ºâ€œWebåº”ç”¨ç¨‹åºâ€ã€‚Webåº”ç”¨ç¨‹åºæ˜¯ä½¿ç”¨Spring `WebApplicationContext`ï¼Œå®šä¹‰`session`èŒƒå›´æˆ–å…·æœ‰`StandardServletEnvironment`çš„ä»»ä½•åº”ç”¨ç¨‹åºã€‚

### 49.3.6 SpELè¡¨è¾¾æ¡ä»¶

`@ConditionalOnExpression`æ³¨é‡Šå…è®¸æ ¹æ®[SpELè¡¨è¾¾å¼](https://docs.spring.io/spring/docs/5.1.3.RELEASE/spring-framework-reference/core.html#expressions)çš„ç»“æœåŒ…å«é…ç½®ã€‚

49.4æµ‹è¯•è‡ªåŠ¨é…ç½®
----------

è‡ªåŠ¨é…ç½®å¯èƒ½å—è®¸å¤šå› ç´ çš„å½±å“ï¼šç”¨æˆ·é…ç½®ï¼ˆ`@Bean`å®šä¹‰å’Œ`Environment`è‡ªå®šä¹‰ï¼‰ï¼Œæ¡ä»¶è¯„ä¼°ï¼ˆå­˜åœ¨ç‰¹å®šåº“ï¼‰ç­‰ã€‚å…·ä½“è€Œè¨€ï¼Œæ¯ä¸ªæµ‹è¯•éƒ½åº”åˆ›å»ºä¸€ä¸ªå®šä¹‰è‰¯å¥½çš„`ApplicationContext`ï¼Œå®ƒä»£è¡¨è¿™äº›è‡ªå®šä¹‰çš„ç»„åˆã€‚`ApplicationContextRunner`æä¾›äº†å®ç°è¿™ä¸€ç›®æ ‡çš„å¥½æ–¹æ³•ã€‚

`ApplicationContextRunner`é€šå¸¸è¢«å®šä¹‰ä¸ºæµ‹è¯•ç±»çš„ä¸€ä¸ªå­—æ®µï¼Œç”¨äºæ”¶é›†åŸºæœ¬çš„é€šç”¨é…ç½®ã€‚ä»¥ä¸‹ç¤ºä¾‹ç¡®ä¿å§‹ç»ˆè°ƒç”¨`UserServiceAutoConfiguration`ï¼š

```
private final ApplicationContextRunner contextRunner = new ApplicationContextRunner()
		.withConfiguration(AutoConfigurations.of(UserServiceAutoConfiguration.class));
```

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¦‚æœå¿…é¡»å®šä¹‰å¤šä¸ªè‡ªåŠ¨é…ç½®ï¼Œåˆ™æ— éœ€æŒ‰ç…§ä¸è¿è¡Œåº”ç”¨ç¨‹åºæ—¶å®Œå…¨ç›¸åŒçš„é¡ºåºè°ƒç”¨å®ƒä»¬çš„å£°æ˜ã€‚</p></td></tr></tbody></table>

æ¯ä¸ªæµ‹è¯•éƒ½å¯ä»¥ä½¿ç”¨è¿è¡Œå™¨æ¥è¡¨ç¤ºç‰¹å®šçš„ç”¨ä¾‹ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢çš„ç¤ºä¾‹è°ƒç”¨ç”¨æˆ·é…ç½®ï¼ˆ`UserConfiguration`ï¼‰å¹¶æ£€æŸ¥è‡ªåŠ¨é…ç½®æ˜¯å¦æ­£ç¡®é€€å›ã€‚è°ƒç”¨`run`æä¾›äº†ä¸€ä¸ªå¯ä»¥ä¸`Assert4J`ä¸€èµ·ä½¿ç”¨çš„å›è°ƒä¸Šä¸‹æ–‡ã€‚

```
_@Test_
public void defaultServiceBacksOff() {
	this.contextRunner.withUserConfiguration(UserConfiguration.class)
			.run((context) -> {
				assertThat(context).hasSingleBean(UserService.class);
				assertThat(context.getBean(UserService.class)).isSameAs(
						context.getBean(UserConfiguration.class).myUserService());
			});
}

_@Configuration_
static class UserConfiguration {

	_@Bean_
	public UserService myUserService() {
		return new UserService("mine");
	}

}
```

ä¹Ÿå¯ä»¥è½»æ¾è‡ªå®šä¹‰`Environment`ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
_@Test_
public void serviceNameCanBeConfigured() {
	this.contextRunner.withPropertyValues("user.).run((context) -> {
		assertThat(context).hasSingleBean(UserService.class);
		assertThat(context.getBean(UserService.class).getName()).isEqualTo("test123");
	});
}
```

è·‘æ­¥è€…ä¹Ÿå¯ä»¥ç”¨æ¥æ˜¾ç¤º`ConditionEvaluationReport`ã€‚è¯¥æŠ¥å‘Šå¯ä»¥`INFO`æˆ–`DEBUG`çº§åˆ«æ‰“å°ã€‚ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºå¦‚ä½•ä½¿ç”¨`ConditionEvaluationReportLoggingListener`åœ¨è‡ªåŠ¨é…ç½®æµ‹è¯•ä¸­æ‰“å°æŠ¥è¡¨ã€‚

```
_@Test_
public void autoConfigTest {
	ConditionEvaluationReportLoggingListener initializer = new ConditionEvaluationReportLoggingListener(
			LogLevel.INFO);
	ApplicationContextRunner contextRunner = new ApplicationContextRunner()
			.withInitializer(initializer).run((context) -> {
					// Do something...
			});
}
```

### 49.4.1æ¨¡æ‹ŸWebä¸Šä¸‹æ–‡

å¦‚æœéœ€è¦æµ‹è¯•ä»…åœ¨Servletæˆ–Reactive Webåº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ä¸­è¿è¡Œçš„è‡ªåŠ¨é…ç½®ï¼Œè¯·åˆ†åˆ«ä½¿ç”¨`WebApplicationContextRunner`æˆ–`ReactiveWebApplicationContextRunner`ã€‚

### 49.4.2è¦†ç›–Classpath

è¿˜å¯ä»¥æµ‹è¯•åœ¨è¿è¡Œæ—¶ä¸å­˜åœ¨ç‰¹å®šç±»å’Œ/æˆ–åŒ…æ—¶å‘ç”Ÿçš„æƒ…å†µã€‚Spring Bootè£…æœ‰`FilteredClassLoader`ï¼Œå¯ä»¥å¾ˆå®¹æ˜“åœ°è¢«è·‘æ­¥è€…ä½¿ç”¨ã€‚åœ¨ä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å£°æ˜å¦‚æœä¸å­˜åœ¨`UserService`ï¼Œåˆ™ä¼šæ­£ç¡®ç¦ç”¨è‡ªåŠ¨é…ç½®ï¼š

```
_@Test_
public void serviceIsIgnoredIfLibraryIsNotPresent() {
	this.contextRunner.withClassLoader(new FilteredClassLoader(UserService.class))
			.run((context) -> assertThat(context).doesNotHaveBean("userService"));
}
```

49.5åˆ›å»ºè‡ªå·±çš„åˆå­¦è€…
------------

åº“çš„å®Œæ•´Spring Bootå¯åŠ¨å™¨å¯èƒ½åŒ…å«ä»¥ä¸‹ç»„ä»¶ï¼š

*   åŒ…å«è‡ªåŠ¨é…ç½®ä»£ç çš„`autoconfigure`æ¨¡å—ã€‚
*   `starter`æ¨¡å—ï¼Œå®ƒæä¾›å¯¹`autoconfigure`æ¨¡å—ä»¥åŠåº“çš„ä¾èµ–å…³ç³»ä»¥åŠé€šå¸¸æœ‰ç”¨çš„ä»»ä½•å…¶ä»–ä¾èµ–é¡¹ã€‚ç®€è€Œè¨€ä¹‹ï¼Œæ·»åŠ å¯åŠ¨å™¨åº”è¯¥æä¾›å¼€å§‹ä½¿ç”¨è¯¥åº“æ‰€éœ€çš„ä¸€åˆ‡ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¦‚æœæ‚¨ä¸éœ€è¦å°†è¿™ä¸¤ä¸ªé—®é¢˜åˆ†å¼€ï¼Œåˆ™å¯ä»¥å°†è‡ªåŠ¨é…ç½®ä»£ç å’Œä¾èµ–å…³ç³»ç®¡ç†ç»„åˆåœ¨ä¸€ä¸ªæ¨¡å—ä¸­ã€‚</p></td></tr></tbody></table>

### 49.5.1å‘½å

æ‚¨åº”è¯¥ç¡®ä¿ä¸ºæ‚¨çš„å¯åŠ¨å™¨æä¾›é€‚å½“çš„å‘½åç©ºé—´ã€‚å³ä½¿æ‚¨ä½¿ç”¨ä¸åŒçš„Maven `groupId`ï¼Œä¹Ÿä¸è¦ä½¿ç”¨`spring-boot`å¯åŠ¨æ¨¡å—åç§°ã€‚æˆ‘ä»¬å¯èƒ½ä¼šä¸ºæ‚¨å°†æ¥è‡ªåŠ¨é…ç½®çš„å†…å®¹æä¾›å®˜æ–¹æ”¯æŒã€‚

æ ¹æ®ç»éªŒï¼Œæ‚¨åº”è¯¥åœ¨å¯åŠ¨åå‘½åç»„åˆæ¨¡å—ã€‚ä¾‹å¦‚ï¼Œå‡è®¾æ‚¨æ­£åœ¨ä¸ºâ€œacmeâ€åˆ›å»ºå¯åŠ¨å™¨ï¼Œå¹¶ä¸”æ‚¨å°†è‡ªåŠ¨é…ç½®æ¨¡å—`acme-spring-boot-autoconfigure`å’Œå¯åŠ¨å™¨`acme-spring-boot-starter`å‘½åä¸ºã€‚å¦‚æœæ‚¨åªæœ‰ä¸€ä¸ªç»„åˆä¸¤è€…çš„æ¨¡å—ï¼Œè¯·å°†å…¶å‘½åä¸º`acme-spring-boot-starter`ã€‚

æ­¤å¤–ï¼Œå¦‚æœæ‚¨çš„å¯åŠ¨å™¨æä¾›é…ç½®å¯†é’¥ï¼Œè¯·ä¸ºå®ƒä»¬ä½¿ç”¨å”¯ä¸€çš„å‘½åç©ºé—´ã€‚ç‰¹åˆ«æ˜¯ï¼Œä¸è¦å°†å¯†é’¥åŒ…å«åœ¨Spring Bootä½¿ç”¨çš„åç§°ç©ºé—´ä¸­ï¼ˆä¾‹å¦‚`server`ï¼Œ`management`ï¼Œ`spring`ç­‰ï¼‰ã€‚å¦‚æœæ‚¨ä½¿ç”¨ç›¸åŒçš„å‘½åç©ºé—´ï¼Œæˆ‘ä»¬å°†æ¥å¯èƒ½ä¼šä»¥ç ´åæ‚¨çš„æ¨¡å—çš„æ–¹å¼ä¿®æ”¹è¿™äº›å‘½åç©ºé—´ã€‚

ç¡®ä¿ [è§¦å‘å…ƒæ•°æ®ç”Ÿæˆï¼Œ](#configuration-metadata-annotation-processor "B.3ä½¿ç”¨æ³¨é‡Šå¤„ç†å™¨ç”Ÿæˆè‡ªå·±çš„å…ƒæ•°æ®")ä»¥ä¾¿ä¸ºæ‚¨çš„å¯†é’¥æä¾›IDEå¸®åŠ©ã€‚æ‚¨å¯èƒ½éœ€è¦æŸ¥çœ‹ç”Ÿæˆçš„å…ƒæ•°æ®ï¼ˆ`META-INF/spring-configuration-metadata.json`ï¼‰ä»¥ç¡®ä¿æ­£ç¡®è®°å½•æ‚¨çš„å¯†é’¥ã€‚

### 49.5.2 `autoconfigure`æ¨¡å—

`autoconfigure`æ¨¡å—åŒ…å«å¼€å§‹ä½¿ç”¨åº“æ‰€éœ€çš„æ‰€æœ‰å†…å®¹ã€‚å®ƒè¿˜å¯èƒ½åŒ…å«é…ç½®é”®å®šä¹‰ï¼ˆä¾‹å¦‚`@ConfigurationProperties`ï¼‰ä»¥åŠå¯ç”¨äºè¿›ä¸€æ­¥è‡ªå®šä¹‰ç»„ä»¶åˆå§‹åŒ–æ–¹å¼çš„ä»»ä½•å›è°ƒæ¥å£ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æ‚¨åº”è¯¥å°†åº“çš„ä¾èµ–é¡¹æ ‡è®°ä¸ºå¯é€‰ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥æ›´è½»æ¾åœ°åœ¨é¡¹ç›®ä¸­åŒ…å«<code class="literal" i="2300">autoconfigure</code>æ¨¡å—ã€‚å¦‚æœæ‚¨è¿™æ ·åšï¼Œåˆ™ä¸æä¾›åº“ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒSpring Bootä¼šé€€å‡ºã€‚</p></td></tr></tbody></table>

Spring Bootä½¿ç”¨æ³¨é‡Šå¤„ç†å™¨æ¥æ”¶é›†å…ƒæ•°æ®æ–‡ä»¶ï¼ˆ`META-INF/spring-autoconfigure-metadata.properties`ï¼‰ä¸­è‡ªåŠ¨é…ç½®çš„æ¡ä»¶ã€‚å¦‚æœè¯¥æ–‡ä»¶å­˜åœ¨ï¼Œåˆ™ç”¨äºçƒ­åˆ‡è¿‡æ»¤ä¸åŒ¹é…çš„è‡ªåŠ¨é…ç½®ï¼Œè¿™å°†ç¼©çŸ­å¯åŠ¨æ—¶é—´ã€‚å»ºè®®åœ¨åŒ…å«è‡ªåŠ¨é…ç½®çš„æ¨¡å—ä¸­æ·»åŠ ä»¥ä¸‹ä¾èµ–é¡¹ï¼š

```
<dependency>
	<groupId>org.springframework.boot</groupId>
	<artifactId>spring-boot-autoconfigure-processor</artifactId>
	<optional>true</optional>
</dependency>
```

å¯¹äºGradle 4.5åŠæ›´æ—©ç‰ˆæœ¬ï¼Œä¾èµ–é¡¹åº”åœ¨`compileOnly`é…ç½®ä¸­å£°æ˜ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
dependencies {
	compileOnly "org.springframework.boot:spring-boot-autoconfigure-processor"
}
```

å¯¹äºGradle 4.6åŠæ›´é«˜ç‰ˆæœ¬ï¼Œåº”åœ¨`annotationProcessor`é…ç½®ä¸­å£°æ˜ä¾èµ–é¡¹ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
dependencies {
	annotationProcessor "org.springframework.boot:spring-boot-autoconfigure-processor"
}
```

### 49.5.3å¯åŠ¨å™¨æ¨¡å—

èµ·åŠ¨å™¨çœŸçš„æ˜¯ä¸€ä¸ªç©ºç½å­ã€‚å®ƒçš„å”¯ä¸€ç›®çš„æ˜¯æä¾›å¿…è¦çš„ä¾èµ–é¡¹æ¥ä½¿ç”¨åº“ã€‚æ‚¨å¯ä»¥å°†å…¶è§†ä¸ºå¯¹å…¥é—¨æ‰€éœ€å†…å®¹çš„ä¸€ç§çœ‹æ³•ã€‚

ä¸è¦å¯¹æ·»åŠ å¯åŠ¨å™¨çš„é¡¹ç›®åšå‡ºå‡è®¾ã€‚å¦‚æœæ‚¨è‡ªåŠ¨é…ç½®çš„åº“é€šå¸¸éœ€è¦å…¶ä»–å¯åŠ¨å™¨ï¼Œè¯·åŒæ—¶æåŠå®ƒä»¬ã€‚å¦‚æœå¯é€‰ä¾èµ–é¡¹çš„æ•°é‡å¾ˆé«˜ï¼Œåˆ™æä¾›ä¸€ç»„é€‚å½“çš„_é»˜è®¤_ä¾èµ–é¡¹å¯èƒ½å¾ˆéš¾ï¼Œå› ä¸ºæ‚¨åº”è¯¥é¿å…åŒ…å«å¯¹å…¸å‹åº“çš„ä½¿ç”¨ä¸å¿…è¦çš„ä¾èµ–é¡¹ã€‚æ¢å¥è¯è¯´ï¼Œæ‚¨ä¸åº”è¯¥åŒ…å«å¯é€‰çš„ä¾èµ–é¡¹ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>æ— è®ºå“ªç§æ–¹å¼ï¼Œæ‚¨çš„å¯åŠ¨å™¨å¿…é¡»ç›´æ¥æˆ–é—´æ¥å¼•ç”¨æ ¸å¿ƒSpring Bootå¯åŠ¨å™¨ï¼ˆ<code class="literal" i="2304">spring-boot-starter</code>ï¼‰ï¼ˆå³å¦‚æœæ‚¨çš„å¯åŠ¨å™¨ä¾èµ–äºå¦ä¸€ä¸ªå¯åŠ¨å™¨ï¼Œåˆ™æ— éœ€æ·»åŠ å®ƒï¼‰ã€‚å¦‚æœä»…ä½¿ç”¨è‡ªå®šä¹‰å¯åŠ¨ç¨‹åºåˆ›å»ºé¡¹ç›®ï¼Œåˆ™æ ¸å¿ƒå¯åŠ¨ç¨‹åºå°†æ”¯æŒSpringå¼•å¯¼çš„æ ¸å¿ƒåŠŸèƒ½ã€‚</p></td></tr></tbody></table>

50. Kotlinçš„æ”¯æŒ

-------------

[Kotlin](https://kotlinlang.org)æ˜¯ä¸€ç§é’ˆå¯¹JVMï¼ˆå’Œå…¶ä»–å¹³å°ï¼‰çš„é™æ€ç±»å‹è¯­è¨€ï¼Œå®ƒå…è®¸ç¼–å†™ç®€æ´è€Œä¼˜é›…çš„ä»£ç ï¼ŒåŒæ—¶æä¾› ä¸Javaç¼–å†™çš„ç°æœ‰åº“çš„[äº’æ“ä½œæ€§](https://kotlinlang.org/docs/reference/java-interop.html)ã€‚

Spring Booté€šè¿‡åˆ©ç”¨Springæ¡†æ¶ï¼ŒSpringæ•°æ®å’Œååº”å †ç­‰å…¶ä»–Springé¡¹ç›®çš„æ”¯æŒï¼Œæä¾›Kotlinæ”¯æŒã€‚æœ‰å…³ æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… [Spring Framework Kotlinæ”¯æŒæ–‡æ¡£](https://docs.spring.io/spring/docs/5.1.3.RELEASE/spring-framework-reference/languages.html#kotlin)ã€‚

ä»Spring Bootå’ŒKotlinå¼€å§‹çš„æœ€ç®€å•æ–¹æ³•æ˜¯éµå¾ª [è¿™ä¸ªå…¨é¢çš„æ•™ç¨‹](https://spring.io/guides/tutorials/spring-boot-kotlin/)ã€‚æ‚¨å¯ä»¥é€šè¿‡[start.spring.io](https://start.spring.io/#!language=kotlin)åˆ›å»ºæ–°çš„Kotliné¡¹ç›® ã€‚å¦‚æœæ‚¨éœ€è¦æ”¯æŒï¼Œè¯·éšæ„åŠ å…¥[Kotlin Slack](http://slack.kotlinlang.org/)çš„#springé¢‘é“æˆ–åœ¨[Stack Overflow](https://stackoverflow.com/questions/tagged/spring+kotlin)ä¸Šä½¿ç”¨`spring`å’Œ`kotlin`æ ‡ç­¾æé—®ã€‚

50.1è¦æ±‚
------

Spring Bootæ”¯æŒKotlin 1.2.x. è¦ä½¿ç”¨Kotlinï¼Œç±»è·¯å¾„ä¸Šå¿…é¡»å­˜åœ¨`org.jetbrains.kotlin:kotlin-stdlib`å’Œ`org.jetbrains.kotlin:kotlin-reflect`ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨`kotlin-stdlib`å˜ä½“`kotlin-stdlib-jdk7`å’Œ`kotlin-stdlib-jdk8`ã€‚

ç”±äº[Kotlinç±»é»˜è®¤ä¸ºfinal](https://discuss.kotlinlang.org/t/classes-final-by-default/166)ï¼Œå› æ­¤æ‚¨å¯èƒ½éœ€è¦é…ç½® [kotlin-spring](https://kotlinlang.org/docs/reference/compiler-plugins.html#spring-support) æ’ä»¶ä»¥è‡ªåŠ¨æ‰“å¼€Spring - å¸¦æ³¨é‡Šçš„ç±»ï¼Œä»¥ä¾¿å¯ä»¥ä»£ç†å®ƒä»¬ã€‚

[](https://github.com/FasterXML/jackson-module-kotlin)åœ¨Kotlinä¸­åºåˆ—åŒ–/ååºåˆ—åŒ–JSONæ•°æ®éœ€è¦[Jacksonçš„Kotlinæ¨¡å—](https://github.com/FasterXML/jackson-module-kotlin)ã€‚åœ¨ç±»è·¯å¾„ä¸­æ‰¾åˆ°å®ƒæ—¶ä¼šè‡ªåŠ¨æ³¨å†Œã€‚å¦‚æœJacksonå’ŒKotlinå­˜åœ¨ä½†Jackson Kotlinæ¨¡å—ä¸å­˜åœ¨ï¼Œåˆ™ä¼šè®°å½•è­¦å‘Šæ¶ˆæ¯ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¦‚æœåœ¨<a class="link" href="https://start.spring.io/#!language=kotlin" target="_top">start.spring.io</a>ä¸Šå¼•å¯¼Kotliné¡¹ç›®ï¼Œ<a class="link" href="https://start.spring.io/#!language=kotlin" target="_top">åˆ™</a>é»˜è®¤æä¾›è¿™äº›ä¾èµ–é¡¹å’Œæ’ä»¶ã€‚</p></td></tr></tbody></table>

50.2æ— å®‰å…¨æ€§
--------

Kotlinçš„ä¸€ä¸ªå…³é”®ç‰¹æ€§æ˜¯[é›¶å®‰å…¨æ€§](https://kotlinlang.org/docs/reference/null-safety.html)ã€‚å®ƒåœ¨ç¼–è¯‘æ—¶å¤„ç†`null`å€¼ï¼Œè€Œä¸æ˜¯å°†é—®é¢˜æ¨è¿Ÿåˆ°è¿è¡Œæ—¶å¹¶é‡åˆ°`NullPointerException`ã€‚è¿™æœ‰åŠ©äºæ¶ˆé™¤å¸¸è§çš„é”™è¯¯æ¥æºï¼Œè€Œæ— éœ€æ”¯ä»˜`Optional`ç­‰åŒ…è£…å™¨çš„æˆæœ¬ã€‚Kotlinè¿˜å…è®¸ä½¿ç”¨å…·æœ‰å¯ç©ºå€¼çš„åŠŸèƒ½æ„é€ ï¼Œå¦‚æœ¬ [Kotlinä¸­å…³äºé›¶å®‰å…¨æ€§çš„ç»¼åˆæŒ‡å—ä¸­æ‰€è¿°](http://www.baeldung.com/kotlin-null-safety)ã€‚

è™½ç„¶Javaä¸å…è®¸åœ¨å…¶ç±»å‹ç³»ç»Ÿä¸­è¡¨ç¤ºnullå®‰å…¨æ€§ï¼Œä½†Spring Frameworkï¼ŒSpring Dataå’ŒReactorç°åœ¨é€šè¿‡å·¥å…·å‹å¥½çš„æ³¨é‡Šæä¾›å…¶APIçš„ç©ºå®‰å…¨æ€§ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒKotlinä¸­ä½¿ç”¨çš„Java APIç±»å‹è¢«è¯†åˆ«ä¸º æ”¾å®½ç©ºæ£€æŸ¥çš„[å¹³å°ç±»å‹](https://kotlinlang.org/docs/reference/java-interop.html#null-safety-and-platform-types)ã€‚ [Kotlinå¯¹JSR 305æ³¨é‡Šçš„æ”¯æŒ](https://kotlinlang.org/docs/reference/java-interop.html#jsr-305-support)ä¸å¯ç©ºæ€§[æ³¨é‡Š](https://kotlinlang.org/docs/reference/java-interop.html#jsr-305-support)ç›¸ç»“åˆï¼Œä¸ºKotlinä¸­ç›¸å…³çš„Spring APIæä¾›äº†ç©ºçš„å®‰å…¨æ€§ã€‚

å¯ä»¥é€šè¿‡ä½¿ç”¨ä»¥ä¸‹é€‰é¡¹æ·»åŠ `-Xjsr305`ç¼–è¯‘å™¨æ ‡å¿—æ¥é…ç½®JSR 305æ£€æŸ¥ï¼š`-Xjsr305={strict|warn|ignore}`ã€‚é»˜è®¤è¡Œä¸ºä¸`-Xjsr305=warn`ç›¸åŒã€‚`strict`å€¼éœ€è¦åœ¨ä»Spring APIæ¨æ–­çš„Kotlinç±»å‹ä¸­è€ƒè™‘ç©ºå®‰å…¨æ€§ï¼Œä½†åº”è¯¥ä½¿ç”¨Spring APIå¯ç©ºæ€§å£°æ˜ç”šè‡³å¯ä»¥åœ¨æ¬¡è¦ç‰ˆæœ¬å’Œæ›´å¤šæ£€æŸ¥ä¹‹é—´å‘å±•çš„çŸ¥è¯†å¯èƒ½ä¼šåœ¨å°†æ¥æ·»åŠ ï¼‰ã€‚

<table border="0" summary="Warning"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[è­¦å‘Š]" src="images/warning.png"></td><th align="left">è­¦å‘Š</th></tr><tr><td align="left" valign="top"><p>å°šä¸æ”¯æŒæ³›å‹ç±»å‹å‚æ•°ï¼Œvarargså’Œæ•°ç»„å…ƒç´ å¯ç©ºæ€§ã€‚æœ‰å…³æœ€æ–°ä¿¡æ¯ï¼Œè¯·å‚è§<a class="link" href="https://jira.spring.io/browse/SPR-15942" target="_top">SPR-15942</a>ã€‚å¦è¯·æ³¨æ„ï¼ŒSpring Bootè‡ªå·±çš„API <a class="link" href="https://github.com/spring-projects/spring-boot/issues/10712" target="_top">å°šæœªæ³¨é‡Š</a>ã€‚</p></td></tr></tbody></table>

50.3 Kotlin API
---------------

### 50.3.1 runApplication

Spring Bootæä¾›äº†ä½¿ç”¨`runApplication<MyApplication>(*args)`è¿è¡Œåº”ç”¨ç¨‹åºçš„æƒ¯ç”¨æ–¹æ³•ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
import org.springframework.boot.autoconfigure.SpringBootApplication
import org.springframework.boot.runApplication

@SpringBootApplication
class MyApplication

fun main(args: Array<String>) {
	runApplication<MyApplication>(*args)
}
```

è¿™æ˜¯`SpringApplication.run(MyApplication::class.java, *args)`çš„æ›¿ä»£å“ã€‚å®ƒè¿˜å…è®¸è‡ªå®šä¹‰åº”ç”¨ç¨‹åºï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
runApplication<MyApplication>(*args) {
	setBannerMode(OFF)
}
```

### 50.3.2æ‰©å±•

Kotlin [æ‰©å±•](https://kotlinlang.org/docs/reference/extensions.html)æä¾›äº†ä½¿ç”¨é™„åŠ åŠŸèƒ½æ‰©å±•ç°æœ‰ç±»çš„èƒ½åŠ›ã€‚Spring Boot Kotlin APIåˆ©ç”¨è¿™äº›æ‰©å±•ä¸ºç°æœ‰APIæ·»åŠ æ–°çš„Kotlinç‰¹å®šä¾¿åˆ©ã€‚

`TestRestTemplate`æ‰©å±•ç±»ä¼¼äºSpringæ¡†æ¶ä¸­Caffeineæ¡†æ¶Caffeineæä¾›çš„æ‰©å±•ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæ‰©å±•ä½¿å¾—å¯ä»¥åˆ©ç”¨Kotlinå…·ä½“ç±»å‹å‚æ•°ã€‚

50.4ä¾èµ–ç®¡ç†
--------

ä¸ºäº†é¿å…åœ¨ç±»è·¯å¾„ä¸Šæ··åˆä½¿ç”¨ä¸åŒç‰ˆæœ¬çš„Kotlinä¾èµ–é¡¹ï¼Œæä¾›äº†ä»¥ä¸‹Kotlinä¾èµ–é¡¹çš„ä¾èµ–é¡¹ç®¡ç†ï¼š

*   `kotlin-reflect`
*   `kotlin-runtime`
*   `kotlin-stdlib`
*   `kotlin-stdlib-jdk7`
*   `kotlin-stdlib-jdk8`
*   `kotlin-stdlib-jre7`
*   `kotlin-stdlib-jre8`

ä½¿ç”¨Mavenï¼Œå¯ä»¥é€šè¿‡`kotlin.version`å±æ€§è‡ªå®šä¹‰Kotlinç‰ˆæœ¬ï¼Œå¹¶ä¸º`kotlin-maven-plugin`æä¾›æ’ä»¶ç®¡ç†ã€‚ä½¿ç”¨Gradleï¼ŒSpring Bootæ’ä»¶ä¼šè‡ªåŠ¨å°†`kotlin.version`ä¸Kotlinæ’ä»¶çš„ç‰ˆæœ¬å¯¹é½ã€‚

50.5Â `@ConfigurationProperties`
-------------------------------

`@ConfigurationProperties`ç›®å‰ä»…é€‚ç”¨äº`lateinit`æˆ–å¯ç©º`var`å±æ€§ï¼ˆå»ºè®®ä½¿ç”¨å‰è€…ï¼‰ï¼Œå› ä¸º[å°šä¸æ”¯æŒ](https://github.com/spring-projects/spring-boot/issues/8762)ç”±æ„é€ å‡½æ•°åˆå§‹åŒ–çš„ä¸å¯å˜ç±»ã€‚

```
@ConfigurationProperties("example.kotlin")
class KotlinExampleProperties {

	lateinit var name: String

	lateinit var description: String

	val myService = MyService()

	class MyService {

		lateinit var apiToken: String

		lateinit var uri: URI

	}

}
```

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>è¦ä½¿ç”¨æ³¨é‡Šå¤„ç†å™¨ç”Ÿæˆ <a class="link" href="#configuration-metadata-annotation-processor" title="B.3ä½¿ç”¨æ³¨é‡Šå¤„ç†å™¨ç”Ÿæˆè‡ªå·±çš„å…ƒæ•°æ®">æ‚¨è‡ªå·±çš„å…ƒæ•°æ®</a>ï¼Œ<a class="link" href="https://kotlinlang.org/docs/reference/kapt.html" target="_top"><code class="literal" i="2330">kapt</code>åº”é…ç½®</a> <code class="literal" i="2331">spring-boot-configuration-processor</code>ä¾èµ–é¡¹ã€‚</p></td></tr></tbody></table>

50.6æµ‹è¯•
------

è™½ç„¶å¯ä»¥ä½¿ç”¨JUnit 4ï¼ˆç”±`spring-boot-starter-test`æä¾›çš„é»˜è®¤å€¼ï¼‰æ¥æµ‹è¯•Kotlinä»£ç ï¼Œä½†å»ºè®®ä½¿ç”¨JUnit 5ã€‚JUnit 5ä½¿æµ‹è¯•ç±»èƒ½å¤Ÿå®ä¾‹åŒ–ä¸€æ¬¡å¹¶é‡ç”¨äºæ‰€æœ‰ç±»çš„æµ‹è¯•ã€‚è¿™ä½¿å¾—å¯ä»¥åœ¨éé™æ€æ–¹æ³•ä¸Šä½¿ç”¨`@BeforeAll`å’Œ`@AfterAll`æ³¨é‡Šï¼Œè¿™éå¸¸é€‚åˆKotlinã€‚

è¦ä½¿ç”¨JUnit 5ï¼Œè¯·ä»`spring-boot-starter-test`ä¸­æ’é™¤`junit:junit`ä¾èµ–é¡¹ï¼Œæ·»åŠ JUnit 5ä¾èµ–é¡¹ï¼Œå¹¶ç›¸åº”åœ°é…ç½®Mavenæˆ–Gradleæ’ä»¶ã€‚æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… [JUnit 5æ–‡æ¡£](https://junit.org/junit5/docs/current/user-guide/#dependency-metadata-junit-jupiter-samples)ã€‚æ‚¨è¿˜éœ€è¦å°† [æµ‹è¯•å®ä¾‹ç”Ÿå‘½å‘¨æœŸåˆ‡æ¢ä¸ºâ€œæ¯ä¸ªç±»â€](https://junit.org/junit5/docs/current/user-guide/#writing-tests-test-instance-lifecycle-changing-default)ã€‚

50.7èµ„æº
------

### 50.7.1è¿›ä¸€æ­¥é˜…è¯»

*   [Kotlinè¯­è¨€å‚è€ƒ](https://kotlinlang.org/docs/reference/)
*   [Kotlin Slack](http://slack.kotlinlang.org/)ï¼ˆå¸¦æœ‰ä¸“ç”¨çš„#springé¢‘é“ï¼‰
*   [å…·æœ‰`spring`å’Œ`kotlin`æ ‡è®°çš„Stackoverflow](https://stackoverflow.com/questions/tagged/spring+kotlin)
*   [åœ¨æµè§ˆå™¨ä¸­å°è¯•Kotlin](https://try.kotlinlang.org/)
*   [ç§‘ç‰¹æ—åšå®¢](https://blog.jetbrains.com/kotlin/)
*   [ä»¤äººæ•¬ç•çš„Kotlin](https://kotlin.link/)
*   [æ•™ç¨‹ï¼šä½¿ç”¨Spring Bootå’ŒKotlinæ„å»ºWebåº”ç”¨ç¨‹åº](https://spring.io/guides/tutorials/spring-boot-kotlin/)
*   [ä½¿ç”¨Kotlinå¼€å‘Spring Bootåº”ç”¨ç¨‹åº](https://spring.io/blog/2016/02/15/developing-spring-boot-applications-with-kotlin)
*   [ä½¿ç”¨Kotlinï¼ŒSpring Bootå’ŒPostgreSQLçš„åœ°ç†ç©ºé—´ä¿¡ä½¿](https://spring.io/blog/2016/03/20/a-geospatial-messenger-with-kotlin-spring-boot-and-postgresql)
*   [åœ¨Spring Framework 5.0ä¸­å¼•å…¥Kotlinæ”¯æŒ](https://spring.io/blog/2017/01/04/introducing-kotlin-support-in-spring-framework-5-0)
*   [Springæ¡†æ¶5 Kotlin APIï¼ŒåŠŸèƒ½æ–¹å¼](https://spring.io/blog/2017/08/01/spring-framework-5-kotlin-apis-the-functional-way)

### 50.7.2ä¾‹å­

*   [spring-boot-kotlin-demo](https://github.com/sdeleuze/spring-boot-kotlin-demo)ï¼šå¸¸è§„Spring Boot + Spring Data JPAé¡¹ç›®
*   [mixit](https://github.com/mixitconf/mixit)ï¼šSpring Boot 2 + WebFlux + Reactive Spring Data MongoDB
*   [spring-kotlin-fullstack](https://github.com/sdeleuze/spring-kotlin-fullstack)ï¼šWebFlux Kotlin fullstackç¤ºä¾‹ï¼Œå…¶ä¸­Kotlin2jsç”¨äºå‰ç«¯è€Œä¸æ˜¯JavaScriptæˆ–TypeScript
*   [spring-petclinic-kotlin](https://github.com/spring-petclinic/spring-petclinic-kotlin)ï¼šSpring PetClinicæ ·æœ¬åº”ç”¨ç¨‹åºçš„Kotlinç‰ˆæœ¬
*   [spring-kotlin-deepdive](https://github.com/sdeleuze/spring-kotlin-deepdive)ï¼šå°†Boot 1.0 + Javaé€æ­¥è¿ç§»åˆ°Boot 2.0 + Kotlin

51.æ¥ä¸‹æ¥è¦é˜…è¯»çš„å†…å®¹
------------

å¦‚æœæ‚¨æƒ³äº†è§£æœ¬èŠ‚ä¸­è®¨è®ºçš„ä»»ä½•ç±»çš„æ›´å¤šä¿¡æ¯ï¼Œå¯ä»¥æŸ¥çœ‹[Spring Boot APIæ–‡æ¡£](https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api)ï¼Œä¹Ÿå¯ä»¥[ç›´æ¥](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE)æµè§ˆ [æºä»£ç ](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE)ã€‚å¦‚æœæ‚¨æœ‰å…·ä½“é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ [æ“ä½œæ–¹æ³•](#howto "ç¬¬ä¹éƒ¨åˆ†ã€‚ 'å¦‚ä½•'æŒ‡å—")éƒ¨åˆ†ã€‚

å¦‚æœæ‚¨å¯¹Spring Bootçš„æ ¸å¿ƒåŠŸèƒ½æ„Ÿåˆ°æ»¡æ„ï¼Œå¯ä»¥ç»§ç»­é˜…è¯»æœ‰å…³[ç”Ÿäº§å°±ç»ªåŠŸèƒ½çš„å†…å®¹](#production-ready "ç¬¬äº”éƒ¨åˆ†å¼¹ç°§å¯åŠ¨æ‰§è¡Œå™¨ï¼šç”Ÿäº§å°±ç»ªåŠŸèƒ½")ã€‚

ç¬¬äº”éƒ¨åˆ†ã€‚Spring Boot Actuatorï¼šç”Ÿäº§å°±ç»ªåŠŸèƒ½
================================

Spring BootåŒ…å«è®¸å¤šå…¶ä»–åŠŸèƒ½ï¼Œå¯å¸®åŠ©æ‚¨åœ¨å°†åº”ç”¨ç¨‹åºæ¨é€åˆ°ç”Ÿäº§ç¯å¢ƒæ—¶ç›‘æ§å’Œç®¡ç†åº”ç”¨ç¨‹åºã€‚æ‚¨å¯ä»¥é€‰æ‹©ä½¿ç”¨HTTPç«¯ç‚¹æˆ–JMXæ¥ç®¡ç†å’Œç›‘è§†åº”ç”¨ç¨‹åºã€‚å®¡æ ¸ï¼Œè¿è¡ŒçŠ¶å†µå’ŒæŒ‡æ ‡æ”¶é›†ä¹Ÿå¯ä»¥è‡ªåŠ¨åº”ç”¨äºæ‚¨çš„åº”ç”¨ç¨‹åºã€‚

52.å¯ç”¨ç”Ÿäº§å°±ç»ªåŠŸèƒ½
-----------

è¯¥[`spring-boot-actuator`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator)æ¨¡å—æä¾›äº†æ‰€æœ‰Spring Bootçš„ç”Ÿäº§å°±ç»ªåŠŸèƒ½ã€‚å¯ç”¨è¿™äº›åŠŸèƒ½çš„æœ€ç®€å•æ–¹æ³•æ˜¯ä¸º`spring-boot-starter-actuator`'Starter'æ·»åŠ ä¾èµ–é¡¹ã€‚

**æ‰§è¡Œå™¨çš„å®šä¹‰**

è‡´åŠ¨å™¨æ˜¯åˆ¶é€ æœ¯è¯­ï¼ŒæŒ‡çš„æ˜¯ç”¨äºç§»åŠ¨æˆ–æ§åˆ¶æŸç‰©çš„æœºæ¢°è£…ç½®ã€‚æ‰§è¡Œå™¨å¯ä»¥é€šè¿‡å¾®å°çš„å˜åŒ–äº§ç”Ÿå¤§é‡çš„è¿åŠ¨ã€‚

è¦å°†æ‰§è¡Œå™¨æ·»åŠ åˆ°åŸºäºMavençš„é¡¹ç›®ï¼Œè¯·æ·»åŠ ä»¥ä¸‹â€œStarterâ€ä¾èµ–é¡¹ï¼š

```
<dependencies>
	<dependency>
		<groupId>org.springframework.boot</groupId>
		<artifactId>spring-boot-starter-actuator</artifactId>
	</dependency>
</dependencies>
```

å¯¹äºGradleï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å£°æ˜ï¼š

```
dependencies {
	compile("org.springframework.boot:spring-boot-starter-actuator")
}
```

53.ç»ˆç‚¹
-----

é€šè¿‡æ‰§è¡Œå™¨ç«¯ç‚¹ï¼Œæ‚¨å¯ä»¥ç›‘æ§åº”ç”¨ç¨‹åºå¹¶ä¸ä¹‹äº¤äº’ã€‚Spring BootåŒ…å«è®¸å¤šå†…ç½®ç«¯ç‚¹ï¼Œå…è®¸æ‚¨æ·»åŠ è‡ªå·±çš„ç«¯ç‚¹ã€‚ä¾‹å¦‚ï¼Œ`health`ç«¯ç‚¹æä¾›åŸºæœ¬çš„åº”ç”¨ç¨‹åºè¿è¡ŒçŠ¶å†µä¿¡æ¯ã€‚

å¯ä»¥[å¯ç”¨æˆ–ç¦ç”¨](#production-ready-endpoints-enabling-endpoints "53.1å¯ç”¨ç«¯ç‚¹")æ¯ä¸ªå•ç‹¬çš„ç«¯ç‚¹ã€‚å®ƒæ§åˆ¶æ˜¯å¦åœ¨åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ä¸­åˆ›å»ºç«¯ç‚¹å¹¶ä¸”å…¶beanå­˜åœ¨ã€‚è¦è¿œç¨‹è®¿é—®ï¼Œè¿˜å¿…é¡»[é€šè¿‡JMXæˆ–HTTPå…¬å¼€](#production-ready-endpoints-exposing-endpoints "53.2å…¬å¼€ç«¯ç‚¹")ç«¯ç‚¹ ã€‚å¤§å¤šæ•°åº”ç”¨ç¨‹åºé€‰æ‹©HTTPï¼Œå…¶ä¸­ç«¯ç‚¹çš„IDä»¥åŠ`/actuator`çš„å‰ç¼€æ˜ å°„åˆ°URLã€‚ä¾‹å¦‚ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œ`health`ç«¯ç‚¹æ˜ å°„åˆ°`/actuator/health`ã€‚

å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä¸æŠ€æœ¯æ— å…³çš„ç«¯ç‚¹ï¼š

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"><col class="col_3"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">ID</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">æè¿°</th><th style="border-bottom: 1px solid ; " align="left" valign="top">é»˜è®¤æƒ…å†µä¸‹å¯ç”¨</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">auditevents</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class=""><p>å…¬å¼€å½“å‰åº”ç”¨ç¨‹åºçš„å®¡æ ¸äº‹ä»¶ä¿¡æ¯ã€‚</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">beans</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class=""><p>æ˜¾ç¤ºåº”ç”¨ç¨‹åºä¸­æ‰€æœ‰Spring beansçš„å®Œæ•´åˆ—è¡¨ã€‚</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">caches</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class=""><p>æš´éœ²å¯ç”¨çš„ç¼“å­˜ã€‚</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">conditions</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class=""><p>æ˜¾ç¤ºåœ¨é…ç½®å’Œè‡ªåŠ¨é…ç½®ç±»ä¸Šè¯„ä¼°çš„æ¡ä»¶ä»¥åŠå®ƒä»¬åŒ¹é…æˆ–ä¸åŒ¹é…çš„åŸå› ã€‚</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">configprops</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class=""><p>æ˜¾ç¤ºæ‰€æœ‰<code class="literal" i="2344">@ConfigurationProperties</code>çš„æ•´ç†åˆ—è¡¨ã€‚</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">env</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class=""><p>å…¬å¼€Spring <code class="literal" i="2345">ConfigurableEnvironment</code>çš„è´¢äº§ã€‚</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">flyway</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class=""><p>æ˜¾ç¤ºå·²åº”ç”¨çš„ä»»ä½•Flywayæ•°æ®åº“è¿ç§»ã€‚</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">health</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class=""><p>æ˜¾ç¤ºåº”ç”¨å¥åº·ä¿¡æ¯ã€‚</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">httptrace</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class=""><p>æ˜¾ç¤ºHTTPè·Ÿè¸ªä¿¡æ¯ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼Œæœ€å100ä¸ªHTTPè¯·æ±‚ - å“åº”äº¤æ¢ï¼‰ã€‚</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">info</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class=""><p>æ˜¾ç¤ºä»»æ„åº”ç”¨ä¿¡æ¯ã€‚</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">integrationgraph</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class=""><p>æ˜¾ç¤ºSpring Integrationå›¾è¡¨ã€‚</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">loggers</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class=""><p>æ˜¾ç¤ºå’Œä¿®æ”¹åº”ç”¨ç¨‹åºä¸­è®°å½•å™¨çš„é…ç½®ã€‚</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">liquibase</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class=""><p>æ˜¾ç¤ºå·²åº”ç”¨çš„ä»»ä½•Liquibaseæ•°æ®åº“è¿ç§»ã€‚</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">metrics</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class=""><p>æ˜¾ç¤ºå½“å‰åº”ç”¨ç¨‹åºçš„â€œæŒ‡æ ‡â€ä¿¡æ¯ã€‚</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">mappings</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class=""><p>æ˜¾ç¤ºæ‰€æœ‰<code class="literal" i="2346">@RequestMapping</code>è·¯å¾„çš„æ•´ç†åˆ—è¡¨ã€‚</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">scheduledtasks</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class=""><p>æ˜¾ç¤ºåº”ç”¨ç¨‹åºä¸­çš„è®¡åˆ’ä»»åŠ¡ã€‚</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">sessions</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class=""><p>å…è®¸ä»æ”¯æŒSpring Sessionçš„ä¼šè¯å­˜å‚¨ä¸­æ£€ç´¢å’Œåˆ é™¤ç”¨æˆ·ä¼šè¯ã€‚ä½¿ç”¨Spring Sessionå¯¹å“åº”å¼Webåº”ç”¨ç¨‹åºçš„æ”¯æŒæ—¶ä¸å¯ç”¨ã€‚</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">shutdown</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class=""><p>å…è®¸åº”ç”¨ç¨‹åºæ­£å¸¸å…³é—­ã€‚</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>No</p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">threaddump</code></p></td><td style="border-right: 1px solid ; " align="left" valign="top" class=""><p>æ‰§è¡Œçº¿ç¨‹è½¬å‚¨ã€‚</p></td><td style="" align="left" valign="top" class="notranslate"><p>Yes</p></td></tr></tbody></table>

å¦‚æœæ‚¨çš„åº”ç”¨ç¨‹åºæ˜¯Webåº”ç”¨ç¨‹åºï¼ˆSpring MVCï¼ŒSpring WebFluxæˆ–Jerseyï¼‰ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ä»¥ä¸‹é™„åŠ ç«¯ç‚¹ï¼š

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"><col class="col_3"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">ID</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">æè¿°</th><th style="border-bottom: 1px solid ; " align="left" valign="top">é»˜è®¤æƒ…å†µä¸‹å¯ç”¨</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">heapdump</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class=""><p>è¿”å›<code class="literal" i="2347">hprof</code>å †è½¬å‚¨æ–‡ä»¶ã€‚</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jolokia</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class=""><p>é€šè¿‡HTTPå…¬å¼€JMX beansï¼ˆå½“Jolokiaåœ¨ç±»è·¯å¾„ä¸Šæ—¶ï¼Œä¸é€‚ç”¨äºWebFluxï¼‰ã€‚</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">logfile</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class=""><p>è¿”å›æ—¥å¿—æ–‡ä»¶çš„å†…å®¹ï¼ˆå¦‚æœå·²è®¾ç½®<code class="literal" i="2348">logging.file</code>æˆ–<code class="literal" i="2349">logging.path</code>å±æ€§ï¼‰ã€‚æ”¯æŒä½¿ç”¨HTTP <code class="literal" i="2350">Range</code>æ ‡å¤´æ¥æ£€ç´¢éƒ¨åˆ†æ—¥å¿—æ–‡ä»¶çš„å†…å®¹ã€‚</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">prometheus</code></p></td><td style="border-right: 1px solid ; " align="left" valign="top" class=""><p>ä»¥å¯ç”±PrometheusæœåŠ¡å™¨æŠ“å–çš„æ ¼å¼å…¬å¼€æŒ‡æ ‡ã€‚</p></td><td style="" align="left" valign="top" class="notranslate"><p>Yes</p></td></tr></tbody></table>

è¦äº†è§£æœ‰å…³Actuatorç«¯ç‚¹åŠå…¶è¯·æ±‚å’Œå“åº”æ ¼å¼çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…å•ç‹¬çš„APIæ–‡æ¡£ï¼ˆ[HTML](https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/actuator-api//html)æˆ– [PDF](https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/actuator-api//pdf/spring-boot-actuator-web-api.pdf)ï¼‰ã€‚

53.1å¯ç”¨ç«¯ç‚¹
--------

é»˜è®¤æƒ…å†µä¸‹ï¼Œå¯ç”¨é™¤`shutdown`ä¹‹å¤–çš„æ‰€æœ‰ç«¯ç‚¹ã€‚è¦é…ç½®ç«¯ç‚¹çš„å¯ç”¨ï¼Œè¯·ä½¿ç”¨å…¶`management.endpoint.<id>.enabled`å±æ€§ã€‚ä»¥ä¸‹ç¤ºä¾‹å¯ç”¨`shutdown`ç«¯ç‚¹ï¼š

```
management.endpoint.shutdown.enabled=true
```

å¦‚æœæ‚¨å¸Œæœ›ç«¯ç‚¹å¯ç”¨æ˜¯é€‰æ‹©åŠ å…¥è€Œä¸æ˜¯é€‰æ‹©é€€å‡ºï¼Œè¯·å°†`management.endpoints.enabled-by-default`å±æ€§è®¾ç½®ä¸º`false`å¹¶ä½¿ç”¨å•ä¸ªç«¯ç‚¹`enabled`å±æ€§é‡æ–°åŠ å…¥ã€‚ä»¥ä¸‹ç¤ºä¾‹å¯ç”¨`info` endpointå¹¶ç¦ç”¨æ‰€æœ‰å…¶ä»–ç«¯ç‚¹ï¼š

```
management.endpoints.enabled-by-default=false
management.endpoint.info.enabled=true
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å·²å®Œå…¨ä»åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ä¸­åˆ é™¤å·²ç¦ç”¨çš„ç«¯ç‚¹ã€‚å¦‚æœæ‚¨åªæƒ³æ›´æ”¹ç«¯ç‚¹æ‰€æš´éœ²çš„æŠ€æœ¯ï¼Œè¯·æ”¹ç”¨ <a class="link" href="#production-ready-endpoints-exposing-endpoints" title="53.2å…¬å¼€ç«¯ç‚¹"><code class="literal" i="2358">include</code>å’Œ<code class="literal" i="2359">exclude</code>å±æ€§</a> ã€‚</p></td></tr></tbody></table>

53.2å…¬å¼€ç«¯ç‚¹
--------

ç”±äºç«¯ç‚¹å¯èƒ½åŒ…å«æ•æ„Ÿä¿¡æ¯ï¼Œå› æ­¤åº”ä»”ç»†è€ƒè™‘ä½•æ—¶å…¬å¼€å®ƒä»¬ã€‚ä¸‹è¡¨æ˜¾ç¤ºäº†å†…ç½®ç«¯ç‚¹çš„é»˜è®¤æ›å…‰ï¼š

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"><col class="col_3"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">ID</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">JMX</th><th style="border-bottom: 1px solid ; " align="left" valign="top">å·ç­’çº¸</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">auditevents</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Yes</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>No</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">beans</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Yes</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>No</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">caches</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Yes</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>No</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">conditions</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Yes</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>No</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">configprops</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Yes</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>No</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">env</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Yes</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>No</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">flyway</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Yes</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>No</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">health</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Yes</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">heapdump</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>N/A</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>No</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">httptrace</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Yes</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>No</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">info</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Yes</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">integrationgraph</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Yes</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>No</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jolokia</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>N/A</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>No</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">logfile</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>N/A</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>No</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">loggers</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Yes</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>No</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">liquibase</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Yes</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>No</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">metrics</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Yes</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>No</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">mappings</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Yes</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>No</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">prometheus</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>N/A</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>No</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">scheduledtasks</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Yes</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>No</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">sessions</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Yes</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>No</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">shutdown</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Yes</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>No</p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">threaddump</code></p></td><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p>Yes</p></td><td style="" align="left" valign="top" class="notranslate"><p>No</p></td></tr></tbody></table>

è¦æ›´æ”¹å…¬å¼€çš„ç«¯ç‚¹ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹ç‰¹å®šäºæŠ€æœ¯çš„`include`å’Œ`exclude`å±æ€§ï¼š

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">Property</th><th style="border-bottom: 1px solid ; " align="left" valign="top">é»˜è®¤</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">management.endpoints.jmx.exposure.exclude</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate">&nbsp;</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">management.endpoints.jmx.exposure.include</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">*</code></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">management.endpoints.web.exposure.exclude</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate">&nbsp;</td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">management.endpoints.web.exposure.include</code></p></td><td style="" align="left" valign="top" class="notranslate"><p><code class="literal">info, health</code></p></td></tr></tbody></table>

`include`å±æ€§åˆ—å‡ºäº†å…¬å¼€çš„ç«¯ç‚¹çš„IDã€‚`exclude`å±æ€§åˆ—å‡ºäº†ä¸åº”å…¬å¼€çš„ç«¯ç‚¹çš„IDã€‚`exclude`å±æ€§ä¼˜å…ˆäº`include`å±æ€§ã€‚`include`å’Œ`exclude`å±æ€§éƒ½å¯ä»¥é…ç½®ç«¯ç‚¹IDåˆ—è¡¨ã€‚

ä¾‹å¦‚ï¼Œè¦åœæ­¢é€šè¿‡JMXå…¬å¼€æ‰€æœ‰ç«¯ç‚¹å¹¶ä»…æ˜¾ç¤º`health`å’Œ`info`ç«¯ç‚¹ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å±æ€§ï¼š

```
management.endpoints.jmx.exposure.include=health,info
```

`*`å¯ç”¨äºé€‰æ‹©æ‰€æœ‰ç«¯ç‚¹ã€‚ä¾‹å¦‚ï¼Œè¦é€šè¿‡HTTPå…¬å¼€é™¤`env`å’Œ`beans`ç«¯ç‚¹ä¹‹å¤–çš„æ‰€æœ‰å†…å®¹ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å±æ€§ï¼š

```
management.endpoints.web.exposure.include=*
management.endpoints.web.exposure.exclude=env,beans
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p><code class="literal" i="2373">*</code>åœ¨YAMLä¸­å…·æœ‰ç‰¹æ®Šå«ä¹‰ï¼Œå› æ­¤å¦‚æœè¦åŒ…å«ï¼ˆæˆ–æ’é™¤ï¼‰æ‰€æœ‰ç«¯ç‚¹ï¼Œè¯·åŠ¡å¿…æ·»åŠ å¼•å·ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š</p><pre class="programlisting notranslate">management:
  endpoints:
    web:
      exposure:
        include: "*"</pre></td></tr></tbody></table><table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å¦‚æœæ‚¨çš„ç”³è¯·æ˜¯å…¬å¼€çš„ï¼Œæˆ‘ä»¬å¼ºçƒˆå»ºè®®æ‚¨ <a class="link" href="#production-ready-endpoints-security" title="53.3ä¿æŠ¤HTTPç«¯ç‚¹">ä¿æŠ¤æ‚¨çš„ç»ˆç«¯</a>ã€‚</p></td></tr></tbody></table><table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¦‚æœæ‚¨æƒ³åœ¨æš´éœ²ç«¯ç‚¹æ—¶å®æ–½è‡ªå·±çš„ç­–ç•¥ï¼Œå¯ä»¥æ³¨å†Œ<code class="literal" i="2374">EndpointFilter</code> beanã€‚</p></td></tr></tbody></table>


53.3ä¿æŠ¤HTTPç«¯ç‚¹
------------

æ‚¨åº”è¯¥åƒä½¿ç”¨ä»»ä½•å…¶ä»–æ•æ„ŸURLä¸€æ ·æ³¨æ„ä¿æŠ¤HTTPç«¯ç‚¹ã€‚å¦‚æœå­˜åœ¨Springå®‰å…¨æ€§ï¼Œåˆ™é»˜è®¤ä½¿ç”¨Springå®‰å…¨æ€§å†…å®¹åå•†ç­–ç•¥æ¥ä¿æŠ¤ç«¯ç‚¹ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨å¸Œæœ›ä¸ºHTTPç«¯ç‚¹é…ç½®è‡ªå®šä¹‰å®‰å…¨æ€§ï¼Œä»…å…è®¸å…·æœ‰ç‰¹å®šè§’è‰²çš„ç”¨æˆ·è®¿é—®å®ƒä»¬ï¼ŒSpring Bootæä¾›äº†ä¸€äº›æ–¹ä¾¿çš„`RequestMatcher`å¯¹è±¡ï¼Œå¯ä»¥ä¸Springå®‰å…¨æ€§ç»“åˆä½¿ç”¨ã€‚

å…¸å‹çš„Springå®‰å…¨é…ç½®å¯èƒ½ç±»ä¼¼äºä»¥ä¸‹ç¤ºä¾‹ï¼š

```
_@Configuration_
public class ActuatorSecurity extends WebSecurityConfigurerAdapter {

	_@Override_
	protected void configure(HttpSecurity http) throws Exception {
		http.requestMatcher(EndpointRequest.toAnyEndpoint()).authorizeRequests()
				.anyRequest().hasRole("ENDPOINT_ADMIN")
				.and()
			.httpBasic();
	}

}
```

ä¸Šé¢çš„ç¤ºä¾‹ä½¿ç”¨`EndpointRequest.toAnyEndpoint()`å°†è¯·æ±‚ä¸ä»»ä½•ç«¯ç‚¹è¿›è¡ŒåŒ¹é…ï¼Œç„¶åç¡®ä¿æ‰€æœ‰ç«¯ç‚¹éƒ½å…·æœ‰`ENDPOINT_ADMIN`è§’è‰²ã€‚`EndpointRequest`ä¹Ÿæä¾›äº†å…¶ä»–å‡ ç§åŒ¹é…æ–¹æ³•ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…APIæ–‡æ¡£ï¼ˆ[HTML](https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/actuator-api//html)æˆ– [PDF](https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/actuator-api//pdf/spring-boot-actuator-web-api.pdf)ï¼‰ã€‚

å¦‚æœåœ¨é˜²ç«å¢™åéƒ¨ç½²åº”ç”¨ç¨‹åºï¼Œæ‚¨å¯èƒ½å¸Œæœ›æ— éœ€èº«ä»½éªŒè¯å³å¯è®¿é—®æ‰€æœ‰æ‰§è¡Œå™¨ç«¯ç‚¹ã€‚æ‚¨å¯ä»¥é€šè¿‡æ›´æ”¹`management.endpoints.web.exposure.include`å±æ€§æ¥æ‰§è¡Œæ­¤æ“ä½œï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

**application.propertiesã€‚** 

```
management.endpoints.web.exposure.include=*
```

æ­¤å¤–ï¼Œå¦‚æœå­˜åœ¨Springå®‰å…¨æ€§ï¼Œåˆ™éœ€è¦æ·»åŠ è‡ªå®šä¹‰å®‰å…¨æ€§é…ç½®ï¼Œä»¥å…è®¸å¯¹ç«¯ç‚¹è¿›è¡Œæœªç»èº«ä»½éªŒè¯çš„è®¿é—®ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
_@Configuration_
public class ActuatorSecurity extends WebSecurityConfigurerAdapter {

	_@Override_
	protected void configure(HttpSecurity http) throws Exception {
		http.requestMatcher(EndpointRequest.toAnyEndpoint()).authorizeRequests()
			.anyRequest().permitAll();
	}

}
```

53.4é…ç½®ç«¯ç‚¹
--------

ç«¯ç‚¹è‡ªåŠ¨ç¼“å­˜å¯¹ä¸å¸¦ä»»ä½•å‚æ•°çš„è¯»å–æ“ä½œçš„å“åº”ã€‚è¦é…ç½®ç«¯ç‚¹ç¼“å­˜å“åº”çš„æ—¶é—´é‡ï¼Œè¯·ä½¿ç”¨å…¶`cache.time-to-live`å±æ€§ã€‚ä»¥ä¸‹ç¤ºä¾‹å°†`beans`ç«¯ç‚¹ç¼“å­˜çš„ç”Ÿå­˜æ—¶é—´è®¾ç½®ä¸º10ç§’ï¼š

**application.propertiesã€‚** 

```
management.endpoint.beans.cache.time-to-live=10s
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å‰ç¼€<code class="literal" i="2382">management.endpoint.&lt;name&gt;</code>ç”¨äºå”¯ä¸€æ ‡è¯†æ­£åœ¨é…ç½®çš„ç«¯ç‚¹ã€‚</p></td></tr></tbody></table><table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>åœ¨è¿›è¡Œç»è¿‡èº«ä»½éªŒè¯çš„HTTPè¯·æ±‚æ—¶ï¼Œ<code class="literal" i="2383">Principal</code>è¢«è§†ä¸ºç«¯ç‚¹çš„è¾“å…¥ï¼Œå› æ­¤ä¸ä¼šç¼“å­˜å“åº”ã€‚</p></td></tr></tbody></table>

53.5ç”¨äºæ‰§è¡Œå™¨Webç«¯ç‚¹çš„è¶…åª’ä½“
------------------

æ·»åŠ äº†â€œå‘ç°é¡µé¢â€ï¼Œå…¶ä¸­åŒ…å«æŒ‡å‘æ‰€æœ‰ç«¯ç‚¹çš„é“¾æ¥ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ`/actuator`ä¸Šæä¾›äº†â€œå‘ç°é¡µé¢â€ã€‚

é…ç½®è‡ªå®šä¹‰ç®¡ç†ä¸Šä¸‹æ–‡è·¯å¾„åï¼Œâ€œå‘ç°é¡µé¢â€ä¼šè‡ªåŠ¨ä»`/actuator`ç§»åŠ¨åˆ°ç®¡ç†ä¸Šä¸‹æ–‡çš„æ ¹ç›®å½•ã€‚ä¾‹å¦‚ï¼Œå¦‚æœç®¡ç†ä¸Šä¸‹æ–‡è·¯å¾„ä¸º`/management`ï¼Œåˆ™å¯ä»¥ä»`/management`è·å–å‘ç°é¡µé¢ã€‚å½“ç®¡ç†ä¸Šä¸‹æ–‡è·¯å¾„è®¾ç½®ä¸º`/`æ—¶ï¼Œå°†ç¦ç”¨å‘ç°é¡µé¢ä»¥é˜²æ­¢ä¸å…¶ä»–æ˜ å°„å†²çªçš„å¯èƒ½æ€§ã€‚

53.6 CORSæ”¯æŒ
-----------

[è·¨æºèµ„æºå…±äº«](https://en.wikipedia.org/wiki/Cross-origin_resource_sharing) ï¼ˆCORSï¼‰æ˜¯ä¸€ç§[W3Cè§„èŒƒ](https://www.w3.org/TR/cors/)ï¼Œå…è®¸æ‚¨ä»¥çµæ´»çš„æ–¹å¼æŒ‡å®šæˆæƒçš„è·¨åŸŸè¯·æ±‚ç±»å‹ã€‚å¦‚æœæ‚¨ä½¿ç”¨Spring MVCæˆ–Spring WebFluxï¼Œå¯ä»¥é…ç½®Actuatorçš„Webç«¯ç‚¹ä»¥æ”¯æŒæ­¤ç±»æ–¹æ¡ˆã€‚

é»˜è®¤æƒ…å†µä¸‹ç¦ç”¨CORSæ”¯æŒï¼Œä»…åœ¨è®¾ç½®äº†`management.endpoints.web.cors.allowed-origins`å±æ€§åæ‰å¯ç”¨CORSæ”¯æŒã€‚ä»¥ä¸‹é…ç½®å…è®¸æ¥è‡ª`example.com`åŸŸçš„`GET`å’Œ`POST`æ¥ç”µï¼š

```
management.endpoints.web.cors.allowed-origins=http://example.com
management.endpoints.web.cors.allowed-methods=GET,POST
```

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æœ‰å…³ é€‰é¡¹çš„å®Œæ•´åˆ—è¡¨ï¼Œè¯·å‚é˜… <a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/endpoint/web/CorsEndpointProperties.java" target="_top">CorsEndpointProperties</a>ã€‚</p></td></tr></tbody></table>

53.7å®ç°è‡ªå®šä¹‰ç«¯ç‚¹
-----------

å¦‚æœæ·»åŠ æ³¨é‡Šä¸º`@Endpoint`çš„`@Bean`ï¼Œåˆ™ä½¿ç”¨`@ReadOperation`ï¼Œ`@WriteOperation`æˆ–`@DeleteOperation`æ³¨é‡Šçš„ä»»ä½•æ–¹æ³•éƒ½ä¼šé€šè¿‡JMXè‡ªåŠ¨å…¬å¼€ï¼Œå¹¶ä¸”åœ¨Webåº”ç”¨ç¨‹åºä¸­ä¹Ÿä¼šé€šè¿‡HTTPè‡ªåŠ¨å…¬å¼€ã€‚å¯ä»¥ä½¿ç”¨Jerseyï¼ŒSpring MVCæˆ–Spring WebFluxé€šè¿‡HTTPå…¬å¼€ç«¯ç‚¹ã€‚

æ‚¨è¿˜å¯ä»¥ä½¿ç”¨`@JmxEndpoint`æˆ–`@WebEndpoint`ç¼–å†™ç‰¹å®šäºæŠ€æœ¯çš„ç«¯ç‚¹ã€‚è¿™äº›ç«¯ç‚¹ä»…é™äºå„è‡ªçš„æŠ€æœ¯ã€‚ä¾‹å¦‚ï¼Œ`@WebEndpoint`ä»…é€šè¿‡HTTPè€Œä¸æ˜¯é€šè¿‡JMXå…¬å¼€ã€‚

æ‚¨å¯ä»¥ä½¿ç”¨`@EndpointWebExtension`å’Œ`@EndpointJmxExtension`ç¼–å†™ç‰¹å®šäºæŠ€æœ¯çš„æ‰©å±•ã€‚é€šè¿‡è¿™äº›æ³¨é‡Šï¼Œæ‚¨å¯ä»¥æä¾›ç‰¹å®šäºæŠ€æœ¯çš„æ“ä½œæ¥æ‰©å……ç°æœ‰ç«¯ç‚¹ã€‚

æœ€åï¼Œå¦‚æœæ‚¨éœ€è¦è®¿é—®ç‰¹å®šäºWebæ¡†æ¶çš„åŠŸèƒ½ï¼Œæ‚¨å¯ä»¥å®ç°Servletæˆ–Spring `@Controller`å’Œ`@RestController`ç«¯ç‚¹ï¼Œä½†ä»£ä»·æ˜¯å®ƒä»¬æ— æ³•é€šè¿‡JMXæˆ–ä½¿ç”¨ä¸åŒçš„Webæ¡†æ¶ã€‚

### 53.7.1æ¥æ”¶è¾“å…¥

ç«¯ç‚¹ä¸Šçš„æ“ä½œé€šè¿‡å…¶å‚æ•°æ¥æ”¶è¾“å…¥ã€‚é€šè¿‡Webå…¬å¼€æ—¶ï¼Œè¿™äº›å‚æ•°çš„å€¼å–è‡ªURLçš„æŸ¥è¯¢å‚æ•°å’ŒJSONè¯·æ±‚ä½“ã€‚é€šè¿‡JMXå…¬å¼€æ—¶ï¼Œå‚æ•°å°†æ˜ å°„åˆ°MBeanæ“ä½œçš„å‚æ•°ã€‚é»˜è®¤æƒ…å†µä¸‹éœ€è¦å‚æ•°ã€‚å¯ä»¥é€šè¿‡ä½¿ç”¨`@org.springframework.lang.Nullable`æ³¨é‡Šå®ƒä»¬æ¥ä½¿å®ƒä»¬æˆä¸ºå¯é€‰é¡¹ã€‚

JSONè¯·æ±‚æ­£æ–‡ä¸­çš„æ¯ä¸ªæ ¹å±æ€§éƒ½å¯ä»¥æ˜ å°„åˆ°ç«¯ç‚¹çš„å‚æ•°ã€‚è¯·è€ƒè™‘ä»¥ä¸‹JSONè¯·æ±‚æ­£æ–‡ï¼š

```
{
	"name": "test",
	"counter": 42
}
```

è¿™å¯ç”¨äºè°ƒç”¨å¸¦æœ‰`String name`å’Œ`int counter`å‚æ•°çš„å†™æ“ä½œã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>ç”±äºç«¯ç‚¹ä¸æŠ€æœ¯æ— å…³ï¼Œå› æ­¤åªèƒ½åœ¨æ–¹æ³•ç­¾åä¸­æŒ‡å®šç®€å•ç±»å‹ã€‚ç‰¹åˆ«æ˜¯ä¸æ”¯æŒä½¿ç”¨å®šä¹‰<code class="literal" i="2408">name</code>å’Œ<code class="literal" i="2409">counter</code>å±æ€§çš„è‡ªå®šä¹‰ç±»å‹å£°æ˜å•ä¸ªå‚æ•°ã€‚</p></td></tr></tbody></table><table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>è¦å…è®¸è¾“å…¥æ˜ å°„åˆ°æ“ä½œæ–¹æ³•çš„å‚æ•°ï¼Œå®ç°ç«¯ç‚¹çš„Javaä»£ç åº”ä½¿ç”¨<code class="literal" i="2410">-parameters</code>è¿›è¡Œç¼–è¯‘ï¼Œå®ç°ç«¯ç‚¹çš„Kotlinä»£ç åº”ä½¿ç”¨<code class="literal" i="2411">-java-parameters</code>è¿›è¡Œç¼–è¯‘ã€‚å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯Spring Bootçš„Gradleæ’ä»¶ï¼Œæˆ–è€…æ‚¨ä½¿ç”¨çš„æ˜¯Mavenå’Œ<code class="literal" i="2412">spring-boot-starter-parent</code>ï¼Œåˆ™ä¼šè‡ªåŠ¨æ‰§è¡Œæ­¤æ“ä½œã€‚</p></td></tr></tbody></table>

#### è¾“å…¥ç±»å‹è½¬æ¢

å¦‚æœ‰å¿…è¦ï¼Œä¼ é€’ç»™ç«¯ç‚¹æ“ä½œæ–¹æ³•çš„å‚æ•°å°†è‡ªåŠ¨è½¬æ¢ä¸ºæ‰€éœ€ç±»å‹ã€‚åœ¨è°ƒç”¨æ“ä½œæ–¹æ³•ä¹‹å‰ï¼Œé€šè¿‡JMXæˆ–HTTPè¯·æ±‚æ¥æ”¶çš„è¾“å…¥å°†ä½¿ç”¨`ApplicationConversionService`çš„å®ä¾‹è½¬æ¢ä¸ºæ‰€éœ€ç±»å‹ã€‚

### 53.7.2è‡ªå®šä¹‰Webç«¯ç‚¹

`@Endpoint`ï¼Œ`@WebEndpoint`æˆ–`@EndpointWebExtension`ä¸Šçš„æ“ä½œå°†ä½¿ç”¨Jerseyï¼ŒSpring MVCæˆ–Spring WebFluxé€šè¿‡HTTPè‡ªåŠ¨å…¬å¼€ã€‚

#### Webç«¯ç‚¹è¯·æ±‚è°“è¯

ä¸ºWebæš´éœ²çš„ç«¯ç‚¹ä¸Šçš„æ¯ä¸ªæ“ä½œè‡ªåŠ¨ç”Ÿæˆè¯·æ±‚è°“è¯ã€‚

#### è·¯å¾„

è°“è¯çš„è·¯å¾„ç”±ç«¯ç‚¹çš„IDå’ŒWebæš´éœ²çš„ç«¯ç‚¹çš„åŸºæœ¬è·¯å¾„ç¡®å®šã€‚é»˜è®¤åŸºæœ¬è·¯å¾„ä¸º`/actuator`ã€‚ä¾‹å¦‚ï¼ŒIDä¸º`sessions`çš„ç«¯ç‚¹å°†ä½¿ç”¨`/actuator/sessions`ä½œä¸ºè°“è¯ä¸­çš„è·¯å¾„ã€‚

å¯ä»¥é€šè¿‡ä½¿ç”¨`@Selector`æ³¨é‡Šæ“ä½œæ–¹æ³•çš„ä¸€ä¸ªæˆ–å¤šä¸ªå‚æ•°æ¥è¿›ä¸€æ­¥å®šåˆ¶è·¯å¾„ã€‚è¿™æ ·çš„å‚æ•°ä½œä¸ºè·¯å¾„å˜é‡æ·»åŠ åˆ°è·¯å¾„è°“è¯ä¸­ã€‚è°ƒç”¨ç«¯ç‚¹æ“ä½œæ—¶ï¼Œå°†å˜é‡çš„å€¼ä¼ é€’ç»™æ“ä½œæ–¹æ³•ã€‚

#### HTTPæ–¹æ³•

è°“è¯çš„HTTPæ–¹æ³•ç”±æ“ä½œç±»å‹å†³å®šï¼Œå¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">æ‰‹æœ¯</th><th style="border-bottom: 1px solid ; " align="left" valign="top">HTTPæ–¹æ³•</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">@ReadOperation</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">GET</code></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">@WriteOperation</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">POST</code></p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">@DeleteOperation</code></p></td><td style="" align="left" valign="top" class="notranslate"><p><code class="literal">DELETE</code></p></td></tr></tbody></table>

#### æ¶ˆè´¹

å¯¹äºä½¿ç”¨è¯·æ±‚ä¸»ä½“çš„`@WriteOperation`ï¼ˆHTTP `POST`ï¼‰ï¼Œè°“è¯çš„consumemeså­å¥ä¸º`application/vnd.spring-boot.actuator.v2+json, application/json`ã€‚å¯¹äºæ‰€æœ‰å…¶ä»–æ“ä½œï¼Œconsumemeså­å¥ä¸ºç©ºã€‚

#### äº§ç”Ÿ

è°“è¯çš„produceå­å¥å¯ä»¥ç”±`@DeleteOperation`ï¼Œ`@ReadOperation`å’Œ`@WriteOperation`æ³¨é‡Šçš„`produces`å±æ€§ç¡®å®šã€‚è¯¥å±æ€§æ˜¯å¯é€‰çš„ã€‚å¦‚æœæœªä½¿ç”¨ï¼Œåˆ™è‡ªåŠ¨ç¡®å®šproduceå­å¥ã€‚

å¦‚æœæ“ä½œæ–¹æ³•è¿”å›`void`æˆ–`Void`ï¼Œåˆ™produceå­å¥ä¸ºç©ºã€‚å¦‚æœæ“ä½œæ–¹æ³•è¿”å›`org.springframework.core.io.Resource`ï¼Œåˆ™produceå­å¥ä¸º`application/octet-stream`ã€‚å¯¹äºæ‰€æœ‰å…¶ä»–æ“ä½œï¼Œproduceå­å¥æ˜¯`application/vnd.spring-boot.actuator.v2+json, application/json`ã€‚

#### Webç«¯ç‚¹å“åº”çŠ¶æ€

ç«¯ç‚¹æ“ä½œçš„é»˜è®¤å“åº”çŠ¶æ€å–å†³äºæ“ä½œç±»å‹ï¼ˆè¯»å–ï¼Œå†™å…¥æˆ–åˆ é™¤ï¼‰ä»¥åŠæ“ä½œè¿”å›çš„å†…å®¹ï¼ˆå¦‚æœæœ‰ï¼‰ã€‚

`@ReadOperation`è¿”å›ä¸€ä¸ªå€¼ï¼Œå“åº”çŠ¶æ€ä¸º200ï¼ˆOKï¼‰ã€‚å¦‚æœå®ƒæœªè¿”å›å€¼ï¼Œåˆ™å“åº”çŠ¶æ€å°†ä¸º404ï¼ˆæœªæ‰¾åˆ°ï¼‰ã€‚

å¦‚æœ`@WriteOperation`æˆ–`@DeleteOperation`è¿”å›å€¼ï¼Œåˆ™å“åº”çŠ¶æ€å°†ä¸º200ï¼ˆOKï¼‰ã€‚å¦‚æœå®ƒæ²¡æœ‰è¿”å›å€¼ï¼Œåˆ™å“åº”çŠ¶æ€å°†ä¸º204ï¼ˆæ— å†…å®¹ï¼‰ã€‚

å¦‚æœåœ¨æ²¡æœ‰å¿…éœ€å‚æ•°çš„æƒ…å†µä¸‹è°ƒç”¨æ“ä½œï¼Œæˆ–è€…ä½¿ç”¨æ— æ³•è½¬æ¢ä¸ºæ‰€éœ€ç±»å‹çš„å‚æ•°ï¼Œåˆ™ä¸ä¼šè°ƒç”¨æ“ä½œæ–¹æ³•ï¼Œå¹¶ä¸”å“åº”çŠ¶æ€å°†ä¸º400ï¼ˆé”™è¯¯è¯·æ±‚ï¼‰ã€‚

#### Webç«¯ç‚¹èŒƒå›´è¯·æ±‚

HTTPèŒƒå›´è¯·æ±‚å¯ç”¨äºè¯·æ±‚HTTPèµ„æºçš„ä¸€éƒ¨åˆ†ã€‚ä½¿ç”¨Spring MVCæˆ–Spring Web Fluxæ—¶ï¼Œè¿”å›`org.springframework.core.io.Resource`çš„æ“ä½œä¼šè‡ªåŠ¨æ”¯æŒèŒƒå›´è¯·æ±‚ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>ä½¿ç”¨Jerseyæ—¶ä¸æ”¯æŒèŒƒå›´è¯·æ±‚ã€‚</p></td></tr></tbody></table>

#### Webç«¯ç‚¹å®‰å…¨

Webç«¯ç‚¹æˆ–ç‰¹å®šäºWebçš„ç«¯ç‚¹æ‰©å±•ä¸Šçš„æ“ä½œå¯ä»¥æ¥æ”¶å½“å‰`java.security.Principal`æˆ–`org.springframework.boot.actuate.endpoint.SecurityContext`ä½œä¸ºæ–¹æ³•å‚æ•°ã€‚å‰è€…é€šå¸¸ä¸`@Nullable`ç»“åˆä½¿ç”¨ï¼Œä¸ºç»è¿‡èº«ä»½éªŒè¯å’Œæœªç»èº«ä»½éªŒè¯çš„ç”¨æˆ·æä¾›ä¸åŒçš„è¡Œä¸ºã€‚åè€…é€šå¸¸ç”¨äºä½¿ç”¨`isUserInRole(String)`æ–¹æ³•æ‰§è¡Œæˆæƒæ£€æŸ¥ã€‚

### 53.7.3 Servletç«¯ç‚¹

é€šè¿‡å®ç°ä¸€ä¸ªæ³¨é‡Šä¸º`@ServletEndpoint`ä¸”åŒæ—¶å®ç°`Supplier<EndpointServlet>`çš„ç±»ï¼Œå¯ä»¥å°†`Servlet`å…¬å¼€ä¸ºç«¯ç‚¹ã€‚Servletç«¯ç‚¹æä¾›ä¸Servletå®¹å™¨æ›´æ·±å±‚æ¬¡çš„é›†æˆï¼Œä½†ä»£ä»·æ˜¯å¯ç§»æ¤æ€§ã€‚å®ƒä»¬æ—¨åœ¨ç”¨äºå°†ç°æœ‰çš„`Servlet`ä½œä¸ºç«¯ç‚¹å…¬å¼€ã€‚å¯¹äºæ–°ç«¯ç‚¹ï¼Œåº”å°½å¯èƒ½ä¼˜å…ˆé€‰æ‹©`@Endpoint`å’Œ`@WebEndpoint`æ³¨é‡Šã€‚

### 53.7.4æ§åˆ¶å™¨ç«¯ç‚¹

`@ControllerEndpoint`å’Œ`@RestControllerEndpoint`å¯ç”¨äºå®ç°ä»…ç”±Spring MVCæˆ–Spring WebFluxå…¬å¼€çš„ç«¯ç‚¹ã€‚ä½¿ç”¨Spring MVCå’ŒSpring WebFluxçš„æ ‡å‡†æ³¨é‡Šï¼ˆä¾‹å¦‚`@RequestMapping`å’Œ`@GetMapping`ï¼‰æ˜ å°„æ–¹æ³•ï¼Œå¹¶å°†ç«¯ç‚¹çš„IDç”¨ä½œè·¯å¾„çš„å‰ç¼€ã€‚æ§åˆ¶å™¨ç«¯ç‚¹æä¾›ä¸Spring Webæ¡†æ¶çš„æ›´æ·±å±‚æ¬¡é›†æˆï¼Œä½†ä»£ä»·æ˜¯å¯ç§»æ¤æ€§ã€‚åº”å°½å¯èƒ½ä¼˜å…ˆè€ƒè™‘`@Endpoint`å’Œ`@WebEndpoint`æ³¨é‡Šã€‚

53.8å¥åº·ä¿¡æ¯
--------

æ‚¨å¯ä»¥ä½¿ç”¨è¿è¡ŒçŠ¶å†µä¿¡æ¯æ¥æ£€æŸ¥æ­£åœ¨è¿è¡Œçš„åº”ç”¨ç¨‹åºçš„çŠ¶æ€ã€‚ç›‘è§†è½¯ä»¶ç»å¸¸ä½¿ç”¨å®ƒæ¥åœ¨ç”Ÿäº§ç³»ç»Ÿå‡ºç°æ•…éšœæ—¶å‘æŸäººå‘å‡ºè­¦æŠ¥ã€‚`health`ç«¯ç‚¹å…¬å¼€çš„ä¿¡æ¯å–å†³äº`management.endpoint.health.show-details`å±æ€§ï¼Œè¯¥å±æ€§å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å€¼ä¹‹ä¸€è¿›è¡Œé…ç½®ï¼š

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">åç§°</th><th style="border-bottom: 1px solid ; " align="left" valign="top">æè¿°</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">never</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>ç»†èŠ‚æ°¸è¿œä¸ä¼šæ˜¾ç¤ºã€‚</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">when-authorized</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>è¯¦ç»†ä¿¡æ¯ä»…å‘æˆæƒç”¨æˆ·æ˜¾ç¤ºã€‚å¯ä»¥ä½¿ç”¨<code class="literal" i="2455">management.endpoint.health.roles</code>é…ç½®æˆæƒè§’è‰²ã€‚</p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">always</code></p></td><td style="" align="left" valign="top" class=""><p>è¯¦ç»†ä¿¡æ¯æ˜¾ç¤ºç»™æ‰€æœ‰ç”¨æˆ·ã€‚</p></td></tr></tbody></table>

é»˜è®¤å€¼ä¸º`never`ã€‚å½“ç”¨æˆ·å¤„äºä¸€ä¸ªæˆ–å¤šä¸ªç«¯ç‚¹çš„è§’è‰²æ—¶ï¼Œå°†è¢«è§†ä¸ºå·²è·å¾—æˆæƒã€‚å¦‚æœç«¯ç‚¹æ²¡æœ‰é…ç½®è§’è‰²ï¼ˆé»˜è®¤å€¼ï¼‰ï¼Œåˆ™è®¤ä¸ºæ‰€æœ‰ç»è¿‡èº«ä»½éªŒè¯çš„ç”¨æˆ·éƒ½å·²è·å¾—æˆæƒã€‚å¯ä»¥ä½¿ç”¨`management.endpoint.health.roles`å±æ€§é…ç½®è§’è‰²ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å¦‚æœæ‚¨å·²ä¿æŠ¤åº”ç”¨ç¨‹åºå¹¶å¸Œæœ›ä½¿ç”¨<code class="literal" i="2458">always</code>ï¼Œåˆ™æ‚¨çš„å®‰å…¨é…ç½®å¿…é¡»å…è®¸å¯¹ç»è¿‡èº«ä»½éªŒè¯å’Œæœªç»èº«ä»½éªŒè¯çš„ç”¨æˆ·è®¿é—®è¿è¡ŒçŠ¶å†µç»ˆç»“ç‚¹ã€‚</p></td></tr></tbody></table>

å¥åº·ä¿¡æ¯æ˜¯ä»açš„å†…å®¹ä¸­æ”¶é›†çš„ ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼Œ`ApplicationContext`ä¸­å®šä¹‰çš„æ‰€æœ‰ å®ä¾‹ã€‚Spring BootåŒ…æ‹¬ä¸€äº›è‡ªåŠ¨é…ç½®çš„`HealthIndicators`ï¼Œæ‚¨ä¹Ÿå¯ä»¥è‡ªå·±ç¼–å†™ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæœ€ç»ˆç³»ç»ŸçŠ¶æ€ç”±`HealthAggregator`å¯¼å‡ºï¼Œå®ƒæ ¹æ®çŠ¶æ€çš„æœ‰åºåˆ—è¡¨å¯¹æ¯ä¸ª`HealthIndicator`çš„çŠ¶æ€è¿›è¡Œæ’åºã€‚æ’åºåˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªçŠ¶æ€ç”¨ä½œæ•´ä½“å¥åº·çŠ¶æ€ã€‚å¦‚æœæ²¡æœ‰`HealthIndicator`è¿”å›`HealthAggregator`å·²çŸ¥çš„çŠ¶æ€ï¼Œä½¿ç”¨`UNKNOWN`çŠ¶æ€ã€‚ [`HealthIndicatorRegistry`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/health/HealthIndicatorRegistry.java)[`HealthIndicator`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/health/HealthIndicator.java)

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p><code class="literal" i="2466">HealthIndicatorRegistry</code>å¯ç”¨äºåœ¨è¿è¡Œæ—¶æ³¨å†Œå’Œå–æ¶ˆæ³¨å†Œå¥åº·æŒ‡ç¤ºå™¨ã€‚</p></td></tr></tbody></table>

### 53.8.1è‡ªåŠ¨é…ç½®çš„HealthIndicators

é€‚å½“æ—¶ï¼ŒSpring Bootä¼šè‡ªåŠ¨é…ç½®ä»¥ä¸‹`HealthIndicators`ï¼š

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">åç§°</th><th style="border-bottom: 1px solid ; " align="left" valign="top">æè¿°</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/cassandra/CassandraHealthIndicator.java" target="_top"><code class="literal">CassandraHealthIndicator</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>æ£€æŸ¥Cassandraæ•°æ®åº“æ˜¯å¦å·²å¯åŠ¨ã€‚</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/couchbase/CouchbaseHealthIndicator.java" target="_top"><code class="literal">CouchbaseHealthIndicator</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>æ£€æŸ¥Couchbaseç¾¤é›†æ˜¯å¦å·²å¯åŠ¨ã€‚</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/system/DiskSpaceHealthIndicator.java" target="_top"><code class="literal">DiskSpaceHealthIndicator</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>æ£€æŸ¥ç£ç›˜ç©ºé—´ä¸è¶³ã€‚</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/jdbc/DataSourceHealthIndicator.java" target="_top"><code class="literal">DataSourceHealthIndicator</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>æ£€æŸ¥æ˜¯å¦å¯ä»¥è·å¾—ä¸<code class="literal" i="2468">DataSource</code>çš„è¿æ¥ã€‚</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/elasticsearch/ElasticsearchHealthIndicator.java" target="_top"><code class="literal">ElasticsearchHealthIndicator</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>æ£€æŸ¥Elasticsearché›†ç¾¤æ˜¯å¦å·²å¯åŠ¨ã€‚</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/influx/InfluxDbHealthIndicator.java" target="_top"><code class="literal">InfluxDbHealthIndicator</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>æ£€æŸ¥InfluxDBæœåŠ¡å™¨æ˜¯å¦å·²å¯åŠ¨ã€‚</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/jms/JmsHealthIndicator.java" target="_top"><code class="literal">JmsHealthIndicator</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>æ£€æŸ¥JMSä»£ç†æ˜¯å¦å·²å¯åŠ¨ã€‚</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/mail/MailHealthIndicator.java" target="_top"><code class="literal">MailHealthIndicator</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>æ£€æŸ¥é‚®ä»¶æœåŠ¡å™¨æ˜¯å¦å·²å¯åŠ¨ã€‚</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/mongo/MongoHealthIndicator.java" target="_top"><code class="literal">MongoHealthIndicator</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>æ£€æŸ¥Mongoæ•°æ®åº“æ˜¯å¦å·²å¯åŠ¨ã€‚</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/neo4j/Neo4jHealthIndicator.java" target="_top"><code class="literal">Neo4jHealthIndicator</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>æ£€æŸ¥Neo4jæœåŠ¡å™¨æ˜¯å¦å·²å¯åŠ¨ã€‚</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/amqp/RabbitHealthIndicator.java" target="_top"><code class="literal">RabbitHealthIndicator</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>æ£€æŸ¥RabbitæœåŠ¡å™¨æ˜¯å¦å·²å¯åŠ¨ã€‚</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/redis/RedisHealthIndicator.java" target="_top"><code class="literal">RedisHealthIndicator</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>æ£€æŸ¥RedisæœåŠ¡å™¨æ˜¯å¦å·²å¯åŠ¨ã€‚</p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/solr/SolrHealthIndicator.java" target="_top"><code class="literal">SolrHealthIndicator</code></a></p></td><td style="" align="left" valign="top" class=""><p>æ£€æŸ¥SolræœåŠ¡å™¨æ˜¯å¦å·²å¯åŠ¨ã€‚</p></td></tr></tbody></table><table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æ‚¨å¯ä»¥é€šè¿‡è®¾ç½®<code class="literal" i="2469">management.health.defaults.enabled</code>å±æ€§æ¥ç¦ç”¨å®ƒä»¬ã€‚</p></td></tr></tbody></table>

### 53.8.2ç¼–å†™è‡ªå®šä¹‰HealthIndicators

è¦æä¾›è‡ªå®šä¹‰å¥åº·ä¿¡æ¯ï¼Œæ‚¨å¯ä»¥æ³¨å†Œå®ç°è¯¥[`HealthIndicator`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/health/HealthIndicator.java)ç•Œé¢çš„Spring beans ã€‚æ‚¨éœ€è¦æä¾›`health()`æ–¹æ³•çš„å®ç°å¹¶è¿”å›`Health`å“åº”ã€‚`Health`å“åº”åº”åŒ…å«çŠ¶æ€ï¼Œå¹¶å¯é€‰æ‹©åŒ…å«è¦æ˜¾ç¤ºçš„å…¶ä»–è¯¦ç»†ä¿¡æ¯ã€‚ä»¥ä¸‹ä»£ç æ˜¾ç¤ºäº†ä¸€ä¸ªç¤ºä¾‹`HealthIndicator`å®ç°ï¼š

```
import org.springframework.boot.actuate.health.Health;
import org.springframework.boot.actuate.health.HealthIndicator;
import org.springframework.stereotype.Component;

_@Component_
public class MyHealthIndicator implements HealthIndicator {

	_@Override_
	public Health health() {
		int errorCode = check(); // perform some specific health check
		if (errorCode != 0) {
			return Health.down().withDetail("Error Code", errorCode).build();
		}
		return Health.up().build();
	}

}
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>ç»™å®š<code class="literal" i="2474">HealthIndicator</code>çš„æ ‡è¯†ç¬¦æ˜¯æ²¡æœ‰<code class="literal" i="2475">HealthIndicator</code>åç¼€çš„beançš„åç§°ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ã€‚åœ¨å‰é¢çš„ç¤ºä¾‹ä¸­ï¼Œå¥åº·ä¿¡æ¯åœ¨åä¸º<code class="literal" i="2476">my</code>çš„æ¡ç›®ä¸­å¯ç”¨ã€‚</p></td></tr></tbody></table>

é™¤äº†Spring Bootçš„é¢„å®šä¹‰ [`Status`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/health/Status.java)ç±»å‹ä¹‹å¤–ï¼Œ`Health`è¿˜å¯ä»¥è¿”å›è¡¨ç¤ºæ–°ç³»ç»ŸçŠ¶æ€çš„è‡ªå®šä¹‰`Status`ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ[`HealthAggregator`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/health/HealthAggregator.java)è¿˜éœ€è¦æä¾›æ¥å£çš„è‡ªå®šä¹‰å®ç° ï¼Œæˆ–è€…å¿…é¡»ä½¿ç”¨`management.health.status.order`é…ç½®å±æ€§é…ç½®é»˜è®¤å®ç°ã€‚

ä¾‹å¦‚ï¼Œå‡è®¾åœ¨`HealthIndicator`å®ç°ä¹‹ä¸€ä¸­ä½¿ç”¨äº†ä»£ç ä¸º`FATAL`çš„æ–°`Status`ã€‚è¦é…ç½®ä¸¥é‡æ€§é¡ºåºï¼Œè¯·å°†ä»¥ä¸‹å±æ€§æ·»åŠ åˆ°åº”ç”¨ç¨‹åºå±æ€§ï¼š

```
management.health.status.order=FATAL, DOWN, OUT_OF_SERVICE, UNKNOWN, UP
```

å“åº”ä¸­çš„HTTPçŠ¶æ€ä»£ç åæ˜ äº†æ•´ä½“è¿è¡ŒçŠ¶å†µï¼ˆä¾‹å¦‚ï¼Œ`UP`æ˜ å°„åˆ°200ï¼Œè€Œ`OUT_OF_SERVICE`å’Œ`DOWN`æ˜ å°„åˆ°503ï¼‰ã€‚å¦‚æœé€šè¿‡HTTPè®¿é—®è¿è¡ŒçŠ¶å†µç«¯ç‚¹ï¼Œåˆ™å¯èƒ½è¿˜éœ€è¦æ³¨å†Œè‡ªå®šä¹‰çŠ¶æ€æ˜ å°„ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹å±æ€§å°†`FATAL`æ˜ å°„åˆ°503ï¼ˆæœåŠ¡ä¸å¯ç”¨ï¼‰ï¼š

```
management.health.status.http-mapping.FATAL=503
```

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¦‚æœæ‚¨éœ€è¦æ›´å¤šæ§åˆ¶æƒï¼Œå¯ä»¥å®šä¹‰è‡ªå·±çš„<code class="literal" i="2487">HealthStatusHttpMapper</code> beanã€‚</p></td></tr></tbody></table>

ä¸‹è¡¨æ˜¾ç¤ºäº†å†…ç½®çŠ¶æ€çš„é»˜è®¤çŠ¶æ€æ˜ å°„ï¼š

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">çŠ¶æ€</th><th style="border-bottom: 1px solid ; " align="left" valign="top">åˆ¶å›¾</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>DOWN</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>SERVICE_UNAVAILABLE (503)</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>OUT_OF_SERVICE</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>SERVICE_UNAVAILABLE (503)</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>UP</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>No mapping by default, so http status is 200</p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p>UNKNOWN</p></td><td style="" align="left" valign="top" class="notranslate"><p>No mapping by default, so http status is 200</p></td></tr></tbody></table>

### 53.8.3ååº”æ€§å¥åº·æŒ‡æ ‡

å¯¹äºååº”æ€§åº”ç”¨ç¨‹åºï¼Œä¾‹å¦‚é‚£äº›ä½¿ç”¨Spring WebFluxçš„åº”ç”¨ç¨‹åºï¼Œ`ReactiveHealthIndicator`æä¾›äº†ä¸€ä¸ªéé˜»å¡çš„åˆåŒæ¥è·å–åº”ç”¨ç¨‹åºè¿è¡ŒçŠ¶å†µã€‚ä¸ä¼ ç»Ÿçš„`HealthIndicator`ç±»ä¼¼ï¼Œå¥åº·ä¿¡æ¯æ˜¯ä»açš„å†…å®¹ä¸­æ”¶é›†çš„ ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨`ApplicationContext`ä¸­å®šä¹‰çš„æ‰€æœ‰ å’Œ å®ä¾‹ã€‚ä¸æ£€æŸ¥ååº”APIçš„å¸¸è§„`HealthIndicator`æ˜¯åœ¨å¼¹æ€§ä¸Šæ‰§è¡Œçš„è°ƒåº¦ã€‚ [`ReactiveHealthIndicatorRegistry`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/health/ReactiveHealthIndicatorRegistry.java)[`HealthIndicator`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/health/HealthIndicator.java) [`ReactiveHealthIndicator`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/health/ReactiveHealthIndicator.java)

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>åœ¨å“åº”å¼åº”ç”¨ç¨‹åºä¸­ï¼Œ<code class="literal" i="2492">ReactiveHealthIndicatorRegistry</code>å¯ç”¨äºåœ¨è¿è¡Œæ—¶æ³¨å†Œå’Œå–æ¶ˆæ³¨å†Œè¿è¡ŒçŠ¶å†µæŒ‡ç¤ºå™¨ã€‚</p></td></tr></tbody></table>

è¦ä»ååº”å¼APIæä¾›è‡ªå®šä¹‰è¿è¡ŒçŠ¶å†µä¿¡æ¯ï¼Œæ‚¨å¯ä»¥æ³¨å†Œå®ç°è¯¥[`ReactiveHealthIndicator`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/health/ReactiveHealthIndicator.java) æ¥å£çš„Spring beans ã€‚ä»¥ä¸‹ä»£ç æ˜¾ç¤ºäº†ä¸€ä¸ªç¤ºä¾‹`ReactiveHealthIndicator`å®ç°ï¼š

```
_@Component_
public class MyReactiveHealthIndicator implements ReactiveHealthIndicator {

	_@Override_
	public Mono<Health> health() {
		return doHealthCheck() //perform some specific health check that returns a Mono<Health>
			.onErrorResume(ex -> Mono.just(new Health.Builder().down(ex).build())));
	}

}
```

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>è¦è‡ªåŠ¨å¤„ç†é”™è¯¯ï¼Œè¯·è€ƒè™‘ä»<code class="literal" i="2494">AbstractReactiveHealthIndicator</code>æ‰©å±•ã€‚</p></td></tr></tbody></table>

### 53.8.4è‡ªåŠ¨é…ç½®çš„ReactiveHealthIndicators

é€‚å½“æ—¶ï¼ŒSpring Bootä¼šè‡ªåŠ¨é…ç½®ä»¥ä¸‹`ReactiveHealthIndicators`ï¼š

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">åç§°</th><th style="border-bottom: 1px solid ; " align="left" valign="top">æè¿°</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/cassandra/CassandraReactiveHealthIndicator.java" target="_top"><code class="literal">CassandraReactiveHealthIndicator</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>æ£€æŸ¥Cassandraæ•°æ®åº“æ˜¯å¦å·²å¯åŠ¨ã€‚</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/couchbase/CouchbaseReactiveHealthIndicator.java" target="_top"><code class="literal">CouchbaseReactiveHealthIndicator</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>æ£€æŸ¥Couchbaseç¾¤é›†æ˜¯å¦å·²å¯åŠ¨ã€‚</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/mongo/MongoReactiveHealthIndicator.java" target="_top"><code class="literal">MongoReactiveHealthIndicator</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>æ£€æŸ¥Mongoæ•°æ®åº“æ˜¯å¦å·²å¯åŠ¨ã€‚</p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/redis/RedisReactiveHealthIndicator.java" target="_top"><code class="literal">RedisReactiveHealthIndicator</code></a></p></td><td style="" align="left" valign="top" class=""><p>æ£€æŸ¥RedisæœåŠ¡å™¨æ˜¯å¦å·²å¯åŠ¨ã€‚</p></td></tr></tbody></table><table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¿…è¦æ—¶ï¼Œååº”æŒ‡æ ‡å–ä»£å¸¸è§„æŒ‡æ ‡ã€‚æ­¤å¤–ï¼Œä»»ä½•æœªæ˜ç¡®å¤„ç†çš„<code class="literal" i="2496">HealthIndicator</code>éƒ½ä¼šè‡ªåŠ¨æ¢è¡Œã€‚</p></td></tr></tbody></table>

53.9ç”³è¯·ä¿¡æ¯
--------

åº”ç”¨ç¨‹åºä¿¡æ¯å…¬å¼€äº†ä»[`InfoContributor`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/info/InfoContributor.java)`ApplicationContext`ä¸­å®šä¹‰çš„æ‰€æœ‰beans æ”¶é›†çš„å„ç§ä¿¡æ¯ ã€‚Spring BootåŒ…å«ä¸€äº›è‡ªåŠ¨é…ç½®çš„`InfoContributor` beansï¼Œæ‚¨å¯ä»¥è‡ªå·±ç¼–å†™ã€‚

### 53.9.1è‡ªåŠ¨é…ç½®çš„InfoContributors

åœ¨é€‚å½“çš„æƒ…å†µä¸‹ï¼ŒSpring Bootä¼šè‡ªåŠ¨é…ç½®ä»¥ä¸‹`InfoContributor` beansï¼š

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">åç§°</th><th style="border-bottom: 1px solid ; " align="left" valign="top">æè¿°</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/info/EnvironmentInfoContributor.java" target="_top"><code class="literal">EnvironmentInfoContributor</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>åœ¨<code class="literal" i="2501">info</code>é”®ä¸‹æ˜¾ç¤º<code class="literal" i="2500">Environment</code>ä¸­çš„ä»»æ„é”®ã€‚</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/info/GitInfoContributor.java" target="_top"><code class="literal">GitInfoContributor</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>å¦‚æœ<code class="literal" i="2502">git.properties</code>æ–‡ä»¶å¯ç”¨ï¼Œåˆ™å…¬å¼€gitä¿¡æ¯ã€‚</p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/info/BuildInfoContributor.java" target="_top"><code class="literal">BuildInfoContributor</code></a></p></td><td style="" align="left" valign="top" class=""><p>å¦‚æœ<code class="literal" i="2503">META-INF/build-info.properties</code>æ–‡ä»¶å¯ç”¨ï¼Œåˆ™å…¬å¼€æ„å»ºä¿¡æ¯ã€‚</p></td></tr></tbody></table><table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¯ä»¥é€šè¿‡è®¾ç½®<code class="literal" i="2504">management.info.defaults.enabled</code>å±æ€§æ¥ç¦ç”¨å®ƒä»¬ã€‚</p></td></tr></tbody></table>

### 53.9.2è‡ªå®šä¹‰åº”ç”¨ç¨‹åºä¿¡æ¯

æ‚¨å¯ä»¥é€šè¿‡è®¾ç½®`info.*` Springå±æ€§æ¥è‡ªå®šä¹‰`info`ç«¯ç‚¹å…¬å¼€çš„æ•°æ®ã€‚`info`é”®ä¸‹çš„æ‰€æœ‰`Environment`å±æ€§éƒ½ä¼šè‡ªåŠ¨æ˜¾ç¤ºã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥å°†ä»¥ä¸‹è®¾ç½®æ·»åŠ åˆ°`application.properties`æ–‡ä»¶ä¸­ï¼š

```
info.app.encoding=UTF-8
info.app.java.source=1.8
info.app.java.target=1.8
```

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æ‚¨å¯ä»¥<a class="link" href="#howto-automatic-expansion" title="77.1åœ¨æ„å»ºæ—¶è‡ªåŠ¨å±•å¼€å±æ€§">åœ¨æ„å»ºæ—¶æ‰©å±•ä¿¡æ¯å±æ€§ï¼Œ</a>è€Œä¸æ˜¯å¯¹è¿™äº›å€¼è¿›è¡Œç¡¬ç¼–ç  ã€‚</p><p>å‡è®¾æ‚¨ä½¿ç”¨Mavenï¼Œæ‚¨å¯ä»¥æŒ‰å¦‚ä¸‹æ–¹å¼é‡å†™å‰é¢çš„ç¤ºä¾‹ï¼š</p><pre class="programlisting notranslate">info.app.encoding=@project.build.sourceEncoding@
info.app.java.source=@java.version@
info.app.java.target=@java.version@</pre></td></tr></tbody></table>


### 53.9.3 Gitæäº¤ä¿¡æ¯

`info`ç«¯ç‚¹çš„å¦ä¸€ä¸ªæœ‰ç”¨åŠŸèƒ½æ˜¯å®ƒèƒ½å¤Ÿåœ¨æ„å»ºé¡¹ç›®æ—¶å‘å¸ƒæœ‰å…³`git`æºä»£ç å­˜å‚¨åº“çŠ¶æ€çš„ä¿¡æ¯ã€‚å¦‚æœ`GitProperties` beanå¯ç”¨ï¼Œåˆ™ä¼šå…¬å¼€`git.branch`ï¼Œ`git.commit.id`å’Œ`git.commit.time`å±æ€§ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¦‚æœç±»è·¯å¾„çš„æ ¹ç›®å½•ä¸­æœ‰<code class="literal" i="2517">git.properties</code>æ–‡ä»¶ï¼Œåˆ™è‡ªåŠ¨é…ç½®<code class="literal" i="2516">GitProperties</code> beanã€‚æœ‰å…³æ›´å¤šè¯¦ç»†<a class="link" href="#howto-git-info" title="91.2ç”ŸæˆGitä¿¡æ¯">ä¿¡æ¯ï¼Œ</a>è¯·å‚é˜…â€œ <a class="link" href="#howto-git-info" title="91.2&nbsp;Generate Git Information">ç”Ÿæˆgitä¿¡æ¯</a> â€ã€‚</p></td></tr></tbody></table>

å¦‚æœè¦æ˜¾ç¤ºå®Œæ•´çš„gitä¿¡æ¯ï¼ˆå³`git.properties`çš„å®Œæ•´å†…å®¹ï¼‰ï¼Œè¯·ä½¿ç”¨`management.info.git.mode`å±æ€§ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
management.info.git.mode=full
```

### 53.9.4æ„å»ºä¿¡æ¯

å¦‚æœ`BuildProperties` beanå¯ç”¨ï¼Œ`info`ç«¯ç‚¹ä¹Ÿå¯ä»¥å‘å¸ƒæœ‰å…³æ‚¨çš„æ„å»ºçš„ä¿¡æ¯ã€‚å¦‚æœç±»è·¯å¾„ä¸­æœ‰`META-INF/build-info.properties`æ–‡ä»¶ï¼Œåˆ™ä¼šå‘ç”Ÿè¿™ç§æƒ…å†µã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>Mavenå’ŒGradleæ’ä»¶éƒ½å¯ä»¥ç”Ÿæˆè¯¥æ–‡ä»¶ã€‚æœ‰å…³æ›´å¤šè¯¦ç»†<a class="link" href="#howto-build-info" title="91.1ç”Ÿæˆæ„å»ºä¿¡æ¯">ä¿¡æ¯ï¼Œ</a>è¯·å‚é˜…â€œ <a class="link" href="#howto-build-info" title="91.1&nbsp;Generate Build Information">ç”Ÿæˆæ„å»ºä¿¡æ¯</a> â€ã€‚</p></td></tr></tbody></table>

### 53.9.5ç¼–å†™è‡ªå®šä¹‰InfoContributors

è¦æä¾›è‡ªå®šä¹‰åº”ç”¨ç¨‹åºä¿¡æ¯ï¼Œæ‚¨å¯ä»¥æ³¨å†Œå®ç°è¯¥[`InfoContributor`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/info/InfoContributor.java)æ¥å£çš„Spring beans ã€‚

ä»¥ä¸‹ç¤ºä¾‹ä½¿ç”¨å•ä¸ªå€¼æä¾›`example`æ¡ç›®ï¼š

```
import java.util.Collections;

import org.springframework.boot.actuate.info.Info;
import org.springframework.boot.actuate.info.InfoContributor;
import org.springframework.stereotype.Component;

_@Component_
public class ExampleInfoContributor implements InfoContributor {

	_@Override_
	public void contribute(Info.Builder builder) {
		builder.withDetail("example",
				Collections.singletonMap("key", "value"));
	}

}
```

å¦‚æœåˆ°è¾¾`info`ç«¯ç‚¹ï¼Œæ‚¨åº”è¯¥çœ‹åˆ°åŒ…å«ä»¥ä¸‹é™„åŠ æ¡ç›®çš„å“åº”ï¼š

```
{
	"example": {
		"key" : "value"
	}
}
```

54.é€šè¿‡HTTPè¿›è¡Œç›‘æ§å’Œç®¡ç†
----------------

å¦‚æœæ‚¨æ­£åœ¨å¼€å‘Webåº”ç”¨ç¨‹åºï¼ŒSpring Boot Actuatorä¼šè‡ªåŠ¨é…ç½®æ‰€æœ‰å·²å¯ç”¨çš„ç«¯ç‚¹ä»¥é€šè¿‡HTTPå…¬å¼€ã€‚é»˜è®¤çº¦å®šæ˜¯ä½¿ç”¨ç«¯ç‚¹`id`ä½œä¸ºURLè·¯å¾„ï¼Œå‰ç¼€ä¸º`/actuator`ã€‚ä¾‹å¦‚ï¼Œ`health`æš´éœ²ä¸º`/actuator/health`ã€‚æç¤ºï¼šActuatoræœ¬èº«æ”¯æŒSpring MVCï¼ŒSpring WebFluxå’ŒJerseyã€‚

54.1è‡ªå®šä¹‰ç®¡ç†ç«¯ç‚¹è·¯å¾„
-------------

æœ‰æ—¶ï¼Œè‡ªå®šä¹‰ç®¡ç†ç«¯ç‚¹çš„å‰ç¼€å¾ˆæœ‰ç”¨ã€‚ä¾‹å¦‚ï¼Œæ‚¨çš„åº”ç”¨ç¨‹åºå¯èƒ½å·²å°†`/actuator`ç”¨äºå…¶ä»–ç›®çš„ã€‚æ‚¨å¯ä»¥ä½¿ç”¨`management.endpoints.web.base-path`å±æ€§æ›´æ”¹ç®¡ç†ç«¯ç‚¹çš„å‰ç¼€ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
management.endpoints.web.base-path=/manage
```

å‰é¢çš„`application.properties`ç¤ºä¾‹å°†ç«¯ç‚¹ä»`/actuator/{id}`æ›´æ”¹ä¸º`/manage/{id}`ï¼ˆä¾‹å¦‚ï¼Œ`/manage/info`ï¼‰ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>é™¤éå·²å°†ç®¡ç†ç«¯å£é…ç½®ä¸º<a class="link" href="#production-ready-customizing-management-server-port" title="54.2è‡ªå®šä¹‰Management Serverç«¯å£">ä½¿ç”¨å…¶ä»–HTTPç«¯å£å…¬å¼€ç«¯ç‚¹ï¼Œ</a>å¦åˆ™ <code class="literal" i="2535">management.endpoints.web.base-path</code>ç›¸å¯¹äº<code class="literal" i="2536">server.servlet.context-path</code>ã€‚å¦‚æœé…ç½®äº†<code class="literal" i="2537">management.server.port</code>ï¼Œåˆ™<code class="literal" i="2538">management.endpoints.web.base-path</code>ç›¸å¯¹äº<code class="literal" i="2539">management.server.servlet.context-path</code>ã€‚</p></td></tr></tbody></table>

å¦‚æœè¦å°†ç«¯ç‚¹æ˜ å°„åˆ°å…¶ä»–è·¯å¾„ï¼Œå¯ä»¥ä½¿ç”¨`management.endpoints.web.path-mapping`å±æ€§ã€‚

ä»¥ä¸‹ç¤ºä¾‹å°†`/actuator/health`é‡æ–°æ˜ å°„ä¸º`/healthcheck`ï¼š

**application.propertiesã€‚** 

```
management.endpoints.web.base-path=/
management.endpoints.web.path-mapping.health=healthcheck
```

54.2è‡ªå®šä¹‰Management Serverç«¯å£
--------------------------

ä½¿ç”¨é»˜è®¤HTTPç«¯å£å…¬å¼€ç®¡ç†ç«¯ç‚¹æ˜¯åŸºäºäº‘çš„éƒ¨ç½²çš„æ˜æ™ºé€‰æ‹©ã€‚ä½†æ˜¯ï¼Œå¦‚æœæ‚¨çš„åº”ç”¨ç¨‹åºåœ¨æ‚¨è‡ªå·±çš„æ•°æ®ä¸­å¿ƒå†…è¿è¡Œï¼Œæ‚¨å¯èƒ½æ›´å–œæ¬¢ä½¿ç”¨ä¸åŒçš„HTTPç«¯å£å…¬å¼€ç«¯ç‚¹ã€‚

æ‚¨å¯ä»¥è®¾ç½®`management.server.port`å±æ€§ä»¥æ›´æ”¹HTTPç«¯å£ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
management.server.port=8081
```

54.3é…ç½®ç®¡ç†ç‰¹å®šçš„SSL
--------------

é…ç½®ä¸ºä½¿ç”¨è‡ªå®šä¹‰ç«¯å£æ—¶ï¼Œè¿˜å¯ä»¥ä½¿ç”¨å„ç§`management.server.ssl.*`å±æ€§ä¸ºç®¡ç†æœåŠ¡å™¨é…ç½®è‡ªå·±çš„SSLã€‚ä¾‹å¦‚ï¼Œè¿™æ ·åšå¯ä»¥è®©ä¸»åº”ç”¨ç¨‹åºä½¿ç”¨HTTPSæ—¶ç®¡ç†æœåŠ¡å™¨é€šè¿‡HTTPå¯ç”¨ï¼Œå¦‚ä»¥ä¸‹å±æ€§è®¾ç½®æ‰€ç¤ºï¼š

```
server.port=8443
server.ssl.enabled=true
server.ssl.key-store=classpath:store.jks
server.ssl.key-password=secret
management.server.port=8080
management.server.ssl.enabled=false
```

æˆ–è€…ï¼Œä¸»æœåŠ¡å™¨å’Œç®¡ç†æœåŠ¡å™¨éƒ½å¯ä»¥ä½¿ç”¨SSLä½†å…·æœ‰ä¸åŒçš„å¯†é’¥åº“ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
server.port=8443
server.ssl.enabled=true
server.ssl.key-store=classpath:main.jks
server.ssl.key-password=secret
management.server.port=8080
management.server.ssl.enabled=true
management.server.ssl.key-store=classpath:management.jks
management.server.ssl.key-password=secret
```

54.4è‡ªå®šä¹‰ç®¡ç†æœåŠ¡å™¨åœ°å€
--------------

æ‚¨å¯ä»¥é€šè¿‡è®¾ç½®`management.server.address`å±æ€§æ¥è‡ªå®šä¹‰ç®¡ç†ç«¯ç‚¹å¯ç”¨çš„åœ°å€ã€‚å¦‚æœæ‚¨åªæƒ³åœ¨å†…éƒ¨æˆ–é¢å‘è¿è¡Œçš„ç½‘ç»œä¸Šä¾¦å¬æˆ–ä»…ä¾¦å¬æ¥è‡ª`localhost`çš„è¿æ¥ï¼Œè¿™æ ·åšéå¸¸æœ‰ç”¨ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>ä»…å½“ç«¯å£ä¸ä¸»æœåŠ¡å™¨ç«¯å£ä¸åŒæ—¶ï¼Œæ‰èƒ½ä¾¦å¬ä¸åŒçš„åœ°å€ã€‚</p></td></tr></tbody></table>

ä»¥ä¸‹ç¤ºä¾‹`application.properties`ä¸å…è®¸è¿œç¨‹ç®¡ç†è¿æ¥ï¼š

```
management.server.port=8081
management.server.address=127.0.0.1
```

54.5ç¦ç”¨HTTPç«¯ç‚¹
------------

å¦‚æœæ‚¨ä¸æƒ³é€šè¿‡HTTPå…¬å¼€ç«¯ç‚¹ï¼Œå¯ä»¥å°†ç®¡ç†ç«¯å£è®¾ç½®ä¸º`-1`ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
management.server.port=-1
```

è¿™ä¹Ÿå¯ä»¥ä½¿ç”¨`management.endpoints.web.exposure.exclude`å±æ€§æ¥å®ç°ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
management.endpoints.web.exposure.exclude=*
```

55.å¯¹JMXçš„ç›‘æµ‹å’Œç®¡ç†
-------------

Java Management Extensionsï¼ˆJMXï¼‰æä¾›äº†ä¸€ç§ç›‘è§†å’Œç®¡ç†åº”ç”¨ç¨‹åºçš„æ ‡å‡†æœºåˆ¶ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒSpring Bootå°†ç®¡ç†ç«¯ç‚¹å…¬å¼€ä¸º`org.springframework.boot`åŸŸä¸‹çš„JMX MBeanã€‚

55.1è‡ªå®šä¹‰MBeanåç§°
--------------

MBeançš„åç§°é€šå¸¸æ˜¯ä»ç«¯ç‚¹çš„`id`ç”Ÿæˆçš„ã€‚ä¾‹å¦‚ï¼Œ`health`ç«¯ç‚¹å…¬å¼€ä¸º`org.springframework.boot:type=Endpoint,name=Health`ã€‚

å¦‚æœæ‚¨çš„åº”ç”¨ç¨‹åºåŒ…å«å¤šä¸ªSpring `ApplicationContext`ï¼Œæ‚¨å¯èƒ½ä¼šå‘ç°åç§°å‘ç”Ÿå†²çªã€‚è¦è§£å†³æ­¤é—®é¢˜ï¼Œå¯ä»¥å°†`spring.jmx.unique-names`å±æ€§è®¾ç½®ä¸º`true`ï¼Œä»¥ä¾¿MBeanåç§°å§‹ç»ˆæ˜¯å”¯ä¸€çš„ã€‚

æ‚¨è¿˜å¯ä»¥è‡ªå®šä¹‰å…¬å¼€ç«¯ç‚¹çš„JMXåŸŸã€‚ä»¥ä¸‹è®¾ç½®æ˜¾ç¤ºäº†åœ¨`application.properties`ä¸­æ‰§è¡Œæ­¤æ“ä½œçš„ç¤ºä¾‹ï¼š

```
spring.jmx.unique-names=true
management.endpoints.jmx.domain=com.example.myapp
```

55.2ç¦ç”¨JMXç«¯ç‚¹
-----------

å¦‚æœæ‚¨ä¸æƒ³é€šè¿‡JMXå…¬å¼€ç«¯ç‚¹ï¼Œå¯ä»¥å°†`management.endpoints.jmx.exposure.exclude`å±æ€§è®¾ç½®ä¸º`*`ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
management.endpoints.jmx.exposure.exclude=*
```

55.3é€šè¿‡HTTPä½¿ç”¨Jolokia for JMX
---------------------------

Jolokiaæ˜¯ä¸€ä¸ªJMX-HTTPæ¡¥ï¼Œå®ƒæä¾›äº†ä¸€ç§è®¿é—®JMX beansçš„æ›¿ä»£æ–¹æ³•ã€‚è¦ä½¿ç”¨Jolokiaï¼Œè¯·åœ¨`org.jolokia:jolokia-core`ä¸­åŒ…å«ä¾èµ–é¡¹ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨Mavenï¼Œæ‚¨å°†æ·»åŠ ä»¥ä¸‹ä¾èµ–é¡¹ï¼š

```
<dependency>
	<groupId>org.jolokia</groupId>
	<artifactId>jolokia-core</artifactId>
</dependency>
```

ç„¶åï¼Œå¯ä»¥é€šè¿‡å‘`management.endpoints.web.exposure.include`å±æ€§æ·»åŠ `jolokia`æˆ–`*`æ¥å…¬å¼€Jolokiaç«¯ç‚¹ã€‚ç„¶åï¼Œæ‚¨å¯ä»¥åœ¨ç®¡ç†HTTPæœåŠ¡å™¨ä¸Šä½¿ç”¨`/actuator/jolokia`æ¥è®¿é—®å®ƒã€‚

### 55.3.1è‡ªå®šä¹‰Jolokia

Jolokiaæœ‰è®¸å¤šè®¾ç½®ï¼Œæ‚¨å¯ä»¥é€šè¿‡è®¾ç½®servletå‚æ•°æ¥è¿›è¡Œä¼ ç»Ÿé…ç½®ã€‚ä½¿ç”¨Spring Bootï¼Œæ‚¨å¯ä»¥ä½¿ç”¨`application.properties`æ–‡ä»¶ã€‚ä¸ºæ­¤ï¼Œè¯·åœ¨å‚æ•°å‰åŠ `management.endpoint.jolokia.config.`ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
management.endpoint.jolokia.config.debug=true
```

### 55.3.2ç¦ç”¨Jolokia

å¦‚æœæ‚¨ä½¿ç”¨Jolokiaä½†ä¸å¸Œæœ›Spring Booté…ç½®å®ƒï¼Œè¯·å°†`management.endpoint.jolokia.enabled`å±æ€§è®¾ç½®ä¸º`false`ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
management.endpoint.jolokia.enabled=false
```

56.è®°å½•å™¨
------

Spring Boot ActuatoråŒ…æ‹¬åœ¨è¿è¡Œæ—¶æŸ¥çœ‹å’Œé…ç½®åº”ç”¨ç¨‹åºæ—¥å¿—çº§åˆ«çš„åŠŸèƒ½ã€‚æ‚¨å¯ä»¥æŸ¥çœ‹æ•´ä¸ªåˆ—è¡¨æˆ–å•ä¸ªè®°å½•å™¨çš„é…ç½®ï¼Œè¯¥é…ç½®ç”±æ˜¾å¼é…ç½®çš„æ—¥å¿—è®°å½•çº§åˆ«ä»¥åŠæ—¥å¿—è®°å½•æ¡†æ¶ä¸ºå…¶æä¾›çš„æœ‰æ•ˆæ—¥å¿—è®°å½•çº§åˆ«ç»„æˆã€‚è¿™äº›çº§åˆ«å¯ä»¥æ˜¯ä»¥ä¸‹ä¹‹ä¸€ï¼š

*   `TRACE`
*   `DEBUG`
*   `INFO`
*   `WARN`
*   `ERROR`
*   `FATAL`
*   `OFF`
*   `null`

`null`è¡¨ç¤ºæ²¡æœ‰æ˜ç¡®çš„é…ç½®ã€‚

56.1é…ç½®è®°å½•å™¨
---------

è¦é…ç½®ç»™å®šçš„è®°å½•å™¨ï¼Œ`POST`æ˜¯èµ„æºURIçš„éƒ¨åˆ†å®ä½“ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
{
	"configuredLevel": "DEBUG"
}
```

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>è¦â€œé‡ç½®â€è®°å½•å™¨çš„ç‰¹å®šçº§åˆ«ï¼ˆå¹¶ä½¿ç”¨é»˜è®¤é…ç½®ï¼‰ï¼Œæ‚¨å¯ä»¥ä¼ é€’<code class="literal" i="2571">null</code>çš„å€¼<code class="literal" i="2572">configuredLevel</code>ã€‚</p></td></tr></tbody></table>

57.åº¦é‡æ ‡å‡†
-------

Spring Boot Actuatorä¸º[Micrometer](https://micrometer.io)æä¾›ä¾èµ–å…³ç³»ç®¡ç†å’Œè‡ªåŠ¨é…ç½®ï¼Œ [Micrometer](https://micrometer.io)æ˜¯ä¸€ä¸ªæ”¯æŒä¼—å¤šç›‘æ§ç³»ç»Ÿçš„åº”ç”¨ç¨‹åºæŒ‡æ ‡å¤–è§‚ï¼ŒåŒ…æ‹¬ï¼š

*   [AppOptics](#production-ready-metrics-export-appoptics "57.2.1 AppOptics")
*   [Atlas](#production-ready-metrics-export-atlas "57.2.2åœ°å›¾é›†")
*   [Datadog](#production-ready-metrics-export-datadog "57.2.3 Datadog")
*   [Dynatrace](#production-ready-metrics-export-dynatrace "57.2.4 Dynatrace")
*   [Elastic](#production-ready-metrics-export-dynatrace "57.2.4 Dynatrace")
*   [Ganglia](#production-ready-metrics-export-ganglia "57.2.6 Ganglia")
*   [Graphite](#production-ready-metrics-export-graphite "57.2.7çŸ³å¢¨")
*   [Humio](#production-ready-metrics-export-humio "57.2.8 Humio")
*   [Influx](#production-ready-metrics-export-influx "57.2.9æµå…¥")
*   [JMX](#production-ready-metrics-export-jmx "57.2.10 JMX")
*   [KairosDB](#production-ready-metrics-export-kairos "57.2.11 KairosDB")
*   [New Relic](#production-ready-metrics-export-newrelic "57.2.12æ–°é—ç‰©")
*   [Prometheus](#production-ready-metrics-export-prometheus "57.2.13æ™®ç½—ç±³ä¿®æ–¯")
*   [SignalFx](#production-ready-metrics-export-signalfx "57.2.14 SignalFx")
*   [ç®€å•ï¼ˆå†…å­˜ä¸­ï¼‰](#production-ready-metrics-export-simple "57.2.15ç®€å•")
*   [StatsD](#production-ready-metrics-export-statsd "57.2.16ç»Ÿè®¡æ•°æ®")
*   [Wavefront](#production-ready-metrics-export-wavefront "57.2.17æ³¢å‰")

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>è¦äº†è§£æœ‰å…³MicrometeråŠŸèƒ½çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…å…¶ <a class="link" href="https://micrometer.io/docs" target="_top">å‚è€ƒæ–‡æ¡£</a>ï¼Œç‰¹åˆ«æ˜¯ <a class="link" href="https://micrometer.io/docs/concepts" target="_top">æ¦‚å¿µéƒ¨åˆ†</a>ã€‚</p></td></tr></tbody></table>

57.1å…¥é—¨
------

Spring Bootè‡ªåŠ¨é…ç½®ç»„åˆ`MeterRegistry`ï¼Œå¹¶ä¸ºç»„åˆè·¯å¾„ä¸­æ‰¾åˆ°çš„æ¯ä¸ªå—æ”¯æŒçš„å®ç°æ·»åŠ ä¸€ä¸ªæ³¨å†Œè¡¨ã€‚åœ¨è¿è¡Œæ—¶ç±»è·¯å¾„ä¸­ä¾èµ–`micrometer-registry-{system}`è¶³ä»¥ä½¿Spring Booté…ç½®æ³¨å†Œè¡¨ã€‚

å¤§å¤šæ•°æ³¨å†Œç®¡ç†æœºæ„éƒ½æœ‰å…±åŒç‚¹ ä¾‹å¦‚ï¼Œå³ä½¿Micrometeræ³¨å†Œè¡¨å®ç°ä½äºç±»è·¯å¾„ä¸Šï¼Œæ‚¨ä¹Ÿå¯ä»¥ç¦ç”¨ç‰¹å®šçš„æ³¨å†Œè¡¨ã€‚ä¾‹å¦‚ï¼Œè¦ç¦ç”¨Datadogï¼š

```
management.metrics.export.datadog.enabled=false
```

Spring Bootè¿˜ä¼šå°†ä»»ä½•è‡ªåŠ¨é…ç½®çš„æ³¨å†Œè¡¨æ·»åŠ åˆ°`Metrics`ç±»çš„å…¨å±€é™æ€å¤åˆæ³¨å†Œè¡¨ä¸­ï¼Œé™¤éæ‚¨æ˜ç¡®å‘Šè¯‰å®ƒä¸è¦ï¼š

```
management.metrics.use-global-registry=false
```

åœ¨æ³¨å†Œè¡¨ä¸­æ³¨å†Œä»»ä½•ä»ªè¡¨ä¹‹å‰ï¼Œæ‚¨å¯ä»¥æ³¨å†Œä»»æ„æ•°é‡çš„`MeterRegistryCustomizer` beansä»¥è¿›ä¸€æ­¥é…ç½®æ³¨å†Œè¡¨ï¼Œä¾‹å¦‚åº”ç”¨é€šç”¨æ ‡ç­¾ï¼š

```
_@Bean_
MeterRegistryCustomizer<MeterRegistry> metricsCommonTags() {
	return registry -> registry.config().commonTags("region", "us-east-1");
}
```

æ‚¨å¯ä»¥é€šè¿‡æ›´å…·ä½“åœ°è¯´æ˜æ³›å‹ç±»å‹ï¼Œå°†è‡ªå®šä¹‰åº”ç”¨äºç‰¹å®šçš„æ³¨å†Œè¡¨å®ç°ï¼š

```
_@Bean_
MeterRegistryCustomizer<GraphiteMeterRegistry> graphiteMetricsNamingConvention() {
	return registry -> registry.config().namingConvention(MY_CUSTOM_CONVENTION);
}
```

ä½¿ç”¨è¯¥è®¾ç½®ï¼Œæ‚¨å¯ä»¥åœ¨ç»„ä»¶ä¸­æ³¨å…¥`MeterRegistry`å¹¶æ³¨å†ŒæŒ‡æ ‡ï¼š

```
_@Component_
public class SampleBean {

	private final Counter counter;

	public SampleBean(MeterRegistry registry) {
		this.counter = registry.counter("received.messages");
	}

	public void handleMessage(String message) {
		this.counter.increment();
		// handle message implementation
	}

}
```

Spring Bootè¿˜[é…ç½®äº†](#production-ready-metrics-meter "57.3æ”¯æŒçš„åº¦é‡æ ‡å‡†") å¯ä»¥é€šè¿‡é…ç½®æˆ–ä¸“ç”¨æ³¨é‡Šæ ‡è®°æ§åˆ¶çš„[å†…ç½®æ£€æµ‹](#production-ready-metrics-meter "57.3Â Supported Metrics")ï¼ˆå³`MeterBinder`å®ç°ï¼‰ã€‚

57.2æ”¯æŒçš„ç›‘æ§ç³»ç»Ÿ
-----------

### 57.2.1Â AppOptics

é»˜è®¤æƒ…å†µä¸‹ï¼ŒAppOpticsæ³¨å†Œè¡¨[ä¼š](https://api.appoptics.com/v1/measurements)å®šæœŸå°†æŒ‡æ ‡æ¨é€åˆ° [api.appoptics.com/v1/measurements](https://api.appoptics.com/v1/measurements)ã€‚è¦å°†æŒ‡æ ‡å¯¼å‡ºåˆ°SaaS [AppOptics](http://micrometer.io/docs/registry/appoptics)ï¼Œå¿…é¡»æä¾›æ‚¨çš„APIä»¤ç‰Œï¼š

```
management.metrics.export.appoptics.api-token=YOUR_TOKEN
```

### 57.2.2Â Atlas

é»˜è®¤æƒ…å†µä¸‹ï¼Œåº¦é‡æ ‡å‡†å¯¼å‡ºåˆ° æœ¬åœ°è®¡ç®—æœºä¸Šè¿è¡Œçš„[Atlas](http://micrometer.io/docs/registry/atlas)ã€‚å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼æä¾›è¦ä½¿ç”¨çš„[AtlasæœåŠ¡å™¨](https://github.com/Netflix/atlas)çš„ä½ç½® ï¼š

```
management.metrics.export.atlas.uri=http://atlas.example.com:7101/api/v1/publish
```

### 57.2.3 Datadog

Datadogæ³¨å†Œè¡¨å®šæœŸå°†æŒ‡æ ‡æ¨é€åˆ°[datadoghq](https://www.datadoghq.com)ã€‚è¦å°†æŒ‡æ ‡å¯¼å‡ºåˆ°[Datadog](http://micrometer.io/docs/registry/datadog)ï¼Œå¿…é¡»æä¾›æ‚¨çš„APIå¯†é’¥ï¼š

```
management.metrics.export.datadog.api-key=YOUR_KEY
```

æ‚¨è¿˜å¯ä»¥æ›´æ”¹åº¦é‡æ ‡å‡†å‘é€åˆ°Datadogçš„æ—¶é—´é—´éš”ï¼š

```
management.metrics.export.datadog.step=30s
```

### 57.2.4Â Dynatrace

Dynatraceæ³¨å†Œè¡¨å®šæœŸå°†æŒ‡æ ‡æ¨é€åˆ°é…ç½®çš„URIã€‚è¦å°†æŒ‡æ ‡å¯¼å‡ºåˆ° [Dynatrace](http://micrometer.io/docs/registry/dynatrace)ï¼Œå¿…é¡»æä¾›æ‚¨çš„APIä»¤ç‰Œï¼Œè®¾å¤‡IDå’ŒURIï¼š

```
management.metrics.export.dynatrace.api-token=YOUR_TOKEN
management.metrics.export.dynatrace.device-id=YOUR_DEVICE_ID
management.metrics.export.dynatrace.uri=YOUR_URI
```

æ‚¨è¿˜å¯ä»¥æ›´æ”¹æŒ‡æ ‡å‘é€åˆ°Dynatraceçš„æ—¶é—´é—´éš”ï¼š

```
management.metrics.export.dynatrace.step=30s
```

### 57.2.5Â Elastic

é»˜è®¤æƒ…å†µä¸‹ï¼ŒæŒ‡æ ‡ä¼šå¯¼å‡ºåˆ° æœ¬åœ°è®¡ç®—æœºä¸Šè¿è¡Œçš„[Elastic](http://micrometer.io/docs/registry/elastic)ã€‚å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å±æ€§æä¾›è¦ä½¿ç”¨çš„ElasticæœåŠ¡å™¨çš„ä½ç½®ï¼š

```
management.metrics.export.elastic.host=http://elastic.example.com:8086
```

### 57.2.6Â Ganglia

é»˜è®¤æƒ…å†µä¸‹ï¼Œåº¦é‡æ ‡å‡†å°†å¯¼å‡ºåˆ° æœ¬åœ°è®¡ç®—æœºä¸Šè¿è¡Œçš„[Ganglia](http://micrometer.io/docs/registry/ganglia)ã€‚å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æä¾›è¦ä½¿ç”¨çš„[GangliaæœåŠ¡å™¨](http://ganglia.sourceforge.net)ä¸»æœºå’Œç«¯å£ï¼š

```
management.metrics.export.ganglia.host=ganglia.example.com
management.metrics.export.ganglia.port=9649
```

### 57.2.7Â Graphite

é»˜è®¤æƒ…å†µä¸‹ï¼Œåº¦é‡æ ‡å‡†å°†å¯¼å‡ºåˆ° æœ¬åœ°è®¡ç®—æœºä¸Šè¿è¡Œçš„[Graphite](http://micrometer.io/docs/registry/graphite)ã€‚å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æä¾›è¦ä½¿ç”¨çš„[GraphiteæœåŠ¡å™¨](https://graphiteapp.org)ä¸»æœºå’Œç«¯å£ï¼š

```
management.metrics.export.graphite.host=graphite.example.com
management.metrics.export.graphite.port=9004
```

åƒåˆ†å°ºæä¾›é»˜è®¤å€¼`HierarchicalNameMapper`ï¼Œç”¨äºæ§åˆ¶å°ºå¯¸è®¡idå¦‚ä½•[æ˜ å°„åˆ°å¹³é¢åˆ†å±‚åç§°](http://micrometer.io/docs/registry/graphite#_hierarchical_name_mapping)ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>è¦æ§åˆ¶æ­¤è¡Œä¸ºï¼Œè¯·å®šä¹‰<code class="literal" i="2580">GraphiteMeterRegistry</code>å¹¶æä¾›æ‚¨è‡ªå·±çš„<code class="literal" i="2581">HierarchicalNameMapper</code>ã€‚é™¤éæ‚¨è‡ªå·±å®šä¹‰ï¼Œå¦åˆ™ä¼šæä¾›è‡ªåŠ¨é…ç½®çš„<code class="literal" i="2582">GraphiteConfig</code>å’Œ<code class="literal" i="2583">Clock</code> beansï¼š</p></td></tr></tbody></table>

```
_@Bean_
public GraphiteMeterRegistry graphiteMeterRegistry(GraphiteConfig config, Clock clock) {
	return new GraphiteMeterRegistry(config, clock, MY_HIERARCHICAL_MAPPER);
}
```

### 57.2.8 Humio

é»˜è®¤æƒ…å†µä¸‹ï¼ŒHumioæ³¨å†Œè¡¨[ä¼š](https://cloud.humio.com)å®šæœŸå°†æŒ‡æ ‡æ¨é€åˆ°[cloud.humio.com](https://cloud.humio.com)ã€‚è¦å°†æŒ‡æ ‡å¯¼å‡ºåˆ°SaaS [Humio](http://micrometer.io/docs/registry/humio)ï¼Œå¿…é¡»æä¾›æ‚¨çš„APIä»¤ç‰Œï¼š

```
management.metrics.export.humio.api-token=YOUR_TOKEN
```

æ‚¨è¿˜åº”é…ç½®ä¸€ä¸ªæˆ–å¤šä¸ªæ ‡è®°ï¼Œä»¥æ ‡è¯†è¦æ¨é€æŒ‡æ ‡çš„æ•°æ®æºï¼š

```
management.metrics.export.humio.tags.alpha=a
management.metrics.export.humio.tags.bravo=b
```

### 57.2.9Â Influx

é»˜è®¤æƒ…å†µä¸‹ï¼Œåº¦é‡æ ‡å‡†å°†å¯¼å‡ºåˆ° æœ¬åœ°è®¡ç®—æœºä¸Šè¿è¡Œçš„[Influx](http://micrometer.io/docs/registry/influx)ã€‚å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼æä¾›è¦ä½¿ç”¨çš„[InfluxæœåŠ¡å™¨](https://www.influxdata.com)çš„ä½ç½®ï¼š

```
management.metrics.export.influx.uri=http://influx.example.com:8086
```

### 57.2.10 JMX

Micrometeræä¾›äº†ä¸[JMX](http://micrometer.io/docs/registry/jmx)çš„åˆ†å±‚æ˜ å°„ ï¼Œä¸»è¦æ˜¯ä½œä¸ºåœ¨æœ¬åœ°æŸ¥çœ‹æŒ‡æ ‡çš„ä¾¿å®œä¸”å¯ç§»æ¤çš„æ–¹å¼ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œåº¦é‡æ ‡å‡†å°†å¯¼å‡ºåˆ°`metrics` JMXåŸŸã€‚å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼æä¾›è¦ä½¿ç”¨çš„åŸŸï¼š

```
management.metrics.export.jmx.domain=com.example.app.metrics
```

åƒåˆ†å°ºæä¾›é»˜è®¤å€¼`HierarchicalNameMapper`ï¼Œç”¨äºæ§åˆ¶å°ºå¯¸è®¡idå¦‚ä½•[æ˜ å°„åˆ°å¹³é¢åˆ†å±‚åç§°](http://micrometer.io/docs/registry/jmx#_hierarchical_name_mapping)ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>è¦æ§åˆ¶æ­¤è¡Œä¸ºï¼Œè¯·å®šä¹‰<code class="literal" i="2586">JmxMeterRegistry</code>å¹¶æä¾›æ‚¨è‡ªå·±çš„<code class="literal" i="2587">HierarchicalNameMapper</code>ã€‚é™¤éæ‚¨è‡ªå·±å®šä¹‰ï¼Œå¦åˆ™ä¼šæä¾›è‡ªåŠ¨é…ç½®çš„<code class="literal" i="2588">JmxConfig</code>å’Œ<code class="literal" i="2589">Clock</code> beansï¼š</p></td></tr></tbody></table>

```
_@Bean_
public JmxMeterRegistry jmxMeterRegistry(JmxConfig config, Clock clock) {
	return new JmxMeterRegistry(config, clock, MY_HIERARCHICAL_MAPPER);
}
```

### 57.2.11 KairosDB

é»˜è®¤æƒ…å†µä¸‹ï¼Œåº¦é‡æ ‡å‡†å°†å¯¼å‡ºåˆ° æœ¬åœ°è®¡ç®—æœºä¸Šè¿è¡Œçš„[KairosDB](http://micrometer.io/docs/registry/kairos)ã€‚å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼æä¾›è¦ä½¿ç”¨çš„[KairosDBæœåŠ¡å™¨](https://kairosdb.github.io/)çš„ä½ç½®ï¼š

```
management.metrics.export.kairos.uri=http://kairosdb.example.com:8080/api/v1/datapoints
```

### 57.2.12Â New Relic

New Relicæ³¨å†Œè¡¨ä¼šå®šæœŸå°†æŒ‡æ ‡æ¨é€åˆ°[New Relic](http://micrometer.io/docs/registry/new-relic)ã€‚è¦å°†æŒ‡æ ‡å¯¼å‡ºåˆ°[New Relic](https://newrelic.com)ï¼Œå¿…é¡»æä¾›æ‚¨çš„APIå¯†é’¥å’Œå¸æˆ·IDï¼š

```
management.metrics.export.newrelic.api-key=YOUR_KEY
management.metrics.export.newrelic.account-id=YOUR_ACCOUNT_ID
```

æ‚¨è¿˜å¯ä»¥æ›´æ”¹æŒ‡æ ‡å‘é€åˆ°New Relicçš„æ—¶é—´é—´éš”ï¼š

```
management.metrics.export.newrelic.step=30s
```

### 57.2.13Â Prometheus

[Prometheus](http://micrometer.io/docs/registry/prometheus)æœŸæœ›æŠ“å–æˆ–è½®è¯¢å„ä¸ªåº”ç”¨å®ä¾‹ä»¥è·å–æŒ‡æ ‡ã€‚Spring Bootæä¾›äº†`/actuator/prometheus`å¤„å¯ç”¨çš„æ‰§è¡Œå™¨ç«¯ç‚¹ï¼Œä»¥æä¾›å…·æœ‰é€‚å½“æ ¼å¼çš„[Prometheusåˆ®æ“¦](https://prometheus.io)ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>é»˜è®¤æƒ…å†µä¸‹ç«¯ç‚¹ä¸å¯ç”¨ï¼Œå¿…é¡»å…¬å¼€ï¼Œè¯·å‚é˜… <a class="link" href="#production-ready-endpoints-exposing-endpoints" title="53.2å…¬å¼€ç«¯ç‚¹">å…¬å¼€ç«¯ç‚¹</a>ä»¥è·å–æ›´å¤šè¯¦ç»†ä¿¡æ¯ã€‚</p></td></tr></tbody></table>

ä»¥ä¸‹æ˜¯æ·»åŠ åˆ°`prometheus.yml`çš„ç¤ºä¾‹`scrape_config`ï¼š

```
scrape_configs:
  - job_name: 'spring'
	metrics_path: '/actuator/prometheus'
	static_configs:
	  - targets: ['HOST:PORT']
```

### 57.2.14Â SignalFx

SignalFxæ³¨å†Œè¡¨ å®šæœŸå°†æŒ‡æ ‡æ¨é€åˆ°[SignalFx](http://micrometer.io/docs/registry/signalfx)ã€‚è¦å°†æŒ‡æ ‡å¯¼å‡ºåˆ°[SignalFx](https://signalfx.com)ï¼Œå¿…é¡»æä¾›æ‚¨çš„è®¿é—®ä»¤ç‰Œï¼š

```
management.metrics.export.signalfx.access-token=YOUR_ACCESS_TOKEN
```

æ‚¨è¿˜å¯ä»¥æ›´æ”¹æŒ‡æ ‡å‘é€åˆ°SignalFxçš„æ—¶é—´é—´éš”ï¼š

```
management.metrics.export.signalfx.step=30s
```

### 57.2.15ç®€å•

Micrometeré™„å¸¦ä¸€ä¸ªç®€å•çš„å†…å­˜åç«¯ï¼Œå¦‚æœæ²¡æœ‰é…ç½®å…¶ä»–æ³¨å†Œè¡¨ï¼Œå®ƒå°†è‡ªåŠ¨ç”¨ä½œåå¤‡ã€‚è¿™ä½¿æ‚¨å¯ä»¥æŸ¥çœ‹åº¦é‡[æ ‡å‡†ç»ˆç»“ç‚¹](#production-ready-metrics-endpoint "57.6åº¦é‡æ ‡å‡†ç«¯ç‚¹")ä¸­æ”¶é›†çš„[åº¦é‡æ ‡å‡†](#production-ready-metrics-endpoint "57.6Â Metrics endpoint")ã€‚

åªè¦æ‚¨ä½¿ç”¨ä»»ä½•å…¶ä»–å¯ç”¨åç«¯ï¼Œå†…å­˜åç«¯å°±ä¼šè‡ªåŠ¨ç¦ç”¨ã€‚æ‚¨ä¹Ÿå¯ä»¥æ˜¾å¼ç¦ç”¨å®ƒï¼š

```
management.metrics.export.simple.enabled=false
```

### 57.2.16Â StatsD

StatsDæ³¨å†Œè¡¨æ€¥éœ€å°†UDPä¸Šçš„æŒ‡æ ‡æ¨é€åˆ°StatsDä»£ç†ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œåº¦é‡æ ‡å‡†å°†å¯¼å‡ºåˆ°æœ¬åœ°è®¡ç®—æœºä¸Šè¿è¡Œçš„[StatsD](http://micrometer.io/docs/registry/statsd)ä»£ç†ç¨‹åºã€‚å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼æä¾›è¦ä½¿ç”¨çš„StatsDä»£ç†ä¸»æœºå’Œç«¯å£ï¼š

```
management.metrics.export.statsd.host=statsd.example.com
management.metrics.export.statsd.port=9125
```

æ‚¨è¿˜å¯ä»¥æ›´æ”¹è¦ä½¿ç”¨çš„StatsDè¡Œåè®®ï¼ˆé»˜è®¤ä¸ºDatadogï¼‰ï¼š

```
management.metrics.export.statsd.flavor=etsy
```

### 57.2.17Â Wavefront

Wavefrontæ³¨å†Œè¡¨ä¼šå®šæœŸå°†æŒ‡æ ‡æ¨é€åˆ° [Wavefront](http://micrometer.io/docs/registry/wavefront)ã€‚å¦‚æœæ‚¨è¦å°†æŒ‡æ ‡ç›´æ¥å¯¼å‡ºåˆ°[Wavefront](https://www.wavefront.com/)ï¼Œåˆ™å¿…é¡»æä¾›æ‚¨çš„APIä»¤ç‰Œï¼š

```
management.metrics.export.wavefront.api-token=YOUR_API_TOKEN
```

æˆ–è€…ï¼Œæ‚¨å¯ä»¥åœ¨æ‚¨çš„ç¯å¢ƒä¸­ä½¿ç”¨Wavefrontè¾¹è½¦æˆ–å†…éƒ¨ä»£ç†è®¾ç½®ï¼Œå°†æŒ‡æ ‡æ•°æ®è½¬å‘åˆ°Wavefront APIä¸»æœºï¼š

```
management.metrics.export.wavefront.uri=proxy://localhost:2878
```

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¦‚æœå°†åº¦é‡æ ‡å‡†å‘å¸ƒåˆ°Wavefrontä»£ç†ï¼ˆå¦‚<a class="link" href="https://docs.wavefront.com/proxies_installing.html" target="_top">æ–‡æ¡£</a>ä¸­ <a class="link" href="https://docs.wavefront.com/proxies_installing.html" target="_top">æ‰€è¿°</a>ï¼‰ï¼Œåˆ™ä¸»æœºå¿…é¡»é‡‡ç”¨<code class="literal" i="2593">proxy://HOST:PORT</code>æ ¼å¼ã€‚</p></td></tr></tbody></table>

æ‚¨è¿˜å¯ä»¥æ›´æ”¹æŒ‡æ ‡å‘é€åˆ°Wavefrontçš„æ—¶é—´é—´éš”ï¼š

```
management.metrics.export.wavefront.step=30s
```

57.3æ”¯æŒçš„åº¦é‡æ ‡å‡†
-----------

Spring Bootåœ¨é€‚ç”¨æ—¶æ³¨å†Œä»¥ä¸‹æ ¸å¿ƒæŒ‡æ ‡ï¼š

*   JVMæŒ‡æ ‡ï¼ŒæŠ¥å‘Šåˆ©ç”¨ç‡ï¼š

    *   å„ç§å†…å­˜å’Œç¼“å†²æ± 
    *   ä¸åƒåœ¾æ”¶é›†æœ‰å…³çš„ç»Ÿè®¡
    *   çº¿ç¨‹åˆ©ç”¨ç‡
    *   åŠ è½½/å¸è½½çš„ç±»æ•°
*   CPUæŒ‡æ ‡
*   æ–‡ä»¶æè¿°ç¬¦æŒ‡æ ‡
*   å¡å¤«å¡æ¶ˆè´¹è€…æŒ‡æ ‡
*   Log4j2æŒ‡æ ‡ï¼šè®°å½•æ¯ä¸ªçº§åˆ«è®°å½•åˆ°Log4j2çš„äº‹ä»¶æ•°
*   LogbackæŒ‡æ ‡ï¼šè®°å½•æ¯ä¸ªçº§åˆ«è®°å½•åˆ°Logbackçš„äº‹ä»¶æ•°
*   æ­£å¸¸è¿è¡Œæ—¶é—´æŒ‡æ ‡ï¼šæŠ¥å‘Šæ­£å¸¸è¿è¡Œæ—¶é—´è¡¨å’Œè¡¨ç¤ºåº”ç”¨ç¨‹åºç»å¯¹å¯åŠ¨æ—¶é—´çš„å›ºå®šè®¡é‡è¡¨
*   TomcatæŒ‡æ ‡
*   [Spring Integration](https://docs.spring.io/spring-integration/docs/current/reference/html/system-management-chapter.html#micrometer-integration)æŒ‡æ ‡

### 57.3.1 Spring MVCæŒ‡æ ‡

è‡ªåŠ¨é…ç½®å¯ä»¥å¯¹Spring MVCå¤„ç†çš„è¯·æ±‚è¿›è¡Œæ£€æµ‹ã€‚å½“`management.metrics.web.server.auto-time-requests`ä¸º`true`æ—¶ï¼Œå°†å¯¹æ‰€æœ‰è¯·æ±‚è¿›è¡Œæ­¤æ£€æµ‹ã€‚æˆ–è€…ï¼Œå½“è®¾ç½®ä¸º`false`æ—¶ï¼Œæ‚¨å¯ä»¥é€šè¿‡å°†`@Timed`æ·»åŠ åˆ°è¯·æ±‚å¤„ç†æ–¹æ³•æ¥å¯ç”¨æ£€æµ‹ï¼š

```
_@RestController_
_@Timed_ ![1](images/1.png)
public class MyController {

	_@GetMapping("/api/people")_
	_@Timed(extraTags = { "region", "us-east-1" })_ ![2](images/2.png)
	_@Timed(value = "all.people", longTask = true)_ ![3](images/3.png)
	public List<Person> listPeople() { ... }

}
```

<table border="0" summary="Callout list"><tbody><tr><td width="5%" valign="top" align="left"><p><a href="#CO1-1"><img src="images/1.png" alt="1" border="0"></a></p></td><td valign="top" align="left"><p>ä¸€ä¸ªæ§åˆ¶å™¨ç±»ï¼Œç”¨äºåœ¨æ§åˆ¶å™¨ä¸­çš„æ¯ä¸ªè¯·æ±‚å¤„ç†ç¨‹åºä¸Šå¯ç”¨è®¡æ—¶ã€‚</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO1-2"><img src="images/2.png" alt="2" border="0"></a></p></td><td valign="top" align="left"><p>ä¸€ç§å¯ç”¨å•ä¸ªç«¯ç‚¹çš„æ–¹æ³•ã€‚å¦‚æœæ‚¨åœ¨ç±»ä¸Šæ‹¥æœ‰å®ƒï¼Œåˆ™ä¸éœ€è¦è¿™æ ·åšï¼Œä½†å¯ä»¥ç”¨äºè¿›ä¸€æ­¥è‡ªå®šä¹‰æ­¤ç‰¹å®šç«¯ç‚¹çš„è®¡æ—¶å™¨ã€‚</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO1-3"><img src="images/3.png" alt="3" border="0"></a></p></td><td valign="top" align="left"><p>ä½¿ç”¨<code class="literal" i="2598">longTask = true</code>çš„æ–¹æ³•ä¸ºè¯¥æ–¹æ³•å¯ç”¨é•¿ä»»åŠ¡è®¡æ—¶å™¨ã€‚é•¿ä»»åŠ¡è®¡æ—¶å™¨éœ€è¦å•ç‹¬çš„åº¦é‡æ ‡å‡†åç§°ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨çŸ­ä»»åŠ¡è®¡æ—¶å™¨è¿›è¡Œå †å ã€‚</p></td></tr></tbody></table>

é»˜è®¤æƒ…å†µä¸‹ï¼Œä½¿ç”¨åç§°`http.server.requests`ç”ŸæˆæŒ‡æ ‡ã€‚å¯ä»¥é€šè¿‡è®¾ç½®`management.metrics.web.server.requests-metric-name`å±æ€§æ¥è‡ªå®šä¹‰åç§°ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼ŒSpringä¸MVCç›¸å…³çš„æŒ‡æ ‡æ ‡è®°æœ‰ä»¥ä¸‹ä¿¡æ¯ï¼š

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">æ ‡ç­¾</th><th style="border-bottom: 1px solid ; " align="left" valign="top">æè¿°</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">exception</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>å¤„ç†è¯·æ±‚æ—¶æŠ›å‡ºçš„ä»»ä½•å¼‚å¸¸çš„ç®€å•ç±»åã€‚</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">method</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>è¯·æ±‚çš„æ–¹æ³•ï¼ˆä¾‹å¦‚ï¼Œ<code class="literal" i="2601">GET</code>æˆ–<code class="literal" i="2602">POST</code>ï¼‰</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">outcome</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>æ ¹æ®å“åº”çš„çŠ¶æ€ä»£ç è¯·æ±‚ç»“æœã€‚1xxæ˜¯<code class="literal" i="2603">INFORMATIONAL</code>ï¼Œ2xxæ˜¯<code class="literal" i="2604">SUCCESS</code>ï¼Œ3xxæ˜¯<code class="literal" i="2605">REDIRECTION</code>ï¼Œ4xx <code class="literal" i="2606">CLIENT_ERROR</code>ï¼Œ5xxæ˜¯<code class="literal" i="2607">SERVER_ERROR</code></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">status</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>å“åº”çš„HTTPçŠ¶æ€ä»£ç ï¼ˆä¾‹å¦‚ï¼Œ<code class="literal" i="2608">200</code>æˆ–<code class="literal" i="2609">500</code>ï¼‰</p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">uri</code></p></td><td style="" align="left" valign="top" class=""><p>å¦‚æœå¯èƒ½ï¼Œåœ¨å˜é‡æ›¿æ¢ä¹‹å‰è¯·æ±‚URIæ¨¡æ¿ï¼ˆä¾‹å¦‚ï¼Œ<code class="literal" i="2610">/api/person/{id}</code>ï¼‰</p></td></tr></tbody></table>

è¦è‡ªå®šä¹‰æ ‡è®°ï¼Œè¯·æä¾›å®ç°`WebMvcTagsProvider`çš„`@Bean`ã€‚

### 57.3.2 Spring WebFluxåº¦é‡æ ‡å‡†

è‡ªåŠ¨é…ç½®æ”¯æŒWebFluxæ§åˆ¶å™¨å’ŒåŠŸèƒ½å¤„ç†ç¨‹åºå¤„ç†çš„æ‰€æœ‰è¯·æ±‚çš„æ£€æµ‹ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼Œä¼šç”Ÿæˆåç§°ä¸º`http.server.requests`çš„æŒ‡æ ‡ã€‚æ‚¨å¯ä»¥é€šè¿‡è®¾ç½®`management.metrics.web.server.requests-metric-name`å±æ€§æ¥è‡ªå®šä¹‰åç§°ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸WebFluxç›¸å…³çš„æŒ‡æ ‡æ ‡è®°æœ‰ä»¥ä¸‹ä¿¡æ¯ï¼š

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">æ ‡ç­¾</th><th style="border-bottom: 1px solid ; " align="left" valign="top">æè¿°</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">exception</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>å¤„ç†è¯·æ±‚æ—¶æŠ›å‡ºçš„ä»»ä½•å¼‚å¸¸çš„ç®€å•ç±»åã€‚</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">method</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>è¯·æ±‚çš„æ–¹æ³•ï¼ˆä¾‹å¦‚ï¼Œ<code class="literal" i="2615">GET</code>æˆ–<code class="literal" i="2616">POST</code>ï¼‰</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">outcome</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>æ ¹æ®å“åº”çš„çŠ¶æ€ä»£ç è¯·æ±‚ç»“æœã€‚1xxæ˜¯<code class="literal" i="2617">INFORMATIONAL</code>ï¼Œ2xxæ˜¯<code class="literal" i="2618">SUCCESS</code>ï¼Œ3xxæ˜¯<code class="literal" i="2619">REDIRECTION</code>ï¼Œ4xx <code class="literal" i="2620">CLIENT_ERROR</code>ï¼Œ5xxæ˜¯<code class="literal" i="2621">SERVER_ERROR</code></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">status</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>å“åº”çš„HTTPçŠ¶æ€ä»£ç ï¼ˆä¾‹å¦‚ï¼Œ<code class="literal" i="2622">200</code>æˆ–<code class="literal" i="2623">500</code>ï¼‰</p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">uri</code></p></td><td style="" align="left" valign="top" class=""><p>å¦‚æœå¯èƒ½ï¼Œåœ¨å˜é‡æ›¿æ¢ä¹‹å‰è¯·æ±‚URIæ¨¡æ¿ï¼ˆä¾‹å¦‚ï¼Œ<code class="literal" i="2624">/api/person/{id}</code>ï¼‰</p></td></tr></tbody></table>

è¦è‡ªå®šä¹‰æ ‡è®°ï¼Œè¯·æä¾›å®ç°`WebFluxTagsProvider`çš„`@Bean`ã€‚

### 57.3.3 JerseyæœåŠ¡å™¨åº¦é‡æ ‡å‡†

è‡ªåŠ¨é…ç½®æ”¯æŒå¯¹Jersey JAX-RSå®ç°å¤„ç†çš„è¯·æ±‚è¿›è¡Œæ£€æµ‹ã€‚å½“`management.metrics.web.server.auto-time-requests`ä¸º`true`æ—¶ï¼Œæ­¤æ£€æµ‹å°†é’ˆå¯¹æ‰€æœ‰è¯·æ±‚è¿›è¡Œã€‚æˆ–è€…ï¼Œå½“è®¾ç½®ä¸º`false`æ—¶ï¼Œæ‚¨å¯ä»¥é€šè¿‡å°†`@Timed`æ·»åŠ åˆ°è¯·æ±‚å¤„ç†æ–¹æ³•æ¥å¯ç”¨æ£€æµ‹ï¼š

```
_@Component_
_@Path("/api/people")_
_@Timed_ ![1](images/1.png)
public class Endpoint {
	_@GET_
	_@Timed(extraTags = { "region", "us-east-1" })_ ![2](images/2.png)
	_@Timed(value = "all.people", longTask = true)_ ![3](images/3.png)
	public List<Person> listPeople() { ... }
}
```

<table border="0" summary="Callout list"><tbody><tr><td width="5%" valign="top" align="left"><p><a href="#CO2-1"><img src="images/1.png" alt="1" border="0"></a></p></td><td valign="top" align="left"><p>åœ¨èµ„æºç±»ä¸Šï¼Œä¸ºèµ„æºä¸­çš„æ¯ä¸ªè¯·æ±‚å¤„ç†ç¨‹åºå¯ç”¨è®¡æ—¶ã€‚</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO2-2"><img src="images/2.png" alt="2" border="0"></a></p></td><td valign="top" align="left"><p>åœ¨å¯ç”¨å•ä¸ªç«¯ç‚¹çš„æ–¹æ³•ä¸Šã€‚å¦‚æœæ‚¨åœ¨ç±»ä¸Šæ‹¥æœ‰å®ƒï¼Œåˆ™ä¸éœ€è¦è¿™æ ·åšï¼Œä½†å¯ä»¥ç”¨äºè¿›ä¸€æ­¥è‡ªå®šä¹‰æ­¤ç‰¹å®šç«¯ç‚¹çš„è®¡æ—¶å™¨ã€‚</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO2-3"><img src="images/3.png" alt="3" border="0"></a></p></td><td valign="top" align="left"><p>åœ¨ä½¿ç”¨<code class="literal" i="2631">longTask = true</code>çš„æ–¹æ³•ä¸Šä¸ºè¯¥æ–¹æ³•å¯ç”¨é•¿ä»»åŠ¡è®¡æ—¶å™¨ã€‚é•¿ä»»åŠ¡è®¡æ—¶å™¨éœ€è¦å•ç‹¬çš„åº¦é‡æ ‡å‡†åç§°ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨çŸ­ä»»åŠ¡è®¡æ—¶å™¨è¿›è¡Œå †å ã€‚</p></td></tr></tbody></table>

é»˜è®¤æƒ…å†µä¸‹ï¼Œä½¿ç”¨åç§°`http.server.requests`ç”Ÿæˆåº¦é‡æ ‡å‡†ã€‚å¯ä»¥é€šè¿‡è®¾ç½®`management.metrics.web.server.requests-metric-name`å±æ€§æ¥è‡ªå®šä¹‰åç§°ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼ŒJerseyæœåŠ¡å™¨æŒ‡æ ‡æ ‡è®°æœ‰ä»¥ä¸‹ä¿¡æ¯ï¼š

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">æ ‡ç­¾</th><th style="border-bottom: 1px solid ; " align="left" valign="top">æè¿°</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">exception</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>å¤„ç†è¯·æ±‚æ—¶æŠ›å‡ºçš„ä»»ä½•å¼‚å¸¸çš„ç®€å•ç±»åã€‚</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">method</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>è¯·æ±‚çš„æ–¹æ³•ï¼ˆä¾‹å¦‚ï¼Œ<code class="literal" i="2634">GET</code>æˆ–<code class="literal" i="2635">POST</code>ï¼‰</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">outcome</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>æ ¹æ®å“åº”çš„çŠ¶æ€ä»£ç è¯·æ±‚ç»“æœã€‚1xxæ˜¯<code class="literal" i="2636">INFORMATIONAL</code>ï¼Œ2xxæ˜¯<code class="literal" i="2637">SUCCESS</code>ï¼Œ3xxæ˜¯<code class="literal" i="2638">REDIRECTION</code>ï¼Œ4xx <code class="literal" i="2639">CLIENT_ERROR</code>ï¼Œ5xxæ˜¯<code class="literal" i="2640">SERVER_ERROR</code></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">status</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>å“åº”çš„HTTPçŠ¶æ€ä»£ç ï¼ˆä¾‹å¦‚ï¼Œ<code class="literal" i="2641">200</code>æˆ–<code class="literal" i="2642">500</code>ï¼‰</p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">uri</code></p></td><td style="" align="left" valign="top" class=""><p>å¦‚æœå¯èƒ½ï¼Œåœ¨å˜é‡æ›¿æ¢ä¹‹å‰è¯·æ±‚URIæ¨¡æ¿ï¼ˆä¾‹å¦‚ï¼Œ<code class="literal" i="2643">/api/person/{id}</code>ï¼‰</p></td></tr></tbody></table>

è¦è‡ªå®šä¹‰æ ‡è®°ï¼Œè¯·æä¾›å®ç°`JerseyTagsProvider`çš„`@Bean`ã€‚

### 57.3.4 HTTPå®¢æˆ·ç«¯åº¦é‡æ ‡å‡†

Spring Boot Actuatorç®¡ç†`RestTemplate`å’Œ`WebClient`çš„å·¥å…·ã€‚ä¸ºæ­¤ï¼Œæ‚¨å¿…é¡»æ³¨å…¥ä¸€ä¸ªè‡ªåŠ¨é…ç½®çš„æ„å»ºå™¨å¹¶ä½¿ç”¨å®ƒæ¥åˆ›å»ºå®ä¾‹ï¼š

*   `RestTemplateBuilder` `RestTemplate`
*   `WebClient.Builder` `WebClient`

ä¹Ÿå¯ä»¥æ‰‹åŠ¨åº”ç”¨è´Ÿè´£æ­¤ä»ªå™¨çš„å®šåˆ¶å™¨ï¼Œå³`MetricsRestTemplateCustomizer`å’Œ`MetricsWebClientCustomizer`ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼Œä½¿ç”¨åç§°`http.client.requests`ç”ŸæˆæŒ‡æ ‡ã€‚å¯ä»¥é€šè¿‡è®¾ç½®`management.metrics.web.client.requests-metric-name`å±æ€§æ¥è‡ªå®šä¹‰åç§°ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼Œå·²æ£€æµ‹å®¢æˆ·ç«¯ç”Ÿæˆçš„åº¦é‡æ ‡å‡†ä½¿ç”¨ä»¥ä¸‹ä¿¡æ¯è¿›è¡Œæ ‡è®°ï¼š

*   `method`ï¼Œè¯·æ±‚çš„æ–¹æ³•ï¼ˆä¾‹å¦‚ï¼Œ`GET`æˆ–`POST`ï¼‰ã€‚
*   `uri`ï¼Œå˜é‡æ›¿æ¢ä¹‹å‰çš„è¯·æ±‚URIæ¨¡æ¿ï¼ˆå¦‚æœå¯èƒ½ï¼‰ï¼ˆä¾‹å¦‚ï¼Œ`/api/person/{id}`ï¼‰ã€‚
*   `status`ï¼Œå“åº”çš„HTTPçŠ¶æ€ä»£ç ï¼ˆä¾‹å¦‚ï¼Œ`200`æˆ–`500`ï¼‰ã€‚
*   `clientName`ï¼ŒURIçš„ä¸»æœºéƒ¨åˆ†ã€‚

è¦è‡ªå®šä¹‰æ ‡è®°ï¼Œå¹¶æ ¹æ®æ‚¨é€‰æ‹©çš„å®¢æˆ·ç«¯ï¼Œæ‚¨å¯ä»¥æä¾›`@Bean`æ¥å®ç°`RestTemplateExchangeTagsProvider`æˆ–`WebClientExchangeTagsProvider`ã€‚`RestTemplateExchangeTags`å’Œ`WebClientExchangeTags`ä¸­æœ‰ä¾¿åˆ©çš„é™æ€å‡½æ•°ã€‚

### 57.3.5ç¼“å­˜åº¦é‡æ ‡å‡†

è‡ªåŠ¨é…ç½®å…è®¸åœ¨å¯åŠ¨æ—¶ä½¿ç”¨å‰ç¼€ä¸º`cache`çš„åº¦é‡æ ‡å‡†æ£€æµ‹æ‰€æœ‰å¯ç”¨çš„`Cache`ã€‚ç¼“å­˜æ£€æµ‹é’ˆå¯¹ä¸€ç»„åŸºæœ¬æŒ‡æ ‡è¿›è¡Œäº†æ ‡å‡†åŒ–ã€‚æ­¤å¤–ï¼Œè¿˜æä¾›äº†ç‰¹å®šäºç¼“å­˜çš„æŒ‡æ ‡ã€‚

æ”¯æŒä»¥ä¸‹ç¼“å­˜åº“ï¼š

*   Caffeine
*   EhCache 2
*   Hazelcast
*   ä»»ä½•å…¼å®¹çš„JCacheï¼ˆJSR-107ï¼‰å®ç°

åº¦é‡æ ‡å‡†ç”±ç¼“å­˜çš„åç§°å’Œä»beanåç§°æ´¾ç”Ÿçš„`CacheManager`çš„åç§°æ ‡è®°ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>åªæœ‰å¯åŠ¨æ—¶å¯ç”¨çš„ç¼“å­˜æ‰ä¼šç»‘å®šåˆ°æ³¨å†Œè¡¨ã€‚å¯¹äºåœ¨å¯åŠ¨é˜¶æ®µä¹‹åå³æ—¶æˆ–ä»¥ç¼–ç¨‹æ–¹å¼åˆ›å»ºçš„ç¼“å­˜ï¼Œéœ€è¦æ˜¾å¼æ³¨å†Œã€‚<code class="literal" i="2673">CacheMetricsRegistrar</code> beanå¯ç”¨äºç®€åŒ–æ­¤è¿‡ç¨‹ã€‚</p></td></tr></tbody></table>

### 57.3.6æ•°æ®æºåº¦é‡æ ‡å‡†

è‡ªåŠ¨é…ç½®ä½¿ç”¨åä¸º`jdbc`çš„åº¦é‡æ ‡å‡†å¯ç”¨æ‰€æœ‰å¯ç”¨`DataSource`å¯¹è±¡çš„æ£€æµ‹ã€‚æ•°æ®æºæ£€æµ‹ä¼šç”Ÿæˆè¡¨ç¤ºæ± ä¸­å½“å‰æ´»åŠ¨ï¼Œæœ€å¤§å…è®¸å’Œæœ€å°å…è®¸è¿æ¥çš„è®¡é‡å™¨ã€‚è¿™äº›ä»ªè¡¨ä¸­çš„æ¯ä¸€ä¸ªéƒ½æœ‰ä¸€ä¸ªä»¥`jdbc`ä¸ºå‰ç¼€çš„åç§°ã€‚

åº¦é‡æ ‡å‡†ä¹Ÿç”±åŸºäºbeanåç§°è®¡ç®—çš„`DataSource`çš„åç§°æ ‡è®°ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒSpring Bootä¸ºæ‰€æœ‰æ”¯æŒçš„æ•°æ®æºæä¾›å…ƒæ•°æ®; å¦‚æœæ‚¨ä¸å–œæ¬¢è‡ªå·±å–œæ¬¢çš„æ•°æ®æºï¼Œåˆ™å¯ä»¥æ·»åŠ é¢å¤–çš„<code class="literal" i="2678">DataSourcePoolMetadataProvider</code> beansã€‚æœ‰å…³ç¤ºä¾‹ï¼Œè¯·å‚é˜…<code class="literal" i="2679">DataSourcePoolMetadataProvidersConfiguration</code>ã€‚</p></td></tr></tbody></table>

æ­¤å¤–ï¼ŒHikariç‰¹å®šçš„æŒ‡æ ‡ä»¥`hikaricp`å‰ç¼€å…¬å¼€ã€‚æ¯ä¸ªåº¦é‡æ ‡å‡†éƒ½ç”±æ± åç§°æ ‡è®°ï¼ˆå¯ä»¥ä½¿ç”¨`spring.datasource.name`æ§åˆ¶ï¼‰ã€‚

### 57.3.7 Hibernateåº¦é‡æ ‡å‡†

è‡ªåŠ¨é…ç½®å…è®¸ä½¿ç”¨åä¸º`hibernate`çš„åº¦é‡æ ‡å‡†å¯ç”¨ç»Ÿè®¡ä¿¡æ¯çš„æ‰€æœ‰å¯ç”¨Hibernate `EntityManagerFactory`å®ä¾‹çš„æ£€æµ‹ã€‚

åº¦é‡æ ‡å‡†ä¹Ÿç”±beanåç§°æ´¾ç”Ÿçš„`EntityManagerFactory`åç§°æ ‡è®°ã€‚

è¦å¯ç”¨ç»Ÿè®¡ä¿¡æ¯ï¼Œæ ‡å‡†JPAå±æ€§`hibernate.generate_statistics`å¿…é¡»è®¾ç½®ä¸º`true`ã€‚æ‚¨å¯ä»¥åœ¨è‡ªåŠ¨é…ç½®çš„`EntityManagerFactory`ä¸Šå¯ç”¨å®ƒï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
spring.jpa.properties.hibernate.generate_statistics=true
```

### 57.3.8 RabbitMQæŒ‡æ ‡

è‡ªåŠ¨é…ç½®å°†ä½¿ç”¨åä¸º`rabbitmq`çš„åº¦é‡æ ‡å‡†å¯ç”¨æ‰€æœ‰å¯ç”¨RabbitMQè¿æ¥å·¥å‚çš„æ£€æµ‹ã€‚

57.4æ³¨å†Œè‡ªå®šä¹‰æŒ‡æ ‡
-----------

è¦æ³¨å†Œè‡ªå®šä¹‰æŒ‡æ ‡ï¼Œè¯·å°†`MeterRegistry`æ³¨å…¥ç»„ä»¶ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
class Dictionary {

	private final List<String> words = new CopyOnWriteArrayList<>();

	Dictionary(MeterRegistry registry) {
		registry.gaugeCollectionSize("dictionary.size", Tags.empty(), this.words);
	}

	// â€¦

}
```

å¦‚æœæ‚¨å‘ç°è·¨ç»„ä»¶æˆ–åº”ç”¨ç¨‹åºé‡å¤æ£€æµ‹ä¸€å¥—åº¦é‡æ ‡å‡†ï¼Œåˆ™å¯ä»¥å°†æ­¤å¥—ä»¶å°è£…åœ¨`MeterBinder`å®ç°ä¸­ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰`MeterBinder` beansçš„æŒ‡æ ‡éƒ½ä¼šè‡ªåŠ¨ç»‘å®šåˆ°Spring - æ‰˜ç®¡`MeterRegistry`ã€‚

57.5è‡ªå®šä¹‰å„ä¸ªæŒ‡æ ‡
-----------

å¦‚æœéœ€è¦å°†è‡ªå®šä¹‰åº”ç”¨äºç‰¹å®šçš„`Meter`å®ä¾‹ï¼Œå¯ä»¥ä½¿ç”¨`io.micrometer.core.instrument.config.MeterFilter`æ¥å£ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰`MeterFilter` beanséƒ½å°†è‡ªåŠ¨åº”ç”¨äºåƒåˆ†å°º`MeterRegistry.Config`ã€‚

ä¾‹å¦‚ï¼Œå¦‚æœè¦å°†`mytag.region`æ ‡è®°é‡å‘½åä¸º`mytag.area`ä»¥æŸ¥æ‰¾ä»¥`com.example`å¼€å¤´çš„æ‰€æœ‰ä»ªè¡¨IDï¼Œæ‚¨å¯ä»¥æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š

```
_@Bean_
public MeterFilter renameRegionTagMeterFilter() {
	return MeterFilter.renameTag("com.example", "mytag.region", "mytag.area");
}
```

### 57.5.1é€šç”¨æ ‡ç­¾

é€šç”¨æ ‡ç­¾é€šå¸¸ç”¨äºæ“ä½œç¯å¢ƒä¸­çš„ç»´åº¦å‘ä¸‹é’»å–ï¼Œå¦‚ä¸»æœºï¼Œå®ä¾‹ï¼ŒåŒºåŸŸï¼Œå †æ ˆç­‰ã€‚å…±ç”¨æ ‡ç­¾åº”ç”¨äºæ‰€æœ‰ä»ªè¡¨ï¼Œå¹¶ä¸”å¯ä»¥æŒ‰ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºè¿›è¡Œé…ç½®ï¼š

```
management.metrics.tags.region=us-east-1
management.metrics.tags.stack=prod
```

ä¸Šé¢çš„ç¤ºä¾‹å°†`region`å’Œ`stack`æ ‡è®°æ·»åŠ åˆ°æ‰€æœ‰è®¡é‡è¡¨ï¼Œå…¶å€¼åˆ†åˆ«ä¸º`us-east-1`å’Œ`prod`ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å¦‚æœæ‚¨ä½¿ç”¨Graphiteï¼Œåˆ™å¸¸ç”¨æ ‡è®°çš„é¡ºåºå¾ˆé‡è¦ã€‚ç”±äºä½¿ç”¨æ­¤æ–¹æ³•æ— æ³•ä¿è¯å¸¸ç”¨æ ‡è®°çš„é¡ºåºï¼Œå› æ­¤å»ºè®®Graphiteç”¨æˆ·å®šä¹‰è‡ªå®šä¹‰<code class="literal" i="2704">MeterFilter</code>ã€‚</p></td></tr></tbody></table>

### 57.5.2 Per-meterå±æ€§

é™¤äº†`MeterFilter` beansä¹‹å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨å±æ€§åœ¨æ¯ç±³çš„åŸºç¡€ä¸Šåº”ç”¨ä¸€ç»„æœ‰é™çš„è‡ªå®šä¹‰ã€‚Per-meterè‡ªå®šä¹‰é€‚ç”¨äºä»¥ç»™å®šåç§°å¼€å¤´çš„æ‰€æœ‰ä»ªè¡¨IDã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹å†…å®¹å°†ç¦ç”¨ä»»ä½•IDä¸º`example.remote`çš„è®¡é‡è¡¨

```
management.metrics.enable.example.remote=false
```

ä»¥ä¸‹å±æ€§å…è®¸æ¯ç±³å®šåˆ¶ï¼š

**è¡¨57.1ã€‚Per-meterè‡ªå®šä¹‰**

<table class="table" summary="Per-meter customizations" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">Property</th><th style="border-bottom: 1px solid ; " align="left" valign="top">æè¿°</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">management.metrics.enable</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>æ˜¯å¦æ‹’ç»ç±³å‘å¸ƒä»»ä½•æŒ‡æ ‡ã€‚</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">management.metrics.distribution.percentiles-histogram</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>æ˜¯å¦å‘å¸ƒé€‚åˆäºè®¡ç®—å¯èšåˆï¼ˆè·¨ç»´åº¦ï¼‰ç™¾åˆ†ä½è¿‘ä¼¼çš„ç›´æ–¹å›¾ã€‚</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal" i="2707">management.metrics.distribution.minimum-expected-value</code>, <code class="literal" i="2708">management.metrics.distribution.maximum-expected-value</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>é€šè¿‡é™åˆ¶é¢„æœŸå€¼çš„èŒƒå›´æ¥å‘å¸ƒæ›´å°‘çš„ç›´æ–¹å›¾æ¡¶ã€‚</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top"><p><code class="literal">management.metrics.distribution.percentiles</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top"><p>å‘å¸ƒåœ¨æ‚¨çš„åº”ç”¨ç¨‹åºä¸­è®¡ç®—çš„ç™¾åˆ†ä½æ•°å€¼</p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top"><p><code class="literal">management.metrics.distribution.sla</code></p></td><td style="" align="left" valign="top"><p>ä½¿ç”¨SLAå®šä¹‰çš„å­˜å‚¨æ¡¶å‘å¸ƒç´¯ç§¯ç›´æ–¹å›¾ã€‚</p></td></tr></tbody></table>  

æœ‰å…³`percentiles-histogram`ï¼Œ`percentiles`å’Œ`sla`èƒŒåæ¦‚å¿µçš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…åƒåˆ†å°ºæ–‡æ¡£çš„[â€œç›´æ–¹å›¾å’Œç™¾åˆ†ä½æ•°â€éƒ¨åˆ†](https://micrometer.io/docs/concepts#_histograms_and_percentiles)ã€‚

57.6åº¦é‡æ ‡å‡†ç«¯ç‚¹
----------

Spring Bootæä¾›äº†ä¸€ä¸ª`metrics`ç«¯ç‚¹ï¼Œå¯ä»¥åœ¨è¯Šæ–­ä¸Šç”¨äºæ£€æŸ¥åº”ç”¨ç¨‹åºæ”¶é›†çš„æŒ‡æ ‡ã€‚é»˜è®¤æƒ…å†µä¸‹ç«¯ç‚¹ä¸å¯ç”¨ï¼Œå¿…é¡»å…¬å¼€ï¼Œè¯·å‚é˜…[å…¬å¼€ç«¯ç‚¹](#production-ready-endpoints-exposing-endpoints "53.2å…¬å¼€ç«¯ç‚¹")ä»¥è·å–æ›´å¤šè¯¦ç»†ä¿¡æ¯ã€‚

å¯¼èˆªåˆ°`/actuator/metrics`ä¼šæ˜¾ç¤ºå¯ç”¨çš„ä»ªè¡¨åç§°åˆ—è¡¨ã€‚æ‚¨å¯ä»¥æ·±å…¥æŸ¥çœ‹æœ‰å…³ç‰¹å®šä»ªè¡¨çš„ä¿¡æ¯ï¼Œæ–¹æ³•æ˜¯å°†å…¶åç§°ä½œä¸ºé€‰æ‹©å™¨ï¼Œä¾‹å¦‚`/actuator/metrics/jvm.memory.max`ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æ‚¨åœ¨æ­¤å¤„ä½¿ç”¨çš„åç§°åº”ä¸ä»£ç ä¸­ä½¿ç”¨çš„åç§°ç›¸åŒ¹é…ï¼Œè€Œä¸æ˜¯åœ¨å‘½åä¹‹åçš„åç§° - ä¸ºå…¶è¿é€åˆ°çš„ç›‘è§†ç³»ç»Ÿè§„èŒƒåŒ–çš„çº¦å®šã€‚æ¢å¥è¯è¯´ï¼Œå¦‚æœ<code class="literal" i="2715">jvm.memory.max</code>ç”±äºå…¶è›‡æ¡ˆä¾‹å‘½åçº¦å®šåœ¨Prometheusä¸­æ˜¾ç¤ºä¸º<code class="literal" i="2716">jvm_memory_max</code>ï¼Œåˆ™åœ¨æ£€æŸ¥<code class="literal" i="2718">metrics</code>ç«¯ç‚¹ä¸­çš„ä»ªè¡¨æ—¶ä»åº”ä½¿ç”¨<code class="literal" i="2717">jvm.memory.max</code>ä½œä¸ºé€‰æ‹©å™¨ã€‚</p></td></tr></tbody></table>

æ‚¨è¿˜å¯ä»¥åœ¨URLçš„æœ«å°¾æ·»åŠ ä»»æ„æ•°é‡çš„`tag=KEY:VALUE`æŸ¥è¯¢å‚æ•°ï¼Œä»¥ä¾¿æŒ‰å°ºå¯¸å‘ä¸‹é’»å–ä»ªè¡¨ï¼Œä¾‹å¦‚`/actuator/metrics/jvm.memory.max?tag=area:nonheap`ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æŠ¥å‘Šçš„æµ‹é‡å€¼æ˜¯ä¸ä»ªè¡¨åç§°å’Œå·²åº”ç”¨çš„ä»»ä½•æ ‡ç­¾åŒ¹é…çš„æ‰€æœ‰ä»ªè¡¨çš„ç»Ÿè®¡æ•°æ®çš„<em>æ€»å’Œ</em>ã€‚å› æ­¤ï¼Œåœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œè¿”å›çš„â€œValueâ€ç»Ÿè®¡ä¿¡æ¯æ˜¯å †çš„â€œCode Cacheâ€ï¼Œâ€œCompressed Class Spaceâ€å’Œâ€œMetaspaceâ€åŒºåŸŸçš„æœ€å¤§å†…å­˜å ç”¨é‡çš„æ€»å’Œã€‚å¦‚æœæ‚¨åªæƒ³æŸ¥çœ‹â€œMetaspaceâ€çš„æœ€å¤§å¤§å°ï¼Œå¯ä»¥æ·»åŠ é¢å¤–çš„<code class="literal" i="2721">tag=id:Metaspace</code>ï¼Œå³<code class="literal" i="2722">/actuator/metrics/jvm.memory.max?tag=area:nonheap&amp;tag=id:Metaspace</code>ã€‚</p></td></tr></tbody></table>

58.å®¡è®¡
-----

ä¸€æ—¦Springå®‰å…¨æ€§å‘æŒ¥ä½œç”¨ï¼ŒSpring Boot Actuatorå…·æœ‰çµæ´»çš„å®¡è®¡æ¡†æ¶ï¼Œå¯ä»¥å‘å¸ƒäº‹ä»¶ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼Œâ€œèº«ä»½éªŒè¯æˆåŠŸâ€ï¼Œâ€œå¤±è´¥â€å’Œâ€œè®¿é—®è¢«æ‹’ç»â€ä¾‹å¤–ï¼‰ã€‚æ­¤åŠŸèƒ½å¯¹äºæŠ¥å‘Šå’ŒåŸºäºèº«ä»½éªŒè¯å¤±è´¥å®æ–½é”å®šç­–ç•¥éå¸¸æœ‰ç”¨ã€‚è¦è‡ªå®šä¹‰å·²å‘å¸ƒçš„å®‰å…¨äº‹ä»¶ï¼Œæ‚¨å¯ä»¥æä¾›è‡ªå·±çš„`AbstractAuthenticationAuditListener`å’Œ`AbstractAuthorizationAuditListener`å®ç°ã€‚

æ‚¨è¿˜å¯ä»¥å°†å®¡è®¡æœåŠ¡ç”¨äºæ‚¨è‡ªå·±çš„ä¸šåŠ¡äº‹ä»¶ã€‚ä¸ºæ­¤ï¼Œè¯·å°†ç°æœ‰çš„`AuditEventRepository`æ³¨å…¥æ‚¨è‡ªå·±çš„ç»„ä»¶å¹¶ç›´æ¥ä½¿ç”¨å®ƒæˆ–ä½¿ç”¨Spring `ApplicationEventPublisher`å‘å¸ƒ`AuditApplicationEvent`ï¼ˆé€šè¿‡å®æ–½`ApplicationEventPublisherAware`ï¼‰ã€‚

59. HTTPè·Ÿè¸ª

----------

å°†è‡ªåŠ¨ä¸ºæ‰€æœ‰HTTPè¯·æ±‚å¯ç”¨è·Ÿè¸ªã€‚æ‚¨å¯ä»¥æŸ¥çœ‹`httptrace`ç«¯ç‚¹å¹¶è·å–æœ‰å…³æœ€è¿‘100æ¬¡è¯·æ±‚ - å“åº”äº¤æ¢çš„åŸºæœ¬ä¿¡æ¯ã€‚

59.1è‡ªå®šä¹‰HTTPè·Ÿè¸ª
-------------

è¦è‡ªå®šä¹‰æ¯ä¸ªè·Ÿè¸ªä¸­åŒ…å«çš„é¡¹ç›®ï¼Œè¯·ä½¿ç”¨`management.trace.http.include`é…ç½®å±æ€§ã€‚è¦è¿›è¡Œé«˜çº§è‡ªå®šä¹‰ï¼Œè¯·è€ƒè™‘æ³¨å†Œæ‚¨è‡ªå·±çš„`HttpExchangeTracer`å®ç°ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼Œä½¿ç”¨å­˜å‚¨æœ€å100ä¸ªè¯·æ±‚ - å“åº”äº¤æ¢çš„è·Ÿè¸ªçš„`InMemoryHttpTraceRepository`ã€‚å¦‚æœæ‚¨éœ€è¦æ‰©å±•å®¹é‡ï¼Œå¯ä»¥å®šä¹‰è‡ªå·±çš„`InMemoryHttpTraceRepository` beanå®ä¾‹ã€‚æ‚¨è¿˜å¯ä»¥åˆ›å»ºè‡ªå·±çš„æ›¿ä»£`HttpTraceRepository`å®ç°ã€‚

60.è¿‡ç¨‹ç›‘æµ‹
-------

åœ¨`spring-boot`æ¨¡å—ä¸­ï¼Œæ‚¨å¯ä»¥æ‰¾åˆ°ä¸¤ä¸ªç±»æ¥åˆ›å»ºé€šå¸¸å¯¹è¿›ç¨‹ç›‘è§†æœ‰ç”¨çš„æ–‡ä»¶ï¼š

*   `ApplicationPidFileWriter`åˆ›å»ºä¸€ä¸ªåŒ…å«åº”ç”¨ç¨‹åºPIDçš„æ–‡ä»¶ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨åº”ç”¨ç¨‹åºç›®å½•ä¸­ï¼Œæ–‡ä»¶åä¸º`application.pid`ï¼‰ã€‚
*   `WebServerPortFileWriter`åˆ›å»ºä¸€ä¸ªåŒ…å«æ­£åœ¨è¿è¡Œçš„WebæœåŠ¡å™¨ç«¯å£çš„æ–‡ä»¶ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨æ–‡ä»¶åä¸º`application.port`çš„åº”ç”¨ç¨‹åºç›®å½•ä¸­ï¼‰ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™äº›ç¼–å†™å™¨æœªæ¿€æ´»ï¼Œä½†æ‚¨å¯ä»¥å¯ç”¨ï¼š

*   [é€šè¿‡æ‰©å±•é…ç½®](#production-ready-process-monitoring-configuration "60.1æ‰©å±•é…ç½®")
*   [ç¬¬60.2èŠ‚â€œä»¥ç¼–ç¨‹æ–¹å¼â€](#production-ready-process-monitoring-programmatically "60.2ä»¥ç¼–ç¨‹æ–¹å¼")

60.1æ‰©å±•é…ç½®
--------

åœ¨`META-INF/spring.factories`æ–‡ä»¶ä¸­ï¼Œæ‚¨å¯ä»¥æ¿€æ´»å†™å…¥PIDæ–‡ä»¶çš„ä¾¦å¬å™¨ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
org.springframework.context.ApplicationListener=\
org.springframework.boot.context.ApplicationPidFileWriter,\
org.springframework.boot.web.context.WebServerPortFileWriter
```

60.2ä»¥ç¼–ç¨‹æ–¹å¼
---------

æ‚¨è¿˜å¯ä»¥é€šè¿‡è°ƒç”¨`SpringApplication.addListeners(â€¦â€‹)`æ–¹æ³•å¹¶ä¼ é€’ç›¸åº”çš„`Writer`å¯¹è±¡æ¥æ¿€æ´»ä¾¦å¬å™¨ã€‚æ­¤æ–¹æ³•è¿˜å…è®¸æ‚¨åœ¨`Writer`æ„é€ å‡½æ•°ä¸­è‡ªå®šä¹‰æ–‡ä»¶åå’Œè·¯å¾„ã€‚

61. Cloud Foundryæ”¯æŒ

-------------------

Spring Bootçš„æ‰§è¡Œå™¨æ¨¡å—åŒ…æ‹¬åœ¨éƒ¨ç½²åˆ°å…¼å®¹çš„Cloud Foundryå®ä¾‹æ—¶æ¿€æ´»çš„å…¶ä»–æ”¯æŒã€‚`/cloudfoundryapplication`è·¯å¾„ä¸ºæ‰€æœ‰`@Endpoint` beansæä¾›äº†å¦ä¸€æ¡å®‰å…¨è·¯çº¿ã€‚

é€šè¿‡æ‰©å±•æ”¯æŒï¼Œå¯ä»¥ä½¿ç”¨Spring Bootæ‰§è¡Œå™¨ä¿¡æ¯æ‰©å……Cloud Foundryç®¡ç†UIï¼ˆä¾‹å¦‚å¯ç”¨äºæŸ¥çœ‹å·²éƒ¨ç½²åº”ç”¨ç¨‹åºçš„Webåº”ç”¨ç¨‹åºï¼‰ã€‚ä¾‹å¦‚ï¼Œåº”ç”¨ç¨‹åºçŠ¶æ€é¡µé¢å¯ä»¥åŒ…æ‹¬å®Œæ•´çš„å¥åº·ä¿¡æ¯ï¼Œè€Œä¸æ˜¯å…¸å‹çš„â€œè¿è¡Œâ€æˆ–â€œåœæ­¢â€çŠ¶æ€ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å¸¸è§„ç”¨æˆ·æ— æ³•ç›´æ¥è®¿é—®<code class="literal" i="2746">/cloudfoundryapplication</code>è·¯å¾„ã€‚ä¸ºäº†ä½¿ç”¨ç«¯ç‚¹ï¼Œå¿…é¡»ä¸è¯·æ±‚ä¸€èµ·ä¼ é€’æœ‰æ•ˆçš„UAAä»¤ç‰Œã€‚</p></td></tr></tbody></table>

61.1ç¦ç”¨Extended Cloud Foundry Actuatoræ”¯æŒ
---------------------------------------

å¦‚æœè¦å®Œå…¨ç¦ç”¨`/cloudfoundryapplication`ç«¯ç‚¹ï¼Œå¯ä»¥å°†ä»¥ä¸‹è®¾ç½®æ·»åŠ åˆ°`application.properties`æ–‡ä»¶ä¸­ï¼š

**application.propertiesã€‚** 

```
management.cloudfoundry.enabled=false
```

61.2 Cloud Foundryè‡ªç­¾åè¯ä¹¦
-----------------------

é»˜è®¤æƒ…å†µä¸‹ï¼Œ`/cloudfoundryapplication`ç«¯ç‚¹çš„å®‰å…¨éªŒè¯ä¼šå¯¹å„ç§Cloud FoundryæœåŠ¡è¿›è¡ŒSSLè°ƒç”¨ã€‚å¦‚æœæ‚¨çš„Cloud Foundry UAAæˆ–Cloud ControlleræœåŠ¡ä½¿ç”¨è‡ªç­¾åè¯ä¹¦ï¼Œåˆ™éœ€è¦è®¾ç½®ä»¥ä¸‹å±æ€§ï¼š

**application.propertiesã€‚** 

```
management.cloudfoundry.skip-ssl-validation=true
```

61.3è‡ªå®šä¹‰ä¸Šä¸‹æ–‡è·¯å¾„
------------

å¦‚æœæœåŠ¡å™¨çš„ä¸Šä¸‹æ–‡è·¯å¾„å·²é…ç½®ä¸º`/`ä»¥å¤–çš„ä»»ä½•å…¶ä»–å†…å®¹ï¼Œåˆ™Cloud Foundryç«¯ç‚¹å°†ä¸ä¼šåœ¨åº”ç”¨ç¨‹åºçš„æ ¹ç›®å½•ä¸­å¯ç”¨ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ`server.servlet.context-path=/app`ï¼ŒCloud Foundryç«¯ç‚¹å°†åœ¨`/app/cloudfoundryapplication/*`å¤„å¯ç”¨ã€‚

å¦‚æœæ‚¨å¸Œæœ›Cloud Foundryç«¯ç‚¹å§‹ç»ˆåœ¨`/cloudfoundryapplication/*`å¤„å¯ç”¨ï¼Œåˆ™æ— è®ºæœåŠ¡å™¨çš„ä¸Šä¸‹æ–‡è·¯å¾„å¦‚ä½•ï¼Œæ‚¨éƒ½éœ€è¦åœ¨åº”ç”¨ç¨‹åºä¸­æ˜ç¡®é…ç½®å®ƒã€‚é…ç½®å°†æ ¹æ®ä½¿ç”¨çš„WebæœåŠ¡å™¨è€Œæœ‰æ‰€ä¸åŒã€‚å¯¹äºTomcatï¼Œå¯ä»¥æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š

```
_@Bean_
public TomcatServletWebServerFactory servletWebServerFactory() {
	return new TomcatServletWebServerFactory() {

		_@Override_
		protected void prepareContext(Host host,
				ServletContextInitializer[] initializers) {
			super.prepareContext(host, initializers);
			StandardContext child = new StandardContext();
			child.addLifecycleListener(new Tomcat.FixContextListener());
			child.setPath("/cloudfoundryapplication");
			ServletContainerInitializer initializer = getServletContextInitializer(
					getContextPath());
			child.addServletContainerInitializer(initializer, Collections.emptySet());
			child.setCrossContext(true);
			host.addChild(child);
		}

	};
}

private ServletContainerInitializer getServletContextInitializer(String contextPath) {
	return (c, context) -> {
		Servlet servlet = new GenericServlet() {

			_@Override_
			public void service(ServletRequest req, ServletResponse res)
					throws ServletException, IOException {
				ServletContext context = req.getServletContext()
						.getContext(contextPath);
				context.getRequestDispatcher("/cloudfoundryapplication").forward(req,
						res);
			}

		};
		context.addServlet("cloudfoundry", servlet).addMapping("/*");
	};
}
```

62.æ¥ä¸‹æ¥è¦é˜…è¯»çš„å†…å®¹
------------

å¦‚æœæ‚¨æƒ³æ¢ç´¢æœ¬ç« ä¸­è®¨è®ºçš„ä¸€äº›æ¦‚å¿µï¼Œæ‚¨å¯ä»¥æŸ¥çœ‹æ‰§è¡Œå™¨[ç¤ºä¾‹åº”ç”¨ç¨‹åº](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-samples)ã€‚æ‚¨è¿˜å¯ä»¥é˜…è¯»æœ‰å…³å›¾å½¢å·¥å…·çš„ä¿¡æ¯ï¼Œä¾‹å¦‚[Graphite](http://graphite.wikidot.com/)ã€‚

å¦åˆ™ï¼Œæ‚¨å¯ä»¥ç»§ç»­é˜…è¯»æœ‰å…³[â€œéƒ¨ç½²é€‰é¡¹â€çš„ä¿¡æ¯ï¼Œ](#deployment "ç¬¬å…­éƒ¨åˆ†ã€‚ éƒ¨ç½²Spring Bootåº”ç”¨ç¨‹åº")æˆ–è€…ç»§ç»­é˜…è¯»æœ‰å…³Spring Boot _[æ„å»ºå·¥å…·æ’ä»¶çš„](#build-tool-plugins "ç¬¬å…«éƒ¨åˆ†ã€‚ æ„å»ºå·¥å…·æ’ä»¶")_ä¸€äº›æ·±å…¥ä¿¡æ¯ ã€‚

ç¬¬å…­éƒ¨åˆ†ã€‚éƒ¨ç½²Spring Bootåº”ç”¨ç¨‹åº
======================

åœ¨éƒ¨ç½²åº”ç”¨ç¨‹åºæ—¶ï¼ŒSpring Bootçµæ´»çš„æ‰“åŒ…é€‰é¡¹æä¾›äº†å¤§é‡é€‰æ‹©ã€‚æ‚¨å¯ä»¥å°†Spring Bootåº”ç”¨ç¨‹åºéƒ¨ç½²åˆ°å„ç§äº‘å¹³å°ï¼Œå®¹å™¨æ˜ åƒï¼ˆä¾‹å¦‚Dockerï¼‰æˆ–è™šæ‹Ÿ/çœŸå®è®¡ç®—æœºã€‚

æœ¬èŠ‚ä»‹ç»ä¸€äº›æ›´å¸¸è§çš„éƒ¨ç½²æ–¹æ¡ˆã€‚

63.éƒ¨ç½²åˆ°äº‘ç«¯
--------

Spring Bootçš„å¯æ‰§è¡Œjaræ˜¯ç°æˆçš„ï¼Œé€‚ç”¨äºå¤§å¤šæ•°æµè¡Œçš„äº‘PaaSï¼ˆå¹³å°å³æœåŠ¡ï¼‰æä¾›å•†ã€‚è¿™äº›æä¾›å•†å¾€å¾€è¦æ±‚æ‚¨â€œè‡ªå¸¦å®¹å™¨â€ã€‚å®ƒä»¬ç®¡ç†åº”ç”¨ç¨‹åºè¿›ç¨‹ï¼ˆè€Œä¸æ˜¯Javaåº”ç”¨ç¨‹åºï¼‰ï¼Œå› æ­¤å®ƒä»¬éœ€è¦ä¸€ä¸ªä¸­é—´å±‚ï¼Œä½¿_æ‚¨çš„_åº”ç”¨ç¨‹åº é€‚åº”_äº‘çš„_è¿è¡Œè¿‡ç¨‹æ¦‚å¿µã€‚

ä¸¤ä¸ªæµè¡Œçš„äº‘æä¾›å•†Herokuå’ŒCloud Foundryé‡‡ç”¨â€œbuildpackâ€æ–¹æ³•ã€‚buildpackå°†æ‚¨éƒ¨ç½²çš„ä»£ç åŒ…è£…åœ¨_å¯åŠ¨_åº”ç”¨ç¨‹åºæ‰€éœ€çš„ä»»ä½•å†…å®¹ä¸­ã€‚å®ƒå¯èƒ½æ˜¯JDKå’Œå¯¹`java`çš„è°ƒç”¨ï¼ŒåµŒå…¥å¼WebæœåŠ¡å™¨æˆ–å®Œæ•´çš„åº”ç”¨ç¨‹åºæœåŠ¡å™¨ã€‚buildpackæ˜¯å¯æ’æ‹”çš„ï¼Œä½†ç†æƒ³æƒ…å†µä¸‹ï¼Œæ‚¨åº”è¯¥èƒ½å¤Ÿå°½å¯èƒ½å°‘åœ°è¿›è¡Œè‡ªå®šä¹‰ã€‚è¿™å‡å°‘äº†ä¸å—æ‚¨æ§åˆ¶çš„åŠŸèƒ½çš„å ç”¨ç©ºé—´ã€‚å®ƒæœ€å¤§é™åº¦åœ°å‡å°‘äº†å¼€å‘å’Œç”Ÿäº§ç¯å¢ƒä¹‹é—´çš„å·®å¼‚ã€‚

ç†æƒ³æƒ…å†µä¸‹ï¼Œæ‚¨çš„åº”ç”¨ç¨‹åºï¼ˆå¦‚Spring Bootå¯æ‰§è¡Œjarï¼‰å…·æœ‰åœ¨å…¶ä¸­è¿è¡Œæ‰“åŒ…æ‰€éœ€çš„æ‰€æœ‰å†…å®¹ã€‚

åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†äº†è§£å¦‚ä½•åœ¨â€œå…¥é—¨â€éƒ¨åˆ†ä¸­[å¼€å‘](#getting-started-first-application "11.å¼€å‘æ‚¨çš„ç¬¬ä¸€ä¸ªSpring Bootåº”ç”¨ç¨‹åº")å¹¶åœ¨äº‘ä¸­è¿è¡Œçš„ [ç®€å•åº”ç”¨ç¨‹åº](#getting-started-first-application "11.Â Developing Your First Spring Boot Application")ã€‚

63.1 Cloud Foundry
------------------

å¦‚æœæœªæŒ‡å®šå…¶ä»–buildpackï¼ŒCloud Foundryå°†æä¾›é»˜è®¤çš„æ„å»ºåŒ…ã€‚Cloud Foundry [Java buildpack](https://github.com/cloudfoundry/java-buildpack)å¯¹Springåº”ç”¨ç¨‹åºæä¾›äº†å‡ºè‰²çš„æ”¯æŒï¼ŒåŒ…æ‹¬Spring Bootã€‚æ‚¨å¯ä»¥éƒ¨ç½²ç‹¬ç«‹çš„å¯æ‰§è¡Œjaråº”ç”¨ç¨‹åºä»¥åŠä¼ ç»Ÿçš„`.war`æ‰“åŒ…åº”ç”¨ç¨‹åºã€‚

æ„å»ºåº”ç”¨ç¨‹åºï¼ˆä¾‹å¦‚ï¼Œä½¿ç”¨`mvn clean package`ï¼‰å¹¶å®‰è£…äº†`cf`å‘½ä»¤è¡Œå·¥å…·åï¼Œä½¿ç”¨`cf push`å‘½ä»¤éƒ¨ç½²åº”ç”¨ç¨‹åºï¼Œå°†è·¯å¾„æ›¿æ¢ä¸ºå·²ç¼–è¯‘çš„{12}ã€‚ /}ã€‚[å®‰è£…äº†`cf`å‘½ä»¤è¡Œå·¥å…·å](https://docs.cloudfoundry.org/cf-cli/install-go-cli.html)ï¼Œä½¿ç”¨`cf push`å‘½ä»¤éƒ¨ç½²åº”ç”¨ç¨‹åºï¼Œå°†è·¯å¾„æ›¿æ¢ä¸ºå·²ç¼–è¯‘çš„{2759} /}ã€‚åœ¨æ¨é€åº”ç”¨ç¨‹åºä¹‹å‰ï¼Œè¯·åŠ¡å¿… [ä½¿ç”¨`cf`å‘½ä»¤è¡Œå®¢æˆ·ç«¯ç™»å½•](https://docs.cloudfoundry.org/cf-cli/getting-started.html#login)ã€‚ä»¥ä¸‹è¡Œæ˜¾ç¤ºä½¿ç”¨`cf push`å‘½ä»¤éƒ¨ç½²åº”ç”¨ç¨‹åºï¼š

```
$ cf push acloudyspringtime -p target/demo-0.0.1-SNAPSHOT.jar
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>åœ¨å‰é¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†<code class="literal" i="2762">acloudyspringtime</code>æ›¿æ¢ä¸ºæ‚¨æä¾›çš„ä»»ä½•å€¼<code class="literal" i="2763">cf</code>ä½œä¸ºåº”ç”¨ç¨‹åºçš„åç§°ã€‚</p></td></tr></tbody></table>

æœ‰å…³æ›´å¤šé€‰é¡¹ï¼Œè¯·å‚é˜…[`cf push`æ–‡æ¡£](https://docs.cloudfoundry.org/cf-cli/getting-started.html#push)ã€‚å¦‚æœ[`manifest.yml`](https://docs.cloudfoundry.org/devguide/deploy-apps/manifest.html) åŒä¸€ç›®å½•ä¸­å­˜åœ¨Cloud Foundry æ–‡ä»¶ï¼Œåˆ™ä¼šè€ƒè™‘è¯¥æ–‡ä»¶ã€‚

æ­¤æ—¶ï¼Œ`cf`å¼€å§‹ä¸Šä¼ æ‚¨çš„åº”ç”¨ç¨‹åºï¼Œç”Ÿæˆç±»ä¼¼äºä»¥ä¸‹ç¤ºä¾‹çš„è¾“å‡ºï¼š

```
Uploading acloudyspringtime... **OK**
Preparing to start acloudyspringtime... **OK**
-----> Downloaded app package (**8.9M**)
-----> Java Buildpack Version: v3.12 (offline) | https://github.com/cloudfoundry/java-buildpack.git#6f25b7e
-----> Downloading Open Jdk JRE 1.8.0_121 from https://java-buildpack.cloudfoundry.org/openjdk/trusty/x86_64/openjdk-1.8.0_121.tar.gz (found in cache)
       Expanding Open Jdk JRE to .java-buildpack/open_jdk_jre (1.6s)
-----> Downloading Open JDK Like Memory Calculator 2.0.2_RELEASE from https://java-buildpack.cloudfoundry.org/memory-calculator/trusty/x86_64/memory-calculator-2.0.2_RELEASE.tar.gz (found in cache)
       Memory Settings: -Xss349K -Xmx681574K -XX:MaxMetaspaceSize=104857K -Xms681574K -XX:MetaspaceSize=104857K
-----> Downloading Container Certificate Trust Store 1.0.0_RELEASE from https://java-buildpack.cloudfoundry.org/container-certificate-trust-store/container-certificate-trust-store-1.0.0_RELEASE.jar (found in cache)
       Adding certificates to .java-buildpack/container_certificate_trust_store/truststore.jks (0.6s)
-----> Downloading Spring Auto Reconfiguration 1.10.0_RELEASE from https://java-buildpack.cloudfoundry.org/auto-reconfiguration/auto-reconfiguration-1.10.0_RELEASE.jar (found in cache)
Checking status of app 'acloudyspringtime'...
  0 of 1 instances running (1 starting)
  ...
  0 of 1 instances running (1 starting)
  ...
  0 of 1 instances running (1 starting)
  ...
  1 of 1 instances running (1 running)

App started
```

æ­å–œï¼è¯¥åº”ç”¨ç¨‹åºç°å·²ä¸Šçº¿ï¼

åº”ç”¨ç¨‹åºè¿è¡Œåï¼Œæ‚¨å¯ä»¥ä½¿ç”¨`cf apps`å‘½ä»¤éªŒè¯å·²éƒ¨ç½²åº”ç”¨ç¨‹åºçš„çŠ¶æ€ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
$ cf apps
Getting applications in ...
OK

name                 requested state   instances   memory   disk   urls
...
acloudyspringtime    started           1/1         512M     1G     acloudyspringtime.cfapps.io
...
```

ä¸€æ—¦Cloud Foundryç¡®è®¤æ‚¨çš„åº”ç”¨ç¨‹åºå·²éƒ¨ç½²ï¼Œæ‚¨åº”è¯¥èƒ½å¤Ÿåœ¨ç»™å®šçš„URIå¤„æ‰¾åˆ°è¯¥åº”ç”¨ç¨‹åºã€‚åœ¨å‰é¢çš„ç¤ºä¾‹ä¸­ï¼Œæ‚¨å¯ä»¥åœ¨`http://acloudyspringtime.cfapps.io/`æ‰¾åˆ°å®ƒã€‚

### 63.1.1ç»‘å®šåˆ°æœåŠ¡

é»˜è®¤æƒ…å†µä¸‹ï¼Œæœ‰å…³æ­£åœ¨è¿è¡Œçš„åº”ç”¨ç¨‹åºçš„å…ƒæ•°æ®ä»¥åŠæœåŠ¡è¿æ¥ä¿¡æ¯å°†ä½œä¸ºç¯å¢ƒå˜é‡å…¬å¼€ç»™åº”ç”¨ç¨‹åºï¼ˆä¾‹å¦‚ï¼š`$VCAP_SERVICES`ï¼‰ã€‚æ­¤ä½“ç³»ç»“æ„å†³ç­–å½’åŠŸäºCloud Foundryçš„å¤šè¯­è¨€ï¼ˆä»»ä½•è¯­è¨€å’Œå¹³å°éƒ½å¯ä»¥ä½œä¸ºbuildpackæ”¯æŒï¼‰ã€‚è¿›ç¨‹èŒƒå›´çš„ç¯å¢ƒå˜é‡ä¸è¯­è¨€æ— å…³ã€‚

ç¯å¢ƒå˜é‡å¹¶ä¸æ€»æ˜¯é€‚ç”¨äºæœ€ç®€å•çš„APIï¼Œå› æ­¤Spring Bootä¼šè‡ªåŠ¨æå–å®ƒä»¬å¹¶å°†æ•°æ®å±•å¹³ä¸ºå¯é€šè¿‡Springçš„`Environment`æŠ½è±¡è®¿é—®çš„å±æ€§ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
_@Component_
class MyBean implements EnvironmentAware {

	private String instanceId;

	_@Override_
	public void setEnvironment(Environment environment) {
		this.instanceId = environment.getProperty("vcap.application.instance_id");
	}

	// ...

}
```

æ‰€æœ‰Cloud Foundryå±æ€§éƒ½ä»¥`vcap`ä¸ºå‰ç¼€ã€‚æ‚¨å¯ä»¥ä½¿ç”¨`vcap`å±æ€§æ¥è®¿é—®åº”ç”¨ç¨‹åºä¿¡æ¯ï¼ˆä¾‹å¦‚åº”ç”¨ç¨‹åºçš„å…¬å…±URLï¼‰å’ŒæœåŠ¡ä¿¡æ¯ï¼ˆä¾‹å¦‚æ•°æ®åº“å‡­æ®ï¼‰ã€‚æœ‰å…³ å®Œæ•´çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… [â€œCloudFoundryVcapEnvironmentPostProcessorâ€](https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/cloud/CloudFoundryVcapEnvironmentPostProcessor.html) Javadocã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>è¯¥<a class="link" href="https://cloud.spring.io/spring-cloud-connectors/" target="_top">Springäº‘è¿æ¥å™¨</a>é¡¹ç›®æ˜¯ä»»åŠ¡ï¼Œå¦‚é…ç½®æ•°æ®æºæ›´é€‚åˆã€‚Spring BootåŒ…æ‹¬è‡ªåŠ¨é…ç½®æ”¯æŒå’Œ<code class="literal" i="2772">spring-boot-starter-cloud-connectors</code>å¯åŠ¨å™¨ã€‚</p></td></tr></tbody></table>

63.2 Heroku
-----------

Herokuæ˜¯å¦ä¸€ä¸ªæµè¡Œçš„PaaSå¹³å°ã€‚è¦è‡ªå®šä¹‰Herokuæ„å»ºï¼Œè¯·æä¾›`Procfile`ï¼Œå®ƒæä¾›éƒ¨ç½²åº”ç”¨ç¨‹åºæ‰€éœ€çš„å’’è¯­ã€‚Herokuä¸ºè¦ä½¿ç”¨çš„Javaåº”ç”¨ç¨‹åºåˆ†é…`port`ï¼Œç„¶åç¡®ä¿è·¯ç”±åˆ°å¤–éƒ¨URIå·¥ä½œã€‚

æ‚¨å¿…é¡»å°†åº”ç”¨ç¨‹åºé…ç½®ä¸ºä¾¦å¬æ­£ç¡®çš„ç«¯å£ã€‚ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†æˆ‘ä»¬çš„å…¥é—¨RESTåº”ç”¨ç¨‹åºçš„`Procfile`ï¼š

```
web: java -Dserver.port=$PORT -jar target/demo-0.0.1-SNAPSHOT.jar
```

Spring Bootä½¿`-D`ä¸ªå‚æ•°å¯ç”¨ä½œå¯ä»Spring `Environment`å®ä¾‹è®¿é—®çš„å±æ€§ã€‚`server.port`é…ç½®å±æ€§è¢«é¦ˆé€åˆ°åµŒå…¥å¼Tomcatï¼ŒJettyæˆ–Undertowå®ä¾‹ï¼Œç„¶ååœ¨å¯åŠ¨æ—¶ä½¿ç”¨è¯¥ç«¯å£ã€‚`$PORT`ç¯å¢ƒå˜é‡ç”±Heroku PaaSåˆ†é…ç»™æˆ‘ä»¬ã€‚

è¿™åº”è¯¥æ˜¯ä½ éœ€è¦çš„ä¸€åˆ‡ã€‚Herokuéƒ¨ç½²æœ€å¸¸è§çš„éƒ¨ç½²å·¥ä½œæµç¨‹æ˜¯`git push`ç”Ÿäº§ä»£ç ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
$ git push heroku master

Initializing repository, **done**.
Counting objects: 95, **done**.
Delta compression using up to 8 threads.
Compressing objects: 100% (78/78), **done**.
Writing objects: 100% (95/95), 8.66 MiB | 606.00 KiB/s, **done**.
Total 95 (delta 31), reused 0 (delta 0)

-----> Java app detected
-----> Installing OpenJDK 1.8... **done**
-----> Installing Maven 3.3.1... **done**
-----> Installing settings.xml... **done**
-----> Executing: mvn -B -DskipTests=true clean install

       [INFO] Scanning for projects...
       Downloading: https://repo.spring.io/...
       Downloaded: https://repo.spring.io/... (818 B at 1.8 KB/sec)
		....
       Downloaded: http://s3pository.heroku.com/jvm/... (152 KB at 595.3 KB/sec)
       [INFO] Installing /tmp/build_0c35a5d2-a067-4abc-a232-14b1fb7a8229/target/...
       [INFO] Installing /tmp/build_0c35a5d2-a067-4abc-a232-14b1fb7a8229/pom.xml ...
       [INFO] ------------------------------------------------------------------------
       [INFO] **BUILD SUCCESS**
       [INFO] ------------------------------------------------------------------------
       [INFO] Total time: 59.358s
       [INFO] Finished at: Fri Mar 07 07:28:25 UTC 2014
       [INFO] Final Memory: 20M/493M
       [INFO] ------------------------------------------------------------------------

-----> Discovering process types
       Procfile declares types -> **web**

-----> Compressing... **done**, 70.4MB
-----> Launching... **done**, v6
       http://agile-sierra-1405.herokuapp.com/ **deployed to Heroku**

To git@heroku.com:agile-sierra-1405.git
 * [new branch]      master -> master
```

æ‚¨çš„åº”ç”¨ç¨‹åºç°åœ¨åº”è¯¥åœ¨Herokuä¸Šå¯åŠ¨å¹¶è¿è¡Œã€‚

63.3 OpenShift
--------------

[OpenShift](https://www.openshift.com/)æ˜¯Kuberneteså®¹å™¨ç¼–æ’å¹³å°çš„Red Hatå…¬å…±ï¼ˆå’Œä¼ä¸šï¼‰æ‰©å±•ã€‚ä¸Kubernetesç±»ä¼¼ï¼ŒOpenShiftæœ‰è®¸å¤šé€‰é¡¹å¯ç”¨äºå®‰è£…åŸºäºSpring Bootçš„åº”ç”¨ç¨‹åºã€‚

OpenShiftæœ‰è®¸å¤šèµ„æºæè¿°å¦‚ä½•éƒ¨ç½²Spring Bootåº”ç”¨ç¨‹åºï¼ŒåŒ…æ‹¬ï¼š

*   [ä½¿ç”¨S2Iæ„å»ºå™¨](https://blog.openshift.com/using-openshift-enterprise-grade-spring-boot-deployments/)
*   [å»ºç­‘æŒ‡å—](https://access.redhat.com/documentation/en-us/reference_architectures/2017/html-single/spring_boot_microservices_on_red_hat_openshift_container_platform_3/)
*   [åœ¨Wildflyä¸Šä½œä¸ºä¼ ç»ŸWebåº”ç”¨ç¨‹åºè¿è¡Œ](https://blog.openshift.com/using-spring-boot-on-openshift/)
*   [OpenShift Commonsç®€æŠ¥](https://blog.openshift.com/openshift-commons-briefing-96-cloud-native-applications-spring-rhoar/)

63.4äºšé©¬é€Šç½‘ç»œæœåŠ¡ï¼ˆAWSï¼‰
----------------

Amazon Web Servicesæä¾›äº†å¤šç§æ–¹æ³•æ¥å®‰è£…åŸºäºSpring Bootçš„åº”ç”¨ç¨‹åºï¼Œå¯ä»¥æ˜¯ä¼ ç»Ÿçš„Webåº”ç”¨ç¨‹åºï¼ˆwarï¼‰ï¼Œä¹Ÿå¯ä»¥æ˜¯å¸¦æœ‰åµŒå…¥å¼WebæœåŠ¡å™¨çš„å¯æ‰§è¡Œjaræ–‡ä»¶ã€‚é€‰é¡¹åŒ…æ‹¬ï¼š

*   AWS Elastic Beanstalk
*   AWS Code Deploy
*   AWS OPS Works
*   AWS Cloud Formation
*   AWSå®¹å™¨æ³¨å†Œè¡¨

æ¯ä¸ªéƒ½æœ‰ä¸åŒçš„åŠŸèƒ½å’Œå®šä»·æ¨¡å‹ã€‚åœ¨æœ¬æ–‡æ¡£ä¸­ï¼Œæˆ‘ä»¬ä»…æè¿°äº†æœ€ç®€å•çš„é€‰é¡¹ï¼šAWS Elastic Beanstalkã€‚

### 63.4.1 AWS Elastic Beanstalk

æ­£å¦‚å®˜æ–¹çš„ [Elastic Beanstalk JavaæŒ‡å—ä¸­æ‰€è¿°](https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/create_deploy_Java.html)ï¼Œéƒ¨ç½²Javaåº”ç”¨ç¨‹åºæœ‰ä¸¤ä¸ªä¸»è¦é€‰é¡¹ã€‚æ‚¨å¯ä»¥ä½¿ç”¨â€œTomcatå¹³å°â€æˆ–â€œJava SEå¹³å°â€ã€‚

#### ä½¿ç”¨Tomcatå¹³å°

æ­¤é€‰é¡¹é€‚ç”¨äºç”Ÿæˆwaræ–‡ä»¶çš„Spring Booté¡¹ç›®ã€‚æ— éœ€ç‰¹æ®Šé…ç½®ã€‚æ‚¨åªéœ€éµå¾ªå®˜æ–¹æŒ‡å—å³å¯ã€‚

#### ä½¿ç”¨Java SEå¹³å°

æ­¤é€‰é¡¹é€‚ç”¨äºç”Ÿæˆjaræ–‡ä»¶å¹¶è¿è¡ŒåµŒå…¥å¼Webå®¹å™¨çš„Spring Booté¡¹ç›®ã€‚Elastic Beanstalkç¯å¢ƒåœ¨ç«¯å£80ä¸Šè¿è¡Œnginxå®ä¾‹ä»¥ä»£ç†åœ¨ç«¯å£5000ä¸Šè¿è¡Œçš„å®é™…åº”ç”¨ç¨‹åºã€‚è¦é…ç½®å®ƒï¼Œè¯·å°†ä»¥ä¸‹è¡Œæ·»åŠ åˆ°`application.properties`æ–‡ä»¶ä¸­ï¼š

```
server.port=5000
```

<table border="0" summary="Tip: Upload binaries instead of sources"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">ä¸Šä¼ äºŒè¿›åˆ¶æ–‡ä»¶è€Œä¸æ˜¯æºä»£ç </th></tr><tr><td align="left" valign="top"><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒElastic Beanstalkä¸Šä¼ æºå¹¶åœ¨AWSä¸­ç¼–è¯‘å®ƒä»¬ã€‚ä½†æ˜¯ï¼Œæœ€å¥½ä¸Šä¼ äºŒè¿›åˆ¶æ–‡ä»¶ã€‚ä¸ºæ­¤ï¼Œè¯·åœ¨<code class="literal" i="2782">.elasticbeanstalk/config.yml</code>æ–‡ä»¶ä¸­æ·»åŠ ä¸ä»¥ä¸‹å†…å®¹ç±»ä¼¼çš„è¡Œï¼š</p><pre class="programlisting notranslate">deploy:
	artifact: target/demo-0.0.1-SNAPSHOT.jar</pre></td></tr></tbody></table><table border="0" summary="Tip: Reduce costs by setting the environment type"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">é€šè¿‡è®¾ç½®ç¯å¢ƒç±»å‹æ¥é™ä½æˆæœ¬</th></tr><tr><td align="left" valign="top"><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒElastic Beanstalkç¯å¢ƒæ˜¯è´Ÿè½½å¹³è¡¡çš„ã€‚è´Ÿè½½å¹³è¡¡å™¨å…·æœ‰æ˜¾ç€çš„æˆæœ¬ã€‚è¦é¿å…æ­¤æˆæœ¬ï¼Œè¯·å°†ç¯å¢ƒç±»å‹è®¾ç½®ä¸ºâ€œSingle instanceâ€ï¼Œå¦‚ <a class="link" href="https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/environments-create-wizard.html#environments-create-wizard-capacity" target="_top">Amazonæ–‡æ¡£ä¸­æ‰€è¿°</a>ã€‚æ‚¨è¿˜å¯ä»¥ä½¿ç”¨CLIå’Œä»¥ä¸‹å‘½ä»¤åˆ›å»ºå•å®ä¾‹ç¯å¢ƒï¼š</p><pre class="screen notranslate">eb create -s</pre></td></tr></tbody></table>


### 63.4.2æ‘˜è¦

è¿™æ˜¯è®¿é—®AWSçš„æœ€ç®€å•æ–¹æ³•ä¹‹ä¸€ï¼Œä½†è¿˜æœ‰æ›´å¤šå†…å®¹éœ€è¦æ¶‰åŠï¼Œä¾‹å¦‚å¦‚ä½•å°†Elastic Beanstalké›†æˆåˆ°ä»»ä½•CI / CDå·¥å…·ä¸­ï¼Œä½¿ç”¨Elastic Beanstalk Mavenæ’ä»¶ä»£æ›¿CLIå’Œå…¶ä»–äººã€‚æœ‰ä¸€ç¯‡ [åšæ–‡](https://exampledriven.wordpress.com/2017/01/09/spring-boot-aws-elastic-beanstalk-example/)æ›´è¯¦ç»†åœ°ä»‹ç»äº†è¿™äº›ä¸»é¢˜ã€‚

63.5 Boxfuseå’Œäºšé©¬é€Šç½‘ç»œæœåŠ¡
--------------------

[Boxfuseçš„](https://boxfuse.com/)å·¥ä½œåŸç†æ˜¯å°†æ‚¨çš„Spring Bootå¯æ‰§è¡Œjaræˆ–warè½¬æ¢ä¸ºå¯ä»¥åœ¨VirtualBoxæˆ–AWSä¸Šæ— éœ€éƒ¨ç½²çš„æœ€å°VMæ˜ åƒã€‚Boxfuseä¸ºSpring Bootæä¾›æ·±åº¦é›†æˆï¼Œå¹¶ä½¿ç”¨Spring Booté…ç½®æ–‡ä»¶ä¸­çš„ä¿¡æ¯è‡ªåŠ¨é…ç½®ç«¯å£å’Œè¿è¡ŒçŠ¶å†µæ£€æŸ¥URLã€‚Boxfuseåˆ©ç”¨è¿™äº›ä¿¡æ¯æ¥å¤„ç†å®ƒäº§ç”Ÿçš„å›¾åƒä»¥åŠå®ƒæä¾›çš„æ‰€æœ‰èµ„æºï¼ˆå®ä¾‹ï¼Œå®‰å…¨ç»„ï¼Œå¼¹æ€§è´Ÿè½½å¹³è¡¡å™¨ç­‰ï¼‰ã€‚

åˆ›å»º[Boxfuseå¸æˆ·å](https://console.boxfuse.com)ï¼Œå°†å…¶è¿æ¥åˆ°æ‚¨çš„AWSè´¦æˆ·ï¼Œå®‰è£…æœ€æ–°ç‰ˆæœ¬çš„Boxfuseå®¢æˆ·ç«¯ï¼Œå¹¶ç¡®ä¿è¯¥åº”ç”¨ç¨‹åºæ˜¯ç”±Mavenæˆ–Gradleæ„å»ºçš„ï¼ˆä¾‹å¦‚ï¼Œä½¿ç”¨`mvn clean package`ï¼‰ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ç±»ä¼¼äºä»¥ä¸‹å†…å®¹çš„å‘½ä»¤å°†æ‚¨çš„Spring Bootåº”ç”¨ç¨‹åºéƒ¨ç½²åˆ°AWSï¼š

```
$ boxfuse run myapp-1.0.jar -env=prod
```

æœ‰å…³æ›´å¤šé€‰é¡¹ï¼Œè¯·å‚é˜…[`boxfuse run`æ–‡æ¡£](https://boxfuse.com/docs/commandline/run.html)ã€‚å¦‚æœ[`boxfuse.conf`](https://boxfuse.com/docs/commandline/#configuration)å½“å‰ç›®å½•ä¸­å­˜åœ¨æ–‡ä»¶ï¼Œåˆ™ä¼šè€ƒè™‘è¯¥æ–‡ä»¶ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒBoxfuseåœ¨å¯åŠ¨æ—¶æ¿€æ´»åä¸º<code class="literal" i="2785">boxfuse</code>çš„Springä¸ªäººèµ„æ–™ã€‚å¦‚æœæ‚¨çš„å¯æ‰§è¡Œjaræˆ–waråŒ…å«ä¸€ä¸ª <a class="link" href="https://boxfuse.com/docs/payloads/springboot.html#configuration" target="_top"><code class="literal">application-boxfuse.properties</code></a>æ–‡ä»¶ï¼ŒBoxfuseå°†å…¶é…ç½®åŸºäºå®ƒåŒ…å«çš„å±æ€§ã€‚</p></td></tr></tbody></table>

æ­¤æ—¶ï¼Œ`boxfuse`ä¸ºæ‚¨çš„åº”ç”¨ç¨‹åºåˆ›å»ºä¸€ä¸ªæ˜ åƒï¼Œä¸Šä¼ å®ƒï¼Œå¹¶åœ¨AWSä¸Šé…ç½®å’Œå¯åŠ¨å¿…è¦çš„èµ„æºï¼Œä»è€Œäº§ç”Ÿç±»ä¼¼äºä»¥ä¸‹ç¤ºä¾‹çš„è¾“å‡ºï¼š

```
Fusing Image for myapp-1.0.jar ...
Image fused in 00:06.838s (53937 K) -> axelfontaine/myapp:1.0
Creating axelfontaine/myapp ...
Pushing axelfontaine/myapp:1.0 ...
Verifying axelfontaine/myapp:1.0 ...
Creating Elastic IP ...
Mapping myapp-axelfontaine.boxfuse.io to 52.28.233.167 ...
Waiting for AWS to create an AMI for axelfontaine/myapp:1.0 in eu-central-1 (this may take up to 50 seconds) ...
AMI created in 00:23.557s -> ami-d23f38cf
Creating security group boxfuse-sg_axelfontaine/myapp:1.0 ...
Launching t2.micro instance of axelfontaine/myapp:1.0 (ami-d23f38cf) in eu-central-1 ...
Instance launched in 00:30.306s -> i-92ef9f53
Waiting for AWS to boot Instance i-92ef9f53 and Payload to start at http://52.28.235.61/ ...
Payload started in 00:29.266s -> http://52.28.235.61/
Remapping Elastic IP 52.28.233.167 to i-92ef9f53 ...
Waiting 15s for AWS to complete Elastic IP Zero Downtime transition ...
Deployment completed successfully. axelfontaine/myapp:1.0 is up and running at http://myapp-axelfontaine.boxfuse.io/
```

æ‚¨çš„åº”ç”¨ç¨‹åºç°åœ¨åº”è¯¥åœ¨AWSä¸Šå¯åŠ¨å¹¶è¿è¡Œã€‚

è¯·å‚é˜…æœ‰å…³[åœ¨EC2](https://boxfuse.com/blog/spring-boot-ec2.html)ä¸Š[éƒ¨ç½²Spring Bootåº”ç”¨ç¨‹åº](https://boxfuse.com/blog/spring-boot-ec2.html)çš„åšå®¢æ–‡ç« ä»¥åŠ[Boxfuse Springå¯åŠ¨é›†æˆ](https://boxfuse.com/docs/payloads/springboot.html)çš„ [æ–‡æ¡£ï¼Œ](https://boxfuse.com/docs/payloads/springboot.html)ä»¥å¼€å§‹ä½¿ç”¨Mavenæ„å»ºæ¥è¿è¡Œåº”ç”¨ç¨‹åºã€‚

63.6 Google Cloud
-----------------

Google Cloudæœ‰å‡ ä¸ªé€‰é¡¹å¯ç”¨äºå¯åŠ¨Spring Bootåº”ç”¨ç¨‹åºã€‚æœ€å®¹æ˜“ä¸Šæ‰‹çš„å¯èƒ½æ˜¯App Engineï¼Œä½†æ‚¨ä¹Ÿå¯ä»¥æ‰¾åˆ°åœ¨å¸¦æœ‰Container Engineçš„å®¹å™¨ä¸­è¿è¡ŒSpring Bootæˆ–åœ¨å¸¦æœ‰Compute Engineçš„è™šæ‹Ÿæœºä¸Šè¿è¡Œçš„æ–¹æ³•ã€‚

è¦åœ¨App Engineä¸­è¿è¡Œï¼Œæ‚¨å¯ä»¥é¦–å…ˆåœ¨UIä¸­åˆ›å»ºé¡¹ç›®ï¼Œè¯¥é¡¹ç›®ä¸ºæ‚¨è®¾ç½®å”¯ä¸€æ ‡è¯†ç¬¦å¹¶è®¾ç½®HTTPè·¯ç”±ã€‚å°†Javaåº”ç”¨ç¨‹åºæ·»åŠ åˆ°é¡¹ç›®ä¸­å¹¶å°†å…¶ç•™ç©ºï¼Œç„¶åä½¿ç”¨[Google Cloud SDK](https://cloud.google.com/sdk/downloads)å°†Spring Bootåº”ç”¨ç¨‹åºä»å‘½ä»¤è¡Œæˆ–CIæ„å»ºæ¨é€åˆ°è¯¥æ’æ§½ã€‚

App Engine Standardè¦æ±‚æ‚¨ä½¿ç”¨WARåŒ…è£…ã€‚æŒ‰ç…§ [ä»¥ä¸‹æ­¥éª¤](https://github.com/GoogleCloudPlatform/getting-started-java/blob/master/appengine-standard-java8/springboot-appengine-standard/README.md) å°†App Engine Standardåº”ç”¨ç¨‹åºéƒ¨ç½²åˆ°Google Cloudã€‚

æˆ–è€…ï¼ŒApp Engine Flexè¦æ±‚æ‚¨åˆ›å»ºä¸€ä¸ª`app.yaml`æ–‡ä»¶æ¥æè¿°æ‚¨çš„åº”ç”¨æ‰€éœ€çš„èµ„æºã€‚é€šå¸¸ï¼Œæ‚¨å°†æ­¤æ–‡ä»¶æ”¾åœ¨`src/main/appengine`ä¸­ï¼Œå®ƒåº”è¯¥ç±»ä¼¼äºä»¥ä¸‹æ–‡ä»¶ï¼š

```
service: default

runtime: java
env: flex

runtime_config:
  jdk: openjdk8

handlers:
- url: /.*
  script: this field is required, but ignored

manual_scaling:
  instances: 1

health_check:
  enable_health_check: False

env_variables:
  ENCRYPT_KEY: your_encryption_key_here
```

æ‚¨å¯ä»¥é€šè¿‡å°†é¡¹ç›®IDæ·»åŠ åˆ°æ„å»ºé…ç½®æ¥éƒ¨ç½²åº”ç”¨ç¨‹åºï¼ˆä¾‹å¦‚ï¼Œä½¿ç”¨Mavenæ’ä»¶ï¼‰ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
<plugin>
	<groupId>com.google.cloud.tools</groupId>
	<artifactId>appengine-maven-plugin</artifactId>
	<version>1.3.0</version>
	<configuration>
		<project>myproject</project>
	</configuration>
</plugin>
```

ç„¶åä½¿ç”¨`mvn appengine:deploy`è¿›è¡Œéƒ¨ç½²ï¼ˆå¦‚æœéœ€è¦å…ˆè¿›è¡Œèº«ä»½éªŒè¯ï¼Œåˆ™æ„å»ºå¤±è´¥ï¼‰ã€‚

64.å®‰è£…Spring Bootåº”ç”¨ç¨‹åº
--------------------

é™¤äº†ä½¿ç”¨`java -jar`è¿è¡ŒSpring Bootåº”ç”¨ç¨‹åºä¹‹å¤–ï¼Œè¿˜å¯ä»¥ä¸ºUnixç³»ç»Ÿåˆ›å»ºå®Œå…¨å¯æ‰§è¡Œçš„åº”ç”¨ç¨‹åºã€‚å®Œå…¨å¯æ‰§è¡Œçš„jarå¯ä»¥åƒä»»ä½•å…¶ä»–å¯æ‰§è¡ŒäºŒè¿›åˆ¶æ–‡ä»¶ä¸€æ ·æ‰§è¡Œï¼Œä¹Ÿå¯ä»¥ [ä½¿ç”¨`init.d`æˆ–`systemd`æ³¨å†Œ](#deployment-service "64.2 Unix / LinuxæœåŠ¡")ã€‚è¿™ä½¿å¾—åœ¨å¸¸è§ç”Ÿäº§ç¯å¢ƒä¸­å®‰è£…å’Œç®¡ç†Spring Bootåº”ç”¨ç¨‹åºå˜å¾—éå¸¸å®¹æ˜“ã€‚

<table border="0" summary="Caution"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[è­¦å‘Š]" src="images/caution.png"></td><th align="left">è­¦å‘Š</th></tr><tr><td align="left" valign="top"><p>å®Œå…¨å¯æ‰§è¡Œçš„jaré€šè¿‡åœ¨æ–‡ä»¶çš„å‰é¢åµŒå…¥é¢å¤–çš„è„šæœ¬æ¥å·¥ä½œã€‚ç›®å‰ï¼ŒæŸäº›å·¥å…·ä¸æ¥å—æ­¤æ ¼å¼ï¼Œå› æ­¤æ‚¨å¯èƒ½æ— æ³•å§‹ç»ˆä½¿ç”¨æ­¤æŠ€æœ¯ã€‚ä¾‹å¦‚ï¼Œ<code class="literal" i="2793">jar -xf</code>å¯èƒ½æ— æ³•æå–å·²å®Œå…¨å¯æ‰§è¡Œçš„jaræˆ–æˆ˜äº‰ã€‚å»ºè®®æ‚¨åªæœ‰åœ¨æ‰“ç®—ç›´æ¥æ‰§è¡Œjaræˆ–waræ—¶æ‰èƒ½ä½¿jaræˆ–warå®Œå…¨å¯æ‰§è¡Œï¼Œè€Œä¸æ˜¯ä½¿ç”¨<code class="literal" i="2794">java -jar</code>è¿è¡Œå®ƒæˆ–å°†å…¶éƒ¨ç½²åˆ°servletå®¹å™¨ã€‚</p></td></tr></tbody></table>

è¦ä½¿ç”¨Mavenåˆ›å»ºâ€œå®Œå…¨å¯æ‰§è¡Œâ€jarï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹æ’ä»¶é…ç½®ï¼š

```
<plugin>
	<groupId>org.springframework.boot</groupId>
	<artifactId>spring-boot-maven-plugin</artifactId>
	<configuration>
		<executable>true</executable>
	</configuration>
</plugin>
```

ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†ç­‰æ•ˆçš„Gradleé…ç½®ï¼š

```
bootJar {
	launchScript()
}
```

ç„¶åï¼Œæ‚¨å¯ä»¥é€šè¿‡é”®å…¥`./my-application.jar`ï¼ˆå…¶ä¸­`my-application`æ˜¯æ‚¨çš„å·¥ä»¶çš„åç§°ï¼‰æ¥è¿è¡Œæ‚¨çš„åº”ç”¨ç¨‹åºã€‚åŒ…å«jarçš„ç›®å½•ç”¨ä½œåº”ç”¨ç¨‹åºçš„å·¥ä½œç›®å½•ã€‚

64.1æ”¯æŒçš„æ“ä½œç³»ç»Ÿ
-----------

é»˜è®¤è„šæœ¬æ”¯æŒå¤§å¤šæ•°Linuxå‘è¡Œç‰ˆï¼Œå¹¶åœ¨CentOSå’ŒUbuntuä¸Šè¿›è¡Œæµ‹è¯•ã€‚å…¶ä»–å¹³å°ï¼Œå¦‚OS Xå’ŒFreeBSDï¼Œéœ€è¦ä½¿ç”¨è‡ªå®šä¹‰`embeddedLaunchScript`ã€‚

64.2 Unix / LinuxæœåŠ¡
-------------------

Spring Bootåº”ç”¨ç¨‹åºå¯ä»¥ä½¿ç”¨`init.d`æˆ–`systemd`è½»æ¾å¯åŠ¨ä¸ºUnix / LinuxæœåŠ¡ã€‚

### 64.2.1ä½œä¸º`init.d`æœåŠ¡å®‰è£…ï¼ˆç³»ç»ŸVï¼‰

å¦‚æœæ‚¨é…ç½®äº†Spring Bootçš„Mavenæˆ–Gradleæ’ä»¶æ¥ç”Ÿæˆ[å®Œå…¨å¯æ‰§è¡Œçš„jar](#deployment-install "64.å®‰è£…Spring Bootåº”ç”¨ç¨‹åº")ï¼Œå¹¶ä¸”æ‚¨æ²¡æœ‰ä½¿ç”¨è‡ªå®šä¹‰`embeddedLaunchScript`ï¼Œé‚£ä¹ˆæ‚¨çš„åº”ç”¨ç¨‹åºå¯ä»¥ç”¨ä½œ`init.d`æœåŠ¡ã€‚ä¸ºæ­¤ï¼Œè¯·å°†jarç¬¦å·é“¾æ¥åˆ°`init.d`ä»¥æ”¯æŒæ ‡å‡†`start`ï¼Œ`stop`ï¼Œ`restart`å’Œ`status`å‘½ä»¤ã€‚

è¯¥è„šæœ¬æ”¯æŒä»¥ä¸‹åŠŸèƒ½ï¼š

*   ä»¥æ‹¥æœ‰jaræ–‡ä»¶çš„ç”¨æˆ·èº«ä»½å¯åŠ¨æœåŠ¡
*   ä½¿ç”¨`/var/run/<appname>/<appname>.pid`è·Ÿè¸ªåº”ç”¨ç¨‹åºçš„PID
*   å°†æ§åˆ¶å°æ—¥å¿—å†™å…¥`/var/log/<appname>.log`

å‡è®¾æ‚¨åœ¨`/var/myapp`ä¸­å®‰è£…äº†Spring Bootåº”ç”¨ç¨‹åºï¼Œè¦å°†Spring Bootåº”ç”¨ç¨‹åºå®‰è£…ä¸º`init.d`æœåŠ¡ï¼Œè¯·åˆ›å»ºä¸€ä¸ªç¬¦å·é“¾æ¥ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
$ sudo ln -s /var/myapp/myapp.jar /etc/init.d/myapp
```

å®‰è£…åï¼Œæ‚¨å¯ä»¥æŒ‰å¸¸è§„æ–¹å¼å¯åŠ¨å’Œåœæ­¢æœåŠ¡ã€‚ä¾‹å¦‚ï¼Œåœ¨åŸºäºDebiançš„ç³»ç»Ÿä¸Šï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯åŠ¨å®ƒï¼š

```
$ service myapp start
```

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¦‚æœæ‚¨çš„åº”ç”¨ç¨‹åºæ— æ³•å¯åŠ¨ï¼Œè¯·æ£€æŸ¥å†™å…¥<code class="literal" i="2812">/var/log/&lt;appname&gt;.log</code>çš„æ—¥å¿—æ–‡ä»¶æ˜¯å¦æœ‰é”™è¯¯ã€‚</p></td></tr></tbody></table>

æ‚¨è¿˜å¯ä»¥ä½¿ç”¨æ ‡å‡†æ“ä½œç³»ç»Ÿå·¥å…·æ ‡è®°åº”ç”¨ç¨‹åºä»¥è‡ªåŠ¨å¯åŠ¨ã€‚ä¾‹å¦‚ï¼Œåœ¨Debianä¸Šï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š

```
$ update-rc.d myapp defaults <priority>
```

#### ä¿æŠ¤`init.d`æœåŠ¡

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>ä»¥ä¸‹æ˜¯ä¸€ç»„æœ‰å…³å¦‚ä½•ä¿æŠ¤ä½œä¸ºinit.dæœåŠ¡è¿è¡Œçš„Spring Bootåº”ç”¨ç¨‹åºçš„æŒ‡å—ã€‚å®ƒå¹¶ä¸æ˜¯ä¸ºäº†å¼ºåŒ–åº”ç”¨ç¨‹åºåŠå…¶è¿è¡Œç¯å¢ƒè€Œåº”è¯¥åšçš„æ‰€æœ‰äº‹æƒ…çš„è¯¦å°½åˆ—è¡¨ã€‚</p></td></tr></tbody></table>

å½“ä»¥rootèº«ä»½æ‰§è¡Œæ—¶ï¼Œå°±åƒrootç”¨äºå¯åŠ¨init.dæœåŠ¡çš„æƒ…å†µä¸€æ ·ï¼Œé»˜è®¤å¯æ‰§è¡Œè„šæœ¬ä»¥æ‹¥æœ‰jaræ–‡ä»¶çš„ç”¨æˆ·èº«ä»½è¿è¡Œåº”ç”¨ç¨‹åºã€‚æ‚¨æ°¸è¿œä¸åº”è¯¥ä»¥`root`è¿è¡ŒSpring Bootåº”ç”¨ç¨‹åºï¼Œå› æ­¤æ‚¨çš„åº”ç”¨ç¨‹åºçš„jaræ–‡ä»¶æ°¸è¿œä¸åº”è¯¥ç”±rootæ‹¥æœ‰ã€‚ç›¸åï¼Œåˆ›å»ºä¸€ä¸ªç‰¹å®šç”¨æˆ·æ¥è¿è¡Œæ‚¨çš„åº”ç”¨ç¨‹åºå¹¶ä½¿ç”¨`chown`ä½¿å…¶æˆä¸ºjaræ–‡ä»¶çš„æ‰€æœ‰è€…ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
$ chown bootapp:bootapp your-app.jar
```

åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œé»˜è®¤å¯æ‰§è¡Œè„šæœ¬ä»¥`bootapp`ç”¨æˆ·èº«ä»½è¿è¡Œåº”ç”¨ç¨‹åºã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>ä¸ºäº†å‡å°‘åº”ç”¨ç¨‹åºç”¨æˆ·å¸æˆ·é­åˆ°å…¥ä¾µçš„å¯èƒ½æ€§ï¼Œæ‚¨åº”è¯¥è€ƒè™‘é˜»æ­¢å®ƒä½¿ç”¨ç™»å½•shellã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥å°†å¸æˆ·çš„shellè®¾ç½®ä¸º<code class="literal" i="2817">/usr/sbin/nologin</code>ã€‚</p></td></tr></tbody></table>

æ‚¨è¿˜åº”è¯¥é‡‡å–æªæ–½æ¥é˜²æ­¢ä¿®æ”¹åº”ç”¨ç¨‹åºçš„jaræ–‡ä»¶ã€‚é¦–å…ˆï¼Œé…ç½®å…¶æƒé™ï¼Œä½¿å…¶æ— æ³•å†™å…¥ï¼Œåªèƒ½ç”±å…¶æ‰€æœ‰è€…è¯»å–æˆ–æ‰§è¡Œï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
$ chmod 500 your-app.jar
```

å…¶æ¬¡ï¼Œå¦‚æœæ‚¨çš„åº”ç”¨ç¨‹åºæˆ–è¿è¡Œå®ƒçš„å¸æˆ·å—åˆ°æŸå®³ï¼Œæ‚¨è¿˜åº”è¯¥é‡‡å–æªæ–½é™åˆ¶æŸå®³ã€‚å¦‚æœæ”»å‡»è€…ç¡®å®è·å¾—äº†è®¿é—®æƒé™ï¼Œä»–ä»¬å¯ä»¥ä½¿jaræ–‡ä»¶å¯å†™å¹¶æ›´æ”¹å…¶å†…å®¹ã€‚é˜²æ­¢è¿™ç§æƒ…å†µçš„ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨`chattr`ä½¿å…¶ä¸å¯å˜ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
$ sudo chattr +i your-app.jar
```

è¿™å°†é˜»æ­¢ä»»ä½•ç”¨æˆ·ï¼ˆåŒ…æ‹¬rootï¼‰ä¿®æ”¹jarã€‚

å¦‚æœrootç”¨äºæ§åˆ¶åº”ç”¨ç¨‹åºçš„æœåŠ¡ï¼Œå¹¶ä¸”æ‚¨ [ä½¿ç”¨`.conf`æ–‡ä»¶](#deployment-script-customization-conf-file)æ¥è‡ªå®šä¹‰å…¶å¯åŠ¨ï¼Œåˆ™rootç”¨æˆ·å°†è¯»å–å¹¶è¯„ä¼°`.conf`æ–‡ä»¶ã€‚å®ƒåº”è¯¥å¾—åˆ°ç›¸åº”çš„ä¿æŠ¤ã€‚ä½¿ç”¨`chmod`ä»¥ä¾¿æ–‡ä»¶åªèƒ½ç”±æ‰€æœ‰è€…è¯»å–å¹¶ä½¿ç”¨`chown`ä½¿rootæˆä¸ºæ‰€æœ‰è€…ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
$ chmod 400 your-app.conf
$ sudo chown root:root your-app.conf
```

### 64.2.2ä½œä¸º`systemd`æœåŠ¡å®‰è£…

`systemd`æ˜¯System V initç³»ç»Ÿçš„åç»§è€…ï¼Œç°åœ¨è¢«è®¸å¤šç°ä»£Linuxå‘è¡Œç‰ˆä½¿ç”¨ã€‚è™½ç„¶æ‚¨å¯ä»¥ç»§ç»­å°†`init.d`è„šæœ¬ä¸`systemd`ä¸€èµ·ä½¿ç”¨ï¼Œä½†ä¹Ÿå¯ä»¥ä½¿ç”¨`systemd`'service'è„šæœ¬å¯åŠ¨Spring Bootåº”ç”¨ç¨‹åºã€‚

å‡è®¾æ‚¨åœ¨`/var/myapp`ä¸­å®‰è£…äº†Spring Bootåº”ç”¨ç¨‹åºï¼Œè¦å°†Spring Bootåº”ç”¨ç¨‹åºå®‰è£…ä¸º`systemd`æœåŠ¡ï¼Œè¯·åˆ›å»ºåä¸º`myapp.service`çš„è„šæœ¬å¹¶å°†å…¶æ”¾åœ¨`/etc/systemd/system`ç›®å½•ä¸­ã€‚ä»¥ä¸‹è„šæœ¬æä¾›äº†ä¸€ä¸ªç¤ºä¾‹ï¼š

```
[Unit]
Description=myapp
After=syslog.target

[Service]
User=myapp
ExecStart=/var/myapp/myapp.jar
SuccessExitStatus=143

[Install]
WantedBy=multi-user.target
```

<table border="0" summary="Important"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[é‡è¦]" src="images/important.png"></td><th align="left">é‡è¦</th></tr><tr><td align="left" valign="top"><p>è¯·åŠ¡å¿…æ›´æ”¹åº”ç”¨çš„<code class="literal" i="2832">Description</code>ï¼Œ<code class="literal" i="2833">User</code>å’Œ<code class="literal" i="2834">ExecStart</code>å­—æ®µã€‚</p></td></tr></tbody></table><table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p><code class="literal" i="2835">ExecStart</code>å­—æ®µæœªå£°æ˜è„šæœ¬æ“ä½œå‘½ä»¤ï¼Œè¿™æ„å‘³ç€é»˜è®¤æƒ…å†µä¸‹ä½¿ç”¨<code class="literal" i="2836">run</code>å‘½ä»¤ã€‚</p></td></tr></tbody></table>

è¯·æ³¨æ„ï¼Œä¸ä½œä¸º`init.d`æœåŠ¡è¿è¡Œæ—¶ä¸åŒï¼Œè¿è¡Œåº”ç”¨ç¨‹åºçš„ç”¨æˆ·ï¼ŒPIDæ–‡ä»¶å’Œæ§åˆ¶å°æ—¥å¿—æ–‡ä»¶ç”±`systemd`æœ¬èº«ç®¡ç†ï¼Œå› æ­¤å¿…é¡»ä½¿ç”¨''ä¸­çš„ç›¸åº”å­—æ®µè¿›è¡Œé…ç½®ã€‚æœåŠ¡'è„šæœ¬ã€‚æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… [æœåŠ¡å•å…ƒé…ç½®æ‰‹å†Œé¡µ](https://www.freedesktop.org/software/systemd/man/systemd.service.html)ã€‚

è¦å°†åº”ç”¨ç¨‹åºæ ‡è®°ä¸ºåœ¨ç³»ç»Ÿå¼•å¯¼æ—¶è‡ªåŠ¨å¯åŠ¨ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š

```
$ systemctl enable myapp.service
```

æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…`man systemctl`ã€‚

### 64.2.3è‡ªå®šä¹‰å¯åŠ¨è„šæœ¬

Mavenæˆ–Gradleæ’ä»¶ç¼–å†™çš„é»˜è®¤åµŒå…¥å¼å¯åŠ¨è„šæœ¬å¯ä»¥é€šè¿‡å¤šç§æ–¹å¼è¿›è¡Œè‡ªå®šä¹‰ã€‚å¯¹äºå¤§å¤šæ•°äººæ¥è¯´ï¼Œä½¿ç”¨é»˜è®¤è„šæœ¬å’Œä¸€äº›è‡ªå®šä¹‰é€šå¸¸å°±è¶³å¤Ÿäº†ã€‚å¦‚æœæ‚¨å‘ç°æ— æ³•è‡ªå®šä¹‰æ‰€éœ€å†…å®¹ï¼Œè¯·ä½¿ç”¨`embeddedLaunchScript`é€‰é¡¹å®Œå…¨ç¼–å†™è‡ªå·±çš„æ–‡ä»¶ã€‚

#### å†™å…¥æ—¶è‡ªå®šä¹‰å¯åŠ¨è„šæœ¬

åœ¨å°†è„šæœ¬å†™å…¥jaræ–‡ä»¶æ—¶è‡ªå®šä¹‰å¯åŠ¨è„šæœ¬çš„å…ƒç´ é€šå¸¸æ˜¯æœ‰æ„ä¹‰çš„ã€‚ä¾‹å¦‚ï¼Œinit.dè„šæœ¬å¯ä»¥æä¾›â€œæè¿°â€ã€‚ç”±äºæ‚¨äº‹å…ˆäº†è§£äº†æè¿°ï¼ˆå¹¶ä¸”ä¸éœ€è¦æ›´æ”¹ï¼‰ï¼Œå› æ­¤æ‚¨å¯ä»¥åœ¨ç”Ÿæˆjaræ—¶æä¾›å®ƒã€‚

è¦è‡ªå®šä¹‰ä¹¦é¢å…ƒç´ ï¼Œè¯·ä½¿ç”¨Spring Boot Mavenæ’ä»¶çš„`embeddedLaunchScriptProperties`é€‰é¡¹æˆ–[Spring Boot Gradleæ’ä»¶`launchScript`](https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/gradle-plugin/reference/html/#packaging-executable-configuring-launch-script)çš„ [`properties`å±æ€§](https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/gradle-plugin/reference/html/#packaging-executable-configuring-launch-script)ã€‚

é»˜è®¤è„šæœ¬æ”¯æŒä»¥ä¸‹å±æ€§æ›¿æ¢ï¼š

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"><col class="col_3"><col class="col_4"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">åç§°</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">æè¿°</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">Gradleé»˜è®¤</th><th style="border-bottom: 1px solid ; " align="left" valign="top">Mavené»˜è®¤</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">mode</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class=""><p>è„šæœ¬æ¨¡å¼ã€‚</p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">auto</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">auto</code></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">initInfoProvides</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class=""><p>â€œINIT INFOâ€çš„<code class="literal" i="2844">Provides</code>éƒ¨åˆ†</p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">${task.baseName}</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">${project.artifactId}</code></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">initInfoRequiredStart</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class=""><p>{INI INFOâ€œ<code class="literal" i="2845">Required-Start</code>éƒ¨åˆ†ã€‚</p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">$remote_fs $syslog $network</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">$remote_fs $syslog $network</code></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">initInfoRequiredStop</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class=""><p><code class="literal" i="2846">Required-Stop</code>â€œINIT INFOâ€éƒ¨åˆ†ã€‚</p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">$remote_fs $syslog $network</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">$remote_fs $syslog $network</code></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">initInfoDefaultStart</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class=""><p>{INI INFOâ€œ<code class="literal" i="2847">Default-Start</code>éƒ¨åˆ†ã€‚</p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">2 3 4 5</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">2 3 4 5</code></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">initInfoDefaultStop</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class=""><p>â€œINIT INFOâ€çš„<code class="literal" i="2848">Default-Stop</code>éƒ¨åˆ†ã€‚</p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">0 1 6</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">0 1 6</code></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">initInfoShortDescription</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class=""><p>{INI INFOâ€œ<code class="literal" i="2849">Short-Description</code>éƒ¨åˆ†ã€‚</p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Single-line version of <code class="literal">${project.description}</code> (falling back to <code class="literal">${task.baseName}</code>)</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">${project.name}</code></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">initInfoDescription</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class=""><p>â€œINIT INFOâ€çš„<code class="literal" i="2850">Description</code>éƒ¨åˆ†ã€‚</p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">${project.description}</code> (falling back to <code class="literal">${task.baseName}</code>)</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">${project.description}</code> (falling back to <code class="literal">${project.name}</code>)</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">initInfoChkconfig</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class=""><p>{INI INFOâ€œ<code class="literal" i="2851">chkconfig</code>éƒ¨åˆ†</p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">2345 99 01</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">2345 99 01</code></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">confFolder</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class=""><p><code class="literal" i="2852">CONF_FOLDER</code>çš„é»˜è®¤å€¼</p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Folder containing the jar</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Folder containing the jar</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">inlinedConfScript</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class=""><p>å¼•ç”¨åº”åœ¨é»˜è®¤å¯åŠ¨è„šæœ¬ä¸­å†…è”çš„æ–‡ä»¶è„šæœ¬ã€‚åœ¨åŠ è½½ä»»ä½•å¤–éƒ¨é…ç½®æ–‡ä»¶ä¹‹å‰ï¼Œè¿™å¯ç”¨äºè®¾ç½®ç¯å¢ƒå˜é‡ï¼Œä¾‹å¦‚<code class="literal" i="2853">JAVA_OPTS</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate">&nbsp;</td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate">&nbsp;</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">logFolder</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class=""><p><code class="literal" i="2854">LOG_FOLDER</code>çš„é»˜è®¤å€¼ã€‚ä»…é€‚ç”¨äº<code class="literal" i="2855">init.d</code>æœåŠ¡</p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate">&nbsp;</td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate">&nbsp;</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">logFilename</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class=""><p><code class="literal" i="2856">LOG_FILENAME</code>çš„é»˜è®¤å€¼ã€‚ä»…å¯¹<code class="literal" i="2857">init.d</code>æœåŠ¡æœ‰æ•ˆ</p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate">&nbsp;</td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate">&nbsp;</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">pidFolder</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class=""><p><code class="literal" i="2858">PID_FOLDER</code>çš„é»˜è®¤å€¼ã€‚ä»…é€‚ç”¨äº<code class="literal" i="2859">init.d</code>æœåŠ¡</p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate">&nbsp;</td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate">&nbsp;</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">pidFilename</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class=""><p><code class="literal" i="2860">PID_FOLDER</code>ä¸­PIDæ–‡ä»¶åç§°çš„é»˜è®¤å€¼ã€‚ä»…é€‚ç”¨äº<code class="literal" i="2861">init.d</code>æœåŠ¡</p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate">&nbsp;</td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate">&nbsp;</td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">useStartStopDaemon</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class=""><p><code class="literal" i="2862">start-stop-daemon</code>å‘½ä»¤æ˜¯å¦å¯ç”¨ï¼Œåº”è¯¥ç”¨äºæ§åˆ¶è¿›ç¨‹</p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">true</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">true</code></p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">stopWaitTime</code></p></td><td style="border-right: 1px solid ; " align="left" valign="top" class=""><p><code class="literal" i="2863">STOP_WAIT_TIME</code>çš„é»˜è®¤å€¼ï¼ˆä»¥ç§’ä¸ºå•ä½ï¼‰ã€‚ä»…å¯¹<code class="literal" i="2864">init.d</code>æœåŠ¡æœ‰æ•ˆ</p></td><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p>60</p></td><td style="" align="left" valign="top" class="notranslate"><p>60</p></td></tr></tbody></table>

#### å®ƒè¿è¡Œæ—¶è‡ªå®šä¹‰è„šæœ¬

å¯¹äºåœ¨ç¼–å†™jar _å_éœ€è¦è‡ªå®šä¹‰çš„è„šæœ¬é¡¹ï¼Œå¯ä»¥ä½¿ç”¨ç¯å¢ƒå˜é‡æˆ–[é…ç½®æ–‡ä»¶](#deployment-script-customization-conf-file)ã€‚

é»˜è®¤è„šæœ¬æ”¯æŒä»¥ä¸‹ç¯å¢ƒå±æ€§ï¼š

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">å˜é‡</th><th style="border-bottom: 1px solid ; " align="left" valign="top">æè¿°</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">MODE</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>æ“ä½œçš„â€œæ¨¡å¼â€ã€‚é»˜è®¤å€¼å–å†³äºjarçš„æ„å»ºæ–¹å¼ï¼Œä½†é€šå¸¸æ˜¯<code class="literal" i="2865">auto</code>ï¼ˆæ„å‘³ç€å®ƒé€šè¿‡æ£€æŸ¥å®ƒæ˜¯å¦æ˜¯åä¸º<code class="literal" i="2866">init.d</code>çš„ç›®å½•ä¸­çš„ç¬¦å·é“¾æ¥æ¥å°è¯•çŒœæµ‹å®ƒæ˜¯å¦æ˜¯initè„šæœ¬ï¼‰ã€‚å¦‚æœè¦åœ¨å‰å°è¿è¡Œè„šæœ¬ï¼Œå¯ä»¥å°†<code class="literal" i="2868">stop|start|status|restart</code>å‘½ä»¤æ˜¾å¼è®¾ç½®ä¸º<code class="literal" i="2867">service</code>æˆ–<code class="literal" i="2869">run</code>ã€‚</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">USE_START_STOP_DAEMON</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p><code class="literal" i="2870">start-stop-daemon</code>å‘½ä»¤æ˜¯å¦å¯ç”¨ï¼Œåº”è¯¥ç”¨äºæ§åˆ¶è¿›ç¨‹ã€‚é»˜è®¤ä¸º<code class="literal" i="2871">true</code>ã€‚</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">PID_FOLDER</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>pidæ–‡ä»¶å¤¹çš„æ ¹åç§°ï¼ˆé»˜è®¤ä¸º<code class="literal" i="2872">/var/run</code>ï¼‰ã€‚</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">LOG_FOLDER</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>æ”¾ç½®æ—¥å¿—æ–‡ä»¶çš„æ–‡ä»¶å¤¹çš„åç§°ï¼ˆé»˜è®¤ä¸º<code class="literal" i="2873">/var/log</code>ï¼‰ã€‚</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">CONF_FOLDER</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>ä»ä¸­è¯»å–.confæ–‡ä»¶çš„æ–‡ä»¶å¤¹çš„åç§°ï¼ˆé»˜è®¤æƒ…å†µä¸‹ä¸jaræ–‡ä»¶ç›¸åŒï¼‰ã€‚</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">LOG_FILENAME</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p><code class="literal" i="2874">LOG_FOLDER</code>ä¸­çš„æ—¥å¿—æ–‡ä»¶åç§°ï¼ˆé»˜è®¤ä¸º<code class="literal" i="2875">&lt;appname&gt;.log</code>ï¼‰ã€‚</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">APP_NAME</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>åº”ç”¨ç¨‹åºçš„åç§°ã€‚å¦‚æœjarä»ç¬¦å·é“¾æ¥è¿è¡Œï¼Œåˆ™è„šæœ¬ä¼šçŒœæµ‹åº”ç”¨ç¨‹åºåç§°ã€‚å¦‚æœå®ƒä¸æ˜¯ç¬¦å·é“¾æ¥æˆ–æ‚¨æƒ³è¦æ˜¾å¼è®¾ç½®åº”ç”¨ç¨‹åºåç§°ï¼Œè¿™å¯èƒ½å¾ˆæœ‰ç”¨ã€‚</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">RUN_ARGS</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>ä¼ é€’ç»™ç¨‹åºçš„å‚æ•°ï¼ˆSpring Bootåº”ç”¨ç¨‹åºï¼‰ã€‚</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">JAVA_HOME</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>é»˜è®¤æƒ…å†µä¸‹ä½¿ç”¨<code class="literal" i="2877">PATH</code>å‘ç°<code class="literal" i="2876">java</code>å¯æ‰§è¡Œæ–‡ä»¶çš„ä½ç½®ï¼Œä½†å¦‚æœ<code class="literal" i="2878">$JAVA_HOME/bin/java</code>å¤„æœ‰å¯æ‰§è¡Œæ–‡ä»¶ï¼Œåˆ™å¯ä»¥æ˜¾å¼è®¾ç½®å®ƒã€‚</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">JAVA_OPTS</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>å¯åŠ¨æ—¶ä¼ é€’ç»™JVMçš„é€‰é¡¹ã€‚</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">JARFILE</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>jaræ–‡ä»¶çš„æ˜¾å¼ä½ç½®ï¼Œä»¥é˜²è„šæœ¬ç”¨äºå¯åŠ¨å®é™…ä¸ŠæœªåµŒå…¥çš„jarã€‚</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">DEBUG</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>å¦‚æœä¸ä¸ºç©ºï¼Œåˆ™åœ¨shellè¿›ç¨‹ä¸Šè®¾ç½®<code class="literal" i="2879">-x</code>æ ‡å¿—ï¼Œä»¥ä¾¿äºåœ¨è„šæœ¬ä¸­æŸ¥çœ‹é€»è¾‘ã€‚</p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">STOP_WAIT_TIME</code></p></td><td style="" align="left" valign="top" class=""><p>åœ¨å¼ºåˆ¶å…³é—­ä¹‹å‰åœæ­¢åº”ç”¨ç¨‹åºçš„ç­‰å¾…æ—¶é—´ï¼ˆé»˜è®¤ä¸º<code class="literal" i="2880">60</code>ï¼‰ã€‚</p></td></tr></tbody></table><table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p><code class="literal" i="2881">PID_FOLDER</code>ï¼Œ<code class="literal" i="2882">LOG_FOLDER</code>å’Œ<code class="literal" i="2883">LOG_FILENAME</code>å˜é‡ä»…å¯¹<code class="literal" i="2884">init.d</code>æœåŠ¡æœ‰æ•ˆã€‚å¯¹äº<code class="literal" i="2885">systemd</code>ï¼Œä½¿ç”¨â€œserviceâ€è„šæœ¬è¿›è¡Œç­‰æ•ˆçš„è‡ªå®šä¹‰ã€‚æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… <a class="link" href="https://www.freedesktop.org/software/systemd/man/systemd.service.html" target="_top">æœåŠ¡å•å…ƒé…ç½®æ‰‹å†Œé¡µ</a>ã€‚</p></td></tr></tbody></table>

é™¤`JARFILE`å’Œ`APP_NAME`ä¹‹å¤–ï¼Œå¯ä»¥ä½¿ç”¨`.conf`æ–‡ä»¶é…ç½®ä¸Šä¸€èŠ‚ä¸­åˆ—å‡ºçš„è®¾ç½®ã€‚è¯¥æ–‡ä»¶åº”è¯¥ä½äºjaræ–‡ä»¶çš„æ—è¾¹ï¼Œå¹¶ä¸”å…·æœ‰ç›¸åŒçš„åç§°ï¼Œä½†åç¼€ä¸º`.conf`è€Œä¸æ˜¯`.jar`ã€‚ä¾‹å¦‚ï¼Œåä¸º`/var/myapp/myapp.jar`çš„jarä½¿ç”¨åä¸º`/var/myapp/myapp.conf`çš„é…ç½®æ–‡ä»¶ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

**myapp.confã€‚** 

```
JAVA_OPTS=-Xmx1024M
LOG_FOLDER=/custom/log/folder
```

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¦‚æœæ‚¨ä¸å–œæ¬¢åœ¨jaræ–‡ä»¶æ—è¾¹æœ‰é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥è®¾ç½®<code class="literal" i="2893">CONF_FOLDER</code>ç¯å¢ƒå˜é‡æ¥è‡ªå®šä¹‰é…ç½®æ–‡ä»¶çš„ä½ç½®ã€‚</p></td></tr></tbody></table>

è¦äº†è§£å¦‚ä½•æ­£ç¡®ä¿æŠ¤æ­¤æ–‡ä»¶ï¼Œè¯·å‚é˜… [ä¿æŠ¤init.dæœåŠ¡çš„å‡†åˆ™](#deployment-initd-service-securing "ä¿æŠ¤init.dæœåŠ¡")ã€‚

64.3 Microsoft WindowsæœåŠ¡
------------------------

å¯ä»¥ä½¿ç”¨å¯åŠ¨Spring Bootåº”ç”¨ç¨‹åºä½œä¸ºWindowsæœåŠ¡ [`winsw`](https://github.com/kohsuke/winsw)ã€‚

Aï¼ˆ[å•ç‹¬ç»´æŠ¤çš„ç¤ºä¾‹](https://github.com/snicoll-scratches/spring-boot-daemon)ï¼‰é€æ­¥ä»‹ç»äº†å¦‚ä½•ä¸ºSpring Bootåº”ç”¨ç¨‹åºåˆ›å»ºWindowsæœåŠ¡ã€‚

65.æ¥ä¸‹æ¥è¦é˜…è¯»çš„å†…å®¹
------------

æŸ¥çœ‹[Cloud Foundry](https://www.cloudfoundry.org/)ï¼Œ [Heroku](https://www.heroku.com/)ï¼Œ[OpenShift](https://www.openshift.com)å’Œ [Boxfuse](https://boxfuse.com)ç½‘ç«™ï¼Œäº†è§£æœ‰å…³PaaSå¯æä¾›çš„å„ç§åŠŸèƒ½çš„æ›´å¤šä¿¡æ¯ã€‚è¿™äº›åªæ˜¯å››ä¸ªæœ€å—æ¬¢è¿çš„Java PaaSæä¾›å•†ã€‚ç”±äºSpring Bootéå¸¸é€‚åˆåŸºäºäº‘çš„éƒ¨ç½²ï¼Œå› æ­¤æ‚¨ä¹Ÿå¯ä»¥è‡ªç”±åœ°è€ƒè™‘å…¶ä»–æä¾›å•†ã€‚

æ¥ä¸‹æ¥çš„éƒ¨åˆ†å°†ä»‹ç»_[Spring Boot CLI](#cli "ç¬¬ä¸ƒéƒ¨åˆ†ã€‚ Spring Boot CLI")_ï¼Œæˆ–è€…æ‚¨å¯ä»¥ç»§ç»­é˜…è¯»æœ‰å…³ _[æ„å»ºå·¥å…·æ’ä»¶çš„å†…å®¹](#build-tool-plugins "ç¬¬å…«éƒ¨åˆ†ã€‚ æ„å»ºå·¥å…·æ’ä»¶")_ã€‚

ç¬¬ä¸ƒéƒ¨åˆ†ã€‚Spring Boot CLI
====================

Spring Boot CLIæ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œå¦‚æœæ‚¨æƒ³å¿«é€Ÿå¼€å‘Springåº”ç”¨ç¨‹åºï¼Œå¯ä»¥ä½¿ç”¨å®ƒã€‚å®ƒå…è®¸æ‚¨è¿è¡ŒGroovyè„šæœ¬ï¼Œè¿™æ„å‘³ç€æ‚¨æ‹¥æœ‰ç†Ÿæ‚‰çš„ç±»ä¼¼Javaçš„è¯­æ³•ï¼Œè€Œæ²¡æœ‰å¤ªå¤šçš„æ ·æ¿ä»£ç ã€‚æ‚¨è¿˜å¯ä»¥å¼•å¯¼æ–°é¡¹ç›®æˆ–ä¸ºå…¶ç¼–å†™è‡ªå·±çš„å‘½ä»¤ã€‚

66.å®‰è£…CLI
--------

å¯ä»¥ä½¿ç”¨SDKMANæ‰‹åŠ¨å®‰è£…Spring Boot CLIï¼ˆå‘½ä»¤è¡Œç•Œé¢ï¼‰ï¼ï¼ˆSDK Managerï¼‰æˆ–ä½¿ç”¨Homebrewæˆ–MacPortsï¼ˆå¦‚æœæ‚¨æ˜¯OSXç”¨æˆ·ï¼‰ã€‚æœ‰å…³å…¨é¢çš„å®‰è£…è¯´æ˜_[ï¼Œ](#getting-started-installing-the-cli "10.2å®‰è£…Spring Boot CLI")_è¯·å‚è§ â€œå…¥é—¨â€ä¸€_[èŠ‚ä¸­çš„ç¬¬10.2èŠ‚â€œå®‰è£…Spring Boot CLIâ€](#getting-started-installing-the-cli "10.2Â Installing the Spring Boot CLI")_ã€‚

67.ä½¿ç”¨CLI
--------

å®‰è£…CLIåï¼Œå¯ä»¥é€šè¿‡é”®å…¥`spring`å¹¶åœ¨å‘½ä»¤è¡ŒæŒ‰Enteré”®æ¥è¿è¡Œå®ƒã€‚å¦‚æœåœ¨æ²¡æœ‰ä»»ä½•å‚æ•°çš„æƒ…å†µä¸‹è¿è¡Œ`spring`ï¼Œå°†æ˜¾ç¤ºä¸€ä¸ªç®€å•çš„å¸®åŠ©å±å¹•ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
$ spring
usage: spring [--help] [--version]
       <command> [<args>]

Available commands are:

  run [options] <files> [--] [args]
    Run a spring groovy script

  _... more command help is shown here_
```

æ‚¨å¯ä»¥é”®å…¥`spring help`ä»¥è·å–æœ‰å…³ä»»ä½•æ”¯æŒçš„å‘½ä»¤çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
$ spring help run
spring run - Run a spring groovy script

usage: spring run [options] <files> [--] [args]

Option                     Description
------                     -----------
--autoconfigure [Boolean]  Add autoconfigure compiler
                             transformations (default: true)
--classpath, -cp           Additional classpath entries
-e, --edit                 Open the file with the default system
                             editor
--no-guess-dependencies    Do not attempt to guess dependencies
--no-guess-imports         Do not attempt to guess imports
-q, --quiet                Quiet logging
-v, --verbose              Verbose logging of dependency
                             resolution
--watch                    Watch the specified file for changes
```

`version`å‘½ä»¤æä¾›äº†ä¸€ç§å¿«é€Ÿæ£€æŸ¥æ‚¨æ­£åœ¨ä½¿ç”¨çš„Spring Bootç‰ˆæœ¬çš„æ–¹æ³•ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
$ spring version
Spring CLI v2.1.1.RELEASE
```

67.1ä½¿ç”¨CLIè¿è¡Œåº”ç”¨ç¨‹åº
---------------

æ‚¨å¯ä»¥ä½¿ç”¨`run`å‘½ä»¤ç¼–è¯‘å’Œè¿è¡ŒGroovyæºä»£ç ã€‚Spring Boot CLIæ˜¯å®Œå…¨ç‹¬ç«‹çš„ï¼Œå› æ­¤æ‚¨ä¸éœ€è¦ä»»ä½•å¤–éƒ¨Groovyå®‰è£…ã€‚

ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†ä½¿ç”¨Groovyç¼–å†™çš„â€œhello worldâ€Webåº”ç”¨ç¨‹åºï¼š

**hello.groovyã€‚** 

```
_@RestController_
class WebApplication {

	_@RequestMapping("/")_
	String home() {
		"Hello World!"
	}

}
```

è¦ç¼–è¯‘å¹¶è¿è¡Œè¯¥åº”ç”¨ç¨‹åºï¼Œè¯·é”®å…¥ä»¥ä¸‹å‘½ä»¤ï¼š

```
$ spring run hello.groovy
```

è¦å°†å‘½ä»¤è¡Œå‚æ•°ä¼ é€’ç»™åº”ç”¨ç¨‹åºï¼Œè¯·ä½¿ç”¨`--`å°†å‘½ä»¤ä¸â€œspringâ€å‘½ä»¤å‚æ•°åˆ†å¼€ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
$ spring run hello.groovy -- --server.port=9000
```

è¦è®¾ç½®JVMå‘½ä»¤è¡Œå‚æ•°ï¼Œå¯ä»¥ä½¿ç”¨`JAVA_OPTS`ç¯å¢ƒå˜é‡ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
$ JAVA_OPTS=-Xmx1024m spring run hello.groovy
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>åœ¨Microsoft Windowsä¸Šè®¾ç½®<code class="literal" i="2901">JAVA_OPTS</code>æ—¶ï¼Œè¯·ç¡®ä¿å¼•ç”¨æ•´ä¸ªæŒ‡ä»¤ï¼Œä¾‹å¦‚<code class="literal" i="2902">set "JAVA_OPTS=-Xms256m -Xmx2048m"</code>ã€‚è¿™æ ·åšå¯ç¡®ä¿å°†å€¼æ­£ç¡®ä¼ é€’ç»™æµç¨‹ã€‚</p></td></tr></tbody></table>

### 67.1.1æ‰£é™¤â€œæŠ“ä½â€ä¾èµ–å…³ç³»

æ ‡å‡†GroovyåŒ…å«ä¸€ä¸ª`@Grab`æ³¨é‡Šï¼Œå®ƒå…è®¸æ‚¨å£°æ˜å¯¹ç¬¬ä¸‰æ–¹åº“çš„ä¾èµ–æ€§ã€‚è¿™ä¸ªæœ‰ç”¨çš„æŠ€æœ¯è®©Groovyä»¥ä¸Mavenæˆ–Gradleç›¸åŒçš„æ–¹å¼ä¸‹è½½jarï¼Œä½†ä¸éœ€è¦ä½ ä½¿ç”¨æ„å»ºå·¥å…·ã€‚

Spring Bootè¿›ä¸€æ­¥æ‰©å±•äº†è¿™ç§æŠ€æœ¯ï¼Œå¹¶å°è¯•æ ¹æ®æ‚¨çš„ä»£ç æ¨æ–­å‡ºâ€œæŠ“å–â€å“ªäº›åº“ã€‚ä¾‹å¦‚ï¼Œç”±äºå‰é¢æ˜¾ç¤ºçš„`WebApplication`ä»£ç ä½¿ç”¨`@RestController`æ³¨é‡Šï¼ŒSpring Bootè·å–â€œTomcatâ€å’Œâ€œSpring MVCâ€ã€‚

ä»¥ä¸‹é¡¹ç›®ç”¨ä½œâ€œæŠ“å–æç¤ºâ€ï¼š

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">é¡¹ç›®</th><th style="border-bottom: 1px solid ; " align="left" valign="top">æŠ“æ–—</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">JdbcTemplate</code>, <code class="literal">NamedParameterJdbcTemplate</code>, <code class="literal">DataSource</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>JDBC Application.</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">@EnableJms</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>JMS Application.</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">@EnableCaching</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Caching abstraction.</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">@Test</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>JUnit.</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">@EnableRabbit</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>RabbitMQ.</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>extends <code class="literal">Specification</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Spock test.</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">@EnableBatchProcessing</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Spring Batch.</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">@MessageEndpoint</code> <code class="literal">@EnableIntegration</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Spring Integration.</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">@Controller</code> <code class="literal">@RestController</code> <code class="literal">@EnableWebMvc</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Spring MVC + Embedded Tomcat.</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">@EnableWebSecurity</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Spring Security.</p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">@EnableTransactionManagement</code></p></td><td style="" align="left" valign="top" class="notranslate"><p>Spring Transaction Management.</p></td></tr></tbody></table><table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>è¯·å‚é˜…<a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-cli/src/main/java/org/springframework/boot/cli/compiler/CompilerAutoConfiguration.java" target="_top"><code class="literal">CompilerAutoConfiguration</code></a> Spring Boot CLIæºä»£ç ä¸­çš„å­ç±»ï¼Œ ä»¥å‡†ç¡®äº†è§£è‡ªå®šä¹‰çš„åº”ç”¨æ–¹å¼ã€‚</p></td></tr></tbody></table>

### 67.1.2æ‰£é™¤â€œæŠ“ä½â€åæ ‡

Spring Booté€šè¿‡å…è®¸æ‚¨æŒ‡å®šæ²¡æœ‰ç»„æˆ–ç‰ˆæœ¬çš„ä¾èµ–é¡¹ï¼ˆä¾‹å¦‚ï¼Œ`@Grab('freemarker')`ï¼‰æ¥æ‰©å±•Groovyçš„æ ‡å‡†`@Grab`æ”¯æŒã€‚è¿™æ ·åšå¯ä»¥å‚è€ƒSpring Bootçš„é»˜è®¤ä¾èµ–å…³ç³»å…ƒæ•°æ®æ¥æ¨æ–­å·¥ä»¶çš„ç»„å’Œç‰ˆæœ¬ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>é»˜è®¤å…ƒæ•°æ®ä¸æ‚¨ä½¿ç”¨çš„CLIç‰ˆæœ¬ç›¸å…³è”ã€‚åªæœ‰å½“æ‚¨ç§»åŠ¨åˆ°æ–°ç‰ˆæœ¬çš„CLIæ—¶ï¼Œå®ƒæ‰ä¼šæ›´æ”¹ï¼Œè®©æ‚¨å¯ä»¥æ§åˆ¶ä¾èµ–é¡¹ç‰ˆæœ¬ä½•æ—¶æ›´æ”¹ã€‚å¯ä»¥åœ¨<a class="link" href="#appendix-dependency-versions" title="é™„å½•F.ä¾èµ–ç‰ˆæœ¬">é™„å½•ä¸­</a>æ‰¾åˆ°æ˜¾ç¤ºé»˜è®¤å…ƒæ•°æ®ä¸­åŒ…å«çš„ä¾èµ–å…³ç³»åŠå…¶ç‰ˆæœ¬çš„è¡¨ã€‚</p></td></tr></tbody></table>

### 67.1.3é»˜è®¤å¯¼å…¥è¯­å¥

ä¸ºäº†å¸®åŠ©å‡å°Groovyä»£ç çš„å¤§å°ï¼Œè‡ªåŠ¨åŒ…å«å¤šä¸ª`import`è¯­å¥ã€‚è¯·æ³¨æ„å‰é¢çš„ç¤ºä¾‹å¦‚ä½•å¼•ç”¨`@Component`ï¼Œ`@RestController`å’Œ`@RequestMapping`ï¼Œè€Œæ— éœ€ä½¿ç”¨å®Œå…¨é™å®šåç§°æˆ–`import`è¯­å¥ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>è®¸å¤šSpringæ³¨é‡Šåœ¨ä¸ä½¿ç”¨<code class="literal" i="2913">import</code>è¯­å¥çš„æƒ…å†µä¸‹å·¥ä½œã€‚å°è¯•è¿è¡Œåº”ç”¨ç¨‹åºä»¥åœ¨æ·»åŠ å¯¼å…¥ä¹‹å‰æŸ¥çœ‹å¤±è´¥çš„å†…å®¹ã€‚</p></td></tr></tbody></table>

### 67.1.4è‡ªåŠ¨ä¸»æ–¹æ³•

ä¸ç­‰æ•ˆçš„Javaåº”ç”¨ç¨‹åºä¸åŒï¼Œæ‚¨ä¸éœ€è¦åœ¨`Groovy`è„šæœ¬ä¸­åŒ…å«`public static void main(String[] args)`æ–¹æ³•ã€‚è‡ªåŠ¨åˆ›å»º`SpringApplication`ï¼Œç¼–è¯‘çš„ä»£ç å……å½“`source`ã€‚

### 67.1.5è‡ªå®šä¹‰ä¾èµ–å…³ç³»ç®¡ç†

é»˜è®¤æƒ…å†µä¸‹ï¼ŒCLIåœ¨è§£æ`@Grab`ä¾èµ–é¡¹æ—¶ä½¿ç”¨`spring-boot-dependencies`ä¸­å£°æ˜çš„ä¾èµ–å…³ç³»ç®¡ç†ã€‚å¯ä»¥ä½¿ç”¨`@DependencyManagementBom`æ³¨é‡Šé…ç½®è¦†ç›–é»˜è®¤ä¾èµ–å…³ç³»ç®¡ç†çš„å…¶ä»–ä¾èµ–å…³ç³»ç®¡ç†ã€‚æ³¨é‡Šçš„å€¼åº”æŒ‡å®šä¸€ä¸ªæˆ–å¤šä¸ªMaven BOMçš„åæ ‡ï¼ˆ`groupId:artifactId:version`ï¼‰ã€‚

ä¾‹å¦‚ï¼Œè¯·è€ƒè™‘ä»¥ä¸‹å£°æ˜ï¼š

```
@DependencyManagementBom("com.example.custom-bom:1.0.0")
```

å‰é¢çš„å£°æ˜åœ¨`com/example/custom-versions/1.0.0/`ä¸‹çš„Mavenå­˜å‚¨åº“ä¸­è·å–`custom-bom-1.0.0.pom`ã€‚

æŒ‡å®šå¤šä¸ªBOMæ—¶ï¼Œå®ƒä»¬å°†æŒ‰æ‚¨å£°æ˜çš„é¡ºåºåº”ç”¨ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
@DependencyManagementBom(["com.example.custom-bom:1.0.0",
		"com.example.another-bom:1.0.0"])
```

ä¸Šé¢çš„ç¤ºä¾‹è¡¨æ˜`another-bom`ä¸­çš„ä¾èµ–å…³ç³»ç®¡ç†ä¼šè¦†ç›–`custom-bom`ä¸­çš„ä¾èµ–å…³ç³»ç®¡ç†ã€‚

æ‚¨å¯ä»¥åœ¨ä»»ä½•å¯ä»¥ä½¿ç”¨`@Grab`çš„åœ°æ–¹ä½¿ç”¨`@DependencyManagementBom`ã€‚ä½†æ˜¯ï¼Œä¸ºäº†ç¡®ä¿ä¾èµ–å…³ç³»ç®¡ç†çš„ä¸€è‡´æ’åºï¼Œæ‚¨æœ€å¤šå¯ä»¥åœ¨åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨`@DependencyManagementBom`ã€‚ä¸€ä¸ªæœ‰ç”¨çš„ä¾èµ–å…³ç³»ç®¡ç†æºï¼ˆå®ƒæ˜¯Spring Bootçš„ä¾èµ–å…³ç³»ç®¡ç†çš„è¶…é›†ï¼‰æ˜¯ [Spring IOå¹³å°](https://platform.spring.io/)ï¼Œæ‚¨å¯ä»¥åœ¨å…¶ä¸­åŒ…å«ä»¥ä¸‹è¡Œï¼š

```
@DependencyManagementBom('io.spring.platform:platform-bom:1.1.2.RELEASE')
```

67.2å…·æœ‰å¤šä¸ªæºæ–‡ä»¶çš„åº”ç”¨ç¨‹åº
----------------

æ‚¨å¯ä»¥å¯¹æ‰€æœ‰æ¥å—æ–‡ä»¶è¾“å…¥çš„å‘½ä»¤ä½¿ç”¨â€œshell globbingâ€ã€‚è¿™æ ·åšå¯ä»¥è®©æ‚¨ä½¿ç”¨å•ä¸ªç›®å½•ä¸­çš„å¤šä¸ªæ–‡ä»¶ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
$ spring run *.groovy
```

67.3æ‰“åŒ…æ‚¨çš„åº”ç”¨ç¨‹åº
------------

æ‚¨å¯ä»¥ä½¿ç”¨`jar`å‘½ä»¤å°†åº”ç”¨ç¨‹åºæ‰“åŒ…åˆ°ä¸€ä¸ªè‡ªåŒ…å«çš„å¯æ‰§è¡Œjaræ–‡ä»¶ä¸­ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
$ spring jar my-app.jar *.groovy
```

ç”Ÿæˆçš„jaråŒ…å«é€šè¿‡ç¼–è¯‘åº”ç”¨ç¨‹åºå’Œæ‰€æœ‰åº”ç”¨ç¨‹åºçš„ä¾èµ–é¡¹ç”Ÿæˆçš„ç±»ï¼Œä»¥ä¾¿å¯ä»¥ä½¿ç”¨`java -jar`è¿è¡Œå®ƒã€‚jaræ–‡ä»¶è¿˜åŒ…å«åº”ç”¨ç¨‹åºç±»è·¯å¾„ä¸­çš„æ¡ç›®ã€‚æ‚¨å¯ä»¥ä½¿ç”¨`--include`å’Œ`--exclude`æ·»åŠ å’Œåˆ é™¤jarçš„æ˜¾å¼è·¯å¾„ã€‚ä¸¤è€…éƒ½ä»¥é€—å·åˆ†éš”ï¼Œå¹¶ä¸”éƒ½ä»¥â€œ+â€å’Œâ€œ - â€çš„å½¢å¼æ¥å—å‰ç¼€ï¼Œä»¥è¡¨ç¤ºå®ƒä»¬åº”è¯¥ä»é»˜è®¤å€¼ä¸­åˆ é™¤ã€‚é»˜è®¤åŒ…æ‹¬å¦‚ä¸‹ï¼š

```
public/**, resources/**, static/**, templates/**, META-INF/**, *
```

é»˜è®¤æ’é™¤å¦‚ä¸‹ï¼š

```
.*, repository/**, build/**, target/**, **/*.jar, **/*.groovy
```

åœ¨å‘½ä»¤è¡Œä¸Šé”®å…¥`spring help jar`ä»¥è·å–æ›´å¤šä¿¡æ¯ã€‚

67.4åˆå§‹åŒ–æ–°é¡¹ç›®
----------

`init`å‘½ä»¤å…è®¸æ‚¨åœ¨ä¸ç¦»å¼€shellçš„æƒ…å†µä¸‹ä½¿ç”¨[start.spring.io](https://start.spring.io)åˆ›å»ºæ–°é¡¹ç›®ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
$ spring init --dependencies=web,data-jpa my-project
Using service at https://start.spring.io
Project extracted to '/Users/developer/example/my-project'
```

ä¸Šé¢çš„ç¤ºä¾‹åˆ›å»ºäº†ä¸€ä¸ª`my-project`ç›®å½•ï¼Œå…¶ä¸­åŒ…å«åŸºäºMavençš„é¡¹ç›®ï¼Œè¯¥é¡¹ç›®ä½¿ç”¨`spring-boot-starter-web`å’Œ`spring-boot-starter-data-jpa`ã€‚æ‚¨å¯ä»¥ä½¿ç”¨`--list`æ ‡å¿—åˆ—å‡ºæœåŠ¡çš„åŠŸèƒ½ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
$ spring init --list
=======================================
Capabilities of https://start.spring.io
=======================================

Available dependencies:
-----------------------
actuator - Actuator: Production ready features to help you monitor and manage your application
...
web - Web: Support for full-stack web development, including Tomcat and spring-webmvc
websocket - Websocket: Support for WebSocket development
ws - WS: Support for Spring Web Services

Available project types:
------------------------
gradle-build -  Gradle Config [format:build, build:gradle]
gradle-project -  Gradle Project [format:project, build:gradle]
maven-build -  Maven POM [format:build, build:maven]
maven-project -  Maven Project [format:project, build:maven] (default)

...
```

`init`å‘½ä»¤æ”¯æŒè®¸å¤šé€‰é¡¹ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…`help`è¾“å‡ºã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹å‘½ä»¤åˆ›å»ºä¸€ä¸ªä½¿ç”¨Java 8å’Œ`war`æ‰“åŒ…çš„Gradleé¡¹ç›®ï¼š

```
$ spring init --build=gradle --java-version=1.8 --dependencies=websocket --packaging=war sample-app.zip
Using service at https://start.spring.io
Content saved to 'sample-app.zip'
```

67.5ä½¿ç”¨åµŒå…¥å¼Shell
--------------

Spring BootåŒ…æ‹¬BASHå’Œzsh shellçš„å‘½ä»¤è¡Œå®Œæˆè„šæœ¬ã€‚å¦‚æœæ‚¨ä¸ä½¿ç”¨è¿™äº›shellä¸­çš„ä»»ä½•ä¸€ä¸ªï¼ˆå¯èƒ½æ˜¯Windowsç”¨æˆ·ï¼‰ï¼Œåˆ™å¯ä»¥ä½¿ç”¨`shell`å‘½ä»¤å¯åŠ¨é›†æˆshellï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
$ spring shell
**Spring Boot** (v2.1.1.RELEASE)
Hit TAB to complete. Type \'help' and hit RETURN for help, and \'exit' to quit.
```

åœ¨åµŒå…¥å¼shellä¸­ï¼Œæ‚¨å¯ä»¥ç›´æ¥è¿è¡Œå…¶ä»–å‘½ä»¤ï¼š

```
$ version
Spring CLI v2.1.1.RELEASE
```

åµŒå…¥å¼shellæ”¯æŒANSIé¢œè‰²è¾“å‡ºä»¥åŠ`tab`å®Œæˆã€‚å¦‚æœéœ€è¦è¿è¡Œæœ¬æœºå‘½ä»¤ï¼Œå¯ä»¥ä½¿ç”¨`!`å‰ç¼€ã€‚è¦é€€å‡ºåµŒå…¥å¼shellï¼Œè¯·æŒ‰`ctrl-c`ã€‚

67.6åœ¨CLIä¸­æ·»åŠ æ‰©å±•
-------------

æ‚¨å¯ä»¥ä½¿ç”¨`install`å‘½ä»¤å‘CLIæ·»åŠ æ‰©å±•ã€‚è¯¥å‘½ä»¤é‡‡ç”¨`group:artifact:version`æ ¼å¼çš„ä¸€ç»„æˆ–å¤šç»„å·¥ä»¶åæ ‡ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
$ spring install com.example:spring-boot-cli-extension:1.0.0.RELEASE
```

é™¤äº†å®‰è£…ç”±æ‚¨æä¾›çš„åæ ‡æ ‡è¯†çš„å·¥ä»¶å¤–ï¼Œè¿˜ä¼šå®‰è£…æ‰€æœ‰å·¥ä»¶çš„ä¾èµ–é¡¹ã€‚

è¦å¸è½½ä¾èµ–é¡¹ï¼Œè¯·ä½¿ç”¨`uninstall`å‘½ä»¤ã€‚ä¸`install`å‘½ä»¤ä¸€æ ·ï¼Œå®ƒé‡‡ç”¨`group:artifact:version`æ ¼å¼çš„ä¸€ç»„æˆ–å¤šç»„å·¥ä»¶åæ ‡ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
$ spring uninstall com.example:spring-boot-cli-extension:1.0.0.RELEASE
```

å®ƒä¼šå¸è½½ç”±æ‚¨æä¾›çš„åæ ‡åŠå…¶ä¾èµ–é¡¹æ ‡è¯†çš„å·¥ä»¶ã€‚

è¦å¸è½½æ‰€æœ‰å…¶ä»–ä¾èµ–é¡¹ï¼Œå¯ä»¥ä½¿ç”¨`--all`é€‰é¡¹ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
$ spring uninstall --all
```

68.ä½¿ç”¨Groovy Beans DSLå¼€å‘åº”ç”¨ç¨‹åº
---------------------------

Spring Framework 4.0æœ¬èº«æ”¯æŒ`beans{}`â€œDSLâ€ï¼ˆä»[Grails](http://grails.org/)å€Ÿç”¨ ï¼‰ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ç›¸åŒçš„æ ¼å¼åœ¨æ‚¨çš„Groovyåº”ç”¨ç¨‹åºè„šæœ¬ä¸­åµŒå…¥beanå®šä¹‰ã€‚è¿™æœ‰æ—¶æ˜¯åŒ…å«ä¸­é—´ä»¶å£°æ˜ç­‰å¤–éƒ¨åŠŸèƒ½çš„å¥½æ–¹æ³•ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
_@Configuration_
class Application implements CommandLineRunner {

	_@Autowired_
	SharedService service

	_@Override_
	void run(String... args) {
		println service.message
	}

}

import my.company.SharedService

beans {
	service(SharedService) {
		message = "Hello World"
	}
}
```

æ‚¨å¯ä»¥å°†ç±»å£°æ˜ä¸`beans{}`æ··åˆåœ¨åŒä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œåªè¦å®ƒä»¬ä¿æŒåœ¨é¡¶å±‚ï¼Œæˆ–è€…ï¼Œå¦‚æœæ‚¨æ„¿æ„ï¼Œå¯ä»¥å°†beans DSLæ”¾åœ¨å•ç‹¬çš„æ–‡ä»¶ä¸­ã€‚

69.ä½¿ç”¨`settings.xml`é…ç½®CLI
------------------------

Spring Boot CLIä½¿ç”¨Aetherï¼ŒMavençš„ä¾èµ–æ€§è§£æå¼•æ“æ¥è§£æä¾èµ–å…³ç³»ã€‚CLIä½¿ç”¨`~/.m2/settings.xml`ä¸­çš„Mavené…ç½®æ¥é…ç½®Aetherã€‚CLIæ”¯æŒä»¥ä¸‹é…ç½®è®¾ç½®ï¼š

*   ç¦»çº¿
*   é•œå­
*   æœåŠ¡å™¨
*   ä»£ç†
*   ç®€ä»‹

    *   æ¿€æ´»
    *   åº“
*   æ´»åŠ¨æ¡£æ¡ˆ

æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…[Mavençš„è®¾ç½®æ–‡æ¡£](https://maven.apache.org/settings.html)ã€‚

70.æ¥ä¸‹æ¥è¦é˜…è¯»çš„å†…å®¹
------------

GitHubå­˜å‚¨åº“ä¸­æä¾›äº†ä¸€äº›[ç¤ºä¾‹groovyè„šæœ¬](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-cli/samples)ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å®ƒä»¬æ¥å°è¯•Spring Boot CLIã€‚æ•´ä¸ª[æºä»£ç ä¸­](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-cli/src/main/java/org/springframework/boot/cli)è¿˜æœ‰å¹¿æ³›çš„Javadoc ã€‚

å¦‚æœæ‚¨å‘ç°è‡ªå·±è¾¾åˆ°äº†CLIå·¥å…·çš„é™åˆ¶ï¼Œé‚£ä¹ˆæ‚¨å¯èƒ½å¸Œæœ›å°†åº”ç”¨ç¨‹åºè½¬æ¢ä¸ºå®Œæ•´çš„Gradleæˆ–Mavenæ„å»ºçš„â€œGroovyé¡¹ç›®â€ã€‚ä¸‹ä¸€èŠ‚å°†ä»‹ç»Spring Bootçš„â€œ [æ„å»ºå·¥å…·æ’ä»¶](#build-tool-plugins "ç¬¬å…«éƒ¨åˆ†ã€‚ æ„å»ºå·¥å…·æ’ä»¶") â€ï¼Œæ‚¨å¯ä»¥å°†å…¶ä¸Gradleæˆ–Mavenä¸€èµ·ä½¿ç”¨ã€‚

ç¬¬å…«éƒ¨åˆ†ã€‚æ„å»ºå·¥å…·æ’ä»¶
===========

Spring Bootä¸ºMavenå’ŒGradleæä¾›æ„å»ºå·¥å…·æ’ä»¶ã€‚è¿™äº›æ’ä»¶æä¾›äº†å„ç§åŠŸèƒ½ï¼ŒåŒ…æ‹¬å¯æ‰§è¡Œjarçš„åŒ…è£…ã€‚æœ¬èŠ‚æä¾›äº†æœ‰å…³è¿™ä¸¤ä¸ªæ’ä»¶çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œä»¥åŠåœ¨éœ€è¦æ‰©å±•ä¸å—æ”¯æŒçš„æ„å»ºç³»ç»Ÿæ—¶çš„ä¸€äº›å¸®åŠ©ã€‚å¦‚æœæ‚¨åˆšåˆšå¼€å§‹ï¼Œå¯èƒ½éœ€è¦å…ˆé˜…è¯»â€œ [ç¬¬](#using-boot-build-systems "13.æ„å»ºç³»ç»Ÿ")[IIIéƒ¨åˆ†](#using-boot "ç¬¬ä¸‰éƒ¨åˆ†ã€‚ ä½¿ç”¨Spring Boot") â€ä¸­çš„â€œ [ç¬¬13ç« ï¼Œ](#using-boot-build-systems "13.Â Build Systems")[_æ„å»ºç³»ç»Ÿ_](#using-boot-build-systems "13.Â Build Systems") â€ï¼Œç„¶åå†[ä½¿ç”¨Spring Bootâ€œ](#using-boot "PartÂ III.Â Using Spring Boot") â€éƒ¨åˆ†ã€‚

71. Spring Boot Mavenæ’ä»¶

-----------------------

è¯¥[Spring Boot Mavenæ’ä»¶](https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/maven-plugin)æä¾›äº†Mavenï¼Œè®©ä½ æ‰“åŒ…å¯æ‰§è¡Œçš„JARæˆ–æˆ˜äº‰æ¡£æ¡ˆå’Œè¿è¡Œâ€œå°±åœ°â€çš„åº”ç”¨ç¨‹åºSpring Bootæ”¯æŒã€‚è¦ä½¿ç”¨å®ƒï¼Œæ‚¨å¿…é¡»ä½¿ç”¨Maven 3.2ï¼ˆæˆ–æ›´é«˜ç‰ˆæœ¬ï¼‰ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>æœ‰å…³å®Œæ•´çš„æ’ä»¶æ–‡æ¡£ï¼Œè¯·å‚é˜…<a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/maven-plugin" target="_top">Spring Boot Mavenæ’ä»¶ç«™ç‚¹</a>ã€‚</p></td></tr></tbody></table>

71.1åŒ…æ‹¬æ’ä»¶
--------

è¦ä½¿ç”¨Spring Boot Mavenæ’ä»¶ï¼Œè¯·åœ¨`pom.xml`çš„`plugins`éƒ¨åˆ†ä¸­åŒ…å«ç›¸åº”çš„XMLï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
	<modelVersion>4.0.0</modelVersion>
	<!-- ... -->
	<build>
		<plugins>
			<plugin>
				<groupId>org.springframework.boot</groupId>
				<artifactId>spring-boot-maven-plugin</artifactId>
				<version>2.1.1.RELEASE</version>
				<executions>
					<execution>
						<goals>
							<goal>repackage</goal>
						</goals>
					</execution>
				</executions>
			</plugin>
		</plugins>
	</build>
</project>
```

ä¸Šè¿°é…ç½®é‡æ–°æ‰“åŒ…åœ¨Mavenç”Ÿå‘½å‘¨æœŸçš„`package`é˜¶æ®µæ„å»ºçš„jaræˆ–warã€‚ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†é‡æ–°æ‰“åŒ…çš„jarä»¥åŠ`target`ç›®å½•ä¸­çš„åŸå§‹jarï¼š

```
$ mvn package
$ ls target/*.jar
target/myproject-1.0.0.jar target/myproject-1.0.0.jar.original
```

å¦‚æœæ‚¨ä¸åŒ…å«`<execution/>`é…ç½®ï¼Œå¦‚å‰é¢çš„ç¤ºä¾‹æ‰€ç¤ºï¼Œæ‚¨å¯ä»¥å•ç‹¬è¿è¡Œæ’ä»¶ï¼ˆä½†ä»…åœ¨ä½¿ç”¨åŒ…ç›®æ ‡æ—¶ï¼‰ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
$ mvn package spring-boot:repackage
$ ls target/*.jar
target/myproject-1.0.0.jar target/myproject-1.0.0.jar.original
```

å¦‚æœæ‚¨ä½¿ç”¨é‡Œç¨‹ç¢‘æˆ–å¿«ç…§ç‰ˆæœ¬ï¼Œåˆ™è¿˜éœ€è¦æ·»åŠ ç›¸åº”çš„`pluginRepository`å…ƒç´ ï¼Œå¦‚ä¸‹é¢çš„æ¸…å•æ‰€ç¤ºï¼š

```
<pluginRepositories>
	<pluginRepository>
		<id>spring-snapshots</id>
		<url>https://repo.spring.io/snapshot</url>
	</pluginRepository>
	<pluginRepository>
		<id>spring-milestones</id>
		<url>https://repo.spring.io/milestone</url>
	</pluginRepository>
</pluginRepositories>
```

71.2æ‰“åŒ…å¯æ‰§è¡Œæ–‡ä»¶å¤¹å’ŒWaræ–‡ä»¶
------------------

ä¸€æ—¦`pom.xml`ä¸­åŒ…å«`spring-boot-maven-plugin`ï¼Œå®ƒå°±ä¼šè‡ªåŠ¨å°è¯•ä½¿ç”¨`spring-boot:repackage`ç›®æ ‡é‡å†™å­˜æ¡£ä»¥ä½¿å…¶å¯æ‰§è¡Œã€‚æ‚¨åº”è¯¥ä½¿ç”¨é€šå¸¸çš„`packaging`å…ƒç´ å°†é¡¹ç›®é…ç½®ä¸ºæ„å»ºjaræˆ–warï¼ˆè§†æƒ…å†µè€Œå®šï¼‰ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
	<!-- ... -->
	<packaging>jar</packaging>
	<!-- ... -->
</project>
```

åœ¨`package`é˜¶æ®µï¼ŒSpring Bootå¢å¼ºäº†æ‚¨ç°æœ‰çš„å­˜æ¡£ã€‚æ‚¨å¯ä»¥é€šè¿‡ä½¿ç”¨é…ç½®é€‰é¡¹æˆ–é€šè¿‡ä»¥å¸¸è§„æ–¹å¼å‘æ¸…å•æ·»åŠ `Main-Class`å±æ€§æ¥æŒ‡å®šè¦å¯åŠ¨çš„ä¸»ç±»ã€‚å¦‚æœæœªæŒ‡å®šä¸»ç±»ï¼Œåˆ™æ’ä»¶å°†ä½¿ç”¨`public static void main(String[] args)`æ–¹æ³•æœç´¢ç±»ã€‚

è¦æ„å»ºå’Œè¿è¡Œé¡¹ç›®å·¥ä»¶ï¼Œå¯ä»¥é”®å…¥ä»¥ä¸‹å†…å®¹ï¼š

```
$ mvn package
$ java -jar target/mymodule-0.0.1-SNAPSHOT.jar
```

è¦æ„å»ºå¯æ‰§è¡Œä¸”å¯éƒ¨ç½²åˆ°å¤–éƒ¨å®¹å™¨çš„waræ–‡ä»¶ï¼Œéœ€è¦å°†åµŒå…¥å¼å®¹å™¨ä¾èµ–é¡¹æ ‡è®°ä¸ºâ€œå·²æä¾›â€ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
	<!-- ... -->
	<packaging>war</packaging>
	<!-- ... -->
	<dependencies>
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-web</artifactId>
		</dependency>
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-tomcat</artifactId>
			<scope>provided</scope>
		</dependency>
		<!-- ... -->
	</dependencies>
</project>
```

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æœ‰å…³å¦‚ä½•åˆ›å»ºå¯éƒ¨ç½²çš„waræ–‡ä»¶çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…â€œ <a class="xref" href="#howto-create-a-deployable-war-file" title="92.1åˆ›å»ºå¯éƒ¨ç½²çš„æˆ˜äº‰æ–‡ä»¶">ç¬¬92.1èŠ‚</a> â€ <a class="xref" href="#howto-create-a-deployable-war-file" title="92.1&nbsp;Create a Deployable War File">ï¼Œâ€œåˆ›å»ºå¯éƒ¨ç½²çš„Waræ–‡ä»¶</a> â€éƒ¨åˆ†ã€‚</p></td></tr></tbody></table>

[æ’ä»¶ä¿¡æ¯é¡µé¢](https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/maven-plugin)ä¸­æä¾›äº†é«˜çº§é…ç½®é€‰é¡¹å’Œç¤ºä¾‹ ã€‚

72. Spring Boot Gradleæ’ä»¶

------------------------

Spring Boot Gradleæ’ä»¶åœ¨Gradleä¸­æä¾›Spring Bootæ”¯æŒï¼Œå…è®¸æ‚¨æ‰“åŒ…å¯æ‰§è¡Œjaræˆ–waræ¡£æ¡ˆï¼Œè¿è¡ŒSpring Bootåº”ç”¨ç¨‹åºï¼Œå¹¶ä½¿ç”¨`spring-boot-dependencies`æä¾›çš„ä¾èµ–å…³ç³»ç®¡ç†ã€‚å®ƒéœ€è¦Gradle 4.4æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚è¯·å‚é˜…æ’ä»¶çš„æ–‡æ¡£ä»¥äº†è§£æ›´å¤šä¿¡æ¯ï¼š

*   å‚è€ƒï¼ˆ[HTML](https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/gradle-plugin/reference/html)å’Œ [PDF](https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/gradle-plugin/reference/pdf/spring-boot-gradle-plugin-reference.pdf)ï¼‰
*   [API](https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/gradle-plugin/api)

73. Spring Boot AntLibæ¨¡å—

------------------------

Spring Boot AntLibæ¨¡å—ä¸ºApache Antæä¾›åŸºæœ¬çš„Spring Bootæ”¯æŒã€‚æ‚¨å¯ä»¥ä½¿ç”¨è¯¥æ¨¡å—åˆ›å»ºå¯æ‰§è¡Œjarã€‚è¦ä½¿ç”¨è¯¥æ¨¡å—ï¼Œæ‚¨éœ€è¦åœ¨`build.xml`ä¸­å£°æ˜ä¸€ä¸ªé¢å¤–çš„`spring-boot`å‘½åç©ºé—´ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
<project xmlns:ivy="antlib:org.apache.ivy.ant"
	xmlns:spring-boot="antlib:org.springframework.boot.ant"
	>
	...
</project>
```

æ‚¨éœ€è¦è®°ä½ä½¿ç”¨`-lib`é€‰é¡¹å¯åŠ¨Antï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
$ ant -lib <folder containing spring-boot-antlib-2.1.1.RELEASE.jar>
```

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>â€œä½¿ç”¨Spring Bootâ€éƒ¨åˆ†åŒ…å«<a class="link" href="#using-boot-ant" title="13.4èš‚èš">ä½¿ç”¨Apache Antå’Œ<code class="literal" i="2973">spring-boot-antlib</code></a>çš„æ›´å®Œæ•´ç¤ºä¾‹ ã€‚</p></td></tr></tbody></table>

73.1 Spring Boot Antä»»åŠ¡
----------------------

å£°æ˜`spring-boot-antlib`å‘½åç©ºé—´åï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹é™„åŠ ä»»åŠ¡ï¼š

*   [ç¬¬73.1.1èŠ‚ï¼Œâ€œ`spring-boot:exejar`â€](#spring-boot-ant-exejar "73.1.1 spring-bootï¼šexejar")
*   [ç¬¬73.2èŠ‚ï¼Œâ€œ`spring-boot:findmainclass`â€](#spring-boot-ant-findmainclass "73.2 spring-bootï¼šfindmainclass")

### 73.1.1Â `spring-boot:exejar`

æ‚¨å¯ä»¥ä½¿ç”¨`exejar`ä»»åŠ¡åˆ›å»ºä¸€ä¸ªSpring Bootå¯æ‰§è¡Œjarã€‚ä»»åŠ¡æ”¯æŒä»¥ä¸‹å±æ€§ï¼š

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"><col class="col_3"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">å±æ€§</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">æè¿°</th><th style="border-bottom: 1px solid ; " align="left" valign="top">éœ€è¦</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">destfile</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class=""><p>è¦åˆ›å»ºçš„ç›®æ ‡jaræ–‡ä»¶</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">classes</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class=""><p>Javaç±»æ–‡ä»¶çš„æ ¹ç›®å½•</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Yes</p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">start-class</code></p></td><td style="border-right: 1px solid ; " align="left" valign="top" class=""><p>è¦è¿è¡Œçš„ä¸»è¦åº”ç”¨ç¨‹åºç±»</p></td><td style="" align="left" valign="top" class="notranslate"><p>No <em>(the default is the first class found that declares a <code class="literal">main</code> method)</em></p></td></tr></tbody></table>

ä»¥ä¸‹åµŒå¥—å…ƒç´ å¯ä¸ä»»åŠ¡ä¸€èµ·ä½¿ç”¨ï¼š

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">å…ƒä»¶</th><th style="border-bottom: 1px solid ; " align="left" valign="top">æè¿°</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">resources</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>ä¸€ä¸ªæˆ–å¤šä¸ª<a class="link" href="https://ant.apache.org/manual/Types/resources.html#collection" target="_top">èµ„æºé›†åˆï¼Œ</a>æè¿°åº”æ·»åŠ åˆ°åˆ›å»ºçš„jaræ–‡ä»¶å†…å®¹ä¸­çš„ä¸€ç»„<a class="link" href="https://ant.apache.org/manual/Types/resources.html" target="_top">èµ„æº</a>ã€‚</p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">lib</code></p></td><td style="" align="left" valign="top" class=""><p>åº”è¯¥æ·»åŠ åˆ°æ„æˆåº”ç”¨ç¨‹åºçš„è¿è¡Œæ—¶ä¾èµ–æ€§ç±»è·¯å¾„çš„jaråº“é›†çš„ä¸€ä¸ªæˆ–å¤šä¸ª<a class="link" href="https://ant.apache.org/manual/Types/resources.html#collection" target="_top">èµ„æºé›†åˆ</a>ã€‚</p></td></tr></tbody></table>

### 73.1.2ä¾‹å­

æœ¬èŠ‚æ˜¾ç¤ºäº†Antä»»åŠ¡çš„ä¸¤ä¸ªç¤ºä¾‹ã€‚

**æŒ‡å®šstart-classã€‚** 

```
<spring-boot:exejar destfile="target/my-application.jar"
		classes="target/classes" start-class="com.example.MyApplication">
	<resources>
		<fileset dir="src/main/resources" />
	</resources>
	<lib>
		<fileset dir="lib" />
	</lib>
</spring-boot:exejar>
```

**æ£€æµ‹å¼€å§‹çº§åˆ«ã€‚** 

```
<exejar destfile="target/my-application.jar" classes="target/classes">
	<lib>
		<fileset dir="lib" />
	</lib>
</exejar>
```

73.2Â `spring-boot:findmainclass`
--------------------------------

`exejar`å†…éƒ¨ä½¿ç”¨`findmainclass`ä»»åŠ¡æ¥æŸ¥æ‰¾å£°æ˜`main`çš„ç±»ã€‚å¦‚æœ‰å¿…è¦ï¼Œæ‚¨è¿˜å¯ä»¥ç›´æ¥åœ¨æ„å»ºä¸­ä½¿ç”¨æ­¤ä»»åŠ¡ã€‚æ”¯æŒä»¥ä¸‹å±æ€§ï¼š

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"><col class="col_3"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">å±æ€§</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">æè¿°</th><th style="border-bottom: 1px solid ; " align="left" valign="top">éœ€è¦</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">classesroot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class=""><p>Javaç±»æ–‡ä»¶çš„æ ¹ç›®å½•</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Yes <em>(unless <code class="literal">mainclass</code> is specified)</em></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">mainclass</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class=""><p>å¯ç”¨äºçŸ­è·¯<code class="literal" i="2983">main</code>ç±»æœç´¢</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>No</p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">property</code></p></td><td style="border-right: 1px solid ; " align="left" valign="top" class=""><p>åº”è¯¥ä½¿ç”¨ç»“æœè®¾ç½®çš„Antå±æ€§</p></td><td style="" align="left" valign="top" class="notranslate"><p>No <em>(result will be logged if unspecified)</em></p></td></tr></tbody></table>

### 73.2.1ä¾‹å­

æœ¬èŠ‚åŒ…å«ä½¿ç”¨`findmainclass`çš„ä¸‰ä¸ªç¤ºä¾‹ã€‚

**æŸ¥æ‰¾å¹¶è®°å½•ã€‚** 

```
<findmainclass classesroot="target/classes" />
```

**æŸ¥æ‰¾å¹¶è®¾ç½®ã€‚** 

```
<findmainclass classesroot="target/classes" property="main-class" />
```

**è¦†ç›–å¹¶è®¾ç½®ã€‚** 

```
<findmainclass mainclass="com.example.MainClass" property="main-class" />
```

74.æ”¯æŒå…¶ä»–æ„å»ºç³»ç»Ÿ
-----------

å¦‚æœæ‚¨æƒ³ä½¿ç”¨Mavenï¼ŒGradleæˆ–Antä»¥å¤–çš„æ„å»ºå·¥å…·ï¼Œåˆ™å¯èƒ½éœ€è¦å¼€å‘è‡ªå·±çš„æ’ä»¶ã€‚å¯æ‰§è¡Œjaréœ€è¦éµå¾ªç‰¹å®šçš„æ ¼å¼ï¼Œå¹¶ä¸”æŸäº›æ¡ç›®éœ€è¦ä»¥æœªå‹ç¼©çš„å½¢å¼ç¼–å†™ï¼ˆæœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…é™„å½•ä¸­çš„â€œ [å¯æ‰§è¡Œjaræ ¼å¼](#executable-jar "é™„å½•E.å¯æ‰§è¡Œçš„Jaræ ¼å¼") â€éƒ¨åˆ†ï¼‰ã€‚

Spring Boot Mavenå’ŒGradleæ’ä»¶éƒ½ä½¿ç”¨`spring-boot-loader-tools`æ¥å®é™…ç”Ÿæˆjarã€‚å¦‚æœéœ€è¦ï¼Œæ‚¨å¯ä»¥ç›´æ¥ä½¿ç”¨æ­¤åº“ã€‚

74.1é‡æ–°åŒ…è£…æ¡£æ¡ˆ
----------

è¦é‡æ–°æ‰“åŒ…ç°æœ‰å­˜æ¡£ä»¥ä½¿å…¶æˆä¸ºè‡ªåŒ…å«çš„å¯æ‰§è¡Œå­˜æ¡£ï¼Œè¯·ä½¿ç”¨`org.springframework.boot.loader.tools.Repackager`ã€‚`Repackager`ç±»é‡‡ç”¨ä¸€ä¸ªæ„é€ å‡½æ•°å‚æ•°ï¼Œè¯¥å‚æ•°å¼•ç”¨ç°æœ‰çš„jaræˆ–warå­˜æ¡£ã€‚ä½¿ç”¨ä¸¤ç§å¯ç”¨çš„`repackage()`æ–¹æ³•ä¹‹ä¸€æ›¿æ¢åŸå§‹æ–‡ä»¶æˆ–å†™å…¥æ–°ç›®æ ‡ã€‚åœ¨é‡æ–°æ‰“åŒ…ç¨‹åºè¿è¡Œä¹‹å‰ï¼Œè¿˜å¯ä»¥é…ç½®å„ç§è®¾ç½®ã€‚

74.2åµŒå¥—åº“
-------

é‡æ–°æ‰“åŒ…å­˜æ¡£æ—¶ï¼Œå¯ä»¥ä½¿ç”¨`org.springframework.boot.loader.tools.Libraries`æ¥å£åŒ…å«å¯¹ä¾èµ–é¡¹æ–‡ä»¶çš„å¼•ç”¨ã€‚æˆ‘ä»¬åœ¨è¿™é‡Œæ²¡æœ‰æä¾›`Libraries`çš„ä»»ä½•å…·ä½“å®ç°ï¼Œå› ä¸ºå®ƒä»¬é€šå¸¸æ˜¯ç‰¹å®šäºæ„å»ºç³»ç»Ÿçš„ã€‚

å¦‚æœæ‚¨çš„å­˜æ¡£å·²åŒ…å«åº“ï¼Œåˆ™å¯ä»¥ä½¿ç”¨`Libraries.NONE`ã€‚

74.3å¯»æ‰¾ä¸»è¦ç±»åˆ«
----------

å¦‚æœä¸ä½¿ç”¨`Repackager.setMainClass()`æŒ‡å®šä¸»ç±»ï¼Œåˆ™é‡æ–°æ‰“åŒ…ç¨‹åºä½¿ç”¨[ASM](http://asm.ow2.org/)è¯»å–ç±»æ–‡ä»¶å¹¶å°è¯•ä½¿ç”¨`public static void main(String[] args)`æ–¹æ³•æŸ¥æ‰¾åˆé€‚çš„ç±»ã€‚å¦‚æœæ‰¾åˆ°å¤šä¸ªå€™é€‰é¡¹ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸ã€‚

74.4é‡æ–°åŒ…è£…å®æ–½ç¤ºä¾‹
------------

ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†å…¸å‹çš„é‡æ–°æ‰“åŒ…å®ç°ï¼š

```
Repackager repackager = new Repackager(sourceJarFile);
repackager.setBackupSource(false);
repackager.repackage(new Libraries() {
			_@Override_
			public void doWithLibraries(LibraryCallback callback) throws IOException {
				// Build system specific implementation, callback for each dependency
				// callback.library(new Library(nestedFile, LibraryScope.COMPILE));
			}
		});
```

75.æ¥ä¸‹æ¥è¦é˜…è¯»çš„å†…å®¹
------------

å¦‚æœæ‚¨å¯¹æ„å»ºå·¥å…·æ’ä»¶çš„å·¥ä½œæ–¹å¼æ„Ÿå…´è¶£ï¼Œå¯ä»¥[`spring-boot-tools`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-tools) åœ¨GitHubä¸ŠæŸ¥çœ‹è¯¥æ¨¡å—ã€‚[é™„å½•](#executable-jar "é™„å½•E.å¯æ‰§è¡Œçš„Jaræ ¼å¼")ä¸­ä»‹ç»äº†å¯æ‰§è¡Œjaræ ¼å¼çš„æ›´å¤šæŠ€æœ¯ç»†èŠ‚ ã€‚

å¦‚æœæ‚¨æœ‰ä¸æ„å»ºç›¸å…³çš„ç‰¹å®šé—®é¢˜ï¼Œå¯ä»¥æŸ¥çœ‹â€œæ“ä½œ[æ–¹æ³•](#howto "ç¬¬ä¹éƒ¨åˆ†ã€‚ 'å¦‚ä½•'æŒ‡å—") â€æŒ‡å—ã€‚

ç¬¬ä¹éƒ¨åˆ†ã€‚'å¦‚ä½•'æŒ‡å—
===========

æœ¬èŠ‚æä¾›äº†ä½¿ç”¨Spring Bootæ—¶ç»å¸¸å‡ºç°çš„ä¸€äº›å¸¸è§'æˆ‘è¯¥æ€ä¹ˆåš......'çš„é—®é¢˜çš„ç­”æ¡ˆã€‚å®ƒçš„æŠ¥é“å¹¶ä¸è¯¦å°½ï¼Œä½†ç¡®å®æ¶µç›–äº†å¾ˆå¤šã€‚

å¦‚æœæ‚¨é‡åˆ°æˆ‘ä»¬æœªåœ¨æ­¤å¤„è®¨è®ºçš„ç‰¹å®šé—®é¢˜ï¼Œæ‚¨å¯èƒ½éœ€è¦æŸ¥çœ‹ [stackoverflow.com](https://stackoverflow.com/tags/spring-boot)ä»¥æŸ¥çœ‹æ˜¯å¦æœ‰äººå·²æä¾›ç­”æ¡ˆã€‚è¿™ä¹Ÿæ˜¯æå‡ºæ–°é—®é¢˜çš„å¥½åœ°æ–¹ï¼ˆè¯·ä½¿ç”¨`spring-boot`æ ‡ç­¾ï¼‰ã€‚

æˆ‘ä»¬ä¹Ÿéå¸¸ä¹æ„æ‰©å±•è¿™ä¸€éƒ¨åˆ†ã€‚å¦‚æœæ‚¨æƒ³æ·»åŠ â€œæ“ä½œæ–¹æ³•â€ï¼Œè¯·å‘æˆ‘ä»¬å‘é€[æ‹‰å–è¯·æ±‚](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE)ã€‚

76. Spring Bootç”³è¯·

-----------------

æœ¬èŠ‚åŒ…æ‹¬ä¸Spring Bootåº”ç”¨ç¨‹åºç›´æ¥ç›¸å…³çš„ä¸»é¢˜ã€‚

76.1åˆ›å»ºè‡ªå·±çš„å¤±è´¥åˆ†æå™¨
--------------

[`FailureAnalyzer`](https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/diagnostics/FailureAnalyzer.html)æ˜¯ä¸€ç§åœ¨å¯åŠ¨æ—¶æ‹¦æˆªå¼‚å¸¸å¹¶å°†å…¶è½¬æ¢ä¸ºäººç±»å¯è¯»æ¶ˆæ¯çš„å¥½æ–¹æ³•ï¼ŒåŒ…å«åœ¨[`FailureAnalysis`](https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/diagnostics/FailureAnalysis.html)ã€‚Spring Bootä¸ºåº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ç›¸å…³å¼‚å¸¸ï¼ŒJSR-303éªŒè¯ç­‰æä¾›äº†è¿™æ ·çš„åˆ†æå™¨ã€‚æ‚¨ä¹Ÿå¯ä»¥åˆ›å»ºè‡ªå·±çš„ã€‚

`AbstractFailureAnalyzer`æ˜¯`FailureAnalyzer`çš„æ–¹ä¾¿æ‰©å±•ï¼Œç”¨äºæ£€æŸ¥è¦å¤„ç†çš„å¼‚å¸¸ä¸­æ˜¯å¦å­˜åœ¨æŒ‡å®šçš„å¼‚å¸¸ç±»å‹ã€‚æ‚¨å¯ä»¥ä»ä¸­è¿›è¡Œæ‰©å±•ï¼Œä»¥ä¾¿æ‚¨çš„å®ç°åªæœ‰åœ¨å®é™…å­˜åœ¨æ—¶æ‰æœ‰æœºä¼šå¤„ç†å¼‚å¸¸ã€‚å¦‚æœç”±äºæŸç§åŸå› ï¼Œæ‚¨æ— æ³•å¤„ç†å¼‚å¸¸ï¼Œè¯·è¿”å›`null`ä»¥ä½¿å¦ä¸€ä¸ªå®ç°æœ‰æœºä¼šå¤„ç†å¼‚å¸¸ã€‚

`FailureAnalyzer`å®æ–½å¿…é¡»åœ¨`META-INF/spring.factories`ä¸­æ³¨å†Œã€‚ä»¥ä¸‹ç¤ºä¾‹æ³¨å†Œ`ProjectConstraintViolationFailureAnalyzer`ï¼š

```
org.springframework.boot.diagnostics.FailureAnalyzer=\
com.example.ProjectConstraintViolationFailureAnalyzer
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å¦‚æœæ‚¨éœ€è¦è®¿é—®<code class="literal" i="3001">BeanFactory</code>æˆ–<code class="literal" i="3002">Environment</code>ï¼Œåˆ™æ‚¨çš„<code class="literal" i="3003">FailureAnalyzer</code>å¯ä»¥åˆ†åˆ«å®ç°<code class="literal" i="3004">BeanFactoryAware</code>æˆ–<code class="literal" i="3005">EnvironmentAware</code>ã€‚</p></td></tr></tbody></table>

76.2è‡ªåŠ¨é…ç½®æ•…éšœæ’é™¤
------------

Spring Bootè‡ªåŠ¨é…ç½®å°½åŠ›â€œåšæ­£ç¡®çš„äº‹â€ï¼Œä½†æœ‰æ—¶äº‹æƒ…ä¼šå¤±è´¥ï¼Œè€Œä¸”å¾ˆéš¾è¯´æ¸…æ¥šåŸå› ã€‚

ä»»ä½•Spring Boot `ApplicationContext`éƒ½æœ‰ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„`ConditionEvaluationReport`ã€‚å¦‚æœå¯ç”¨`DEBUG`æ—¥å¿—è®°å½•è¾“å‡ºï¼Œåˆ™å¯ä»¥çœ‹åˆ°å®ƒã€‚å¦‚æœä½¿ç”¨`spring-boot-actuator`ï¼ˆå‚è§[Actuatorç« èŠ‚](#)ï¼‰ï¼Œè¿˜æœ‰ä¸€ä¸ª`conditions`ç«¯ç‚¹ä»¥JSONæ ¼å¼å‘ˆç°æŠ¥è¡¨ã€‚ä½¿ç”¨è¯¥ç«¯ç‚¹è°ƒè¯•åº”ç”¨ç¨‹åºï¼Œå¹¶åœ¨è¿è¡Œæ—¶æŸ¥çœ‹Spring Bootæ·»åŠ äº†å“ªäº›åŠŸèƒ½ï¼ˆä»¥åŠå“ªäº›å°šæœªæ·»åŠ ï¼‰ã€‚

é€šè¿‡æŸ¥çœ‹æºä»£ç å’ŒJavadocå¯ä»¥å›ç­”æ›´å¤šé—®é¢˜ã€‚é˜…è¯»ä»£ç æ—¶ï¼Œè¯·è®°ä½ä»¥ä¸‹ç»éªŒæ³•åˆ™ï¼š

*   æŸ¥æ‰¾åä¸º`*AutoConfiguration`çš„ç±»å¹¶é˜…è¯»å…¶æ¥æºã€‚è¯·ç‰¹åˆ«æ³¨æ„`@Conditional*`æ³¨é‡Šï¼Œä»¥äº†è§£å®ƒä»¬å¯ç”¨å“ªäº›åŠŸèƒ½ä»¥åŠä½•æ—¶å¯ç”¨ã€‚å°†`--debug`æ·»åŠ åˆ°å‘½ä»¤è¡Œæˆ–ç³»ç»Ÿå±æ€§`-Ddebug`ï¼Œä»¥åœ¨æ§åˆ¶å°ä¸Šè®°å½•åº”ç”¨ç¨‹åºä¸­æ‰€åšçš„æ‰€æœ‰è‡ªåŠ¨é…ç½®å†³ç­–ã€‚åœ¨æ­£åœ¨è¿è¡Œçš„Actuatoråº”ç”¨ç¨‹åºä¸­ï¼ŒæŸ¥çœ‹`conditions`ç«¯ç‚¹ï¼ˆ`/actuator/conditions`æˆ–JMXç­‰æ•ˆç‰©ï¼‰ä»¥è·å–ç›¸åŒçš„ä¿¡æ¯ã€‚
*   æŸ¥æ‰¾`@ConfigurationProperties`ï¼ˆä¾‹å¦‚[`ServerProperties`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/ServerProperties.java)ï¼‰çš„ç±»ï¼Œ å¹¶ä»é‚£é‡Œè¯»å–å¯ç”¨çš„å¤–éƒ¨é…ç½®é€‰é¡¹ã€‚`@ConfigurationProperties`æ³¨é‡Šå…·æœ‰`name`å±æ€§ï¼Œè¯¥å±æ€§å……å½“å¤–éƒ¨å±æ€§çš„å‰ç¼€ã€‚å› æ­¤ï¼Œ`ServerProperties`å…·æœ‰`prefix="server"`ï¼Œå…¶é…ç½®å±æ€§ä¸º`server.port`ï¼Œ`server.address`ç­‰ã€‚åœ¨æ­£åœ¨è¿è¡Œçš„Actuatoråº”ç”¨ç¨‹åºä¸­ï¼ŒæŸ¥çœ‹`configprops`ç«¯ç‚¹ã€‚
*   æŸ¥çœ‹`Binder`ä¸Š`bind`æ–¹æ³•çš„ä½¿ç”¨ï¼Œä»¥è½»æ¾çš„æ–¹å¼ä»`Environment`ä¸­æ˜ç¡®åœ°æå–é…ç½®å€¼ã€‚å®ƒé€šå¸¸ä¸å‰ç¼€ä¸€èµ·ä½¿ç”¨ã€‚
*   æŸ¥æ‰¾ç›´æ¥ç»‘å®šåˆ°`Environment`çš„`@Value`æ³¨é‡Šã€‚
*   æŸ¥æ‰¾ç”¨äºå“åº”SpELè¡¨è¾¾å¼æ‰“å¼€å’Œå…³é—­åŠŸèƒ½çš„`@ConditionalOnExpression`æ³¨é‡Šï¼Œé€šå¸¸ä½¿ç”¨ä»`Environment`è§£æçš„å ä½ç¬¦è¿›è¡Œè¯„ä¼°ã€‚

76.3åœ¨å¼€å§‹ä¹‹å‰è‡ªå®šä¹‰ç¯å¢ƒæˆ–ApplicationContext
---------------------------------

`SpringApplication`å…·æœ‰`ApplicationListeners`å’Œ`ApplicationContextInitializers`ï¼Œç”¨äºå°†è‡ªå®šä¹‰åº”ç”¨äºä¸Šä¸‹æ–‡æˆ–ç¯å¢ƒã€‚Spring BootåŠ è½½äº†è®¸å¤šæ­¤ç±»è‡ªå®šä¹‰é¡¹ï¼Œä»¥ä¾¿åœ¨`META-INF/spring.factories`å†…éƒ¨ä½¿ç”¨ã€‚æ³¨å†Œå…¶ä»–è‡ªå®šä¹‰é¡¹çš„æ–¹æ³•ä¸æ­¢ä¸€ç§ï¼š

*   æŒ‰ç¨‹åºç¼–ç¨‹ï¼Œåœ¨è¿è¡Œä¹‹å‰è°ƒç”¨`SpringApplication`ä¸Šçš„`addListeners`å’Œ`addInitializers`æ–¹æ³•ã€‚
*   å£°æ˜åœ°ï¼Œæ ¹æ®åº”ç”¨ç¨‹åºï¼Œé€šè¿‡è®¾ç½®`context.initializer.classes`æˆ–`context.listener.classes`å±æ€§ã€‚
*   å£°æ˜æ€§åœ°ï¼Œå¯¹äºæ‰€æœ‰åº”ç”¨ç¨‹åºï¼Œé€šè¿‡æ·»åŠ `META-INF/spring.factories`å¹¶æ‰“åŒ…åº”ç”¨ç¨‹åºå…¨éƒ¨ç”¨ä½œåº“çš„jaræ–‡ä»¶ã€‚

`SpringApplication`å‘ä¾¦å¬å™¨å‘é€ä¸€äº›ç‰¹æ®Šçš„`ApplicationEvents`ï¼ˆæœ‰äº›ç”šè‡³åœ¨åˆ›å»ºä¸Šä¸‹æ–‡ä¹‹å‰ï¼‰ï¼Œç„¶åä¸º`ApplicationContext`å‘å¸ƒçš„äº‹ä»¶æ³¨å†Œä¾¦å¬å™¨ã€‚æœ‰å…³å®Œæ•´åˆ—è¡¨[ï¼Œ](#boot-features-application-events-and-listeners "23.5åº”ç”¨ç¨‹åºäº‹ä»¶å’Œç›‘å¬å™¨")è¯·å‚é˜…â€œ Spring BootåŠŸèƒ½â€éƒ¨åˆ†ä¸­çš„â€œ [ç¬¬23.5èŠ‚â€â€œåº”ç”¨ç¨‹åºäº‹ä»¶å’Œç›‘å¬å™¨â€](#boot-features-application-events-and-listeners "23.5Â Application Events and Listeners")ã€‚

åœ¨ä½¿ç”¨`EnvironmentPostProcessor`åˆ·æ–°åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ä¹‹å‰ï¼Œè¿˜å¯ä»¥è‡ªå®šä¹‰`Environment`ã€‚æ¯ä¸ªå®ç°éƒ½åº”åœ¨`META-INF/spring.factories`ä¸­æ³¨å†Œï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
org.springframework.boot.env.EnvironmentPostProcessor=com.example.YourEnvironmentPostProcessor
```

è¯¥å®ç°å¯ä»¥åŠ è½½ä»»æ„æ–‡ä»¶å¹¶å°†å®ƒä»¬æ·»åŠ åˆ°`Environment`ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹ç¤ºä¾‹ä»ç±»è·¯å¾„åŠ è½½YAMLé…ç½®æ–‡ä»¶ï¼š

```
public class EnvironmentPostProcessorExample implements EnvironmentPostProcessor {

	private final YamlPropertySourceLoader loader = new YamlPropertySourceLoader();

	_@Override_
	public void postProcessEnvironment(ConfigurableEnvironment environment,
			SpringApplication application) {
		Resource path = new ClassPathResource("com/example/myapp/config.yml");
		PropertySource<?> propertySource = loadYaml(path);
		environment.getPropertySources().addLast(propertySource);
	}

	private PropertySource<?> loadYaml(Resource path) {
		if (!path.exists()) {
			throw new IllegalArgumentException("Resource " + path + " does not exist");
		}
		try {
			return this.loader.load("custom-resource", path).get(0);
		}
		catch (IOException ex) {
			throw new IllegalStateException(
					"Failed to load yaml configuration from " + path, ex);
		}
	}

}
```

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p><code class="literal" i="3049">Environment</code>å·²ç»å‡†å¤‡å¥½äº†Spring Booté»˜è®¤åŠ è½½çš„æ‰€æœ‰å¸¸ç”¨å±æ€§æºã€‚å› æ­¤ï¼Œå¯ä»¥ä»ç¯å¢ƒä¸­è·å–æ–‡ä»¶çš„ä½ç½®ã€‚å‰é¢çš„ç¤ºä¾‹åœ¨åˆ—è¡¨æœ«å°¾æ·»åŠ äº†<code class="literal" i="3050">custom-resource</code>å±æ€§æºï¼Œä»¥ä¾¿åœ¨ä»»ä½•å…¶ä»–å¸¸ç”¨ä½ç½®ä¸­å®šä¹‰çš„é”®ä¼˜å…ˆã€‚è‡ªå®šä¹‰å®ç°å¯ä»¥å®šä¹‰å¦ä¸€ä¸ªè®¢å•ã€‚</p></td></tr></tbody></table><table border="0" summary="Caution"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[è­¦å‘Š]" src="images/caution.png"></td><th align="left">è­¦å‘Š</th></tr><tr><td align="left" valign="top"><p>è™½ç„¶åœ¨<code class="literal" i="3052">@SpringBootApplication</code>ä¸Šä½¿ç”¨<code class="literal" i="3051">@PropertySource</code>ä¼¼ä¹æ˜¯åœ¨<code class="literal" i="3053">Environment</code>ä¸­åŠ è½½è‡ªå®šä¹‰èµ„æºçš„ä¸€ç§æ–¹ä¾¿è€Œç®€å•çš„æ–¹æ³•ï¼Œä½†æˆ‘ä»¬ä¸å»ºè®®è¿™æ ·åšï¼Œå› ä¸ºSpring Bootå‡†å¤‡äº†<code class="literal" i="3054">Environment</code>åœ¨åˆ·æ–°<code class="literal" i="3055">ApplicationContext</code>ä¹‹å‰ã€‚ä½¿ç”¨<code class="literal" i="3056">@PropertySource</code>å®šä¹‰çš„ä»»ä½•é”®åŠ è½½å¤ªæ™šï¼Œä¸ä¼šå¯¹è‡ªåŠ¨é…ç½®äº§ç”Ÿä»»ä½•å½±å“ã€‚</p></td></tr></tbody></table>

76.4æ„å»ºApplicationContextå±‚æ¬¡ç»“æ„ï¼ˆæ·»åŠ çˆ¶æˆ–æ ¹ä¸Šä¸‹æ–‡ï¼‰
--------------------------------------

æ‚¨å¯ä»¥ä½¿ç”¨`ApplicationBuilder`ç±»åˆ›å»ºçˆ¶/å­`ApplicationContext`å±‚æ¬¡ç»“æ„ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…â€œ Spring BootåŠŸèƒ½â€éƒ¨åˆ†ä¸­çš„â€œ [ç¬¬23.4èŠ‚](#boot-features-fluent-builder-api "23.4 Fluent Builder API") â€ [ï¼Œâ€œFluent Builder APIâ€](#boot-features-fluent-builder-api "23.4Â Fluent Builder API")ã€‚

76.5åˆ›å»ºéWebåº”ç”¨ç¨‹åº
--------------

å¹¶éæ‰€æœ‰Springåº”ç”¨ç¨‹åºéƒ½å¿…é¡»æ˜¯Webåº”ç”¨ç¨‹åºï¼ˆæˆ–WebæœåŠ¡ï¼‰ã€‚å¦‚æœè¦åœ¨`main`æ–¹æ³•ä¸­æ‰§è¡ŒæŸäº›ä»£ç ï¼Œè€Œä¸”è¿˜è¦å¼•å¯¼Springåº”ç”¨ç¨‹åºæ¥è®¾ç½®è¦ä½¿ç”¨çš„åŸºç¡€ç»“æ„ï¼Œåˆ™å¯ä»¥ä½¿ç”¨Spring Bootçš„`SpringApplication`åŠŸèƒ½ã€‚`SpringApplication`æ›´æ”¹å…¶`ApplicationContext`ç±»ï¼Œå…·ä½“å–å†³äºå®ƒæ˜¯å¦è®¤ä¸ºå®ƒéœ€è¦Webåº”ç”¨ç¨‹åºã€‚æ‚¨å¯ä»¥åšçš„ç¬¬ä¸€ä»¶äº‹å°±æ˜¯å°†ä¸æœåŠ¡å™¨ç›¸å…³çš„ä¾èµ–é¡¹ï¼ˆä¾‹å¦‚servlet APIï¼‰ä»ç±»è·¯å¾„ä¸­åˆ é™¤ã€‚å¦‚æœæ‚¨ä¸èƒ½è¿™æ ·åšï¼ˆä¾‹å¦‚ï¼Œæ‚¨ä»ç›¸åŒçš„ä»£ç åº“è¿è¡Œä¸¤ä¸ªåº”ç”¨ç¨‹åºï¼‰ï¼Œé‚£ä¹ˆæ‚¨å¯ä»¥åœ¨`SpringApplication`å®ä¾‹ä¸Šæ˜¾å¼è°ƒç”¨`setWebApplicationType(WebApplicationType.NONE)`æˆ–è®¾ç½®`applicationContextClass`å±æ€§ï¼ˆé€šè¿‡Java APIæˆ–ä¸å¤–éƒ¨å±æ€§ï¼‰ã€‚æ‚¨å¸Œæœ›ä½œä¸ºä¸šåŠ¡é€»è¾‘è¿è¡Œçš„åº”ç”¨ç¨‹åºä»£ç å¯ä»¥å®ç°ä¸º`CommandLineRunner`å¹¶ä½œä¸º`@Bean`å®šä¹‰æ”¾å…¥ä¸Šä¸‹æ–‡ä¸­ã€‚

77.å±æ€§å’Œé…ç½®
--------

æœ¬èŠ‚åŒ…æ‹¬æœ‰å…³è®¾ç½®å’Œè¯»å–å±æ€§å’Œé…ç½®è®¾ç½®åŠå…¶ä¸Spring Bootåº”ç”¨ç¨‹åºäº¤äº’çš„ä¸»é¢˜ã€‚

77.1åœ¨æ„å»ºæ—¶è‡ªåŠ¨å±•å¼€å±æ€§
--------------

æ‚¨å¯ä»¥ä½¿ç”¨ç°æœ‰çš„æ„å»ºé…ç½®è‡ªåŠ¨æ‰©å±•å®ƒä»¬ï¼Œè€Œä¸æ˜¯ç¡¬ç¼–ç åœ¨é¡¹ç›®çš„æ„å»ºé…ç½®ä¸­ä¹ŸæŒ‡å®šçš„æŸäº›å±æ€§ã€‚Mavenå’ŒGradleéƒ½å¯ä»¥å®ç°è¿™ä¸€ç‚¹ã€‚

### 77.1.1ä½¿ç”¨Mavenè‡ªåŠ¨Propertyæ‰©å±•

æ‚¨å¯ä»¥ä½¿ç”¨èµ„æºè¿‡æ»¤è‡ªåŠ¨ä»Mavené¡¹ç›®æ‰©å±•å±æ€§ã€‚å¦‚æœæ‚¨ä½¿ç”¨`spring-boot-starter-parent`ï¼Œåˆ™å¯ä»¥ä½¿ç”¨`@..@`å ä½ç¬¦å¼•ç”¨Maven'é¡¹ç›®å±æ€§'ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
app.encoding=@project.build.sourceEncoding@
app.java.version=@java.version@
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>åªæœ‰ç”Ÿäº§é…ç½®ä»¥è¿™ç§æ–¹å¼è¿‡æ»¤ï¼ˆæ¢å¥è¯è¯´ï¼Œåœ¨<code class="literal" i="3070">src/test/resources</code>ä¸Šä¸åº”ç”¨è¿‡æ»¤ï¼‰ã€‚</p></td></tr></tbody></table><table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¦‚æœå¯ç”¨<code class="literal" i="3071">addResources</code>æ ‡å¿—ï¼Œåˆ™<code class="literal" i="3072">spring-boot:run</code>ç›®æ ‡å¯ä»¥å°†<code class="literal" i="3073">src/main/resources</code>ç›´æ¥æ·»åŠ åˆ°ç±»è·¯å¾„ï¼ˆç”¨äºçƒ­é‡æ–°åŠ è½½ï¼‰ã€‚è¿™æ ·åšå¯ä»¥ç»•è¿‡èµ„æºè¿‡æ»¤å’Œæ­¤åŠŸèƒ½ã€‚ç›¸åï¼Œæ‚¨å¯ä»¥ä½¿ç”¨<code class="literal" i="3074">exec:java</code>ç›®æ ‡æˆ–è‡ªå®šä¹‰æ’ä»¶çš„é…ç½®ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… <a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/maven-plugin/usage.html" target="_top">æ’ä»¶ä½¿ç”¨æƒ…å†µé¡µé¢</a>ã€‚</p></td></tr></tbody></table>

å¦‚æœæ‚¨ä¸ä½¿ç”¨starterçˆ¶çº§ï¼Œåˆ™éœ€è¦åœ¨`pom.xml`çš„`<build/>`å…ƒç´ ä¸­åŒ…å«ä»¥ä¸‹å…ƒç´ ï¼š

```
<resources>
	<resource>
		<directory>src/main/resources</directory>
		<filtering>true</filtering>
	</resource>
</resources>
```

æ‚¨è¿˜éœ€è¦åœ¨`<plugins/>`ä¸­åŒ…å«ä»¥ä¸‹å…ƒç´ ï¼š

```
<plugin>
	<groupId>org.apache.maven.plugins</groupId>
	<artifactId>maven-resources-plugin</artifactId>
	<version>2.7</version>
	<configuration>
		<delimiters>
			<delimiter>@</delimiter>
		</delimiters>
		<useDefaultDelimiters>false</useDefaultDelimiters>
	</configuration>
</plugin>
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å¦‚æœåœ¨é…ç½®ä¸­ä½¿ç”¨æ ‡å‡†Springå ä½ç¬¦ï¼ˆä¾‹å¦‚<code class="literal" i="3079">${placeholder}</code>ï¼‰ï¼Œåˆ™<code class="literal" i="3078">useDefaultDelimiters</code>å±æ€§éå¸¸é‡è¦ã€‚å¦‚æœè¯¥å±æ€§æœªè®¾ç½®ä¸º<code class="literal" i="3080">false</code>ï¼Œåˆ™å¯ä»¥é€šè¿‡æ„å»ºæ‰©å±•è¿™äº›å±æ€§ã€‚</p></td></tr></tbody></table>

### 77.1.2ä½¿ç”¨Gradleè‡ªåŠ¨Propertyæ‰©å±•

æ‚¨å¯ä»¥é€šè¿‡é…ç½®Javaæ’ä»¶çš„`processResources`ä»»åŠ¡æ¥è‡ªåŠ¨æ‰©å±•Gradleé¡¹ç›®ä¸­çš„å±æ€§ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
processResources {
	expand(project.properties)
}
```

ç„¶åï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å ä½ç¬¦æ¥å¼•ç”¨æ‚¨çš„Gradleé¡¹ç›®çš„å±æ€§ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
app.name=${name}
app.description=${description}
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>Gradleçš„<code class="literal" i="3082">expand</code>æ–¹æ³•ä½¿ç”¨Groovyçš„<code class="literal" i="3083">SimpleTemplateEngine</code>ï¼Œå®ƒä¼šè½¬æ¢<code class="literal" i="3084">${..}</code>ä»¤ç‰Œã€‚<code class="literal" i="3085">${..}</code>æ ·å¼ä¸Springè‡ªå·±çš„å±æ€§å ä½ç¬¦æœºåˆ¶å†²çªã€‚è¦å°†Springå±æ€§å ä½ç¬¦ä¸è‡ªåŠ¨æ‰©å±•ä¸€èµ·ä½¿ç”¨ï¼Œè¯·æŒ‰å¦‚ä¸‹æ–¹å¼è½¬ä¹‰Springå±æ€§å ä½ç¬¦ï¼š<code class="literal" i="3086">\${..}</code>ã€‚</p></td></tr></tbody></table>

77.2å¤–éƒ¨åŒ–`SpringApplication`çš„é…ç½®
-----------------------------

`SpringApplication`å…·æœ‰beanå±æ€§ï¼ˆä¸»è¦æ˜¯setterï¼‰ï¼Œå› æ­¤æ‚¨å¯ä»¥åœ¨åˆ›å»ºåº”ç”¨ç¨‹åºæ—¶ä½¿ç”¨å…¶Java APIæ¥ä¿®æ”¹å…¶è¡Œä¸ºã€‚æˆ–è€…ï¼Œæ‚¨å¯ä»¥é€šè¿‡åœ¨`spring.main.*`ä¸­è®¾ç½®å±æ€§æ¥å¤–éƒ¨åŒ–é…ç½®ã€‚ä¾‹å¦‚ï¼Œåœ¨`application.properties`ä¸­ï¼Œæ‚¨å¯èƒ½å…·æœ‰ä»¥ä¸‹è®¾ç½®ï¼š

```
spring.main.web-application-type=none
spring.main.banner-mode=off
```

ç„¶ååœ¨å¯åŠ¨æ—¶ä¸æ‰“å°Spring Bootæ¨ªå¹…ï¼Œå¹¶ä¸”åº”ç”¨ç¨‹åºæœªå¯åŠ¨åµŒå…¥å¼WebæœåŠ¡å™¨ã€‚

å¤–éƒ¨é…ç½®ä¸­å®šä¹‰çš„å±æ€§ä¼šè¦†ç›–ä½¿ç”¨Java APIæŒ‡å®šçš„å€¼ï¼Œä½†ç”¨äºåˆ›å»º`ApplicationContext`çš„æºçš„æ˜æ˜¾ä¾‹å¤–ã€‚è€ƒè™‘ä»¥ä¸‹åº”ç”¨ç¨‹åºï¼š

```
new SpringApplicationBuilder()
	.bannerMode(Banner.Mode.OFF)
	.sources(demo.MyApp.class)
	.run(args);
```

ç°åœ¨è€ƒè™‘ä»¥ä¸‹é…ç½®ï¼š

```
spring.main.sources=com.acme.Config,com.acme.ExtraConfig
spring.main.banner-mode=console
```

å®é™…åº”ç”¨ç¨‹åº_ç°åœ¨_æ˜¾ç¤ºæ¨ªå¹…ï¼ˆç”±é…ç½®è¦†ç›–ï¼‰å¹¶ä½¿ç”¨`ApplicationContext`çš„ä¸‰ä¸ªæ¥æºï¼ˆæŒ‰ä»¥ä¸‹é¡ºåºï¼‰ï¼š`demo.MyApp`ï¼Œ`com.acme.Config`å’Œ`com.acme.ExtraConfig`ã€‚

77.3æ›´æ”¹åº”ç”¨ç¨‹åºå¤–éƒ¨å±æ€§çš„ä½ç½®
-----------------

é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¥è‡ªä¸åŒæ¥æºçš„å±æ€§ä¼šæŒ‰ç…§å®šä¹‰çš„é¡ºåºæ·»åŠ åˆ°Spring `Environment`ï¼ˆæœ‰å…³ç¡®åˆ‡çš„é¡ºåº[ï¼Œ](#boot-features-external-config "24.å¤–éƒ¨é…ç½®")è¯·å‚é˜…â€œ Spring BootåŠŸèƒ½â€éƒ¨åˆ†ä¸­çš„â€œ [ç¬¬24ç« ï¼Œ](#boot-features-external-config "24.Â Externalized Configuration")[_å¤–éƒ¨åŒ–é…ç½®_](#boot-features-external-config "24.Â Externalized Configuration") â€ï¼‰ã€‚

å¢åŠ å’Œä¿®æ”¹æ­¤æ’åºçš„ä¸€ç§å¥½æ–¹æ³•æ˜¯å‘åº”ç”¨ç¨‹åºæºæ·»åŠ `@PropertySource`æ³¨é‡Šã€‚ä¼ é€’ç»™`SpringApplication`é™æ€ä¾¿æ·æ–¹æ³•çš„ç±»å’Œä½¿ç”¨`setSources()`æ·»åŠ çš„ç±»å°†è¢«æ£€æŸ¥ä»¥æŸ¥çœ‹å®ƒä»¬æ˜¯å¦å…·æœ‰`@PropertySources`ã€‚å¦‚æœä»–ä»¬è¿™æ ·åšï¼Œé‚£ä¹ˆè¿™äº›å±æ€§ä¼šå°½æ—©æ·»åŠ åˆ°`Environment`ï¼Œä»¥ä¾¿åœ¨`ApplicationContext`ç”Ÿå‘½å‘¨æœŸçš„æ‰€æœ‰é˜¶æ®µä¸­ä½¿ç”¨ã€‚ä»¥è¿™ç§æ–¹å¼æ·»åŠ çš„å±æ€§çš„ä¼˜å…ˆçº§ä½äºä½¿ç”¨é»˜è®¤ä½ç½®ï¼ˆä¾‹å¦‚`application.properties`ï¼‰ï¼Œç³»ç»Ÿå±æ€§ï¼Œç¯å¢ƒå˜é‡æˆ–å‘½ä»¤è¡Œæ·»åŠ çš„å±æ€§ã€‚

æ‚¨è¿˜å¯ä»¥æä¾›ä»¥ä¸‹ç³»ç»Ÿå±æ€§ï¼ˆæˆ–ç¯å¢ƒå˜é‡ï¼‰æ¥æ›´æ”¹è¡Œä¸ºï¼š

*   `spring.config.name`ï¼ˆ`SPRING_CONFIG_NAME`ï¼‰ï¼šé»˜è®¤ä¸º`application`ä½œä¸ºæ–‡ä»¶åçš„æ ¹ã€‚
*   `spring.config.location`ï¼ˆ`SPRING_CONFIG_LOCATION`ï¼‰ï¼šè¦åŠ è½½çš„æ–‡ä»¶ï¼ˆä¾‹å¦‚ç±»è·¯å¾„èµ„æºæˆ–URLï¼‰ã€‚ä¸ºæ­¤æ–‡æ¡£è®¾ç½®äº†å•ç‹¬çš„`Environment`å±æ€§æºï¼Œå®ƒå¯ä»¥è¢«ç³»ç»Ÿå±æ€§ï¼Œç¯å¢ƒå˜é‡æˆ–å‘½ä»¤è¡Œè¦†ç›–ã€‚

æ— è®ºæ‚¨åœ¨ç¯å¢ƒä¸­è®¾ç½®ä»€ä¹ˆï¼ŒSpring Bootæ€»æ˜¯å¦‚ä¸Šæ‰€è¿°åŠ è½½`application.properties`ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœä½¿ç”¨YAMLï¼Œåˆ™æ‰©å±•åä¸ºâ€œ.ymlâ€çš„æ–‡ä»¶ä¹Ÿä¼šæ·»åŠ åˆ°åˆ—è¡¨ä¸­ã€‚

Spring Bootè®°å½•åœ¨`DEBUG`çº§åˆ«åŠ è½½çš„é…ç½®æ–‡ä»¶ä»¥åŠåœ¨`TRACE`çº§åˆ«æ‰¾ä¸åˆ°çš„å€™é€‰é¡¹ã€‚

æœ‰å…³[`ConfigFileApplicationListener`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/context/config/ConfigFileApplicationListener.java) è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…

77.4ä½¿ç”¨â€œçŸ­â€å‘½ä»¤è¡Œå‚æ•°
--------------

æœ‰äº›äººå–œæ¬¢ä½¿ç”¨ï¼ˆä¾‹å¦‚ï¼‰`--port=9000`è€Œä¸æ˜¯`--server.port=9000`æ¥åœ¨å‘½ä»¤è¡Œä¸Šè®¾ç½®é…ç½®å±æ€§ã€‚æ‚¨å¯ä»¥ä½¿ç”¨`application.properties`ä¸­çš„å ä½ç¬¦å¯ç”¨æ­¤è¡Œä¸ºï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
server.port=${port:8080}
```

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¦‚æœæ‚¨ä»<code class="literal" i="3116">spring-boot-starter-parent</code> POMç»§æ‰¿ï¼Œåˆ™<code class="literal" i="3117">maven-resources-plugins</code>çš„é»˜è®¤è¿‡æ»¤å™¨ä»¤ç‰Œå·²ä»<code class="literal" i="3118">${*}</code>æ›´æ”¹ä¸º<code class="literal" i="3119">@</code>ï¼ˆå³<code class="literal" i="3120">@maven.token@</code>è€Œä¸æ˜¯<code class="literal" i="3121">${maven.token}</code>ï¼‰é˜²æ­¢ä¸Springæ ·å¼å ä½ç¬¦å‘ç”Ÿå†²çªã€‚å¦‚æœæ‚¨å·²ç›´æ¥ä¸º<code class="literal" i="3122">application.properties</code>å¯ç”¨Mavenè¿‡æ»¤ï¼Œåˆ™å¯èƒ½è¿˜éœ€è¦æ›´æ”¹é»˜è®¤è¿‡æ»¤å™¨ä»¤ç‰Œä»¥ä½¿ç”¨ <a class="link" href="https://maven.apache.org/plugins/maven-resources-plugin/resources-mojo.html#delimiters" target="_top">å…¶ä»–åˆ†éš”ç¬¦</a>ã€‚</p></td></tr></tbody></table><table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>åœ¨è¿™ç§ç‰¹å®šæƒ…å†µä¸‹ï¼Œç«¯å£ç»‘å®šå¯åœ¨Paokuç¯å¢ƒï¼ˆå¦‚Herokuæˆ–Cloud Foundryï¼‰ä¸­è¿è¡Œã€‚åœ¨è¿™ä¸¤ä¸ªå¹³å°ä¸­ï¼Œ<code class="literal" i="3123">PORT</code>ç¯å¢ƒå˜é‡è‡ªåŠ¨è®¾ç½®ï¼ŒSpringå¯ä»¥ç»‘å®šåˆ°<code class="literal" i="3124">Environment</code>å±æ€§çš„å¤§å†™åŒä¹‰è¯ã€‚</p></td></tr></tbody></table>

77.5å°†YAMLç”¨äºå¤–éƒ¨å±æ€§
---------------

YAMLæ˜¯JSONçš„è¶…é›†ï¼Œå› æ­¤ï¼Œå®ƒæ˜¯ä»¥åˆ†å±‚æ ¼å¼å­˜å‚¨å¤–éƒ¨å±æ€§çš„ä¾¿æ·è¯­æ³•ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
spring:
	application:
		name: cruncher
	datasource:
		driverClassName: com.mysql.jdbc.Driver
		url: jdbc:mysql://localhost/test
server:
	port: 9000
```

åˆ›å»ºä¸€ä¸ªåä¸º`application.yml`çš„æ–‡ä»¶å¹¶å°†å…¶æ”¾åœ¨ç±»è·¯å¾„çš„æ ¹ç›®å½•ä¸­ã€‚ç„¶åå°†`snakeyaml`æ·»åŠ åˆ°æ‚¨çš„ä¾èµ–é¡¹ï¼ˆMavenåæ ‡`org.yaml:snakeyaml`ï¼Œå¦‚æœæ‚¨ä½¿ç”¨`spring-boot-starter`ï¼Œåˆ™å·²åŒ…å«åœ¨å†…ã€‚å°†YAMLæ–‡ä»¶è§£æä¸ºJava `Map<String,Object>`ï¼ˆç±»ä¼¼äºJSONå¯¹è±¡ï¼‰ï¼Œå¹¶ä¸”Spring Bootå°†åœ°å›¾å±•å¹³ï¼Œä½¿å…¶æ·±åº¦ä¸ºä¸€çº§å¹¶å…·æœ‰å¥ç‚¹åˆ†éš”çš„é”®ï¼Œå› ä¸ºå¾ˆå¤šäººä¹ æƒ¯ä½¿ç”¨{11 Javaä¸­çš„/}æ–‡ä»¶ã€‚

ä¸Šé¢çš„ç¤ºä¾‹YAMLå¯¹åº”äºä»¥ä¸‹`application.properties`æ–‡ä»¶ï¼š

```
spring.application.name=cruncher
spring.datasource.driverClassName=com.mysql.jdbc.Driver
spring.datasource.url=jdbc:mysql://localhost/test
server.port=9000
```

æœ‰å…³[YAML](#boot-features-external-config-yaml "24.7ä½¿ç”¨YAMLè€Œä¸æ˜¯å±æ€§")çš„æ›´å¤šä¿¡æ¯[ï¼Œ](#boot-features-external-config-yaml "24.7Â Using YAML Instead of Properties")è¯·å‚è§â€œ Spring BootåŠŸèƒ½â€éƒ¨åˆ†ä¸­çš„â€œ [ç¬¬24.7èŠ‚](#boot-features-external-config-yaml "24.7Â Using YAML Instead of Properties") â€ [ï¼Œâ€œä½¿ç”¨YAMLè€Œä¸æ˜¯å±æ€§â€](#boot-features-external-config-yaml "24.7Â Using YAML Instead of Properties")ã€‚

77.6è®¾ç½®æ´»åŠ¨Spring Profiles
-----------------------

Spring `Environment`æœ‰ä¸€ä¸ªAPIï¼Œä½†æ‚¨é€šå¸¸ä¼šè®¾ç½®ä¸€ä¸ªSystemå±æ€§ï¼ˆ`spring.profiles.active`ï¼‰æˆ–ä¸€ä¸ªOSç¯å¢ƒå˜é‡ï¼ˆ`SPRING_PROFILES_ACTIVE`ï¼‰ã€‚æ­¤å¤–ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨`-D`å‚æ•°å¯åŠ¨åº”ç”¨ç¨‹åºï¼ˆè¯·è®°ä½å°†å…¶æ”¾åœ¨ä¸»ç±»æˆ–jarå­˜æ¡£ä¹‹å‰ï¼‰ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
$ java -jar -Dspring.profiles.active=production demo-0.0.1-SNAPSHOT.jar
```

åœ¨Spring Bootä¸­ï¼Œæ‚¨è¿˜å¯ä»¥åœ¨`application.properties`ä¸­è®¾ç½®æ´»åŠ¨é…ç½®æ–‡ä»¶ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
spring.profiles.active=production
```

ä»¥è¿™ç§æ–¹å¼è®¾ç½®çš„å€¼å°†ç”±Systemå±æ€§æˆ–ç¯å¢ƒå˜é‡è®¾ç½®æ›¿æ¢ï¼Œä½†ä¸ä¼šç”±`SpringApplicationBuilder.profiles()`æ–¹æ³•æ›¿æ¢ã€‚å› æ­¤ï¼Œåä¸€ä¸ªJava APIå¯ç”¨äºæ‰©å……é…ç½®æ–‡ä»¶è€Œä¸æ›´æ”¹é»˜è®¤å€¼ã€‚

æœ‰å…³è¯¦ç»†[_ä¿¡æ¯_](#boot-features-profiles "25.Â Profiles")[ï¼Œ](#boot-features-profiles "25.ç®€ä»‹")è¯·å‚é˜…â€œ Spring BootåŠŸèƒ½â€éƒ¨åˆ†ä¸­çš„â€œ [ç¬¬25ç« ï¼Œ](#boot-features-profiles "25.Â Profiles")[_é…ç½®æ–‡ä»¶_](#boot-features-profiles "25.Â Profiles") â€ã€‚

77.7æ ¹æ®ç¯å¢ƒæ›´æ”¹é…ç½®
------------

YAMLæ–‡ä»¶å®é™…ä¸Šæ˜¯ç”±`---`è¡Œåˆ†éš”çš„æ–‡æ¡£åºåˆ—ï¼Œæ¯ä¸ªæ–‡æ¡£åˆ†åˆ«è§£æä¸ºå±•å¹³çš„åœ°å›¾ã€‚

å¦‚æœYAMLæ–‡æ¡£åŒ…å«`spring.profiles`é”®ï¼Œåˆ™é…ç½®æ–‡ä»¶å€¼ï¼ˆä»¥é€—å·åˆ†éš”çš„é…ç½®æ–‡ä»¶åˆ—è¡¨ï¼‰å°†è¾“å…¥Spring `Environment.acceptsProfiles()`æ–¹æ³•ã€‚å¦‚æœè¿™äº›é…ç½®æ–‡ä»¶ä¸­çš„ä»»ä½•ä¸€ä¸ªå¤„äºæ´»åŠ¨çŠ¶æ€ï¼Œé‚£ä¹ˆè¯¥æ–‡æ¡£å°†åŒ…å«åœ¨æœ€ç»ˆåˆå¹¶ä¸­ï¼ˆå¦åˆ™ï¼Œå®ƒä¸ä¼šï¼‰ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
server:
	port: 9000
---

spring:
	profiles: development
server:
	port: 9001

---

spring:
	profiles: production
server:
	port: 0
```

åœ¨å‰é¢çš„ç¤ºä¾‹ä¸­ï¼Œé»˜è®¤ç«¯å£ä¸º9000.ä½†æ˜¯ï¼Œå¦‚æœåä¸ºâ€œdevelopmentâ€çš„Springé…ç½®æ–‡ä»¶å¤„äºæ´»åŠ¨çŠ¶æ€ï¼Œåˆ™ç«¯å£ä¸º9001.å¦‚æœâ€œproductionâ€å¤„äºæ´»åŠ¨çŠ¶æ€ï¼Œåˆ™ç«¯å£ä¸º0ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>YAMLæ–‡æ¡£æŒ‰å®ƒä»¬é‡åˆ°çš„é¡ºåºåˆå¹¶ã€‚ä»¥åçš„å€¼ä¼šè¦†ç›–ä»¥å‰çš„å€¼ã€‚</p></td></tr></tbody></table>

è¦å¯¹å±æ€§æ–‡ä»¶æ‰§è¡Œç›¸åŒæ“ä½œï¼Œå¯ä»¥ä½¿ç”¨`application-${profile}.properties`æŒ‡å®šç‰¹å®šäºé…ç½®æ–‡ä»¶çš„å€¼ã€‚

77.8å‘ç°å¤–éƒ¨å±æ€§çš„å†…ç½®é€‰é¡¹
---------------

Spring Bootåœ¨è¿è¡Œæ—¶å°†`application.properties`ï¼ˆæˆ–`.yml`æ–‡ä»¶å’Œå…¶ä»–ä½ç½®ï¼‰çš„å¤–éƒ¨å±æ€§ç»‘å®šåˆ°åº”ç”¨ç¨‹åºä¸­ã€‚æ²¡æœ‰ï¼ˆå¹¶ä¸”åœ¨æŠ€æœ¯ä¸Šä¸å¯èƒ½ï¼‰å•ä¸ªä½ç½®ä¸­æ‰€æœ‰å—æ”¯æŒå±æ€§çš„è¯¦å°½åˆ—è¡¨ï¼Œå› ä¸ºè´¡çŒ®å¯ä»¥æ¥è‡ªç±»è·¯å¾„ä¸Šçš„å…¶ä»–jaræ–‡ä»¶ã€‚

å…·æœ‰ActuatoråŠŸèƒ½çš„æ­£åœ¨è¿è¡Œçš„åº”ç”¨ç¨‹åºå…·æœ‰`configprops`ç«¯ç‚¹ï¼Œè¯¥ç«¯ç‚¹æ˜¾ç¤ºé€šè¿‡`@ConfigurationProperties`å¯ç”¨çš„æ‰€æœ‰ç»‘å®šå’Œå¯ç»‘å®šå±æ€§ã€‚

é™„å½•ä¸­åŒ…å«ä¸€ä¸ª[`application.properties`](#common-application-properties "é™„å½•A.å¸¸ç”¨åº”ç”¨ç¨‹åºå±æ€§")ç¤ºä¾‹ï¼Œå…¶ä¸­åˆ—å‡ºäº†Spring Bootæ”¯æŒçš„æœ€å¸¸è§å±æ€§ã€‚æœ€ç»ˆåˆ—è¡¨æ¥è‡ªäºæœç´¢`@ConfigurationProperties`å’Œ`@Value`æ³¨é‡Šçš„æºä»£ç ä»¥åŠå¶å°”ä½¿ç”¨`Binder`ã€‚æœ‰å…³åŠ è½½å±æ€§çš„ç¡®åˆ‡é¡ºåºçš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è§â€œ [ç¬¬24ç« ï¼Œ_å¤–éƒ¨åŒ–é…ç½®_](#boot-features-external-config "24.å¤–éƒ¨é…ç½®") â€ã€‚

78.åµŒå…¥å¼WebæœåŠ¡å™¨
------------

æ¯ä¸ªSpring Boot Webåº”ç”¨ç¨‹åºéƒ½åŒ…å«ä¸€ä¸ªåµŒå…¥å¼WebæœåŠ¡å™¨ã€‚æ­¤åŠŸèƒ½ä¼šå¯¼è‡´è®¸å¤šæ“ä½œæ–¹æ³•é—®é¢˜ï¼ŒåŒ…æ‹¬å¦‚ä½•æ›´æ”¹åµŒå…¥å¼æœåŠ¡å™¨ä»¥åŠå¦‚ä½•é…ç½®åµŒå…¥å¼æœåŠ¡å™¨ã€‚æœ¬èŠ‚å›ç­”äº†è¿™äº›é—®é¢˜ã€‚

78.1ä½¿ç”¨å…¶ä»–WebæœåŠ¡å™¨
--------------

è®¸å¤šSpring Bootå¯åŠ¨å™¨åŒ…æ‹¬é»˜è®¤åµŒå…¥å¼å®¹å™¨ã€‚

*   å¯¹äºservletå †æ ˆåº”ç”¨ç¨‹åºï¼Œ`spring-boot-starter-web`åŒ…æ‹¬`spring-boot-starter-tomcat`åŒ…å«Tomcatï¼Œä½†æ‚¨å¯ä»¥ä½¿ç”¨`spring-boot-starter-jetty`æˆ–`spring-boot-starter-undertow`ã€‚
*   å¯¹äºååº”å †æ ˆåº”ç”¨ç¨‹åºï¼Œ`spring-boot-starter-webflux`åŒ…æ‹¬`spring-boot-starter-reactor-netty`åŒ…å«Reactor Nettyï¼Œä½†æ‚¨å¯ä»¥ä½¿ç”¨`spring-boot-starter-tomcat`ï¼Œ`spring-boot-starter-jetty`æˆ–`spring-boot-starter-undertow`ã€‚

åˆ‡æ¢åˆ°å…¶ä»–HTTPæœåŠ¡å™¨æ—¶ï¼Œé™¤äº†åŒ…å«æ‰€éœ€çš„ä¾èµ–é¡¹å¤–ï¼Œè¿˜éœ€è¦æ’é™¤é»˜è®¤ä¾èµ–é¡¹ã€‚Spring Bootä¸ºHTTPæœåŠ¡å™¨æä¾›å•ç‹¬çš„å¯åŠ¨ç¨‹åºï¼Œä»¥å¸®åŠ©ä½¿æ­¤è¿‡ç¨‹å°½å¯èƒ½ç®€å•ã€‚

ä»¥ä¸‹Mavenç¤ºä¾‹æ˜¾ç¤ºäº†å¦‚ä½•æ’é™¤Tomcatå¹¶ä¸ºSpring MVCåŒ…å«Jettyï¼š

```
<properties>
	<servlet-api.version>3.1.0</servlet-api.version>
</properties>
<dependency>
	<groupId>org.springframework.boot</groupId>
	<artifactId>spring-boot-starter-web</artifactId>
	<exclusions>
		<!-- Exclude the Tomcat dependency -->
		<exclusion>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-tomcat</artifactId>
		</exclusion>
	</exclusions>
</dependency>
<!-- Use Jetty instead -->
<dependency>
	<groupId>org.springframework.boot</groupId>
	<artifactId>spring-boot-starter-jetty</artifactId>
</dependency>
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>Servlet APIçš„ç‰ˆæœ¬å·²è¢«è¦†ç›–ï¼Œä¸Tomcat 9å’ŒUndertow 2.0ä¸åŒï¼ŒJetty 9.4ä¸æ”¯æŒServlet 4.0ã€‚</p></td></tr></tbody></table>

ä»¥ä¸‹Gradleç¤ºä¾‹æ˜¾ç¤ºäº†å¦‚ä½•æ’é™¤Nettyå¹¶ä¸ºSpring WebFluxåŒ…å«Undertowï¼š

```
configurations {
	// exclude Reactor Netty
	compile.exclude module: 'spring-boot-starter-reactor-netty'
}

dependencies {
	compile 'org.springframework.boot:spring-boot-starter-webflux'
	// Use Undertow instead
	compile 'org.springframework.boot:spring-boot-starter-undertow'
	// ...
}
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>ä½¿ç”¨<code class="literal" i="3159">WebClient</code>ç±»éœ€è¦<code class="literal" i="3158">spring-boot-starter-reactor-netty</code>ï¼Œå› æ­¤å³ä½¿éœ€è¦åŒ…å«ä¸åŒçš„HTTPæœåŠ¡å™¨ï¼Œä¹Ÿå¯èƒ½éœ€è¦ä¾èµ–Nettyã€‚</p></td></tr></tbody></table>

78.2ç¦ç”¨WebæœåŠ¡å™¨
------------

å¦‚æœæ‚¨çš„ç±»è·¯å¾„åŒ…å«å¯åŠ¨WebæœåŠ¡å™¨æ‰€éœ€çš„ä½ï¼ŒSpring Bootå°†è‡ªåŠ¨å¯åŠ¨å®ƒã€‚è¦ç¦ç”¨æ­¤è¡Œä¸ºï¼Œè¯·åœ¨`application.properties`ä¸­é…ç½®`WebApplicationType`ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
spring.main.web-application-type=none
```

78.3æ›´æ”¹HTTPç«¯å£
------------

åœ¨ç‹¬ç«‹åº”ç”¨ç¨‹åºä¸­ï¼Œä¸»HTTPç«¯å£é»˜è®¤ä¸º`8080`ï¼Œä½†å¯ä»¥ä½¿ç”¨`server.port`è®¾ç½®ï¼ˆä¾‹å¦‚ï¼Œåœ¨`application.properties`æˆ–ä½œä¸ºç³»ç»Ÿå±æ€§ï¼‰ã€‚ç”±äºè½»æ¾ç»‘å®š`Environment`å€¼ï¼Œæ‚¨è¿˜å¯ä»¥ä½¿ç”¨`SERVER_PORT`ï¼ˆä¾‹å¦‚ï¼Œä½œä¸ºOSç¯å¢ƒå˜é‡ï¼‰ã€‚

è¦å®Œå…¨å…³é—­HTTPç«¯ç‚¹ä½†ä»ç„¶åˆ›å»º`WebApplicationContext`ï¼Œè¯·ä½¿ç”¨`server.port=-1`ã€‚ï¼ˆè¿™æ ·åšæœ‰æ—¶å¯¹æµ‹è¯•å¾ˆæœ‰ç”¨ã€‚ï¼‰

æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…â€œ Spring BootåŠŸèƒ½â€éƒ¨åˆ†ä¸­çš„â€œ [ç¬¬28.4.4èŠ‚](#boot-features-customizing-embedded-containers "28.4.4è‡ªå®šä¹‰åµŒå…¥å¼Servletå®¹å™¨") â€ [ï¼Œâ€œè‡ªå®šä¹‰åµŒå…¥å¼Servletå®¹å™¨â€](#boot-features-customizing-embedded-containers "28.4.4Â Customizing Embedded Servlet Containers")æˆ– [`ServerProperties`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/ServerProperties.java)æºä»£ç ã€‚

78.4ä½¿ç”¨éšæœºæœªåˆ†é…çš„HTTPç«¯å£
------------------

è¦æ‰«æç©ºé—²ç«¯å£ï¼ˆä½¿ç”¨OSæœ¬æœºæ¥é˜²æ­¢å†²çªï¼‰ï¼Œè¯·ä½¿ç”¨`server.port=0`ã€‚

78.5åœ¨è¿è¡Œæ—¶å‘ç°HTTPç«¯å£
----------------

æ‚¨å¯ä»¥ä»æ—¥å¿—è¾“å‡ºæˆ–`ServletWebServerApplicationContext`åˆ°`WebServer`è®¿é—®æœåŠ¡å™¨è¿è¡Œçš„ç«¯å£ã€‚è·å¾—å®ƒå¹¶ç¡®ä¿å®ƒå·²è¢«åˆå§‹åŒ–çš„æœ€ä½³æ–¹æ³•æ˜¯æ·»åŠ `@Bean`ç±»å‹`ApplicationListener<ServletWebServerInitializedEvent>`å¹¶åœ¨å‘å¸ƒæ—¶å°†å®¹å™¨æ‹‰å‡ºäº‹ä»¶ã€‚

ä½¿ç”¨`@SpringBootTest(webEnvironment=WebEnvironment.RANDOM_PORT)`çš„æµ‹è¯•ä¹Ÿå¯ä»¥ä½¿ç”¨`@LocalServerPort`æ³¨é‡Šå°†å®é™…ç«¯å£æ³¨å…¥å­—æ®µï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
_@RunWith(SpringJUnit4ClassRunner.class)_
_@SpringBootTest(webEnvironment=WebEnvironment.RANDOM_PORT)_
public class MyWebIntegrationTests {

	_@Autowired_
	ServletWebServerApplicationContext server;

	_@LocalServerPort_
	int port;

	// ...

}
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p><code class="literal" i="3176">@LocalServerPort</code>æ˜¯<code class="literal" i="3177">@Value("${local.server.port}")</code>çš„å…ƒæ³¨é‡Šã€‚ä¸è¦å°è¯•åœ¨å¸¸è§„åº”ç”¨ç¨‹åºä¸­æ³¨å…¥ç«¯å£ã€‚æ­£å¦‚æˆ‘ä»¬åˆšåˆšçœ‹åˆ°çš„é‚£æ ·ï¼Œåªæœ‰åœ¨å®¹å™¨åˆå§‹åŒ–ä¹‹åæ‰è®¾ç½®è¯¥å€¼ã€‚ä¸æµ‹è¯•ç›¸åï¼Œåº”ç”¨ç¨‹åºä»£ç å›è°ƒä¼šå°½æ—©å¤„ç†ï¼ˆåœ¨å€¼å®é™…å¯ç”¨ä¹‹å‰ï¼‰ã€‚</p></td></tr></tbody></table>

78.6å¯ç”¨HTTPå“åº”å‹ç¼©
--------------

Jettyï¼ŒTomcatå’ŒUndertowæ”¯æŒHTTPå“åº”å‹ç¼©ã€‚å®ƒå¯ä»¥åœ¨`application.properties`ä¸­å¯ç”¨ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
server.compression.enabled=true
```

é»˜è®¤æƒ…å†µä¸‹ï¼Œå“åº”å¿…é¡»è‡³å°‘ä¸º2048å­—èŠ‚ï¼Œæ‰èƒ½æ‰§è¡Œå‹ç¼©ã€‚æ‚¨å¯ä»¥é€šè¿‡è®¾ç½®`server.compression.min-response-size`å±æ€§æ¥é…ç½®æ­¤è¡Œä¸ºã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼Œåªæœ‰åœ¨å†…å®¹ç±»å‹ä¸ºä»¥ä¸‹å†…å®¹ä¹‹ä¸€æ—¶æ‰ä¼šå‹ç¼©å“åº”ï¼š

*   `text/html`
*   `text/xml`
*   `text/plain`
*   `text/css`
*   `text/javascript`
*   `application/javascript`
*   `application/json`
*   `application/xml`

æ‚¨å¯ä»¥é€šè¿‡è®¾ç½®`server.compression.mime-types`å±æ€§æ¥é…ç½®æ­¤è¡Œä¸ºã€‚

78.7é…ç½®SSL
---------

å¯ä»¥é€šè¿‡è®¾ç½®å„ç§`server.ssl.*`å±æ€§ä»¥å£°æ˜æ–¹å¼é…ç½®SSLï¼Œé€šå¸¸åœ¨`application.properties`æˆ–`application.yml`ã€‚ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†åœ¨`application.properties`ä¸­è®¾ç½®SSLå±æ€§ï¼š

```
server.port=8443
server.ssl.key-store=classpath:keystore.jks
server.ssl.key-store-password=secret
server.ssl.key-password=another-secret
```

æœ‰å…³[`Ssl`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/web/server/Ssl.java)æ‰€æœ‰æ”¯æŒçš„å±æ€§çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…ã€‚

ä½¿ç”¨ä¸Šè¿°ç¤ºä¾‹ä¹‹ç±»çš„é…ç½®æ„å‘³ç€åº”ç”¨ç¨‹åºä¸å†æ”¯æŒç«¯å£8080ä¸Šçš„æ™®é€šHTTPè¿æ¥å™¨ã€‚Spring Bootä¸æ”¯æŒé€šè¿‡`application.properties`é…ç½®HTTPè¿æ¥å™¨å’ŒHTTPSè¿æ¥å™¨ã€‚å¦‚æœè¦åŒæ—¶ä½¿ç”¨è¿™ä¸¤è€…ï¼Œåˆ™éœ€è¦ä»¥ç¼–ç¨‹æ–¹å¼é…ç½®å…¶ä¸­ä¸€ä¸ªã€‚æˆ‘ä»¬å»ºè®®ä½¿ç”¨`application.properties`é…ç½®HTTPSï¼Œå› ä¸ºHTTPè¿æ¥å™¨æ›´å®¹æ˜“ä»¥ç¼–ç¨‹æ–¹å¼é…ç½®ã€‚æœ‰å…³[`spring-boot-sample-tomcat-multi-connectors`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-samples/spring-boot-sample-tomcat-multi-connectors) ç¤ºä¾‹ï¼Œè¯·å‚é˜… ç¤ºä¾‹é¡¹ç›®ã€‚

78.8é…ç½®HTTP / 2
--------------

æ‚¨å¯ä»¥ä½¿ç”¨`server.http2.enabled`é…ç½®å±æ€§åœ¨Spring Bootåº”ç”¨ç¨‹åºä¸­å¯ç”¨HTTP / 2æ”¯æŒã€‚æ­¤æ”¯æŒå–å†³äºæ‰€é€‰çš„WebæœåŠ¡å™¨å’Œåº”ç”¨ç¨‹åºç¯å¢ƒï¼Œå› ä¸ºJDK8ä¸æ”¯æŒè¯¥åè®®ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>Spring Bootä¸æ”¯æŒ<code class="literal" i="3188">h2c</code>ï¼Œå³HTTP / 2åè®®çš„æ˜æ–‡ç‰ˆæœ¬ã€‚å› æ­¤ï¼Œæ‚¨å¿…é¡»å…ˆ<a class="link" href="#howto-configure-ssl" title="78.7é…ç½®SSL">é…ç½®SSL</a>ã€‚</p></td></tr></tbody></table>

### 78.8.1å¸¦æœ‰Undertowçš„HTTP / 2

ä»Undertow 1.4.0+å¼€å§‹ï¼Œæ”¯æŒHTTP / 2ï¼Œå¯¹JDK8æ²¡æœ‰ä»»ä½•é¢å¤–è¦æ±‚ã€‚

### 78.8.2å¸¦Jettyçš„HTTP / 2

ä»Jetty 9.4.8å¼€å§‹ï¼Œ[Conscryptåº“](https://www.conscrypt.org/)ä¹Ÿæ”¯æŒHTTP / 2 ã€‚è¦å¯ç”¨è¯¥æ”¯æŒï¼Œæ‚¨çš„åº”ç”¨ç¨‹åºéœ€è¦æœ‰ä¸¤ä¸ªé¢å¤–çš„ä¾èµ–é¡¹ï¼š`org.eclipse.jetty:jetty-alpn-conscrypt-server`å’Œ`org.eclipse.jetty.http2:http2-server`ã€‚

### 78.8.3ä½¿ç”¨Tomcatçš„HTTP / 2

Spring Booté»˜è®¤ä½¿ç”¨Tomcat 9.0.xï¼Œå®ƒåœ¨ä½¿ç”¨JDK 9æˆ–æ›´é«˜ç‰ˆæœ¬æ—¶æ”¯æŒHTTP / 2å¼€ç®±å³ç”¨ã€‚æˆ–è€…ï¼Œå¦‚æœåœ¨ä¸»æœºæ“ä½œç³»ç»Ÿä¸Šå®‰è£…äº†`libtcnative`åº“åŠå…¶ä¾èµ–é¡¹ï¼Œåˆ™å¯ä»¥åœ¨JDK 8ä¸Šä½¿ç”¨HTTP / 2ã€‚

å¿…é¡»ä½¿åº“æ–‡ä»¶å¤¹ï¼ˆå¦‚æœå°šæœªå¯ç”¨ï¼‰åˆ°JVMåº“è·¯å¾„ã€‚æ‚¨å¯ä»¥ä½¿ç”¨`-Djava.library.path=/usr/local/opt/tomcat-native/lib`ç­‰JVMå‚æ•°æ‰§è¡Œæ­¤æ“ä½œã€‚æœ‰å…³[Tomcatå®˜æ–¹æ–‡æ¡£çš„](https://tomcat.apache.org/tomcat-9.0-doc/apr.html)æ›´å¤š [ä¿¡æ¯](https://tomcat.apache.org/tomcat-9.0-doc/apr.html)ã€‚

åœ¨æ²¡æœ‰è¯¥æœ¬æœºæ”¯æŒçš„æƒ…å†µä¸‹åœ¨JDK 8ä¸Šå¯åŠ¨Tomcat 9.0.xä¼šè®°å½•ä»¥ä¸‹é”™è¯¯ï¼š

```
ERROR 8787 --- [           main] o.a.coyote.http11.Http11NioProtocol      : The upgrade handler [org.apache.coyote.http2.Http2Protocol] for [h2] only supports upgrade via ALPN but has been configured for the ["https-jsse-nio-8443"] connector that does not support ALPN.
```

æ­¤é”™è¯¯ä¸æ˜¯è‡´å‘½çš„ï¼Œåº”ç”¨ç¨‹åºä»ç„¶ä»¥HTTP / 1.1 SSLæ”¯æŒå¯åŠ¨ã€‚

### 78.8.4å¸¦æœ‰Reactor Nettyçš„HTTP / 2

`spring-boot-webflux-starter`é»˜è®¤ä½¿ç”¨Reactor Nettyä½œä¸ºæœåŠ¡å™¨ã€‚å¯ä»¥ä½¿ç”¨JDK 9æˆ–æ›´é«˜ç‰ˆæœ¬çš„JDKæ”¯æŒä¸ºReactor Nettyé…ç½®HTTP / 2ã€‚å¯¹äºJDK 8ç¯å¢ƒæˆ–æœ€ä½³è¿è¡Œæ—¶æ€§èƒ½ï¼Œæ­¤æœåŠ¡å™¨è¿˜æ”¯æŒå…·æœ‰æœ¬æœºåº“çš„HTTP / 2ã€‚è¦å¯ç”¨å®ƒï¼Œæ‚¨çš„åº”ç”¨ç¨‹åºéœ€è¦å…·æœ‰å…¶ä»–ä¾èµ–é¡¹ã€‚

Spring Bootç®¡ç†`io.netty:netty-tcnative-boringssl-static`â€œè¶…çº§jarâ€çš„ç‰ˆæœ¬ï¼ŒåŒ…å«æ‰€æœ‰å¹³å°çš„æœ¬æœºåº“ã€‚å¼€å‘äººå‘˜å¯ä»¥é€‰æ‹©ä½¿ç”¨åˆ†ç±»å™¨ä»…å¯¼å…¥æ‰€éœ€çš„ä¾èµ–é¡¹ï¼ˆè¯·å‚é˜…[Nettyå®˜æ–¹æ–‡æ¡£](http://netty.io/wiki/forked-tomcat-native.html)ï¼‰ã€‚

78.9é…ç½®WebæœåŠ¡å™¨
------------

é€šå¸¸ï¼Œæ‚¨åº”é¦–å…ˆè€ƒè™‘ä½¿ç”¨ä¼—å¤šå¯ç”¨é…ç½®é”®ä¸­çš„ä¸€ä¸ªï¼Œå¹¶é€šè¿‡åœ¨`application.properties`ï¼ˆæˆ–`application.yml`æˆ–ç¯å¢ƒç­‰ï¼‰ä¸­æ·»åŠ æ–°æ¡ç›®æ¥è‡ªå®šä¹‰æ‚¨çš„WebæœåŠ¡å™¨ã€‚è¯·å‚é˜…â€œ [ç¬¬77.8èŠ‚â€ï¼Œâ€œå‘ç°å†…ç½®â€åœ¨å¤–éƒ¨å±æ€§é€‰é¡¹ä¸­â€œ](#howto-discover-build-in-options-for-external-properties "77.8å‘ç°å¤–éƒ¨å±æ€§çš„å†…ç½®é€‰é¡¹") â€ï¼‰ã€‚`server.*`å‘½åç©ºé—´åœ¨è¿™é‡Œéå¸¸æœ‰ç”¨ï¼Œå®ƒåŒ…æ‹¬`server.tomcat.*`ï¼Œ`server.jetty.*`ç­‰åç§°ç©ºé—´ï¼Œç”¨äºç‰¹å®šäºæœåŠ¡å™¨çš„åŠŸèƒ½ã€‚è¯·å‚é˜…[é™„å½•Aï¼Œ_å¸¸è§åº”ç”¨ç¨‹åºå±æ€§_](#common-application-properties "é™„å½•A.å¸¸ç”¨åº”ç”¨ç¨‹åºå±æ€§")åˆ—è¡¨ã€‚

å‰é¢çš„éƒ¨åˆ†æ¶µç›–äº†è®¸å¤šå¸¸è§ç”¨ä¾‹ï¼Œä¾‹å¦‚å‹ç¼©ï¼ŒSSLæˆ–HTTP / 2ã€‚ä½†æ˜¯ï¼Œå¦‚æœæ‚¨çš„ç”¨ä¾‹ä¸å­˜åœ¨é…ç½®å¯†é’¥ï¼Œåˆ™åº”è¯¥æŸ¥çœ‹ [`WebServerFactoryCustomizer`](https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/web/server/WebServerFactoryCustomizer.html)ã€‚æ‚¨å¯ä»¥å£°æ˜è¿™æ ·çš„ç»„ä»¶å¹¶è·å¾—ä¸æ‚¨é€‰æ‹©çš„æœåŠ¡å™¨å·¥å‚ç›¸å…³çš„è®¿é—®æƒé™ï¼šæ‚¨åº”è¯¥ä¸ºæ‰€é€‰æœåŠ¡å™¨ï¼ˆTomcatï¼ŒJettyï¼ŒReactor Nettyï¼ŒUndertowï¼‰å’Œæ‰€é€‰Webå †æ ˆï¼ˆServletæˆ–Reactiveï¼‰é€‰æ‹©å˜ä½“ã€‚

ä»¥ä¸‹ç¤ºä¾‹é€‚ç”¨äºå…·æœ‰`spring-boot-starter-web`ï¼ˆServletå †æ ˆï¼‰çš„Tomcatï¼š

```
_@Component_
public class MyTomcatWebServerCustomizer
		implements WebServerFactoryCustomizer<TomcatServletWebServerFactory> {

	_@Override_
	public void customize(TomcatServletWebServerFactory factory) {
		// customize the factory here
	}
}
```

æ­¤å¤–ï¼ŒSpring Bootæä¾›ï¼š

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"><col class="col_3"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">æœåŠ¡å™¨</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">Servletå †æ ˆ</th><th style="border-bottom: 1px solid ; " align="left" valign="top">ååº”å †æ ˆ</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Tomcat</p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">TomcatServletWebServerFactory</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">TomcatReactiveWebServerFactory</code></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Jetty</p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">JettyServletWebServerFactory</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">JettyReactiveWebServerFactory</code></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Undertow</p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">UndertowServletWebServerFactory</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">UndertowReactiveWebServerFactory</code></p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p>Reactor</p></td><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p>N/A</p></td><td style="" align="left" valign="top" class="notranslate"><p><code class="literal">NettyReactiveWebServerFactory</code></p></td></tr></tbody></table>

ä¸€æ—¦æ‚¨æœ‰æƒè®¿é—®`WebServerFactory`ï¼Œæ‚¨é€šå¸¸å¯ä»¥å‘å…¶æ·»åŠ å®šåˆ¶å™¨ä»¥é…ç½®ç‰¹å®šéƒ¨ä»¶ï¼Œä¾‹å¦‚è¿æ¥å™¨ï¼ŒæœåŠ¡å™¨èµ„æºæˆ–æœåŠ¡å™¨æœ¬èº« - æ‰€æœ‰è¿™äº›éƒ½ä½¿ç”¨ç‰¹å®šäºæœåŠ¡å™¨çš„APIã€‚

ä½œä¸ºæœ€åçš„æ‰‹æ®µï¼Œæ‚¨è¿˜å¯ä»¥å£°æ˜è‡ªå·±çš„`WebServerFactory`ç»„ä»¶ï¼Œè¯¥ç»„ä»¶å°†è¦†ç›–Spring Bootæä¾›çš„ç»„ä»¶ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨ä¸èƒ½å†ä¾èµ–`server`å‘½åç©ºé—´ä¸­çš„é…ç½®å±æ€§ã€‚

78.10å‘åº”ç”¨ç¨‹åºæ·»åŠ Servletï¼Œè¿‡æ»¤å™¨æˆ–ç›‘å¬å™¨
---------------------------

åœ¨servletå †æ ˆåº”ç”¨ç¨‹åºä¸­ï¼Œå³ä½¿ç”¨`spring-boot-starter-web`ï¼Œæœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥å°†`Servlet`ï¼Œ`Filter`ï¼Œ`ServletContextListener`ä»¥åŠServlet APIæ”¯æŒçš„å…¶ä»–ä¾¦å¬å™¨æ·»åŠ åˆ°åº”ç”¨ç¨‹åºä¸­ï¼š

*   [ç¬¬78.10.1èŠ‚â€œä½¿ç”¨Spring Beanæ·»åŠ Servletï¼Œè¿‡æ»¤å™¨æˆ–ç›‘å¬å™¨â€](#howto-add-a-servlet-filter-or-listener-as-spring-bean "78.10.1ä½¿ç”¨Spring Beanæ·»åŠ Servletï¼Œè¿‡æ»¤å™¨æˆ–ç›‘å¬å™¨")
*   [éƒ¨åˆ†78.10.2ï¼Œâ€œä½¿ç”¨ç±»è·¯å¾„æ‰«ææ·»åŠ Servletï¼Œè¿‡æ»¤å™¨å’Œç›‘å¬å™¨â€](#howto-add-a-servlet-filter-or-listener-using-scanning "78.10.2ä½¿ç”¨ç±»è·¯å¾„æ‰«ææ·»åŠ Servletï¼Œè¿‡æ»¤å™¨å’Œç›‘å¬å™¨")

### 78.10.1ä½¿ç”¨Spring Beanæ·»åŠ Servletï¼Œè¿‡æ»¤å™¨æˆ–ç›‘å¬å™¨

è¦ä½¿ç”¨Spring beanæ·»åŠ `Servlet`ï¼Œ`Filter`æˆ–Servlet `*Listener`ï¼Œæ‚¨å¿…é¡»ä¸ºå…¶æä¾›`@Bean`å®šä¹‰ã€‚å½“æ‚¨æƒ³è¦æ³¨å…¥é…ç½®æˆ–ä¾èµ–é¡¹æ—¶ï¼Œè¿™æ ·åšéå¸¸æœ‰ç”¨ã€‚ä½†æ˜¯ï¼Œæ‚¨å¿…é¡»éå¸¸å°å¿ƒï¼Œå®ƒä»¬ä¸ä¼šå¯¼è‡´å¤ªå¤šå…¶ä»–beansçš„åˆå§‹åŒ–ï¼Œå› ä¸ºå®ƒä»¬å¿…é¡»åœ¨åº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸçš„æ—©æœŸå®‰è£…åœ¨å®¹å™¨ä¸­ã€‚ï¼ˆä¾‹å¦‚ï¼Œè®©å®ƒä»¬ä¾èµ–äºæ‚¨çš„`DataSource`æˆ–JPAé…ç½®å¹¶ä¸æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ã€‚ï¼‰æ‚¨å¯ä»¥é€šè¿‡åœ¨é¦–æ¬¡ä½¿ç”¨è€Œä¸æ˜¯åˆå§‹åŒ–æ—¶æ‡’æƒ°åœ°åˆå§‹åŒ–beansæ¥è§£å†³æ­¤ç±»é™åˆ¶ã€‚

å¯¹äº`Filters`å’Œ`Servlets`ï¼Œæ‚¨è¿˜å¯ä»¥é€šè¿‡æ·»åŠ `FilterRegistrationBean`æˆ–`ServletRegistrationBean`æ¥ä»£æ›¿æˆ–æ·»åŠ åŸºç¡€ç»„ä»¶æ¥æ·»åŠ æ˜ å°„å’Œåˆå§‹åŒ–å‚æ•°ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å¦‚æœåœ¨è¿‡æ»¤å™¨æ³¨å†Œä¸­æœªæŒ‡å®š<code class="literal" i="3217">dispatcherType</code>ï¼Œåˆ™ä½¿ç”¨<code class="literal" i="3218">REQUEST</code>ã€‚è¿™ä¸Servletè§„èŒƒçš„é»˜è®¤è°ƒåº¦ç¨‹åºç±»å‹ä¸€è‡´ã€‚</p></td></tr></tbody></table>

ä¸ä»»ä½•å…¶ä»–Spring beanä¸€æ ·ï¼Œæ‚¨å¯ä»¥å®šä¹‰Servletè¿‡æ»¤å™¨beansçš„é¡ºåº; è¯·åŠ¡å¿…æŸ¥çœ‹â€œ [åä¸ºâ€æ³¨å†ŒServletï¼Œè¿‡æ»¤å™¨å’Œç›‘å¬å™¨çš„éƒ¨åˆ†ä¸ºSpring Beansâ€œ](#boot-features-embedded-container-servlets-filters-listeners-beans "å°†Servletï¼Œè¿‡æ»¤å™¨å’Œç›‘å¬å™¨æ³¨å†Œä¸ºSpring Bean") â€éƒ¨åˆ†ã€‚

#### ç¦ç”¨Servletæˆ–è¿‡æ»¤å™¨çš„æ³¨å†Œ

æ­£å¦‚[å‰é¢æ‰€è¿°](#howto-add-a-servlet-filter-or-listener-as-spring-bean "78.10.1ä½¿ç”¨Spring Beanæ·»åŠ Servletï¼Œè¿‡æ»¤å™¨æˆ–ç›‘å¬å™¨")ï¼Œä»»ä½•`Servlet`æˆ–`Filter` beansä¸è‡ªåŠ¨servletå®¹å™¨ç™»è®°ã€‚è¦ç¦ç”¨ç‰¹å®š`Filter`æˆ–`Servlet` beançš„æ³¨å†Œï¼Œè¯·ä¸ºå…¶åˆ›å»ºæ³¨å†Œbeanå¹¶å°†å…¶æ ‡è®°ä¸ºå·²ç¦ç”¨ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
_@Bean_
public FilterRegistrationBean registration(MyFilter filter) {
	FilterRegistrationBean registration = new FilterRegistrationBean(filter);
	registration.setEnabled(false);
	return registration;
}
```

### 78.10.2ä½¿ç”¨ç±»è·¯å¾„æ‰«ææ·»åŠ Servletï¼Œè¿‡æ»¤å™¨å’Œç›‘å¬å™¨

é€šè¿‡ä½¿ç”¨`@ServletComponentScan`æ³¨é‡Š`@Configuration`ç±»å¹¶æŒ‡å®šåŒ…å«ç»„ä»¶çš„åŒ…ï¼Œå¯ä»¥ä½¿ç”¨åµŒå…¥å¼servletå®¹å™¨è‡ªåŠ¨æ³¨å†Œ`@WebServlet`ï¼Œ`@WebFilter`å’Œ`@WebListener`å¸¦æ³¨é‡Šçš„ç±»ä½ æƒ³æ³¨å†Œã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ`@ServletComponentScan`ä»å¸¦æ³¨é‡Šçš„ç±»çš„åŒ…ä¸­è¿›è¡Œæ‰«æã€‚

78.11é…ç½®è®¿é—®æ—¥å¿—è®°å½•
-------------

å¯ä»¥é€šè¿‡å„è‡ªçš„å‘½åç©ºé—´ä¸ºTomcatï¼ŒUndertowå’ŒJettyé…ç½®è®¿é—®æ—¥å¿—ã€‚

ä¾‹å¦‚ï¼Œä»¥ä¸‹è®¾ç½®ä½¿ç”¨[è‡ªå®šä¹‰æ¨¡å¼](https://tomcat.apache.org/tomcat-8.5-doc/config/valve.html#Access_Logging)åœ¨Tomcatä¸Šè®°å½•è®¿é—®æƒé™ ã€‚

```
server.tomcat.basedir=my-tomcat
server.tomcat.accesslog.enabled=true
server.tomcat.accesslog.pattern=%t %a "%r" %s (%D ms)
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>æ—¥å¿—çš„é»˜è®¤ä½ç½®æ˜¯ç›¸å¯¹äºTomcatåŸºç›®å½•çš„<code class="literal" i="3229">logs</code>ç›®å½•ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code class="literal" i="3230">logs</code>ç›®å½•æ˜¯ä¸´æ—¶ç›®å½•ï¼Œå› æ­¤æ‚¨å¯èƒ½å¸Œæœ›ä¿®å¤Tomcatçš„åŸºç›®å½•æˆ–ä½¿ç”¨æ—¥å¿—çš„ç»å¯¹è·¯å¾„ã€‚åœ¨å‰é¢çš„ç¤ºä¾‹ä¸­ï¼Œæ—¥å¿—åœ¨<code class="literal" i="3231">my-tomcat/logs</code>ä¸­ç›¸å¯¹äºåº”ç”¨ç¨‹åºçš„å·¥ä½œç›®å½•å¯ç”¨ã€‚</p></td></tr></tbody></table>

å¯ä»¥ä»¥ç±»ä¼¼çš„æ–¹å¼é…ç½®Undertowçš„è®¿é—®æ—¥å¿—è®°å½•ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
server.undertow.accesslog.enabled=true
server.undertow.accesslog.pattern=%t %a "%r" %s (%D ms)
```

æ—¥å¿—å­˜å‚¨åœ¨ç›¸å¯¹äºåº”ç”¨ç¨‹åºå·¥ä½œç›®å½•çš„`logs`ç›®å½•ä¸­ã€‚æ‚¨å¯ä»¥é€šè¿‡è®¾ç½®`server.undertow.accesslog.directory`å±æ€§æ¥è‡ªå®šä¹‰æ­¤ä½ç½®ã€‚

æœ€åï¼ŒJettyçš„è®¿é—®æ—¥å¿—è®°å½•ä¹Ÿå¯ä»¥é…ç½®å¦‚ä¸‹ï¼š

```
server.jetty.accesslog.enabled=true
server.jetty.accesslog.filename=/var/log/jetty-access.log
```

é»˜è®¤æƒ…å†µä¸‹ï¼Œæ—¥å¿—ä¼šé‡å®šå‘åˆ°`System.err`ã€‚æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… [Jettyæ–‡æ¡£](https://www.eclipse.org/jetty/documentation/9.4.x/configuring-jetty-request-logs.html)ã€‚

78.12åœ¨å‰ç«¯ä»£ç†æœåŠ¡å™¨åé¢è¿è¡Œ
-----------------

æ‚¨çš„åº”ç”¨ç¨‹åºå¯èƒ½éœ€è¦å‘é€`302`é‡å®šå‘æˆ–ä½¿ç”¨ç»å¯¹é“¾æ¥å°†å†…å®¹å‘ˆç°å›è‡ªèº«ã€‚åœ¨ä»£ç†åé¢è¿è¡Œæ—¶ï¼Œè°ƒç”¨è€…éœ€è¦æŒ‡å‘ä»£ç†çš„é“¾æ¥ï¼Œè€Œä¸æ˜¯æ‰˜ç®¡åº”ç”¨ç¨‹åºçš„è®¡ç®—æœºçš„ç‰©ç†åœ°å€ã€‚é€šå¸¸ï¼Œè¿™ç§æƒ…å†µæ˜¯é€šè¿‡ä¸ä»£ç†çš„åˆåŒæ¥å¤„ç†çš„ï¼Œä»£ç†ä¼šæ·»åŠ æ ‡é¢˜ä»¥å‘Šè¯‰åç«¯å¦‚ä½•æ„å»ºè‡ªèº«é“¾æ¥ã€‚

å¦‚æœä»£ç†æ·»åŠ äº†ä¼ ç»Ÿçš„`X-Forwarded-For`å’Œ`X-Forwarded-Proto`æ ‡å¤´ï¼ˆå¤§å¤šæ•°ä»£ç†æœåŠ¡å™¨éƒ½è¿™æ ·åšï¼‰ï¼Œåˆ™åº”è¯¥æ­£ç¡®å‘ˆç°ç»å¯¹é“¾æ¥ï¼Œå‰ææ˜¯`application.properties`ä¸­çš„`server.use-forward-headers`è®¾ç½®ä¸º`application.properties`ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å¦‚æœæ‚¨çš„åº”ç”¨ç¨‹åºåœ¨Cloud Foundryæˆ–Herokuä¸­è¿è¡Œï¼Œåˆ™<code class="literal" i="3241">server.use-forward-headers</code>å±æ€§é»˜è®¤ä¸º<code class="literal" i="3242">true</code>ã€‚åœ¨æ‰€æœ‰å…¶ä»–æƒ…å†µä¸‹ï¼Œé»˜è®¤ä¸º<code class="literal" i="3243">false</code>ã€‚</p></td></tr></tbody></table>

### 78.12.1è‡ªå®šä¹‰Tomcatçš„ä»£ç†é…ç½®

å¦‚æœä½¿ç”¨Tomcatï¼Œè¿˜å¯ä»¥é…ç½®ç”¨äºæºå¸¦â€œè½¬å‘â€ä¿¡æ¯çš„æ ‡å¤´åç§°ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
server.tomcat.remote-ip-header=x-your-remote-ip-header
server.tomcat.protocol-header=x-your-protocol-header
```

Tomcatè¿˜é…ç½®äº†ä¸€ä¸ªé»˜è®¤æ­£åˆ™è¡¨è¾¾å¼ï¼Œè¯¥è¡¨è¾¾å¼åŒ¹é…è¦ä¿¡ä»»çš„å†…éƒ¨ä»£ç†ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ`10/8`ï¼Œ`192.168/16`ï¼Œ`169.254/16`å’Œ`127/8`ä¸­çš„IPåœ°å€æ˜¯å¯ä¿¡çš„ã€‚æ‚¨å¯ä»¥é€šè¿‡å‘`application.properties`æ·»åŠ æ¡ç›®æ¥è‡ªå®šä¹‰é˜€é—¨çš„é…ç½®ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
server.tomcat.internal-proxies=192\\.168\\.\\d{1,3}\\.\\d{1,3}
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>ä»…å½“ä½¿ç”¨å±æ€§æ–‡ä»¶è¿›è¡Œé…ç½®æ—¶æ‰éœ€è¦åŒåæ–œæ ã€‚å¦‚æœä½¿ç”¨YAMLï¼Œåˆ™å•ä¸ªåæ–œæ å°±è¶³å¤Ÿäº†ï¼Œå¹¶ä¸”ä¸å‰é¢ç¤ºä¾‹ä¸­æ˜¾ç¤ºçš„å€¼ç›¸ç­‰çš„å€¼ä¸º<code class="literal" i="3249">192\.168\.\d{1,3}\.\d{1,3}</code>ã€‚</p></td></tr></tbody></table><table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>æ‚¨å¯ä»¥é€šè¿‡å°†<code class="literal" i="3250">internal-proxies</code>è®¾ç½®ä¸ºç©ºï¼ˆä½†åœ¨ç”Ÿäº§ä¸­ä¸è¿™æ ·åšï¼‰æ¥ä¿¡ä»»æ‰€æœ‰ä»£ç†ã€‚</p></td></tr></tbody></table>

æ‚¨å¯ä»¥é€šè¿‡å…³é—­è‡ªåŠ¨å…³é—­ï¼ˆä¸ºæ­¤ï¼Œè®¾ç½®`server.use-forward-headers=false`ï¼‰å¹¶åœ¨`TomcatServletWebServerFactory` beanä¸­æ·»åŠ æ–°çš„é˜€é—¨å®ä¾‹æ¥å®Œå…¨æ§åˆ¶Tomcat `RemoteIpValve`çš„é…ç½®ã€‚

78.13ä½¿ç”¨Tomcatå¯ç”¨å¤šä¸ªè¿æ¥å™¨
--------------------

æ‚¨å¯ä»¥å°†`org.apache.catalina.connector.Connector`æ·»åŠ åˆ°`TomcatServletWebServerFactory`ï¼Œè¿™å¯ä»¥å…è®¸å¤šä¸ªè¿æ¥å™¨ï¼ŒåŒ…æ‹¬HTTPå’ŒHTTPSè¿æ¥å™¨ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
_@Bean_
public ServletWebServerFactory servletContainer() {
	TomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory();
	tomcat.addAdditionalTomcatConnectors(createSslConnector());
	return tomcat;
}

private Connector createSslConnector() {
	Connector connector = new Connector("org.apache.coyote.http11.Http11NioProtocol");
	Http11NioProtocol protocol = (Http11NioProtocol) connector.getProtocolHandler();
	try {
		File keystore = new ClassPathResource("keystore").getFile();
		File truststore = new ClassPathResource("keystore").getFile();
		connector.setScheme("https");
		connector.setSecure(true);
		connector.setPort(8443);
		protocol.setSSLEnabled(true);
		protocol.setKeystoreFile(keystore.getAbsolutePath());
		protocol.setKeystorePass("changeit");
		protocol.setTruststoreFile(truststore.getAbsolutePath());
		protocol.setTruststorePass("changeit");
		protocol.setKeyAlias("apitester");
		return connector;
	}
	catch (IOException ex) {
		throw new IllegalStateException("can't access keystore: [" + "keystore"
				+ "] or truststore: [" + "keystore" + "]", ex);
	}
}
```

78.14ä½¿ç”¨Tomcatçš„LegacyCookieProcessor
-----------------------------------

é»˜è®¤æƒ…å†µä¸‹ï¼ŒSpring Bootä½¿ç”¨çš„åµŒå…¥å¼Tomcatä¸æ”¯æŒCookieæ ¼å¼çš„â€œVersion 0â€ï¼Œå› æ­¤æ‚¨å¯èƒ½ä¼šçœ‹åˆ°ä»¥ä¸‹é”™è¯¯ï¼š

```
java.lang.IllegalArgumentException: An invalid character [32] was present in the Cookie value
```

å¦‚æœå¯èƒ½çš„è¯ï¼Œæ‚¨åº”è¯¥è€ƒè™‘å°†ä»£ç æ›´æ–°ä¸ºä»…å­˜å‚¨ç¬¦åˆä»¥åCookieè§„èŒƒçš„å€¼ã€‚ä½†æ˜¯ï¼Œå¦‚æœæ‚¨æ— æ³•æ›´æ”¹cookieçš„ç¼–å†™æ–¹å¼ï¼Œåˆ™å¯ä»¥å°†Tomcaté…ç½®ä¸ºä½¿ç”¨`LegacyCookieProcessor`ã€‚è¦åˆ‡æ¢åˆ°`LegacyCookieProcessor`ï¼Œè¯·ä½¿ç”¨æ·»åŠ `TomcatContextCustomizer`çš„`WebServerFactoryCustomizer` beanï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
_@Bean_
public WebServerFactoryCustomizer<TomcatServletWebServerFactory> cookieProcessorCustomizer() {
	return (factory) -> factory.addContextCustomizers(
			(context) -> context.setCookieProcessor(new LegacyCookieProcessor()));
}
```

78.15ä½¿ç”¨Undertowå¯ç”¨å¤šä¸ªä¾¦å¬å™¨
----------------------

å°†`UndertowBuilderCustomizer`æ·»åŠ åˆ°`UndertowServletWebServerFactory`å¹¶å‘`Builder`æ·»åŠ ä¸€ä¸ªä¾¦å¬å™¨ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
_@Bean_
public UndertowServletWebServerFactory servletWebServerFactory() {
	UndertowServletWebServerFactory factory = new UndertowServletWebServerFactory();
	factory.addBuilderCustomizers(new UndertowBuilderCustomizer() {

		_@Override_
		public void customize(Builder builder) {
			builder.addHttpListener(8080, "0.0.0.0");
		}

	});
	return factory;
}
```

78.16ä½¿ç”¨@ServerEndpointåˆ›å»ºWebSocketç«¯ç‚¹
-----------------------------------

å¦‚æœè¦åœ¨ä½¿ç”¨åµŒå…¥å¼å®¹å™¨çš„Spring Bootåº”ç”¨ç¨‹åºä¸­ä½¿ç”¨`@ServerEndpoint`ï¼Œåˆ™å¿…é¡»å£°æ˜å•ä¸ª`ServerEndpointExporter` `@Bean`ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
_@Bean_
public ServerEndpointExporter serverEndpointExporter() {
	return new ServerEndpointExporter();
}
```

å‰é¢ç¤ºä¾‹ä¸­æ˜¾ç¤ºçš„beanä½¿ç”¨åŸºç¡€WebSocketå®¹å™¨æ³¨å†Œä»»ä½•`@ServerEndpoint`å¸¦æ³¨é‡Šçš„beansã€‚å½“éƒ¨ç½²åˆ°ç‹¬ç«‹çš„servletå®¹å™¨æ—¶ï¼Œæ­¤è§’è‰²ç”±servletå®¹å™¨åˆå§‹åŒ–ç¨‹åºæ‰§è¡Œï¼Œè€Œä¸éœ€è¦`ServerEndpointExporter` beanã€‚

79. Spring MVC

--------------

Spring Bootæœ‰è®¸å¤šåŒ…æ‹¬Spring MVCçš„å…ˆå‘çƒå‘˜ã€‚è¯·æ³¨æ„ï¼ŒæŸäº›å¯åŠ¨å™¨åŒ…å«å¯¹Spring MVCçš„ä¾èµ–ï¼Œè€Œä¸æ˜¯ç›´æ¥åŒ…å«å®ƒã€‚æœ¬èŠ‚å›ç­”æœ‰å…³Spring MVCå’ŒSpring Bootçš„å¸¸è§é—®é¢˜ã€‚

79.1ç¼–å†™JSON RESTæœåŠ¡
-----------------

åªè¦Jackson2åœ¨ç±»è·¯å¾„ä¸­ï¼ŒSpring Bootåº”ç”¨ç¨‹åºä¸­çš„ä»»ä½•Spring `@RestController`éƒ½åº”é»˜è®¤å‘ˆç°JSONå“åº”ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
_@RestController_
public class MyController {

	_@RequestMapping("/thing")_
	public MyThing thing() {
			return new MyThing();
	}

}
```

åªè¦`MyThing`å¯ä»¥è¢«Jackson2åºåˆ—åŒ–ï¼ˆå¯¹äºæ™®é€šçš„POJOæˆ–Groovyå¯¹è±¡æ¥è¯´æ˜¯çœŸçš„ï¼‰ï¼Œé‚£ä¹ˆ`[localhost:8080/thing](http://localhost:8080/thing)`é»˜è®¤ä¸ºå®ƒæä¾›JSONè¡¨ç¤ºã€‚è¯·æ³¨æ„ï¼Œåœ¨æµè§ˆå™¨ä¸­ï¼Œæ‚¨æœ‰æ—¶å¯èƒ½ä¼šçœ‹åˆ°XMLå“åº”ï¼Œå› ä¸ºæµè§ˆå™¨å€¾å‘äºå‘é€æ›´å–œæ¬¢XMLçš„æ¥å—æ ‡å¤´ã€‚

79.2ç¼–å†™XML RESTæœåŠ¡
----------------

å¦‚æœç±»è·¯å¾„ä¸Šæœ‰Jackson XMLæ‰©å±•ï¼ˆ`jackson-dataformat-xml`ï¼‰ï¼Œåˆ™å¯ä»¥ä½¿ç”¨å®ƒæ¥å‘ˆç°XMLå“åº”ã€‚æˆ‘ä»¬ç”¨äºJSONçš„å‰ä¸€ä¸ªç¤ºä¾‹å¯ä»¥ä½¿ç”¨ã€‚è¦ä½¿ç”¨Jackson XMLæ¸²æŸ“å™¨ï¼Œè¯·å°†ä»¥ä¸‹ä¾èµ–é¡¹æ·»åŠ åˆ°é¡¹ç›®ä¸­ï¼š

```
<dependency>
	<groupId>com.fasterxml.jackson.dataformat</groupId>
	<artifactId>jackson-dataformat-xml</artifactId>
</dependency>
```

å¦‚æœJacksonçš„XMLæ‰©å±•ä¸å¯ç”¨ï¼Œåˆ™ä½¿ç”¨JAXBï¼ˆé»˜è®¤æƒ…å†µä¸‹åœ¨JDKä¸­æä¾›ï¼‰ï¼Œå¹¶é™„åŠ è¦æ±‚å°†`MyThing`æ³¨é‡Šä¸º`@XmlRootElement`ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
_@XmlRootElement_
public class MyThing {
	private String name;
	// .. getters and setters
}
```

è¦ä½¿æœåŠ¡å™¨å‘ˆç°XMLè€Œä¸æ˜¯JSONï¼Œæ‚¨å¯èƒ½å¿…é¡»å‘é€`Accept: text/xml`æ ‡å¤´ï¼ˆæˆ–ä½¿ç”¨æµè§ˆå™¨ï¼‰ã€‚

79.3è‡ªå®šä¹‰Jackson ObjectMapper
---------------------------

Spring MVCï¼ˆå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯ï¼‰ä½¿ç”¨`HttpMessageConverters`åå•†HTTPäº¤æ¢ä¸­çš„å†…å®¹è½¬æ¢ã€‚å¦‚æœJacksonåœ¨ç±»è·¯å¾„ä¸Šï¼Œåˆ™æ‚¨å·²è·å¾—`Jackson2ObjectMapperBuilder`æä¾›çš„é»˜è®¤è½¬æ¢å™¨ï¼Œå…¶å®ä¾‹å°†è‡ªåŠ¨ä¸ºæ‚¨é…ç½®ã€‚

`ObjectMapper`ï¼ˆæˆ–Jackson XMLè½¬æ¢å™¨çš„`XmlMapper`ï¼‰å®ä¾‹ï¼ˆé»˜è®¤åˆ›å»ºï¼‰å…·æœ‰ä»¥ä¸‹è‡ªå®šä¹‰å±æ€§ï¼š

*   `MapperFeature.DEFAULT_VIEW_INCLUSION`å·²åœç”¨
*   `DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES`å·²åœç”¨
*   `SerializationFeature.WRITE_DATES_AS_TIMESTAMPS`å·²åœç”¨

Spring Bootè¿˜å…·æœ‰ä¸€äº›åŠŸèƒ½ï¼Œå¯ä»¥æ›´è½»æ¾åœ°è‡ªå®šä¹‰æ­¤è¡Œä¸ºã€‚

æ‚¨å¯ä»¥ä½¿ç”¨ç¯å¢ƒé…ç½®`ObjectMapper`å’Œ`XmlMapper`å®ä¾‹ã€‚Jacksonæä¾›äº†ä¸€å¥—å¹¿æ³›çš„ç®€å•å¼€/å…³åŠŸèƒ½ï¼Œå¯ç”¨äºé…ç½®å…¶å¤„ç†çš„å„ä¸ªæ–¹é¢ã€‚è¿™äº›åŠŸèƒ½åœ¨å…­ä¸ªæšä¸¾ä¸­æè¿°ï¼ˆåœ¨Jacksonä¸­ï¼‰ï¼Œæ˜ å°„åˆ°ç¯å¢ƒä¸­çš„å±æ€§ï¼š

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"><col class="col_3"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">æšä¸¾</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">Property</th><th style="border-bottom: 1px solid ; " align="left" valign="top">å€¼</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.databind.DeserializationFeature</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring.jackson.deserialization.&lt;feature_name&gt;</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">true</code>, <code class="literal">false</code></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.core.JsonGenerator.Feature</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring.jackson.generator.&lt;feature_name&gt;</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">true</code>, <code class="literal">false</code></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.databind.MapperFeature</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring.jackson.mapper.&lt;feature_name&gt;</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">true</code>, <code class="literal">false</code></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.core.JsonParser.Feature</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring.jackson.parser.&lt;feature_name&gt;</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">true</code>, <code class="literal">false</code></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.databind.SerializationFeature</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring.jackson.serialization.&lt;feature_name&gt;</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">true</code>, <code class="literal">false</code></p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.annotation.JsonInclude.Include</code></p></td><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring.jackson.default-property-inclusion</code></p></td><td style="" align="left" valign="top" class="notranslate"><p><code class="literal">always</code>, <code class="literal">non_null</code>, <code class="literal">non_absent</code>, <code class="literal">non_default</code>, <code class="literal">non_empty</code></p></td></tr></tbody></table>

ä¾‹å¦‚ï¼Œè¦å¯ç”¨æ¼‚äº®æ‰“å°ï¼Œè¯·è®¾ç½®`spring.jackson.serialization.indent_output=true`ã€‚æ³¨æ„ï¼Œç”±äºä½¿ç”¨äº†[æ¾å¼›ç»‘å®š](#boot-features-external-config-relaxed-binding "24.8.2æ¾å¼›ç»“åˆ")ï¼Œ`indent_output`çš„æƒ…å†µä¸å¿…ä¸ç›¸åº”çš„æšä¸¾å¸¸é‡ï¼ˆ`INDENT_OUTPUT`}çš„æƒ…å†µç›¸åŒ¹é…ã€‚

æ­¤åŸºäºç¯å¢ƒçš„é…ç½®åº”ç”¨äºè‡ªåŠ¨é…ç½®çš„`Jackson2ObjectMapperBuilder` beanï¼Œå¹¶åº”ç”¨äºä½¿ç”¨æ„å»ºå™¨åˆ›å»ºçš„ä»»ä½•æ˜ å°„å™¨ï¼ŒåŒ…æ‹¬è‡ªåŠ¨é…ç½®çš„`ObjectMapper` beanã€‚

ä¸Šä¸‹æ–‡çš„`Jackson2ObjectMapperBuilder`å¯ä»¥é€šè¿‡ä¸€ä¸ªæˆ–å¤šä¸ª`Jackson2ObjectMapperBuilderCustomizer` beansè¿›è¡Œè‡ªå®šä¹‰ã€‚å¯ä»¥è®¢è´­è¿™æ ·çš„å®šåˆ¶å™¨beansï¼ˆBootè‡ªå·±çš„å®šåˆ¶å™¨çš„é¡ºåºä¸º0ï¼‰ï¼Œå…è®¸åœ¨Bootå®šåˆ¶ä¹‹å‰å’Œä¹‹ååº”ç”¨å…¶ä»–å®šåˆ¶ã€‚

ä»»ä½•beansç±»å‹`com.fasterxml.jackson.databind.Module`éƒ½ä¼šè‡ªåŠ¨æ³¨å†Œè‡ªåŠ¨é…ç½®çš„`Jackson2ObjectMapperBuilder`ï¼Œå¹¶åº”ç”¨äºå®ƒåˆ›å»ºçš„ä»»ä½•`ObjectMapper`ä¸ªå®ä¾‹ã€‚è¿™ä¸ºæ‚¨åœ¨åº”ç”¨ç¨‹åºä¸­æ·»åŠ æ–°åŠŸèƒ½æ—¶æä¾›äº†ä¸€ç§å…¨å±€æœºåˆ¶ï¼Œç”¨äºæä¾›è‡ªå®šä¹‰æ¨¡å—ã€‚

å¦‚æœè¦å®Œå…¨æ›¿æ¢é»˜è®¤çš„`ObjectMapper`ï¼Œè¯·å®šä¹‰è¯¥ç±»å‹çš„`@Bean`å¹¶å°†å…¶æ ‡è®°ä¸º`@Primary`ï¼Œæˆ–è€…ï¼Œå¦‚æœæ‚¨æ›´å–œæ¬¢åŸºäºæ„å»ºå™¨çš„æ–¹æ³•ï¼Œè¯·å®šä¹‰`Jackson2ObjectMapperBuilder` `@Bean`ã€‚è¯·æ³¨æ„ï¼Œåœ¨ä»»ä½•ä¸€ç§æƒ…å†µä¸‹ï¼Œè¿™æ ·åšéƒ½ä¼šç¦ç”¨`ObjectMapper`çš„æ‰€æœ‰è‡ªåŠ¨é…ç½®ã€‚

å¦‚æœæ‚¨æä¾›`MappingJackson2HttpMessageConverter`ç±»å‹çš„ä»»ä½•`@Beans`ï¼Œå®ƒä»¬å°†æ›¿æ¢MVCé…ç½®ä¸­çš„é»˜è®¤å€¼ã€‚æ­¤å¤–ï¼Œè¿˜æä¾›äº†`HttpMessageConverters`ç±»å‹çš„ä¾¿åˆ©beanï¼ˆå¦‚æœä½¿ç”¨é»˜è®¤çš„MVCé…ç½®ï¼Œåˆ™å§‹ç»ˆå¯ç”¨ï¼‰ã€‚å®ƒæœ‰ä¸€äº›æœ‰ç”¨çš„æ–¹æ³•æ¥è®¿é—®é»˜è®¤å’Œç”¨æˆ·å¢å¼ºçš„æ¶ˆæ¯è½¬æ¢å™¨ã€‚

æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…â€œ [ç¬¬79.4èŠ‚](#howto-customize-the-responsebody-rendering "79.4è‡ªå®šä¹‰@ResponseBodyæ¸²æŸ“") â€ [ï¼Œâ€œè‡ªå®šä¹‰@ResponseBodyæ¸²æŸ“](#howto-customize-the-responsebody-rendering "79.4Â Customize the @ResponseBody Rendering") â€éƒ¨åˆ†å’Œ [`WebMvcAutoConfiguration`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration.java) æºä»£ç ã€‚

79.4è‡ªå®šä¹‰@ResponseBodyæ¸²æŸ“
----------------------

Springä½¿ç”¨`HttpMessageConverters`æ¸²æŸ“`@ResponseBody`ï¼ˆæˆ–æ¥è‡ª`@RestController`çš„å›å¤ï¼‰ã€‚æ‚¨å¯ä»¥é€šè¿‡åœ¨Spring Bootä¸Šä¸‹æ–‡ä¸­æ·»åŠ é€‚å½“ç±»å‹çš„beansæ¥æä¾›å…¶ä»–è½¬æ¢å™¨ã€‚å¦‚æœä½ æ·»åŠ çš„beanæ˜¯é»˜è®¤åŒ…å«çš„ç±»å‹ï¼ˆä¾‹å¦‚`MappingJackson2HttpMessageConverter`ç”¨äºJSONè½¬æ¢ï¼‰ï¼Œå®ƒå°†æ›¿æ¢é»˜è®¤å€¼ã€‚æä¾›äº†`HttpMessageConverters`ç±»å‹çš„ä¾¿åˆ©beanï¼Œå¦‚æœæ‚¨ä½¿ç”¨é»˜è®¤çš„MVCé…ç½®ï¼Œå®ƒå§‹ç»ˆå¯ç”¨ã€‚å®ƒæœ‰ä¸€äº›æœ‰ç”¨çš„æ–¹æ³•æ¥è®¿é—®é»˜è®¤å’Œç”¨æˆ·å¢å¼ºçš„æ¶ˆæ¯è½¬æ¢å™¨ï¼ˆä¾‹å¦‚ï¼Œå¦‚æœè¦å°†å®ƒä»¬æ‰‹åŠ¨æ³¨å…¥è‡ªå®šä¹‰`RestTemplate`ï¼Œå®ƒä¼šå¾ˆæœ‰ç”¨ï¼‰ã€‚

ä¸æ­£å¸¸çš„MVCä½¿ç”¨æƒ…å†µä¸€æ ·ï¼Œæ‚¨æä¾›çš„ä»»ä½•`WebMvcConfigurer` beansä¹Ÿå¯ä»¥é€šè¿‡è¦†ç›–`configureMessageConverters`æ–¹æ³•æ¥æä¾›è½¬æ¢å™¨ã€‚ä½†æ˜¯ï¼Œä¸æ™®é€šçš„MVCä¸åŒï¼Œæ‚¨åªèƒ½æä¾›æ‰€éœ€çš„å…¶ä»–è½¬æ¢å™¨ï¼ˆå› ä¸ºSpring Bootä½¿ç”¨ç›¸åŒçš„æœºåˆ¶æ¥æä¾›å…¶é»˜è®¤å€¼ï¼‰ã€‚æœ€åï¼Œå¦‚æœæ‚¨é€šè¿‡æä¾›è‡ªå·±çš„`@EnableWebMvc`é…ç½®é€‰æ‹©é€€å‡ºSpring Booté»˜è®¤MVCé…ç½®ï¼Œåˆ™å¯ä»¥å®Œå…¨æ§åˆ¶å¹¶ä½¿ç”¨`WebMvcConfigurationSupport`ä¸­çš„`getMessageConverters`æ‰‹åŠ¨å®Œæˆæ‰€æœ‰æ“ä½œã€‚

æœ‰å…³[`WebMvcAutoConfiguration`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration.java) æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… æºä»£ç ã€‚

79.5å¤„ç†å¤šéƒ¨åˆ†æ–‡ä»¶ä¸Šè½½
-------------

Spring BootåŒ…å«Servlet 3 `javax.servlet.http.Part` APIä»¥æ”¯æŒä¸Šä¼ æ–‡ä»¶ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒSpring Booté…ç½®Spring MVCï¼Œæ¯ä¸ªæ–‡ä»¶çš„æœ€å¤§å¤§å°ä¸º1MBï¼Œå•ä¸ªè¯·æ±‚ä¸­çš„æ–‡ä»¶æ•°æ®æœ€å¤§ä¸º10MBã€‚æ‚¨å¯ä»¥è¦†ç›–è¿™äº›å€¼ï¼Œä¸­é—´æ•°æ®çš„å­˜å‚¨ä½ç½®ï¼ˆä¾‹å¦‚ï¼Œåˆ°`/tmp`ç›®å½•ï¼‰ï¼Œä»¥åŠä½¿ç”¨`MultipartProperties`ç±»ä¸­å…¬å¼€çš„å±æ€§å°†æ•°æ®åˆ·æ–°åˆ°ç£ç›˜çš„é˜ˆå€¼ã€‚ä¾‹å¦‚ï¼Œå¦‚æœè¦æŒ‡å®šæ–‡ä»¶ä¸å—é™åˆ¶ï¼Œè¯·å°†`spring.servlet.multipart.max-file-size`å±æ€§è®¾ç½®ä¸º`-1`ã€‚

å½“æ‚¨å¸Œæœ›åœ¨Spring MVCæ§åˆ¶å™¨å¤„ç†ç¨‹åºæ–¹æ³•ä¸­æ¥æ”¶å¤šéƒ¨åˆ†ç¼–ç æ–‡ä»¶æ•°æ®ä½œä¸º`@RequestParam` - å¸¦æ³¨é‡Šçš„`MultipartFile`ç±»å‚æ•°æ—¶ï¼Œå¤šéƒ¨åˆ†æ”¯æŒéå¸¸æœ‰ç”¨ã€‚

æœ‰å…³[`MultipartAutoConfiguration`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/servlet/MultipartAutoConfiguration.java) è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… æºä»£ç ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å»ºè®®ä½¿ç”¨å®¹å™¨çš„å†…ç½®æ”¯æŒè¿›è¡Œåˆ†æ®µä¸Šä¼ ï¼Œè€Œä¸æ˜¯å¼•å…¥å…¶ä»–ä¾èµ–é¡¹ï¼Œä¾‹å¦‚Apache Commons File Uploadã€‚</p></td></tr></tbody></table>

79.6å…³é—­Spring MVC DispatcherServlet
----------------------------------

é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰å†…å®¹éƒ½æ˜¯ä»åº”ç”¨ç¨‹åºçš„æ ¹ç›®å½•ï¼ˆ`/`ï¼‰æä¾›çš„ã€‚å¦‚æœæ‚¨å¸Œæœ›æ˜ å°„åˆ°å…¶ä»–è·¯å¾„ï¼Œå¯ä»¥æŒ‰å¦‚ä¸‹æ–¹å¼é…ç½®ï¼š

```
spring.mvc.servlet.path=/acme
```

å¦‚æœä½ æœ‰é¢å¤–çš„servletï¼Œä½ å¯ä»¥å£°æ˜`@Bean`ç±»å‹ä¸º`Servlet`æˆ–`ServletRegistrationBean`ï¼ŒSpring Bootå°†é€æ˜åœ°æ³¨å†Œåˆ°å®¹å™¨ã€‚å› ä¸ºservletæ˜¯ä»¥è¿™ç§æ–¹å¼æ³¨å†Œçš„ï¼Œæ‰€ä»¥å¯ä»¥å°†å®ƒä»¬æ˜ å°„åˆ°`DispatcherServlet`çš„å­ä¸Šä¸‹æ–‡è€Œä¸è°ƒç”¨å®ƒã€‚

è‡ªå·±é…ç½®`DispatcherServlet`æ˜¯ä¸å¯»å¸¸çš„ï¼Œä½†å¦‚æœä½ çœŸçš„éœ€è¦è¿™æ ·åšï¼Œè¿˜å¿…é¡»æä¾›`DispatcherServletPath`ç±»å‹`DispatcherServletPath`ï¼Œä»¥æä¾›è‡ªå®šä¹‰`DispatcherServlet`çš„è·¯å¾„ã€‚

79.7å…³é—­é»˜è®¤MVCé…ç½®
-------------

å®Œå…¨æ§åˆ¶MVCé…ç½®çš„æœ€ç®€å•æ–¹æ³•æ˜¯ä¸ºæ‚¨è‡ªå·±çš„`@Configuration`æä¾›`@EnableWebMvc`æ³¨é‡Šã€‚è¿™æ ·åšä¼šå°†æ‰€æœ‰MVCé…ç½®ç•™åœ¨æ‚¨çš„æ‰‹ä¸­ã€‚

79.8è‡ªå®šä¹‰ViewResolvers
--------------------

`ViewResolver`æ˜¯Spring MVCçš„æ ¸å¿ƒç»„ä»¶ï¼Œå°†`@Controller`ä¸­çš„è§†å›¾åç§°è½¬æ¢ä¸ºå®é™…çš„`View`å®ç°ã€‚è¯·æ³¨æ„ï¼Œ`ViewResolvers`ä¸»è¦ç”¨äºUIåº”ç”¨ç¨‹åºï¼Œè€Œä¸æ˜¯RESTæ ·å¼çš„æœåŠ¡ï¼ˆ`View`ä¸ç”¨äºå‘ˆç°`@ResponseBody`ï¼‰ã€‚`ViewResolver`æœ‰å¾ˆå¤šå®ç°å¯ä¾›é€‰æ‹©ï¼Œè€ŒSpringæœ¬èº«å¹¶ä¸åå¯¹ä½ åº”è¯¥ä½¿ç”¨å“ªäº›ã€‚å¦ä¸€æ–¹é¢ï¼ŒSpring Bootä¸ºæ‚¨å®‰è£…ä¸€ä¸ªæˆ–ä¸¤ä¸ªï¼Œå…·ä½“å–å†³äºå®ƒåœ¨ç±»è·¯å¾„å’Œåº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ä¸­æ‰¾åˆ°çš„å†…å®¹ã€‚`DispatcherServlet`ä½¿ç”¨å®ƒåœ¨åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ä¸­æ‰¾åˆ°çš„æ‰€æœ‰è§£æå™¨ï¼Œä¾æ¬¡å°è¯•æ¯ä¸ªè§£æå™¨ç›´åˆ°å¾—åˆ°ç»“æœï¼Œå› æ­¤ï¼Œå¦‚æœä½ æ·»åŠ è‡ªå·±çš„è§£æå™¨ï¼Œä½ å¿…é¡»çŸ¥é“é¡ºåºä»¥åŠä½ çš„è§£æå™¨åœ¨å“ªä¸ªä½ç½®æ·»åŠ ã€‚

`WebMvcAutoConfiguration`åœ¨æ‚¨çš„ä¸Šä¸‹æ–‡ä¸­æ·»åŠ ä»¥ä¸‹`ViewResolvers`ï¼š

*   `InternalResourceViewResolver`åä¸º'defaultViewResolver'ã€‚è¿™ä¸ªå¯ä»¥é€šè¿‡ä½¿ç”¨`DefaultServlet`ï¼ˆåŒ…æ‹¬é™æ€èµ„æºå’ŒJSPé¡µé¢ï¼Œå¦‚æœæ‚¨ä½¿ç”¨å®ƒä»¬ï¼‰æ¥æŸ¥æ‰¾å¯ä»¥å‘ˆç°çš„ç‰©ç†èµ„æºã€‚å®ƒå°†å‰ç¼€å’Œåç¼€åº”ç”¨äºè§†å›¾åç§°ï¼Œç„¶ååœ¨servletä¸Šä¸‹æ–‡ä¸­æŸ¥æ‰¾å…·æœ‰è¯¥è·¯å¾„çš„ç‰©ç†èµ„æºï¼ˆé»˜è®¤å€¼ä¸ºç©ºï¼Œä½†å¯é€šè¿‡`spring.mvc.view.prefix`å’Œ`spring.mvc.view.suffix`è¿›è¡Œå¤–éƒ¨é…ç½®ï¼‰ã€‚æ‚¨å¯ä»¥é€šè¿‡æä¾›ç›¸åŒç±»å‹çš„beanæ¥è¦†ç›–å®ƒã€‚
*   ä¸€ä¸ªåä¸º'beanNameViewResolver'çš„`BeanNameViewResolver`ã€‚è¿™æ˜¯è§†å›¾è§£æå™¨é“¾ä¸­ä¸€ä¸ªæœ‰ç”¨çš„æˆå‘˜ï¼Œå¹¶é€‰æ‹©ä¸æ­£åœ¨è§£æçš„`View`åŒåçš„ä»»ä½•beansã€‚ä¸å¿…è¦†ç›–æˆ–æ›¿æ¢å®ƒã€‚
*   A `ContentNegotiatingViewResolver`åä¸º'çš„ViewResolver'åªå¦‚æœæœ‰æ·»åŠ **æ˜¯** å®é™…ä¸Šbeansç±»å‹çš„`View`æœ¬ã€‚è¿™æ˜¯ä¸€ä¸ªâ€œä¸»â€è§£æå™¨ï¼Œå§”æ‰˜ç»™æ‰€æœ‰å…¶ä»–äººï¼Œå¹¶å°è¯•æ‰¾åˆ°ä¸å®¢æˆ·ç«¯å‘é€çš„â€œAcceptâ€HTTPå¤´åŒ¹é…çš„å†…å®¹ã€‚æœ‰ä¸€ä¸ª[å…³äº`ContentNegotiatingViewResolver`](https://spring.io/blog/2013/06/03/content-negotiation-using-views)çš„æœ‰ç”¨ [åšå®¢](https://spring.io/blog/2013/06/03/content-negotiation-using-views)ï¼Œæ‚¨å¯èƒ½å¸Œæœ›å­¦ä¹ ä»¥äº†è§£æ›´å¤šä¿¡æ¯ï¼Œæ‚¨ä¹Ÿå¯ä»¥æŸ¥çœ‹æºä»£ç ä»¥è·å–è¯¦ç»†ä¿¡æ¯ã€‚æ‚¨å¯ä»¥é€šè¿‡å®šä¹‰åä¸ºâ€œviewResolverâ€çš„beanæ¥å…³é—­è‡ªåŠ¨é…ç½®çš„`ContentNegotiatingViewResolver`ã€‚
*   å¦‚æœæ‚¨ä½¿ç”¨Thymeleafï¼Œæ‚¨è¿˜æœ‰`ThymeleafViewResolver`åä¸º'thymeleafViewResolver'ã€‚å®ƒé€šè¿‡ä½¿ç”¨å‰ç¼€å’Œåç¼€åŒ…å›´è§†å›¾åç§°æ¥æŸ¥æ‰¾èµ„æºã€‚å‰ç¼€ä¸º`spring.thymeleaf.prefix`ï¼Œåç¼€ä¸º`spring.thymeleaf.suffix`ã€‚å‰ç¼€å’Œåç¼€çš„å€¼åˆ†åˆ«é»˜è®¤ä¸ºâ€œclasspathï¼š/ templates /â€å’Œâ€œ.htmlâ€ã€‚æ‚¨å¯ä»¥é€šè¿‡æä¾›ç›¸åŒåç§°çš„beanæ¥è¦†ç›–`ThymeleafViewResolver`ã€‚
*   å¦‚æœæ‚¨ä½¿ç”¨FreeMarkerï¼Œæ‚¨è¿˜æœ‰`FreeMarkerViewResolver`åä¸º'freeMarkerViewResolver'ã€‚å®ƒé€šè¿‡ç”¨å‰ç¼€å’Œåç¼€åŒ…å›´è§†å›¾åç§°æ¥æŸ¥æ‰¾åŠ è½½å™¨è·¯å¾„ä¸­çš„èµ„æºï¼ˆå¤–éƒ¨åŒ–ä¸º`spring.freemarker.templateLoaderPath`å¹¶ä¸”é»˜è®¤å€¼ä¸º'classpathï¼š/ templates /'ï¼‰ã€‚å‰ç¼€å¤–éƒ¨åŒ–ä¸º`spring.freemarker.prefix`ï¼Œåç¼€å¤–éƒ¨åŒ–ä¸º`spring.freemarker.suffix`ã€‚å‰ç¼€å’Œåç¼€çš„é»˜è®¤å€¼åˆ†åˆ«ä¸ºç©ºå’Œâ€œ.ftlâ€ã€‚æ‚¨å¯ä»¥é€šè¿‡æä¾›ç›¸åŒåç§°çš„beanæ¥è¦†ç›–`FreeMarkerViewResolver`ã€‚
*   å¦‚æœæ‚¨ä½¿ç”¨Groovyæ¨¡æ¿ï¼ˆå®é™…ä¸Šï¼Œå¦‚æœ`groovy-templates`åœ¨æ‚¨çš„ç±»è·¯å¾„ä¸Šï¼‰ï¼Œæ‚¨è¿˜æœ‰`GroovyMarkupViewResolver`åä¸º'groovyMarkupViewResolver'ã€‚å®ƒé€šè¿‡ç”¨å‰ç¼€å’Œåç¼€ï¼ˆå¤–éƒ¨åŒ–ä¸º`spring.groovy.template.prefix`å’Œ`spring.groovy.template.suffix`ï¼‰åŒ…å›´è§†å›¾åç§°æ¥æŸ¥æ‰¾åŠ è½½å™¨è·¯å¾„ä¸­çš„èµ„æºã€‚å‰ç¼€å’Œåç¼€åˆ†åˆ«å…·æœ‰â€œclasspathï¼š/ templates /â€å’Œâ€œ.tplâ€çš„é»˜è®¤å€¼ã€‚æ‚¨å¯ä»¥é€šè¿‡æä¾›ç›¸åŒåç§°çš„beanæ¥è¦†ç›–`GroovyMarkupViewResolver`ã€‚

æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…ä»¥ä¸‹éƒ¨åˆ†ï¼š

*   [`WebMvcAutoConfiguration`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration.java)
*   [`ThymeleafAutoConfiguration`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/thymeleaf/ThymeleafAutoConfiguration.java)
*   [`FreeMarkerAutoConfiguration`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/freemarker/FreeMarkerAutoConfiguration.java)
*   [`GroovyTemplateAutoConfiguration`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/groovy/template/GroovyTemplateAutoConfiguration.java)

80.ä½¿ç”¨Springå®‰å…¨æ€§è¿›è¡Œæµ‹è¯•
------------------

Springå®‰å…¨æ€§æ”¯æŒä»¥ç‰¹å®šç”¨æˆ·èº«ä»½è¿è¡Œæµ‹è¯•ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢ä»£ç æ®µä¸­çš„æµ‹è¯•å°†ä½¿ç”¨å…·æœ‰`ADMIN`è§’è‰²çš„ç»è¿‡èº«ä»½éªŒè¯çš„ç”¨æˆ·è¿è¡Œã€‚

```
_@Test_
_@WithMockUser(roles="ADMIN")_
public void requestProtectedUrlWithUser() throws Exception {
	mvc
		.perform(get("/"))
		...
}
```

Springå®‰å…¨æ€§æä¾›ä¸Spring MVCæµ‹è¯•çš„å…¨é¢é›†æˆï¼Œè¿™ä¹Ÿå¯ä»¥åœ¨ä½¿ç”¨`@WebMvcTest`åˆ‡ç‰‡å’Œ`MockMvc`æµ‹è¯•æ§åˆ¶å™¨æ—¶ä½¿ç”¨ã€‚

æœ‰å…³Springå®‰å…¨æ€§æµ‹è¯•æ”¯æŒçš„å…¶ä»–è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…Springå®‰å…¨æ€§ [å‚è€ƒæ–‡æ¡£](https://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#test)ï¼‰ã€‚

81.Â Jersey

----------

81.1ä½¿ç”¨Springå®‰å…¨æ€§ä¿æŠ¤Jerseyç«¯ç‚¹
-------------------------

Springå®‰å…¨æ€§å¯ç”¨äºä¿æŠ¤åŸºäºJerseyçš„Webåº”ç”¨ç¨‹åºï¼Œå…¶æ–¹å¼ä¸ç”¨äºä¿æŠ¤åŸºäºSpring MVCçš„Webåº”ç”¨ç¨‹åºçš„æ–¹å¼éå¸¸ç›¸ä¼¼ã€‚ä½†æ˜¯ï¼Œå¦‚æœè¦å°†Springå®‰å…¨æ€§çš„æ–¹æ³•çº§å®‰å…¨æ€§ä¸Jerseyä¸€èµ·ä½¿ç”¨ï¼Œåˆ™å¿…é¡»å°†Jerseyé…ç½®ä¸ºä½¿ç”¨`setStatus(int)`è€Œä¸æ˜¯`sendError(int)`ã€‚è¿™å¯ä»¥é˜²æ­¢Jerseyåœ¨Springå®‰å…¨æ€§æœ‰æœºä¼šå‘å®¢æˆ·ç«¯æŠ¥å‘Šèº«ä»½éªŒè¯æˆ–æˆæƒå¤±è´¥ä¹‹å‰æäº¤å“åº”ã€‚

`jersey.config.server.response.setStatusOverSendError`å±æ€§å¿…é¡»åœ¨åº”ç”¨ç¨‹åºçš„`ResourceConfig` beanä¸Šè®¾ç½®ä¸º`true`ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
_@Component_
public class JerseyConfig extends ResourceConfig {

	public JerseyConfig() {
		register(Endpoint.class);
		setProperties(Collections.singletonMap(
				"jersey.config.server.response.setStatusOverSendError", true));
	}

}
```

82. HTTPå®¢æˆ·ç«¯

-----------

Spring Bootæä¾›äº†è®¸å¤šä¸HTTPå®¢æˆ·ç«¯é…åˆä½¿ç”¨çš„å¯åŠ¨å™¨ã€‚æœ¬èŠ‚å›ç­”ä¸ä½¿ç”¨å®ƒä»¬ç›¸å…³çš„é—®é¢˜ã€‚

82.1é…ç½®RestTemplateä»¥ä½¿ç”¨ä»£ç†
-----------------------

å¦‚[ç¬¬34.1èŠ‚â€œRestTemplate Customizationâ€ä¸­æ‰€è¿°](#boot-features-resttemplate-customization "34.1 RestTemplateè‡ªå®šä¹‰")ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨`RestTemplateCustomizer`å’Œ`RestTemplateBuilder`æ¥æ„å»ºè‡ªå®šä¹‰çš„`RestTemplate`ã€‚è¿™æ˜¯åˆ›å»ºé…ç½®ä¸ºä½¿ç”¨ä»£ç†çš„`RestTemplate`çš„æ¨èæ–¹æ³•ã€‚

ä»£ç†é…ç½®çš„ç¡®åˆ‡è¯¦ç»†ä¿¡æ¯å–å†³äºæ­£åœ¨ä½¿ç”¨çš„åŸºç¡€å®¢æˆ·ç«¯è¯·æ±‚å·¥å‚ã€‚ä»¥ä¸‹ç¤ºä¾‹ä½¿ç”¨`HttpClient`é…ç½®`HttpComponentsClientRequestFactory`ï¼Œè¯¥ä»£ç†ä½¿ç”¨é™¤`192.168.0.5`ä»¥å¤–çš„æ‰€æœ‰ä¸»æœºçš„ä»£ç†ï¼š

```
static class ProxyCustomizer implements RestTemplateCustomizer {

	_@Override_
	public void customize(RestTemplate restTemplate) {
		HttpHost proxy = new HttpHost("proxy.example.com");
		HttpClient httpClient = HttpClientBuilder.create()
				.setRoutePlanner(new DefaultProxyRoutePlanner(proxy) {

					_@Override_
					public HttpHost determineProxy(HttpHost target,
							HttpRequest request, HttpContext context)
							throws HttpException {
						if (target.getHostName().equals("192.168.0.5")) {
							return null;
						}
						return super.determineProxy(target, request, context);
					}

				}).build();
		restTemplate.setRequestFactory(
				new HttpComponentsClientHttpRequestFactory(httpClient));
	}

}
```

83.è®°å½•
-----

Spring Bootæ²¡æœ‰å¼ºåˆ¶æ—¥å¿—è®°å½•ä¾èµ–ï¼Œä½†Commons Logging APIé™¤å¤–ï¼Œå®ƒé€šå¸¸ç”±Spring Frameworkçš„`spring-jcl`æ¨¡å—æä¾›ã€‚è¦ä½¿ç”¨ [Logback](http://logback.qos.ch)ï¼Œæ‚¨éœ€è¦åœ¨ç±»è·¯å¾„ä¸­åŒ…å«å®ƒå’Œ`spring-jcl`ã€‚æœ€ç®€å•çš„æ–¹æ³•æ˜¯é€šè¿‡é¦–å‘ï¼Œè¿™äº›éƒ½å–å†³äº`spring-boot-starter-logging`ã€‚å¯¹äºWebåº”ç”¨ç¨‹åºï¼Œæ‚¨åªéœ€è¦`spring-boot-starter-web`ï¼Œå› ä¸ºå®ƒä¾èµ–äºæ—¥å¿—è®°å½•å¯åŠ¨å™¨ã€‚å¦‚æœæ‚¨ä½¿ç”¨Mavenï¼Œåˆ™ä»¥ä¸‹ä¾èµ–é¡¹ä¼šä¸ºæ‚¨æ·»åŠ æ—¥å¿—è®°å½•ï¼š

```
<dependency>
	<groupId>org.springframework.boot</groupId>
	<artifactId>spring-boot-starter-web</artifactId>
</dependency>
```

Spring Bootå…·æœ‰`LoggingSystem`æŠ½è±¡ï¼Œå°è¯•æ ¹æ®ç±»è·¯å¾„çš„å†…å®¹é…ç½®æ—¥å¿—è®°å½•ã€‚å¦‚æœLogbackå¯ç”¨ï¼Œåˆ™å®ƒæ˜¯ç¬¬ä¸€é€‰æ‹©ã€‚

å¦‚æœæ‚¨éœ€è¦å¯¹æ—¥å¿—è®°å½•è¿›è¡Œçš„å”¯ä¸€æ›´æ”¹æ˜¯è®¾ç½®å„ç§è®°å½•å™¨çš„çº§åˆ«ï¼Œåˆ™å¯ä»¥ä½¿ç”¨â€œlogging.levelâ€å‰ç¼€åœ¨`application.properties`ä¸­æ‰§è¡Œæ­¤æ“ä½œï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
logging.level.org.springframework.web=DEBUG
logging.level.org.hibernate=ERROR
```

æ‚¨è¿˜å¯ä»¥ä½¿ç”¨â€œlogging.fileâ€è®¾ç½®è¦å†™å…¥æ—¥å¿—çš„æ–‡ä»¶çš„ä½ç½®ï¼ˆé™¤æ§åˆ¶å°å¤–ï¼‰ã€‚

è¦é…ç½®æ—¥å¿—è®°å½•ç³»ç»Ÿçš„æ›´ç»†ç²’åº¦è®¾ç½®ï¼Œæ‚¨éœ€è¦ä½¿ç”¨ç›¸å…³`LoggingSystem`æ”¯æŒçš„æœ¬æœºé…ç½®æ ¼å¼ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒSpring Bootä»ç³»ç»Ÿçš„é»˜è®¤ä½ç½®ï¼ˆä¾‹å¦‚ç”¨äºLogbackçš„`classpath:logback.xml`ï¼‰ä¸­é€‰æ‹©æœ¬æœºé…ç½®ï¼Œä½†æ‚¨å¯ä»¥ä½¿ç”¨â€œlogging.configâ€å±æ€§è®¾ç½®é…ç½®æ–‡ä»¶çš„ä½ç½®ã€‚

83.1é…ç½®æ—¥å¿—è®°å½•çš„æ—¥å¿—è®°å½•
---------------

å¦‚æœåœ¨ç±»è·¯å¾„çš„æ ¹ç›®å½•ä¸­æ”¾ç½®`logback.xml`ï¼Œåˆ™ä»é‚£é‡Œï¼ˆæˆ–ä»`logback-spring.xml`ä¸­é€‰å–å®ƒï¼‰ä»¥åˆ©ç”¨Bootæä¾›çš„æ¨¡æ¿åŠŸèƒ½ã€‚Spring Bootæä¾›äº†ä¸€ä¸ªé»˜è®¤çš„åŸºæœ¬é…ç½®ï¼Œå¦‚æœè¦è®¾ç½®çº§åˆ«ï¼Œå¯ä»¥åŒ…æ‹¬è¯¥é…ç½®ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
<?xml version="1.0" encoding="UTF-8"?>
<configuration>
	<include resource="org/springframework/boot/logging/logback/base.xml"/>
	<logger />
</configuration>
```

å¦‚æœä½ çœ‹çœ‹spring-boot jarä¸­çš„`base.xml`ï¼Œä½ å¯ä»¥çœ‹åˆ°å®ƒä½¿ç”¨`LoggingSystem`ä¸ºä½ åˆ›å»ºçš„ä¸€äº›æœ‰ç”¨çš„ç³»ç»Ÿå±æ€§ï¼š

*   `${PID}`ï¼šå½“å‰è¿›ç¨‹IDã€‚
*   `${LOG_FILE}`ï¼šæ˜¯å¦åœ¨Bootçš„å¤–éƒ¨é…ç½®ä¸­è®¾ç½®äº†`logging.file`ã€‚
*   `${LOG_PATH}`ï¼šæ˜¯å¦åœ¨å¼•å¯¼çš„å¤–éƒ¨é…ç½®ä¸­è®¾ç½®äº†`logging.path`ï¼ˆè¡¨ç¤ºæ—¥å¿—æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ï¼‰ã€‚
*   `${LOG_EXCEPTION_CONVERSION_WORD}`ï¼šæ˜¯å¦åœ¨Bootçš„å¤–éƒ¨é…ç½®ä¸­è®¾ç½®äº†`logging.exception-conversion-word`ã€‚

Spring Bootè¿˜é€šè¿‡ä½¿ç”¨è‡ªå®šä¹‰Logbackè½¬æ¢å™¨åœ¨æ§åˆ¶å°ä¸Šï¼ˆä½†ä¸åœ¨æ—¥å¿—æ–‡ä»¶ä¸­ï¼‰æä¾›äº†ä¸€äº›æ¼‚äº®çš„ANSIé¢œè‰²ç»ˆç«¯è¾“å‡ºã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…é»˜è®¤çš„`base.xml`é…ç½®ã€‚

å¦‚æœGroovyåœ¨ç±»è·¯å¾„ä¸Šï¼Œæ‚¨åº”è¯¥èƒ½å¤Ÿä½¿ç”¨`logback.groovy`é…ç½®Logbackã€‚å¦‚æœå­˜åœ¨ï¼Œåˆ™ä¼˜å…ˆè€ƒè™‘æ­¤è®¾ç½®ã€‚

### 83.1.1é…ç½®ä»…æ–‡ä»¶è¾“å‡ºçš„å›æº¯

å¦‚æœè¦ç¦ç”¨æ§åˆ¶å°æ—¥å¿—è®°å½•å¹¶ä»…å°†è¾“å‡ºå†™å…¥æ–‡ä»¶ï¼Œåˆ™éœ€è¦å¯¼å…¥`file-appender.xml`è€Œä¸æ˜¯`console-appender.xml`çš„è‡ªå®šä¹‰`logback-spring.xml`ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
<?xml version="1.0" encoding="UTF-8"?>
<configuration>
	<include resource="org/springframework/boot/logging/logback/defaults.xml" />
	<property ${LOG_FILE:-${LOG_PATH:-${LOG_TEMP:-${java.io.tmpdir:-/tmp}}/}spring.log}"/>
	<include resource="org/springframework/boot/logging/logback/file-appender.xml" />
	<root level="INFO">
		<appender-ref ref="FILE" />
	</root>
</configuration>
```

æ‚¨è¿˜éœ€è¦å°†`logging.file`æ·»åŠ åˆ°`application.properties`ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
logging.file=myapplication.log
```

83.2é…ç½®Log4jè¿›è¡Œæ—¥å¿—è®°å½•
-----------------

Spring Bootæ”¯æŒ[Log4j 2](https://logging.apache.org/log4j/2.x)è¿›è¡Œæ—¥å¿—è®°å½•é…ç½®ï¼ˆå¦‚æœå®ƒåœ¨ç±»è·¯å¾„ä¸Šï¼‰ã€‚å¦‚æœä½¿ç”¨å¯åŠ¨å™¨æ¥ç»„è£…ä¾èµ–é¡¹ï¼Œåˆ™å¿…é¡»æ’é™¤Logbackï¼Œç„¶ååŒ…å«log4j 2ã€‚å¦‚æœæ‚¨ä¸ä½¿ç”¨å¯åŠ¨å™¨ï¼Œé™¤äº†Log4j 2ä¹‹å¤–ï¼Œæ‚¨è¿˜éœ€è¦æä¾›ï¼ˆè‡³å°‘ï¼‰`spring-jcl`ã€‚

æœ€ç®€å•çš„è·¯å¾„å¯èƒ½æ˜¯é€šè¿‡åˆå­¦è€…ï¼Œå³ä½¿å®ƒéœ€è¦ä¸€äº›ä¸æ’é™¤çš„æ‘‡æ™ƒã€‚ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºå¦‚ä½•åœ¨Mavenä¸­è®¾ç½®å¯åŠ¨å™¨ï¼š

```
<dependency>
	<groupId>org.springframework.boot</groupId>
	<artifactId>spring-boot-starter-web</artifactId>
</dependency>
<dependency>
	<groupId>org.springframework.boot</groupId>
	<artifactId>spring-boot-starter</artifactId>
	<exclusions>
		<exclusion>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-logging</artifactId>
		</exclusion>
	</exclusions>
</dependency>
<dependency>
	<groupId>org.springframework.boot</groupId>
	<artifactId>spring-boot-starter-log4j2</artifactId>
</dependency>
```

ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†åœ¨Gradleä¸­è®¾ç½®å¯åŠ¨å™¨çš„ä¸€ç§æ–¹æ³•ï¼š

```
dependencies {
	compile 'org.springframework.boot:spring-boot-starter-web'
	compile 'org.springframework.boot:spring-boot-starter-log4j2'
}

configurations {
	all {
		exclude group: 'org.springframework.boot', module: 'spring-boot-starter-logging'
	}
}
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>Log4jå¯åŠ¨å™¨å°†å¸¸è§æ—¥å¿—è®°å½•è¦æ±‚çš„ä¾èµ–å…³ç³»èšé›†åœ¨ä¸€èµ·ï¼ˆä¾‹å¦‚è®©Tomcatä½¿ç”¨<code class="literal" i="3408">java.util.logging</code>ä½†ä½¿ç”¨Log4j 2é…ç½®è¾“å‡ºï¼‰ã€‚æœ‰å…³ è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… <a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-samples/spring-boot-sample-actuator-log4j2" target="_top">Actuator Log4j 2</a>æ ·å“å¹¶æŸ¥çœ‹å…¶å®é™…æ“ä½œã€‚</p></td></tr></tbody></table><table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>è¦ç¡®ä¿ä½¿ç”¨<code class="literal" i="3409">java.util.logging</code>æ‰§è¡Œçš„è°ƒè¯•æ—¥å¿—è®°å½•è·¯ç”±åˆ°Log4j 2ï¼Œè¯·é€šè¿‡å°†<code class="literal" i="3410">java.util.logging.manager</code>ç³»ç»Ÿå±æ€§è®¾ç½®ä¸º<code class="literal" i="3411">org.apache.logging.log4j.jul.LogManager</code>æ¥é…ç½®å…¶<a class="link" href="https://logging.apache.org/log4j/2.0/log4j-jul/index.html" target="_top">JDKæ—¥å¿—è®°å½•é€‚é…å™¨</a>ã€‚</p></td></tr></tbody></table>

### 83.2.1ä½¿ç”¨YAMLæˆ–JSONé…ç½®Log4j 2

é™¤äº†é»˜è®¤çš„XMLé…ç½®æ ¼å¼å¤–ï¼ŒLog4j 2è¿˜æ”¯æŒYAMLå’ŒJSONé…ç½®æ–‡ä»¶ã€‚è¦å°†Log4j 2é…ç½®ä¸ºä½¿ç”¨å¤‡ç”¨é…ç½®æ–‡ä»¶æ ¼å¼ï¼Œè¯·å°†ç›¸åº”çš„ä¾èµ–é¡¹æ·»åŠ åˆ°ç±»è·¯å¾„ï¼Œå¹¶å°†é…ç½®æ–‡ä»¶å‘½åä¸ºä¸æ‰€é€‰æ–‡ä»¶æ ¼å¼åŒ¹é…ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"><col class="col_3"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">æ ¼å¼</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">ä¾èµ–</th><th style="border-bottom: 1px solid ; " align="left" valign="top">æ–‡ä»¶å</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>YAML</p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.core:jackson-databind</code> <code class="literal">com.fasterxml.jackson.dataformat:jackson-dataformat-yaml</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">log4j2.yaml</code> <code class="literal">log4j2.yml</code></p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p>JSON</p></td><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.core:jackson-databind</code></p></td><td style="" align="left" valign="top" class="notranslate"><p><code class="literal">log4j2.json</code> <code class="literal">log4j2.jsn</code></p></td></tr></tbody></table>

84.æ•°æ®è®¿é—®
-------

Spring BootåŒ…æ‹¬ä¸€äº›å¤„ç†æ•°æ®æºçš„åˆå­¦è€…ã€‚æœ¬èŠ‚å›ç­”ä¸æ­¤ç›¸å…³çš„é—®é¢˜ã€‚

84.1é…ç½®è‡ªå®šä¹‰æ•°æ®æº
------------

è¦é…ç½®æ‚¨è‡ªå·±çš„`DataSource`ï¼Œè¯·åœ¨é…ç½®ä¸­å®šä¹‰è¯¥ç±»å‹çš„`@Bean`ã€‚Spring Bootåœ¨ä»»ä½•éœ€è¦çš„åœ°æ–¹é‡ç”¨`DataSource`ï¼ŒåŒ…æ‹¬æ•°æ®åº“åˆå§‹åŒ–ã€‚å¦‚æœéœ€è¦å¤–éƒ¨åŒ–æŸäº›è®¾ç½®ï¼Œå¯ä»¥å°†`DataSource`ç»‘å®šåˆ°ç¯å¢ƒä¸­ï¼ˆè¯·å‚é˜…â€œ [ç¬¬24.8.1èŠ‚â€â€œç¬¬ä¸‰æ–¹é…ç½®](#boot-features-external-config-3rd-party-configuration "24.8.1ç¬¬ä¸‰æ–¹é…ç½®") â€ï¼‰ã€‚

ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºå¦‚ä½•åœ¨beanä¸­å®šä¹‰æ•°æ®æºï¼š

```
_@Bean_
_@ConfigurationProperties(prefix="app.datasource")_
public DataSource dataSource() {
	return new FancyDataSource();
}
```

ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºå¦‚ä½•é€šè¿‡è®¾ç½®å±æ€§æ¥å®šä¹‰æ•°æ®æºï¼š

```
app.datasource.url=jdbc:h2:mem:mydb
app.datasource.username=sa
app.datasource.pool-size=30
```

å‡è®¾æ‚¨çš„`FancyDataSource`å…·æœ‰URLçš„å¸¸è§„JavaBeanå±æ€§ï¼Œç”¨æˆ·åå’Œæ± å¤§å°ï¼Œè¿™äº›è®¾ç½®åœ¨`DataSource`å¯ç”¨äºå…¶ä»–ç»„ä»¶ä¹‹å‰è‡ªåŠ¨ç»‘å®šã€‚ä¹Ÿä¼šå‘ç”Ÿå¸¸è§„ [æ•°æ®åº“åˆå§‹åŒ–](#howto-initialize-a-database-using-spring-jdbc "85.3åˆå§‹åŒ–æ•°æ®åº“")ï¼ˆå› æ­¤`spring.datasource.*`çš„ç›¸å…³å­é›†ä»å¯ç”¨äºæ‚¨çš„è‡ªå®šä¹‰é…ç½®ï¼‰ã€‚

Spring Bootè¿˜æä¾›äº†ä¸€ä¸ªåä¸º`DataSourceBuilder`çš„å®ç”¨ç¨‹åºæ„å»ºå™¨ç±»ï¼Œå¯ç”¨äºåˆ›å»ºå…¶ä¸­ä¸€ä¸ªæ ‡å‡†æ•°æ®æºï¼ˆå¦‚æœå®ƒä½äºç±»è·¯å¾„ä¸­ï¼‰ã€‚æ„å»ºå™¨å¯ä»¥æ ¹æ®ç±»è·¯å¾„ä¸Šçš„å¯ç”¨å†…å®¹æ£€æµ‹è¦ä½¿ç”¨çš„é‚£ä¸ªã€‚å®ƒè¿˜ä¼šæ ¹æ®JDBC URLè‡ªåŠ¨æ£€æµ‹é©±åŠ¨ç¨‹åºã€‚

ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºå¦‚ä½•ä½¿ç”¨`DataSourceBuilder`åˆ›å»ºæ•°æ®æºï¼š

```
_@Bean_
_@ConfigurationProperties("app.datasource")_
public DataSource dataSource() {
	return DataSourceBuilder.create().build();
}
```

è¦ä½¿ç”¨`DataSource`è¿è¡Œåº”ç”¨ç¨‹åºï¼Œæ‚¨åªéœ€è¦è¿æ¥ä¿¡æ¯ã€‚è¿˜å¯ä»¥æä¾›ç‰¹å®šäºæ± çš„è®¾ç½®ã€‚æ£€æŸ¥å°†åœ¨è¿è¡Œæ—¶ä½¿ç”¨çš„å®ç°ä»¥è·å–æ›´å¤šè¯¦ç»†ä¿¡æ¯ã€‚

ä»¥ä¸‹ç¤ºä¾‹è¯´æ˜å¦‚ä½•é€šè¿‡è®¾ç½®å±æ€§æ¥å®šä¹‰JDBCæ•°æ®æºï¼š

```
app.datasource.url=jdbc:mysql://localhost/test
app.datasource.username=dbuser
app.datasource.password=dbpass
app.datasource.pool-size=30
```

ç„¶è€Œï¼Œæœ‰ä¸€ä¸ªé—®é¢˜ã€‚ç”±äºæœªå…¬å¼€è¿æ¥æ± çš„å®é™…ç±»å‹ï¼Œå› æ­¤æ‚¨çš„è‡ªå®šä¹‰`DataSource`çš„å…ƒæ•°æ®ä¸­ä¸ä¼šç”Ÿæˆä»»ä½•é”®ï¼Œå¹¶ä¸”IDEä¸­æ²¡æœ‰å¯ç”¨çš„å®Œæˆï¼ˆå› ä¸º`DataSource`æ¥å£ä¸å…¬å¼€ä»»ä½•å±æ€§ï¼‰ã€‚æ­¤å¤–ï¼Œå¦‚æœä½ ç¢°å·§åœ¨ç±»è·¯å¾„ä¸Šæœ‰Hikariï¼Œè¿™ä¸ªåŸºæœ¬è®¾ç½®ä¸èµ·ä½œç”¨ï¼Œå› ä¸ºHikariæ²¡æœ‰`url`å±æ€§ï¼ˆä½†ç¡®å®æœ‰`jdbcUrl`å±æ€§ï¼‰ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨å¿…é¡»æŒ‰å¦‚ä¸‹æ–¹å¼é‡å†™é…ç½®ï¼š

```
app.datasource.jdbc-url=jdbc:mysql://localhost/test
app.datasource.username=dbuser
app.datasource.password=dbpass
app.datasource.maximum-pool-size=30
```

æ‚¨å¯ä»¥é€šè¿‡å¼ºåˆ¶è¿æ¥æ± ä½¿ç”¨å¹¶è¿”å›ä¸“ç”¨å®ç°è€Œä¸æ˜¯`DataSource`æ¥è§£å†³æ­¤é—®é¢˜ã€‚æ‚¨æ— æ³•åœ¨è¿è¡Œæ—¶æ›´æ”¹å®ç°ï¼Œä½†é€‰é¡¹åˆ—è¡¨å°†æ˜¯æ˜¾å¼çš„ã€‚

ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºå¦‚ä½•ä½¿ç”¨`DataSourceBuilder`åˆ›å»º`HikariDataSource`ï¼š

```
_@Bean_
_@ConfigurationProperties("app.datasource")_
public HikariDataSource dataSource() {
	return DataSourceBuilder.create().type(HikariDataSource.class).build();
}
```

æ‚¨ç”šè‡³å¯ä»¥é€šè¿‡åˆ©ç”¨`DataSourceProperties`ä¸ºæ‚¨åšçš„äº‹æƒ…æ¥è¿›ä¸€æ­¥å‘å±• - ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæ²¡æœ‰æä¾›URLï¼Œåˆ™é€šè¿‡æä¾›å…·æœ‰åˆç†ç”¨æˆ·åå’Œå¯†ç çš„é»˜è®¤åµŒå…¥å¼æ•°æ®åº“ã€‚æ‚¨å¯ä»¥ä»ä»»ä½•`DataSourceProperties`å¯¹è±¡çš„çŠ¶æ€è½»æ¾åˆå§‹åŒ–`DataSourceBuilder`ï¼Œå› æ­¤æ‚¨è¿˜å¯ä»¥æ³¨å…¥Spring Bootè‡ªåŠ¨åˆ›å»ºçš„DataSourceã€‚ä½†æ˜¯ï¼Œè¿™ä¼šå°†æ‚¨çš„é…ç½®æ‹†åˆ†ä¸ºä¸¤ä¸ªåç§°ç©ºé—´ï¼š`spring.datasource`ä¸Šçš„`url`ï¼Œ`username`ï¼Œ`password`ï¼Œ`type`å’Œ`driver`ä»¥åŠæ‚¨è‡ªå®šä¹‰åç§°ç©ºé—´ä¸Šçš„å…¶ä½™åç§°ç©ºé—´ï¼ˆ`app.datasource`ï¼‰ã€‚ä¸ºé¿å…è¿™ç§æƒ…å†µï¼Œæ‚¨å¯ä»¥åœ¨è‡ªå®šä¹‰å‘½åç©ºé—´ä¸Šé‡æ–°å®šä¹‰è‡ªå®šä¹‰`DataSourceProperties`ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
_@Bean_
_@Primary_
_@ConfigurationProperties("app.datasource")_
public DataSourceProperties dataSourceProperties() {
	return new DataSourceProperties();
}

_@Bean_
_@ConfigurationProperties("app.datasource.configuration")_
public HikariDataSource dataSource(DataSourceProperties properties) {
	return properties.initializeDataSourceBuilder().type(HikariDataSource.class)
			.build();
}
```

é»˜è®¤æƒ…å†µä¸‹ï¼Œæ­¤è®¾ç½®ä½¿æ‚¨ä¸Spring Bootä¸ºæ‚¨æ‰§è¡Œçš„æ“ä½œä¿æŒ_åŒæ­¥_ï¼Œé™¤äº†é€‰æ‹©äº†ä¸“ç”¨è¿æ¥æ± ï¼ˆåœ¨ä»£ç ä¸­ï¼‰å¹¶ä¸”å…¶è®¾ç½®åœ¨`app.datasource.configuration`å­å‘½åç©ºé—´ä¸­å…¬å¼€ã€‚å› ä¸º`DataSourceProperties`æ­£åœ¨ä¸ºæ‚¨å¤„ç†`url` / `jdbcUrl`ç¿»è¯‘ï¼Œæ‚¨å¯ä»¥æŒ‰å¦‚ä¸‹æ–¹å¼å¯¹å…¶è¿›è¡Œé…ç½®ï¼š

```
app.datasource.url=jdbc:mysql://localhost/test
app.datasource.username=dbuser
app.datasource.password=dbpass
app.datasource.configuration.maximum-pool-size=30
```

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>Spring Bootä¼šå°†Hikariç‰¹å®šçš„è®¾ç½®æš´éœ²ç»™<code class="literal" i="3444">spring.datasource.hikari</code>ã€‚æ­¤ç¤ºä¾‹ä½¿ç”¨æ›´é€šç”¨çš„<code class="literal" i="3445">configuration</code>å­å‘½åç©ºé—´ï¼Œå› ä¸ºè¯¥ç¤ºä¾‹ä¸æ”¯æŒå¤šä¸ªæ•°æ®æºå®ç°ã€‚</p></td></tr></tbody></table><table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>ç”±äºæ‚¨çš„è‡ªå®šä¹‰é…ç½®é€‰æ‹©ä½¿ç”¨Hikariï¼Œ<code class="literal" i="3446">app.datasource.type</code>æ— æ•ˆã€‚åœ¨å®è·µä¸­ï¼Œæ„å»ºå™¨åˆå§‹åŒ–ä¸ºæ‚¨å¯èƒ½åœ¨é‚£é‡Œè®¾ç½®çš„ä»»ä½•å€¼ï¼Œç„¶åé€šè¿‡è°ƒç”¨<code class="literal" i="3447">.type()</code>è¦†ç›–ã€‚</p></td></tr></tbody></table>

æœ‰å…³ æ›´å¤šè¯¦ç»†ä¿¡æ¯[ï¼Œ](#boot-features-configure-datasource "30.1é…ç½®æ•°æ®æº")è¯·å‚é˜…â€œ Spring BootåŠŸèƒ½â€éƒ¨åˆ†ä¸­çš„â€œ [éƒ¨åˆ†30.1ï¼Œâ€é…ç½®æ•°æ®æºâ€œ](#boot-features-configure-datasource "30.1Â Configure a DataSource") â€å’Œ [`DataSourceAutoConfiguration`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jdbc/DataSourceAutoConfiguration.java)ç±»ã€‚

84.2é…ç½®ä¸¤ä¸ªæ•°æ®æº
-----------

å¦‚æœéœ€è¦é…ç½®å¤šä¸ªæ•°æ®æºï¼Œå¯ä»¥åº”ç”¨ä¸Šä¸€èŠ‚ä¸­æè¿°çš„ç›¸åŒæŠ€å·§ã€‚ä½†æ˜¯ï¼Œæ‚¨å¿…é¡»å°†`DataSource`ä¸ªå®ä¾‹ä¸­çš„ä¸€ä¸ªæ ‡è®°ä¸º`@Primary`ï¼Œå› ä¸ºéšåçš„å„ç§è‡ªåŠ¨é…ç½®å¸Œæœ›èƒ½å¤ŸæŒ‰ç±»å‹è·å¾—ã€‚

å¦‚æœæ‚¨åˆ›å»ºè‡ªå·±çš„`DataSource`ï¼Œåˆ™è‡ªåŠ¨é…ç½®ä¼šé€€å›ã€‚åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æä¾›çš„_ç¡®åˆ‡_ç›¸åŒçš„åŠŸèƒ½é›†è‡ªåŠ¨é…ç½®æä¾›ä¸»æ•°æ®æºï¼š

```
_@Bean_
_@Primary_
_@ConfigurationProperties("app.datasource.first")_
public DataSourceProperties firstDataSourceProperties() {
	return new DataSourceProperties();
}

_@Bean_
_@Primary_
_@ConfigurationProperties("app.datasource.first.configuration")_
public HikariDataSource firstDataSource() {
	return firstDataSourceProperties().initializeDataSourceBuilder()
			.type(HikariDataSource.class).build();
}

_@Bean_
_@ConfigurationProperties("app.datasource.second")_
public BasicDataSource secondDataSource() {
	return DataSourceBuilder.create().type(BasicDataSource.class).build();
}
```

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p><code class="literal" i="3451">firstDataSourceProperties</code>å¿…é¡»æ ‡è®°ä¸º<code class="literal" i="3452">@Primary</code>ï¼Œä»¥ä¾¿æ•°æ®åº“åˆå§‹åŒ–ç¨‹åºåŠŸèƒ½ä½¿ç”¨æ‚¨çš„å‰¯æœ¬ï¼ˆå¦‚æœæ‚¨ä½¿ç”¨åˆå§‹åŒ–ç¨‹åºï¼‰ã€‚</p></td></tr></tbody></table>

è¿™ä¸¤ä¸ªæ•°æ®æºä¹Ÿç»‘å®šäº†é«˜çº§è‡ªå®šä¹‰ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥æŒ‰å¦‚ä¸‹æ–¹å¼é…ç½®å®ƒä»¬ï¼š

```
app.datasource.first.url=jdbc:mysql://localhost/first
app.datasource.first.username=dbuser
app.datasource.first.password=dbpass
app.datasource.first.configuration.maximum-pool-size=30

app.datasource.second.url=jdbc:mysql://localhost/second
app.datasource.second.username=dbuser
app.datasource.second.password=dbpass
app.datasource.second.max-total=30
```

æ‚¨ä¹Ÿå¯ä»¥å°†ç›¸åŒçš„æ¦‚å¿µåº”ç”¨äºè¾…åŠ©`DataSource`ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
_@Bean_
_@Primary_
_@ConfigurationProperties("app.datasource.first")_
public DataSourceProperties firstDataSourceProperties() {
	return new DataSourceProperties();
}

_@Bean_
_@Primary_
_@ConfigurationProperties("app.datasource.first.configuration")_
public HikariDataSource firstDataSource() {
	return firstDataSourceProperties().initializeDataSourceBuilder()
			.type(HikariDataSource.class).build();
}

_@Bean_
_@ConfigurationProperties("app.datasource.second")_
public DataSourceProperties secondDataSourceProperties() {
	return new DataSourceProperties();
}

_@Bean_
_@ConfigurationProperties("app.datasource.second.configuration")_
public BasicDataSource secondDataSource() {
	return secondDataSourceProperties().initializeDataSourceBuilder()
			.type(BasicDataSource.class).build();
}
```

ä¸Šé¢çš„ç¤ºä¾‹ä½¿ç”¨ä¸è‡ªåŠ¨é…ç½®ä¸­ä½¿ç”¨çš„Spring Bootç›¸åŒçš„é€»è¾‘åœ¨è‡ªå®šä¹‰å‘½åç©ºé—´ä¸Šé…ç½®ä¸¤ä¸ªæ•°æ®æºã€‚è¯·æ³¨æ„ï¼Œæ¯ä¸ª`configuration`å­å‘½åç©ºé—´éƒ½æ ¹æ®æ‰€é€‰å®ç°æä¾›é«˜çº§è®¾ç½®ã€‚

84.3ä½¿ç”¨Springæ•°æ®å­˜å‚¨åº“
-----------------

Springæ•°æ®å¯ä»¥åˆ›å»ºå„ç§é£æ ¼çš„`@Repository`æ¥å£çš„å®ç°ã€‚åªè¦é‚£äº›`@Repositories`åŒ…å«åœ¨`@EnableAutoConfiguration`ç±»çš„åŒä¸€ä¸ªåŒ…ï¼ˆæˆ–å­åŒ…ï¼‰ä¸­ï¼ŒSpring Bootå°±ä¼šå¤„ç†æ‰€æœ‰è¿™äº›å†…å®¹ã€‚

å¯¹äºè®¸å¤šåº”ç”¨ç¨‹åºï¼Œæ‚¨åªéœ€è¦åœ¨ç±»è·¯å¾„ä¸Šæ”¾ç½®æ­£ç¡®çš„Springæ•°æ®ä¾èµ–é¡¹ï¼ˆJPAæœ‰`spring-boot-starter-data-jpa`ï¼ŒMongodbæœ‰`spring-boot-starter-data-mongodb`ï¼‰å¹¶åˆ›å»ºä¸€äº›å­˜å‚¨åº“æ¥å£æ¥å¤„ç†æ‚¨çš„`@Entity`å¯¹è±¡ã€‚ä¾‹å­åœ¨ [JPAæ ·æœ¬](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-samples/spring-boot-sample-data-jpa)å’Œ [Mongodbæ ·æœ¬ä¸­](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-samples/spring-boot-sample-data-mongodb)ã€‚

Spring Bootæ ¹æ®æ‰¾åˆ°çš„`@EnableAutoConfiguration`å°è¯•çŒœæµ‹`@Repository`å®šä¹‰çš„ä½ç½®ã€‚è¦è·å¾—æ›´å¤šæ§åˆ¶ï¼Œè¯·ä½¿ç”¨`@EnableJpaRepositories`æ³¨é‡Šï¼ˆæ¥è‡ªSpring Data JPAï¼‰ã€‚

æœ‰å…³Springæ•°æ®çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…[Springæ•°æ®é¡¹ç›®é¡µé¢](https://projects.spring.io/spring-data/)ã€‚

84.4ä»Springé…ç½®ä¸­åˆ†ç¦»@Entityå®šä¹‰
-------------------------

Spring Bootæ ¹æ®æ‰¾åˆ°çš„`@EnableAutoConfiguration`å°è¯•çŒœæµ‹`@Entity`å®šä¹‰çš„ä½ç½®ã€‚è¦è·å¾—æ›´å¤šæ§åˆ¶ï¼Œå¯ä»¥ä½¿ç”¨`@EntityScan`æ³¨é‡Šï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
_@Configuration_
_@EnableAutoConfiguration_
_@EntityScan(basePackageClasses=City.class)_
public class Application {

	//...

}
```

84.5é…ç½®JPAå±æ€§
-----------

Springæ•°æ®JPAå·²ç»æä¾›äº†ä¸€äº›ç‹¬ç«‹äºä¾›åº”å•†çš„é…ç½®é€‰é¡¹ï¼ˆä¾‹å¦‚ç”¨äºSQLæ—¥å¿—è®°å½•çš„é…ç½®é€‰é¡¹ï¼‰ï¼ŒSpring Bootå…¬å¼€äº†è¿™äº›é€‰é¡¹ä»¥åŠHibernateçš„ä¸€äº›é€‰é¡¹ä½œä¸ºå¤–éƒ¨é…ç½®å±æ€§ã€‚æ ¹æ®ä¸Šä¸‹æ–‡è‡ªåŠ¨æ£€æµ‹å…¶ä¸­ä¸€äº›ï¼Œå› æ­¤æ‚¨ä¸å¿…è®¾ç½®å®ƒä»¬ã€‚

`spring.jpa.hibernate.ddl-auto`æ˜¯ä¸€ç§ç‰¹æ®Šæƒ…å†µï¼Œå› ä¸ºæ ¹æ®è¿è¡Œæ—¶æ¡ä»¶ï¼Œå®ƒå…·æœ‰ä¸åŒçš„é»˜è®¤å€¼ã€‚å¦‚æœä½¿ç”¨åµŒå…¥å¼æ•°æ®åº“ä¸”æ²¡æœ‰æ¶æ„ç®¡ç†å™¨ï¼ˆä¾‹å¦‚Liquibaseæˆ–Flywayï¼‰æ­£åœ¨å¤„ç†`DataSource`ï¼Œåˆ™é»˜è®¤ä¸º`create-drop`ã€‚åœ¨æ‰€æœ‰å…¶ä»–æƒ…å†µä¸‹ï¼Œé»˜è®¤ä¸º`none`ã€‚

ä½¿ç”¨çš„æ–¹è¨€ä¹Ÿä¼šæ ¹æ®å½“å‰`DataSource`è‡ªåŠ¨æ£€æµ‹ï¼Œä½†å¦‚æœæ‚¨æƒ³è¦æ˜ç¡®å¹¶ä¸”åœ¨å¯åŠ¨æ—¶ç»•è¿‡è¯¥æ£€æŸ¥ï¼Œæ‚¨å¯ä»¥è‡ªå·±è®¾ç½®`spring.jpa.database`ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>æŒ‡å®š<code class="literal" i="3473">database</code>ä¼šå¯¼è‡´é…ç½®æ˜ç¡®å®šä¹‰çš„Hibernateæ–¹è¨€ã€‚æœ‰å‡ ä¸ªæ•°æ®åº“æœ‰å¤šä¸ª<code class="literal" i="3474">Dialect</code>ï¼Œè¿™å¯èƒ½ä¸é€‚åˆæ‚¨çš„éœ€æ±‚ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨å¯ä»¥å°†<code class="literal" i="3475">spring.jpa.database</code>è®¾ç½®ä¸º<code class="literal" i="3476">default</code>ä»¥è®©Hibernateè§£å†³é—®é¢˜æˆ–é€šè¿‡è®¾ç½®<code class="literal" i="3477">spring.jpa.database-platform</code>å±æ€§æ¥è®¾ç½®æ–¹è¨€ã€‚</p></td></tr></tbody></table>

ä»¥ä¸‹ç¤ºä¾‹ä¸­æ˜¾ç¤ºäº†æœ€å¸¸ç”¨çš„è®¾ç½®é€‰é¡¹ï¼š

```
spring.jpa.hibernate.naming.physical-strategy=com.example.MyPhysicalNamingStrategy
spring.jpa.show-sql=true
```

æ­¤å¤–ï¼Œ`spring.jpa.properties.*`ä¸­çš„æ‰€æœ‰å±æ€§åœ¨åˆ›å»ºæœ¬åœ°`EntityManagerFactory`æ—¶ä½œä¸ºæ™®é€šJPAå±æ€§ï¼ˆå¸¦æœ‰å‰ç¼€å‰¥ç¦»ï¼‰ä¼ é€’ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¦‚æœæ‚¨éœ€è¦å¯¹Hibernateå±æ€§åº”ç”¨é«˜çº§è‡ªå®šä¹‰ï¼Œè¯·è€ƒè™‘æ³¨å†Œå°†åœ¨åˆ›å»º<code class="literal" i="3481">EntityManagerFactory</code>ä¹‹å‰è°ƒç”¨çš„<code class="literal" i="3480">HibernatePropertiesCustomizer</code> beanã€‚è¿™ä¼˜å…ˆäºè‡ªåŠ¨é…ç½®åº”ç”¨çš„ä»»ä½•å†…å®¹ã€‚</p></td></tr></tbody></table>

84.6é…ç½®Hibernateå‘½åç­–ç•¥
-------------------

Hibernateä½¿ç”¨[ä¸¤ç§ä¸åŒçš„å‘½åç­–ç•¥](https://docs.jboss.org/hibernate/orm/5.3/userguide/html_single/Hibernate_User_Guide.html#naming)å°†åç§°ä»å¯¹è±¡æ¨¡å‹æ˜ å°„åˆ°ç›¸åº”çš„æ•°æ®åº“åç§°ã€‚å¯ä»¥é€šè¿‡åˆ†åˆ«è®¾ç½®`spring.jpa.hibernate.naming.physical-strategy`å’Œ`spring.jpa.hibernate.naming.implicit-strategy`å±æ€§æ¥é…ç½®ç‰©ç†ç­–ç•¥å®ç°å’Œéšå¼ç­–ç•¥å®ç°çš„å®Œå…¨é™å®šç±»åã€‚æˆ–è€…ï¼Œå¦‚æœåº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ä¸­æœ‰`ImplicitNamingStrategy`æˆ–`PhysicalNamingStrategy` beansï¼Œåˆ™Hibernateå°†è‡ªåŠ¨é…ç½®ä¸ºä½¿ç”¨å®ƒä»¬ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼ŒSpring Bootä½¿ç”¨`SpringPhysicalNamingStrategy`é…ç½®ç‰©ç†å‘½åç­–ç•¥ã€‚è¿™ä¸ªå®ç°æä¾›äº†ä¸Hibernate 4ç›¸åŒçš„è¡¨ç»“æ„ï¼šæ‰€æœ‰ç‚¹éƒ½è¢«ä¸‹åˆ’çº¿æ›¿æ¢ï¼Œå¹¶ä¸”é©¼å³°å¤–å£³ä¹Ÿè¢«ä¸‹åˆ’çº¿æ›¿æ¢ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰è¡¨åéƒ½ä»¥å°å†™å½¢å¼ç”Ÿæˆï¼Œä½†å¦‚æœæ‚¨çš„æ¶æ„éœ€è¦ï¼Œåˆ™å¯ä»¥è¦†ç›–è¯¥æ ‡å¿—ã€‚

ä¾‹å¦‚ï¼Œ`TelephoneNumber`å®ä½“æ˜ å°„åˆ°`telephone_number`è¡¨ã€‚

å¦‚æœæ‚¨æ›´å–œæ¬¢ä½¿ç”¨Hibernate 5çš„é»˜è®¤è®¾ç½®ï¼Œè¯·è®¾ç½®ä»¥ä¸‹å±æ€§ï¼š

```
spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl
```

æˆ–è€…ï¼Œæ‚¨å¯ä»¥é…ç½®ä»¥ä¸‹beanï¼š

```
_@Bean_
public PhysicalNamingStrategy physicalNamingStrategy() {
	return new PhysicalNamingStrategyStandardImpl();
}
```

è§[`HibernateJpaAutoConfiguration`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.java) å’Œ[`JpaBaseConfiguration`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/orm/jpa/JpaBaseConfiguration.java) æ›´å¤šçš„ç»†èŠ‚ã€‚

84.7é…ç½®HibernateäºŒçº§ç¼“å­˜
-------------------

å¯ä»¥ä¸ºä¸€ç³»åˆ—ç¼“å­˜æä¾›ç¨‹åºé…ç½®Hibernate [äºŒçº§](https://docs.jboss.org/hibernate/orm/5.3/userguide/html_single/Hibernate_User_Guide.html#caching)ç¼“å­˜ã€‚ä¸æ˜¯å°†Hibernateé…ç½®ä¸ºå†æ¬¡æŸ¥æ‰¾ç¼“å­˜æä¾›ç¨‹åºï¼Œæœ€å¥½å°½å¯èƒ½æä¾›ä¸Šä¸‹æ–‡ä¸­å¯ç”¨çš„é‚£ä¸ªã€‚

å¦‚æœä½ æ­£åœ¨ä½¿ç”¨JCacheï¼Œè¿™å¾ˆå®¹æ˜“ã€‚é¦–å…ˆï¼Œç¡®ä¿ç±»è·¯å¾„ä¸Šæœ‰`org.hibernate:hibernate-jcache`å¯ç”¨ã€‚ç„¶åï¼Œæ·»åŠ `HibernatePropertiesCustomizer` beanï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
_@Configuration_
public class HibernateSecondLevelCacheExample {

	_@Bean_
	public HibernatePropertiesCustomizer hibernateSecondLevelCacheCustomizer(
			JCacheCacheManager cacheManager) {
		return (properties) -> properties.put(ConfigSettings.CACHE_MANAGER,
				cacheManager.getCacheManager());

	}

}
```

æ­¤è‡ªå®šä¹‰ç¨‹åºå°†é…ç½®Hibernateä½¿ç”¨ä¸åº”ç”¨ç¨‹åºä½¿ç”¨çš„`CacheManager`ç›¸åŒçš„`CacheManager`ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨å•ç‹¬çš„`CacheManager`å®ä¾‹ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…[Hibernateç”¨æˆ·æŒ‡å—](https://docs.jboss.org/hibernate/orm/5.3/userguide/html_single/Hibernate_User_Guide.html#caching-provider-jcache)ã€‚

84.8åœ¨Hibernateç»„ä»¶ä¸­ä½¿ç”¨ä¾èµ–æ³¨å…¥
-----------------------

é»˜è®¤æƒ…å†µä¸‹ï¼ŒSpring Bootæ³¨å†Œä½¿ç”¨`BeanFactory`çš„`BeanContainer`å®ç°ï¼Œä»¥ä¾¿è½¬æ¢å™¨å’Œå®ä½“ä¾¦å¬å™¨å¯ä»¥ä½¿ç”¨å¸¸è§„ä¾èµ–é¡¹æ³¨å…¥ã€‚

æ‚¨å¯ä»¥é€šè¿‡æ³¨å†Œåˆ é™¤æˆ–æ›´æ”¹`hibernate.resource.beans.container`å±æ€§çš„`HibernatePropertiesCustomizer`æ¥ç¦ç”¨æˆ–è°ƒæ•´æ­¤è¡Œä¸ºã€‚

84.9ä½¿ç”¨è‡ªå®šä¹‰EntityManagerFactory
-----------------------------

è¦å®Œå…¨æ§åˆ¶`EntityManagerFactory`çš„é…ç½®ï¼Œæ‚¨éœ€è¦æ·»åŠ åä¸º'entityManagerFactory'çš„`@Bean`ã€‚Spring Boot auto-configurationåœ¨å­˜åœ¨beanç±»å‹çš„æƒ…å†µä¸‹å…³é—­å…¶å®ä½“ç®¡ç†å™¨ã€‚

84.10ä½¿ç”¨ä¸¤ä¸ªEntityManagers
-----------------------

å³ä½¿é»˜è®¤`EntityManagerFactory`å·¥ä½œæ­£å¸¸ï¼Œæ‚¨ä¹Ÿéœ€è¦å®šä¹‰ä¸€ä¸ªæ–°çš„ã€‚å¦åˆ™ï¼Œè¯¥ç±»å‹çš„ç¬¬äºŒä¸ªbeançš„å­˜åœ¨å°†å…³é—­é»˜è®¤å€¼ã€‚ä¸ºæ–¹ä¾¿èµ·è§ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨Spring Bootæä¾›çš„æ–¹ä¾¿`EntityManagerBuilder`ã€‚æˆ–è€…ï¼Œæ‚¨å¯ä»¥ç›´æ¥ä»Spring ORMè·å–`LocalContainerEntityManagerFactoryBean`ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
// add two data sources configured as above

_@Bean_
public LocalContainerEntityManagerFactoryBean customerEntityManagerFactory(
		EntityManagerFactoryBuilder builder) {
	return builder
			.dataSource(customerDataSource())
			.packages(Customer.class)
			.persistenceUnit("customers")
			.build();
}

_@Bean_
public LocalContainerEntityManagerFactoryBean orderEntityManagerFactory(
		EntityManagerFactoryBuilder builder) {
	return builder
			.dataSource(orderDataSource())
			.packages(Order.class)
			.persistenceUnit("orders")
			.build();
}
```

ä¸Šé¢çš„é…ç½®å‡ ä¹å¯ä»¥å•ç‹¬ä½¿ç”¨ã€‚è¦å®Œæˆå›¾ç‰‡ï¼Œæ‚¨è¿˜éœ€è¦ä¸ºä¸¤ä¸ª`EntityManagers`é…ç½®`TransactionManagers`ã€‚å¦‚æœæ‚¨å°†å…¶ä¸­ä¸€ä¸ªæ ‡è®°ä¸º`@Primary`ï¼Œåˆ™å¯ä»¥é€šè¿‡Spring Bootä¸­çš„é»˜è®¤`JpaTransactionManager`æ¥è·å–å®ƒã€‚å¦ä¸€ä¸ªå¿…é¡»æ˜ç¡®åœ°æ³¨å…¥æ–°å®ä¾‹ã€‚æˆ–è€…ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨è·¨è¶Šä¸¤è€…çš„JTAäº‹åŠ¡ç®¡ç†å™¨ã€‚

å¦‚æœæ‚¨ä½¿ç”¨Springæ•°æ®ï¼Œåˆ™éœ€è¦ç›¸åº”åœ°é…ç½®`@EnableJpaRepositories`ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
_@Configuration_
_@EnableJpaRepositories(basePackageClasses = Customer.class,
		entityManagerFactoryRef = "customerEntityManagerFactory")_
public class CustomerConfiguration {
	...
}

_@Configuration_
_@EnableJpaRepositories(basePackageClasses = Order.class,
		entityManagerFactoryRef = "orderEntityManagerFactory")_
public class OrderConfiguration {
	...
}
```

84.11ä½¿ç”¨ç¹ä½“`persistence.xml`æ–‡ä»¶
----------------------------

Spring Booté»˜è®¤æƒ…å†µä¸‹ä¸ä¼šæœç´¢æˆ–ä½¿ç”¨`META-INF/persistence.xml`ã€‚å¦‚æœæ‚¨æ›´å–œæ¬¢ä½¿ç”¨ä¼ ç»Ÿçš„`persistence.xml`ï¼Œåˆ™éœ€è¦å®šä¹‰è‡ªå·±çš„`LocalEntityManagerFactoryBean`ç±»å‹`LocalEntityManagerFactoryBean`ï¼ˆIDä¸ºâ€œentityManagerFactoryâ€ï¼‰å¹¶åœ¨å…¶ä¸­è®¾ç½®æŒä¹…æ€§å•å…ƒåç§°ã€‚

è¯·å‚é˜… [`JpaBaseConfiguration`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/orm/jpa/JpaBaseConfiguration.java) é»˜è®¤è®¾ç½®ã€‚

84.12ä½¿ç”¨Springæ•°æ®JPAå’ŒMongoå­˜å‚¨åº“
---------------------------

Springæ•°æ®JPAå’ŒSpring Data Mongoéƒ½å¯ä»¥è‡ªåŠ¨ä¸ºæ‚¨åˆ›å»º`Repository`å®ç°ã€‚å¦‚æœå®ƒä»¬éƒ½å­˜åœ¨äºç±»è·¯å¾„ä¸­ï¼Œåˆ™å¯èƒ½éœ€è¦æ‰§è¡Œä¸€äº›é¢å¤–é…ç½®ä»¥å‘ŠçŸ¥Spring Bootè¦åˆ›å»ºå“ªäº›å­˜å‚¨åº“ã€‚æœ€æ˜ç¡®çš„æ–¹æ³•æ˜¯ä½¿ç”¨æ ‡å‡†çš„Springæ•°æ®`@EnableJpaRepositories`å’Œ`@EnableMongoRepositories`æ³¨é‡Šï¼Œå¹¶æä¾›`Repository`æ¥å£çš„ä½ç½®ã€‚

è¿˜æœ‰æ ‡å¿—ï¼ˆ`spring.data.*.repositories.enabled`å’Œ`spring.data.*.repositories.type`ï¼‰å¯ç”¨äºåœ¨å¤–éƒ¨é…ç½®ä¸­æ‰“å¼€å’Œå…³é—­è‡ªåŠ¨é…ç½®çš„å­˜å‚¨åº“ã€‚è¿™æ ·åšå¾ˆæœ‰ç”¨ï¼Œä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æƒ³å…³é—­Mongoå­˜å‚¨åº“å¹¶ä»ç„¶ä½¿ç”¨è‡ªåŠ¨é…ç½®çš„`MongoTemplate`ã€‚

å…¶ä»–è‡ªåŠ¨é…ç½®çš„Springæ•°æ®å­˜å‚¨åº“ç±»å‹ï¼ˆElasticsearchï¼ŒSolrç­‰ï¼‰å­˜åœ¨ç›¸åŒçš„éšœç¢å’Œç›¸åŒçš„åŠŸèƒ½ã€‚è¦ä½¿ç”¨å®ƒä»¬ï¼Œè¯·ç›¸åº”åœ°æ›´æ”¹æ³¨é‡Šå’Œæ ‡å¿—çš„åç§°ã€‚

84.13è‡ªå®šä¹‰Springæ•°æ®çš„Webæ”¯æŒ
----------------------

Springæ•°æ®æä¾›Webæ”¯æŒï¼Œç®€åŒ–äº†Webåº”ç”¨ç¨‹åºä¸­Springæ•°æ®å­˜å‚¨åº“çš„ä½¿ç”¨ã€‚Spring Bootæä¾›`spring.data.web`å‘½åç©ºé—´ä¸­çš„å±æ€§ä»¥è‡ªå®šä¹‰å…¶é…ç½®ã€‚è¯·æ³¨æ„ï¼Œå¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯Spring Data RESTï¼Œåˆ™å¿…é¡»ä½¿ç”¨`spring.data.rest`å‘½åç©ºé—´ä¸­çš„å±æ€§ã€‚

84.14å°†Springæ•°æ®å­˜å‚¨åº“å…¬å¼€ä¸ºRESTç«¯ç‚¹
--------------------------

Springæ•°æ®RESTå¯ä»¥ä¸ºæ‚¨æä¾›`Repository`å®ç°ä½œä¸ºRESTç«¯ç‚¹ï¼Œå‰ææ˜¯å·²ä¸ºåº”ç”¨ç¨‹åºå¯ç”¨äº†Spring MVCã€‚

Spring Bootå…¬å¼€äº†ä¸€ç»„è‡ªå®šä¹‰çš„æœ‰ç”¨å±æ€§ï¼ˆæ¥è‡ª`spring.data.rest`å‘½åç©ºé—´ï¼‰ [`RepositoryRestConfiguration`](https://docs.spring.io/spring-data/rest/docs/current/api/org/springframework/data/rest/core/config/RepositoryRestConfiguration.html)ã€‚å¦‚æœæ‚¨éœ€è¦æä¾›å…¶ä»–è‡ªå®šä¹‰ï¼Œåˆ™åº”ä½¿ç”¨ [`RepositoryRestConfigurer`](https://docs.spring.io/spring-data/rest/docs/current/api/org/springframework/data/rest/webmvc/config/RepositoryRestConfigurer.html) beanã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å¦‚æœæ‚¨æœªåœ¨è‡ªå®šä¹‰<code class="literal" i="3523">RepositoryRestConfigurer</code>ä¸ŠæŒ‡å®šä»»ä½•è®¢å•ï¼Œåˆ™ä¼šåœ¨å†…éƒ¨ä½¿ç”¨Spring Bootä¹‹åè¿è¡Œã€‚å¦‚æœéœ€è¦æŒ‡å®šè®¢å•ï¼Œè¯·ç¡®ä¿è®¢å•é«˜äº0ã€‚</p></td></tr></tbody></table>

84.15é…ç½®JPAä½¿ç”¨çš„ç»„ä»¶
---------------

å¦‚æœè¦é…ç½®JPAä½¿ç”¨çš„ç»„ä»¶ï¼Œåˆ™éœ€è¦ç¡®ä¿åœ¨JPAä¹‹å‰åˆå§‹åŒ–ç»„ä»¶ã€‚ç»„ä»¶è‡ªåŠ¨é…ç½®åï¼ŒSpring Bootä¼šä¸ºæ‚¨å¤„ç†æ­¤é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œå½“Flywayè‡ªåŠ¨é…ç½®æ—¶ï¼ŒHibernateé…ç½®ä¸ºä¾èµ–Flywayï¼Œä»¥ä¾¿Flywayæœ‰æœºä¼šåœ¨Hibernateå°è¯•ä½¿ç”¨å®ƒä¹‹å‰åˆå§‹åŒ–æ•°æ®åº“ã€‚

å¦‚æœæ‚¨è‡ªå·±é…ç½®ç»„ä»¶ï¼Œåˆ™å¯ä»¥ä½¿ç”¨`EntityManagerFactoryDependsOnPostProcessor`å­ç±»ä½œä¸ºè®¾ç½®å¿…è¦ä¾èµ–é¡¹çš„ä¾¿æ·æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨å°†Hibernate Searchä¸Elasticsearchä¸€èµ·ç”¨ä½œå…¶ç´¢å¼•ç®¡ç†å™¨ï¼Œåˆ™å¿…é¡»å°†ä»»ä½•`EntityManagerFactory` beansé…ç½®ä¸ºä¾èµ–äº`elasticsearchClient` beanï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
**/**
 * {@link EntityManagerFactoryDependsOnPostProcessor} that ensures that
 * {@link EntityManagerFactory} beans depend on the {@code elasticsearchClient} bean.
 */**
_@Configuration_
static class ElasticsearchJpaDependencyConfiguration
		extends EntityManagerFactoryDependsOnPostProcessor {

	ElasticsearchJpaDependencyConfiguration() {
		super("elasticsearchClient");
	}

}
```

84.16ä½¿ç”¨ä¸¤ä¸ªDataSourceé…ç½®jOOQ
-------------------------

å¦‚æœæ‚¨éœ€è¦å°†jOOQç”¨äºå¤šä¸ªæ•°æ®æºï¼Œåˆ™åº”ä¸ºæ¯ä¸ªæ•°æ®æºåˆ›å»ºè‡ªå·±çš„`DSLContext`ã€‚ æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… [JooqAutoConfiguration](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jooq/JooqAutoConfiguration.java)ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>ç‰¹åˆ«æ˜¯ï¼Œ<code class="literal" i="3528">JooqExceptionTranslator</code>å’Œ<code class="literal" i="3529">SpringTransactionProvider</code>å¯ä»¥é‡å¤ä½¿ç”¨ï¼Œä»¥æä¾›ä¸å•ä¸ª<code class="literal" i="3530">DataSource</code>è‡ªåŠ¨é…ç½®ç›¸ä¼¼çš„åŠŸèƒ½ã€‚</p></td></tr></tbody></table>

85.æ•°æ®åº“åˆå§‹åŒ–
---------

å¯ä»¥ä½¿ç”¨ä¸åŒçš„æ–¹å¼åˆå§‹åŒ–SQLæ•°æ®åº“ï¼Œå…·ä½“å–å†³äºå †æ ˆçš„å†…å®¹ã€‚å½“ç„¶ï¼Œå¦‚æœæ•°æ®åº“æ˜¯ä¸€ä¸ªå•ç‹¬çš„è¿›ç¨‹ï¼Œæ‚¨ä¹Ÿå¯ä»¥æ‰‹åŠ¨æ‰§è¡Œæ­¤æ“ä½œã€‚

85.1ä½¿ç”¨JPAåˆå§‹åŒ–æ•°æ®åº“
---------------

JPAå…·æœ‰DDLç”ŸæˆåŠŸèƒ½ï¼Œå¯ä»¥å°†è¿™äº›åŠŸèƒ½è®¾ç½®ä¸ºåœ¨æ•°æ®åº“å¯åŠ¨æ—¶è¿è¡Œã€‚è¿™æ˜¯é€šè¿‡ä¸¤ä¸ªå¤–éƒ¨å±æ€§æ§åˆ¶çš„ï¼š

*   `spring.jpa.generate-ddl`ï¼ˆå¸ƒå°”å€¼ï¼‰æ‰“å¼€å’Œå…³é—­è¯¥åŠŸèƒ½ï¼Œä¸ä¾›åº”å•†æ— å…³ã€‚
*   `spring.jpa.hibernate.ddl-auto`ï¼ˆæšä¸¾ï¼‰æ˜¯ä¸€ç§HibernateåŠŸèƒ½ï¼Œå®ƒä»¥æ›´ç»†ç²’åº¦çš„æ–¹å¼æ§åˆ¶è¡Œä¸ºã€‚æœ¬æŒ‡å—åé¢å°†è¯¦ç»†ä»‹ç»æ­¤åŠŸèƒ½ã€‚

85.2ä½¿ç”¨Hibernateåˆå§‹åŒ–æ•°æ®åº“
---------------------

æ‚¨å¯ä»¥æ˜¾å¼è®¾ç½®`spring.jpa.hibernate.ddl-auto`ï¼Œæ ‡å‡†Hibernateå±æ€§å€¼ä¸º`none`ï¼Œ`validate`ï¼Œ`update`ï¼Œ`create`å’Œ`create-drop`ã€‚Spring Bootæ ¹æ®æ˜¯å¦è®¤ä¸ºæ‚¨çš„æ•°æ®åº“æ˜¯åµŒå…¥å¼çš„ï¼Œä¸ºæ‚¨é€‰æ‹©é»˜è®¤å€¼ã€‚å¦‚æœæœªæ£€æµ‹åˆ°æ¶æ„ç®¡ç†å™¨ï¼Œåˆ™é»˜è®¤ä¸º`create-drop`;åœ¨æ‰€æœ‰å…¶ä»–æƒ…å†µä¸‹ï¼Œé»˜è®¤ä¸º`none`ã€‚é€šè¿‡æŸ¥çœ‹`Connection`ç±»å‹æ¥æ£€æµ‹åµŒå…¥å¼æ•°æ®åº“ã€‚`hsqldb`ï¼Œ`h2`å’Œ`derby`æ˜¯åµŒå…¥çš„ï¼Œè€Œå…¶ä»–åˆ™ä¸æ˜¯ã€‚ä»å†…å­˜åˆ‡æ¢åˆ°â€œçœŸå®â€æ•°æ®åº“æ—¶è¦å°å¿ƒï¼Œä¸è¦å‡è®¾æ–°å¹³å°ä¸­å­˜åœ¨è¡¨å’Œæ•°æ®ã€‚æ‚¨å¿…é¡»æ˜¾å¼è®¾ç½®`ddl-auto`æˆ–ä½¿ç”¨å…¶ä»–æœºåˆ¶ä¹‹ä¸€æ¥åˆå§‹åŒ–æ•°æ®åº“ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>æ‚¨å¯ä»¥é€šè¿‡å¯ç”¨<code class="literal" i="3546">org.hibernate.SQL</code>è®°å½•å™¨æ¥è¾“å‡ºæ¶æ„åˆ›å»ºã€‚å¦‚æœå¯ç”¨<a class="link" href="#boot-features-logging-console-output" title="26.2æ§åˆ¶å°è¾“å‡º">è°ƒè¯•æ¨¡å¼</a>ï¼Œåˆ™ä¼šè‡ªåŠ¨å®Œæˆæ­¤ <a class="link" href="#boot-features-logging-console-output" title="26.2&nbsp;Console Output">æ“ä½œ</a>ã€‚</p></td></tr></tbody></table>

æ­¤å¤–ï¼Œå¦‚æœHibernateä»å¤´å¼€å§‹åˆ›å»ºæ¨¡å¼ï¼ˆå³ï¼Œå¦‚æœ`ddl-auto`å±æ€§è®¾ç½®ä¸º`create`æˆ–`create-drop`ï¼Œåˆ™ä¼šåœ¨å¯åŠ¨æ—¶æ‰§è¡Œç±»è·¯å¾„æ ¹ç›®å½•ä¸­åä¸º`import.sql`çš„æ–‡ä»¶ï¼‰ã€‚è¿™å¯¹äºæ¼”ç¤ºå’Œæµ‹è¯•å¾ˆæœ‰ç”¨ï¼Œå¦‚æœä½ å°å¿ƒï¼Œä½†å¯èƒ½ä¸æ˜¯ä½ æƒ³è¦åœ¨ç”Ÿäº§ä¸­çš„ç±»è·¯å¾„ä¸Šã€‚å®ƒæ˜¯ä¸€ä¸ªHibernateåŠŸèƒ½ï¼ˆä¸Springæ— å…³ï¼‰ã€‚

85.3åˆå§‹åŒ–æ•°æ®åº“
----------

Spring Bootå¯ä»¥è‡ªåŠ¨åˆ›å»º`DataSource`çš„æ¨¡å¼ï¼ˆDDLè„šæœ¬ï¼‰å¹¶åˆå§‹åŒ–å®ƒï¼ˆDMLè„šæœ¬ï¼‰ã€‚å®ƒä»æ ‡å‡†æ ¹ç±»è·¯å¾„ä½ç½®åŠ è½½SQLï¼š`schema.sql`å’Œ`data.sql`ã€‚æ­¤å¤–ï¼ŒSpring Bootå¤„ç†`schema-${platform}.sql`å’Œ`data-${platform}.sql`æ–‡ä»¶ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ï¼Œå…¶ä¸­`platform`æ˜¯`spring.datasource.platform`çš„å€¼ã€‚è¿™å…è®¸æ‚¨åœ¨å¿…è¦æ—¶åˆ‡æ¢åˆ°ç‰¹å®šäºæ•°æ®åº“çš„è„šæœ¬ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥é€‰æ‹©å°†å…¶è®¾ç½®ä¸ºæ•°æ®åº“çš„ä¾›åº”å•†åç§°ï¼ˆ`hsqldb`ï¼Œ`h2`ï¼Œ`oracle`ï¼Œ`mysql`ï¼Œ`postgresql`ç­‰ç­‰ï¼‰ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>Spring Bootè‡ªåŠ¨åˆ›å»ºåµŒå…¥å¼<code class="literal" i="3563">DataSource</code>çš„æ¶æ„ã€‚å¯ä»¥ä½¿ç”¨<code class="literal" i="3564">spring.datasource.initialization-mode</code>å±æ€§è‡ªå®šä¹‰æ­¤è¡Œä¸ºã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æƒ³è¦å§‹ç»ˆåˆå§‹åŒ–<code class="literal" i="3565">DataSource</code>ï¼Œæ— è®ºå…¶ç±»å‹å¦‚ä½•ï¼š</p><pre class="screen notranslate">spring.datasource.initialization-mode=always</pre></td></tr></tbody></table>

é»˜è®¤æƒ…å†µä¸‹ï¼ŒSpring Bootå¯ç”¨Spring JDBCåˆå§‹åŒ–ç¨‹åºçš„å¿«é€Ÿå¤±è´¥åŠŸèƒ½ã€‚è¿™æ„å‘³ç€ï¼Œå¦‚æœè„šæœ¬å¯¼è‡´å¼‚å¸¸ï¼Œåˆ™åº”ç”¨ç¨‹åºæ— æ³•å¯åŠ¨ã€‚æ‚¨å¯ä»¥é€šè¿‡è®¾ç½®`spring.datasource.continue-on-error`æ¥è°ƒæ•´è¯¥è¡Œä¸ºã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>åœ¨åŸºäºJPAçš„åº”ç”¨ç¨‹åºä¸­ï¼Œæ‚¨å¯ä»¥é€‰æ‹©è®©Hibernateåˆ›å»ºæ¶æ„æˆ–ä½¿ç”¨<code class="literal" i="3567">schema.sql</code>ï¼Œä½†æ‚¨ä¸èƒ½åŒæ—¶æ‰§è¡Œè¿™ä¸¤é¡¹æ“ä½œã€‚å¦‚æœæ‚¨ä½¿ç”¨<code class="literal" i="3569">schema.sql</code>ï¼Œè¯·åŠ¡å¿…ç¦ç”¨<code class="literal" i="3568">spring.jpa.hibernate.ddl-auto</code>ã€‚</p></td></tr></tbody></table>

85.4åˆå§‹åŒ–Springæ‰¹å¤„ç†æ•°æ®åº“
-------------------

å¦‚æœæ‚¨ä½¿ç”¨Spring Batchï¼Œå®ƒä¼šé¢„å…ˆæ‰“åŒ…ç”¨äºå¤§å¤šæ•°æµè¡Œæ•°æ®åº“å¹³å°çš„SQLåˆå§‹åŒ–è„šæœ¬ã€‚Spring Bootå¯ä»¥æ£€æµ‹æ‚¨çš„æ•°æ®åº“ç±»å‹å¹¶åœ¨å¯åŠ¨æ—¶æ‰§è¡Œè¿™äº›è„šæœ¬ã€‚å¦‚æœä½¿ç”¨åµŒå…¥å¼æ•°æ®åº“ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¼šå‘ç”Ÿè¿™ç§æƒ…å†µã€‚æ‚¨è¿˜å¯ä»¥ä¸ºä»»ä½•æ•°æ®åº“ç±»å‹å¯ç”¨å®ƒï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
spring.batch.initialize-schema=always
```

æ‚¨è¿˜å¯ä»¥é€šè¿‡è®¾ç½®`spring.batch.initialize-schema=never`æ˜¾å¼å…³é—­åˆå§‹åŒ–ã€‚

85.5ä½¿ç”¨æ›´é«˜çº§åˆ«çš„æ•°æ®åº“è¿ç§»å·¥å…·
------------------

Spring Bootæ”¯æŒä¸¤ç§æ›´é«˜çº§åˆ«çš„è¿ç§»å·¥å…·ï¼š[è¿é£](https://flywaydb.org/) å’Œ[Liquibase](http://www.liquibase.org/)ã€‚

### 85.5.1åœ¨å¯åŠ¨æ—¶æ‰§è¡ŒFlywayæ•°æ®åº“è¿ç§»

è¦åœ¨å¯åŠ¨æ—¶è‡ªåŠ¨è¿è¡ŒFlywayæ•°æ®åº“è¿ç§»ï¼Œè¯·å°†`org.flywaydb:flyway-core`æ·»åŠ åˆ°ç±»è·¯å¾„ä¸­ã€‚

è¿ç§»æ˜¯`V<VERSION>__<NAME>.sql`å½¢å¼çš„è„šæœ¬ï¼ˆ`<VERSION>`æ˜¯ä¸‹åˆ’çº¿åˆ†éš”çš„ç‰ˆæœ¬ï¼Œä¾‹å¦‚'1'æˆ–'2_1'ï¼‰ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒä»¬ä½äºåä¸º`classpath:db/migration`çš„æ–‡ä»¶å¤¹ä¸­ï¼Œä½†æ‚¨å¯ä»¥é€šè¿‡è®¾ç½®`spring.flyway.locations`æ¥ä¿®æ”¹è¯¥ä½ç½®ã€‚è¿™æ˜¯ä¸€ä¸ªä»¥é€—å·åˆ†éš”çš„åˆ—è¡¨ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ª`classpath:`æˆ–`filesystem:`ä½ç½®ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹é…ç½®å°†åœ¨é»˜è®¤ç±»è·¯å¾„ä½ç½®å’Œ`/opt/migration`ç›®å½•ä¸­æœç´¢è„šæœ¬ï¼š

```
spring.flyway.locations=classpath:db/migration,filesystem:/opt/migration
```

æ‚¨è¿˜å¯ä»¥æ·»åŠ ç‰¹æ®Šçš„`{vendor}`å ä½ç¬¦ä»¥ä½¿ç”¨ç‰¹å®šäºä¾›åº”å•†çš„è„šæœ¬ã€‚å‡è®¾å¦‚ä¸‹ï¼š

```
spring.flyway.locations=classpath:db/migration/{vendor}
```

å‰é¢çš„é…ç½®ä¸æ˜¯ä½¿ç”¨`db/migration`ï¼Œè€Œæ˜¯æ ¹æ®æ•°æ®åº“çš„ç±»å‹è®¾ç½®è¦ä½¿ç”¨çš„æ–‡ä»¶å¤¹ï¼ˆä¾‹å¦‚MySQLçš„`db/migration/mysql`ï¼‰ã€‚æ”¯æŒçš„æ•°æ®åº“åˆ—è¡¨å¯åœ¨ä»¥ä¸‹ä½ç½®æ‰¾åˆ° [`DatabaseDriver`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/jdbc/DatabaseDriver.java)ã€‚

[`FlywayProperties`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/flyway/FlywayProperties.java) æä¾›å¤§éƒ¨åˆ†Flywayçš„è®¾ç½®å’Œä¸€å°ç»„å…¶ä»–å±æ€§ï¼Œå¯ç”¨äºç¦ç”¨è¿ç§»æˆ–å…³é—­ä½ç½®æ£€æŸ¥ã€‚å¦‚æœæ‚¨éœ€è¦æ›´å¤šæ§åˆ¶é…ç½®ï¼Œè¯·è€ƒè™‘æ³¨å†Œ`FlywayConfigurationCustomizer` beanã€‚

Spring Bootè°ƒç”¨`Flyway.migrate()`æ¥æ‰§è¡Œæ•°æ®åº“è¿ç§»ã€‚å¦‚æœæ‚¨æƒ³è¦æ›´å¤šæ§åˆ¶æƒï¼Œè¯·æä¾›å®æ–½çš„`@Bean` [`FlywayMigrationStrategy`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/flyway/FlywayMigrationStrategy.java)ã€‚

Flywayæ”¯æŒSQLå’ŒJava [å›è°ƒ](https://flywaydb.org/documentation/callbacks.html)ã€‚è¦ä½¿ç”¨åŸºäºSQLçš„å›è°ƒï¼Œè¯·å°†å›è°ƒè„šæœ¬æ”¾åœ¨`classpath:db/migration`æ–‡ä»¶å¤¹ä¸­ã€‚è¦ä½¿ç”¨åŸºäºJavaçš„å›è°ƒï¼Œè¯·åˆ›å»ºä¸€ä¸ªæˆ–å¤šä¸ªå®ç°`Callback`çš„beansã€‚ä»»ä½•æ­¤ç±»beanséƒ½ä¼šè‡ªåŠ¨æ³¨å†Œ`Flyway`ã€‚å¯ä»¥ä½¿ç”¨`@Order`æˆ–å®æ–½`Ordered`è®¢è´­ã€‚ä¹Ÿå¯ä»¥æ£€æµ‹åˆ°å®ç°å·²å¼ƒç”¨çš„`FlywayCallback`æ¥å£çš„Beansï¼Œä½†å®ƒä»¬ä¸èƒ½ä¸`Callback` beansä¸€èµ·ä½¿ç”¨ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼ŒFlywayä¼šåœ¨æ‚¨çš„ä¸Šä¸‹æ–‡ä¸­è‡ªåŠ¨è£…é…ï¼ˆ`@Primary`ï¼‰`DataSource`å¹¶å°†å…¶ç”¨äºè¿ç§»ã€‚å¦‚æœæ‚¨æƒ³ä½¿ç”¨å…¶ä»–`DataSource`ï¼Œåˆ™å¯ä»¥åˆ›å»ºä¸€ä¸ª`@Bean`å¹¶å°†å…¶æ ‡è®°ä¸º`@FlywayDataSource`ã€‚å¦‚æœæ‚¨è¿™æ ·åšå¹¶æƒ³è¦ä¸¤ä¸ªæ•°æ®æºï¼Œè¯·è®°ä½åˆ›å»ºå¦ä¸€ä¸ªæ•°æ®æºå¹¶å°†å…¶æ ‡è®°ä¸º`@Primary`ã€‚æˆ–è€…ï¼Œæ‚¨å¯ä»¥é€šè¿‡åœ¨å¤–éƒ¨å±æ€§ä¸­è®¾ç½®`spring.flyway.[url,user,password]`æ¥ä½¿ç”¨Flywayçš„åŸç”Ÿ`DataSource`ã€‚è®¾ç½®`spring.flyway.url`æˆ–`spring.flyway.user`è¶³ä»¥ä½¿Flywayä½¿ç”¨è‡ªå·±çš„`DataSource`ã€‚å¦‚æœæœªè®¾ç½®ä¸‰ä¸ªå±æ€§ä¸­çš„ä»»ä½•ä¸€ä¸ªï¼Œå°†ä½¿ç”¨å…¶ç­‰æ•ˆ`spring.datasource`å±æ€§çš„å€¼ã€‚

æœ‰ä¸€ä¸ª[Flywayç¤ºä¾‹](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-samples/spring-boot-sample-flyway)ï¼Œæ‚¨å¯ä»¥çœ‹åˆ°å¦‚ä½•è®¾ç½®ã€‚

æ‚¨è¿˜å¯ä»¥ä½¿ç”¨Flywayä¸ºç‰¹å®šæ–¹æ¡ˆæä¾›æ•°æ®ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥åœ¨`src/test/resources`ä¸­æ”¾ç½®ç‰¹å®šäºæµ‹è¯•çš„è¿ç§»ï¼Œå¹¶ä¸”åªæœ‰åœ¨åº”ç”¨ç¨‹åºå¯åŠ¨æµ‹è¯•æ—¶æ‰ä¼šè¿è¡Œå®ƒä»¬ã€‚æ­¤å¤–ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ç‰¹å®šäºé…ç½®æ–‡ä»¶çš„é…ç½®æ¥è‡ªå®šä¹‰`spring.flyway.locations`ï¼Œä»¥ä¾¿æŸäº›è¿ç§»ä»…åœ¨ç‰¹å®šé…ç½®æ–‡ä»¶å¤„äºæ´»åŠ¨çŠ¶æ€æ—¶è¿è¡Œã€‚ä¾‹å¦‚ï¼Œåœ¨`application-dev.properties`ä¸­ï¼Œæ‚¨å¯ä»¥æŒ‡å®šä»¥ä¸‹è®¾ç½®ï¼š

```
spring.flyway.locations=classpath:/db/migration,classpath:/dev/db/migration
```

ä½¿ç”¨è¯¥è®¾ç½®ï¼Œ`dev/db/migration`ä¸­çš„è¿ç§»ä»…åœ¨`dev`é…ç½®æ–‡ä»¶å¤„äºæ´»åŠ¨çŠ¶æ€æ—¶è¿è¡Œã€‚

### 85.5.2åœ¨å¯åŠ¨æ—¶æ‰§è¡ŒLiquibaseæ•°æ®åº“è¿ç§»

è¦åœ¨å¯åŠ¨æ—¶è‡ªåŠ¨è¿è¡ŒLiquibaseæ•°æ®åº“è¿ç§»ï¼Œè¯·å°†`org.liquibase:liquibase-core`æ·»åŠ åˆ°ç±»è·¯å¾„ä¸­ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸»æ›´æ”¹æ—¥å¿—æ˜¯ä»`db/changelog/db.changelog-master.yaml`è¯»å–çš„ï¼Œä½†æ‚¨å¯ä»¥é€šè¿‡è®¾ç½®`spring.liquibase.change-log`æ¥æ›´æ”¹ä½ç½®ã€‚é™¤äº†YAMLï¼ŒLiquibaseè¿˜æ”¯æŒJSONï¼ŒXMLå’ŒSQLæ›´æ”¹æ—¥å¿—æ ¼å¼ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼ŒLiquibaseä¼šåœ¨æ‚¨çš„ä¸Šä¸‹æ–‡ä¸­è‡ªåŠ¨è£…é…ï¼ˆ`@Primary`ï¼‰`DataSource`å¹¶å°†å…¶ç”¨äºè¿ç§»ã€‚å¦‚æœæ‚¨éœ€è¦ä½¿ç”¨å…¶ä»–`DataSource`ï¼Œåˆ™å¯ä»¥åˆ›å»ºä¸€ä¸ª`@Bean`å¹¶å°†å…¶æ ‡è®°ä¸º`@LiquibaseDataSource`ã€‚å¦‚æœæ‚¨è¿™æ ·åšå¹¶ä¸”æƒ³è¦ä¸¤ä¸ªæ•°æ®æºï¼Œè¯·è®°ä½åˆ›å»ºå¦ä¸€ä¸ªæ•°æ®æºå¹¶å°†å…¶æ ‡è®°ä¸º`@Primary`ã€‚æˆ–è€…ï¼Œæ‚¨å¯ä»¥é€šè¿‡åœ¨å¤–éƒ¨å±æ€§ä¸­è®¾ç½®`spring.liquibase.[url,user,password]`æ¥ä½¿ç”¨Liquibaseçš„æœ¬æœº`DataSource`ã€‚è®¾ç½®`spring.liquibase.url`æˆ–`spring.liquibase.user`è¶³ä»¥ä½¿Liquibaseä½¿ç”¨è‡ªå·±çš„`DataSource`ã€‚å¦‚æœæœªè®¾ç½®ä¸‰ä¸ªå±æ€§ä¸­çš„ä»»ä½•ä¸€ä¸ªï¼Œå°†ä½¿ç”¨å…¶ç­‰æ•ˆ`spring.datasource`å±æ€§çš„å€¼ã€‚

[`LiquibaseProperties`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/liquibase/LiquibaseProperties.java) æœ‰å…³å¯ç”¨è®¾ç½®çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… ä¸Šä¸‹æ–‡ï¼Œé»˜è®¤æ¶æ„ç­‰ã€‚

æœ‰ä¸€ä¸ª[Liquibaseæ ·æœ¬ï¼Œ](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-samples/spring-boot-sample-liquibase)ä»¥ä¾¿æ‚¨å¯ä»¥çœ‹åˆ°å¦‚ä½•è®¾ç½®ã€‚

86.æ¶ˆæ¯ä¼ é€’
-------

Spring Bootæä¾›äº†è®¸å¤šåŒ…å«æ¶ˆæ¯ä¼ é€’çš„åˆå­¦è€…ã€‚æœ¬èŠ‚å›ç­”ä½¿ç”¨Spring Bootæ¶ˆæ¯ä¼ é€’äº§ç”Ÿçš„é—®é¢˜ã€‚

86.1ç¦ç”¨äº‹åŠ¡å¤„ç†çš„JMSä¼šè¯
----------------

å¦‚æœæ‚¨çš„JMSä»£ç†ä¸æ”¯æŒäº‹åŠ¡ä¼šè¯ï¼Œåˆ™å¿…é¡»å®Œå…¨ç¦ç”¨äº‹åŠ¡æ”¯æŒã€‚å¦‚æœæ‚¨åˆ›å»ºè‡ªå·±çš„`JmsListenerContainerFactory`ï¼Œåˆ™æ— éœ€æ‰§è¡Œä»»ä½•æ“ä½œï¼Œå› ä¸ºé»˜è®¤æƒ…å†µä¸‹æ— æ³•è¿›è¡Œäº¤æ˜“ã€‚å¦‚æœè¦ä½¿ç”¨`DefaultJmsListenerContainerFactoryConfigurer`é‡ç”¨Spring Bootçš„é»˜è®¤å€¼ï¼Œå¯ä»¥ç¦ç”¨äº‹åŠ¡å¤„ç†ä¼šè¯ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
_@Bean_
public DefaultJmsListenerContainerFactory jmsListenerContainerFactory(
		ConnectionFactory connectionFactory,
		DefaultJmsListenerContainerFactoryConfigurer configurer) {
	DefaultJmsListenerContainerFactory listenerFactory =
			new DefaultJmsListenerContainerFactory();
	configurer.configure(listenerFactory, connectionFactory);
	listenerFactory.setTransactionManager(null);
	listenerFactory.setSessionTransacted(false);
	return listenerFactory;
}
```

ä¸Šé¢çš„ç¤ºä¾‹å°†è¦†ç›–é»˜è®¤å·¥å‚ï¼Œå¹¶ä¸”åº”è¯¥åº”ç”¨äºåº”ç”¨ç¨‹åºå®šä¹‰çš„ä»»ä½•å…¶ä»–å·¥å‚ï¼ˆå¦‚æœæœ‰ï¼‰ã€‚

87.æ‰¹é‡ç”³è¯·
-------

æœ¬èŠ‚å›ç­”äº†ä½¿ç”¨Springæ‰¹å¤„ç†Spring Bootæ—¶å‡ºç°çš„é—®é¢˜ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰¹å¤„ç†åº”ç”¨ç¨‹åºéœ€è¦<code class="literal" i="3626">DataSource</code>æ¥å­˜å‚¨ä½œä¸šè¯¦ç»†ä¿¡æ¯ã€‚å¦‚æœä½ æƒ³åç¦»å®ƒï¼Œä½ éœ€è¦å®ç°<code class="literal" i="3627">BatchConfigurer</code>ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… <a class="link" href="https://docs.spring.io/spring-batch/apidocs/org/springframework/batch/core/configuration/annotation/EnableBatchProcessing.html" target="_top"><code class="literal" i="3628">@EnableBatchProcessing</code>çš„Javadoc</a>ã€‚</p></td></tr></tbody></table>

æœ‰å…³Spring Batchçš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…[Springæ‰¹å¤„ç†é¡¹ç›®é¡µé¢](https://projects.spring.io/spring-batch/)ã€‚

87.1åœ¨å¯åŠ¨æ—¶æ‰§è¡ŒSpringæ‰¹å¤„ç†ä½œä¸š
---------------------

Springé€šè¿‡åœ¨ä¸Šä¸‹æ–‡ä¸­çš„æŸå¤„æ·»åŠ `@EnableBatchProcessing`ï¼ˆæ¥è‡ªSpringæ‰¹å¤„ç†ï¼‰æ¥å¯ç”¨æ‰¹é‡è‡ªåŠ¨é…ç½®ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒåœ¨å¯åŠ¨æ—¶åœ¨åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ä¸­æ‰§è¡Œ**æ‰€æœ‰** `Jobs`ï¼ˆ æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… [JobLauncherCommandLineRunner](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/batch/JobLauncherCommandLineRunner.java)ï¼‰ã€‚æ‚¨å¯ä»¥é€šè¿‡æŒ‡å®š`spring.batch.job.names`ï¼ˆä»¥é€—å·åˆ†éš”çš„ä½œä¸šåç§°æ¨¡å¼åˆ—è¡¨ï¼‰ç¼©å°åˆ°ç‰¹å®šä½œä¸šæˆ–ä½œä¸šçš„èŒƒå›´ã€‚

<table border="0" summary="Tip: Specifying job parameters on the command line"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">åœ¨å‘½ä»¤è¡Œä¸ŠæŒ‡å®šä½œä¸šå‚æ•°</th></tr><tr><td align="left" valign="top"><p>ä¸<a class="link" href="#boot-features-external-config-command-line-args" title="24.2è®¿é—®å‘½ä»¤è¡Œå±æ€§">åœ¨<code class="literal" i="3632">Environment</code></a>ä¸­<a class="link" href="#boot-features-external-config-command-line-args" title="24.2&nbsp;Accessing Command Line Properties">è®¾ç½®å±æ€§çš„</a>å‘½ä»¤è¡Œé€‰é¡¹å‚æ•° ï¼ˆå³ä»¥<code class="literal" i="3633">--</code>å¼€å¤´ï¼Œä¾‹å¦‚<code class="literal" i="3634">--my-property=value</code>ï¼‰ä¸åŒï¼Œå¿…é¡»åœ¨å‘½ä»¤è¡Œä¸ŠæŒ‡å®šä½œä¸šå‚æ•°è€Œä¸ä½¿ç”¨ç ´æŠ˜å·ï¼ˆä¾‹å¦‚<code class="literal" i="3635">jobParam=value</code> ï¼‰ã€‚</p></td></tr></tbody></table>

å¦‚æœåº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡åŒ…å«`JobRegistry`ï¼Œåˆ™`spring.batch.job.names`ä¸­çš„ä½œä¸šå°†åœ¨æ³¨å†Œè¡¨ä¸­æŸ¥æ‰¾ï¼Œè€Œä¸æ˜¯ä»ä¸Šä¸‹æ–‡ä¸­è‡ªåŠ¨è£…é…ã€‚è¿™æ˜¯ä¸€ä¸ªå…·æœ‰æ›´å¤æ‚ç³»ç»Ÿçš„å¸¸è§æ¨¡å¼ï¼Œå…¶ä¸­å¤šä¸ªä½œä¸šåœ¨å­ä¸Šä¸‹æ–‡ä¸­å®šä¹‰å¹¶é›†ä¸­æ³¨å†Œã€‚

æœ‰å…³ æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… [BatchAutoConfiguration](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/batch/BatchAutoConfiguration.java) å’Œ [@EnableBatchProcessing](https://github.com/spring-projects/spring-batch/blob/master/spring-batch-core/src/main/java/org/springframework/batch/core/configuration/annotation/EnableBatchProcessing.java)ã€‚

88.æ‰§è¡Œå™¨
------

Spring BootåŒ…æ‹¬Spring Boot Actuatorã€‚æœ¬èŠ‚å›ç­”äº†å…¶ä½¿ç”¨ä¸­ç»å¸¸å‡ºç°çš„é—®é¢˜ã€‚

88.1æ›´æ”¹æ‰§è¡Œå™¨ç«¯ç‚¹çš„HTTPç«¯å£æˆ–åœ°å€
---------------------

åœ¨ç‹¬ç«‹åº”ç”¨ç¨‹åºä¸­ï¼ŒActuator HTTPç«¯å£é»˜è®¤ä¸ä¸»HTTPç«¯å£ç›¸åŒã€‚è¦ä½¿åº”ç”¨ç¨‹åºä¾¦å¬å…¶ä»–ç«¯å£ï¼Œè¯·è®¾ç½®å¤–éƒ¨å±æ€§ï¼š`management.server.port`ã€‚è¦ä¾¦å¬å®Œå…¨ä¸åŒçš„ç½‘ç»œåœ°å€ï¼ˆä¾‹å¦‚ï¼Œå½“æ‚¨æœ‰ç”¨äºç®¡ç†çš„å†…éƒ¨ç½‘ç»œå’Œç”¨äºç”¨æˆ·åº”ç”¨ç¨‹åºçš„å¤–éƒ¨ç½‘ç»œæ—¶ï¼‰ï¼Œæ‚¨è¿˜å¯ä»¥å°†`management.server.address`è®¾ç½®ä¸ºæœåŠ¡å™¨èƒ½å¤Ÿç»‘å®šçš„æœ‰æ•ˆIPåœ°å€ã€‚

æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…â€œç”Ÿäº§å°±ç»ªåŠŸèƒ½â€éƒ¨åˆ†ä¸­çš„ [`ManagementServerProperties`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/web/server/ManagementServerProperties.java) æºä»£ç å’Œâ€œ [ç¬¬54.2èŠ‚](#production-ready-customizing-management-server-port "54.2è‡ªå®šä¹‰Management Serverç«¯å£") â€ [ï¼Œâ€œè‡ªå®šä¹‰ç®¡ç†æœåŠ¡å™¨ç«¯å£â€](#production-ready-customizing-management-server-port "54.2Â Customizing the Management Server Port") â€œã€‚

88.2è‡ªå®šä¹‰'whitelabel'é”™è¯¯é¡µé¢
-----------------------

Spring Bootå¦‚æœæ‚¨é‡åˆ°æœåŠ¡å™¨é”™è¯¯ï¼Œåˆ™ä¼šåœ¨æµè§ˆå™¨å®¢æˆ·ç«¯ä¸­å®‰è£…â€œwhitelabelâ€é”™è¯¯é¡µé¢ï¼ˆä½¿ç”¨JSONå’Œå…¶ä»–åª’ä½“ç±»å‹çš„è®¡ç®—æœºå®¢æˆ·ç«¯åº”è¯¥çœ‹åˆ°å…·æœ‰æ­£ç¡®é”™è¯¯ä»£ç çš„åˆç†å“åº”ï¼‰ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>è®¾ç½®<code class="literal" i="3640">server.error.whitelabel.enabled=false</code>ä»¥å…³é—­é»˜è®¤é”™è¯¯é¡µé¢ã€‚è¿™æ ·åšä¼šæ¢å¤æ‚¨æ­£åœ¨ä½¿ç”¨çš„servletå®¹å™¨çš„é»˜è®¤å€¼ã€‚è¯·æ³¨æ„ï¼ŒSpring Bootä»å°è¯•è§£å†³é”™è¯¯è§†å›¾ï¼Œå› æ­¤æ‚¨åº”è¯¥æ·»åŠ è‡ªå·±çš„é”™è¯¯é¡µé¢ï¼Œè€Œä¸æ˜¯å®Œå…¨ç¦ç”¨å®ƒã€‚</p></td></tr></tbody></table>

ä½¿ç”¨æ‚¨è‡ªå·±çš„é”™è¯¯é¡µé¢è¦†ç›–é”™è¯¯é¡µé¢å–å†³äºæ‚¨ä½¿ç”¨çš„æ¨¡æ¿æŠ€æœ¯ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨ä½¿ç”¨Thymeleafï¼Œåˆ™å¯ä»¥æ·»åŠ `error.html`æ¨¡æ¿ã€‚å¦‚æœæ‚¨ä½¿ç”¨FreeMarkerï¼Œåˆ™å¯ä»¥æ·»åŠ `error.ftl`æ¨¡æ¿ã€‚é€šå¸¸ï¼Œæ‚¨éœ€è¦`View`ï¼Œå…¶åç§°ä¸º`error`æˆ–`@Controller`å¤„ç†`/error`è·¯å¾„ã€‚é™¤éæ‚¨æ›¿æ¢äº†æŸäº›é»˜è®¤é…ç½®ï¼Œå¦åˆ™æ‚¨åº”è¯¥åœ¨`ApplicationContext`ä¸­æ‰¾åˆ°`BeanNameViewResolver`ï¼Œå› æ­¤åä¸º`error`çš„`@Bean`å°†æ˜¯ä¸€ç§ç®€å•çš„æ–¹æ³•ã€‚æœ‰å…³[`ErrorMvcAutoConfiguration`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/servlet/error/ErrorMvcAutoConfiguration.java) æ›´å¤šé€‰é¡¹ï¼Œè¯·å‚é˜…

æœ‰å…³å¦‚ä½•åœ¨servletå®¹å™¨ä¸­æ³¨å†Œå¤„ç†ç¨‹åºçš„è¯¦ç»†ä¿¡æ¯ï¼Œå¦è¯·å‚é˜…â€œ [é”™è¯¯å¤„ç†](#boot-features-error-handling "28.1.11é”™è¯¯å¤„ç†") â€ ä¸€èŠ‚ã€‚

88.3æ¶ˆé™¤æ•æ„Ÿä»·å€¼
----------

`env`å’Œ`configprops`ç«¯ç‚¹è¿”å›çš„ä¿¡æ¯å¯èƒ½æœ‰äº›æ•æ„Ÿï¼Œå› æ­¤é»˜è®¤æƒ…å†µä¸‹å°†åŒ¹é…ç‰¹å®šæ¨¡å¼çš„å¯†é’¥è¿›è¡Œæ¸…ç†ï¼ˆå³å®ƒä»¬çš„å€¼ç”±`******`æ›¿æ¢ï¼‰ã€‚

Spring Bootä½¿ç”¨è¿™äº›å¯†é’¥çš„åˆç†é»˜è®¤å€¼ï¼šä¾‹å¦‚ï¼Œä»»ä½•ä»¥â€œpasswordâ€ï¼Œâ€œsecretâ€ï¼Œâ€œkeyâ€æˆ–â€œtokenâ€ç»“å°¾çš„å¯†é’¥éƒ½å°†è¢«æ¸…ç†ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼Œä¾‹å¦‚`*credentials.*`æ¥æ¸…ç†ä»»ä½•å°†å•è¯`credentials`ä½œä¸ºé”®çš„ä¸€éƒ¨åˆ†çš„é”®ã€‚

å¯ä»¥ä½¿ç”¨`management.endpoint.env.keys-to-sanitize`å’Œ`management.endpoint.configprops.keys-to-sanitize`åˆ†åˆ«è‡ªå®šä¹‰è¦ä½¿ç”¨çš„æ¨¡å¼ã€‚

89.å®‰å…¨
-----

æœ¬èŠ‚ä»‹ç»ä½¿ç”¨Spring Bootæ—¶æœ‰å…³å®‰å…¨æ€§çš„é—®é¢˜ï¼ŒåŒ…æ‹¬ä½¿ç”¨Springå®‰å…¨æ€§Spring Bootæ—¶å‡ºç°çš„é—®é¢˜ã€‚

æœ‰å…³Springå®‰å…¨æ€§çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…[Springå®‰å…¨é¡¹ç›®é¡µé¢](https://projects.spring.io/spring-security/)ã€‚

89.1å…³é—­Spring Bootå®‰å…¨é…ç½®
---------------------

å¦‚æœæ‚¨åœ¨åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨`WebSecurityConfigurerAdapter`å®šä¹‰`@Configuration`ï¼Œåˆ™ä¼šå…³é—­Spring Bootä¸­çš„é»˜è®¤Webappå®‰å…¨è®¾ç½®ã€‚

89.2æ›´æ”¹UserDetailsSâ€‹â€‹erviceå’Œæ·»åŠ ç”¨æˆ·å¸æˆ·
---------------------------------

å¦‚æœæ‚¨æä¾›çš„`@Bean`ç±»å‹ä¸º`AuthenticationManager`ï¼Œ`AuthenticationProvider`æˆ–`UserDetailsService`ï¼Œåˆ™ä¸ä¼šåˆ›å»º`InMemoryUserDetailsManager`çš„é»˜è®¤`@Bean`ï¼Œå› æ­¤æ‚¨æ‹¥æœ‰{çš„å®Œæ•´åŠŸèƒ½é›†15 /}å®‰å…¨å¯ç”¨ï¼ˆä¾‹å¦‚å„ç§èº«ä»½éªŒè¯é€‰é¡¹ï¼‰ã€‚[å„ç§èº«ä»½éªŒè¯é€‰é¡¹](https://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#jc-authentication)ï¼‰ã€‚

æ·»åŠ ç”¨æˆ·å¸æˆ·çš„æœ€ç®€å•æ–¹æ³•æ˜¯æä¾›æ‚¨è‡ªå·±çš„`UserDetailsService` beanã€‚

89.3åœ¨ä»£ç†æœåŠ¡å™¨åé¢è¿è¡Œæ—¶å¯ç”¨HTTPS
----------------------

ç¡®ä¿æ‰€æœ‰ä¸»è¦ç«¯ç‚¹ä»…é€šè¿‡HTTPSå¯ç”¨æ˜¯ä»»ä½•åº”ç”¨ç¨‹åºçš„é‡è¦å·¥ä½œã€‚å¦‚æœä½ ä½¿ç”¨Tomcatä½œä¸ºservletå®¹å™¨ï¼Œé‚£ä¹ˆSpring Bootä¼šè‡ªåŠ¨æ·»åŠ Tomcatè‡ªå·±çš„`RemoteIpValve`ï¼Œå¦‚æœå®ƒæ£€æµ‹åˆ°ä¸€äº›ç¯å¢ƒè®¾ç½®ï¼Œä½ åº”è¯¥èƒ½å¤Ÿä¾é `HttpServletRequest`æ¥æŠ¥å‘Šå®ƒæ˜¯å¦å®‰å…¨ï¼ˆç”šè‡³æ˜¯å¤„ç†çœŸæ­£SSLç»ˆæ­¢çš„ä»£ç†æœåŠ¡å™¨çš„ä¸‹æ¸¸ï¼‰ã€‚æ ‡å‡†è¡Œä¸ºå–å†³äºæŸäº›è¯·æ±‚æ ‡å¤´ï¼ˆ`x-forwarded-for`å’Œ`x-forwarded-proto`ï¼‰çš„å­˜åœ¨ä¸å¦ï¼Œå…¶åç§°æ˜¯å¸¸è§„çš„ï¼Œå› æ­¤å®ƒåº”è¯¥é€‚ç”¨äºå¤§å¤šæ•°å‰ç«¯ä»£ç†ã€‚æ‚¨å¯ä»¥é€šè¿‡å‘`application.properties`æ·»åŠ ä¸€äº›æ¡ç›®æ¥æ‰“å¼€é˜€é—¨ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
server.tomcat.remote-ip-header=x-forwarded-for
server.tomcat.protocol-header=x-forwarded-proto
```

ï¼ˆè¿™äº›å±æ€§ä¸­çš„ä»»ä½•ä¸€ä¸ªçš„å­˜åœ¨éƒ½ä¼šæ‰“å¼€é˜€é—¨ã€‚æˆ–è€…ï¼Œæ‚¨å¯ä»¥é€šè¿‡æ·»åŠ `TomcatServletWebServerFactory` beanæ¥æ·»åŠ `RemoteIpValve`ã€‚ï¼‰

è¦å°†Springå®‰å…¨æ€§é…ç½®ä¸ºè¦æ±‚æ‰€æœ‰ï¼ˆæˆ–æŸäº›ï¼‰è¯·æ±‚çš„å®‰å…¨é€šé“ï¼Œè¯·è€ƒè™‘æ·»åŠ è‡ªå·±çš„`WebSecurityConfigurerAdapter`ï¼Œä»¥æ·»åŠ ä»¥ä¸‹`HttpSecurity`é…ç½®ï¼š

```
_@Configuration_
public class SslWebSecurityConfigurerAdapter extends WebSecurityConfigurerAdapter {

	_@Override_
	protected void configure(HttpSecurity http) throws Exception {
		// Customize the application security
		http.requiresChannel().anyRequest().requiresSecure();
	}

}
```

90.çƒ­æ’æ‹”
------

Spring Bootæ”¯æŒçƒ­äº¤æ¢ã€‚æœ¬èŠ‚å›ç­”æœ‰å…³å…¶å·¥ä½œåŸç†çš„é—®é¢˜ã€‚

90.1é‡æ–°åŠ è½½é™æ€å†…å®¹
------------

çƒ­é‡æ–°åŠ è½½æœ‰å‡ ç§é€‰æ‹©ã€‚æ¨èçš„æ–¹æ³•æ˜¯ä½¿ç”¨ [`spring-boot-devtools`](#using-boot-devtools "20.å¼€å‘äººå‘˜å·¥å…·")ï¼Œå› ä¸ºå®ƒæä¾›äº†é¢å¤–çš„å¼€å‘æ—¶é—´åŠŸèƒ½ï¼Œä¾‹å¦‚æ”¯æŒå¿«é€Ÿåº”ç”¨ç¨‹åºé‡å¯å’ŒLiveReloadä»¥åŠåˆç†çš„å¼€å‘æ—¶é…ç½®ï¼ˆä¾‹å¦‚æ¨¡æ¿ç¼“å­˜ï¼‰ã€‚Devtoolsé€šè¿‡ç›‘è§†ç±»è·¯å¾„è¿›è¡Œæ›´æ”¹æ¥å·¥ä½œã€‚è¿™æ„å‘³ç€å¿…é¡»â€œæ„å»ºâ€é™æ€èµ„æºæ›´æ”¹æ‰èƒ½ä½¿æ›´æ”¹ç”Ÿæ•ˆã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå½“æ‚¨ä¿å­˜æ›´æ”¹æ—¶ï¼Œè¿™ä¼šåœ¨Eclipseä¸­è‡ªåŠ¨å‘ç”Ÿã€‚åœ¨IntelliJ IDEAä¸­ï¼ŒMake Projectå‘½ä»¤ä¼šè§¦å‘å¿…è¦çš„æ„å»ºã€‚ç”±äº [é»˜è®¤çš„é‡æ–°å¯åŠ¨æ’é™¤](#using-boot-devtools-restart-exclude "20.2.2ä¸åŒ…æ‹¬èµ„æº")ï¼Œå¯¹é™æ€èµ„æºçš„æ›´æ”¹ä¸ä¼šè§¦å‘åº”ç”¨ç¨‹åºçš„é‡æ–°å¯åŠ¨ã€‚ä½†æ˜¯ï¼Œå®ƒä»¬ä¼šè§¦å‘å®æ—¶é‡æ–°åŠ è½½ã€‚

æˆ–è€…ï¼Œåœ¨IDEä¸­è¿è¡Œï¼ˆç‰¹åˆ«æ˜¯åœ¨è°ƒè¯•æ—¶ï¼‰æ˜¯è¿›è¡Œå¼€å‘çš„å¥½æ–¹æ³•ï¼ˆæ‰€æœ‰ç°ä»£IDEéƒ½å…è®¸é‡æ–°åŠ è½½é™æ€èµ„æºï¼Œå¹¶ä¸”é€šå¸¸è¿˜å…è®¸çƒ­æ’æ‹”Javaç±»æ›´æ”¹ï¼‰ã€‚

æœ€åï¼Œå¯ä»¥é…ç½®[Mavenå’ŒGradleæ’ä»¶](#build-tool-plugins "ç¬¬å…«éƒ¨åˆ†ã€‚ æ„å»ºå·¥å…·æ’ä»¶")ï¼ˆè¯·å‚é˜…`addResources`å±æ€§ï¼‰ä»¥æ”¯æŒä»å‘½ä»¤è¡Œè¿è¡Œï¼Œå¹¶ç›´æ¥ä»æºé‡æ–°åŠ è½½é™æ€æ–‡ä»¶ã€‚å¦‚æœæ‚¨ä½¿ç”¨æ›´é«˜çº§åˆ«çš„å·¥å…·ç¼–å†™è¯¥ä»£ç ï¼Œåˆ™å¯ä»¥å°†å…¶ä¸å¤–éƒ¨css / jsç¼–è¯‘å™¨è¿›ç¨‹ä¸€èµ·ä½¿ç”¨ã€‚

90.2é‡æ–°åŠ è½½æ¨¡æ¿è€Œä¸é‡æ–°å¯åŠ¨å®¹å™¨
------------------

Spring Bootæ”¯æŒçš„å¤§å¤šæ•°æ¨¡æ¿æŠ€æœ¯éƒ½åŒ…æ‹¬ç¦ç”¨ç¼“å­˜çš„é…ç½®é€‰é¡¹ï¼ˆæœ¬æ–‡æ¡£åé¢ä¼šä»‹ç»ï¼‰ã€‚å¦‚æœä½¿ç”¨`spring-boot-devtools`æ¨¡å—ï¼Œ åˆ™ä¼šåœ¨å¼€å‘æ—¶[è‡ªåŠ¨](#using-boot-devtools-property-defaults "20.1è´¢äº§è¿çº¦")ä¸ºæ‚¨[é…ç½®](#using-boot-devtools-property-defaults "20.1Â Property Defaults")è¿™äº›å±æ€§ ã€‚

### 90.2.1 Thymeleafæ¨¡æ¿

å¦‚æœæ‚¨ä½¿ç”¨Thymeleafï¼Œè¯·å°†`spring.thymeleaf.cache`è®¾ç½®ä¸º`false`ã€‚æŸ¥çœ‹ [`ThymeleafAutoConfiguration`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/thymeleaf/ThymeleafAutoConfiguration.java) å…¶ä»–Thymeleafè‡ªå®šä¹‰é€‰é¡¹ã€‚

### 90.2.2 FreeMarkeræ¨¡æ¿

å¦‚æœæ‚¨ä½¿ç”¨FreeMarkerï¼Œè¯·å°†`spring.freemarker.cache`è®¾ç½®ä¸º`false`ã€‚æœ‰å…³[`FreeMarkerAutoConfiguration`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/freemarker/FreeMarkerAutoConfiguration.java) å…¶ä»–FreeMarkerè‡ªå®šä¹‰é€‰é¡¹ï¼Œè¯·å‚é˜… ã€‚

### 90.2.3 Groovyæ¨¡æ¿

å¦‚æœæ‚¨ä½¿ç”¨Groovyæ¨¡æ¿ï¼Œè¯·å°†`spring.groovy.template.cache`è®¾ç½®ä¸º`false`ã€‚è¯·å‚é˜… [`GroovyTemplateAutoConfiguration`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/groovy/template/GroovyTemplateAutoConfiguration.java) å…¶ä»–Groovyè‡ªå®šä¹‰é€‰é¡¹ã€‚

90.3å¿«é€Ÿåº”ç”¨ç¨‹åºé‡æ–°å¯åŠ¨
--------------

`spring-boot-devtools`æ¨¡å—åŒ…æ‹¬å¯¹è‡ªåŠ¨åº”ç”¨ç¨‹åºé‡å¯çš„æ”¯æŒã€‚è™½ç„¶æ²¡æœ‰åƒ[JRebel](http://zeroturnaround.com/software/jrebel/)è¿™æ ·çš„æŠ€æœ¯é‚£ä¹ˆå¿«ï¼Œ ä½†å®ƒé€šå¸¸æ¯”â€œå†·å¯åŠ¨â€å¿«å¾—å¤šã€‚åœ¨è°ƒæŸ¥æœ¬æ–‡æ¡£åé¢è®¨è®ºçš„ä¸€äº›æ›´å¤æ‚çš„é‡è½½é€‰é¡¹ä¹‹å‰ï¼Œæ‚¨åº”è¯¥å°è¯•ä¸€ä¸‹ã€‚

æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…[ç¬¬20ç« â€œ _å¼€å‘äººå‘˜å·¥å…·â€_](#using-boot-devtools "20.å¼€å‘äººå‘˜å·¥å…·")éƒ¨åˆ†ã€‚

90.4é‡æ–°åŠ è½½Javaç±»è€Œä¸é‡æ–°å¯åŠ¨å®¹å™¨
---------------------

è®¸å¤šç°ä»£IDEï¼ˆEclipseï¼ŒIDEAå’Œå…¶ä»–ï¼‰æ”¯æŒå­—èŠ‚ç çš„çƒ­äº¤æ¢ã€‚å› æ­¤ï¼Œå¦‚æœæ‚¨è¿›è¡Œçš„æ›´æ”¹ä¸ä¼šå½±å“ç±»æˆ–æ–¹æ³•ç­¾åï¼Œåˆ™åº”è¯¥å¹²å‡€åœ°é‡æ–°åŠ è½½ï¼Œä¸ä¼šäº§ç”Ÿä»»ä½•å‰¯ä½œç”¨ã€‚

91.å»ºç«‹
-----

Spring BootåŒ…æ‹¬Mavenå’ŒGradleçš„æ„å»ºæ’ä»¶ã€‚æœ¬èŠ‚å›ç­”æœ‰å…³è¿™äº›æ’ä»¶çš„å¸¸è§é—®é¢˜ã€‚

91.1ç”Ÿæˆæ„å»ºä¿¡æ¯
----------

Mavenæ’ä»¶å’ŒGradleæ’ä»¶éƒ½å…è®¸ç”ŸæˆåŒ…å«é¡¹ç›®çš„åæ ‡ï¼Œåç§°å’Œç‰ˆæœ¬çš„æ„å»ºä¿¡æ¯ã€‚æ’ä»¶è¿˜å¯ä»¥é…ç½®ä¸ºé€šè¿‡é…ç½®æ·»åŠ å…¶ä»–å±æ€§ã€‚å½“å­˜åœ¨è¿™æ ·çš„æ–‡ä»¶æ—¶ï¼ŒSpring Bootä¼šè‡ªåŠ¨é…ç½®`BuildProperties` beanã€‚

è¦ä½¿ç”¨Mavenç”Ÿæˆæ„å»ºä¿¡æ¯ï¼Œè¯·ä¸º`build-info`ç›®æ ‡æ·»åŠ æ‰§è¡Œï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
<build>
	<plugins>
		<plugin>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-maven-plugin</artifactId>
			<version>2.1.1.RELEASE</version>
			<executions>
				<execution>
					<goals>
						<goal>build-info</goal>
					</goals>
				</execution>
			</executions>
		</plugin>
	</plugins>
</build>
```

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…<a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/maven-plugin" target="_top">Spring Boot Mavenæ’ä»¶æ–‡æ¡£</a> ã€‚</p></td></tr></tbody></table>

ä»¥ä¸‹ç¤ºä¾‹å¯¹Gradleæ‰§è¡Œç›¸åŒçš„æ“ä½œï¼š

```
springBoot {
	buildInfo()
}
```

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… <a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/gradle-plugin/reference/html/#integrating-with-actuator-build-info" target="_top">Spring Boot Gradleæ’ä»¶æ–‡æ¡£</a>ã€‚</p></td></tr></tbody></table>

91.2ç”ŸæˆGitä¿¡æ¯
-----------

Mavenå’ŒGradleéƒ½å…è®¸ç”Ÿæˆ`git.properties`æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«æœ‰å…³é¡¹ç›®æ„å»ºæ—¶`git`æºä»£ç å­˜å‚¨åº“çŠ¶æ€çš„ä¿¡æ¯ã€‚

å¯¹äºMavenç”¨æˆ·ï¼Œ`spring-boot-starter-parent` POMåŒ…å«ä¸€ä¸ªé¢„å…ˆé…ç½®çš„æ’ä»¶ï¼Œç”¨äºç”Ÿæˆ`git.properties`æ–‡ä»¶ã€‚è¦ä½¿ç”¨å®ƒï¼Œè¯·å°†ä»¥ä¸‹å£°æ˜æ·»åŠ åˆ°POMï¼š

```
<build>
	<plugins>
		<plugin>
			<groupId>pl.project13.maven</groupId>
			<artifactId>git-commit-id-plugin</artifactId>
		</plugin>
	</plugins>
</build>
```

Gradleç”¨æˆ·å¯ä»¥é€šè¿‡ä½¿ç”¨[`gradle-git-properties`](https://plugins.gradle.org/plugin/com.gorylenko.gradle-git-properties) æ’ä»¶è·å¾—ç›¸åŒçš„ç»“æœ ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
plugins {
	id "com.gorylenko.gradle-git-properties" version "1.5.1"
}
```

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p><code class="literal" i="3691">git.properties</code>ä¸­çš„æäº¤æ—¶é—´åº”ç¬¦åˆä»¥ä¸‹æ ¼å¼ï¼š<code class="literal" i="3692">yyyy-MM-ddâ€™Tâ€™HH:mm:ssZ</code>ã€‚è¿™æ˜¯ä¸Šé¢åˆ—å‡ºçš„ä¸¤ä¸ªæ’ä»¶çš„é»˜è®¤æ ¼å¼ã€‚ä½¿ç”¨æ­¤æ ¼å¼å¯ä»¥å°†æ—¶é—´è§£æä¸º<code class="literal" i="3693">Date</code>åŠå…¶æ ¼å¼ï¼Œåœ¨åºåˆ—åŒ–ä¸ºJSONæ—¶ï¼Œç”±Jacksonçš„æ—¥æœŸåºåˆ—åŒ–é…ç½®è®¾ç½®æ§åˆ¶ã€‚</p></td></tr></tbody></table>

91.3è‡ªå®šä¹‰ä¾èµ–ç‰ˆæœ¬
-----------

å¦‚æœæ‚¨ä½¿ç”¨ç›´æ¥æˆ–é—´æ¥ä»`spring-boot-dependencies`ç»§æ‰¿çš„Mavenç‰ˆæœ¬ï¼ˆä¾‹å¦‚ï¼Œ`spring-boot-starter-parent`ï¼‰ä½†æ‚¨æƒ³è¦è¦†ç›–ç‰¹å®šçš„ç¬¬ä¸‰æ–¹ä¾èµ–é¡¹ï¼Œåˆ™å¯ä»¥æ·»åŠ é€‚å½“çš„`<properties>`å…ƒç´ ã€‚æµè§ˆ [`spring-boot-dependencies`](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-dependencies/pom.xml) POMä»¥è·å–å®Œæ•´çš„å±æ€§åˆ—è¡¨ã€‚ä¾‹å¦‚ï¼Œè¦é€‰æ‹©ä¸åŒçš„`slf4j`ç‰ˆæœ¬ï¼Œæ‚¨éœ€è¦æ·»åŠ ä»¥ä¸‹å±æ€§ï¼š

```
<properties>
	<slf4j.version>1.7.5<slf4j.version>
</properties>
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>è¿™æ ·åšåªé€‚ç”¨äºMavené¡¹ç›®ï¼ˆç›´æ¥æˆ–é—´æ¥ï¼‰ä»<code class="literal" i="3698">spring-boot-dependencies</code>ç»§æ‰¿çš„æƒ…å†µã€‚å¦‚æœæ‚¨ä½¿ç”¨<code class="literal" i="3701">&lt;scope&gt;import&lt;/scope&gt;</code>åœ¨è‡ªå·±çš„<code class="literal" i="3700">dependencyManagement</code>éƒ¨åˆ†æ·»åŠ äº†<code class="literal" i="3699">spring-boot-dependencies</code>ï¼Œåˆ™å¿…é¡»è‡ªè¡Œé‡æ–°å®šä¹‰å·¥ä»¶ï¼Œè€Œä¸æ˜¯è¦†ç›–è¯¥å±æ€§ã€‚</p></td></tr></tbody></table><table border="0" summary="Warning"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[è­¦å‘Š]" src="images/warning.png"></td><th align="left">è­¦å‘Š</th></tr><tr><td align="left" valign="top"><p>æ¯ä¸ªSpring Bootç‰ˆæœ¬éƒ½æ˜¯é’ˆå¯¹è¿™ç»„ç‰¹å®šçš„ç¬¬ä¸‰æ–¹ä¾èµ–é¡¹è¿›è¡Œè®¾è®¡å’Œæµ‹è¯•çš„ã€‚è¦†ç›–ç‰ˆæœ¬å¯èƒ½ä¼šå¯¼è‡´å…¼å®¹æ€§é—®é¢˜ã€‚</p></td></tr></tbody></table>

è¦è¦†ç›–Gradleä¸­çš„ä¾èµ–é¡¹ç‰ˆæœ¬ï¼Œè¯·å‚é˜… Gradleæ’ä»¶æ–‡æ¡£çš„[æ­¤éƒ¨åˆ†](https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/gradle-plugin/reference/html/#managing-dependencies-customizing)ã€‚

91.4ä½¿ç”¨Mavenåˆ›å»ºå¯æ‰§è¡ŒJAR
-------------------

`spring-boot-maven-plugin`å¯ç”¨äºåˆ›å»ºå¯æ‰§è¡Œçš„â€œèƒ–â€JARã€‚å¦‚æœä½ ä½¿ç”¨`spring-boot-starter-parent` POMï¼Œä½ å¯ä»¥å£°æ˜æ’ä»¶ï¼Œä½ çš„ç½å­é‡æ–°åŒ…è£…å¦‚ä¸‹ï¼š

```
<build>
	<plugins>
		<plugin>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-maven-plugin</artifactId>
		</plugin>
	</plugins>
</build>
```

å¦‚æœæ‚¨ä¸ä½¿ç”¨çˆ¶POMï¼Œæ‚¨ä»ç„¶å¯ä»¥ä½¿ç”¨è¯¥æ’ä»¶ã€‚ä½†æ˜¯ï¼Œæ‚¨å¿…é¡»å¦å¤–æ·»åŠ `<executions>`éƒ¨åˆ†ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
<build>
	<plugins>
		<plugin>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-maven-plugin</artifactId>
			<version>2.1.1.RELEASE</version>
			<executions>
				<execution>
					<goals>
						<goal>repackage</goal>
					</goals>
				</execution>
			</executions>
		</plugin>
	</plugins>
</build>
```

æœ‰å…³å®Œæ•´çš„ä½¿ç”¨è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…[æ’ä»¶æ–‡æ¡£](https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/maven-plugin/usage.html)ã€‚

91.5ä½¿ç”¨Spring Bootåº”ç”¨ç¨‹åºä½œä¸ºä¾èµ–å…³ç³»
---------------------------

ä¸waræ–‡ä»¶ä¸€æ ·ï¼ŒSpring Bootåº”ç”¨ç¨‹åºä¸èƒ½ç”¨ä½œä¾èµ–é¡¹ã€‚å¦‚æœæ‚¨çš„åº”ç”¨ç¨‹åºåŒ…å«è¦ä¸å…¶ä»–é¡¹ç›®å…±äº«çš„ç±»ï¼Œåˆ™å»ºè®®çš„æ–¹æ³•æ˜¯å°†è¯¥ä»£ç ç§»åŠ¨åˆ°å•ç‹¬çš„æ¨¡å—ä¸­ã€‚ç„¶åï¼Œæ‚¨çš„åº”ç”¨ç¨‹åºå’Œå…¶ä»–é¡¹ç›®å¯ä»¥ä¾èµ–å•ç‹¬çš„æ¨¡å—ã€‚

å¦‚æœæ‚¨æ— æ³•æŒ‰ç…§ä¸Šé¢çš„å»ºè®®é‡æ–°å®‰æ’ä»£ç ï¼Œåˆ™å¿…é¡»é…ç½®Spring Bootçš„Mavenå’ŒGradleæ’ä»¶ä»¥ç”Ÿæˆé€‚åˆç”¨ä½œä¾èµ–é¡¹çš„å•ç‹¬å·¥ä»¶ã€‚å¯æ‰§è¡Œå­˜æ¡£ä¸èƒ½ç”¨ä½œä¾èµ–é¡¹ï¼Œå› ä¸º [å¯æ‰§è¡Œjaræ ¼å¼](#executable-jar-jar-file-structure "E.1.1å¯æ‰§è¡ŒJaræ–‡ä»¶ç»“æ„")åœ¨`BOOT-INF/classes`ä¸­æ‰“åŒ…åº”ç”¨ç¨‹åºç±»ã€‚è¿™æ„å‘³ç€å½“å¯æ‰§è¡Œjarç”¨ä½œä¾èµ–é¡¹æ—¶ï¼Œæ— æ³•æ‰¾åˆ°å®ƒä»¬ã€‚

è¦ç”Ÿæˆä¸¤ä¸ªå¯ä»¥ç”¨ä½œä¾èµ–é¡¹çš„å·¥ä»¶å’Œä¸€ä¸ªå¯æ‰§è¡Œçš„å·¥ä»¶ï¼Œå¿…é¡»æŒ‡å®šä¸€ä¸ªåˆ†ç±»å™¨ã€‚æ­¤åˆ†ç±»å™¨åº”ç”¨äºå¯æ‰§è¡Œå½’æ¡£çš„åç§°ï¼Œä¿ç•™é»˜è®¤å½’æ¡£ä»¥ç”¨ä½œä¾èµ–é¡¹ã€‚

è¦åœ¨Mavenä¸­é…ç½®`exec`çš„åˆ†ç±»å™¨ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹é…ç½®ï¼š

```
<build>
	<plugins>
		<plugin>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-maven-plugin</artifactId>
			<configuration>
				<classifier>exec</classifier>
			</configuration>
		</plugin>
	</plugins>
</build>
```

91.6å¯æ‰§è¡Œjarè¿è¡Œæ—¶æå–ç‰¹å®šåº“
------------------

å¯æ‰§è¡Œjarä¸­çš„å¤§å¤šæ•°åµŒå¥—åº“ä¸éœ€è¦è§£å‹ç¼©æ‰èƒ½è¿è¡Œã€‚ä½†æ˜¯ï¼ŒæŸäº›åº“å¯èƒ½å­˜åœ¨é—®é¢˜ã€‚ä¾‹å¦‚ï¼ŒJRubyåŒ…å«è‡ªå·±çš„åµŒå¥—jaræ”¯æŒï¼Œå®ƒå‡è®¾`jruby-complete.jar`æ€»æ˜¯ç›´æ¥ä½œä¸ºæ–‡ä»¶ç›´æ¥ä½¿ç”¨ã€‚

è¦å¤„ç†ä»»ä½•æœ‰é—®é¢˜çš„åº“ï¼Œæ‚¨å¯ä»¥æ ‡è®°åœ¨å¯æ‰§è¡Œjaré¦–æ¬¡è¿è¡Œæ—¶åº”è¯¥è‡ªåŠ¨è§£å‹ç¼©ç‰¹å®šçš„åµŒå¥—jarã€‚è¿™äº›åµŒå¥—çš„jarè¢«å†™åœ¨`java.io.tmpdir`ç³»ç»Ÿå±æ€§æ ‡è¯†çš„ä¸´æ—¶ç›®å½•ä¸‹ã€‚

<table border="0" summary="Warning"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[è­¦å‘Š]" src="images/warning.png"></td><th align="left">è­¦å‘Š</th></tr><tr><td align="left" valign="top"><p>åº”æ³¨æ„ç¡®ä¿æ‚¨çš„æ“ä½œç³»ç»Ÿå·²é…ç½®ï¼Œä»¥ä¾¿åœ¨åº”ç”¨ç¨‹åºä»åœ¨è¿è¡Œæ—¶ä¸ä¼šåˆ é™¤å·²è§£å‹ç¼©åˆ°ä¸´æ—¶ç›®å½•çš„jarã€‚</p></td></tr></tbody></table>

ä¾‹å¦‚ï¼Œè¦æŒ‡ç¤ºåº”ä½¿ç”¨Mavenæ’ä»¶æ ‡è®°JRubyä»¥è¿›è¡Œè§£åŒ…ï¼Œæ‚¨å°†æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š

```
<build>
	<plugins>
		<plugin>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-maven-plugin</artifactId>
			<configuration>
				<requiresUnpack>
					<dependency>
						<groupId>org.jruby</groupId>
						<artifactId>jruby-complete</artifactId>
					</dependency>
				</requiresUnpack>
			</configuration>
		</plugin>
	</plugins>
</build>
```

91.7ä½¿ç”¨æ’é™¤é¡¹åˆ›å»ºä¸å¯æ‰§è¡Œçš„JAR
-------------------

é€šå¸¸ï¼Œå¦‚æœæ‚¨å°†å¯æ‰§è¡Œæ–‡ä»¶å’Œéå¯æ‰§è¡Œjarä½œä¸ºä¸¤ä¸ªå•ç‹¬çš„æ„å»ºäº§å“ï¼Œåˆ™å¯æ‰§è¡Œç‰ˆæœ¬å…·æœ‰åº“jarä¸­ä¸éœ€è¦çš„å…¶ä»–é…ç½®æ–‡ä»¶ã€‚ä¾‹å¦‚ï¼Œ`application.yml`é…ç½®æ–‡ä»¶å¯èƒ½ä¼šä»éå¯æ‰§è¡ŒJARä¸­æ’é™¤ã€‚

åœ¨Mavenä¸­ï¼Œå¯æ‰§è¡Œjarå¿…é¡»æ˜¯ä¸»å·¥ä»¶ï¼Œæ‚¨å¯ä»¥ä¸ºåº“æ·»åŠ ä¸€ä¸ªåˆ†ç±»jarï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
<build>
	<plugins>
		<plugin>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-maven-plugin</artifactId>
		</plugin>
		<plugin>
			<artifactId>maven-jar-plugin</artifactId>
			<executions>
				<execution>
					<id>lib</id>
					<phase>package</phase>
					<goals>
						<goal>jar</goal>
					</goals>
					<configuration>
						<classifier>lib</classifier>
						<excludes>
							<exclude>application.yml</exclude>
						</excludes>
					</configuration>
				</execution>
			</executions>
		</plugin>
	</plugins>
</build>
```

91.8è¿œç¨‹è°ƒè¯•Spring Bootåº”ç”¨ç¨‹åºä»¥Mavenå¼€å¤´
-------------------------------

è¦å°†è¿œç¨‹è°ƒè¯•å™¨é™„åŠ åˆ°ä»¥Mavenå¯åŠ¨çš„Spring Bootåº”ç”¨ç¨‹åºï¼Œæ‚¨å¯ä»¥ä½¿ç”¨[mavenæ’ä»¶](https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/maven-plugin)çš„`jvmArguments`å±æ€§ã€‚

æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…[æ­¤ç¤ºä¾‹](https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/maven-plugin/examples/run-debug.html)ã€‚

91.9ä»Antæ„å»ºå¯æ‰§è¡Œæ–‡ä»¶è€Œä¸ä½¿ç”¨`spring-boot-antlib`
---------------------------------------

è¦ä½¿ç”¨Antæ„å»ºï¼Œæ‚¨éœ€è¦è·å–ä¾èµ–é¡¹ï¼Œç¼–è¯‘ï¼Œç„¶ååˆ›å»ºjaræˆ–warå­˜æ¡£ã€‚è¦ä½¿å…¶å¯æ‰§è¡Œï¼Œæ‚¨å¯ä»¥ä½¿ç”¨`spring-boot-antlib`æ¨¡å—ï¼Œä¹Ÿå¯ä»¥æŒ‰ç…§ä»¥ä¸‹è¯´æ˜æ“ä½œï¼š

1.  å¦‚æœè¦æ„å»ºjarï¼Œè¯·å°†åº”ç”¨ç¨‹åºçš„ç±»å’Œèµ„æºæ‰“åŒ…åˆ°åµŒå¥—çš„`BOOT-INF/classes`ç›®å½•ä¸­ã€‚å¦‚æœè¦æ„å»ºwarï¼Œè¯·åƒå¾€å¸¸ä¸€æ ·å°†åº”ç”¨ç¨‹åºçš„ç±»æ‰“åŒ…åœ¨åµŒå¥—çš„`WEB-INF/classes`ç›®å½•ä¸­ã€‚
2.  åœ¨jarçš„åµŒå¥—`BOOT-INF/lib`ç›®å½•ä¸­æ·»åŠ è¿è¡Œæ—¶ä¾èµ–é¡¹ï¼Œæˆ–åœ¨æˆ˜äº‰ä¸­æ·»åŠ `WEB-INF/lib`ã€‚åˆ‡è®°**ä¸è¦**å‹ç¼©å­˜æ¡£ä¸­çš„æ¡ç›®ã€‚
3.  å°†`provided`ï¼ˆåµŒå…¥å¼å®¹å™¨ï¼‰ä¾èµ–é¡¹æ·»åŠ åˆ°jarçš„åµŒå¥—`BOOT-INF/lib`ç›®å½•æˆ–æˆ˜äº‰çš„`WEB-INF/lib-provided`ã€‚åˆ‡è®°**ä¸è¦**å‹ç¼©å­˜æ¡£ä¸­çš„æ¡ç›®ã€‚
4.  åœ¨å½’æ¡£çš„æ ¹ç›®å½•ä¸­æ·»åŠ `spring-boot-loader`ç±»ï¼ˆä»¥ä¾¿`Main-Class`å¯ç”¨ï¼‰ã€‚
5.  ä½¿ç”¨é€‚å½“çš„å¯åŠ¨ç¨‹åºï¼ˆä¾‹å¦‚`JarLauncher`ä½œä¸ºjaræ–‡ä»¶ï¼‰ä½œä¸ºæ¸…å•ä¸­çš„`Main-Class`å±æ€§ï¼Œå¹¶æŒ‡å®šå…¶ä½œä¸ºæ¸…å•æ¡ç›®æ‰€éœ€çš„å…¶ä»–å±æ€§ - ä¸»è¦æ˜¯é€šè¿‡è®¾ç½®`Start-Class`å±æ€§ã€‚

ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºå¦‚ä½•ä½¿ç”¨Antæ„å»ºå¯æ‰§è¡Œå­˜æ¡£ï¼š

```
<target >
	<jar destfile="target/${ant.project.name}-${spring-boot.version}.jar" compress="false">
		<mappedresources>
			<fileset dir="target/classes" />
			<globmapper from="*" to="BOOT-INF/classes/*"/>
		</mappedresources>
		<mappedresources>
			<fileset dir="src/main/resources" erroronmissingdir="false"/>
			<globmapper from="*" to="BOOT-INF/classes/*"/>
		</mappedresources>
		<mappedresources>
			<fileset dir="${lib.dir}/runtime" />
			<globmapper from="*" to="BOOT-INF/lib/*"/>
		</mappedresources>
		<zipfileset src="${lib.dir}/loader/spring-boot-loader-jar-${spring-boot.version}.jar" />
		<manifest>
			<attribute  />
			<attribute ${start-class}" />
		</manifest>
	</jar>
</target>
```

è¯¥[Antæ ·å“](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-samples/spring-boot-sample-ant)å…·æœ‰`build.xml`ç”¨`manual`ä»»åŠ¡ï¼Œå¦‚æœä½ ç”¨ä¸‹é¢çš„å‘½ä»¤è¿è¡Œå®ƒåº”è¯¥å·¥ä½œæ–‡ä»¶ï¼š

```
$ ant -lib <folder containing ivy-2.2.jar> clean manual
```

ç„¶åï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿è¡Œè¯¥åº”ç”¨ç¨‹åºï¼š

```
$ java -jar target/*.jar
```

92.ä¼ ç»Ÿéƒ¨ç½²
-------

Spring Bootæ”¯æŒä¼ ç»Ÿéƒ¨ç½²ä»¥åŠæ›´ç°ä»£çš„éƒ¨ç½²å½¢å¼ã€‚æœ¬èŠ‚å›ç­”æœ‰å…³ä¼ ç»Ÿéƒ¨ç½²çš„å¸¸è§é—®é¢˜ã€‚

92.1åˆ›å»ºå¯éƒ¨ç½²çš„Waræ–‡ä»¶
---------------

<table border="0" summary="Warning"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[è­¦å‘Š]" src="images/warning.png"></td><th align="left">è­¦å‘Š</th></tr><tr><td align="left" valign="top"><p>å› ä¸ºSpring WebFluxå¹¶ä¸ä¸¥æ ¼ä¾èµ–äºServlet APIï¼Œå¹¶ä¸”é»˜è®¤æƒ…å†µä¸‹åœ¨åµŒå…¥å¼Reactor NettyæœåŠ¡å™¨ä¸Šéƒ¨ç½²äº†åº”ç”¨ç¨‹åºï¼Œæ‰€ä»¥WebFluxåº”ç”¨ç¨‹åºä¸æ”¯æŒWaréƒ¨ç½²ã€‚</p></td></tr></tbody></table>

ç”Ÿæˆå¯éƒ¨ç½²waræ–‡ä»¶çš„ç¬¬ä¸€æ­¥æ˜¯æä¾›`SpringBootServletInitializer`å­ç±»å¹¶è¦†ç›–å…¶`configure`æ–¹æ³•ã€‚è¿™æ ·åšå¯ä»¥åˆ©ç”¨Spring Frameworkçš„Servlet 3.0æ”¯æŒï¼Œå¹¶å…è®¸æ‚¨åœ¨servletå®¹å™¨å¯åŠ¨æ—¶é…ç½®åº”ç”¨ç¨‹åºã€‚é€šå¸¸ï¼Œæ‚¨åº”è¯¥æ›´æ–°åº”ç”¨ç¨‹åºçš„ä¸»ç±»ä»¥æ‰©å±•`SpringBootServletInitializer`ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
_@SpringBootApplication_
public class Application extends SpringBootServletInitializer {

	_@Override_
	protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {
		return application.sources(Application.class);
	}

	public static void main(String[] args) throws Exception {
		SpringApplication.run(Application.class, args);
	}

}
```

ä¸‹ä¸€æ­¥æ˜¯æ›´æ–°æ„å»ºé…ç½®ï¼Œä»¥ä¾¿é¡¹ç›®ç”Ÿæˆwaræ–‡ä»¶è€Œä¸æ˜¯jaræ–‡ä»¶ã€‚å¦‚æœæ‚¨ä½¿ç”¨Mavenå’Œ`spring-boot-starter-parent`ï¼ˆä¸ºæ‚¨é…ç½®Mavençš„waræ’ä»¶ï¼‰ï¼Œæ‚¨éœ€è¦åšçš„å°±æ˜¯ä¿®æ”¹`pom.xml`ä»¥å°†åŒ…è£…æ›´æ”¹ä¸ºwarï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
<packaging>war</packaging>
```

å¦‚æœæ‚¨ä½¿ç”¨Gradleï¼Œåˆ™éœ€è¦ä¿®æ”¹`build.gradle`ä»¥å°†waræ’ä»¶åº”ç”¨äºé¡¹ç›®ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
apply plugin: 'war'
```

è¯¥è¿‡ç¨‹çš„æœ€åä¸€æ­¥æ˜¯ç¡®ä¿åµŒå…¥å¼servletå®¹å™¨ä¸ä¼šå¹²æ‰°éƒ¨ç½²waræ–‡ä»¶çš„servletå®¹å™¨ã€‚ä¸ºæ­¤ï¼Œæ‚¨éœ€è¦å°†åµŒå…¥å¼servletå®¹å™¨ä¾èµ–é¡¹æ ‡è®°ä¸ºå·²æä¾›ã€‚

å¦‚æœä½¿ç”¨Mavenï¼Œåˆ™ä»¥ä¸‹ç¤ºä¾‹å°†servletå®¹å™¨ï¼ˆåœ¨æœ¬ä¾‹ä¸­ä¸ºTomcatï¼‰æ ‡è®°ä¸ºæä¾›ï¼š

```
<dependencies>
	<!-- â€¦ -->
	<dependency>
		<groupId>org.springframework.boot</groupId>
		<artifactId>spring-boot-starter-tomcat</artifactId>
		<scope>provided</scope>
	</dependency>
	<!-- â€¦ -->
</dependencies>
```

å¦‚æœä½¿ç”¨Gradleï¼Œåˆ™ä»¥ä¸‹ç¤ºä¾‹å°†servletå®¹å™¨ï¼ˆåœ¨æœ¬ä¾‹ä¸­ä¸ºTomcatï¼‰æ ‡è®°ä¸ºæä¾›ï¼š

```
dependencies {
	// â€¦
	providedRuntime 'org.springframework.boot:spring-boot-starter-tomcat'
	// â€¦
}
```

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p><code class="literal" i="3733">providedRuntime</code>ä¼˜äºGradleçš„<code class="literal" i="3734">compileOnly</code>é…ç½®ã€‚é™¤äº†å…¶ä»–é™åˆ¶ä¹‹å¤–ï¼Œ<code class="literal" i="3735">compileOnly</code>ä¾èµ–å…³ç³»ä¸åœ¨æµ‹è¯•ç±»è·¯å¾„ä¸Šï¼Œå› æ­¤ä»»ä½•åŸºäºWebçš„é›†æˆæµ‹è¯•éƒ½ä¼šå¤±è´¥ã€‚</p></td></tr></tbody></table>

å¦‚æœä½¿ç”¨[Spring Bootæ„å»ºå·¥å…·](#build-tool-plugins "ç¬¬å…«éƒ¨åˆ†ã€‚ æ„å»ºå·¥å…·æ’ä»¶")ï¼Œåˆ™æ ‡è®°æ‰€æä¾›çš„åµŒå…¥å¼servletå®¹å™¨ä¾èµ–é¡¹ä¼šç”Ÿæˆä¸€ä¸ªå¯æ‰§è¡Œçš„waræ–‡ä»¶ï¼Œå…¶ä¸­æä¾›çš„ä¾èµ–é¡¹æ‰“åŒ…åœ¨`lib-provided`ç›®å½•ä¸­ã€‚è¿™æ„å‘³ç€ï¼Œé™¤äº†å¯éƒ¨ç½²åˆ°servletå®¹å™¨ä¹‹å¤–ï¼Œè¿˜å¯ä»¥åœ¨å‘½ä»¤è¡Œä¸Šä½¿ç”¨`java -jar`è¿è¡Œåº”ç”¨ç¨‹åºã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æŸ¥çœ‹Spring Bootçš„ç¤ºä¾‹åº”ç”¨ç¨‹åºï¼Œäº†è§£åŸºäº <a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-samples/spring-boot-sample-traditional/pom.xml" target="_top">Maven</a>çš„å…ˆå‰æè¿°çš„é…ç½®<a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-samples/spring-boot-sample-traditional/pom.xml" target="_top">ç¤ºä¾‹</a>ã€‚</p></td></tr></tbody></table>

92.2å°†ç°æœ‰åº”ç”¨ç¨‹åºè½¬æ¢ä¸ºSpring Boot
-------------------------

å¯¹äºéWebåº”ç”¨ç¨‹åºï¼Œåº”è¯¥å¾ˆå®¹æ˜“å°†ç°æœ‰çš„Springåº”ç”¨ç¨‹åºè½¬æ¢ä¸ºSpring Bootåº”ç”¨ç¨‹åºã€‚ä¸ºæ­¤ï¼Œè¯·ä¸¢å¼ƒåˆ›å»º`ApplicationContext`çš„ä»£ç ï¼Œå¹¶å°†å…¶æ›¿æ¢ä¸º`SpringApplication`æˆ–`SpringApplicationBuilder`ã€‚Spring MVC Webåº”ç”¨ç¨‹åºé€šå¸¸å¯ä»¥é¦–å…ˆåˆ›å»ºå¯éƒ¨ç½²çš„waråº”ç”¨ç¨‹åºï¼Œç„¶åå†å°†å…¶è¿ç§»åˆ°å¯æ‰§è¡Œçš„waræˆ–jarã€‚è¯·å‚é˜…[å°†jarè½¬æ¢ä¸ºæˆ˜äº‰çš„å…¥é—¨æŒ‡å—](https://spring.io/guides/gs/convert-jar-to-war/)ã€‚

è¦é€šè¿‡æ‰©å±•`SpringBootServletInitializer`ï¼ˆä¾‹å¦‚ï¼Œåœ¨åä¸º`Application`çš„ç±»ä¸­ï¼‰å¹¶æ·»åŠ Spring Boot `@SpringBootApplication`æ³¨é‡Šæ¥åˆ›å»ºå¯éƒ¨ç½²çš„æˆ˜äº‰ï¼Œè¯·ä½¿ç”¨ç±»ä¼¼äºä»¥ä¸‹ç¤ºä¾‹ä¸­æ‰€ç¤ºçš„ä»£ç ï¼š

```
_@SpringBootApplication_
public class Application extends SpringBootServletInitializer {

	_@Override_
	protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {
		// Customize the application or call application.sources(...) to add sources
		// Since our example is itself a @Configuration class (via @SpringBootApplication)
		// we actually don't need to override this method.
		return application;
	}

}
```

è¯·è®°ä½ï¼Œæ— è®ºä½ åœ¨`sources`ä¸­æ”¾ç½®çš„æ˜¯Spring `ApplicationContext`ã€‚é€šå¸¸ï¼Œä»»ä½•å·²ç»æœ‰æ•ˆçš„ä¸œè¥¿éƒ½åº”è¯¥åœ¨è¿™é‡Œå·¥ä½œã€‚å¯èƒ½æœ‰ä¸€äº›beansä½ å¯ä»¥åœ¨ä»¥ååˆ é™¤ï¼Œè®©Spring Bootä¸ºå®ƒä»¬æä¾›è‡ªå·±çš„é»˜è®¤å€¼ï¼Œä½†åº”è¯¥å¯ä»¥åœ¨ä½ éœ€è¦ä¹‹å‰è·å¾—ä¸€äº›å·¥ä½œã€‚

é™æ€èµ„æºå¯ä»¥ç§»åŠ¨åˆ°ç±»è·¯å¾„æ ¹ç›®å½•ä¸­çš„`/public`ï¼ˆæˆ–`/static`æˆ–`/resources`æˆ–`/META-INF/resources`ï¼‰ã€‚è¿™åŒæ ·é€‚ç”¨äº`messages.properties`ï¼ˆSpring Bootåœ¨ç±»è·¯å¾„çš„æ ¹ä¸­è‡ªåŠ¨æ£€æµ‹åˆ°ï¼‰ã€‚

ä½¿ç”¨Spring `DispatcherServlet`å’ŒSpringå®‰å…¨æ€§çš„é¦™è‰åº”è¯¥ä¸éœ€è¦è¿›ä¸€æ­¥æ›´æ”¹ã€‚å¦‚æœåº”ç”¨ç¨‹åºä¸­æœ‰å…¶ä»–åŠŸèƒ½ï¼ˆä¾‹å¦‚ï¼Œä½¿ç”¨å…¶ä»–servletæˆ–è¿‡æ»¤å™¨ï¼‰ï¼Œåˆ™å¯èƒ½éœ€è¦åœ¨`Application`ä¸Šä¸‹æ–‡ä¸­æ·»åŠ ä¸€äº›é…ç½®ï¼Œæ–¹æ³•æ˜¯å°†è¿™äº›å…ƒç´ æ›¿æ¢ä¸º`web.xml`ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

*   `Servlet`ç±»å‹`Servlet`æˆ–`ServletRegistrationBean`å°†beanå®‰è£…åœ¨å®¹å™¨ä¸­ï¼Œå°±å¥½åƒå®ƒæ˜¯`<servlet/>`å’Œ`web.xml` `web.xml`ä¸€æ ·ã€‚
*   ç±»å‹ä¸º`Filter`æˆ–`FilterRegistrationBean`çš„`@Bean`è¡¨ç°ç›¸ä¼¼ï¼ˆä½œä¸º`<filter/>`å’Œ`<filter-mapping/>`ï¼‰ã€‚
*   å¯ä»¥é€šè¿‡`Application`ä¸­çš„`@ImportResource`æ·»åŠ XMLæ–‡ä»¶ä¸­çš„`ApplicationContext`ã€‚æˆ–è€…ï¼Œå·²ç»å¤§é‡ä½¿ç”¨æ³¨é‡Šé…ç½®çš„ç®€å•æƒ…å†µå¯ä»¥ä½œä¸º`@Bean`å®šä¹‰åœ¨å‡ è¡Œä¸­é‡æ–°åˆ›å»ºã€‚

ä¸€æ—¦waræ–‡ä»¶æ­£å¸¸å·¥ä½œï¼Œæ‚¨å¯ä»¥é€šè¿‡å‘`Application`æ·»åŠ `main`æ–¹æ³•ä½¿å…¶å¯æ‰§è¡Œï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
public static void main(String[] args) {
	SpringApplication.run(Application.class, args);
}
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å¦‚æœæ‚¨æ‰“ç®—å°†åº”ç”¨ç¨‹åºä½œä¸ºæˆ˜äº‰æˆ–å¯æ‰§è¡Œåº”ç”¨ç¨‹åºå¯åŠ¨ï¼Œåˆ™éœ€è¦ä»¥<code class="literal" i="3771">SpringBootServletInitializer</code>å›è°ƒå’Œç±»ä¸­çš„<code class="literal" i="3772">main</code>æ–¹æ³•å¯ç”¨çš„æ–¹æ³•å…±äº«æ„å»ºå™¨çš„è‡ªå®šä¹‰é¡¹ã€‚ç±»ä¼¼å¦‚ä¸‹ï¼š</p><pre class="programlisting notranslate"><em>@SpringBootApplication</em>
public class Application extends SpringBootServletInitializer {


	<em>@Override</em>
	protected SpringApplicationBuilder configure(SpringApplicationBuilder builder) {
		return configureApplication(builder);
	}
	
	public static void main(String[] args) {
		configureApplication(new SpringApplicationBuilder()).run(args);
	}
	
	private static SpringApplicationBuilder configureApplication(SpringApplicationBuilder builder) {
		return builder.sources(Application.class).bannerMode(Banner.Mode.OFF);
	}

}</pre></td></tr></tbody></table>

åº”ç”¨ç¨‹åºå¯ä»¥åˆ†ä¸ºå¤šä¸ªç±»åˆ«ï¼š

*   æ²¡æœ‰`web.xml`çš„Servlet 3.0+åº”ç”¨ç¨‹åºã€‚
*   `web.xml`çš„åº”ç”¨ç¨‹åºã€‚
*   å…·æœ‰ä¸Šä¸‹æ–‡å±‚æ¬¡ç»“æ„çš„åº”ç”¨
*   æ²¡æœ‰ä¸Šä¸‹æ–‡å±‚æ¬¡ç»“æ„çš„åº”ç”¨

æ‰€æœ‰è¿™äº›éƒ½åº”è¯¥é€‚åˆç¿»è¯‘ï¼Œä½†æ¯ç§éƒ½å¯èƒ½éœ€è¦ç¨å¾®ä¸åŒçš„æŠ€æœ¯ã€‚

å¦‚æœServlet 3.0+åº”ç”¨ç¨‹åºå·²ç»ä½¿ç”¨Spring Servlet 3.0+åˆå§‹åŒ–ç¨‹åºæ”¯æŒç±»ï¼Œåˆ™å®ƒä»¬å¯èƒ½å¾ˆå®¹æ˜“ç¿»è¯‘ã€‚é€šå¸¸ï¼Œç°æœ‰`WebApplicationInitializer`ä¸­çš„æ‰€æœ‰ä»£ç éƒ½å¯ä»¥ç§»åŠ¨åˆ°`SpringBootServletInitializer`ã€‚å¦‚æœæ‚¨çš„ç°æœ‰åº”ç”¨ç¨‹åºæœ‰å¤šä¸ª`ApplicationContext`ï¼ˆä¾‹å¦‚ï¼Œå¦‚æœå®ƒä½¿ç”¨`AbstractDispatcherServletInitializer`ï¼‰ï¼Œé‚£ä¹ˆæ‚¨å¯ä»¥å°†æ‰€æœ‰ä¸Šä¸‹æ–‡æºåˆå¹¶ä¸ºä¸€ä¸ª`SpringApplication`ã€‚æ‚¨å¯èƒ½é‡åˆ°çš„ä¸»è¦å¤æ‚é—®é¢˜æ˜¯ï¼Œå¦‚æœç»„åˆä¸èµ·ä½œç”¨ï¼Œæ‚¨éœ€è¦ç»´æŠ¤ä¸Šä¸‹æ–‡å±‚æ¬¡ç»“æ„ã€‚æœ‰å…³ç¤ºä¾‹ï¼Œè¯·å‚é˜…[æ„å»ºå±‚æ¬¡ç»“æ„](#howto-build-an-application-context-hierarchy "76.4æ„å»ºApplicationContextå±‚æ¬¡ç»“æ„ï¼ˆæ·»åŠ çˆ¶æˆ–æ ¹ä¸Šä¸‹æ–‡ï¼‰")çš„ [æ¡ç›®](#howto-build-an-application-context-hierarchy "76.4Â Build an ApplicationContext Hierarchy (Adding a Parent or Root Context)")ã€‚é€šå¸¸éœ€è¦æ‹†åˆ†åŒ…å«ç‰¹å®šäºWebçš„åŠŸèƒ½çš„ç°æœ‰çˆ¶ä¸Šä¸‹æ–‡ï¼Œä»¥ä¾¿æ‰€æœ‰`ServletContextAware`ç»„ä»¶éƒ½åœ¨å­ä¸Šä¸‹æ–‡ä¸­ã€‚

å°šæœªSpringåº”ç”¨ç¨‹åºçš„åº”ç”¨ç¨‹åºå¯ä»¥è½¬æ¢ä¸ºSpringå¯åŠ¨åº”ç”¨ç¨‹åºï¼Œå‰é¢æåˆ°çš„æŒ‡å—å¯èƒ½æœ‰æ‰€å¸®åŠ©ã€‚ä½†æ˜¯ï¼Œæ‚¨å¯èƒ½ä¼šé‡åˆ°é—®é¢˜ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å»ºè®® [ä½¿ç”¨æ ‡ç­¾`spring-boot`å‘Stack Overflowæé—®](https://stackoverflow.com/questions/tagged/spring-boot)ã€‚

92.3å°†WARéƒ¨ç½²åˆ°WebLogic
-------------------

è¦å°†Spring Bootåº”ç”¨ç¨‹åºéƒ¨ç½²åˆ°WebLogicï¼Œå¿…é¡»ç¡®ä¿servletåˆå§‹åŒ–ç¨‹åº**ç›´æ¥**å®ç°`WebApplicationInitializer`ï¼ˆå³ä½¿ä»å·²ç»å®ç°å®ƒçš„åŸºç±»æ‰©å±•ï¼‰ã€‚

WebLogicçš„å…¸å‹åˆå§‹åŒ–ç¨‹åºåº”ç±»ä¼¼äºä»¥ä¸‹ç¤ºä¾‹ï¼š

```
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.boot.web.servlet.support.SpringBootServletInitializer;
import org.springframework.web.WebApplicationInitializer;

_@SpringBootApplication_
public class MyApplication extends SpringBootServletInitializer implements WebApplicationInitializer {

}
```

å¦‚æœä½¿ç”¨Logbackï¼Œåˆ™è¿˜éœ€è¦å‘ŠçŸ¥WebLogicæ›´å–œæ¬¢æ‰“åŒ…ç‰ˆæœ¬è€Œä¸æ˜¯é¢„å…ˆå®‰è£…åœ¨æœåŠ¡å™¨ä¸Šçš„ç‰ˆæœ¬ã€‚æ‚¨å¯ä»¥é€šè¿‡æ·»åŠ åŒ…å«ä»¥ä¸‹å†…å®¹çš„`WEB-INF/weblogic.xml`æ–‡ä»¶æ¥æ‰§è¡Œæ­¤æ“ä½œï¼š

```
<?xml version="1.0" encoding="UTF-8"?>
<wls:weblogic-web-app
	xmlns:wls="http://xmlns.oracle.com/weblogic/weblogic-web-app"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://java.sun.com/xml/ns/javaee
		http://java.sun.com/xml/ns/javaee/ejb-jar_3_0.xsd
		http://xmlns.oracle.com/weblogic/weblogic-web-app
		http://xmlns.oracle.com/weblogic/weblogic-web-app/1.4/weblogic-web-app.xsd">
	<wls:container-descriptor>
		<wls:prefer-application-packages>
			<wls:package-name>org.slf4j</wls:package-name>
		</wls:prefer-application-packages>
	</wls:container-descriptor>
</wls:weblogic-web-app>
```

92.4ä½¿ç”¨Jedisä»£æ›¿Lettuce
--------------------

é»˜è®¤æƒ…å†µä¸‹ï¼ŒSpring Bootå¯åŠ¨å™¨ï¼ˆ`spring-boot-starter-data-redis`ï¼‰ä½¿ç”¨ [Lettuce](https://github.com/lettuce-io/lettuce-core/)ã€‚æ‚¨éœ€è¦æ’é™¤è¯¥ä¾èµ–é¡¹å¹¶æ”¹ä¸ºåŒ…å«[Jedis](https://github.com/xetorthio/jedis/)ã€‚Spring Bootç®¡ç†è¿™äº›ä¾èµ–é¡¹ï¼Œä»¥å¸®åŠ©ä½¿è¿™ä¸ªè¿‡ç¨‹å°½å¯èƒ½ç®€å•ã€‚

ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†å¦‚ä½•åœ¨Mavenä¸­æ‰§è¡Œæ­¤æ“ä½œï¼š

```
<dependency>
	<groupId>org.springframework.boot</groupId>
	<artifactId>spring-boot-starter-data-redis</artifactId>
	<exclusions>
		<exclusion>
			<groupId>io.lettuce</groupId>
			<artifactId>lettuce-core</artifactId>
		</exclusion>
	</exclusions>
</dependency>
<dependency>
	<groupId>redis.clients</groupId>
	<artifactId>jedis</artifactId>
</dependency>
```

ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†å¦‚ä½•åœ¨Gradleä¸­æ‰§è¡Œæ­¤æ“ä½œï¼š

```
configurations {
	compile.exclude module: "lettuce"
}

dependencies {
	compile("redis.clients:jedis")
	// ...
}
```

ç¬¬åéƒ¨åˆ†é™„å½•
======

é™„å½•A.å¸¸ç”¨åº”ç”¨ç¨‹åºå±æ€§
------------

å¯ä»¥åœ¨`application.properties`æ–‡ä»¶å†…ï¼Œ`application.yml`æ–‡ä»¶å†…æˆ–å‘½ä»¤è¡Œå¼€å…³ä¸­æŒ‡å®šå„ç§å±æ€§ã€‚æœ¬é™„å½•æä¾›äº†å¸¸ç”¨Spring Bootå±æ€§çš„åˆ—è¡¨ä»¥åŠå¯¹ä½¿ç”¨å®ƒä»¬çš„åŸºç¡€ç±»çš„å¼•ç”¨ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>Spring Bootæä¾›äº†å„ç§å…·æœ‰é«˜çº§å€¼æ ¼å¼çš„è½¬æ¢æœºåˆ¶ï¼Œè¯·åŠ¡å¿…æŸ¥çœ‹<a class="link" href="#boot-features-external-config-conversion" title="24.8.4å±æ€§è½¬æ¢">å±æ€§è½¬æ¢éƒ¨åˆ†</a>ã€‚</p></td></tr></tbody></table><table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>Propertyè´¡çŒ®å¯ä»¥æ¥è‡ªç±»è·¯å¾„ä¸Šçš„å…¶ä»–jaræ–‡ä»¶ï¼Œå› æ­¤æ‚¨ä¸åº”å°†æ­¤è§†ä¸ºè¯¦å°½çš„åˆ—è¡¨ã€‚æ­¤å¤–ï¼Œæ‚¨å¯ä»¥å®šä¹‰è‡ªå·±çš„å±æ€§ã€‚</p></td></tr></tbody></table><table border="0" summary="Warning"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[è­¦å‘Š]" src="images/warning.png"></td><th align="left">è­¦å‘Š</th></tr><tr><td align="left" valign="top"><p>æ­¤ç¤ºä¾‹æ–‡ä»¶ä»…ä¾›å‚è€ƒã€‚åƒä¸‡<strong>ä¸èƒ½</strong>å¤åˆ¶å’Œç²˜è´´çš„å…¨éƒ¨å†…å®¹åˆ°åº”ç”¨ç¨‹åºä¸­ã€‚ç›¸åï¼Œåªé€‰æ‹©æ‚¨éœ€è¦çš„å±æ€§ã€‚</p></td></tr></tbody></table>

```
# ===================================================================
# COMMON SPRING BOOT PROPERTIES
#
# This sample file is provided as a guideline. Do NOT copy it in its
# entirety to your own application.               ^^^
# ===================================================================


# ----------------------------------------
# CORE PROPERTIES
# ----------------------------------------
debug=false # Enable debug logs.
trace=false # Enable trace logs.

# LOGGING
logging.config= # Location of the logging configuration file. For instance, `classpath:logback.xml` for Logback.
logging.exception-conversion-word=%wEx # Conversion word used when logging exceptions.
logging.file= # Log file name (for instance, `myapp.log`). Names can be an exact location or relative to the current directory.
logging.file.max-history=0 # Maximum of archive log files to keep. Only supported with the default logback setup.
logging.file.max-size=10MB # Maximum log file size. Only supported with the default logback setup.
logging.group.*= # Log groups to quickly change multiple loggers at the same time. For instance, `logging.level.db=org.hibernate,org.springframework.jdbc`.
logging.level.*= # Log levels severity mapping. For instance, `logging.level.org.springframework=DEBUG`.
logging.path= # Location of the log file. For instance, `/var/log`.
logging.pattern.console= # Appender pattern for output to the console. Supported only with the default Logback setup.
logging.pattern.dateformat=yyyy-MM-dd HH:mm:ss.SSS # Appender pattern for log date format. Supported only with the default Logback setup.
logging.pattern.file= # Appender pattern for output to a file. Supported only with the default Logback setup.
logging.pattern.level=%5p # Appender pattern for log level. Supported only with the default Logback setup.
logging.register-shutdown-hook=false # Register a shutdown hook for the logging system when it is initialized.

# AOP
spring.aop.auto=true # Add @EnableAspectJAutoProxy.
spring.aop.proxy-target-class=true # Whether subclass-based (CGLIB) proxies are to be created (true), as opposed to standard Java interface-based proxies (false).

# IDENTITY ([ContextIdApplicationContextInitializer](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/context/ContextIdApplicationContextInitializer.java))
spring.application.name= # Application name.

# ADMIN ([SpringApplicationAdminJmxAutoConfiguration](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/admin/SpringApplicationAdminJmxAutoConfiguration.java))
spring.application.admin.enabled=false # Whether to enable admin features for the application.
spring.application.admin.jmx-name=org.springframework.boot:type=Admin,name=SpringApplication # JMX name of the application admin MBean.

# AUTO-CONFIGURATION
spring.autoconfigure.exclude= # Auto-configuration classes to exclude.

# BANNER
spring.banner.charset=UTF-8 # Banner file encoding.
spring.banner.location=classpath:banner.txt # Banner text resource location.
spring.banner.image.location=classpath:banner.gif # Banner image file location (jpg or png can also be used).
spring.banner.image.width=76 # Width of the banner image in chars.
spring.banner.image.height= # Height of the banner image in chars (default based on image height).
spring.banner.image.margin=2 # Left hand image margin in chars.
spring.banner.image.invert=false # Whether images should be inverted for dark terminal themes.

# SPRING CORE
spring.beaninfo.ignore=true # Whether to skip search of BeanInfo classes.

# SPRING CACHE ([CacheProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/cache/CacheProperties.java))
spring.cache.cache-names= # Comma-separated list of cache names to create if supported by the underlying cache manager.
spring.cache.caffeine.spec= # The spec to use to create caches. See CaffeineSpec for more details on the spec format.
spring.cache.couchbase.expiration= # Entry expiration. By default the entries never expire. Note that this value is ultimately converted to seconds.
spring.cache.ehcache.config= # The location of the configuration file to use to initialize EhCache.
spring.cache.infinispan.config= # The location of the configuration file to use to initialize Infinispan.
spring.cache.jcache.config= # The location of the configuration file to use to initialize the cache manager.
spring.cache.jcache.provider= # Fully qualified name of the CachingProvider implementation to use to retrieve the JSR-107 compliant cache manager. Needed only if more than one JSR-107 implementation is available on the classpath.
spring.cache.redis.cache-null-values=true # Allow caching null values.
spring.cache.redis.key-prefix= # Key prefix.
spring.cache.redis.time-to-live= # Entry expiration. By default the entries never expire.
spring.cache.redis.use-key-prefix=true # Whether to use the key prefix when writing to Redis.
spring.cache.type= # Cache type. By default, auto-detected according to the environment.

# SPRING CONFIG - using environment property only ([ConfigFileApplicationListener](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/context/config/ConfigFileApplicationListener.java))
spring.config.additional-location= # Config file locations used in addition to the defaults.
spring.config.location= # Config file locations that replace the defaults.
spring.config.name=application # Config file name.

# HAZELCAST ([HazelcastProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/hazelcast/HazelcastProperties.java))
spring.hazelcast.config= # The location of the configuration file to use to initialize Hazelcast.

# PROJECT INFORMATION ([ProjectInfoProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/info/ProjectInfoProperties.java))
spring.info.build.encoding=UTF-8 # File encoding.
spring.info.build.location=classpath:META-INF/build-info.properties # Location of the generated build-info.properties file.
spring.info.git.encoding=UTF-8 # File encoding.
spring.info.git.location=classpath:git.properties # Location of the generated git.properties file.

# JMX
spring.jmx.default-domain= # JMX domain name.
spring.jmx.enabled=true # Expose management beans to the JMX domain.
spring.jmx.server=mbeanServer # MBeanServer bean name.
spring.jmx.unique-names=false # Whether unique runtime object names should be ensured.

# Email ([MailProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/mail/MailProperties.java))
spring.mail.default-encoding=UTF-8 # Default MimeMessage encoding.
spring.mail.host= # SMTP server host. For instance, `smtp.example.com`.
spring.mail.jndi-name= # Session JNDI name. When set, takes precedence over other Session settings.
spring.mail.password= # Login password of the SMTP server.
spring.mail.port= # SMTP server port.
spring.mail.properties.*= # Additional JavaMail Session properties.
spring.mail.protocol=smtp # Protocol used by the SMTP server.
spring.mail.test-connection=false # Whether to test that the mail server is available on startup.
spring.mail.username= # Login user of the SMTP server.

# APPLICATION SETTINGS ([SpringApplication](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java))
spring.main.allow-bean-definition-overriding=false # Whether bean definition overriding, by registering a definition with the same name as an existing definition, is allowed.
spring.main.banner-mode=console # Mode used to display the banner when the application runs.
spring.main.sources= # Sources (class names, package names, or XML resource locations) to include in the ApplicationContext.
spring.main.web-application-type= # Flag to explicitly request a specific type of web application. If not set, auto-detected based on the classpath.

# FILE ENCODING ([FileEncodingApplicationListener](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/context/FileEncodingApplicationListener.java))
spring.mandatory-file-encoding= # Expected character encoding the application must use.

# INTERNATIONALIZATION ([MessageSourceProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/context/MessageSourceProperties.java))
spring.messages.always-use-message-format=false # Whether to always apply the MessageFormat rules, parsing even messages without arguments.
spring.messages.basename=messages # Comma-separated list of basenames (essentially a fully-qualified classpath location), each following the ResourceBundle convention with relaxed support for slash based locations.
spring.messages.cache-duration= # Loaded resource bundle files cache duration. When not set, bundles are cached forever. If a duration suffix is not specified, seconds will be used.
spring.messages.encoding=UTF-8 # Message bundles encoding.
spring.messages.fallback-to-system-locale=true # Whether to fall back to the system Locale if no files for a specific Locale have been found.
spring.messages.use-code-as-default-message=false # Whether to use the message code as the default message instead of throwing a "NoSuchMessageException". Recommended during development only.

# OUTPUT
spring.output.ansi.enabled=detect # Configures the ANSI output.

# PID FILE ([ApplicationPidFileWriter](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/context/ApplicationPidFileWriter.java))
spring.pid.fail-on-write-error= # Fails if ApplicationPidFileWriter is used but it cannot write the PID file.
spring.pid.file= # Location of the PID file to write (if ApplicationPidFileWriter is used).

# PROFILES
spring.profiles.active= # Comma-separated list of active profiles. Can be overridden by a command line switch.
spring.profiles.include= # Unconditionally activate the specified comma-separated list of profiles (or list of profiles if using YAML).

# QUARTZ SCHEDULER ([QuartzProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/quartz/QuartzProperties.java))
spring.quartz.auto-startup=true # Whether to automatically start the scheduler after initialization.
spring.quartz.jdbc.comment-prefix=-- # Prefix for single-line comments in SQL initialization scripts.
spring.quartz.jdbc.initialize-schema=embedded # Database schema initialization mode.
spring.quartz.jdbc.schema=classpath:org/quartz/impl/jdbcjobstore/tables_@@platform@@.sql # Path to the SQL file to use to initialize the database schema.
spring.quartz.job-store-type=memory # Quartz job store type.
spring.quartz.overwrite-existing-jobs=false # Whether configured jobs should overwrite existing job definitions.
spring.quartz.properties.*= # Additional Quartz Scheduler properties.
spring.quartz.scheduler-name=quartzScheduler # Name of the scheduler.
spring.quartz.startup-delay=0s # Delay after which the scheduler is started once initialization completes.
spring.quartz.wait-for-jobs-to-complete-on-shutdown=false # Whether to wait for running jobs to complete on shutdown.

# REACTOR ([ReactorCoreProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/reactor/core/ReactorCoreProperties.java))
spring.reactor.stacktrace-mode.enabled=false # Whether Reactor should collect stacktrace information at runtime.

# SENDGRID ([SendGridAutoConfiguration](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/sendgrid/SendGridAutoConfiguration.java))
spring.sendgrid.api-key= # SendGrid API key.
spring.sendgrid.proxy.host= # SendGrid proxy host.
spring.sendgrid.proxy.port= # SendGrid proxy port.

# TASK EXECUTION  ([TaskExecutionProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/task/TaskExecutionProperties.java))
spring.task.execution.pool.allow-core-thread-timeout=true # Whether core threads are allowed to time out. This enables dynamic growing and shrinking of the pool.
spring.task.execution.pool.core-size=8 # Core number of threads.
spring.task.execution.pool.keep-alive=60s # Time limit for which threads may remain idle before being terminated.
spring.task.execution.pool.max-size= # Maximum allowed number of threads. If tasks are filling up the queue, the pool can expand up to that size to accommodate the load. Ignored if the queue is unbounded.
spring.task.execution.pool.queue-capacity= # Queue capacity. An unbounded capacity does not increase the pool and therefore ignores the "max-size" property.
spring.task.execution.thread-name-prefix=task- # Prefix to use for the names of newly created threads.

# TASK SCHEDULING  ([TaskSchedulingProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/task/TaskSchedulingProperties.java))
spring.task.scheduling.pool.size=1 # Maximum allowed number of threads.
spring.task.scheduling.thread-name-prefix=scheduling- # Prefix to use for the names of newly created threads.

# ----------------------------------------
# WEB PROPERTIES
# ----------------------------------------

# EMBEDDED SERVER CONFIGURATION ([ServerProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/ServerProperties.java))
server.address= # Network address to which the server should bind.
server.compression.enabled=false # Whether response compression is enabled.
server.compression.excluded-user-agents= # Comma-separated list of user agents for which responses should not be compressed.
server.compression.mime-types=text/html,text/xml,text/plain,text/css,text/javascript,application/javascript,application/json,application/xml # Comma-separated list of MIME types that should be compressed.
server.compression.min-response-size=2KB # Minimum "Content-Length" value that is required for compression to be performed.
server.connection-timeout= # Time that connectors wait for another HTTP request before closing the connection. When not set, the connector's container-specific default is used. Use a value of -1 to indicate no (that is, an infinite) timeout.
server.error.include-exception=false # Include the "exception" attribute.
server.error.include-stacktrace=never # When to include a "stacktrace" attribute.
server.error.path=/error # Path of the error controller.
server.error.whitelabel.enabled=true # Whether to enable the default error page displayed in browsers in case of a server error.
server.http2.enabled=false # Whether to enable HTTP/2 support, if the current environment supports it.
server.jetty.acceptors=-1 # Number of acceptor threads to use. When the value is -1, the default, the number of acceptors is derived from the operating environment.
server.jetty.accesslog.append=false # Append to log.
server.jetty.accesslog.date-format=dd/MMM/yyyy:HH:mm:ss Z # Timestamp format of the request log.
server.jetty.accesslog.enabled=false # Enable access log.
server.jetty.accesslog.extended-format=false # Enable extended NCSA format.
server.jetty.accesslog.file-date-format= # Date format to place in log file name.
server.jetty.accesslog.file.
server.jetty.accesslog.locale= # Locale of the request log.
server.jetty.accesslog.log-cookies=false # Enable logging of the request cookies.
server.jetty.accesslog.log-latency=false # Enable logging of request processing time.
server.jetty.accesslog.log-server=false # Enable logging of the request hostname.
server.jetty.accesslog.retention-period=31 # Number of days before rotated log files are deleted.
server.jetty.accesslog.time-zone=GMT # Timezone of the request log.
server.jetty.max-http-post-size=200000B # Maximum size of the HTTP post or put content.
server.jetty.selectors=-1 # Number of selector threads to use. When the value is -1, the default, the number of selectors is derived from the operating environment.
server.max-http-header-size=8KB # Maximum size of the HTTP message header.
server.port=8080 # Server HTTP port.
server.server-header= # Value to use for the Server response header (if empty, no header is sent).
server.use-forward-headers= # Whether X-Forwarded-* headers should be applied to the HttpRequest.
server.servlet.context-parameters.*= # Servlet context init parameters.
server.servlet.context-path= # Context path of the application.
server.servlet.application-display-name=application # Display name of the application.
server.servlet.jsp.class-name=org.apache.jasper.servlet.JspServlet # Class name of the servlet to use for JSPs.
server.servlet.jsp.init-parameters.*= # Init parameters used to configure the JSP servlet.
server.servlet.jsp.registered=true # Whether the JSP servlet is registered.
server.servlet.session.cookie.comment= # Comment for the session cookie.
server.servlet.session.cookie.domain= # Domain for the session cookie.
server.servlet.session.cookie.http-only= # Whether to use "HttpOnly" cookies for session cookies.
server.servlet.session.cookie.max-age= # Maximum age of the session cookie. If a duration suffix is not specified, seconds will be used.
server.servlet.session.cookie.name= # Session cookie name.
server.servlet.session.cookie.path= # Path of the session cookie.
server.servlet.session.cookie.secure= # Whether to always mark the session cookie as secure.
server.servlet.session.persistent=false # Whether to persist session data between restarts.
server.servlet.session.store-dir= # Directory used to store session data.
server.servlet.session.timeout=30m # Session timeout. If a duration suffix is not specified, seconds will be used.
server.servlet.session.tracking-modes= # Session tracking modes.
server.ssl.ciphers= # Supported SSL ciphers.
server.ssl.client-auth= # Client authentication mode.
server.ssl.enabled=true # Whether to enable SSL support.
server.ssl.enabled-protocols= # Enabled SSL protocols.
server.ssl.key-alias= # Alias that identifies the key in the key store.
server.ssl.key-password= # Password used to access the key in the key store.
server.ssl.key-store= # Path to the key store that holds the SSL certificate (typically a jks file).
server.ssl.key-store-password= # Password used to access the key store.
server.ssl.key-store-provider= # Provider for the key store.
server.ssl.key-store-type= # Type of the key store.
server.ssl.protocol=TLS # SSL protocol to use.
server.ssl.trust-store= # Trust store that holds SSL certificates.
server.ssl.trust-store-password= # Password used to access the trust store.
server.ssl.trust-store-provider= # Provider for the trust store.
server.ssl.trust-store-type= # Type of the trust store.
server.tomcat.accept-count=100 # Maximum queue length for incoming connection requests when all possible request processing threads are in use.
server.tomcat.accesslog.buffered=true # Whether to buffer output such that it is flushed only periodically.
server.tomcat.accesslog.directory=logs # Directory in which log files are created. Can be absolute or relative to the Tomcat base dir.
server.tomcat.accesslog.enabled=false # Enable access log.
server.tomcat.accesslog.file-date-format=.yyyy-MM-dd # Date format to place in the log file name.
server.tomcat.accesslog.pattern=common # Format pattern for access logs.
server.tomcat.accesslog.prefix=access_log # Log file name prefix.
server.tomcat.accesslog.rename-on-rotate=false # Whether to defer inclusion of the date stamp in the file name until rotate time.
server.tomcat.accesslog.request-attributes-enabled=false # Set request attributes for the IP address, Hostname, protocol, and port used for the request.
server.tomcat.accesslog.rotate=true # Whether to enable access log rotation.
server.tomcat.accesslog.suffix=.log # Log file name suffix.
server.tomcat.additional-tld-skip-patterns= # Comma-separated list of additional patterns that match jars to ignore for TLD scanning.
server.tomcat.background-processor-delay=10s # Delay between the invocation of backgroundProcess methods. If a duration suffix is not specified, seconds will be used.
server.tomcat.basedir= # Tomcat base directory. If not specified, a temporary directory is used.
server.tomcat.internal-proxies=10\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}|\\
		192\\.168\\.\\d{1,3}\\.\\d{1,3}|\\
		169\\.254\\.\\d{1,3}\\.\\d{1,3}|\\
		127\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}|\\
		172\\.1[6-9]{1}\\.\\d{1,3}\\.\\d{1,3}|\\
		172\\.2[0-9]{1}\\.\\d{1,3}\\.\\d{1,3}|\\
		172\\.3[0-1]{1}\\.\\d{1,3}\\.\\d{1,3}\\
		0:0:0:0:0:0:0:1\\
		::1 # Regular expression that matches proxies that are to be trusted.
server.tomcat.max-connections=10000 # Maximum number of connections that the server accepts and processes at any given time.
server.tomcat.max-http-post-size=2MB # Maximum size of the HTTP post content.
server.tomcat.max-swallow-size=2MB # Maximum amount of request body to swallow.
server.tomcat.max-threads=200 # Maximum amount of worker threads.
server.tomcat.min-spare-threads=10 # Minimum amount of worker threads.
server.tomcat.port-header=X-Forwarded-Port # Name of the HTTP header used to override the original port value.
server.tomcat.protocol-header= # Header that holds the incoming protocol, usually named "X-Forwarded-Proto".
server.tomcat.protocol-header-https-value=https # Value of the protocol header indicating whether the incoming request uses SSL.
server.tomcat.redirect-context-root=true # Whether requests to the context root should be redirected by appending a / to the path.
server.tomcat.remote-ip-header= # Name of the HTTP header from which the remote IP is extracted. For instance, `X-FORWARDED-FOR`.
server.tomcat.resource.allow-caching=true # Whether static resource caching is permitted for this web application.
server.tomcat.resource.cache-ttl= # Time-to-live of the static resource cache.
server.tomcat.uri-encoding=UTF-8 # Character encoding to use to decode the URI.
server.tomcat.use-relative-redirects= # Whether HTTP 1.1 and later location headers generated by a call to sendRedirect will use relative or absolute redirects.
server.undertow.accesslog.dir= # Undertow access log directory.
server.undertow.accesslog.enabled=false # Whether to enable the access log.
server.undertow.accesslog.pattern=common # Format pattern for access logs.
server.undertow.accesslog.prefix=access_log. # Log file name prefix.
server.undertow.accesslog.rotate=true # Whether to enable access log rotation.
server.undertow.accesslog.suffix=log # Log file name suffix.
server.undertow.buffer-size= # Size of each buffer.
server.undertow.direct-buffers= # Whether to allocate buffers outside the Java heap. The default is derived from the maximum amount of memory that is available to the JVM.
server.undertow.eager-filter-init=true # Whether servlet filters should be initialized on startup.
server.undertow.io-threads= # Number of I/O threads to create for the worker. The default is derived from the number of available processors.
server.undertow.max-http-post-size=-1B # Maximum size of the HTTP post content. When the value is -1, the default, the size is unlimited.
server.undertow.worker-threads= # Number of worker threads. The default is 8 times the number of I/O threads.

# FREEMARKER ([FreeMarkerProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/freemarker/FreeMarkerProperties.java))
spring.freemarker.allow-request-override=false # Whether HttpServletRequest attributes are allowed to override (hide) controller generated model attributes of the same name.
spring.freemarker.allow-session-override=false # Whether HttpSession attributes are allowed to override (hide) controller generated model attributes of the same name.
spring.freemarker.cache=false # Whether to enable template caching.
spring.freemarker.charset=UTF-8 # Template encoding.
spring.freemarker.check-template-location=true # Whether to check that the templates location exists.
spring.freemarker.content-type=text/html # Content-Type value.
spring.freemarker.enabled=true # Whether to enable MVC view resolution for this technology.
spring.freemarker.expose-request-attributes=false # Whether all request attributes should be added to the model prior to merging with the template.
spring.freemarker.expose-session-attributes=false # Whether all HttpSession attributes should be added to the model prior to merging with the template.
spring.freemarker.expose-spring-macro-helpers=true # Whether to expose a RequestContext for use by Spring's macro library, under the name "springMacroRequestContext".
spring.freemarker.prefer-file-system-access=true # Whether to prefer file system access for template loading. File system access enables hot detection of template changes.
spring.freemarker.prefix= # Prefix that gets prepended to view names when building a URL.
spring.freemarker.request-context-attribute= # Name of the RequestContext attribute for all views.
spring.freemarker.settings.*= # Well-known FreeMarker keys which are passed to FreeMarker's Configuration.
spring.freemarker.suffix=.ftl # Suffix that gets appended to view names when building a URL.
spring.freemarker.template-loader-path=classpath:/templates/ # Comma-separated list of template paths.
spring.freemarker.view-names= # White list of view names that can be resolved.

# GROOVY TEMPLATES ([GroovyTemplateProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/groovy/template/GroovyTemplateProperties.java))
spring.groovy.template.allow-request-override=false # Whether HttpServletRequest attributes are allowed to override (hide) controller generated model attributes of the same name.
spring.groovy.template.allow-session-override=false # Whether HttpSession attributes are allowed to override (hide) controller generated model attributes of the same name.
spring.groovy.template.cache=false # Whether to enable template caching.
spring.groovy.template.charset=UTF-8 # Template encoding.
spring.groovy.template.check-template-location=true # Whether to check that the templates location exists.
spring.groovy.template.configuration.*= # See [GroovyMarkupConfigurer](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/view/groovy/GroovyMarkupConfigurer.html)
spring.groovy.template.content-type=text/html # Content-Type value.
spring.groovy.template.enabled=true # Whether to enable MVC view resolution for this technology.
spring.groovy.template.expose-request-attributes=false # Whether all request attributes should be added to the model prior to merging with the template.
spring.groovy.template.expose-session-attributes=false # Whether all HttpSession attributes should be added to the model prior to merging with the template.
spring.groovy.template.expose-spring-macro-helpers=true # Whether to expose a RequestContext for use by Spring's macro library, under the name "springMacroRequestContext".
spring.groovy.template.prefix= # Prefix that gets prepended to view names when building a URL.
spring.groovy.template.request-context-attribute= # Name of the RequestContext attribute for all views.
spring.groovy.template.resource-loader-path=classpath:/templates/ # Template path.
spring.groovy.template.suffix=.tpl # Suffix that gets appended to view names when building a URL.
spring.groovy.template.view-names= # White list of view names that can be resolved.

# SPRING HATEOAS ([HateoasProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/hateoas/HateoasProperties.java))
spring.hateoas.use-hal-as-default-json-media-type=true # Whether application/hal+json responses should be sent to requests that accept application/json.

# HTTP ([HttpProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/http/HttpProperties.java))
spring.http.converters.preferred-json-mapper= # Preferred JSON mapper to use for HTTP message conversion. By default, auto-detected according to the environment.
spring.http.encoding.charset=UTF-8 # Charset of HTTP requests and responses. Added to the "Content-Type" header if not set explicitly.
spring.http.encoding.enabled=true # Whether to enable http encoding support.
spring.http.encoding.force= # Whether to force the encoding to the configured charset on HTTP requests and responses.
spring.http.encoding.force-request= # Whether to force the encoding to the configured charset on HTTP requests. Defaults to true when "force" has not been specified.
spring.http.encoding.force-response= # Whether to force the encoding to the configured charset on HTTP responses.
spring.http.encoding.mapping= # Locale in which to encode mapping.
spring.http.log-request-details=false # Whether logging of (potentially sensitive) request details at DEBUG and TRACE level is allowed.

# MULTIPART ([MultipartProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/servlet/MultipartProperties.java))
spring.servlet.multipart.enabled=true # Whether to enable support of multipart uploads.
spring.servlet.multipart.file-size-threshold=0B # Threshold after which files are written to disk.
spring.servlet.multipart.location= # Intermediate location of uploaded files.
spring.servlet.multipart.max-file-size=1MB # Max file size.
spring.servlet.multipart.max-request-size=10MB # Max request size.
spring.servlet.multipart.resolve-lazily=false # Whether to resolve the multipart request lazily at the time of file or parameter access.

# JACKSON ([JacksonProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jackson/JacksonProperties.java))
spring.jackson.date-format= # Date format string or a fully-qualified date format class name. For instance, `yyyy-MM-dd HH:mm:ss`.
spring.jackson.default-property-inclusion= # Controls the inclusion of properties during serialization. Configured with one of the values in Jackson's JsonInclude.Include enumeration.
spring.jackson.deserialization.*= # Jackson on/off features that affect the way Java objects are deserialized.
spring.jackson.generator.*= # Jackson on/off features for generators.
spring.jackson.joda-date-time-format= # Joda date time format string. If not configured, "date-format" is used as a fallback if it is configured with a format string.
spring.jackson.locale= # Locale used for formatting.
spring.jackson.mapper.*= # Jackson general purpose on/off features.
spring.jackson.parser.*= # Jackson on/off features for parsers.
spring.jackson.property-naming-strategy= # One of the constants on Jackson's PropertyNamingStrategy. Can also be a fully-qualified class name of a PropertyNamingStrategy subclass.
spring.jackson.serialization.*= # Jackson on/off features that affect the way Java objects are serialized.
spring.jackson.time-zone= #  Time zone used when formatting dates. For instance, "America/Los_Angeles" or "GMT+10".
spring.jackson.visibility.*= # Jackson visibility thresholds that can be used to limit which methods (and fields) are auto-detected.

# GSON ([GsonProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/gson/GsonProperties.java))
spring.gson.date-format= # Format to use when serializing Date objects.
spring.gson.disable-html-escaping= # Whether to disable the escaping of HTML characters such as '<', '>', etc.
spring.gson.disable-inner-class-serialization= # Whether to exclude inner classes during serialization.
spring.gson.enable-complex-map-key-serialization= # Whether to enable serialization of complex map keys (i.e. non-primitives).
spring.gson.exclude-fields-without-expose-annotation= # Whether to exclude all fields from consideration for serialization or deserialization that do not have the "Expose" annotation.
spring.gson.field-naming-policy= # Naming policy that should be applied to an object's field during serialization and deserialization.
spring.gson.generate-non-executable-json= # Whether to generate non executable JSON by prefixing the output with some special text.
spring.gson.lenient= # Whether to be lenient about parsing JSON that doesn't conform to RFC 4627.
spring.gson.long-serialization-policy= # Serialization policy for Long and long types.
spring.gson.pretty-printing= # Whether to output serialized JSON that fits in a page for pretty printing.
spring.gson.serialize-nulls= # Whether to serialize null fields.

# JERSEY ([JerseyProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jersey/JerseyProperties.java))
spring.jersey.application-path= # Path that serves as the base URI for the application. If specified, overrides the value of "@ApplicationPath".
spring.jersey.filter.order=0 # Jersey filter chain order.
spring.jersey.init.*= # Init parameters to pass to Jersey through the servlet or filter.
spring.jersey.servlet.load-on-startup=-1 # Load on startup priority of the Jersey servlet.
spring.jersey.type=servlet # Jersey integration type.

# SPRING LDAP ([LdapProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/ldap/LdapProperties.java))
spring.ldap.anonymous-read-only=false # Whether read-only operations should use an anonymous environment.
spring.ldap.base= # Base suffix from which all operations should originate.
spring.ldap.base-environment.*= # LDAP specification settings.
spring.ldap.password= # Login password of the server.
spring.ldap.urls= # LDAP URLs of the server.
spring.ldap.username= # Login username of the server.

# EMBEDDED LDAP ([EmbeddedLdapProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/ldap/embedded/EmbeddedLdapProperties.java))
spring.ldap.embedded.base-dn= # List of base DNs.
spring.ldap.embedded.credential.username= # Embedded LDAP username.
spring.ldap.embedded.credential.password= # Embedded LDAP password.
spring.ldap.embedded.ldif=classpath:schema.ldif # Schema (LDIF) script resource reference.
spring.ldap.embedded.port=0 # Embedded LDAP port.
spring.ldap.embedded.validation.enabled=true # Whether to enable LDAP schema validation.
spring.ldap.embedded.validation.schema= # Path to the custom schema.

# MUSTACHE TEMPLATES ([MustacheAutoConfiguration](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/mustache/MustacheAutoConfiguration.java))
spring.mustache.allow-request-override=false # Whether HttpServletRequest attributes are allowed to override (hide) controller generated model attributes of the same name.
spring.mustache.allow-session-override=false # Whether HttpSession attributes are allowed to override (hide) controller generated model attributes of the same name.
spring.mustache.cache=false # Whether to enable template caching.
spring.mustache.charset=UTF-8 # Template encoding.
spring.mustache.check-template-location=true # Whether to check that the templates location exists.
spring.mustache.content-type=text/html # Content-Type value.
spring.mustache.enabled=true # Whether to enable MVC view resolution for this technology.
spring.mustache.expose-request-attributes=false # Whether all request attributes should be added to the model prior to merging with the template.
spring.mustache.expose-session-attributes=false # Whether all HttpSession attributes should be added to the model prior to merging with the template.
spring.mustache.expose-spring-macro-helpers=true # Whether to expose a RequestContext for use by Spring's macro library, under the name "springMacroRequestContext".
spring.mustache.prefix=classpath:/templates/ # Prefix to apply to template names.
spring.mustache.request-context-attribute= # Name of the RequestContext attribute for all views.
spring.mustache.suffix=.mustache # Suffix to apply to template names.
spring.mustache.view-names= # White list of view names that can be resolved.

# SPRING MVC ([WebMvcProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/servlet/WebMvcProperties.java))
spring.mvc.async.request-timeout= # Amount of time before asynchronous request handling times out.
spring.mvc.contentnegotiation.favor-parameter=false # Whether a request parameter ("format" by default) should be used to determine the requested media type.
spring.mvc.contentnegotiation.favor-path-extension=false # Whether the path extension in the URL path should be used to determine the requested media type.
spring.mvc.contentnegotiation.media-types.*= # Map file extensions to media types for content negotiation. For instance, yml to text/yaml.
spring.mvc.contentnegotiation.parameter- is enabled.
spring.mvc.date-format= # Date format to use. For instance, `dd/MM/yyyy`.
spring.mvc.dispatch-trace-request=false # Whether to dispatch TRACE requests to the FrameworkServlet doService method.
spring.mvc.dispatch-options-request=true # Whether to dispatch OPTIONS requests to the FrameworkServlet doService method.
spring.mvc.favicon.enabled=true # Whether to enable resolution of favicon.ico.
spring.mvc.formcontent.filter.enabled=true # Whether to enable Spring's FormContentFilter.
spring.mvc.hiddenmethod.filter.enabled=true # Whether to enable Spring's HiddenHttpMethodFilter.
spring.mvc.ignore-default-model-on-redirect=true # Whether the content of the "default" model should be ignored during redirect scenarios.
spring.mvc.locale= # Locale to use. By default, this locale is overridden by the "Accept-Language" header.
spring.mvc.locale-resolver=accept-header # Define how the locale should be resolved.
spring.mvc.log-resolved-exception=false # Whether to enable warn logging of exceptions resolved by a "HandlerExceptionResolver", except for "DefaultHandlerExceptionResolver".
spring.mvc.message-codes-resolver-format= # Formatting strategy for message codes. For instance, `PREFIX_ERROR_CODE`.
spring.mvc.pathmatch.use-registered-suffix-pattern=false # Whether suffix pattern matching should work only against extensions registered with "spring.mvc.contentnegotiation.media-types.*".
spring.mvc.pathmatch.use-suffix-pattern=false # Whether to use suffix pattern match (".*") when matching patterns to requests.
spring.mvc.servlet.load-on-startup=-1 # Load on startup priority of the dispatcher servlet.
spring.mvc.servlet.path=/ # Path of the dispatcher servlet.
spring.mvc.static-path-pattern=/** # Path pattern used for static resources.
spring.mvc.throw-exception-if-no-handler-found=false # Whether a "NoHandlerFoundException" should be thrown if no Handler was found to process a request.
spring.mvc.view.prefix= # Spring MVC view prefix.
spring.mvc.view.suffix= # Spring MVC view suffix.

# SPRING RESOURCES HANDLING ([ResourceProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/ResourceProperties.java))
spring.resources.add-mappings=true # Whether to enable default resource handling.
spring.resources.cache.cachecontrol.cache-private= # Indicate that the response message is intended for a single user and must not be stored by a shared cache.
spring.resources.cache.cachecontrol.cache-public= # Indicate that any cache may store the response.
spring.resources.cache.cachecontrol.max-age= # Maximum time the response should be cached, in seconds if no duration suffix is not specified.
spring.resources.cache.cachecontrol.must-revalidate= # Indicate that once it has become stale, a cache must not use the response without re-validating it with the server.
spring.resources.cache.cachecontrol.no-cache= # Indicate that the cached response can be reused only if re-validated with the server.
spring.resources.cache.cachecontrol.no-store= # Indicate to not cache the response in any case.
spring.resources.cache.cachecontrol.no-transform= # Indicate intermediaries (caches and others) that they should not transform the response content.
spring.resources.cache.cachecontrol.proxy-revalidate= # Same meaning as the "must-revalidate" directive, except that it does not apply to private caches.
spring.resources.cache.cachecontrol.s-max-age= # Maximum time the response should be cached by shared caches, in seconds if no duration suffix is not specified.
spring.resources.cache.cachecontrol.stale-if-error= # Maximum time the response may be used when errors are encountered, in seconds if no duration suffix is not specified.
spring.resources.cache.cachecontrol.stale-while-revalidate= # Maximum time the response can be served after it becomes stale, in seconds if no duration suffix is not specified.
spring.resources.cache.period= # Cache period for the resources served by the resource handler. If a duration suffix is not specified, seconds will be used.
spring.resources.chain.cache=true # Whether to enable caching in the Resource chain.
spring.resources.chain.compressed=false # Whether to enable resolution of already compressed resources (gzip, brotli).
spring.resources.chain.enabled= # Whether to enable the Spring Resource Handling chain. By default, disabled unless at least one strategy has been enabled.
spring.resources.chain.html-application-cache=false # Whether to enable HTML5 application cache manifest rewriting.
spring.resources.chain.strategy.content.enabled=false # Whether to enable the content Version Strategy.
spring.resources.chain.strategy.content.paths=/** # Comma-separated list of patterns to apply to the content Version Strategy.
spring.resources.chain.strategy.fixed.enabled=false # Whether to enable the fixed Version Strategy.
spring.resources.chain.strategy.fixed.paths=/** # Comma-separated list of patterns to apply to the fixed Version Strategy.
spring.resources.chain.strategy.fixed.version= # Version string to use for the fixed Version Strategy.
spring.resources.static-locations=classpath:/META-INF/resources/,classpath:/resources/,classpath:/static/,classpath:/public/ # Locations of static resources.

# SPRING SESSION ([SessionProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/session/SessionProperties.java))
spring.session.store-type= # Session store type.
spring.session.timeout= # Session timeout. If a duration suffix is not specified, seconds will be used.
spring.session.servlet.filter-order=-2147483598 # Session repository filter order.
spring.session.servlet.filter-dispatcher-types=async,error,request # Session repository filter dispatcher types.

# SPRING SESSION HAZELCAST ([HazelcastSessionProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/session/HazelcastSessionProperties.java))
spring.session.hazelcast.flush-mode=on-save # Sessions flush mode.
spring.session.hazelcast.map-name=spring:session:sessions # Name of the map used to store sessions.

# SPRING SESSION JDBC ([JdbcSessionProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/session/JdbcSessionProperties.java))
spring.session.jdbc.cleanup-cron=0 * * * * * # Cron expression for expired session cleanup job.
spring.session.jdbc.initialize-schema=embedded # Database schema initialization mode.
spring.session.jdbc.schema=classpath:org/springframework/session/jdbc/schema-@@platform@@.sql # Path to the SQL file to use to initialize the database schema.
spring.session.jdbc.table-name=SPRING_SESSION # Name of the database table used to store sessions.

# SPRING SESSION MONGODB ([MongoSessionProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/session/MongoSessionProperties.java))
spring.session.mongodb.collection-name=sessions # Collection name used to store sessions.

# SPRING SESSION REDIS ([RedisSessionProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/session/RedisSessionProperties.java))
spring.session.redis.cleanup-cron=0 * * * * * # Cron expression for expired session cleanup job.
spring.session.redis.flush-mode=on-save # Sessions flush mode.
spring.session.redis.namespace=spring:session # Namespace for keys used to store sessions.

# THYMELEAF ([ThymeleafAutoConfiguration](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/thymeleaf/ThymeleafAutoConfiguration.java))
spring.thymeleaf.cache=true # Whether to enable template caching.
spring.thymeleaf.check-template=true # Whether to check that the template exists before rendering it.
spring.thymeleaf.check-template-location=true # Whether to check that the templates location exists.
spring.thymeleaf.enabled=true # Whether to enable Thymeleaf view resolution for Web frameworks.
spring.thymeleaf.enable-spring-el-compiler=false # Enable the SpringEL compiler in SpringEL expressions.
spring.thymeleaf.encoding=UTF-8 # Template files encoding.
spring.thymeleaf.excluded-view-names= # Comma-separated list of view names (patterns allowed) that should be excluded from resolution.
spring.thymeleaf.mode=HTML # Template mode to be applied to templates. See also Thymeleaf's TemplateMode enum.
spring.thymeleaf.prefix=classpath:/templates/ # Prefix that gets prepended to view names when building a URL.
spring.thymeleaf.reactive.chunked-mode-view-names= # Comma-separated list of view names (patterns allowed) that should be the only ones executed in CHUNKED mode when a max chunk size is set.
spring.thymeleaf.reactive.full-mode-view-names= # Comma-separated list of view names (patterns allowed) that should be executed in FULL mode even if a max chunk size is set.
spring.thymeleaf.reactive.max-chunk-size=0B # Maximum size of data buffers used for writing to the response.
spring.thymeleaf.reactive.media-types= # Media types supported by the view technology.
spring.thymeleaf.render-hidden-markers-before-checkboxes=false # Whether hidden form inputs acting as markers for checkboxes should be rendered before the checkbox element itself.
spring.thymeleaf.servlet.content-type=text/html # Content-Type value written to HTTP responses.
spring.thymeleaf.servlet.produce-partial-output-while-processing=true # Whether Thymeleaf should start writing partial output as soon as possible or buffer until template processing is finished.
spring.thymeleaf.suffix=.html # Suffix that gets appended to view names when building a URL.
spring.thymeleaf.template-resolver-order= # Order of the template resolver in the chain.
spring.thymeleaf.view-names= # Comma-separated list of view names (patterns allowed) that can be resolved.

# SPRING WEBFLUX ([WebFluxProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/reactive/WebFluxProperties.java))
spring.webflux.date-format= # Date format to use. For instance, `dd/MM/yyyy`.
spring.webflux.hiddenmethod.filter.enabled=true # Whether to enable Spring's HiddenHttpMethodFilter.
spring.webflux.static-path-pattern=/** # Path pattern used for static resources.

# SPRING WEB SERVICES ([WebServicesProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/webservices/WebServicesProperties.java))
spring.webservices.path=/services # Path that serves as the base URI for the services.
spring.webservices.servlet.init= # Servlet init parameters to pass to Spring Web Services.
spring.webservices.servlet.load-on-startup=-1 # Load on startup priority of the Spring Web Services servlet.
spring.webservices.wsdl-locations= # Comma-separated list of locations of WSDLs and accompanying XSDs to be exposed as beans.


# ----------------------------------------
# SECURITY PROPERTIES
# ----------------------------------------
# SECURITY ([SecurityProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/security/SecurityProperties.java))
spring.security.filter.order=-100 # Security filter chain order.
spring.security.filter.dispatcher-types=async,error,request # Security filter chain dispatcher types.
spring.security.user.name=user # Default user name.
spring.security.user.password= # Password for the default user name.
spring.security.user.roles= # Granted roles for the default user name.

# SECURITY OAUTH2 CLIENT ([OAuth2ClientProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/security/oauth2/client/OAuth2ClientProperties.java))
spring.security.oauth2.client.provider.*= # OAuth provider details.
spring.security.oauth2.client.registration.*= # OAuth client registrations.

# SECURITY OAUTH2 RESOURCE SERVER ([OAuth2ResourceServerProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/security/oauth2/resource/OAuth2ResourceServerProperties.java))
spring.security.oauth2.resourceserver.jwt.jwk-set-uri= # JSON Web Key URI to use to verify the JWT token.
   spring.security.oauth2.resourceserver.jwt.issuer-uri= # URI that an OpenID Connect Provider asserts as its Issuer Identifier.

# ----------------------------------------
# DATA PROPERTIES
# ----------------------------------------

# FLYWAY ([FlywayProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/flyway/FlywayProperties.java))
spring.flyway.baseline-description=<< Flyway Baseline >> # Description to tag an existing schema with when applying a baseline.
spring.flyway.baseline-on-migrate=false # Whether to automatically call baseline when migrating a non-empty schema.
spring.flyway.baseline-version=1 # Version to tag an existing schema with when executing baseline.
spring.flyway.check-location=true # Whether to check that migration scripts location exists.
spring.flyway.clean-disabled=false # Whether to disable cleaning of the database.
spring.flyway.clean-on-validation-error=false # Whether to automatically call clean when a validation error occurs.
spring.flyway.connect-retries=0 # Maximum number of retries when attempting to connect to the database.
spring.flyway.enabled=true # Whether to enable flyway.
spring.flyway.encoding=UTF-8 # Encoding of SQL migrations.
spring.flyway.group=false # Whether to group all pending migrations together in the same transaction when applying them.
spring.flyway.ignore-future-migrations=true # Whether to ignore future migrations when reading the schema history table.
spring.flyway.ignore-ignored-migrations=false # Whether to ignore ignored migrations when reading the schema history table.
spring.flyway.ignore-missing-migrations=false # Whether to ignore missing migrations when reading the schema history table.
spring.flyway.ignore-pending-migrations=false # Whether to ignore pending migrations when reading the schema history table.
spring.flyway.init-sqls= # SQL statements to execute to initialize a connection immediately after obtaining it.
spring.flyway.installed-by= # Username recorded in the schema history table as having applied the migration.
spring.flyway.locations=classpath:db/migration # Locations of migrations scripts. Can contain the special "{vendor}" placeholder to use vendor-specific locations.
spring.flyway.mixed=false # Whether to allow mixing transactional and non-transactional statements within the same migration.
spring.flyway.out-of-order=false # Whether to allow migrations to be run out of order.
spring.flyway.password= # Login password of the database to migrate.
spring.flyway.placeholder-prefix=${ # Prefix of placeholders in migration scripts.
spring.flyway.placeholder-replacement=true # Perform placeholder replacement in migration scripts.
spring.flyway.placeholder-suffix=} # Suffix of placeholders in migration scripts.
spring.flyway.placeholders= # Placeholders and their replacements to apply to sql migration scripts.
spring.flyway.repeatable-sql-migration-prefix=R # File name prefix for repeatable SQL migrations.
spring.flyway.schemas= # Scheme names managed by Flyway (case-sensitive).
spring.flyway.skip-default-callbacks=false # Whether to skip default callbacks. If true, only custom callbacks are used.
spring.flyway.skip-default-resolvers=false # Whether to skip default resolvers. If true, only custom resolvers are used.
spring.flyway.sql-migration-prefix=V # File name prefix for SQL migrations.
spring.flyway.sql-migration-separator=__ # File name separator for SQL migrations.
spring.flyway.sql-migration-suffixes=.sql # File name suffix for SQL migrations.
spring.flyway.table=flyway_schema_history # Name of the schema schema history table that will be used by Flyway.
spring.flyway.target= # Target version up to which migrations should be considered.
spring.flyway.url= # JDBC url of the database to migrate. If not set, the primary configured data source is used.
spring.flyway.user= # Login user of the database to migrate.
spring.flyway.validate-on-migrate=true # Whether to automatically call validate when performing a migration.

# LIQUIBASE ([LiquibaseProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/liquibase/LiquibaseProperties.java))
spring.liquibase.change-log=classpath:/db/changelog/db.changelog-master.yaml # Change log configuration path.
spring.liquibase.check-change-log-location=true # Whether to check that the change log location exists.
spring.liquibase.contexts= # Comma-separated list of runtime contexts to use.
spring.liquibase.database-change-log-lock-table=DATABASECHANGELOGLOCK # Name of table to use for tracking concurrent Liquibase usage.
spring.liquibase.database-change-log-table=DATABASECHANGELOG # Name of table to use for tracking change history.
spring.liquibase.default-schema= # Default database schema.
spring.liquibase.drop-first=false # Whether to first drop the database schema.
spring.liquibase.enabled=true # Whether to enable Liquibase support.
spring.liquibase.labels= # Comma-separated list of runtime labels to use.
spring.liquibase.liquibase-schema= # Schema to use for Liquibase objects.
spring.liquibase.liquibase-tablespace= # Tablespace to use for Liquibase objects.
spring.liquibase.parameters.*= # Change log parameters.
spring.liquibase.password= # Login password of the database to migrate.
spring.liquibase.rollback-file= # File to which rollback SQL is written when an update is performed.
spring.liquibase.test-rollback-on-update=false # Whether rollback should be tested before update is performed.
spring.liquibase.url= # JDBC URL of the database to migrate. If not set, the primary configured data source is used.
spring.liquibase.user= # Login user of the database to migrate.

# COUCHBASE ([CouchbaseProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/couchbase/CouchbaseProperties.java))
spring.couchbase.bootstrap-hosts= # Couchbase nodes (host or IP address) to bootstrap from.
spring.couchbase.bucket.name=default # Name of the bucket to connect to.
spring.couchbase.bucket.password=  # Password of the bucket.
spring.couchbase.env.endpoints.key-value=1 # Number of sockets per node against the key/value service.
spring.couchbase.env.endpoints.queryservice.min-endpoints=1 # Minimum number of sockets per node.
spring.couchbase.env.endpoints.queryservice.max-endpoints=1 # Maximum number of sockets per node.
spring.couchbase.env.endpoints.viewservice.min-endpoints=1 # Minimum number of sockets per node.
spring.couchbase.env.endpoints.viewservice.max-endpoints=1 # Maximum number of sockets per node.
spring.couchbase.env.ssl.enabled= # Whether to enable SSL support. Enabled automatically if a "keyStore" is provided unless specified otherwise.
spring.couchbase.env.ssl.key-store= # Path to the JVM key store that holds the certificates.
spring.couchbase.env.ssl.key-store-password= # Password used to access the key store.
spring.couchbase.env.timeouts.connect=5000ms # Bucket connections timeouts.
spring.couchbase.env.timeouts.key-value=2500ms # Blocking operations performed on a specific key timeout.
spring.couchbase.env.timeouts.query=7500ms # N1QL query operations timeout.
spring.couchbase.env.timeouts.socket-connect=1000ms # Socket connect connections timeout.
spring.couchbase.env.timeouts.view=7500ms # Regular and geospatial view operations timeout.

# DAO ([PersistenceExceptionTranslationAutoConfiguration](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/dao/PersistenceExceptionTranslationAutoConfiguration.java))
spring.dao.exceptiontranslation.enabled=true # Whether to enable the PersistenceExceptionTranslationPostProcessor.

# CASSANDRA ([CassandraProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/cassandra/CassandraProperties.java))
spring.data.cassandra.cluster-name= # Name of the Cassandra cluster.
spring.data.cassandra.compression=none # Compression supported by the Cassandra binary protocol.
spring.data.cassandra.connect-timeout= # Socket option: connection time out.
spring.data.cassandra.consistency-level= # Queries consistency level.
spring.data.cassandra.contact-points=localhost # Cluster node addresses.
spring.data.cassandra.fetch-size= # Queries default fetch size.
spring.data.cassandra.jmx-enabled=false # Whether to enable JMX reporting.
spring.data.cassandra.keyspace-name= # Keyspace name to use.
spring.data.cassandra.port= # Port of the Cassandra server.
spring.data.cassandra.password= # Login password of the server.
spring.data.cassandra.pool.heartbeat-interval=30s # Heartbeat interval after which a message is sent on an idle connection to make sure it's still alive. If a duration suffix is not specified, seconds will be used.
spring.data.cassandra.pool.idle-timeout=120s # Idle timeout before an idle connection is removed. If a duration suffix is not specified, seconds will be used.
spring.data.cassandra.pool.max-queue-size=256 # Maximum number of requests that get queued if no connection is available.
spring.data.cassandra.pool.pool-timeout=5000ms # Pool timeout when trying to acquire a connection from a host's pool.
spring.data.cassandra.read-timeout= # Socket option: read time out.
spring.data.cassandra.repositories.type=auto # Type of Cassandra repositories to enable.
spring.data.cassandra.serial-consistency-level= # Queries serial consistency level.
spring.data.cassandra.schema-action=none # Schema action to take at startup.
spring.data.cassandra.ssl=false # Enable SSL support.
spring.data.cassandra.username= # Login user of the server.

# DATA COUCHBASE ([CouchbaseDataProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/couchbase/CouchbaseDataProperties.java))
spring.data.couchbase.auto-index=false # Automatically create views and indexes.
spring.data.couchbase.consistency=read-your-own-writes # Consistency to apply by default on generated queries.
spring.data.couchbase.repositories.type=auto # Type of Couchbase repositories to enable.

# ELASTICSEARCH ([ElasticsearchProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/elasticsearch/ElasticsearchProperties.java))
spring.data.elasticsearch.cluster-name=elasticsearch # Elasticsearch cluster name.
spring.data.elasticsearch.cluster-nodes= # Comma-separated list of cluster node addresses.
spring.data.elasticsearch.properties.*= # Additional properties used to configure the client.
spring.data.elasticsearch.repositories.enabled=true # Whether to enable Elasticsearch repositories.

# DATA JDBC
spring.data.jdbc.repositories.enabled=true # Whether to enable JDBC repositories.

# DATA LDAP
spring.data.ldap.repositories.enabled=true # Whether to enable LDAP repositories.

# MONGODB ([MongoProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/mongo/MongoProperties.java))
spring.data.mongodb.authentication-database= # Authentication database name.
spring.data.mongodb.database= # Database name.
spring.data.mongodb.field-naming-strategy= # Fully qualified name of the FieldNamingStrategy to use.
spring.data.mongodb.grid-fs-database= # GridFS database name.
spring.data.mongodb.host= # Mongo server host. Cannot be set with URI.
spring.data.mongodb.password= # Login password of the mongo server. Cannot be set with URI.
spring.data.mongodb.port= # Mongo server port. Cannot be set with URI.
spring.data.mongodb.repositories.type=auto # Type of Mongo repositories to enable.
spring.data.mongodb.uri=mongodb://localhost/test # Mongo database URI. Cannot be set with host, port and credentials.
spring.data.mongodb.username= # Login user of the mongo server. Cannot be set with URI.

# DATA REDIS
spring.data.redis.repositories.enabled=true # Whether to enable Redis repositories.

# NEO4J ([Neo4jProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/neo4j/Neo4jProperties.java))
spring.data.neo4j.auto-index=none # Auto index mode.
spring.data.neo4j.embedded.enabled=true # Whether to enable embedded mode if the embedded driver is available.
spring.data.neo4j.open-in-view=true # Register OpenSessionInViewInterceptor. Binds a Neo4j Session to the thread for the entire processing of the request.
spring.data.neo4j.password= # Login password of the server.
spring.data.neo4j.repositories.enabled=true # Whether to enable Neo4j repositories.
spring.data.neo4j.uri= # URI used by the driver. Auto-detected by default.
spring.data.neo4j.username= # Login user of the server.

# DATA REST ([RepositoryRestProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/rest/RepositoryRestProperties.java))
spring.data.rest.base-path= # Base path to be used by Spring Data REST to expose repository resources.
spring.data.rest.default-media-type= # Content type to use as a default when none is specified.
spring.data.rest.default-page-size= # Default size of pages.
spring.data.rest.detection-strategy=default # Strategy to use to determine which repositories get exposed.
spring.data.rest.enable-enum-translation= # Whether to enable enum value translation through the Spring Data REST default resource bundle.
spring.data.rest.limit-param-name= # Name of the URL query string parameter that indicates how many results to return at once.
spring.data.rest.max-page-size= # Maximum size of pages.
spring.data.rest.page-param-name= # Name of the URL query string parameter that indicates what page to return.
spring.data.rest.return-body-on-create= # Whether to return a response body after creating an entity.
spring.data.rest.return-body-on-update= # Whether to return a response body after updating an entity.
spring.data.rest.sort-param-name= # Name of the URL query string parameter that indicates what direction to sort results.

# SOLR ([SolrProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/solr/SolrProperties.java))
spring.data.solr.host=http://127.0.0.1:8983/solr # Solr host. Ignored if "zk-host" is set.
spring.data.solr.repositories.enabled=true # Whether to enable Solr repositories.
spring.data.solr.zk-host= # ZooKeeper host address in the form HOST:PORT.

# DATA WEB ([SpringDataWebProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/web/SpringDataWebProperties.java))
spring.data.web.pageable.default-page-size=20 # Default page size.
spring.data.web.pageable.max-page-size=2000 # Maximum page size to be accepted.
spring.data.web.pageable.one-indexed-parameters=false # Whether to expose and assume 1-based page number indexes.
spring.data.web.pageable.page-parameter=page # Page index parameter name.
spring.data.web.pageable.prefix= # General prefix to be prepended to the page number and page size parameters.
spring.data.web.pageable.qualifier-delimiter=_ # Delimiter to be used between the qualifier and the actual page number and size properties.
spring.data.web.pageable.size-parameter=size # Page size parameter name.
spring.data.web.sort.sort-parameter=sort # Sort parameter name.

# DATASOURCE ([DataSourceAutoConfiguration](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jdbc/DataSourceAutoConfiguration.java) & [DataSourceProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jdbc/DataSourceProperties.java))
spring.datasource.continue-on-error=false # Whether to stop if an error occurs while initializing the database.
spring.datasource.data= # Data (DML) script resource references.
spring.datasource.data-username= # Username of the database to execute DML scripts (if different).
spring.datasource.data-password= # Password of the database to execute DML scripts (if different).
spring.datasource.dbcp2.*= # Commons DBCP2 specific settings
spring.datasource.driver-class-name= # Fully qualified name of the JDBC driver. Auto-detected based on the URL by default.
spring.datasource.generate-unique-name=false # Whether to generate a random datasource name.
spring.datasource.hikari.*= # Hikari specific settings
spring.datasource.initialization-mode=embedded # Initialize the datasource with available DDL and DML scripts.
spring.datasource.jmx-enabled=false # Whether to enable JMX support (if provided by the underlying pool).
spring.datasource.jndi-name= # JNDI location of the datasource. Class, url, username & password are ignored when set.
spring.datasource. when using an embedded database.
spring.datasource.password= # Login password of the database.
spring.datasource.platform=all # Platform to use in the DDL or DML scripts (such as schema-${platform}.sql or data-${platform}.sql).
spring.datasource.schema= # Schema (DDL) script resource references.
spring.datasource.schema-username= # Username of the database to execute DDL scripts (if different).
spring.datasource.schema-password= # Password of the database to execute DDL scripts (if different).
spring.datasource.separator=; # Statement separator in SQL initialization scripts.
spring.datasource.sql-script-encoding= # SQL scripts encoding.
spring.datasource.tomcat.*= # Tomcat datasource specific settings
spring.datasource.type= # Fully qualified name of the connection pool implementation to use. By default, it is auto-detected from the classpath.
spring.datasource.url= # JDBC URL of the database.
spring.datasource.username= # Login username of the database.
spring.datasource.xa.data-source-class-name= # XA datasource fully qualified name.
spring.datasource.xa.properties= # Properties to pass to the XA data source.

# JEST (Elasticsearch HTTP client) ([JestProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/elasticsearch/jest/JestProperties.java))
spring.elasticsearch.jest.connection-timeout=3s # Connection timeout.
spring.elasticsearch.jest.multi-threaded=true # Whether to enable connection requests from multiple execution threads.
spring.elasticsearch.jest.password= # Login password.
spring.elasticsearch.jest.proxy.host= # Proxy host the HTTP client should use.
spring.elasticsearch.jest.proxy.port= # Proxy port the HTTP client should use.
spring.elasticsearch.jest.read-timeout=3s # Read timeout.
spring.elasticsearch.jest.uris=http://localhost:9200 # Comma-separated list of the Elasticsearch instances to use.
spring.elasticsearch.jest.username= # Login username.

# Elasticsearch REST clients ([RestClientProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/elasticsearch/rest/RestClientProperties.java))
spring.elasticsearch.rest.password= # Credentials password.
   spring.elasticsearch.rest.uris=http://localhost:9200 # Comma-separated list of the Elasticsearch instances to use.
   spring.elasticsearch.rest.username= # Credentials username.

# H2 Web Console ([H2ConsoleProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/h2/H2ConsoleProperties.java))
spring.h2.console.enabled=false # Whether to enable the console.
spring.h2.console.path=/h2-console # Path at which the console is available.
spring.h2.console.settings.trace=false # Whether to enable trace output.
spring.h2.console.settings.web-allow-others=false # Whether to enable remote access.

# InfluxDB ([InfluxDbProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/influx/InfluxDbProperties.java))
spring.influx.password= # Login password.
spring.influx.url= # URL of the InfluxDB instance to which to connect.
spring.influx.user= # Login user.

# JOOQ ([JooqProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jooq/JooqProperties.java))
spring.jooq.sql-dialect= # SQL dialect to use. Auto-detected by default.

# JDBC ([JdbcProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jdbc/JdbcProperties.java))
spring.jdbc.template.fetch-size=-1 # Number of rows that should be fetched from the database when more rows are needed.
spring.jdbc.template.max-rows=-1 # Maximum number of rows.
spring.jdbc.template.query-timeout= # Query timeout. Default is to use the JDBC driver's default configuration. If a duration suffix is not specified, seconds will be used.

# JPA ([JpaBaseConfiguration](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/orm/jpa/JpaBaseConfiguration.java), [HibernateJpaAutoConfiguration](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.java))
spring.data.jpa.repositories.bootstrap-mode=default # Bootstrap mode for JPA repositories.
spring.data.jpa.repositories.enabled=true # Whether to enable JPA repositories.
spring.jpa.database= # Target database to operate on, auto-detected by default. Can be alternatively set using the "databasePlatform" property.
spring.jpa.database-platform= # Name of the target database to operate on, auto-detected by default. Can be alternatively set using the "Database" enum.
spring.jpa.generate-ddl=false # Whether to initialize the schema on startup.
spring.jpa.hibernate.ddl-auto= # DDL mode. This is actually a shortcut for the "hibernate.hbm2ddl.auto" property. Defaults to "create-drop" when using an embedded database and no schema manager was detected. Otherwise, defaults to "none".
spring.jpa.hibernate.naming.implicit-strategy= # Fully qualified name of the implicit naming strategy.
spring.jpa.hibernate.naming.physical-strategy= # Fully qualified name of the physical naming strategy.
spring.jpa.hibernate.use-new-id-generator-mappings= # Whether to use Hibernate's newer IdentifierGenerator for AUTO, TABLE and SEQUENCE.
spring.jpa.mapping-resources= # Mapping resources (equivalent to "mapping-file" entries in persistence.xml).
spring.jpa.open-in-view=true # Register OpenEntityManagerInViewInterceptor. Binds a JPA EntityManager to the thread for the entire processing of the request.
spring.jpa.properties.*= # Additional native properties to set on the JPA provider.
spring.jpa.show-sql=false # Whether to enable logging of SQL statements.

# JTA ([JtaAutoConfiguration](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/transaction/jta/JtaAutoConfiguration.java))
spring.jta.enabled=true # Whether to enable JTA support.
spring.jta.log-dir= # Transaction logs directory.
spring.jta.transaction-manager-id= # Transaction manager unique identifier.

# ATOMIKOS ([AtomikosProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/jta/atomikos/AtomikosProperties.java))
spring.jta.atomikos.connectionfactory.borrow-connection-timeout=30 # Timeout, in seconds, for borrowing connections from the pool.
spring.jta.atomikos.connectionfactory.ignore-session-transacted-flag=true # Whether to ignore the transacted flag when creating session.
spring.jta.atomikos.connectionfactory.local-transaction-mode=false # Whether local transactions are desired.
spring.jta.atomikos.connectionfactory.maintenance-interval=60 # The time, in seconds, between runs of the pool's maintenance thread.
spring.jta.atomikos.connectionfactory.max-idle-time=60 # The time, in seconds, after which connections are cleaned up from the pool.
spring.jta.atomikos.connectionfactory.max-lifetime=0 # The time, in seconds, that a connection can be pooled for before being destroyed. 0 denotes no limit.
spring.jta.atomikos.connectionfactory.max-pool-size=1 # The maximum size of the pool.
spring.jta.atomikos.connectionfactory.min-pool-size=1 # The minimum size of the pool.
spring.jta.atomikos.connectionfactory.reap-timeout=0 # The reap timeout, in seconds, for borrowed connections. 0 denotes no limit.
spring.jta.atomikos.connectionfactory.unique-resource-name=jmsConnectionFactory # The unique name used to identify the resource during recovery.
spring.jta.atomikos.connectionfactory.xa-connection-factory-class-name= # Vendor-specific implementation of XAConnectionFactory.
spring.jta.atomikos.connectionfactory.xa-properties= # Vendor-specific XA properties.
spring.jta.atomikos.datasource.borrow-connection-timeout=30 # Timeout, in seconds, for borrowing connections from the pool.
spring.jta.atomikos.datasource.concurrent-connection-validation= # Whether to use concurrent connection validation.
spring.jta.atomikos.datasource.default-isolation-level= # Default isolation level of connections provided by the pool.
spring.jta.atomikos.datasource.login-timeout= # Timeout, in seconds, for establishing a database connection.
spring.jta.atomikos.datasource.maintenance-interval=60 # The time, in seconds, between runs of the pool's maintenance thread.
spring.jta.atomikos.datasource.max-idle-time=60 # The time, in seconds, after which connections are cleaned up from the pool.
spring.jta.atomikos.datasource.max-lifetime=0 # The time, in seconds, that a connection can be pooled for before being destroyed. 0 denotes no limit.
spring.jta.atomikos.datasource.max-pool-size=1 # The maximum size of the pool.
spring.jta.atomikos.datasource.min-pool-size=1 # The minimum size of the pool.
spring.jta.atomikos.datasource.reap-timeout=0 # The reap timeout, in seconds, for borrowed connections. 0 denotes no limit.
spring.jta.atomikos.datasource.test-query= # SQL query or statement used to validate a connection before returning it.
spring.jta.atomikos.datasource.unique-resource-name=dataSource # The unique name used to identify the resource during recovery.
spring.jta.atomikos.datasource.xa-data-source-class-name= # Vendor-specific implementation of XAConnectionFactory.
spring.jta.atomikos.datasource.xa-properties= # Vendor-specific XA properties.
spring.jta.atomikos.properties.allow-sub-transactions=true # Specify whether sub-transactions are allowed.
spring.jta.atomikos.properties.checkpoint-interval=500 # Interval between checkpoints, expressed as the number of log writes between two checkpoints.
spring.jta.atomikos.properties.default-jta-timeout=10000ms # Default timeout for JTA transactions.
spring.jta.atomikos.properties.default-max-wait-time-on-shutdown=9223372036854775807 # How long should normal shutdown (no-force) wait for transactions to complete.
spring.jta.atomikos.properties.enable-logging=true # Whether to enable disk logging.
spring.jta.atomikos.properties.force-shutdown-on-vm-exit=false # Whether a VM shutdown should trigger forced shutdown of the transaction core.
spring.jta.atomikos.properties.log-base-dir= # Directory in which the log files should be stored.
spring.jta.atomikos.properties.log-base-name=tmlog # Transactions log file base name.
spring.jta.atomikos.properties.max-actives=50 # Maximum number of active transactions.
spring.jta.atomikos.properties.max-timeout=300000ms # Maximum timeout that can be allowed for transactions.
spring.jta.atomikos.properties.recovery.delay=10000ms # Delay between two recovery scans.
spring.jta.atomikos.properties.recovery.forget-orphaned-log-entries-delay=86400000ms # Delay after which recovery can cleanup pending ('orphaned') log entries.
spring.jta.atomikos.properties.recovery.max-retries=5 # Number of retry attempts to commit the transaction before throwing an exception.
spring.jta.atomikos.properties.recovery.retry-interval=10000ms # Delay between retry attempts.
spring.jta.atomikos.properties.serial-jta-transactions=true # Whether sub-transactions should be joined when possible.
spring.jta.atomikos.properties.service= # Transaction manager implementation that should be started.
spring.jta.atomikos.properties.threaded-two-phase-commit=false # Whether to use different (and concurrent) threads for two-phase commit on the participating resources.
spring.jta.atomikos.properties.transaction-manager-unique-name= # The transaction manager's unique name.

# BITRONIX
spring.jta.bitronix.connectionfactory.acquire-increment=1 # Number of connections to create when growing the pool.
spring.jta.bitronix.connectionfactory.acquisition-interval=1 # Time, in seconds, to wait before trying to acquire a connection again after an invalid connection was acquired.
spring.jta.bitronix.connectionfactory.acquisition-timeout=30 # Timeout, in seconds, for acquiring connections from the pool.
spring.jta.bitronix.connectionfactory.allow-local-transactions=true # Whether the transaction manager should allow mixing XA and non-XA transactions.
spring.jta.bitronix.connectionfactory.apply-transaction-timeout=false # Whether the transaction timeout should be set on the XAResource when it is enlisted.
spring.jta.bitronix.connectionfactory.automatic-enlisting-enabled=true # Whether resources should be enlisted and delisted automatically.
spring.jta.bitronix.connectionfactory.cache-producers-consumers=true # Whether producers and consumers should be cached.
spring.jta.bitronix.connectionfactory.class-name= # Underlying implementation class name of the XA resource.
spring.jta.bitronix.connectionfactory.defer-connection-release=true # Whether the provider can run many transactions on the same connection and supports transaction interleaving.
spring.jta.bitronix.connectionfactory.disabled= # Whether this resource is disabled, meaning it's temporarily forbidden to acquire a connection from its pool.
spring.jta.bitronix.connectionfactory.driver-properties= # Properties that should be set on the underlying implementation.
spring.jta.bitronix.connectionfactory.failed= # Mark this resource producer as failed.
spring.jta.bitronix.connectionfactory.ignore-recovery-failures=false # Whether recovery failures should be ignored.
spring.jta.bitronix.connectionfactory.max-idle-time=60 # The time, in seconds, after which connections are cleaned up from the pool.
spring.jta.bitronix.connectionfactory.max-pool-size=10 # The maximum size of the pool. 0 denotes no limit.
spring.jta.bitronix.connectionfactory.min-pool-size=0 # The minimum size of the pool.
spring.jta.bitronix.connectionfactory.password= # The password to use to connect to the JMS provider.
spring.jta.bitronix.connectionfactory.share-transaction-connections=false #  Whether connections in the ACCESSIBLE state can be shared within the context of a transaction.
spring.jta.bitronix.connectionfactory.test-connections=true # Whether connections should be tested when acquired from the pool.
spring.jta.bitronix.connectionfactory.two-pc-ordering-position=1 # The position that this resource should take during two-phase commit (always first is Integer.MIN_VALUE, always last is Integer.MAX_VALUE).
spring.jta.bitronix.connectionfactory.unique-name=jmsConnectionFactory # The unique name used to identify the resource during recovery.
spring.jta.bitronix.connectionfactory.use-tm-join=true # Whether TMJOIN should be used when starting XAResources.
spring.jta.bitronix.connectionfactory.user= # The user to use to connect to the JMS provider.
spring.jta.bitronix.datasource.acquire-increment=1 # Number of connections to create when growing the pool.
spring.jta.bitronix.datasource.acquisition-interval=1 # Time, in seconds, to wait before trying to acquire a connection again after an invalid connection was acquired.
spring.jta.bitronix.datasource.acquisition-timeout=30 # Timeout, in seconds, for acquiring connections from the pool.
spring.jta.bitronix.datasource.allow-local-transactions=true # Whether the transaction manager should allow mixing XA and non-XA transactions.
spring.jta.bitronix.datasource.apply-transaction-timeout=false # Whether the transaction timeout should be set on the XAResource when it is enlisted.
spring.jta.bitronix.datasource.automatic-enlisting-enabled=true # Whether resources should be enlisted and delisted automatically.
spring.jta.bitronix.datasource.class-name= # Underlying implementation class name of the XA resource.
spring.jta.bitronix.datasource.cursor-holdability= # The default cursor holdability for connections.
spring.jta.bitronix.datasource.defer-connection-release=true # Whether the database can run many transactions on the same connection and supports transaction interleaving.
spring.jta.bitronix.datasource.disabled= # Whether this resource is disabled, meaning it's temporarily forbidden to acquire a connection from its pool.
spring.jta.bitronix.datasource.driver-properties= # Properties that should be set on the underlying implementation.
spring.jta.bitronix.datasource.enable-jdbc4-connection-test= # Whether Connection.isValid() is called when acquiring a connection from the pool.
spring.jta.bitronix.datasource.failed= # Mark this resource producer as failed.
spring.jta.bitronix.datasource.ignore-recovery-failures=false # Whether recovery failures should be ignored.
spring.jta.bitronix.datasource.isolation-level= # The default isolation level for connections.
spring.jta.bitronix.datasource.local-auto-commit= # The default auto-commit mode for local transactions.
spring.jta.bitronix.datasource.login-timeout= # Timeout, in seconds, for establishing a database connection.
spring.jta.bitronix.datasource.max-idle-time=60 # The time, in seconds, after which connections are cleaned up from the pool.
spring.jta.bitronix.datasource.max-pool-size=10 # The maximum size of the pool. 0 denotes no limit.
spring.jta.bitronix.datasource.min-pool-size=0 # The minimum size of the pool.
spring.jta.bitronix.datasource.prepared-statement-cache-size=0 # The target size of the prepared statement cache. 0 disables the cache.
spring.jta.bitronix.datasource.share-transaction-connections=false #  Whether connections in the ACCESSIBLE state can be shared within the context of a transaction.
spring.jta.bitronix.datasource.test-query= # SQL query or statement used to validate a connection before returning it.
spring.jta.bitronix.datasource.two-pc-ordering-position=1 # The position that this resource should take during two-phase commit (always first is Integer.MIN_VALUE, and always last is Integer.MAX_VALUE).
spring.jta.bitronix.datasource.unique-name=dataSource # The unique name used to identify the resource during recovery.
spring.jta.bitronix.datasource.use-tm-join=true # Whether TMJOIN should be used when starting XAResources.
spring.jta.bitronix.properties.allow-multiple-lrc=false # Whether to allow multiple LRC resources to be enlisted into the same transaction.
spring.jta.bitronix.properties.asynchronous2-pc=false # Whether to enable asynchronously execution of two phase commit.
spring.jta.bitronix.properties.background-recovery-interval-seconds=60 # Interval in seconds at which to run the recovery process in the background.
spring.jta.bitronix.properties.current-node-only-recovery=true # Whether to recover only the current node.
spring.jta.bitronix.properties.debug-zero-resource-transaction=false # Whether to log the creation and commit call stacks of transactions executed without a single enlisted resource.
spring.jta.bitronix.properties.default-transaction-timeout=60 # Default transaction timeout, in seconds.
spring.jta.bitronix.properties.disable-jmx=false # Whether to enable JMX support.
spring.jta.bitronix.properties.exception-analyzer= # Set the fully qualified name of the exception analyzer implementation to use.
spring.jta.bitronix.properties.filter-log-status=false # Whether to enable filtering of logs so that only mandatory logs are written.
spring.jta.bitronix.properties.force-batching-enabled=true #  Whether disk forces are batched.
spring.jta.bitronix.properties.forced-write-enabled=true # Whether logs are forced to disk.
spring.jta.bitronix.properties.graceful-shutdown-interval=60 # Maximum amount of seconds the TM waits for transactions to get done before aborting them at shutdown time.
spring.jta.bitronix.properties.jndi-transaction-synchronization-registry-name= # JNDI name of the TransactionSynchronizationRegistry.
spring.jta.bitronix.properties.jndi-user-transaction-name= # JNDI name of the UserTransaction.
spring.jta.bitronix.properties.journal=disk # Name of the journal. Can be 'disk', 'null', or a class name.
spring.jta.bitronix.properties.log-part1-filename=btm1.tlog # Name of the first fragment of the journal.
spring.jta.bitronix.properties.log-part2-filename=btm2.tlog # Name of the second fragment of the journal.
spring.jta.bitronix.properties.max-log-size-in-mb=2 # Maximum size in megabytes of the journal fragments.
spring.jta.bitronix.properties.resource-configuration-filename= # ResourceLoader configuration file name.
spring.jta.bitronix.properties.server-id= # ASCII ID that must uniquely identify this TM instance. Defaults to the machine's IP address.
spring.jta.bitronix.properties.skip-corrupted-logs=false # Skip corrupted transactions log entries.
spring.jta.bitronix.properties.warn-about-zero-resource-transaction=true # Whether to log a warning for transactions executed without a single enlisted resource.

# EMBEDDED MONGODB ([EmbeddedMongoProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/mongo/embedded/EmbeddedMongoProperties.java))
spring.mongodb.embedded.features=sync_delay # Comma-separated list of features to enable.
spring.mongodb.embedded.storage.database-dir= # Directory used for data storage.
spring.mongodb.embedded.storage.oplog-size= # Maximum size of the oplog.
spring.mongodb.embedded.storage.repl-set-name= # Name of the replica set.
spring.mongodb.embedded.version=3.5.5 # Version of Mongo to use.

# REDIS ([RedisProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/redis/RedisProperties.java))
spring.redis.cluster.max-redirects= # Maximum number of redirects to follow when executing commands across the cluster.
spring.redis.cluster.nodes= # Comma-separated list of "host:port" pairs to bootstrap from.
spring.redis.database=0 # Database index used by the connection factory.
spring.redis.url= # Connection URL. Overrides host, port, and password. User is ignored. Example: redis://user:password@example.com:6379
spring.redis.host=localhost # Redis server host.
spring.redis.jedis.pool.max-active=8 # Maximum number of connections that can be allocated by the pool at a given time. Use a negative value for no limit.
spring.redis.jedis.pool.max-idle=8 # Maximum number of "idle" connections in the pool. Use a negative value to indicate an unlimited number of idle connections.
spring.redis.jedis.pool.max-wait=-1ms # Maximum amount of time a connection allocation should block before throwing an exception when the pool is exhausted. Use a negative value to block indefinitely.
spring.redis.jedis.pool.min-idle=0 # Target for the minimum number of idle connections to maintain in the pool. This setting only has an effect if it is positive.
spring.redis.lettuce.pool.max-active=8 # Maximum number of connections that can be allocated by the pool at a given time. Use a negative value for no limit.
spring.redis.lettuce.pool.max-idle=8 # Maximum number of "idle" connections in the pool. Use a negative value to indicate an unlimited number of idle connections.
spring.redis.lettuce.pool.max-wait=-1ms # Maximum amount of time a connection allocation should block before throwing an exception when the pool is exhausted. Use a negative value to block indefinitely.
spring.redis.lettuce.pool.min-idle=0 # Target for the minimum number of idle connections to maintain in the pool. This setting only has an effect if it is positive.
spring.redis.lettuce.shutdown-timeout=100ms # Shutdown timeout.
spring.redis.password= # Login password of the redis server.
spring.redis.port=6379 # Redis server port.
spring.redis.sentinel.master= # Name of the Redis server.
spring.redis.sentinel.nodes= # Comma-separated list of "host:port" pairs.
spring.redis.ssl=false # Whether to enable SSL support.
spring.redis.timeout= # Connection timeout.

# TRANSACTION ([TransactionProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/transaction/TransactionProperties.java))
spring.transaction.default-timeout= # Default transaction timeout. If a duration suffix is not specified, seconds will be used.
spring.transaction.rollback-on-commit-failure= # Whether to roll back on commit failures.



# ----------------------------------------
# INTEGRATION PROPERTIES
# ----------------------------------------

# ACTIVEMQ ([ActiveMQProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jms/activemq/ActiveMQProperties.java))
spring.activemq.broker-url= # URL of the ActiveMQ broker. Auto-generated by default.
spring.activemq.close-timeout=15s # Time to wait before considering a close complete.
spring.activemq.in-memory=true # Whether the default broker URL should be in memory. Ignored if an explicit broker has been specified.
spring.activemq.non-blocking-redelivery=false # Whether to stop message delivery before re-delivering messages from a rolled back transaction. This implies that message order is not preserved when this is enabled.
spring.activemq.password= # Login password of the broker.
spring.activemq.send-timeout=0ms # Time to wait on message sends for a response. Set it to 0 to wait forever.
spring.activemq.user= # Login user of the broker.
spring.activemq.packages.trust-all= # Whether to trust all packages.
spring.activemq.packages.trusted= # Comma-separated list of specific packages to trust (when not trusting all packages).
spring.activemq.pool.block-if-full=true # Whether to block when a connection is requested and the pool is full. Set it to false to throw a "JMSException" instead.
spring.activemq.pool.block-if-full-timeout=-1ms # Blocking period before throwing an exception if the pool is still full.
spring.activemq.pool.enabled=false # Whether a JmsPoolConnectionFactory should be created, instead of a regular ConnectionFactory.
spring.activemq.pool.idle-timeout=30s # Connection idle timeout.
spring.activemq.pool.max-connections=1 # Maximum number of pooled connections.
spring.activemq.pool.max-sessions-per-connection=500 # Maximum number of pooled sessions per connection in the pool.
spring.activemq.pool.time-between-expiration-check=-1ms # Time to sleep between runs of the idle connection eviction thread. When negative, no idle connection eviction thread runs.
spring.activemq.pool.use-anonymous-producers=true # Whether to use only one anonymous "MessageProducer" instance. Set it to false to create one "MessageProducer" every time one is required.

# ARTEMIS ([ArtemisProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jms/artemis/ArtemisProperties.java))
spring.artemis.embedded.cluster-password= # Cluster password. Randomly generated on startup by default.
spring.artemis.embedded.data-directory= # Journal file directory. Not necessary if persistence is turned off.
spring.artemis.embedded.enabled=true # Whether to enable embedded mode if the Artemis server APIs are available.
spring.artemis.embedded.persistent=false # Whether to enable persistent store.
spring.artemis.embedded.queues= # Comma-separated list of queues to create on startup.
spring.artemis.embedded.server-id= # Server ID. By default, an auto-incremented counter is used.
spring.artemis.embedded.topics= # Comma-separated list of topics to create on startup.
spring.artemis.host=localhost # Artemis broker host.
spring.artemis.mode= # Artemis deployment mode, auto-detected by default.
spring.artemis.password= # Login password of the broker.
spring.artemis.pool.block-if-full=true # Whether to block when a connection is requested and the pool is full. Set it to false to throw a "JMSException" instead.
spring.artemis.pool.block-if-full-timeout=-1ms # Blocking period before throwing an exception if the pool is still full.
spring.artemis.pool.enabled=false # Whether a JmsPoolConnectionFactory should be created, instead of a regular ConnectionFactory.
spring.artemis.pool.idle-timeout=30s # Connection idle timeout.
spring.artemis.pool.max-connections=1 # Maximum number of pooled connections.
spring.artemis.pool.max-sessions-per-connection=500 # Maximum number of pooled sessions per connection in the pool.
spring.artemis.pool.time-between-expiration-check=-1ms # Time to sleep between runs of the idle connection eviction thread. When negative, no idle connection eviction thread runs.
spring.artemis.pool.use-anonymous-producers=true # Whether to use only one anonymous "MessageProducer" instance. Set it to false to create one "MessageProducer" every time one is required.
spring.artemis.port=61616 # Artemis broker port.
spring.artemis.user= # Login user of the broker.

# SPRING BATCH ([BatchProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/batch/BatchProperties.java))
spring.batch.initialize-schema=embedded # Database schema initialization mode.
spring.batch.job.enabled=true # Execute all Spring Batch jobs in the context on startup.
spring.batch.job.names= # Comma-separated list of job names to execute on startup (for instance, `job1,job2`). By default, all Jobs found in the context are executed.
spring.batch.schema=classpath:org/springframework/batch/core/schema-@@platform@@.sql # Path to the SQL file to use to initialize the database schema.
spring.batch.table-prefix= # Table prefix for all the batch meta-data tables.

# SPRING INTEGRATION ([IntegrationProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/integration/IntegrationProperties.java))
spring.integration.jdbc.initialize-schema=embedded # Database schema initialization mode.
spring.integration.jdbc.schema=classpath:org/springframework/integration/jdbc/schema-@@platform@@.sql # Path to the SQL file to use to initialize the database schema.

# JMS ([JmsProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jms/JmsProperties.java))
spring.jms.cache.consumers=false # Whether to cache message consumers.
spring.jms.cache.enabled=true # Whether to cache sessions.
spring.jms.cache.producers=true # Whether to cache message producers.
spring.jms.cache.session-cache-size=1 # Size of the session cache (per JMS Session type).
spring.jms.jndi-name= # Connection factory JNDI name. When set, takes precedence to others connection factory auto-configurations.
spring.jms.listener.acknowledge-mode= # Acknowledge mode of the container. By default, the listener is transacted with automatic acknowledgment.
spring.jms.listener.auto-startup=true # Start the container automatically on startup.
spring.jms.listener.concurrency= # Minimum number of concurrent consumers.
spring.jms.listener.max-concurrency= # Maximum number of concurrent consumers.
spring.jms.pub-sub-domain=false # Whether the default destination type is topic.
spring.jms.template.default-destination= # Default destination to use on send and receive operations that do not have a destination parameter.
spring.jms.template.delivery-delay= # Delivery delay to use for send calls.
spring.jms.template.delivery-mode= # Delivery mode. Enables QoS (Quality of Service) when set.
spring.jms.template.priority= # Priority of a message when sending. Enables QoS (Quality of Service) when set.
spring.jms.template.qos-enabled= # Whether to enable explicit QoS (Quality of Service) when sending a message.
spring.jms.template.receive-timeout= # Timeout to use for receive calls.
spring.jms.template.time-to-live= # Time-to-live of a message when sending. Enables QoS (Quality of Service) when set.

# APACHE KAFKA ([KafkaProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/kafka/KafkaProperties.java))
spring.kafka.admin.client-id= # ID to pass to the server when making requests. Used for server-side logging.
spring.kafka.admin.fail-fast=false # Whether to fail fast if the broker is not available on startup.
spring.kafka.admin.properties.*= # Additional admin-specific properties used to configure the client.
spring.kafka.admin.ssl.key-password= # Password of the private key in the key store file.
spring.kafka.admin.ssl.key-store-location= # Location of the key store file.
spring.kafka.admin.ssl.key-store-password= # Store password for the key store file.
spring.kafka.admin.ssl.key-store-type= # Type of the key store.
spring.kafka.admin.ssl.protocol= # SSL protocol to use.
spring.kafka.admin.ssl.trust-store-location= # Location of the trust store file.
spring.kafka.admin.ssl.trust-store-password= # Store password for the trust store file.
spring.kafka.admin.ssl.trust-store-type= # Type of the trust store.
spring.kafka.bootstrap-servers= # Comma-delimited list of host:port pairs to use for establishing the initial connections to the Kafka cluster. Applies to all components unless overridden.
spring.kafka.client-id= # ID to pass to the server when making requests. Used for server-side logging.
spring.kafka.consumer.auto-commit-interval= # Frequency with which the consumer offsets are auto-committed to Kafka if 'enable.auto.commit' is set to true.
spring.kafka.consumer.auto-offset-reset= # What to do when there is no initial offset in Kafka or if the current offset no longer exists on the server.
spring.kafka.consumer.bootstrap-servers= # Comma-delimited list of host:port pairs to use for establishing the initial connections to the Kafka cluster. Overrides the global property, for consumers.
spring.kafka.consumer.client-id= # ID to pass to the server when making requests. Used for server-side logging.
spring.kafka.consumer.enable-auto-commit= # Whether the consumer's offset is periodically committed in the background.
spring.kafka.consumer.fetch-max-wait= # Maximum amount of time the server blocks before answering the fetch request if there isn't sufficient data to immediately satisfy the requirement given by "fetch-min-size".
spring.kafka.consumer.fetch-min-size= # Minimum amount of data the server should return for a fetch request.
spring.kafka.consumer.group-id= # Unique string that identifies the consumer group to which this consumer belongs.
spring.kafka.consumer.heartbeat-interval= # Expected time between heartbeats to the consumer coordinator.
spring.kafka.consumer.key-deserializer= # Deserializer class for keys.
spring.kafka.consumer.max-poll-records= # Maximum number of records returned in a single call to poll().
spring.kafka.consumer.properties.*= # Additional consumer-specific properties used to configure the client.
spring.kafka.consumer.ssl.key-password= # Password of the private key in the key store file.
spring.kafka.consumer.ssl.key-store-location= # Location of the key store file.
spring.kafka.consumer.ssl.key-store-password= # Store password for the key store file.
spring.kafka.consumer.ssl.key-store-type= # Type of the key store.
spring.kafka.consumer.ssl.protocol= # SSL protocol to use.
spring.kafka.consumer.ssl.trust-store-location= # Location of the trust store file.
spring.kafka.consumer.ssl.trust-store-password= # Store password for the trust store file.
spring.kafka.consumer.ssl.trust-store-type= # Type of the trust store.
spring.kafka.consumer.value-deserializer= # Deserializer class for values.
spring.kafka.jaas.control-flag=required # Control flag for login configuration.
spring.kafka.jaas.enabled=false # Whether to enable JAAS configuration.
spring.kafka.jaas.login-module=com.sun.security.auth.module.Krb5LoginModule # Login module.
spring.kafka.jaas.options= # Additional JAAS options.
spring.kafka.listener.ack-count= # Number of records between offset commits when ackMode is "COUNT" or "COUNT_TIME".
spring.kafka.listener.ack-mode= # Listener AckMode. See the spring-kafka documentation.
spring.kafka.listener.ack-time= # Time between offset commits when ackMode is "TIME" or "COUNT_TIME".
spring.kafka.listener.client-id= # Prefix for the listener's consumer client.id property.
spring.kafka.listener.concurrency= # Number of threads to run in the listener containers.
spring.kafka.listener.idle-event-interval= # Time between publishing idle consumer events (no data received).
spring.kafka.listener.log-container-config= # Whether to log the container configuration during initialization (INFO level).
spring.kafka.listener.monitor-interval= # Time between checks for non-responsive consumers. If a duration suffix is not specified, seconds will be used.
spring.kafka.listener.no-poll-threshold= # Multiplier applied to "pollTimeout" to determine if a consumer is non-responsive.
spring.kafka.listener.poll-timeout= # Timeout to use when polling the consumer.
spring.kafka.listener.type=single # Listener type.
spring.kafka.producer.acks= # Number of acknowledgments the producer requires the leader to have received before considering a request complete.
spring.kafka.producer.batch-size= # Default batch size.
spring.kafka.producer.bootstrap-servers= # Comma-delimited list of host:port pairs to use for establishing the initial connections to the Kafka cluster. Overrides the global property, for producers.
spring.kafka.producer.buffer-memory= # Total memory size the producer can use to buffer records waiting to be sent to the server.
spring.kafka.producer.client-id= # ID to pass to the server when making requests. Used for server-side logging.
spring.kafka.producer.compression-type= # Compression type for all data generated by the producer.
spring.kafka.producer.key-serializer= # Serializer class for keys.
spring.kafka.producer.properties.*= # Additional producer-specific properties used to configure the client.
spring.kafka.producer.retries= # When greater than zero, enables retrying of failed sends.
spring.kafka.producer.ssl.key-password= # Password of the private key in the key store file.
spring.kafka.producer.ssl.key-store-location= # Location of the key store file.
spring.kafka.producer.ssl.key-store-password= # Store password for the key store file.
spring.kafka.producer.ssl.key-store-type= # Type of the key store.
spring.kafka.producer.ssl.protocol= # SSL protocol to use.
spring.kafka.producer.ssl.trust-store-location= # Location of the trust store file.
spring.kafka.producer.ssl.trust-store-password= # Store password for the trust store file.
spring.kafka.producer.ssl.trust-store-type= # Type of the trust store.
spring.kafka.producer.transaction-id-prefix= # When non empty, enables transaction support for producer.
spring.kafka.producer.value-serializer= # Serializer class for values.
spring.kafka.properties.*= # Additional properties, common to producers and consumers, used to configure the client.
spring.kafka.ssl.key-password= # Password of the private key in the key store file.
spring.kafka.ssl.key-store-location= # Location of the key store file.
spring.kafka.ssl.key-store-password= # Store password for the key store file.
spring.kafka.ssl.key-store-type= # Type of the key store.
spring.kafka.ssl.protocol= # SSL protocol to use.
spring.kafka.ssl.trust-store-location= # Location of the trust store file.
spring.kafka.ssl.trust-store-password= # Store password for the trust store file.
spring.kafka.ssl.trust-store-type= # Type of the trust store.
spring.kafka.streams.application-id= # Kafka streams application.id property; default spring.application.name.
spring.kafka.streams.auto-startup=true # Whether or not to auto-start the streams factory bean.
spring.kafka.streams.bootstrap-servers= # Comma-delimited list of host:port pairs to use for establishing the initial connections to the Kafka cluster. Overrides the global property, for streams.
spring.kafka.streams.cache-max-size-buffering= # Maximum memory size to be used for buffering across all threads.
spring.kafka.streams.client-id= # ID to pass to the server when making requests. Used for server-side logging.
spring.kafka.streams.properties.*= # Additional Kafka properties used to configure the streams.
spring.kafka.streams.replication-factor= # The replication factor for change log topics and repartition topics created by the stream processing application.
spring.kafka.streams.ssl.key-password= # Password of the private key in the key store file.
spring.kafka.streams.ssl.key-store-location= # Location of the key store file.
spring.kafka.streams.ssl.key-store-password= # Store password for the key store file.
spring.kafka.streams.ssl.key-store-type= # Type of the key store.
spring.kafka.streams.ssl.protocol= # SSL protocol to use.
spring.kafka.streams.ssl.trust-store-location= # Location of the trust store file.
spring.kafka.streams.ssl.trust-store-password= # Store password for the trust store file.
spring.kafka.streams.ssl.trust-store-type= # Type of the trust store.
spring.kafka.streams.state-dir= # Directory location for the state store.
spring.kafka.template.default-topic= # Default topic to which messages are sent.

# RABBIT ([RabbitProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/amqp/RabbitProperties.java))
spring.rabbitmq.addresses= # Comma-separated list of addresses to which the client should connect.
spring.rabbitmq.cache.channel.checkout-timeout= # Duration to wait to obtain a channel if the cache size has been reached.
spring.rabbitmq.cache.channel.size= # Number of channels to retain in the cache.
spring.rabbitmq.cache.connection.mode=channel # Connection factory cache mode.
spring.rabbitmq.cache.connection.size= # Number of connections to cache.
spring.rabbitmq.connection-timeout= # Connection timeout. Set it to zero to wait forever.
spring.rabbitmq.dynamic=true # Whether to create an AmqpAdmin bean.
spring.rabbitmq.host=localhost # RabbitMQ host.
spring.rabbitmq.listener.direct.acknowledge-mode= # Acknowledge mode of container.
spring.rabbitmq.listener.direct.auto-startup=true # Whether to start the container automatically on startup.
spring.rabbitmq.listener.direct.consumers-per-queue= # Number of consumers per queue.
spring.rabbitmq.listener.direct.default-requeue-rejected= # Whether rejected deliveries are re-queued by default.
spring.rabbitmq.listener.direct.idle-event-interval= # How often idle container events should be published.
spring.rabbitmq.listener.direct.missing-queues-fatal=false # Whether to fail if the queues declared by the container are not available on the broker.
spring.rabbitmq.listener.direct.prefetch= # Maximum number of unacknowledged messages that can be outstanding at each consumer.
spring.rabbitmq.listener.direct.retry.enabled=false # Whether publishing retries are enabled.
spring.rabbitmq.listener.direct.retry.initial-interval=1000ms # Duration between the first and second attempt to deliver a message.
spring.rabbitmq.listener.direct.retry.max-attempts=3 # Maximum number of attempts to deliver a message.
spring.rabbitmq.listener.direct.retry.max-interval=10000ms # Maximum duration between attempts.
spring.rabbitmq.listener.direct.retry.multiplier=1 # Multiplier to apply to the previous retry interval.
spring.rabbitmq.listener.direct.retry.stateless=true # Whether retries are stateless or stateful.
spring.rabbitmq.listener.simple.acknowledge-mode= # Acknowledge mode of container.
spring.rabbitmq.listener.simple.auto-startup=true # Whether to start the container automatically on startup.
spring.rabbitmq.listener.simple.concurrency= # Minimum number of listener invoker threads.
spring.rabbitmq.listener.simple.default-requeue-rejected= # Whether rejected deliveries are re-queued by default.
spring.rabbitmq.listener.simple.idle-event-interval= # How often idle container events should be published.
spring.rabbitmq.listener.simple.max-concurrency= # Maximum number of listener invoker threads.
spring.rabbitmq.listener.simple.missing-queues-fatal=true # Whether to fail if the queues declared by the container are not available on the broker and/or whether to stop the container if one or more queues are deleted at runtime.
spring.rabbitmq.listener.simple.prefetch= # Maximum number of unacknowledged messages that can be outstanding at each consumer.
spring.rabbitmq.listener.simple.retry.enabled=false # Whether publishing retries are enabled.
spring.rabbitmq.listener.simple.retry.initial-interval=1000ms # Duration between the first and second attempt to deliver a message.
spring.rabbitmq.listener.simple.retry.max-attempts=3 # Maximum number of attempts to deliver a message.
spring.rabbitmq.listener.simple.retry.max-interval=10000ms # Maximum duration between attempts.
spring.rabbitmq.listener.simple.retry.multiplier=1 # Multiplier to apply to the previous retry interval.
spring.rabbitmq.listener.simple.retry.stateless=true # Whether retries are stateless or stateful.
spring.rabbitmq.listener.simple.transaction-size= # Number of messages to be processed between acks when the acknowledge mode is AUTO. If larger than prefetch, prefetch will be increased to this value.
spring.rabbitmq.listener.type=simple # Listener container type.
spring.rabbitmq.password=guest # Login to authenticate against the broker.
spring.rabbitmq.port=5672 # RabbitMQ port.
spring.rabbitmq.publisher-confirms=false # Whether to enable publisher confirms.
spring.rabbitmq.publisher-returns=false # Whether to enable publisher returns.
spring.rabbitmq.requested-heartbeat= # Requested heartbeat timeout; zero for none. If a duration suffix is not specified, seconds will be used.
spring.rabbitmq.ssl.algorithm= # SSL algorithm to use. By default, configured by the Rabbit client library.
spring.rabbitmq.ssl.enabled=false # Whether to enable SSL support.
spring.rabbitmq.ssl.key-store= # Path to the key store that holds the SSL certificate.
spring.rabbitmq.ssl.key-store-password= # Password used to access the key store.
spring.rabbitmq.ssl.key-store-type=PKCS12 # Key store type.
spring.rabbitmq.ssl.trust-store= # Trust store that holds SSL certificates.
spring.rabbitmq.ssl.trust-store-password= # Password used to access the trust store.
spring.rabbitmq.ssl.trust-store-type=JKS # Trust store type.
spring.rabbitmq.ssl.validate-server-certificate=true # Whether to enable server side certificate validation.
spring.rabbitmq.ssl.verify-hostname=true # Whether to enable hostname verification.
spring.rabbitmq.template.default-receive-queue= # Name of the default queue to receive messages from when none is specified explicitly.
spring.rabbitmq.template.exchange= # Name of the default exchange to use for send operations.
spring.rabbitmq.template.mandatory= # Whether to enable mandatory messages.
spring.rabbitmq.template.receive-timeout= # Timeout for `receive()` operations.
spring.rabbitmq.template.reply-timeout= # Timeout for `sendAndReceive()` operations.
spring.rabbitmq.template.retry.enabled=false # Whether publishing retries are enabled.
spring.rabbitmq.template.retry.initial-interval=1000ms # Duration between the first and second attempt to deliver a message.
spring.rabbitmq.template.retry.max-attempts=3 # Maximum number of attempts to deliver a message.
spring.rabbitmq.template.retry.max-interval=10000ms # Maximum duration between attempts.
spring.rabbitmq.template.retry.multiplier=1 # Multiplier to apply to the previous retry interval.
spring.rabbitmq.template.routing-key= # Value of a default routing key to use for send operations.
spring.rabbitmq.username=guest # Login user to authenticate to the broker.
spring.rabbitmq.virtual-host= # Virtual host to use when connecting to the broker.


# ----------------------------------------
# ACTUATOR PROPERTIES
# ----------------------------------------

# MANAGEMENT HTTP SERVER ([ManagementServerProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/web/server/ManagementServerProperties.java))
management.server.add-application-context-header=false # Add the "X-Application-Context" HTTP header in each response.
management.server.address= # Network address to which the management endpoints should bind. Requires a custom management.server.port.
management.server.port= # Management endpoint HTTP port (uses the same port as the application by default). Configure a different port to use management-specific SSL.
management.server.servlet.context-path= # Management endpoint context-path (for instance, `/management`). Requires a custom management.server.port.
management.server.ssl.ciphers= # Supported SSL ciphers.
management.server.ssl.client-auth= # Client authentication mode.
management.server.ssl.enabled=true # Whether to enable SSL support.
management.server.ssl.enabled-protocols= # Enabled SSL protocols.
management.server.ssl.key-alias= # Alias that identifies the key in the key store.
management.server.ssl.key-password= # Password used to access the key in the key store.
management.server.ssl.key-store= # Path to the key store that holds the SSL certificate (typically a jks file).
management.server.ssl.key-store-password= # Password used to access the key store.
management.server.ssl.key-store-provider= # Provider for the key store.
management.server.ssl.key-store-type= # Type of the key store.
management.server.ssl.protocol=TLS # SSL protocol to use.
management.server.ssl.trust-store= # Trust store that holds SSL certificates.
management.server.ssl.trust-store-password= # Password used to access the trust store.
management.server.ssl.trust-store-provider= # Provider for the trust store.
management.server.ssl.trust-store-type= # Type of the trust store.

# CLOUDFOUNDRY
management.cloudfoundry.enabled=true # Whether to enable extended Cloud Foundry actuator endpoints.
management.cloudfoundry.skip-ssl-validation=false # Whether to skip SSL verification for Cloud Foundry actuator endpoint security calls.

# ENDPOINTS GENERAL CONFIGURATION
management.endpoints.enabled-by-default= # Whether to enable or disable all endpoints by default.

# ENDPOINTS JMX CONFIGURATION ([JmxEndpointProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/endpoint/jmx/JmxEndpointProperties.java))
management.endpoints.jmx.domain=org.springframework.boot # Endpoints JMX domain name. Fallback to 'spring.jmx.default-domain' if set.
management.endpoints.jmx.exposure.include=* # Endpoint IDs that should be included or '*' for all.
management.endpoints.jmx.exposure.exclude= # Endpoint IDs that should be excluded or '*' for all.
management.endpoints.jmx.static-names= # Additional static properties to append to all ObjectNames of MBeans representing Endpoints.

# ENDPOINTS WEB CONFIGURATION ([WebEndpointProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/endpoint/web/WebEndpointProperties.java))
management.endpoints.web.exposure.include=health,info # Endpoint IDs that should be included or '*' for all.
management.endpoints.web.exposure.exclude= # Endpoint IDs that should be excluded or '*' for all.
management.endpoints.web.base-path=/actuator # Base path for Web endpoints. Relative to server.servlet.context-path or management.server.servlet.context-path if management.server.port is configured.
management.endpoints.web.path-mapping= # Mapping between endpoint IDs and the path that should expose them.

# ENDPOINTS CORS CONFIGURATION ([CorsEndpointProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/endpoint/web/CorsEndpointProperties.java))
management.endpoints.web.cors.allow-credentials= # Whether credentials are supported. When not set, credentials are not supported.
management.endpoints.web.cors.allowed-headers= # Comma-separated list of headers to allow in a request. '*' allows all headers.
management.endpoints.web.cors.allowed-methods= # Comma-separated list of methods to allow. '*' allows all methods. When not set, defaults to GET.
management.endpoints.web.cors.allowed-origins= # Comma-separated list of origins to allow. '*' allows all origins. When not set, CORS support is disabled.
management.endpoints.web.cors.exposed-headers= # Comma-separated list of headers to include in a response.
management.endpoints.web.cors.max-age=1800s # How long the response from a pre-flight request can be cached by clients. If a duration suffix is not specified, seconds will be used.

# AUDIT EVENTS ENDPOINT ([AuditEventsEndpoint](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/audit/AuditEventsEndpoint.java))
management.endpoint.auditevents.cache.time-to-live=0ms # Maximum time that a response can be cached.
management.endpoint.auditevents.enabled=true # Whether to enable the auditevents endpoint.

# BEANS ENDPOINT ([BeansEndpoint](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/beans/BeansEndpoint.java))
management.endpoint.beans.cache.time-to-live=0ms # Maximum time that a response can be cached.
management.endpoint.beans.enabled=true # Whether to enable the beans endpoint.

# CACHES ENDPOINT ([CachesEndpoint](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/cache/CachesEndpoint.java))
management.endpoint.caches.cache.time-to-live=0ms # Maximum time that a response can be cached.
management.endpoint.caches.enabled=true # Whether to enable the caches endpoint.

# CONDITIONS REPORT ENDPOINT ([ConditionsReportEndpoint](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/condition/ConditionsReportEndpoint.java))
management.endpoint.conditions.cache.time-to-live=0ms # Maximum time that a response can be cached.
management.endpoint.conditions.enabled=true # Whether to enable the conditions endpoint.

# CONFIGURATION PROPERTIES REPORT ENDPOINT ([ConfigurationPropertiesReportEndpoint](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/context/properties/ConfigurationPropertiesReportEndpoint.java), [ConfigurationPropertiesReportEndpointProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/context/properties/ConfigurationPropertiesReportEndpointProperties.java))
management.endpoint.configprops.cache.time-to-live=0ms # Maximum time that a response can be cached.
management.endpoint.configprops.enabled=true # Whether to enable the configprops endpoint.
management.endpoint.configprops.keys-to-sanitize=password,secret,key,token,.*credentials.*,vcap_services,sun.java.command # Keys that should be sanitized. Keys can be simple strings that the property ends with or regular expressions.

# ENVIRONMENT ENDPOINT ([EnvironmentEndpoint](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/env/EnvironmentEndpoint.java), [EnvironmentEndpointProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/env/EnvironmentEndpointProperties.java))
management.endpoint.env.cache.time-to-live=0ms # Maximum time that a response can be cached.
management.endpoint.env.enabled=true # Whether to enable the env endpoint.
management.endpoint.env.keys-to-sanitize=password,secret,key,token,.*credentials.*,vcap_services,sun.java.command # Keys that should be sanitized. Keys can be simple strings that the property ends with or regular expressions.

# FLYWAY ENDPOINT ([FlywayEndpoint](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/flyway/FlywayEndpoint.java))
management.endpoint.flyway.cache.time-to-live=0ms # Maximum time that a response can be cached.
management.endpoint.flyway.enabled=true # Whether to enable the flyway endpoint.

# HEALTH ENDPOINT ([HealthEndpoint](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/health/HealthEndpoint.java), [HealthEndpointProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/health/HealthEndpointProperties.java))
management.endpoint.health.cache.time-to-live=0ms # Maximum time that a response can be cached.
management.endpoint.health.enabled=true # Whether to enable the health endpoint.
management.endpoint.health.roles= # Roles used to determine whether or not a user is authorized to be shown details. When empty, all authenticated users are authorized.
management.endpoint.health.show-details=never # When to show full health details.

# HEAP DUMP ENDPOINT ([HeapDumpWebEndpoint](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/management/HeapDumpWebEndpoint.java))
management.endpoint.heapdump.cache.time-to-live=0ms # Maximum time that a response can be cached.
management.endpoint.heapdump.enabled=true # Whether to enable the heapdump endpoint.

# HTTP TRACE ENDPOINT ([HttpTraceEndpoint](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/trace/http/HttpTraceEndpoint.java))
management.endpoint.httptrace.cache.time-to-live=0ms # Maximum time that a response can be cached.
management.endpoint.httptrace.enabled=true # Whether to enable the httptrace endpoint.

# INFO ENDPOINT ([InfoEndpoint](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/info/InfoEndpoint.java))
info= # Arbitrary properties to add to the info endpoint.
management.endpoint.info.cache.time-to-live=0ms # Maximum time that a response can be cached.
management.endpoint.info.enabled=true # Whether to enable the info endpoint.

# INTEGRATION GRAPH ENDPOINT ([IntegrationGraphEndpoint](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/integration/IntegrationGraphEndpoint.java))
management.endpoint.integrationgraph.cache.time-to-live=0ms # Maximum time that a response can be cached.
management.endpoint.integrationgraph.enabled=true # Whether to enable the integrationgraph endpoint.

# JOLOKIA ENDPOINT ([JolokiaProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/jolokia/JolokiaProperties.java))
management.endpoint.jolokia.config.*= # Jolokia settings. Refer to the documentation of Jolokia for more details.
management.endpoint.jolokia.enabled=true # Whether to enable the jolokia endpoint.

# LIQUIBASE ENDPOINT ([LiquibaseEndpoint](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/liquibase/LiquibaseEndpoint.java))
management.endpoint.liquibase.cache.time-to-live=0ms # Maximum time that a response can be cached.
management.endpoint.liquibase.enabled=true # Whether to enable the liquibase endpoint.

# LOG FILE ENDPOINT ([LogFileWebEndpoint](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/logging/LogFileWebEndpoint.java), [LogFileWebEndpointProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/logging/LogFileWebEndpointProperties.java))
management.endpoint.logfile.cache.time-to-live=0ms # Maximum time that a response can be cached.
management.endpoint.logfile.enabled=true # Whether to enable the logfile endpoint.
management.endpoint.logfile.external-file= # External Logfile to be accessed. Can be used if the logfile is written by output redirect and not by the logging system itself.

# LOGGERS ENDPOINT ([LoggersEndpoint](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/logging/LoggersEndpoint.java))
management.endpoint.loggers.cache.time-to-live=0ms # Maximum time that a response can be cached.
management.endpoint.loggers.enabled=true # Whether to enable the loggers endpoint.

# REQUEST MAPPING ENDPOINT  ([MappingsEndpoint](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/web/mappings/MappingsEndpoint.java))
management.endpoint.mappings.cache.time-to-live=0ms # Maximum time that a response can be cached.
management.endpoint.mappings.enabled=true # Whether to enable the mappings endpoint.

# METRICS ENDPOINT ([MetricsEndpoint](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/metrics/MetricsEndpoint.java))
management.endpoint.metrics.cache.time-to-live=0ms # Maximum time that a response can be cached.
management.endpoint.metrics.enabled=true # Whether to enable the metrics endpoint.

# PROMETHEUS ENDPOINT ([PrometheusScrapeEndpoint](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/metrics/export/prometheus/PrometheusScrapeEndpoint.java))
management.endpoint.prometheus.cache.time-to-live=0ms # Maximum time that a response can be cached.
management.endpoint.prometheus.enabled=true # Whether to enable the prometheus endpoint.

# SCHEDULED TASKS ENDPOINT ([ScheduledTasksEndpoint](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/scheduling/ScheduledTasksEndpoint.java))
management.endpoint.scheduledtasks.cache.time-to-live=0ms # Maximum time that a response can be cached.
management.endpoint.scheduledtasks.enabled=true # Whether to enable the scheduledtasks endpoint.

# SESSIONS ENDPOINT ([SessionsEndpoint](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/session/SessionsEndpoint.java))
management.endpoint.sessions.enabled=true # Whether to enable the sessions endpoint.

# SHUTDOWN ENDPOINT ([ShutdownEndpoint](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/context/ShutdownEndpoint.java))
management.endpoint.shutdown.enabled=false # Whether to enable the shutdown endpoint.

# THREAD DUMP ENDPOINT ([ThreadDumpEndpoint](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/management/ThreadDumpEndpoint.java))
management.endpoint.threaddump.cache.time-to-live=0ms # Maximum time that a response can be cached.
management.endpoint.threaddump.enabled=true # Whether to enable the threaddump endpoint.

# HEALTH INDICATORS
management.health.db.enabled=true # Whether to enable database health check.
management.health.cassandra.enabled=true # Whether to enable Cassandra health check.
management.health.couchbase.enabled=true # Whether to enable Couchbase health check.
management.health.defaults.enabled=true # Whether to enable default health indicators.
management.health.diskspace.enabled=true # Whether to enable disk space health check.
management.health.diskspace.path= # Path used to compute the available disk space.
management.health.diskspace.threshold=10MB # Minimum disk space that should be available.
management.health.elasticsearch.enabled=true # Whether to enable Elasticsearch health check.
management.health.elasticsearch.indices= # Comma-separated index names.
management.health.elasticsearch.response-timeout=100ms # Time to wait for a response from the cluster.
management.health.influxdb.enabled=true # Whether to enable InfluxDB health check.
management.health.jms.enabled=true # Whether to enable JMS health check.
management.health.ldap.enabled=true # Whether to enable LDAP health check.
management.health.mail.enabled=true # Whether to enable Mail health check.
management.health.mongo.enabled=true # Whether to enable MongoDB health check.
management.health.neo4j.enabled=true # Whether to enable Neo4j health check.
management.health.rabbit.enabled=true # Whether to enable RabbitMQ health check.
management.health.redis.enabled=true # Whether to enable Redis health check.
management.health.solr.enabled=true # Whether to enable Solr health check.
management.health.status.http-mapping= # Mapping of health statuses to HTTP status codes. By default, registered health statuses map to sensible defaults (for example, UP maps to 200).
management.health.status.order=DOWN,OUT_OF_SERVICE,UP,UNKNOWN # Comma-separated list of health statuses in order of severity.

# HTTP TRACING ([HttpTraceProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/trace/http/HttpTraceProperties.java))
management.trace.http.enabled=true # Whether to enable HTTP request-response tracing.
management.trace.http.include=request-headers,response-headers,cookies,errors # Items to be included in the trace.

# INFO CONTRIBUTORS ([InfoContributorProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/info/InfoContributorProperties.java))
management.info.build.enabled=true # Whether to enable build info.
management.info.defaults.enabled=true # Whether to enable default info contributors.
management.info.env.enabled=true # Whether to enable environment info.
management.info.git.enabled=true # Whether to enable git info.
management.info.git.mode=simple # Mode to use to expose git information.

# METRICS
management.metrics.distribution.maximum-expected-value.*= # Maximum value that meter IDs starting-with the specified name are expected to observe.
management.metrics.distribution.minimum-expected-value.*= # Minimum value that meter IDs starting-with the specified name are expected to observe.
management.metrics.distribution.percentiles.*= # Specific computed non-aggregable percentiles to ship to the backend for meter IDs starting-with the specified name.
management.metrics.distribution.percentiles-histogram.*= # Whether meter IDs starting with the specified name should publish percentile histograms.
management.metrics.distribution.sla.*= # Specific SLA boundaries for meter IDs starting-with the specified name. The longest match wins.
management.metrics.enable.*= # Whether meter IDs starting-with the specified name should be enabled. The longest match wins, the key `all` can also be used to configure all meters.
management.metrics.export.appoptics.api-token= # AppOptics API token.
management.metrics.export.appoptics.batch-size=500 # Number of measurements per request to use for this backend. If more measurements are found, then multiple requests will be made.
management.metrics.export.appoptics.connect-timeout=5s # Connection timeout for requests to this backend.
management.metrics.export.appoptics.enabled=true # Whether exporting of metrics to this backend is enabled.
management.metrics.export.appoptics.host-tag=instance # Tag that will be mapped to "@host" when shipping metrics to AppOptics.
management.metrics.export.appoptics.num-threads=2 # Number of threads to use with the metrics publishing scheduler.
management.metrics.export.appoptics.read-timeout=10s # Read timeout for requests to this backend.
management.metrics.export.appoptics.step=1m # Step size (i.e. reporting frequency) to use.
management.metrics.export.appoptics.uri=https://api.appoptics.com/v1/measurements # URI to ship metrics to.
management.metrics.export.atlas.batch-size=10000 # Number of measurements per request to use for this backend. If more measurements are found, then multiple requests will be made.
management.metrics.export.atlas.config-refresh-frequency=10s # Frequency for refreshing config settings from the LWC service.
management.metrics.export.atlas.config-time-to-live=150s # Time to live for subscriptions from the LWC service.
management.metrics.export.atlas.config-uri=http://localhost:7101/lwc/api/v1/expressions/local-dev # URI for the Atlas LWC endpoint to retrieve current subscriptions.
management.metrics.export.atlas.connect-timeout=1s # Connection timeout for requests to this backend.
management.metrics.export.atlas.enabled=true # Whether exporting of metrics to this backend is enabled.
management.metrics.export.atlas.eval-uri=http://localhost:7101/lwc/api/v1/evaluate # URI for the Atlas LWC endpoint to evaluate the data for a subscription.
management.metrics.export.atlas.lwc-enabled=false # Whether to enable streaming to Atlas LWC.
management.metrics.export.atlas.meter-time-to-live=15m # Time to live for meters that do not have any activity. After this period the meter will be considered expired and will not get reported.
management.metrics.export.atlas.num-threads=2 # Number of threads to use with the metrics publishing scheduler.
management.metrics.export.atlas.read-timeout=10s # Read timeout for requests to this backend.
management.metrics.export.atlas.step=1m # Step size (i.e. reporting frequency) to use.
management.metrics.export.atlas.uri=http://localhost:7101/api/v1/publish # URI of the Atlas server.
management.metrics.export.datadog.api-key= # Datadog API key.
management.metrics.export.datadog.application-key= # Datadog application key. Not strictly required, but improves the Datadog experience by sending meter descriptions, types, and base units to Datadog.
management.metrics.export.datadog.batch-size=10000 # Number of measurements per request to use for this backend. If more measurements are found, then multiple requests will be made.
management.metrics.export.datadog.connect-timeout=1s # Connection timeout for requests to this backend.
management.metrics.export.datadog.descriptions=true # Whether to publish descriptions metadata to Datadog. Turn this off to minimize the amount of metadata sent.
management.metrics.export.datadog.enabled=true # Whether exporting of metrics to this backend is enabled.
management.metrics.export.datadog.host-tag=instance # Tag that will be mapped to "host" when shipping metrics to Datadog.
management.metrics.export.datadog.num-threads=2 # Number of threads to use with the metrics publishing scheduler.
management.metrics.export.datadog.read-timeout=10s # Read timeout for requests to this backend.
management.metrics.export.datadog.step=1m # Step size (i.e. reporting frequency) to use.
management.metrics.export.datadog.uri=https://app.datadoghq.com # URI to ship metrics to. If you need to publish metrics to an internal proxy en-route to Datadog, you can define the location of the proxy with this.
management.metrics.export.dynatrace.api-token= # Dynatrace authentication token.
management.metrics.export.dynatrace.batch-size=10000 # Number of measurements per request to use for this backend. If more measurements are found, then multiple requests will be made.
management.metrics.export.dynatrace.connect-timeout=1s # Connection timeout for requests to this backend.
management.metrics.export.dynatrace.device-id= # ID of the custom device that is exporting metrics to Dynatrace.
management.metrics.export.dynatrace.enabled=true # Whether exporting of metrics to this backend is enabled.
management.metrics.export.dynatrace.num-threads=2 # Number of threads to use with the metrics publishing scheduler.
management.metrics.export.dynatrace.read-timeout=10s # Read timeout for requests to this backend.
management.metrics.export.dynatrace.step=1m # Step size (i.e. reporting frequency) to use.
management.metrics.export.dynatrace.technology-type=java # Technology type for exported metrics. Used to group metrics under a logical technology name in the Dynatrace UI.
management.metrics.export.dynatrace.uri= # URI to ship metrics to. Should be used for SaaS, self managed instances or to en-route through an internal proxy.
management.metrics.export.elastic.auto-create-index=true # Whether to create the index automatically if it does not exist.
management.metrics.export.elastic.batch-size=10000 # Number of measurements per request to use for this backend. If more measurements are found, then multiple requests will be made.
management.metrics.export.elastic.connect-timeout=1s # Connection timeout for requests to this backend.
management.metrics.export.elastic.enabled=true # Whether exporting of metrics to this backend is enabled.
management.metrics.export.elastic.host=http://localhost:9200 # Host to export metrics to.
management.metrics.export.elastic.index=metrics # Index to export metrics to.
management.metrics.export.elastic.index-date-format=yyyy-MM # Index date format used for rolling indices. Appended to the index name, preceded by a '-'.
management.metrics.export.elastic.num-threads=2 # Number of threads to use with the metrics publishing scheduler.
management.metrics.export.elastic.password= # Login password of the Elastic server.
management.metrics.export.elastic.read-timeout=10s # Read timeout for requests to this backend.
management.metrics.export.elastic.step=1m # Step size (i.e. reporting frequency) to use.
management.metrics.export.elastic.timestamp-field-name=@timestamp # Name of the timestamp field.
management.metrics.export.elastic.user-name= # Login user of the Elastic server.
management.metrics.export.ganglia.addressing-mode=multicast # UDP addressing mode, either unicast or multicast.
management.metrics.export.ganglia.duration-units=milliseconds # Base time unit used to report durations.
management.metrics.export.ganglia.enabled=true # Whether exporting of metrics to Ganglia is enabled.
management.metrics.export.ganglia.host=localhost # Host of the Ganglia server to receive exported metrics.
management.metrics.export.ganglia.port=8649 # Port of the Ganglia server to receive exported metrics.
management.metrics.export.ganglia.protocol-version=3.1 # Ganglia protocol version. Must be either 3.1 or 3.0.
management.metrics.export.ganglia.rate-units=seconds # Base time unit used to report rates.
management.metrics.export.ganglia.step=1m # Step size (i.e. reporting frequency) to use.
management.metrics.export.ganglia.time-to-live=1 # Time to live for metrics on Ganglia. Set the multi-cast Time-To-Live to be one greater than the number of hops (routers) between the hosts.
management.metrics.export.graphite.duration-units=milliseconds # Base time unit used to report durations.
management.metrics.export.graphite.enabled=true # Whether exporting of metrics to Graphite is enabled.
management.metrics.export.graphite.host=localhost # Host of the Graphite server to receive exported metrics.
management.metrics.export.graphite.port=2004 # Port of the Graphite server to receive exported metrics.
management.metrics.export.graphite.protocol=pickled # Protocol to use while shipping data to Graphite.
management.metrics.export.graphite.rate-units=seconds # Base time unit used to report rates.
management.metrics.export.graphite.step=1m # Step size (i.e. reporting frequency) to use.
management.metrics.export.graphite.tags-as-prefix= # For the default naming convention, turn the specified tag keys into part of the metric prefix.
management.metrics.export.humio.api-token= # Humio API token.
management.metrics.export.humio.batch-size=10000 # Number of measurements per request to use for this backend. If more measurements are found, then multiple requests will be made.
management.metrics.export.humio.connect-timeout=5s # Connection timeout for requests to this backend.
management.metrics.export.humio.enabled=true # Whether exporting of metrics to this backend is enabled.
management.metrics.export.humio.num-threads=2 # Number of threads to use with the metrics publishing scheduler.
management.metrics.export.humio.read-timeout=10s # Read timeout for requests to this backend.
management.metrics.export.humio.repository=sandbox # Name of the repository to publish metrics to.
management.metrics.export.humio.step=1m # Step size (i.e. reporting frequency) to use.
management.metrics.export.humio.tags.*= # Humio tags describing the data source in which metrics will be stored. Humio tags are a distinct concept from Micrometer's tags. Micrometer's tags are used to divide metrics along dimensional boundaries.
management.metrics.export.humio.uri=https://cloud.humio.com # URI to ship metrics to. If you need to publish metrics to an internal proxy en-route to Humio, you can define the location of the proxy with this.
management.metrics.export.influx.auto-create-db=true # Whether to create the Influx database if it does not exist before attempting to publish metrics to it.
management.metrics.export.influx.batch-size=10000 # Number of measurements per request to use for this backend. If more measurements are found, then multiple requests will be made.
management.metrics.export.influx.compressed=true # Whether to enable GZIP compression of metrics batches published to Influx.
management.metrics.export.influx.connect-timeout=1s # Connection timeout for requests to this backend.
management.metrics.export.influx.consistency=one # Write consistency for each point.
management.metrics.export.influx.db=mydb # Tag that will be mapped to "host" when shipping metrics to Influx.
management.metrics.export.influx.enabled=true # Whether exporting of metrics to this backend is enabled.
management.metrics.export.influx.num-threads=2 # Number of threads to use with the metrics publishing scheduler.
management.metrics.export.influx.password= # Login password of the Influx server.
management.metrics.export.influx.read-timeout=10s # Read timeout for requests to this backend.
management.metrics.export.influx.retention-duration= # Time period for which Influx should retain data in the current database.
management.metrics.export.influx.retention-shard-duration= # Time range covered by a shard group.
management.metrics.export.influx.retention-policy= # Retention policy to use (Influx writes to the DEFAULT retention policy if one is not specified).
management.metrics.export.influx.retention-replication-factor= # How many copies of the data are stored in the cluster.
management.metrics.export.influx.step=1m # Step size (i.e. reporting frequency) to use.
management.metrics.export.influx.uri=http://localhost:8086 # URI of the Influx server.
management.metrics.export.influx.user-name= # Login user of the Influx server.
management.metrics.export.jmx.domain=metrics # Metrics JMX domain name.
management.metrics.export.jmx.enabled=true # Whether exporting of metrics to JMX is enabled.
management.metrics.export.jmx.step=1m # Step size (i.e. reporting frequency) to use.
management.metrics.export.kairos.batch-size=10000 # Number of measurements per request to use for this backend. If more measurements are found, then multiple requests will be made.
management.metrics.export.kairos.connect-timeout=1s # Connection timeout for requests to this backend.
management.metrics.export.kairos.enabled=true # Whether exporting of metrics to this backend is enabled.
management.metrics.export.kairos.num-threads=2 # Number of threads to use with the metrics publishing scheduler.
management.metrics.export.kairos.password= # Login password of the KairosDB server.
management.metrics.export.kairos.read-timeout=10s # Read timeout for requests to this backend.
management.metrics.export.kairos.step=1m # Step size (i.e. reporting frequency) to use.
management.metrics.export.kairos.uri= [localhost:8080/api/v1/datapoints](http://localhost:8080/api/v1/datapoints) # URI of the KairosDB server.
management.metrics.export.kairos.user-name= # Login user of the KairosDB server.
management.metrics.export.newrelic.account-id= # New Relic account ID.
management.metrics.export.newrelic.api-key= # New Relic API key.
management.metrics.export.newrelic.batch-size=10000 # Number of measurements per request to use for this backend. If more measurements are found, then multiple requests will be made.
management.metrics.export.newrelic.connect-timeout=1s # Connection timeout for requests to this backend.
management.metrics.export.newrelic.enabled=true # Whether exporting of metrics to this backend is enabled.
management.metrics.export.newrelic.num-threads=2 # Number of threads to use with the metrics publishing scheduler.
management.metrics.export.newrelic.read-timeout=10s # Read timeout for requests to this backend.
management.metrics.export.newrelic.step=1m # Step size (i.e. reporting frequency) to use.
management.metrics.export.newrelic.uri=https://insights-collector.newrelic.com # URI to ship metrics to.
management.metrics.export.prometheus.descriptions=true # Whether to enable publishing descriptions as part of the scrape payload to Prometheus. Turn this off to minimize the amount of data sent on each scrape.
management.metrics.export.prometheus.enabled=true # Whether exporting of metrics to Prometheus is enabled.
management.metrics.export.prometheus.step=1m # Step size (i.e. reporting frequency) to use.
management.metrics.export.prometheus.pushgateway.base-url=localhost:9091 # Base URL for the Pushgateway.
management.metrics.export.prometheus.pushgateway.enabled=false # Enable publishing via a Prometheus Pushgateway.
management.metrics.export.prometheus.pushgateway.grouping-key= # Grouping key for the pushed metrics.
management.metrics.export.prometheus.pushgateway.job= # Job identifier for this application instance.
management.metrics.export.prometheus.pushgateway.push-rate=1m # Frequency with which to push metrics.
management.metrics.export.prometheus.pushgateway.shutdown-operation= # Operation that should be performed on shutdown.
management.metrics.export.signalfx.access-token= # SignalFX access token.
management.metrics.export.signalfx.batch-size=10000 # Number of measurements per request to use for this backend. If more measurements are found, then multiple requests will be made.
management.metrics.export.signalfx.connect-timeout=1s # Connection timeout for requests to this backend.
management.metrics.export.signalfx.enabled=true # Whether exporting of metrics to this backend is enabled.
management.metrics.export.signalfx.num-threads=2 # Number of threads to use with the metrics publishing scheduler.
management.metrics.export.signalfx.read-timeout=10s # Read timeout for requests to this backend.
management.metrics.export.signalfx.source= # Uniquely identifies the app instance that is publishing metrics to SignalFx. Defaults to the local host name.
management.metrics.export.signalfx.step=10s # Step size (i.e. reporting frequency) to use.
management.metrics.export.signalfx.uri=https://ingest.signalfx.com # URI to ship metrics to.
management.metrics.export.simple.enabled=true # Whether, in the absence of any other exporter, exporting of metrics to an in-memory backend is enabled.
management.metrics.export.simple.mode=cumulative # Counting mode.
management.metrics.export.simple.step=1m # Step size (i.e. reporting frequency) to use.
management.metrics.export.statsd.enabled=true # Whether exporting of metrics to StatsD is enabled.
management.metrics.export.statsd.flavor=datadog # StatsD line protocol to use.
management.metrics.export.statsd.host=localhost # Host of the StatsD server to receive exported metrics.
management.metrics.export.statsd.max-packet-length=1400 # Total length of a single payload should be kept within your network's MTU.
management.metrics.export.statsd.polling-frequency=10s # How often gauges will be polled. When a gauge is polled, its value is recalculated and if the value has changed (or publishUnchangedMeters is true), it is sent to the StatsD server.
management.metrics.export.statsd.port=8125 # Port of the StatsD server to receive exported metrics.
management.metrics.export.statsd.publish-unchanged-meters=true # Whether to send unchanged meters to the StatsD server.
management.metrics.export.wavefront.api-token= # API token used when publishing metrics directly to the Wavefront API host.
management.metrics.export.wavefront.batch-size=10000 # Number of measurements per request to use for this backend. If more measurements are found, then multiple requests will be made.
management.metrics.export.wavefront.connect-timeout=1s # Connection timeout for requests to this backend.
management.metrics.export.wavefront.enabled=true # Whether exporting of metrics to this backend is enabled.
management.metrics.export.wavefront.global-prefix= # Global prefix to separate metrics originating from this app's white box instrumentation from those originating from other Wavefront integrations when viewed in the Wavefront UI.
management.metrics.export.wavefront.num-threads=2 # Number of threads to use with the metrics publishing scheduler.
management.metrics.export.wavefront.read-timeout=10s # Read timeout for requests to this backend.
management.metrics.export.wavefront.source= # Unique identifier for the app instance that is the source of metrics being published to Wavefront. Defaults to the local host name.
management.metrics.export.wavefront.step=10s # Step size (i.e. reporting frequency) to use.
management.metrics.export.wavefront.uri=https://longboard.wavefront.com # URI to ship metrics to.
management.metrics.use-global-registry=true # Whether auto-configured MeterRegistry implementations should be bound to the global static registry on Metrics.
management.metrics.tags.*= # Common tags that are applied to every meter.
management.metrics.web.client.max-uri-tags=100 # Maximum number of unique URI tag values allowed. After the max number of tag values is reached, metrics with additional tag values are denied by filter.
management.metrics.web.client.requests-metric-name=http.client.requests # Name of the metric for sent requests.
management.metrics.web.server.auto-time-requests=true # Whether requests handled by Spring MVC, WebFlux or Jersey should be automatically timed.
management.metrics.web.server.max-uri-tags=100 # Maximum number of unique URI tag values allowed. After the max number of tag values is reached, metrics with additional tag values are denied by filter.
management.metrics.web.server.requests-metric-name=http.server.requests # Name of the metric for received requests.


# ----------------------------------------
# DEVTOOLS PROPERTIES
# ----------------------------------------

# DEVTOOLS ([DevToolsProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-devtools/src/main/java/org/springframework/boot/devtools/autoconfigure/DevToolsProperties.java))
spring.devtools.add-properties=true # Whether to enable development property defaults.
spring.devtools.livereload.enabled=true # Whether to enable a livereload.com-compatible server.
spring.devtools.livereload.port=35729 # Server port.
spring.devtools.restart.additional-exclude= # Additional patterns that should be excluded from triggering a full restart.
spring.devtools.restart.additional-paths= # Additional paths to watch for changes.
spring.devtools.restart.enabled=true # Whether to enable automatic restart.
spring.devtools.restart.exclude=META-INF/maven/**,META-INF/resources/**,resources/**,static/**,public/**,templates/**,**/*Test.class,**/*Tests.class,git.properties,META-INF/build-info.properties # Patterns that should be excluded from triggering a full restart.
spring.devtools.restart.log-condition-evaluation-delta=true # Whether to log the condition evaluation delta upon restart.
spring.devtools.restart.poll-interval=1s # Amount of time to wait between polling for classpath changes.
spring.devtools.restart.quiet-period=400ms # Amount of quiet time required without any classpath changes before a restart is triggered.
spring.devtools.restart.trigger-file= # Name of a specific file that, when changed, triggers the restart check. If not specified, any classpath file change triggers the restart.

# REMOTE DEVTOOLS ([RemoteDevToolsProperties](https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-devtools/src/main/java/org/springframework/boot/devtools/autoconfigure/RemoteDevToolsProperties.java))
spring.devtools.remote.context-path=/.~~spring-boot!~ # Context path used to handle the remote connection.
spring.devtools.remote.proxy.host= # The host of the proxy to use to connect to the remote application.
spring.devtools.remote.proxy.port= # The port of the proxy to use to connect to the remote application.
spring.devtools.remote.restart.enabled=true # Whether to enable remote restart.
spring.devtools.remote.secret= # A shared secret required to establish a connection (required to enable remote support).
spring.devtools.remote.secret-header-name=X-AUTH-TOKEN # HTTP header used to transfer the shared secret.


# ----------------------------------------
# TESTING PROPERTIES
# ----------------------------------------

spring.test.database.replace=any # Type of existing DataSource to replace.
spring.test.mockmvc.print=default # MVC Print option.
```

é™„å½•B.é…ç½®å…ƒæ•°æ®
---------

Spring Boot jaråŒ…æ‹¬å…ƒæ•°æ®æ–‡ä»¶ï¼Œæä¾›æ‰€æœ‰æ”¯æŒçš„é…ç½®å±æ€§çš„è¯¦ç»†ä¿¡æ¯ã€‚è¿™äº›æ–‡ä»¶æ—¨åœ¨è®©IDEå¼€å‘äººå‘˜åœ¨ç”¨æˆ·ä½¿ç”¨`application.properties`æˆ–`application.yml`æ–‡ä»¶æ—¶æä¾›ä¸Šä¸‹æ–‡å¸®åŠ©å’Œâ€œä»£ç å®Œæˆâ€ã€‚

é€šè¿‡å¤„ç†ä½¿ç”¨`@ConfigurationProperties`æ³¨é‡Šçš„æ‰€æœ‰é¡¹ç›®ï¼Œåœ¨ç¼–è¯‘æ—¶è‡ªåŠ¨ç”Ÿæˆå¤§éƒ¨åˆ†å…ƒæ•°æ®æ–‡ä»¶ã€‚ä½†æ˜¯ï¼Œå¯ä»¥ é’ˆå¯¹æç«¯æƒ…å†µæˆ–æ›´é«˜çº§çš„ç”¨ä¾‹[æ‰‹åŠ¨ç¼–å†™éƒ¨åˆ†å…ƒæ•°æ®](#configuration-metadata-additional-metadata "B.3.2æ·»åŠ é™„åŠ å…ƒæ•°æ®")ã€‚

B.1å…ƒæ•°æ®æ ¼å¼
--------

é…ç½®å…ƒæ•°æ®æ–‡ä»¶ä½äº`META-INF/spring-configuration-metadata.json`ä¸‹çš„jarä¸­ã€‚å®ƒä»¬ä½¿ç”¨ç®€å•çš„JSONæ ¼å¼ï¼Œå…¶ä¸­çš„é¡¹ç›®åˆ†ç±»ä¸ºâ€œgroupsâ€æˆ–â€œpropertiesâ€ï¼Œå…¶ä»–å€¼æç¤ºåˆ†ç±»åœ¨â€œhintsâ€ä¸‹ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
{"groups": [
	{
		"name": "server",
		"type": "org.springframework.boot.autoconfigure.web.ServerProperties",
		"sourceType": "org.springframework.boot.autoconfigure.web.ServerProperties"
	},
	{
		"name": "spring.jpa.hibernate",
		"type": "org.springframework.boot.autoconfigure.orm.jpa.JpaProperties$Hibernate",
		"sourceType": "org.springframework.boot.autoconfigure.orm.jpa.JpaProperties",
		"sourceMethod": "getHibernate()"
	}
	...
],"properties": [
	{
		"name": "server.port",
		"type": "java.lang.Integer",
		"sourceType": "org.springframework.boot.autoconfigure.web.ServerProperties"
	},
	{
		"name": "server.address",
		"type": "java.net.InetAddress",
		"sourceType": "org.springframework.boot.autoconfigure.web.ServerProperties"
	},
	{
		  "name": "spring.jpa.hibernate.ddl-auto",
		  "type": "java.lang.String",
		  "description": "DDL mode. This is actually a shortcut for the \"hibernate.hbm2ddl.auto\" property.",
		  "sourceType": "org.springframework.boot.autoconfigure.orm.jpa.JpaProperties$Hibernate"
	}
	...
],"hints": [
	{
		"name": "spring.jpa.hibernate.ddl-auto",
		"values": [
			{
				"value": "none",
				"description": "Disable DDL handling."
			},
			{
				"value": "validate",
				"description": "Validate the schema, make no changes to the database."
			},
			{
				"value": "update",
				"description": "Update the schema if necessary."
			},
			{
				"value": "create",
				"description": "Create the schema and destroy previous data."
			},
			{
				"value": "create-drop",
				"description": "Create and then destroy the schema at the end of the session."
			}
		]
	}
]}
```

æ¯ä¸ªâ€œå±æ€§â€æ˜¯ç”¨æˆ·ä½¿ç”¨ç»™å®šå€¼æŒ‡å®šçš„é…ç½®é¡¹ã€‚ä¾‹å¦‚ï¼Œ`server.port`å’Œ`server.address`å¯èƒ½åœ¨`application.properties`ä¸­æŒ‡å®šï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
server.port=9090
server.address=127.0.0.1
```

â€œç»„â€æ˜¯æ›´é«˜çº§åˆ«çš„é¡¹ç›®ï¼Œå®ƒä»¬æœ¬èº«ä¸æŒ‡å®šå€¼ï¼Œè€Œæ˜¯ä¸ºå±æ€§æä¾›ä¸Šä¸‹æ–‡åˆ†ç»„ã€‚ä¾‹å¦‚ï¼Œ`server.port`å’Œ`server.address`å±æ€§æ˜¯`server`ç»„çš„ä¸€éƒ¨åˆ†ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å¹¶ä¸è¦æ±‚æ¯ä¸ªâ€œè´¢äº§â€éƒ½æœ‰â€œå›¢ä½“â€ã€‚æŸäº›å±æ€§å¯èƒ½æœ¬èº«å°±å­˜åœ¨ã€‚</p></td></tr></tbody></table>

æœ€åï¼Œâ€œæç¤ºâ€æ˜¯ç”¨äºå¸®åŠ©ç”¨æˆ·é…ç½®ç»™å®šå±æ€§çš„é™„åŠ ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œå½“å¼€å‘äººå‘˜é…ç½®`spring.jpa.hibernate.ddl-auto`å±æ€§æ—¶ï¼Œå·¥å…·å¯ä»¥ä½¿ç”¨æç¤ºä¸º`none`ï¼Œ`validate`ï¼Œ`update`ï¼Œ`create`æä¾›ä¸€äº›è‡ªåŠ¨å®Œæˆå¸®åŠ©ï¼Œå’Œ`create-drop`å€¼ã€‚

### B.1.1ç»„å±æ€§

`groups`æ•°ç»„ä¸­åŒ…å«çš„JSONå¯¹è±¡å¯ä»¥åŒ…å«ä¸‹è¡¨ä¸­æ˜¾ç¤ºçš„å±æ€§ï¼š

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"><col class="col_3"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">åç§°</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">ç±»å‹</th><th style="border-bottom: 1px solid ; " align="left" valign="top">ç›®çš„</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">name</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>String</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>The full name of the group. This attribute is mandatory.</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">type</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>String</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>The class name of the data type of the group. For example, if the group were based on a class annotated with <code class="literal">@ConfigurationProperties</code>, the attribute would contain the fully qualified name of that class. If it were based on a <code class="literal">@Bean</code> method, it would be the return type of that method. If the type is not known, the attribute may be omitted.</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">description</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>String</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>A short description of the group that can be displayed to users. If not description is available, it may be omitted. It is recommended that descriptions be short paragraphs, with the first line providing a concise summary. The last line in the description should end with a period (<code class="literal">.</code>).</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">sourceType</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>String</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>The class name of the source that contributed this group. For example, if the group were based on a <code class="literal">@Bean</code> method annotated with <code class="literal">@ConfigurationProperties</code>, this attribute would contain the fully qualified name of the <code class="literal">@Configuration</code> class that contains the method. If the source type is not known, the attribute may be omitted.</p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">sourceMethod</code></p></td><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p>String</p></td><td style="" align="left" valign="top" class="notranslate"><p>The full name of the method (include parenthesis and argument types) that contributed this group (for example, the name of a <code class="literal">@ConfigurationProperties</code> annotated <code class="literal">@Bean</code> method). If the source method is not known, it may be omitted.</p></td></tr></tbody></table>

### B.1.2 Propertyå±æ€§

`properties`æ•°ç»„ä¸­åŒ…å«çš„JSONå¯¹è±¡å¯ä»¥åŒ…å«ä¸‹è¡¨ä¸­æè¿°çš„å±æ€§ï¼š

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"><col class="col_3"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">åç§°</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">ç±»å‹</th><th style="border-bottom: 1px solid ; " align="left" valign="top">ç›®çš„</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">name</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>String</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>The full name of the property. Names are in lower-case period-separated form (for example, <code class="literal">server.address</code>). This attribute is mandatory.</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">type</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>String</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>The full signature of the data type of the property (for example, <code class="literal">java.lang.String</code>) but also a full generic type (such as <code class="literal">java.util.Map&lt;java.util.String,acme.MyEnum&gt;</code>). You can use this attribute to guide the user as to the types of values that they can enter. For consistency, the type of a primitive is specified by using its wrapper counterpart (for example, <code class="literal">boolean</code> becomes <code class="literal">java.lang.Boolean</code>). Note that this class may be a complex type that gets converted from a <code class="literal">String</code> as values are bound. If the type is not known, it may be omitted.</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">description</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>String</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>A short description of the group that can be displayed to users. If no description is available, it may be omitted. It is recommended that descriptions be short paragraphs, with the first line providing a concise summary. The last line in the description should end with a period (<code class="literal">.</code>).</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">sourceType</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>String</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>The class name of the source that contributed this property. For example, if the property were from a class annotated with <code class="literal">@ConfigurationProperties</code>, this attribute would contain the fully qualified name of that class. If the source type is unknown, it may be omitted.</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">defaultValue</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Object</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>The default value, which is used if the property is not specified. If the type of the property is an array, it can be an array of value(s). If the default value is unknown, it may be omitted.</p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">deprecation</code></p></td><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p>Deprecation</p></td><td style="" align="left" valign="top" class="notranslate"><p>Specify whether the property is deprecated. If the field is not deprecated or if that information is not known, it may be omitted. The next table offers more detail about the <code class="literal">deprecation</code> attribute.</p></td></tr></tbody></table>

æ¯ä¸ª`properties`å…ƒç´ çš„`deprecation`å±æ€§ä¸­åŒ…å«çš„JSONå¯¹è±¡å¯ä»¥åŒ…å«ä»¥ä¸‹å±æ€§ï¼š

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"><col class="col_3"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">åç§°</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">ç±»å‹</th><th style="border-bottom: 1px solid ; " align="left" valign="top">ç›®çš„</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">level</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>String</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>The level of deprecation, which can be either <code class="literal">warning</code> (the default) or <code class="literal">error</code>. When a property has a <code class="literal">warning</code> deprecation level, it should still be bound in the environment. However, when it has an <code class="literal">error</code> deprecation level, the property is no longer managed and is not bound.</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">reason</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>String</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>A short description of the reason why the property was deprecated. If no reason is available, it may be omitted. It is recommended that descriptions be short paragraphs, with the first line providing a concise summary. The last line in the description should end with a period (<code class="literal">.</code>).</p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">replacement</code></p></td><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p>String</p></td><td style="" align="left" valign="top" class="notranslate"><p>The full name of the property that <em>replaces</em> this deprecated property. If there is no replacement for this property, it may be omitted.</p></td></tr></tbody></table><table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>åœ¨Spring Boot 1.3ä¹‹å‰ï¼Œå¯ä»¥ä½¿ç”¨å•ä¸ª<code class="literal" i="3807">deprecated</code>å¸ƒå°”å±æ€§æ¥ä»£æ›¿<code class="literal" i="3808">deprecation</code>å…ƒç´ ã€‚ä»ä»¥ä¸æ¨èçš„æ–¹å¼æ”¯æŒæ­¤åŠŸèƒ½ï¼Œä¸åº”å†ä½¿ç”¨å®ƒã€‚å¦‚æœæ²¡æœ‰å¯ç”¨çš„åŸå› å’Œæ›¿æ¢ï¼Œåˆ™åº”è®¾ç½®ç©ºçš„<code class="literal" i="3809">deprecation</code>å¯¹è±¡ã€‚</p></td></tr></tbody></table>

é€šè¿‡å°†`@DeprecatedConfigurationProperty`æ³¨é‡Šæ·»åŠ åˆ°å…¬å¼€ä¸æ¨èä½¿ç”¨çš„å±æ€§çš„getterä¸­ï¼Œä¹Ÿå¯ä»¥åœ¨ä»£ç ä¸­ä»¥å£°æ˜æ–¹å¼æŒ‡å®šå¼ƒç”¨ã€‚ä¾‹å¦‚ï¼Œå‡è®¾`app.acme.target`å±æ€§ä»¤äººå›°æƒ‘ï¼Œå¹¶é‡å‘½åä¸º`app.acme.name`ã€‚ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†å¦‚ä½•å¤„ç†è¿™ç§æƒ…å†µï¼š

```
_@ConfigurationProperties("app.acme")_
public class AcmeProperties {

	private String name;

	public String getName() { ... }

	public void setName(String name) { ... }

	_@DeprecatedConfigurationProperty(replacement = "app.acme.name")_
	_@Deprecated_
	public String getTarget() {
		return getName();
	}

	_@Deprecated_
	public void setTarget(String target) {
		setName(target);
	}
}
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>æ²¡æœ‰åŠæ³•è®¾ç½®<code class="literal" i="3813">level</code>ã€‚å§‹ç»ˆå‡è®¾<code class="literal" i="3814">warning</code>ï¼Œå› ä¸ºä»£ç ä»åœ¨å¤„ç†å±æ€§ã€‚</p></td></tr></tbody></table>

å‰é¢çš„ä»£ç ç¡®ä¿deprecatedå±æ€§ä»ç„¶æœ‰æ•ˆï¼ˆå§”æ‰˜ç»™å¹•åçš„`name`å±æ€§ï¼‰ã€‚ä¸€æ—¦å¯ä»¥ä»å…¬å…±APIä¸­åˆ é™¤`getTarget`å’Œ`setTarget`æ–¹æ³•ï¼Œå…ƒæ•°æ®ä¸­çš„è‡ªåŠ¨å¼ƒç”¨æç¤ºä¹Ÿä¼šæ¶ˆå¤±ã€‚å¦‚æœè¦ä¿ç•™æç¤ºï¼Œæ·»åŠ å…·æœ‰`error`å¼ƒç”¨çº§åˆ«çš„æ‰‹åŠ¨å…ƒæ•°æ®å¯ç¡®ä¿ç”¨æˆ·ä»ç„¶äº†è§£è¯¥å±æ€§ã€‚å½“æä¾›`replacement`æ—¶ï¼Œè¿™æ ·åšç‰¹åˆ«æœ‰ç”¨ã€‚

### B.1.3æç¤ºå±æ€§

`hints`æ•°ç»„ä¸­åŒ…å«çš„JSONå¯¹è±¡å¯ä»¥åŒ…å«ä¸‹è¡¨ä¸­æ˜¾ç¤ºçš„å±æ€§ï¼š

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"><col class="col_3"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">åç§°</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">ç±»å‹</th><th style="border-bottom: 1px solid ; " align="left" valign="top">ç›®çš„</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">name</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>String</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>The full name of the property to which this hint refers. Names are in lower-case period-separated form (such as <code class="literal">spring.mvc.servlet.path</code>). If the property refers to a map (such as <code class="literal">system.contexts</code>), the hint either applies to the <em>keys</em> of the map (<code class="literal">system.context.keys</code>) or the <em>values</em> (<code class="literal">system.context.values</code>) of the map. This attribute is mandatory.</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">values</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>ValueHint[]</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>A list of valid values as defined by the <code class="literal">ValueHint</code> object (described in the next table). Each entry defines the value and may have a description.</p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">providers</code></p></td><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p>ValueProvider[]</p></td><td style="" align="left" valign="top" class="notranslate"><p>A list of providers as defined by the <code class="literal">ValueProvider</code> object (described later in this document). Each entry defines the name of the provider and its parameters, if any.</p></td></tr></tbody></table>

æ¯ä¸ª`hint`å…ƒç´ çš„`values`å±æ€§ä¸­åŒ…å«çš„JSONå¯¹è±¡å¯ä»¥åŒ…å«ä¸‹è¡¨ä¸­æè¿°çš„å±æ€§ï¼š

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"><col class="col_3"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">åç§°</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">ç±»å‹</th><th style="border-bottom: 1px solid ; " align="left" valign="top">ç›®çš„</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">value</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Object</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>A valid value for the element to which the hint refers. If the type of the property is an array, it can also be an array of value(s). This attribute is mandatory.</p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">description</code></p></td><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p>String</p></td><td style="" align="left" valign="top" class="notranslate"><p>A short description of the value that can be displayed to users. If no description is available, it may be omitted . It is recommended that descriptions be short paragraphs, with the first line providing a concise summary. The last line in the description should end with a period (<code class="literal">.</code>).</p></td></tr></tbody></table>

æ¯ä¸ª`hint`å…ƒç´ çš„`providers`å±æ€§ä¸­åŒ…å«çš„JSONå¯¹è±¡å¯ä»¥åŒ…å«ä¸‹è¡¨ä¸­æè¿°çš„å±æ€§ï¼š

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"><col class="col_3"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">åç§°</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">ç±»å‹</th><th style="border-bottom: 1px solid ; " align="left" valign="top">ç›®çš„</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">name</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>String</p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>The name of the provider to use to offer additional content assistance for the element to which the hint refers.</p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">parameters</code></p></td><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p>JSON object</p></td><td style="" align="left" valign="top" class="notranslate"><p>Any additional parameter that the provider supports (check the documentation of the provider for more details).</p></td></tr></tbody></table>

### B.1.4é‡å¤çš„å…ƒæ•°æ®é¡¹

å…·æœ‰ç›¸åŒâ€œå±æ€§â€å’Œâ€œç»„â€åç§°çš„å¯¹è±¡å¯ä»¥åœ¨å…ƒæ•°æ®æ–‡ä»¶ä¸­å¤šæ¬¡å‡ºç°ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥å°†ä¸¤ä¸ªå•ç‹¬çš„ç±»ç»‘å®šåˆ°åŒä¸€ä¸ªå‰ç¼€ï¼Œæ¯ä¸ªç±»éƒ½æœ‰å¯èƒ½é‡å çš„å±æ€§åç§°ã€‚è™½ç„¶å¤šæ¬¡å‡ºç°åœ¨å…ƒæ•°æ®ä¸­çš„ç›¸åŒåç§°ä¸åº”è¯¥æ˜¯å¸¸è§çš„ï¼Œä½†å…ƒæ•°æ®çš„ä½¿ç”¨è€…åº”è¯¥æ³¨æ„ç¡®ä¿ä»–ä»¬æ”¯æŒå®ƒã€‚

B.2æä¾›æ‰‹åŠ¨æç¤º
---------

è¦æ”¹å–„ç”¨æˆ·ä½“éªŒå¹¶è¿›ä¸€æ­¥å¸®åŠ©ç”¨æˆ·é…ç½®ç»™å®šå±æ€§ï¼Œæ‚¨å¯ä»¥æä¾›ä»¥ä¸‹å…¶ä»–å…ƒæ•°æ®ï¼š

*   æè¿°å±æ€§çš„æ½œåœ¨å€¼åˆ—è¡¨ã€‚
*   å…³è”æä¾›è€…ï¼Œå°†æ˜ç¡®å®šä¹‰çš„è¯­ä¹‰é™„åŠ åˆ°å±æ€§ï¼Œä»¥ä¾¿å·¥å…·å¯ä»¥æ ¹æ®é¡¹ç›®çš„ä¸Šä¸‹æ–‡å‘ç°æ½œåœ¨å€¼åˆ—è¡¨ã€‚

### B.2.1ä»·å€¼æç¤º

æ¯ä¸ªæç¤ºçš„`name`å±æ€§æŒ‡çš„æ˜¯å±æ€§çš„`name`ã€‚åœ¨[å‰é¢æ˜¾ç¤º](#configuration-metadata-format "B.1å…ƒæ•°æ®æ ¼å¼")çš„ [åˆå§‹ç¤ºä¾‹ä¸­](#configuration-metadata-format "B.1Â Metadata Format")ï¼Œæˆ‘ä»¬ä¸º`spring.jpa.hibernate.ddl-auto`å±æ€§æä¾›äº†äº”ä¸ªå€¼ï¼š`none`ï¼Œ`validate`ï¼Œ`update`ï¼Œ`create`å’Œ`create-drop`ã€‚æ¯ä¸ªå€¼ä¹Ÿå¯ä»¥æœ‰æè¿°ã€‚

å¦‚æœæ‚¨çš„å±æ€§ç±»å‹ä¸º`Map`ï¼Œåˆ™å¯ä»¥æä¾›é”®å’Œå€¼çš„æç¤ºï¼ˆä½†ä¸èƒ½æä¾›åœ°å›¾æœ¬èº«çš„æç¤ºï¼‰ã€‚ç‰¹æ®Šçš„`.keys`å’Œ`.values`åç¼€å¿…é¡»åˆ†åˆ«å¼•ç”¨é”®å’Œå€¼ã€‚

å‡è®¾`sample.contexts`å°†magic `String`å€¼æ˜ å°„ä¸ºæ•´æ•°ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
_@ConfigurationProperties("sample")_
public class SampleProperties {

	private Map<String,Integer> contexts;
	// getters and setters
}
```

ç¥å¥‡çš„å€¼ï¼ˆåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼‰æ˜¯`sample1`å’Œ`sample2`ã€‚ä¸ºäº†ä¸ºå¯†é’¥æä¾›é¢å¤–çš„å†…å®¹å¸®åŠ©ï¼Œæ‚¨å¯ä»¥å°†ä»¥ä¸‹JSONæ·»åŠ åˆ° [æ¨¡å—çš„æ‰‹åŠ¨å…ƒæ•°æ®ä¸­](#configuration-metadata-additional-metadata "B.3.2æ·»åŠ é™„åŠ å…ƒæ•°æ®")ï¼š

```
{"hints": [
	{
		"name": "sample.contexts.keys",
		"values": [
			{
				"value": "sample1"
			},
			{
				"value": "sample2"
			}
		]
	}
]}
```

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æˆ‘ä»¬å»ºè®®æ‚¨ä½¿ç”¨<code class="literal" i="3840">Enum</code>ä»£æ›¿è¿™ä¸¤ä¸ªå€¼ã€‚å¦‚æœæ‚¨çš„IDEæ”¯æŒå®ƒï¼Œè¿™æ˜¯è¿„ä»Šä¸ºæ­¢æœ€æœ‰æ•ˆçš„è‡ªåŠ¨å®Œæˆæ–¹æ³•ã€‚</p></td></tr></tbody></table>

### B.2.2ä»·å€¼æä¾›è€…

æä¾›ç¨‹åºæ˜¯å°†è¯­ä¹‰é™„åŠ åˆ°å±æ€§çš„å¼ºå¤§æ–¹æ³•ã€‚åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†å¯ç”¨äºæ‚¨è‡ªå·±çš„æç¤ºçš„å®˜æ–¹æä¾›ç¨‹åºã€‚ä½†æ˜¯ï¼Œæ‚¨æœ€å–œæ¬¢çš„IDEå¯èƒ½ä¼šå®ç°å…¶ä¸­ä¸€äº›æˆ–ä¸å®ç°ã€‚æ­¤å¤–ï¼Œå®ƒæœ€ç»ˆå¯ä»¥æä¾›è‡ªå·±çš„ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>ç”±äºè¿™æ˜¯ä¸€é¡¹æ–°åŠŸèƒ½ï¼Œå› æ­¤IDEä¾›åº”å•†å¿…é¡»äº†è§£å…¶å·¥ä½œåŸç†ã€‚é‡‡ç”¨æ—¶é—´è‡ªç„¶ä¼šæœ‰æ‰€ä¸åŒã€‚</p></td></tr></tbody></table>

ä¸‹è¡¨æ€»ç»“äº†æ”¯æŒçš„æä¾›ç¨‹åºåˆ—è¡¨ï¼š

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">åç§°</th><th style="border-bottom: 1px solid ; " align="left" valign="top">æè¿°</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">any</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>å…è®¸æä¾›ä»»ä½•é™„åŠ å€¼ã€‚</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">class-reference</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>è‡ªåŠ¨å®Œæˆé¡¹ç›®ä¸­å¯ç”¨çš„ç±»ã€‚é€šå¸¸ç”±<code class="literal" i="3841">target</code>å‚æ•°æŒ‡å®šçš„åŸºç±»çº¦æŸã€‚</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">handle-as</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>å¤„ç†å±æ€§ï¼Œå°±å¥½åƒå®ƒæ˜¯ç”±å¼ºåˆ¶<code class="literal" i="3842">target</code>å‚æ•°å®šä¹‰çš„ç±»å‹å®šä¹‰çš„ä¸€æ ·ã€‚</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">logger-name</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>è‡ªåŠ¨å®Œæˆæœ‰æ•ˆçš„è®°å½•å™¨åç§°å’Œ <a class="link" href="#boot-features-custom-log-groups" title="26ã€‚5æ—¥å¿—ç»„">è®°å½•å™¨ç»„</a>ã€‚é€šå¸¸ï¼Œå½“å‰é¡¹ç›®ä¸­å¯ç”¨çš„åŒ…åå’Œç±»åå¯ä»¥è‡ªåŠ¨å®Œæˆï¼Œä¹Ÿå¯ä»¥è‡ªå®šä¹‰ç»„ã€‚</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-bean-reference</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>è‡ªåŠ¨å®Œæˆå½“å‰é¡¹ç›®ä¸­å¯ç”¨çš„beanåç§°ã€‚é€šå¸¸ç”±<code class="literal" i="3843">target</code>å‚æ•°æŒ‡å®šçš„åŸºç±»çº¦æŸã€‚</p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-profile-name</code></p></td><td style="" align="left" valign="top" class=""><p>è‡ªåŠ¨å®Œæˆé¡¹ç›®ä¸­å¯ç”¨çš„Springé…ç½®æ–‡ä»¶åç§°ã€‚</p></td></tr></tbody></table><table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¯¹äºç»™å®šçš„å±æ€§ï¼Œåªæœ‰ä¸€ä¸ªæä¾›ç¨‹åºå¯ä»¥å¤„äºæ´»åŠ¨çŠ¶æ€ï¼Œä½†å¦‚æœå®ƒä»¬éƒ½å¯ä»¥<em>ä»¥æŸç§æ–¹å¼</em>ç®¡ç†å±æ€§<em>ï¼Œ</em>åˆ™å¯ä»¥æŒ‡å®šå¤šä¸ªæä¾›ç¨‹åºã€‚ç¡®ä¿é¦–å…ˆæ”¾ç½®æœ€å¼ºå¤§çš„æä¾›ç¨‹åºï¼Œå› ä¸ºIDEå¿…é¡»ä½¿ç”¨å®ƒå¯ä»¥å¤„ç†çš„JSONéƒ¨åˆ†ä¸­çš„ç¬¬ä¸€ä¸ªã€‚å¦‚æœä¸æ”¯æŒç»™å®šå±æ€§çš„æä¾›è€…ï¼Œåˆ™ä¹Ÿä¸æä¾›ç‰¹æ®Šå†…å®¹å¸®åŠ©ã€‚</p></td></tr></tbody></table>

#### ä»»ä½•

ç‰¹æ®Šçš„**ä»»ä½•**æä¾›è€…å€¼éƒ½å…è®¸æä¾›ä»»ä½•å…¶ä»–å€¼ã€‚å¦‚æœæ”¯æŒï¼Œåˆ™åº”åº”ç”¨åŸºäºå±æ€§ç±»å‹çš„å¸¸è§„å€¼éªŒè¯ã€‚

å¦‚æœæ‚¨æœ‰å€¼åˆ—è¡¨å¹¶ä¸”ä»»ä½•é¢å¤–å€¼ä»åº”è¢«è§†ä¸ºæœ‰æ•ˆï¼Œåˆ™é€šå¸¸ä½¿ç”¨æ­¤æä¾›ç¨‹åºã€‚

ä»¥ä¸‹ç¤ºä¾‹æä¾›`on`å’Œ`off`ä½œä¸º`system.state`çš„è‡ªåŠ¨å®Œæˆå€¼ï¼š

```
{"hints": [
	{
		"name": "system.state",
		"values": [
			{
				"value": "on"
			},
			{
				"value": "off"
			}
		],
		"providers": [
			{
				"name": "any"
			}
		]
	}
]}
```

è¯·æ³¨æ„ï¼Œåœ¨å‰é¢çš„ç¤ºä¾‹ä¸­ï¼Œè¿˜å…è®¸ä»»ä½•å…¶ä»–å€¼ã€‚

#### è¯¾ç¨‹å‚è€ƒ

åœ¨**ç±»å¼•ç”¨**æä¾›å•†è‡ªåŠ¨å®Œæˆé¡¹ç›®ä¸­å¯ç”¨çš„ç±»ã€‚æ­¤æä¾›ç¨‹åºæ”¯æŒä»¥ä¸‹å‚æ•°ï¼š

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"><col class="col_3"><col class="col_4"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">å‚æ•°</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">ç±»å‹</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">é»˜è®¤å€¼</th><th style="border-bottom: 1px solid ; " align="left" valign="top">æè¿°</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">target</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">String</code> (<code class="literal">Class</code>)</p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><em>none</em></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class=""><p>åº”åˆ†é…ç»™æ‰€é€‰å€¼çš„ç±»çš„å®Œå…¨é™å®šåç§°ã€‚é€šå¸¸ç”¨äºè¿‡æ»¤éå€™é€‰ç±»ã€‚è¯·æ³¨æ„ï¼Œé€šè¿‡å…¬å¼€å…·æœ‰é€‚å½“ä¸Šé™çš„ç±»ï¼Œå¯ä»¥é€šè¿‡ç±»å‹æœ¬èº«æä¾›æ­¤ä¿¡æ¯ã€‚</p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">concrete</code></p></td><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">boolean</code></p></td><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p>true</p></td><td style="" align="left" valign="top" class=""><p>æŒ‡å®šæ˜¯å¦ä»…å°†å…·ä½“ç±»è§†ä¸ºæœ‰æ•ˆå€™é€‰ã€‚</p></td></tr></tbody></table>

ä»¥ä¸‹å…ƒæ•°æ®ç‰‡æ®µå¯¹åº”äºæ ‡å‡†è¦ä½¿ç”¨çš„`JspServlet`ç±»åç§°çš„æ ‡å‡†`server.servlet.jsp.class-name`å±æ€§ï¼š

```
{"hints": [
	{
		"name": "server.servlet.jsp.class-name",
		"providers": [
			{
				"name": "class-reference",
				"parameters": {
					"target": "javax.servlet.http.HttpServlet"
				}
			}
		]
	}
]}
```

#### å¤„ç†ä¸º

è¯¥**æ‰‹æŸ„çš„**ä¾›åº”å•†ï¼Œæ‚¨å¯ä»¥æ›¿ä»£å±æ€§çš„ç±»å‹åˆ°ä¸€ä¸ªæ›´é«˜å±‚æ¬¡çš„ç±»å‹ã€‚å½“å±æ€§å…·æœ‰`java.lang.String`ç±»å‹æ—¶ï¼Œé€šå¸¸ä¼šå‘ç”Ÿè¿™ç§æƒ…å†µï¼Œå› ä¸ºæ‚¨ä¸å¸Œæœ›é…ç½®ç±»ä¾èµ–äºå¯èƒ½ä¸åœ¨ç±»è·¯å¾„ä¸Šçš„ç±»ã€‚æ­¤æä¾›ç¨‹åºæ”¯æŒä»¥ä¸‹å‚æ•°ï¼š

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"><col class="col_3"><col class="col_4"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">å‚æ•°</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">ç±»å‹</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">é»˜è®¤å€¼</th><th style="border-bottom: 1px solid ; " align="left" valign="top">æè¿°</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><strong><code class="literal">target</code></strong></p></td><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">String</code> (<code class="literal">Class</code>)</p></td><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><em>none</em></p></td><td style="" align="left" valign="top" class=""><p>è¦ä¸ºè¯¥å±æ€§è€ƒè™‘çš„ç±»å‹çš„å®Œå…¨é™å®šåç§°ã€‚æ­¤å‚æ•°æ˜¯å¿…éœ€çš„ã€‚</p></td></tr></tbody></table>

å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ç±»å‹ï¼š

*   ä»»ä½•`java.lang.Enum`ï¼šåˆ—å‡ºå±æ€§çš„å¯èƒ½å€¼ã€‚ï¼ˆæˆ‘ä»¬å»ºè®®ä½¿ç”¨`Enum`ç±»å‹å®šä¹‰å±æ€§ï¼Œå› ä¸ºIDEä¸éœ€è¦è¿›ä¸€æ­¥æç¤ºæ¥è‡ªåŠ¨å®Œæˆå€¼ã€‚ï¼‰
*   `java.nio.charset.Charset`ï¼šæ”¯æŒè‡ªåŠ¨å®Œæˆå­—ç¬¦é›†/ç¼–ç å€¼ï¼ˆä¾‹å¦‚`UTF-8`ï¼‰
*   `java.util.Locale`ï¼šè‡ªåŠ¨å®Œæˆè¯­è¨€ç¯å¢ƒï¼ˆä¾‹å¦‚`en_US`ï¼‰
*   `org.springframework.util.MimeType`ï¼šæ”¯æŒè‡ªåŠ¨å®Œæˆå†…å®¹ç±»å‹å€¼ï¼ˆä¾‹å¦‚`text/plain`ï¼‰
*   `org.springframework.core.io.Resource`ï¼šæ”¯æŒè‡ªåŠ¨å®ŒæˆSpringçš„èµ„æºæŠ½è±¡ï¼Œä»¥å¼•ç”¨æ–‡ä»¶ç³»ç»Ÿæˆ–ç±»è·¯å¾„ä¸Šçš„æ–‡ä»¶ã€‚ï¼ˆä¾‹å¦‚`classpath:/sample.properties`ï¼‰

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>å¦‚æœå¯ä»¥æä¾›å¤šä¸ªå€¼ï¼Œè¯·ä½¿ç”¨<code class="literal" i="3860">Collection</code>æˆ–<em>Array</em>ç±»å‹å‘IDEè®²æˆå®ƒã€‚</p></td></tr></tbody></table>

ä»¥ä¸‹å…ƒæ•°æ®ç‰‡æ®µå¯¹åº”äºæ ‡å‡†`spring.liquibase.change-log`å±æ€§ï¼Œè¯¥å±æ€§å®šä¹‰è¦ä½¿ç”¨çš„æ›´æ”¹æ—¥å¿—çš„è·¯å¾„ã€‚å®ƒå®é™…ä¸Šåœ¨å†…éƒ¨ç”¨ä½œ`org.springframework.core.io.Resource`ä½†ä¸èƒ½è¿™æ ·æš´éœ²ï¼Œå› ä¸ºæˆ‘ä»¬éœ€è¦ä¿ç•™åŸå§‹çš„Stringå€¼ä»¥å°†å…¶ä¼ é€’ç»™Liquibase APIã€‚

```
{"hints": [
	{
		"name": "spring.liquibase.change-log",
		"providers": [
			{
				"name": "handle-as",
				"parameters": {
					"target": "org.springframework.core.io.Resource"
				}
			}
		]
	}
]}
```

#### è®°å½•å™¨åç§°

è¯¥**è®°å½•å™¨å**æä¾›å•†è‡ªåŠ¨å®Œæˆæœ‰æ•ˆçš„è®°å½•åç§°å’Œ [è®°å½•å™¨ç»„](#boot-features-custom-log-groups "26ã€‚5æ—¥å¿—ç»„")ã€‚é€šå¸¸ï¼Œå¯ä»¥è‡ªåŠ¨å®Œæˆå½“å‰é¡¹ç›®ä¸­å¯ç”¨çš„åŒ…åå’Œç±»åã€‚å¦‚æœå¯ç”¨äº†ç»„ï¼ˆé»˜è®¤ï¼‰ï¼Œå¹¶ä¸”åœ¨é…ç½®ä¸­æ ‡è¯†äº†è‡ªå®šä¹‰è®°å½•å™¨ç»„ï¼Œåˆ™åº”æä¾›è‡ªåŠ¨å®Œæˆç»„ã€‚ç‰¹å®šæ¡†æ¶å¯èƒ½è¿˜æœ‰é¢å¤–çš„é­”æœ¯è®°å½•å™¨åç§°ï¼Œä¹Ÿå¯ä»¥æ”¯æŒã€‚

æ­¤æä¾›ç¨‹åºæ”¯æŒä»¥ä¸‹å‚æ•°ï¼š

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"><col class="col_3"><col class="col_4"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">å‚æ•°</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">ç±»å‹</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">é»˜è®¤å€¼</th><th style="border-bottom: 1px solid ; " align="left" valign="top">æè¿°</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">group</code></p></td><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">boolean</code></p></td><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">true</code></p></td><td style="" align="left" valign="top" class=""><p>æŒ‡å®šæ˜¯å¦åº”è€ƒè™‘å·²çŸ¥ç»„ã€‚</p></td></tr></tbody></table>

ç”±äºè®°å½•å™¨åç§°å¯ä»¥æ˜¯ä»»æ„åç§°ï¼Œå› æ­¤æ­¤æä¾›ç¨‹åºåº”å…è®¸ä»»ä½•å€¼ï¼Œä½†å¯ä»¥çªå‡ºæ˜¾ç¤ºé¡¹ç›®ç±»è·¯å¾„ä¸­ä¸å¯ç”¨çš„æœ‰æ•ˆåŒ…åå’Œç±»åã€‚

ä»¥ä¸‹å…ƒæ•°æ®ç‰‡æ®µå¯¹åº”äºæ ‡å‡†`logging.level`å±æ€§ã€‚é”®æ˜¯_è®°å½•å™¨åç§°_ï¼Œå€¼å¯¹åº”äºæ ‡å‡†æ—¥å¿—çº§åˆ«æˆ–ä»»ä½•è‡ªå®šä¹‰çº§åˆ«ã€‚ç”±äºSpring Bootå®šä¹‰äº†å‡ ä¸ªå¼€ç®±å³ç”¨çš„è®°å½•å™¨ç»„ï¼Œå› æ­¤ä¸ºè¿™äº›è®°å½•å™¨æ·»åŠ äº†ä¸“ç”¨å€¼æç¤ºã€‚

```
{"hints": [
	{
		"name": "logging.level.keys",
		"values": [
			{
				"value": "root",
				"description": "Root logger used to assign the default logging level."
			},
			{
				"value": "sql",
				"description": "SQL logging group including Hibernate SQL logger."
			},
			{
				"value": "web",
				"description": "Web logging group including codecs."
			}
		],
		"providers": [
			{
				"name": "logger-name"
			}
		]
	},
	{
		"name": "logging.level.values",
		"values": [
			{
				"value": "trace"
			},
			{
				"value": "debug"
			},
			{
				"value": "info"
			},
			{
				"value": "warn"
			},
			{
				"value": "error"
			},
			{
				"value": "fatal"
			},
			{
				"value": "off"
			}

		],
		"providers": [
			{
				"name": "any"
			}
		]
	}
]}
```

#### Spring Beanå‚è€ƒ

çš„**spring-bean-reference**æä¾›å•†è‡ªåŠ¨å®Œæˆåœ¨å½“å‰é¡¹ç›®ä¸­çš„é…ç½®ä¸­å®šä¹‰çš„beansã€‚æ­¤æä¾›ç¨‹åºæ”¯æŒä»¥ä¸‹å‚æ•°ï¼š

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"><col class="col_3"><col class="col_4"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">å‚æ•°</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">ç±»å‹</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">é»˜è®¤å€¼</th><th style="border-bottom: 1px solid ; " align="left" valign="top">æè¿°</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">target</code></p></td><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">String</code> (<code class="literal">Class</code>)</p></td><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><em>none</em></p></td><td style="" align="left" valign="top" class=""><p>åº”åˆ†é…ç»™å€™é€‰äººçš„beanç±»çš„å®Œå…¨é™å®šåç§°ã€‚é€šå¸¸ç”¨äºè¿‡æ»¤æ‰éå€™é€‰beansã€‚</p></td></tr></tbody></table>

ä»¥ä¸‹å…ƒæ•°æ®ç‰‡æ®µå¯¹åº”äºæ ‡å‡†`spring.jmx.server`å±æ€§ï¼Œè¯¥å±æ€§å®šä¹‰è¦ä½¿ç”¨çš„`MBeanServer` beançš„åç§°ï¼š

```
{"hints": [
	{
		"name": "spring.jmx.server",
		"providers": [
			{
				"name": "spring-bean-reference",
				"parameters": {
					"target": "javax.management.MBeanServer"
				}
			}
		]
	}
]}
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>æ´»é¡µå¤¹ä¸çŸ¥é“å…ƒæ•°æ®ã€‚å¦‚æœæ‚¨æä¾›è¯¥æç¤ºï¼Œåˆ™ä»éœ€è¦å°†beanåç§°è½¬æ¢ä¸º<code class="literal" i="3866">ApplicationContext</code>ä½¿ç”¨çš„å®é™…Beanå¼•ç”¨ã€‚</p></td></tr></tbody></table>

#### Springä¸ªäººèµ„æ–™åç§°

çš„**spring-profile-name**æä¾›å•†è‡ªåŠ¨å®ŒæˆSpringåœ¨å½“å‰é¡¹ç›®ä¸­çš„é…ç½®ä¸­å®šä¹‰çš„é…ç½®æ–‡ä»¶ã€‚

ä»¥ä¸‹å…ƒæ•°æ®ç‰‡æ®µå¯¹åº”äºæ ‡å‡†`spring.profiles.active`å±æ€§ï¼Œè¯¥å±æ€§å®šä¹‰è¦å¯ç”¨çš„Springé…ç½®æ–‡ä»¶çš„åç§°ï¼š

```
{"hints": [
	{
		"name": "spring.profiles.active",
		"providers": [
			{
				"name": "spring-profile-name"
			}
		]
	}
]}
```

B.3ä½¿ç”¨æ³¨é‡Šå¤„ç†å™¨ç”Ÿæˆè‡ªå·±çš„å…ƒæ•°æ®
------------------

æ‚¨å¯ä»¥ä½¿ç”¨`spring-boot-configuration-processor` jarä»`@ConfigurationProperties`æ³¨é‡Šçš„é¡¹ç›®è½»æ¾ç”Ÿæˆè‡ªå·±çš„é…ç½®å…ƒæ•°æ®æ–‡ä»¶ã€‚jaråŒ…å«ä¸€ä¸ªJavaæ³¨é‡Šå¤„ç†å™¨ï¼Œåœ¨æ‚¨ç¼–è¯‘é¡¹ç›®æ—¶è°ƒç”¨è¯¥å¤„ç†å™¨ã€‚è¦ä½¿ç”¨å¤„ç†å™¨ï¼Œè¯·åœ¨`spring-boot-configuration-processor`ä¸ŠåŒ…å«ä¾èµ–é¡¹ã€‚

ä½¿ç”¨Mavenæ—¶ï¼Œä¾èµ–é¡¹åº”å£°æ˜ä¸ºå¯é€‰ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
<dependency>
	<groupId>org.springframework.boot</groupId>
	<artifactId>spring-boot-configuration-processor</artifactId>
	<optional>true</optional>
</dependency>
```

å¯¹äºGradle 4.5åŠæ›´æ—©ç‰ˆæœ¬ï¼Œåº”åœ¨`compileOnly`é…ç½®ä¸­å£°æ˜ä¾èµ–é¡¹ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
dependencies {
	compileOnly "org.springframework.boot:spring-boot-configuration-processor"
}
```

å¯¹äºGradle 4.6åŠæ›´é«˜ç‰ˆæœ¬ï¼Œåº”åœ¨`annotationProcessor`é…ç½®ä¸­å£°æ˜ä¾èµ–é¡¹ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
dependencies {
	annotationProcessor "org.springframework.boot:spring-boot-configuration-processor"
}
```

å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯`additional-spring-configuration-metadata.json`æ–‡ä»¶ï¼Œåˆ™åº”å°†`compileJava`ä»»åŠ¡é…ç½®ä¸ºä¾èµ–äº`processResources`ä»»åŠ¡ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
compileJava.dependsOn(processResources)
```

æ­¤ä¾èµ–å…³ç³»ç¡®ä¿åœ¨ç¼–è¯‘æœŸé—´æ³¨é‡Šå¤„ç†å™¨è¿è¡Œæ—¶å¯ä»¥ä½¿ç”¨å…¶ä»–å…ƒæ•°æ®ã€‚

å¤„ç†å™¨é€‰æ‹©ä½¿ç”¨`@ConfigurationProperties`æ³¨é‡Šçš„ç±»å’Œæ–¹æ³•ã€‚é…ç½®ç±»ä¸­çš„å­—æ®µå€¼çš„Javadocç”¨äºå¡«å……`description`å±æ€§ã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>æ‚¨åº”è¯¥åªä½¿ç”¨<code class="literal" i="3878">@ConfigurationProperties</code>å­—æ®µJavadocçš„ç®€å•æ–‡æœ¬ï¼Œå› ä¸ºå®ƒä»¬åœ¨æ·»åŠ åˆ°JSONä¹‹å‰ä¸ä¼šè¢«å¤„ç†ã€‚</p></td></tr></tbody></table>

é€šè¿‡å­˜åœ¨æ ‡å‡†çš„getterå’Œsetteræ¥å‘ç°å±æ€§ï¼Œè¿™äº›getterå’Œsetterå…·æœ‰å¯¹é›†åˆç±»å‹çš„ç‰¹æ®Šå¤„ç†ï¼ˆå³ä½¿åªæœ‰getterå­˜åœ¨ä¹Ÿä¼šæ£€æµ‹åˆ°ï¼‰ã€‚æ³¨é‡Šå¤„ç†å™¨è¿˜æ”¯æŒä½¿ç”¨`@Data`ï¼Œ`@Getter`å’Œ`@Setter` lombokæ³¨é‡Šã€‚

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>å¦‚æœåœ¨é¡¹ç›®ä¸­ä½¿ç”¨AspectJï¼Œåˆ™éœ€è¦ç¡®ä¿æ³¨é‡Šå¤„ç†å™¨ä»…è¿è¡Œä¸€æ¬¡ã€‚æœ‰å‡ ç§æ–¹æ³•å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ã€‚ä½¿ç”¨Mavenï¼Œæ‚¨å¯ä»¥æ˜¾å¼é…ç½®<code class="literal" i="3882">maven-apt-plugin</code>å¹¶ä»…åœ¨é‚£é‡Œå°†ä¾èµ–é¡¹æ·»åŠ åˆ°æ³¨é‡Šå¤„ç†å™¨ã€‚æ‚¨è¿˜å¯ä»¥è®©AspectJæ’ä»¶åœ¨<code class="literal" i="3883">maven-compiler-plugin</code>é…ç½®ä¸­è¿è¡Œæ‰€æœ‰å¤„ç†å¹¶ç¦ç”¨æ³¨é‡Šå¤„ç†ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre class="programlisting notranslate">&lt;plugin&gt;
	&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
	&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
	&lt;configuration&gt;
		&lt;proc&gt;none&lt;/proc&gt;
	&lt;/configuration&gt;
&lt;/plugin&gt;</pre></td></tr></tbody></table>


### B.3.1åµŒå¥—å±æ€§

æ³¨é‡Šå¤„ç†å™¨è‡ªåŠ¨å°†å†…éƒ¨ç±»è§†ä¸ºåµŒå¥—å±æ€§ã€‚è€ƒè™‘ä»¥ä¸‹è¯¾ç¨‹ï¼š

```
_@ConfigurationProperties(prefix="server")_
public class ServerProperties {

	private String name;

	private Host host;

	// ... getter and setters

	public static class Host {

		private String ip;

		private int port;

		// ... getter and setters

	}

}
```

ä¸Šé¢çš„ç¤ºä¾‹ä¸º`server.name`ï¼Œ`server.host.ip`å’Œ`server.host.port`å±æ€§ç”Ÿæˆå…ƒæ•°æ®ä¿¡æ¯ã€‚æ‚¨å¯ä»¥åœ¨å­—æ®µä¸Šä½¿ç”¨`@NestedConfigurationProperty`æ³¨é‡Šæ¥æŒ‡ç¤ºåº”å°†å¸¸è§„ï¼ˆéå†…éƒ¨ï¼‰ç±»è§†ä¸ºåµŒå¥—ã€‚

<table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>è¿™å¯¹é›†åˆå’Œæ˜ å°„æ²¡æœ‰å½±å“ï¼Œå› ä¸ºè¿™äº›ç±»å‹æ˜¯è‡ªåŠ¨æ ‡è¯†çš„ï¼Œå¹¶ä¸”ä¸ºæ¯ä¸ªç±»å‹ç”Ÿæˆå•ä¸ªå…ƒæ•°æ®å±æ€§ã€‚</p></td></tr></tbody></table>

### B.3.2æ·»åŠ é™„åŠ å…ƒæ•°æ®

Spring Bootçš„é…ç½®æ–‡ä»¶å¤„ç†éå¸¸çµæ´»ï¼Œé€šå¸¸æƒ…å†µä¸‹å¯èƒ½å­˜åœ¨æœªç»‘å®šåˆ°`@ConfigurationProperties` beançš„å±æ€§ã€‚æ‚¨å¯èƒ½è¿˜éœ€è¦è°ƒæ•´ç°æœ‰å¯†é’¥çš„æŸäº›å±æ€§ã€‚ä¸ºæ”¯æŒæ­¤ç±»æƒ…å†µå¹¶å…è®¸æ‚¨æä¾›è‡ªå®šä¹‰â€œæç¤ºâ€ï¼Œæ³¨é‡Šå¤„ç†å™¨ä¼šè‡ªåŠ¨å°†`META-INF/additional-spring-configuration-metadata.json`ä¸­çš„é¡¹ç›®åˆå¹¶åˆ°ä¸»å…ƒæ•°æ®æ–‡ä»¶ä¸­ã€‚

å¦‚æœå¼•ç”¨è‡ªåŠ¨æ£€æµ‹åˆ°çš„å±æ€§ï¼Œåˆ™ä¼šè¦†ç›–æè¿°ï¼Œé»˜è®¤å€¼å’Œå¼ƒç”¨ä¿¡æ¯ï¼ˆå¦‚æœå·²æŒ‡å®šï¼‰ã€‚å¦‚æœæœªåœ¨å½“å‰æ¨¡å—ä¸­æ ‡è¯†æ‰‹åŠ¨å±æ€§å£°æ˜ï¼Œåˆ™å°†å…¶æ·»åŠ ä¸ºæ–°å±æ€§ã€‚

`additional-spring-configuration-metadata.json`æ–‡ä»¶çš„æ ¼å¼ä¸å¸¸è§„`spring-configuration-metadata.json`å®Œå…¨ç›¸åŒã€‚é™„åŠ å±æ€§æ–‡ä»¶æ˜¯å¯é€‰çš„ã€‚å¦‚æœæ‚¨æ²¡æœ‰ä»»ä½•å…¶ä»–å±æ€§ï¼Œè¯·ä¸è¦æ·»åŠ è¯¥æ–‡ä»¶ã€‚

é™„å½•C.è‡ªåŠ¨é…ç½®ç±»
---------

ä»¥ä¸‹æ˜¯Spring Bootæä¾›çš„æ‰€æœ‰è‡ªåŠ¨é…ç½®ç±»çš„åˆ—è¡¨ï¼Œå…¶ä¸­åŒ…å«æ–‡æ¡£å’Œæºä»£ç çš„é“¾æ¥ã€‚è¯·è®°ä½è¿˜è¦æŸ¥çœ‹åº”ç”¨ç¨‹åºä¸­çš„æ¡ä»¶æŠ¥å‘Šï¼Œä»¥è·å–æœ‰å…³æ‰“å¼€å“ªäº›åŠŸèƒ½çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ã€‚ï¼ˆä¸ºæ­¤ï¼Œè¯·ä½¿ç”¨`--debug`æˆ–`-Ddebug`å¯åŠ¨åº”ç”¨ç¨‹åºï¼Œæˆ–è€…åœ¨Actuatoråº”ç”¨ç¨‹åºä¸­ä½¿ç”¨`conditions`ç«¯ç‚¹ï¼‰ã€‚

C.1æ¥è‡ªâ€œspring-boot-autoconfigureâ€æ¨¡å—
----------------------------------

ä»¥ä¸‹è‡ªåŠ¨é…ç½®ç±»æ¥è‡ª`spring-boot-autoconfigure`æ¨¡å—ï¼š

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">é…ç½®ç±»</th><th style="border-bottom: 1px solid ; " align="left" valign="top">é“¾æ¥</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jms/activemq/ActiveMQAutoConfiguration.java" target="_top"><code class="literal">ActiveMQAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/jms/activemq/ActiveMQAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/aop/AopAutoConfiguration.java" target="_top"><code class="literal">AopAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/aop/AopAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jms/artemis/ArtemisAutoConfiguration.java" target="_top"><code class="literal">ArtemisAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/jms/artemis/ArtemisAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/batch/BatchAutoConfiguration.java" target="_top"><code class="literal">BatchAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/batch/BatchAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/cache/CacheAutoConfiguration.java" target="_top"><code class="literal">CacheAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/cache/CacheAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/cassandra/CassandraAutoConfiguration.java" target="_top"><code class="literal">CassandraAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/cassandra/CassandraAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/cassandra/CassandraDataAutoConfiguration.java" target="_top"><code class="literal">CassandraDataAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/data/cassandra/CassandraDataAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/cassandra/CassandraReactiveDataAutoConfiguration.java" target="_top"><code class="literal">CassandraReactiveDataAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/data/cassandra/CassandraReactiveDataAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/cassandra/CassandraReactiveRepositoriesAutoConfiguration.java" target="_top"><code class="literal">CassandraReactiveRepositoriesAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/data/cassandra/CassandraReactiveRepositoriesAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/cassandra/CassandraRepositoriesAutoConfiguration.java" target="_top"><code class="literal">CassandraRepositoriesAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/data/cassandra/CassandraRepositoriesAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/reactive/function/client/ClientHttpConnectorAutoConfiguration.java" target="_top"><code class="literal">ClientHttpConnectorAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/web/reactive/function/client/ClientHttpConnectorAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/cloud/CloudServiceConnectorsAutoConfiguration.java" target="_top"><code class="literal">CloudServiceConnectorsAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/cloud/CloudServiceConnectorsAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/http/codec/CodecsAutoConfiguration.java" target="_top"><code class="literal">CodecsAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/http/codec/CodecsAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/context/ConfigurationPropertiesAutoConfiguration.java" target="_top"><code class="literal">ConfigurationPropertiesAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/context/ConfigurationPropertiesAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/couchbase/CouchbaseAutoConfiguration.java" target="_top"><code class="literal">CouchbaseAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/couchbase/CouchbaseAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/couchbase/CouchbaseDataAutoConfiguration.java" target="_top"><code class="literal">CouchbaseDataAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/data/couchbase/CouchbaseDataAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/couchbase/CouchbaseReactiveDataAutoConfiguration.java" target="_top"><code class="literal">CouchbaseReactiveDataAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/data/couchbase/CouchbaseReactiveDataAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/couchbase/CouchbaseReactiveRepositoriesAutoConfiguration.java" target="_top"><code class="literal">CouchbaseReactiveRepositoriesAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/data/couchbase/CouchbaseReactiveRepositoriesAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/couchbase/CouchbaseRepositoriesAutoConfiguration.java" target="_top"><code class="literal">CouchbaseRepositoriesAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/data/couchbase/CouchbaseRepositoriesAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jdbc/DataSourceAutoConfiguration.java" target="_top"><code class="literal">DataSourceAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/jdbc/DataSourceAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jdbc/DataSourceTransactionManagerAutoConfiguration.java" target="_top"><code class="literal">DataSourceTransactionManagerAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/jdbc/DataSourceTransactionManagerAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/servlet/DispatcherServletAutoConfiguration.java" target="_top"><code class="literal">DispatcherServletAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/web/servlet/DispatcherServletAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/elasticsearch/ElasticsearchAutoConfiguration.java" target="_top"><code class="literal">ElasticsearchAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/data/elasticsearch/ElasticsearchAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/elasticsearch/ElasticsearchDataAutoConfiguration.java" target="_top"><code class="literal">ElasticsearchDataAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/data/elasticsearch/ElasticsearchDataAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/elasticsearch/ElasticsearchRepositoriesAutoConfiguration.java" target="_top"><code class="literal">ElasticsearchRepositoriesAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/data/elasticsearch/ElasticsearchRepositoriesAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/ldap/embedded/EmbeddedLdapAutoConfiguration.java" target="_top"><code class="literal">EmbeddedLdapAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/ldap/embedded/EmbeddedLdapAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/mongo/embedded/EmbeddedMongoAutoConfiguration.java" target="_top"><code class="literal">EmbeddedMongoAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/mongo/embedded/EmbeddedMongoAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/embedded/EmbeddedWebServerFactoryCustomizerAutoConfiguration.java" target="_top"><code class="literal">EmbeddedWebServerFactoryCustomizerAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/web/embedded/EmbeddedWebServerFactoryCustomizerAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/servlet/error/ErrorMvcAutoConfiguration.java" target="_top"><code class="literal">ErrorMvcAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/web/servlet/error/ErrorMvcAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/reactive/error/ErrorWebFluxAutoConfiguration.java" target="_top"><code class="literal">ErrorWebFluxAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/web/reactive/error/ErrorWebFluxAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration.java" target="_top"><code class="literal">FlywayAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/freemarker/FreeMarkerAutoConfiguration.java" target="_top"><code class="literal">FreeMarkerAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/freemarker/FreeMarkerAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/groovy/template/GroovyTemplateAutoConfiguration.java" target="_top"><code class="literal">GroovyTemplateAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/groovy/template/GroovyTemplateAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/gson/GsonAutoConfiguration.java" target="_top"><code class="literal">GsonAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/gson/GsonAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/h2/H2ConsoleAutoConfiguration.java" target="_top"><code class="literal">H2ConsoleAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/h2/H2ConsoleAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/hazelcast/HazelcastAutoConfiguration.java" target="_top"><code class="literal">HazelcastAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/hazelcast/HazelcastAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/hazelcast/HazelcastJpaDependencyAutoConfiguration.java" target="_top"><code class="literal">HazelcastJpaDependencyAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/hazelcast/HazelcastJpaDependencyAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.java" target="_top"><code class="literal">HibernateJpaAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/servlet/HttpEncodingAutoConfiguration.java" target="_top"><code class="literal">HttpEncodingAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/web/servlet/HttpEncodingAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/reactive/HttpHandlerAutoConfiguration.java" target="_top"><code class="literal">HttpHandlerAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/web/reactive/HttpHandlerAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/http/HttpMessageConvertersAutoConfiguration.java" target="_top"><code class="literal">HttpMessageConvertersAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/http/HttpMessageConvertersAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/hateoas/HypermediaAutoConfiguration.java" target="_top"><code class="literal">HypermediaAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/hateoas/HypermediaAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/influx/InfluxDbAutoConfiguration.java" target="_top"><code class="literal">InfluxDbAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/influx/InfluxDbAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/integration/IntegrationAutoConfiguration.java" target="_top"><code class="literal">IntegrationAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/integration/IntegrationAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jackson/JacksonAutoConfiguration.java" target="_top"><code class="literal">JacksonAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/jackson/JacksonAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/jdbc/JdbcRepositoriesAutoConfiguration.java" target="_top"><code class="literal">JdbcRepositoriesAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/data/jdbc/JdbcRepositoriesAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jdbc/JdbcTemplateAutoConfiguration.java" target="_top"><code class="literal">JdbcTemplateAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/jdbc/JdbcTemplateAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jersey/JerseyAutoConfiguration.java" target="_top"><code class="literal">JerseyAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/jersey/JerseyAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/elasticsearch/jest/JestAutoConfiguration.java" target="_top"><code class="literal">JestAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/elasticsearch/jest/JestAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jms/JmsAutoConfiguration.java" target="_top"><code class="literal">JmsAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/jms/JmsAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jmx/JmxAutoConfiguration.java" target="_top"><code class="literal">JmxAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/jmx/JmxAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jms/JndiConnectionFactoryAutoConfiguration.java" target="_top"><code class="literal">JndiConnectionFactoryAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/jms/JndiConnectionFactoryAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jdbc/JndiDataSourceAutoConfiguration.java" target="_top"><code class="literal">JndiDataSourceAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/jdbc/JndiDataSourceAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jooq/JooqAutoConfiguration.java" target="_top"><code class="literal">JooqAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/jooq/JooqAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/jpa/JpaRepositoriesAutoConfiguration.java" target="_top"><code class="literal">JpaRepositoriesAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/data/jpa/JpaRepositoriesAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jsonb/JsonbAutoConfiguration.java" target="_top"><code class="literal">JsonbAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/jsonb/JsonbAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/transaction/jta/JtaAutoConfiguration.java" target="_top"><code class="literal">JtaAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/transaction/jta/JtaAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/kafka/KafkaAutoConfiguration.java" target="_top"><code class="literal">KafkaAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/kafka/KafkaAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/ldap/LdapAutoConfiguration.java" target="_top"><code class="literal">LdapAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/ldap/LdapAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/ldap/LdapRepositoriesAutoConfiguration.java" target="_top"><code class="literal">LdapRepositoriesAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/data/ldap/LdapRepositoriesAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration.java" target="_top"><code class="literal">LiquibaseAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/mail/MailSenderAutoConfiguration.java" target="_top"><code class="literal">MailSenderAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/mail/MailSenderAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/mail/MailSenderValidatorAutoConfiguration.java" target="_top"><code class="literal">MailSenderValidatorAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/mail/MailSenderValidatorAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/context/MessageSourceAutoConfiguration.java" target="_top"><code class="literal">MessageSourceAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/context/MessageSourceAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/mongo/MongoAutoConfiguration.java" target="_top"><code class="literal">MongoAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/mongo/MongoAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/mongo/MongoDataAutoConfiguration.java" target="_top"><code class="literal">MongoDataAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/data/mongo/MongoDataAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/mongo/MongoReactiveAutoConfiguration.java" target="_top"><code class="literal">MongoReactiveAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/mongo/MongoReactiveAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/mongo/MongoReactiveDataAutoConfiguration.java" target="_top"><code class="literal">MongoReactiveDataAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/data/mongo/MongoReactiveDataAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/mongo/MongoReactiveRepositoriesAutoConfiguration.java" target="_top"><code class="literal">MongoReactiveRepositoriesAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/data/mongo/MongoReactiveRepositoriesAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/mongo/MongoRepositoriesAutoConfiguration.java" target="_top"><code class="literal">MongoRepositoriesAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/data/mongo/MongoRepositoriesAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/servlet/MultipartAutoConfiguration.java" target="_top"><code class="literal">MultipartAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/web/servlet/MultipartAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/mustache/MustacheAutoConfiguration.java" target="_top"><code class="literal">MustacheAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/mustache/MustacheAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/neo4j/Neo4jDataAutoConfiguration.java" target="_top"><code class="literal">Neo4jDataAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/data/neo4j/Neo4jDataAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/neo4j/Neo4jRepositoriesAutoConfiguration.java" target="_top"><code class="literal">Neo4jRepositoriesAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/data/neo4j/Neo4jRepositoriesAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/security/oauth2/client/servlet/OAuth2ClientAutoConfiguration.java" target="_top"><code class="literal">OAuth2ClientAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/security/oauth2/client/servlet/OAuth2ClientAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/security/oauth2/resource/servlet/OAuth2ResourceServerAutoConfiguration.java" target="_top"><code class="literal">OAuth2ResourceServerAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/security/oauth2/resource/servlet/OAuth2ResourceServerAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/dao/PersistenceExceptionTranslationAutoConfiguration.java" target="_top"><code class="literal">PersistenceExceptionTranslationAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/dao/PersistenceExceptionTranslationAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/info/ProjectInfoAutoConfiguration.java" target="_top"><code class="literal">ProjectInfoAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/info/ProjectInfoAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/context/PropertyPlaceholderAutoConfiguration.java" target="_top"><code class="literal">PropertyPlaceholderAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/context/PropertyPlaceholderAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/quartz/QuartzAutoConfiguration.java" target="_top"><code class="literal">QuartzAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/quartz/QuartzAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/amqp/RabbitAutoConfiguration.java" target="_top"><code class="literal">RabbitAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/amqp/RabbitAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/security/oauth2/client/reactive/ReactiveOAuth2ClientAutoConfiguration.java" target="_top"><code class="literal">ReactiveOAuth2ClientAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/security/oauth2/client/reactive/ReactiveOAuth2ClientAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/security/oauth2/resource/reactive/ReactiveOAuth2ResourceServerAutoConfiguration.java" target="_top"><code class="literal">ReactiveOAuth2ResourceServerAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/security/oauth2/resource/reactive/ReactiveOAuth2ResourceServerAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/security/reactive/ReactiveSecurityAutoConfiguration.java" target="_top"><code class="literal">ReactiveSecurityAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/security/reactive/ReactiveSecurityAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/security/reactive/ReactiveUserDetailsServiceAutoConfiguration.java" target="_top"><code class="literal">ReactiveUserDetailsServiceAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/security/reactive/ReactiveUserDetailsServiceAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/reactive/ReactiveWebServerFactoryAutoConfiguration.java" target="_top"><code class="literal">ReactiveWebServerFactoryAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/web/reactive/ReactiveWebServerFactoryAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/reactor/core/ReactorCoreAutoConfiguration.java" target="_top"><code class="literal">ReactorCoreAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/reactor/core/ReactorCoreAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/redis/RedisAutoConfiguration.java" target="_top"><code class="literal">RedisAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/data/redis/RedisAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/redis/RedisReactiveAutoConfiguration.java" target="_top"><code class="literal">RedisReactiveAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/data/redis/RedisReactiveAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/redis/RedisRepositoriesAutoConfiguration.java" target="_top"><code class="literal">RedisRepositoriesAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/data/redis/RedisRepositoriesAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/rest/RepositoryRestMvcAutoConfiguration.java" target="_top"><code class="literal">RepositoryRestMvcAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/data/rest/RepositoryRestMvcAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/elasticsearch/rest/RestClientAutoConfiguration.java" target="_top"><code class="literal">RestClientAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/elasticsearch/rest/RestClientAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/client/RestTemplateAutoConfiguration.java" target="_top"><code class="literal">RestTemplateAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/web/client/RestTemplateAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/security/servlet/SecurityAutoConfiguration.java" target="_top"><code class="literal">SecurityAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/security/servlet/SecurityAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/security/servlet/SecurityFilterAutoConfiguration.java" target="_top"><code class="literal">SecurityFilterAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/security/servlet/SecurityFilterAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/security/servlet/SecurityRequestMatcherProviderAutoConfiguration.java" target="_top"><code class="literal">SecurityRequestMatcherProviderAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/security/servlet/SecurityRequestMatcherProviderAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/sendgrid/SendGridAutoConfiguration.java" target="_top"><code class="literal">SendGridAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/sendgrid/SendGridAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/servlet/ServletWebServerFactoryAutoConfiguration.java" target="_top"><code class="literal">ServletWebServerFactoryAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/web/servlet/ServletWebServerFactoryAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/session/SessionAutoConfiguration.java" target="_top"><code class="literal">SessionAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/session/SessionAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/solr/SolrAutoConfiguration.java" target="_top"><code class="literal">SolrAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/solr/SolrAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/solr/SolrRepositoriesAutoConfiguration.java" target="_top"><code class="literal">SolrRepositoriesAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/data/solr/SolrRepositoriesAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/admin/SpringApplicationAdminJmxAutoConfiguration.java" target="_top"><code class="literal">SpringApplicationAdminJmxAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/admin/SpringApplicationAdminJmxAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/web/SpringDataWebAutoConfiguration.java" target="_top"><code class="literal">SpringDataWebAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/data/web/SpringDataWebAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/task/TaskExecutionAutoConfiguration.java" target="_top"><code class="literal">TaskExecutionAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/task/TaskExecutionAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/task/TaskSchedulingAutoConfiguration.java" target="_top"><code class="literal">TaskSchedulingAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/task/TaskSchedulingAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/thymeleaf/ThymeleafAutoConfiguration.java" target="_top"><code class="literal">ThymeleafAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/thymeleaf/ThymeleafAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/transaction/TransactionAutoConfiguration.java" target="_top"><code class="literal">TransactionAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/transaction/TransactionAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/security/servlet/UserDetailsServiceAutoConfiguration.java" target="_top"><code class="literal">UserDetailsServiceAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/security/servlet/UserDetailsServiceAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/validation/ValidationAutoConfiguration.java" target="_top"><code class="literal">ValidationAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/validation/ValidationAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/reactive/function/client/WebClientAutoConfiguration.java" target="_top"><code class="literal">WebClientAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/web/reactive/function/client/WebClientAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/reactive/WebFluxAutoConfiguration.java" target="_top"><code class="literal">WebFluxAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/web/reactive/WebFluxAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration.java" target="_top"><code class="literal">WebMvcAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/webservices/client/WebServiceTemplateAutoConfiguration.java" target="_top"><code class="literal">WebServiceTemplateAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/webservices/client/WebServiceTemplateAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/webservices/WebServicesAutoConfiguration.java" target="_top"><code class="literal">WebServicesAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/webservices/WebServicesAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/websocket/servlet/WebSocketMessagingAutoConfiguration.java" target="_top"><code class="literal">WebSocketMessagingAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/websocket/servlet/WebSocketMessagingAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/websocket/reactive/WebSocketReactiveAutoConfiguration.java" target="_top"><code class="literal">WebSocketReactiveAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/websocket/reactive/WebSocketReactiveAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/websocket/servlet/WebSocketServletAutoConfiguration.java" target="_top"><code class="literal">WebSocketServletAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/websocket/servlet/WebSocketServletAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jdbc/XADataSourceAutoConfiguration.java" target="_top"><code class="literal">XADataSourceAutoConfiguration</code></a></p></td><td style="" align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/autoconfigure/jdbc/XADataSourceAutoConfiguration.html" target="_top">javadoc</a></p></td></tr></tbody></table>

C.2æ¥è‡ªâ€œspring-boot-actuator-autoconfigureâ€æ¨¡å—
-------------------------------------------

ä»¥ä¸‹è‡ªåŠ¨é…ç½®ç±»æ¥è‡ª`spring-boot-actuator-autoconfigure`æ¨¡å—ï¼š

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">é…ç½®ç±»</th><th style="border-bottom: 1px solid ; " align="left" valign="top">é“¾æ¥</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/export/appoptics/AppOpticsMetricsExportAutoConfiguration.java" target="_top"><code class="literal">AppOpticsMetricsExportAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/metrics/export/appoptics/AppOpticsMetricsExportAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/export/atlas/AtlasMetricsExportAutoConfiguration.java" target="_top"><code class="literal">AtlasMetricsExportAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/metrics/export/atlas/AtlasMetricsExportAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/audit/AuditAutoConfiguration.java" target="_top"><code class="literal">AuditAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/audit/AuditAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/audit/AuditEventsEndpointAutoConfiguration.java" target="_top"><code class="literal">AuditEventsEndpointAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/audit/AuditEventsEndpointAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/beans/BeansEndpointAutoConfiguration.java" target="_top"><code class="literal">BeansEndpointAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/beans/BeansEndpointAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/cache/CacheMetricsAutoConfiguration.java" target="_top"><code class="literal">CacheMetricsAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/metrics/cache/CacheMetricsAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/cache/CachesEndpointAutoConfiguration.java" target="_top"><code class="literal">CachesEndpointAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/cache/CachesEndpointAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/cassandra/CassandraHealthIndicatorAutoConfiguration.java" target="_top"><code class="literal">CassandraHealthIndicatorAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/cassandra/CassandraHealthIndicatorAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/cassandra/CassandraReactiveHealthIndicatorAutoConfiguration.java" target="_top"><code class="literal">CassandraReactiveHealthIndicatorAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/cassandra/CassandraReactiveHealthIndicatorAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/cloudfoundry/servlet/CloudFoundryActuatorAutoConfiguration.java" target="_top"><code class="literal">CloudFoundryActuatorAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/cloudfoundry/servlet/CloudFoundryActuatorAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/CompositeMeterRegistryAutoConfiguration.java" target="_top"><code class="literal">CompositeMeterRegistryAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/metrics/CompositeMeterRegistryAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/condition/ConditionsReportEndpointAutoConfiguration.java" target="_top"><code class="literal">ConditionsReportEndpointAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/condition/ConditionsReportEndpointAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/context/properties/ConfigurationPropertiesReportEndpointAutoConfiguration.java" target="_top"><code class="literal">ConfigurationPropertiesReportEndpointAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/context/properties/ConfigurationPropertiesReportEndpointAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/couchbase/CouchbaseHealthIndicatorAutoConfiguration.java" target="_top"><code class="literal">CouchbaseHealthIndicatorAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/couchbase/CouchbaseHealthIndicatorAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/couchbase/CouchbaseReactiveHealthIndicatorAutoConfiguration.java" target="_top"><code class="literal">CouchbaseReactiveHealthIndicatorAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/couchbase/CouchbaseReactiveHealthIndicatorAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/jdbc/DataSourceHealthIndicatorAutoConfiguration.java" target="_top"><code class="literal">DataSourceHealthIndicatorAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/jdbc/DataSourceHealthIndicatorAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/jdbc/DataSourcePoolMetricsAutoConfiguration.java" target="_top"><code class="literal">DataSourcePoolMetricsAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/metrics/jdbc/DataSourcePoolMetricsAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/export/datadog/DatadogMetricsExportAutoConfiguration.java" target="_top"><code class="literal">DatadogMetricsExportAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/metrics/export/datadog/DatadogMetricsExportAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/system/DiskSpaceHealthIndicatorAutoConfiguration.java" target="_top"><code class="literal">DiskSpaceHealthIndicatorAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/system/DiskSpaceHealthIndicatorAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/export/dynatrace/DynatraceMetricsExportAutoConfiguration.java" target="_top"><code class="literal">DynatraceMetricsExportAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/metrics/export/dynatrace/DynatraceMetricsExportAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/export/elastic/ElasticMetricsExportAutoConfiguration.java" target="_top"><code class="literal">ElasticMetricsExportAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/metrics/export/elastic/ElasticMetricsExportAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/elasticsearch/ElasticSearchClientHealthIndicatorAutoConfiguration.java" target="_top"><code class="literal">ElasticSearchClientHealthIndicatorAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/elasticsearch/ElasticSearchClientHealthIndicatorAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/elasticsearch/ElasticSearchJestHealthIndicatorAutoConfiguration.java" target="_top"><code class="literal">ElasticSearchJestHealthIndicatorAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/elasticsearch/ElasticSearchJestHealthIndicatorAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/elasticsearch/ElasticSearchRestHealthIndicatorAutoConfiguration.java" target="_top"><code class="literal">ElasticSearchRestHealthIndicatorAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/elasticsearch/ElasticSearchRestHealthIndicatorAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/endpoint/EndpointAutoConfiguration.java" target="_top"><code class="literal">EndpointAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/endpoint/EndpointAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/env/EnvironmentEndpointAutoConfiguration.java" target="_top"><code class="literal">EnvironmentEndpointAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/env/EnvironmentEndpointAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/flyway/FlywayEndpointAutoConfiguration.java" target="_top"><code class="literal">FlywayEndpointAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/flyway/FlywayEndpointAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/export/ganglia/GangliaMetricsExportAutoConfiguration.java" target="_top"><code class="literal">GangliaMetricsExportAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/metrics/export/ganglia/GangliaMetricsExportAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/export/graphite/GraphiteMetricsExportAutoConfiguration.java" target="_top"><code class="literal">GraphiteMetricsExportAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/metrics/export/graphite/GraphiteMetricsExportAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/health/HealthEndpointAutoConfiguration.java" target="_top"><code class="literal">HealthEndpointAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/health/HealthEndpointAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/health/HealthIndicatorAutoConfiguration.java" target="_top"><code class="literal">HealthIndicatorAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/health/HealthIndicatorAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/management/HeapDumpWebEndpointAutoConfiguration.java" target="_top"><code class="literal">HeapDumpWebEndpointAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/management/HeapDumpWebEndpointAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/orm/jpa/HibernateMetricsAutoConfiguration.java" target="_top"><code class="literal">HibernateMetricsAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/metrics/orm/jpa/HibernateMetricsAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/web/client/HttpClientMetricsAutoConfiguration.java" target="_top"><code class="literal">HttpClientMetricsAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/metrics/web/client/HttpClientMetricsAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/trace/http/HttpTraceAutoConfiguration.java" target="_top"><code class="literal">HttpTraceAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/trace/http/HttpTraceAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/trace/http/HttpTraceEndpointAutoConfiguration.java" target="_top"><code class="literal">HttpTraceEndpointAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/trace/http/HttpTraceEndpointAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/export/humio/HumioMetricsExportAutoConfiguration.java" target="_top"><code class="literal">HumioMetricsExportAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/metrics/export/humio/HumioMetricsExportAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/influx/InfluxDbHealthIndicatorAutoConfiguration.java" target="_top"><code class="literal">InfluxDbHealthIndicatorAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/influx/InfluxDbHealthIndicatorAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/export/influx/InfluxMetricsExportAutoConfiguration.java" target="_top"><code class="literal">InfluxMetricsExportAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/metrics/export/influx/InfluxMetricsExportAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/info/InfoContributorAutoConfiguration.java" target="_top"><code class="literal">InfoContributorAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/info/InfoContributorAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/info/InfoEndpointAutoConfiguration.java" target="_top"><code class="literal">InfoEndpointAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/info/InfoEndpointAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/integration/IntegrationGraphEndpointAutoConfiguration.java" target="_top"><code class="literal">IntegrationGraphEndpointAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/integration/IntegrationGraphEndpointAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/jersey/JerseyServerMetricsAutoConfiguration.java" target="_top"><code class="literal">JerseyServerMetricsAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/metrics/jersey/JerseyServerMetricsAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/web/jetty/JettyMetricsAutoConfiguration.java" target="_top"><code class="literal">JettyMetricsAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/metrics/web/jetty/JettyMetricsAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/jms/JmsHealthIndicatorAutoConfiguration.java" target="_top"><code class="literal">JmsHealthIndicatorAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/jms/JmsHealthIndicatorAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/endpoint/jmx/JmxEndpointAutoConfiguration.java" target="_top"><code class="literal">JmxEndpointAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/endpoint/jmx/JmxEndpointAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/export/jmx/JmxMetricsExportAutoConfiguration.java" target="_top"><code class="literal">JmxMetricsExportAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/metrics/export/jmx/JmxMetricsExportAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/jolokia/JolokiaEndpointAutoConfiguration.java" target="_top"><code class="literal">JolokiaEndpointAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/jolokia/JolokiaEndpointAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/JvmMetricsAutoConfiguration.java" target="_top"><code class="literal">JvmMetricsAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/metrics/JvmMetricsAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/KafkaMetricsAutoConfiguration.java" target="_top"><code class="literal">KafkaMetricsAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/metrics/KafkaMetricsAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/export/kairos/KairosMetricsExportAutoConfiguration.java" target="_top"><code class="literal">KairosMetricsExportAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/metrics/export/kairos/KairosMetricsExportAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/ldap/LdapHealthIndicatorAutoConfiguration.java" target="_top"><code class="literal">LdapHealthIndicatorAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/ldap/LdapHealthIndicatorAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/liquibase/LiquibaseEndpointAutoConfiguration.java" target="_top"><code class="literal">LiquibaseEndpointAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/liquibase/LiquibaseEndpointAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/Log4J2MetricsAutoConfiguration.java" target="_top"><code class="literal">Log4J2MetricsAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/metrics/Log4J2MetricsAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/logging/LogFileWebEndpointAutoConfiguration.java" target="_top"><code class="literal">LogFileWebEndpointAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/logging/LogFileWebEndpointAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/LogbackMetricsAutoConfiguration.java" target="_top"><code class="literal">LogbackMetricsAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/metrics/LogbackMetricsAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/logging/LoggersEndpointAutoConfiguration.java" target="_top"><code class="literal">LoggersEndpointAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/logging/LoggersEndpointAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/mail/MailHealthIndicatorAutoConfiguration.java" target="_top"><code class="literal">MailHealthIndicatorAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/mail/MailHealthIndicatorAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/web/server/ManagementContextAutoConfiguration.java" target="_top"><code class="literal">ManagementContextAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/web/server/ManagementContextAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/security/servlet/ManagementWebSecurityAutoConfiguration.java" target="_top"><code class="literal">ManagementWebSecurityAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/security/servlet/ManagementWebSecurityAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/web/mappings/MappingsEndpointAutoConfiguration.java" target="_top"><code class="literal">MappingsEndpointAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/web/mappings/MappingsEndpointAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/MetricsAutoConfiguration.java" target="_top"><code class="literal">MetricsAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/metrics/MetricsAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/MetricsEndpointAutoConfiguration.java" target="_top"><code class="literal">MetricsEndpointAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/metrics/MetricsEndpointAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/mongo/MongoHealthIndicatorAutoConfiguration.java" target="_top"><code class="literal">MongoHealthIndicatorAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/mongo/MongoHealthIndicatorAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/mongo/MongoReactiveHealthIndicatorAutoConfiguration.java" target="_top"><code class="literal">MongoReactiveHealthIndicatorAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/mongo/MongoReactiveHealthIndicatorAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/neo4j/Neo4jHealthIndicatorAutoConfiguration.java" target="_top"><code class="literal">Neo4jHealthIndicatorAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/neo4j/Neo4jHealthIndicatorAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/export/newrelic/NewRelicMetricsExportAutoConfiguration.java" target="_top"><code class="literal">NewRelicMetricsExportAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/metrics/export/newrelic/NewRelicMetricsExportAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/export/prometheus/PrometheusMetricsExportAutoConfiguration.java" target="_top"><code class="literal">PrometheusMetricsExportAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/metrics/export/prometheus/PrometheusMetricsExportAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/amqp/RabbitHealthIndicatorAutoConfiguration.java" target="_top"><code class="literal">RabbitHealthIndicatorAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/amqp/RabbitHealthIndicatorAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/amqp/RabbitMetricsAutoConfiguration.java" target="_top"><code class="literal">RabbitMetricsAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/metrics/amqp/RabbitMetricsAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/cloudfoundry/reactive/ReactiveCloudFoundryActuatorAutoConfiguration.java" target="_top"><code class="literal">ReactiveCloudFoundryActuatorAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/cloudfoundry/reactive/ReactiveCloudFoundryActuatorAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/web/reactive/ReactiveManagementContextAutoConfiguration.java" target="_top"><code class="literal">ReactiveManagementContextAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/web/reactive/ReactiveManagementContextAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/security/reactive/ReactiveManagementWebSecurityAutoConfiguration.java" target="_top"><code class="literal">ReactiveManagementWebSecurityAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/security/reactive/ReactiveManagementWebSecurityAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/redis/RedisHealthIndicatorAutoConfiguration.java" target="_top"><code class="literal">RedisHealthIndicatorAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/redis/RedisHealthIndicatorAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/redis/RedisReactiveHealthIndicatorAutoConfiguration.java" target="_top"><code class="literal">RedisReactiveHealthIndicatorAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/redis/RedisReactiveHealthIndicatorAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/scheduling/ScheduledTasksEndpointAutoConfiguration.java" target="_top"><code class="literal">ScheduledTasksEndpointAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/scheduling/ScheduledTasksEndpointAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/web/servlet/ServletManagementContextAutoConfiguration.java" target="_top"><code class="literal">ServletManagementContextAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/web/servlet/ServletManagementContextAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/session/SessionsEndpointAutoConfiguration.java" target="_top"><code class="literal">SessionsEndpointAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/session/SessionsEndpointAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/context/ShutdownEndpointAutoConfiguration.java" target="_top"><code class="literal">ShutdownEndpointAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/context/ShutdownEndpointAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/export/signalfx/SignalFxMetricsExportAutoConfiguration.java" target="_top"><code class="literal">SignalFxMetricsExportAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/metrics/export/signalfx/SignalFxMetricsExportAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/export/simple/SimpleMetricsExportAutoConfiguration.java" target="_top"><code class="literal">SimpleMetricsExportAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/metrics/export/simple/SimpleMetricsExportAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/solr/SolrHealthIndicatorAutoConfiguration.java" target="_top"><code class="literal">SolrHealthIndicatorAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/solr/SolrHealthIndicatorAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/export/statsd/StatsdMetricsExportAutoConfiguration.java" target="_top"><code class="literal">StatsdMetricsExportAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/metrics/export/statsd/StatsdMetricsExportAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/SystemMetricsAutoConfiguration.java" target="_top"><code class="literal">SystemMetricsAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/metrics/SystemMetricsAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/management/ThreadDumpEndpointAutoConfiguration.java" target="_top"><code class="literal">ThreadDumpEndpointAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/management/ThreadDumpEndpointAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/web/tomcat/TomcatMetricsAutoConfiguration.java" target="_top"><code class="literal">TomcatMetricsAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/metrics/web/tomcat/TomcatMetricsAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/export/wavefront/WavefrontMetricsExportAutoConfiguration.java" target="_top"><code class="literal">WavefrontMetricsExportAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/metrics/export/wavefront/WavefrontMetricsExportAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/endpoint/web/WebEndpointAutoConfiguration.java" target="_top"><code class="literal">WebEndpointAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/endpoint/web/WebEndpointAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/web/reactive/WebFluxMetricsAutoConfiguration.java" target="_top"><code class="literal">WebFluxMetricsAutoConfiguration</code></a></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/metrics/web/reactive/WebFluxMetricsAutoConfiguration.html" target="_top">javadoc</a></p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><a class="link" href="https://github.com/spring-projects/spring-boot/tree/v2.1.1.RELEASE/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/web/servlet/WebMvcMetricsAutoConfiguration.java" target="_top"><code class="literal">WebMvcMetricsAutoConfiguration</code></a></p></td><td style="" align="left" valign="top" class="notranslate"><p><a class="link" href="https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/api/org/springframework/boot/actuate/autoconfigure/metrics/web/servlet/WebMvcMetricsAutoConfiguration.html" target="_top">javadoc</a></p></td></tr></tbody></table>

é™„å½•D.æµ‹è¯•è‡ªåŠ¨é…ç½®æ³¨é‡Š
------------

ä¸‹è¡¨åˆ—å‡ºäº†å¯ç”¨äºæµ‹è¯•åº”ç”¨ç¨‹åºç‰‡æ®µçš„å„ç§`@â€¦Test`æ³¨é‡Šä»¥åŠé»˜è®¤æƒ…å†µä¸‹å¯¼å…¥çš„è‡ªåŠ¨é…ç½®ï¼š

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">æµ‹è¯•åˆ‡ç‰‡</th><th style="border-bottom: 1px solid ; " align="left" valign="top">å¯¼å…¥çš„è‡ªåŠ¨é…ç½®</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">@DataJdbcTest</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.data.jdbc.JdbcRepositoriesAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration</code> <code class="literal">org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration</code></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">@DataJpaTest</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration</code> <code class="literal">org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration</code> <code class="literal">org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration</code></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">@DataLdapTest</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.data.ldap.LdapRepositoriesAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.ldap.LdapAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.ldap.embedded.EmbeddedLdapAutoConfiguration</code></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">@DataMongoTest</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.mongo.embedded.EmbeddedMongoAutoConfiguration</code></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">@DataNeo4jTest</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.data.neo4j.Neo4jDataAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.data.neo4j.Neo4jRepositoriesAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration</code></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">@DataRedisTest</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.data.redis.RedisRepositoriesAutoConfiguration</code></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">@JdbcTest</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration</code> <code class="literal">org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration</code></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">@JooqTest</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.jooq.JooqAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration</code></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">@JsonTest</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration</code> <code class="literal">org.springframework.boot.test.autoconfigure.json.JsonTestersAutoConfiguration</code></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">@RestClientTest</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.http.codec.CodecsAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.web.client.RestTemplateAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.web.reactive.function.client.WebClientAutoConfiguration</code> <code class="literal">org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerAutoConfiguration</code> <code class="literal">org.springframework.boot.test.autoconfigure.web.client.WebClientRestTemplateAutoConfiguration</code></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">@WebFluxTest</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.http.codec.CodecsAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.web.reactive.WebFluxAutoConfiguration</code> <code class="literal">org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration</code></p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">@WebMvcTest</code></p></td><td style="" align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration</code> <code class="literal">org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration</code> <code class="literal">org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration</code> <code class="literal">org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityAutoConfiguration</code> <code class="literal">org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration</code> <code class="literal">org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration</code></p></td></tr></tbody></table>

é™„å½•E.å¯æ‰§è¡Œçš„Jaræ ¼å¼
-------------

`spring-boot-loader`æ¨¡å—å…è®¸Spring Bootæ”¯æŒå¯æ‰§è¡Œjarå’Œwaræ–‡ä»¶ã€‚å¦‚æœæ‚¨ä½¿ç”¨Mavenæ’ä»¶æˆ–Gradleæ’ä»¶ï¼Œåˆ™ä¼šè‡ªåŠ¨ç”Ÿæˆå¯æ‰§è¡Œjarï¼Œå¹¶ä¸”æ‚¨é€šå¸¸ä¸éœ€è¦çŸ¥é“å®ƒä»¬å¦‚ä½•å·¥ä½œçš„è¯¦ç»†ä¿¡æ¯ã€‚

å¦‚æœæ‚¨éœ€è¦ä»ä¸åŒçš„æ„å»ºç³»ç»Ÿåˆ›å»ºå¯æ‰§è¡Œjarï¼Œæˆ–è€…å¦‚æœæ‚¨åªæ˜¯å¯¹åº•å±‚æŠ€æœ¯æ„Ÿåˆ°å¥½å¥‡ï¼Œæœ¬èŠ‚æä¾›äº†ä¸€äº›èƒŒæ™¯çŸ¥è¯†ã€‚

E.1åµŒå¥—JAR
--------

Javaæ²¡æœ‰æä¾›ä»»ä½•æ ‡å‡†æ–¹æ³•æ¥åŠ è½½åµŒå¥—çš„jaræ–‡ä»¶ï¼ˆå³jaræ–‡ä»¶æœ¬èº«åŒ…å«åœ¨jarä¸­ï¼‰ã€‚å¦‚æœæ‚¨éœ€è¦åˆ†å‘å¯ä»¥ä»å‘½ä»¤è¡Œè¿è¡Œè€Œä¸è§£å‹ç¼©çš„è‡ªåŒ…å«åº”ç”¨ç¨‹åºï¼Œåˆ™å¯èƒ½ä¼šå‡ºç°é—®é¢˜ã€‚

ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè®¸å¤šå¼€å‘äººå‘˜ä½¿ç”¨â€œé˜´å½±â€ç½å­ã€‚ä¸€ä¸ªå¸¦é˜´å½±çš„ç½å­å°†æ‰€æœ‰ç±»åˆ«çš„æ‰€æœ‰ç±»åˆ«æ‰“åŒ…æˆä¸€ä¸ªâ€œè¶…çº§ç½å­â€ã€‚é˜´å½±ç½çš„é—®é¢˜åœ¨äºå¾ˆéš¾çœ‹å‡ºå“ªäº›åº“å®é™…ä¸Šåœ¨æ‚¨çš„åº”ç”¨ç¨‹åºä¸­ã€‚å¦‚æœåœ¨å¤šä¸ªç½å­ä¸­ä½¿ç”¨ç›¸åŒçš„æ–‡ä»¶åï¼ˆä½†å…·æœ‰ä¸åŒçš„å†…å®¹ï¼‰ï¼Œä¹Ÿå¯èƒ½ä¼šæœ‰é—®é¢˜ã€‚Spring Booté‡‡ç”¨ä¸åŒçš„æ–¹æ³•ï¼Œè®©ä½ ç›´æ¥åµŒå¥—ç½å­ã€‚

### E.1.1å¯æ‰§è¡ŒJaræ–‡ä»¶ç»“æ„

Spring Bootä¸Loaderå…¼å®¹çš„jaræ–‡ä»¶åº”æŒ‰ä»¥ä¸‹æ–¹å¼æ„å»ºï¼š

```
example.jar
 |
 +-META-INF
 |  +-MANIFEST.MF
 +-org
 |  +-springframework
 |     +-boot
 |        +-loader
 |           +-<spring boot loader classes>
 +-BOOT-INF
    +-classes
    |  +-mycompany
    |     +-project
    |        +-YourClasses.class
    +-lib
       +-dependency1.jar
       +-dependency2.jar
```

åº”ç”¨ç¨‹åºç±»åº”æ”¾åœ¨åµŒå¥—çš„`BOOT-INF/classes`ç›®å½•ä¸­ã€‚ä¾èµ–é¡¹åº”æ”¾åœ¨åµŒå¥—çš„`BOOT-INF/lib`ç›®å½•ä¸­ã€‚

### E.1.2å¯æ‰§è¡Œæ–‡ä»¶Waræ–‡ä»¶ç»“æ„

Spring Bootä¸Loaderå…¼å®¹çš„waræ–‡ä»¶åº”æŒ‰ä»¥ä¸‹æ–¹å¼æ„å»ºï¼š

```
example.war
 |
 +-META-INF
 |  +-MANIFEST.MF
 +-org
 |  +-springframework
 |     +-boot
 |        +-loader
 |           +-<spring boot loader classes>
 +-WEB-INF
    +-classes
    |  +-com
    |     +-mycompany
    |        +-project
    |           +-YourClasses.class
    +-lib
    |  +-dependency1.jar
    |  +-dependency2.jar
    +-lib-provided
       +-servlet-api.jar
       +-dependency3.jar
```

ä¾èµ–é¡¹åº”æ”¾åœ¨åµŒå¥—çš„`WEB-INF/lib`ç›®å½•ä¸­ã€‚è¿è¡ŒåµŒå…¥å¼æ—¶æ‰€éœ€çš„ä»»ä½•ä¾èµ–é¡¹ï¼Œä½†åœ¨éƒ¨ç½²åˆ°ä¼ ç»ŸWebå®¹å™¨æ—¶ä¸éœ€è¦ï¼Œåº”æ”¾åœ¨`WEB-INF/lib-provided`ä¸­ã€‚

E.2 Spring Bootçš„â€œJarFileâ€ç±»
--------------------------

ç”¨äºæ”¯æŒåŠ è½½åµŒå¥—jarçš„æ ¸å¿ƒç±»æ˜¯`org.springframework.boot.loader.jar.JarFile`ã€‚å®ƒå…è®¸æ‚¨ä»æ ‡å‡†jaræ–‡ä»¶æˆ–åµŒå¥—å­jaræ•°æ®ä¸­åŠ è½½jarå†…å®¹ã€‚é¦–æ¬¡åŠ è½½æ—¶ï¼Œæ¯ä¸ª`JarEntry`çš„ä½ç½®å°†æ˜ å°„åˆ°å¤–éƒ¨jarçš„ç‰©ç†æ–‡ä»¶åç§»é‡ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š

```
myapp.jar
+-------------------+-------------------------+
| /BOOT-INF/classes | /BOOT-INF/lib/mylib.jar |
|+-----------------+||+-----------+----------+|
||     A.class      |||  B.class  |  C.class ||
|+-----------------+||+-----------+----------+|
+-------------------+-------------------------+
 ^                    ^           ^
 0063                 3452        3980
```

ä¸Šé¢çš„ç¤ºä¾‹æ˜¾ç¤ºå¦‚ä½•åœ¨ä½äº`0063`çš„`myapp.jar` `/BOOT-INF/classes`ä¸­æ‰¾åˆ°`A.class`ã€‚æ¥è‡ªåµŒå¥—jarçš„`B.class`å®é™…ä¸Šå¯ä»¥åœ¨ä½ç½®`3452`çš„`myapp.jar`ä¸­æ‰¾åˆ°ï¼Œè€Œ`C.class`ä½äº`3980`ä½ç½®ã€‚

æœ‰äº†è¿™äº›ä¿¡æ¯ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¯»æ‰¾å¤–éƒ¨jarçš„é€‚å½“éƒ¨åˆ†æ¥åŠ è½½ç‰¹å®šçš„åµŒå¥—æ¡ç›®ã€‚æˆ‘ä»¬ä¸éœ€è¦è§£å‹ç¼©å½’æ¡£æ–‡ä»¶ï¼Œä¹Ÿä¸éœ€è¦å°†æ‰€æœ‰æ¡ç›®æ•°æ®è¯»å…¥å†…å­˜ã€‚

### E.2.1ä¸æ ‡å‡†Javaâ€œJarFileâ€çš„å…¼å®¹æ€§

Spring Boot LoaderåŠªåŠ›ä¿æŒä¸ç°æœ‰ä»£ç å’Œåº“çš„å…¼å®¹æ€§ã€‚`org.springframework.boot.loader.jar.JarFile`ä»`java.util.jar.JarFile`å»¶ä¼¸ï¼Œåº”è¯¥ä½œä¸ºæ›¿ä»£å“ã€‚`getURL()`æ–¹æ³•è¿”å›`URL`ï¼Œæ‰“å¼€ä¸`java.net.JarURLConnection`å…¼å®¹çš„è¿æ¥ï¼Œå¹¶å¯ä¸Javaçš„`URLClassLoader`ä¸€èµ·ä½¿ç”¨ã€‚

E.3å¯åŠ¨å¯æ‰§è¡Œçš„Jars
-------------

`org.springframework.boot.loader.Launcher`ç±»æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å¼•å¯¼ç±»ï¼Œç”¨ä½œå¯æ‰§è¡Œjarçš„ä¸»è¦å…¥å£ç‚¹ã€‚è¿™æ˜¯æ‚¨çš„jaræ–‡ä»¶ä¸­çš„å®é™…`Main-Class`ï¼Œå®ƒç”¨äºè®¾ç½®é€‚å½“çš„`URLClassLoader`å¹¶æœ€ç»ˆè°ƒç”¨æ‚¨çš„`main()`æ–¹æ³•ã€‚

æœ‰ä¸‰ä¸ªå¯åŠ¨å™¨å­ç±»ï¼ˆ`JarLauncher`ï¼Œ`WarLauncher`å’Œ`PropertiesLauncher`ï¼‰ã€‚å®ƒä»¬çš„ç›®çš„æ˜¯ä»åµŒå¥—çš„jaræ–‡ä»¶æˆ–ç›®å½•ä¸­çš„waræ–‡ä»¶åŠ è½½èµ„æºï¼ˆ`.class`æ–‡ä»¶ç­‰ã€‚ï¼‰ï¼ˆè€Œä¸æ˜¯åœ¨ç±»è·¯å¾„ä¸Šæ˜¾å¼çš„é‚£äº›æ–‡ä»¶ï¼‰ã€‚åœ¨`JarLauncher`å’Œ`WarLauncher`çš„æƒ…å†µä¸‹ï¼ŒåµŒå¥—è·¯å¾„æ˜¯å›ºå®šçš„ã€‚`JarLauncher`æŸ¥çœ‹`BOOT-INF/lib/`ï¼Œ`WarLauncher`æŸ¥çœ‹`WEB-INF/lib/`å’Œ`WEB-INF/lib-provided/`ã€‚å¦‚æœæ‚¨éœ€è¦æ›´å¤šï¼Œå¯ä»¥åœ¨è¿™äº›ä½ç½®æ·»åŠ é¢å¤–çš„ç½å­ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ`PropertiesLauncher`ä¼šåœ¨æ‚¨çš„åº”ç”¨ç¨‹åºå­˜æ¡£ä¸­æŸ¥æ‰¾`BOOT-INF/lib/`ï¼Œä½†æ‚¨å¯ä»¥é€šè¿‡åœ¨`loader.properties`ä¸­è®¾ç½®åä¸º`LOADER_PATH`æˆ–`loader.path`çš„ç¯å¢ƒå˜é‡æ¥æ·»åŠ å…¶ä»–ä½ç½®ï¼ˆè¿™æ˜¯ä¸€ä¸ªé€—å· - å­˜æ¡£ä¸­çš„ç›®å½•ï¼Œå­˜æ¡£æˆ–ç›®å½•çš„åˆ†éš”åˆ—è¡¨ï¼‰ã€‚

### E.3.1å‘å°„å™¨æ¸…å•

æ‚¨éœ€è¦æŒ‡å®šé€‚å½“çš„`Launcher`ä½œä¸º`META-INF/MANIFEST.MF`çš„`Main-Class`å±æ€§ã€‚åº”åœ¨`Start-Class`å±æ€§ä¸­æŒ‡å®šè¦å¯åŠ¨çš„å®é™…ç±»ï¼ˆå³åŒ…å«`main`æ–¹æ³•çš„ç±»ï¼‰ã€‚

ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†å¯æ‰§è¡Œjaræ–‡ä»¶çš„å…¸å‹`MANIFEST.MF`ï¼š

```
Main-Class: org.springframework.boot.loader.JarLauncher
Start-Class: com.mycompany.project.MyApplication
```

å¯¹äºwaræ–‡ä»¶ï¼Œå®ƒå°†å¦‚ä¸‹ï¼š

```
Main-Class: org.springframework.boot.loader.WarLauncher
Start-Class: com.mycompany.project.MyApplication
```

<table border="0" summary="Note"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[æ³¨æ„]" src="images/note.png"></td><th align="left">æ³¨æ„</th></tr><tr><td align="left" valign="top"><p>æ‚¨æ— éœ€åœ¨æ¸…å•æ–‡ä»¶ä¸­æŒ‡å®š<code class="literal" i="3946">Class-Path</code>æ¡ç›®ã€‚ç±»è·¯å¾„æ˜¯ä»åµŒå¥—çš„jarä¸­æ¨å¯¼å‡ºæ¥çš„ã€‚</p></td></tr></tbody></table>

### E.3.2åˆ†è§£æ¡£æ¡ˆ

æŸäº›PaaSå®ç°å¯èƒ½ä¼šé€‰æ‹©åœ¨è¿è¡Œä¹‹å‰è§£å‹ç¼©æ¡£æ¡ˆã€‚ä¾‹å¦‚ï¼ŒCloud Foundryå°±æ˜¯è¿™æ ·è¿ä½œçš„ã€‚æ‚¨å¯ä»¥é€šè¿‡å¯åŠ¨ç›¸åº”çš„å¯åŠ¨ç¨‹åºæ¥è¿è¡Œè§£å‹ç¼©çš„å­˜æ¡£ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
$ unzip -q myapp.jar
$ java org.springframework.boot.loader.JarLauncher
```

E.4 `PropertiesLauncher`ç‰¹ç‚¹
--------------------------

`PropertiesLauncher`å…·æœ‰ä¸€äº›å¯ä»¥ä½¿ç”¨å¤–éƒ¨å±æ€§å¯ç”¨çš„ç‰¹æ®ŠåŠŸèƒ½ï¼ˆç³»ç»Ÿå±æ€§ï¼Œç¯å¢ƒå˜é‡ï¼Œæ¸…å•æ¡ç›®æˆ–`loader.properties`ï¼‰ã€‚ä¸‹è¡¨æè¿°äº†è¿™äº›å±æ€§ï¼š

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">é”®</th><th style="border-bottom: 1px solid ; " align="left" valign="top">ç›®çš„</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">loader.path</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Comma-separated Classpath, such as <code class="literal">lib,${HOME}/app/lib</code>. Earlier entries take precedence, like a regular <code class="literal">-classpath</code> on the <code class="literal">javac</code> command line.</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">loader.home</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Used to resolve relative paths in <code class="literal">loader.path</code>. For example, given <code class="literal">loader.path=lib</code>, then <code class="literal">${loader.home}/lib</code> is a classpath location (along with all jar files in that directory). This property is also used to locate a <code class="literal">loader.properties</code> file, as in the following example <code class="literal"><a class="link" href="file:///opt/app" target="_top">/opt/app</a></code> It defaults to <code class="literal">${user.dir}</code>.</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">loader.args</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Default arguments for the main method (space separated).</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">loader.main</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Name of main class to launch (for example, <code class="literal">com.app.Application</code>).</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">loader.config.name</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Name of properties file (for example, <code class="literal">launcher</code>) It defaults to <code class="literal">loader</code>.</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">loader.config.location</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>Path to properties file (for example, <code class="literal">classpath:loader.properties</code>). It defaults to <code class="literal">loader.properties</code>.</p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">loader.system</code></p></td><td style="" align="left" valign="top" class="notranslate"><p>Boolean flag to indicate that all properties should be added to System properties It defaults to <code class="literal">false</code>.</p></td></tr></tbody></table>

æŒ‡å®šä¸ºç¯å¢ƒå˜é‡æˆ–æ¸…å•æ¡ç›®æ—¶ï¼Œåº”ä½¿ç”¨ä»¥ä¸‹åç§°ï¼š

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"><col class="col_3"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">é”®</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">æ¸…å•å…¥å£</th><th style="border-bottom: 1px solid ; " align="left" valign="top">ç¯å¢ƒå˜é‡</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">loader.path</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">Loader-Path</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">LOADER_PATH</code></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">loader.home</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">Loader-Home</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">LOADER_HOME</code></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">loader.args</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">Loader-Args</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">LOADER_ARGS</code></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">loader.main</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">Start-Class</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">LOADER_MAIN</code></p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">loader.config.location</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">Loader-Config-Location</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">LOADER_CONFIG_LOCATION</code></p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">loader.system</code></p></td><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">Loader-System</code></p></td><td style="" align="left" valign="top" class="notranslate"><p><code class="literal">LOADER_SYSTEM</code></p></td></tr></tbody></table><table border="0" summary="Tip"><tbody><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[å°è´¹]" src="images/tip.png"></td><th align="left">å°è´¹</th></tr><tr><td align="left" valign="top"><p>æ„å»ºèƒ–ç½æ—¶ï¼Œæ„å»ºæ’ä»¶ä¼šè‡ªåŠ¨å°†<code class="literal" i="3950">Main-Class</code>å±æ€§ç§»åŠ¨åˆ°<code class="literal" i="3951">Start-Class</code>ã€‚å¦‚æœæ‚¨ä½¿ç”¨å®ƒï¼Œè¯·ä½¿ç”¨<code class="literal" i="3952">Main-Class</code>å±æ€§æŒ‡å®šè¦å¯åŠ¨çš„ç±»çš„åç§°ï¼Œå¹¶çœç•¥<code class="literal" i="3953">Start-Class</code>ã€‚</p></td></tr></tbody></table>

ä»¥ä¸‹è§„åˆ™é€‚ç”¨äºä½¿ç”¨`PropertiesLauncher`ï¼š

*   `loader.properties`åœ¨`loader.home`ä¸­æœç´¢ï¼Œç„¶ååœ¨ç±»è·¯å¾„çš„æ ¹ç›®å½•ä¸­æœç´¢ï¼Œç„¶ååœ¨`classpath:/BOOT-INF/classes`ä¸­æœç´¢ã€‚ä½¿ç”¨å…·æœ‰è¯¥åç§°çš„æ–‡ä»¶çš„ç¬¬ä¸€ä¸ªä½ç½®ã€‚
*   `loader.home`æ˜¯ä»…åœ¨æœªæŒ‡å®š`loader.config.location`æ—¶é™„åŠ å±æ€§æ–‡ä»¶çš„ç›®å½•ä½ç½®ï¼ˆè¦†ç›–é»˜è®¤å€¼ï¼‰ã€‚
*   `loader.path`å¯ä»¥åŒ…å«ç›®å½•ï¼ˆä»¥é€’å½’æ–¹å¼æ‰«æjarå’Œzipæ–‡ä»¶ï¼‰ï¼Œå­˜æ¡£è·¯å¾„ï¼Œå­˜æ¡£ä¸­æ‰«æjaræ–‡ä»¶çš„ç›®å½•ï¼ˆä¾‹å¦‚ï¼Œ`dependencies.jar!/lib`ï¼‰æˆ–é€šé…ç¬¦æ¨¡å¼ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼‰ JVMè¡Œä¸ºï¼‰ã€‚å­˜æ¡£è·¯å¾„å¯ä»¥ç›¸å¯¹äº`loader.home`æˆ–æ–‡ä»¶ç³»ç»Ÿä¸­å…·æœ‰`jar:file:`å‰ç¼€çš„ä»»ä½•ä½ç½®ã€‚
*   `loader.path`ï¼ˆå¦‚æœä¸ºç©ºï¼‰é»˜è®¤ä¸º`BOOT-INF/lib`ï¼ˆè¡¨ç¤ºæœ¬åœ°ç›®å½•æˆ–åµŒå¥—çš„ç›®å½•ï¼Œå¦‚æœä»å­˜æ¡£è¿è¡Œï¼‰ã€‚å› æ­¤ï¼Œ`PropertiesLauncher`åœ¨æ²¡æœ‰æä¾›å…¶ä»–é…ç½®æ—¶ä¸`JarLauncher`çš„è¡Œä¸ºç›¸åŒã€‚
*   `loader.path`ä¸èƒ½ç”¨äºé…ç½®`loader.properties`çš„ä½ç½®ï¼ˆç”¨äºæœç´¢åè€…çš„ç±»è·¯å¾„æ˜¯å¯åŠ¨`PropertiesLauncher`æ—¶çš„JVMç±»è·¯å¾„ï¼‰ã€‚
*   å ä½ç¬¦æ›¿æ¢æ˜¯åœ¨ä½¿ç”¨å‰ä»ç³»ç»Ÿå’Œç¯å¢ƒå˜é‡ä»¥åŠå±æ€§æ–‡ä»¶æœ¬èº«åœ¨æ‰€æœ‰å€¼ä¸Šå®Œæˆçš„ã€‚
*   å±æ€§çš„æœç´¢é¡ºåºï¼ˆåœ¨å¤šä¸ªä½ç½®æŸ¥çœ‹çš„ä½ç½®ï¼‰æ˜¯ç¯å¢ƒå˜é‡ï¼Œç³»ç»Ÿå±æ€§ï¼Œ`loader.properties`ï¼Œå±•å¼€çš„å­˜æ¡£æ¸…å•å’Œå­˜æ¡£æ¸…å•ã€‚

E.5å¯æ‰§è¡Œçš„Jaré™åˆ¶
------------

ä½¿ç”¨Spring Boot Loaderæ‰“åŒ…åº”ç”¨ç¨‹åºæ—¶ï¼Œéœ€è¦è€ƒè™‘ä»¥ä¸‹é™åˆ¶ï¼š

*   Zipæ¡ç›®å‹ç¼©ï¼šå¿…é¡»ä½¿ç”¨`ZipEntry.STORED`æ–¹æ³•ä¿å­˜åµŒå¥—jarçš„`ZipEntry`ã€‚è¿™æ˜¯å¿…éœ€çš„ï¼Œä»¥ä¾¿æˆ‘ä»¬å¯ä»¥ç›´æ¥å¯»æ‰¾åµŒå¥—jarä¸­çš„å•ä¸ªå†…å®¹ã€‚åµŒå¥—çš„jaræ–‡ä»¶æœ¬èº«çš„å†…å®¹ä»ç„¶å¯ä»¥è¢«å‹ç¼©ï¼Œå¤–éƒ¨jarä¸­çš„ä»»ä½•å…¶ä»–æ¡ç›®ä¹Ÿæ˜¯å¦‚æ­¤ã€‚

*   System classLoaderï¼šå¯åŠ¨çš„åº”ç”¨ç¨‹åºåœ¨åŠ è½½ç±»æ—¶åº”è¯¥ä½¿ç”¨`Thread.getContextClassLoader()`ï¼ˆå¤§å¤šæ•°åº“å’Œæ¡†æ¶é»˜è®¤éƒ½è¿™æ ·åšï¼‰ã€‚å°è¯•ä½¿ç”¨`ClassLoader.getSystemClassLoader()`åŠ è½½åµŒå¥—çš„jarç±»å¤±è´¥ã€‚`java.util.Logging`å§‹ç»ˆä½¿ç”¨ç³»ç»Ÿç±»åŠ è½½å™¨ã€‚å› æ­¤ï¼Œæ‚¨åº”è¯¥è€ƒè™‘ä½¿ç”¨ä¸åŒçš„æ—¥å¿—è®°å½•å®ç°ã€‚

E.6æ›¿ä»£å•ç½è§£å†³æ–¹æ¡ˆ
-----------

å¦‚æœå‰é¢çš„é™åˆ¶æ„å‘³ç€æ‚¨ä¸èƒ½ä½¿ç”¨Spring Boot Loaderï¼Œè¯·è€ƒè™‘ä»¥ä¸‹å¤‡é€‰æ–¹æ¡ˆï¼š

*   [Maven Shadeæ’ä»¶](https://maven.apache.org/plugins/maven-shade-plugin/)
*   [çš„JarClassLoader](http://www.jdotsoft.com/JarClassLoader.php)
*   [OneJar](http://one-jar.sourceforge.net)
*   [Gradle Shadow Plugin](https://imperceptiblethoughts.com/shadow/)

é™„å½•F.ä¾èµ–ç‰ˆæœ¬
--------

ä¸‹è¡¨æä¾›äº†Spring Bootåœ¨å…¶CLIï¼ˆå‘½ä»¤è¡Œç•Œé¢ï¼‰ï¼ŒMavenä¾èµ–å…³ç³»ç®¡ç†å’ŒGradleæ’ä»¶ä¸­æä¾›çš„æ‰€æœ‰ä¾èµ–å…³ç³»ç‰ˆæœ¬çš„è¯¦ç»†ä¿¡æ¯ã€‚åœ¨æœªå£°æ˜ç‰ˆæœ¬çš„æƒ…å†µä¸‹å£°æ˜å¯¹å…¶ä¸­ä¸€ä¸ªå·¥ä»¶çš„ä¾èµ–å…³ç³»æ—¶ï¼Œå°†ä½¿ç”¨è¡¨ä¸­åˆ—å‡ºçš„ç‰ˆæœ¬ã€‚

<table class="informaltable" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="col_1"><col class="col_2"><col class="col_3"></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">ç»„ID</th><th style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top">å·¥ä»¶ID</th><th style="border-bottom: 1px solid ; " align="left" valign="top">ç‰ˆ</th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">antlr</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">antlr</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.7.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">ch.qos.logback</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">logback-access</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.2.3</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">ch.qos.logback</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">logback-classic</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.2.3</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">ch.qos.logback</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">logback-core</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.2.3</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.atomikos</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">transactions-jdbc</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.0.6</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.atomikos</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">transactions-jms</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.0.6</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.atomikos</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">transactions-jta</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.0.6</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.couchbase.client</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">couchbase-spring-cache</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.couchbase.client</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">java-client</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.7.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.datastax.cassandra</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">cassandra-driver-core</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.6.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.datastax.cassandra</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">cassandra-driver-mapping</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.6.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">classmate</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.4.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.core</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jackson-annotations</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.9.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.core</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jackson-core</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.9.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.core</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jackson-databind</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.9.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.dataformat</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jackson-dataformat-avro</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.9.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.dataformat</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jackson-dataformat-cbor</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.9.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.dataformat</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jackson-dataformat-csv</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.9.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.dataformat</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jackson-dataformat-ion</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.9.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.dataformat</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jackson-dataformat-properties</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.9.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.dataformat</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jackson-dataformat-protobuf</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.9.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.dataformat</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jackson-dataformat-smile</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.9.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.dataformat</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jackson-dataformat-xml</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.9.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.dataformat</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jackson-dataformat-yaml</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.9.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.datatype</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jackson-datatype-guava</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.9.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.datatype</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jackson-datatype-hibernate3</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.9.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.datatype</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jackson-datatype-hibernate4</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.9.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.datatype</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jackson-datatype-hibernate5</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.9.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.datatype</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jackson-datatype-hppc</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.9.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.datatype</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jackson-datatype-jaxrs</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.9.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.datatype</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jackson-datatype-jdk8</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.9.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.datatype</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jackson-datatype-joda</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.9.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.datatype</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jackson-datatype-json-org</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.9.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.datatype</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jackson-datatype-jsr310</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.9.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.datatype</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jackson-datatype-jsr353</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.9.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.datatype</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jackson-datatype-pcollections</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.9.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.jaxrs</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jackson-jaxrs-base</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.9.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.jaxrs</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jackson-jaxrs-cbor-provider</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.9.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.jaxrs</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jackson-jaxrs-json-provider</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.9.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.jaxrs</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jackson-jaxrs-smile-provider</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.9.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.jaxrs</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jackson-jaxrs-xml-provider</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.9.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.jaxrs</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jackson-jaxrs-yaml-provider</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.9.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.jr</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jackson-jr-all</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.9.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.jr</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jackson-jr-objects</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.9.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.jr</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jackson-jr-retrofit2</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.9.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.jr</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jackson-jr-stree</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.9.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.module</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jackson-module-afterburner</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.9.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.module</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jackson-module-guice</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.9.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.module</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jackson-module-jaxb-annotations</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.9.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.module</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jackson-module-jsonSchema</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.9.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.module</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jackson-module-kotlin</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.9.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.module</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jackson-module-mrbean</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.9.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.module</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jackson-module-osgi</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.9.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.module</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jackson-module-parameter-names</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.9.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.module</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jackson-module-paranamer</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.9.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.module</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jackson-module-scala_2.10</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.9.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.module</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jackson-module-scala_2.11</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.9.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.fasterxml.jackson.module</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jackson-module-scala_2.12</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.9.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.github.ben-manes.caffeine</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">caffeine</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.6.2</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.github.ben-manes.caffeine</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">guava</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.6.2</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.github.ben-manes.caffeine</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jcache</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.6.2</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.github.ben-manes.caffeine</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">simulator</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.6.2</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.github.mxab.thymeleaf.extras</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">thymeleaf-extras-data-attribute</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.0.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.google.appengine</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">appengine-api-1.0-sdk</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.9.68</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.google.code.gson</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">gson</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.8.5</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.h2database</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">h2</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.4.197</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.hazelcast</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">hazelcast</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.11</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.hazelcast</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">hazelcast-client</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.11</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.hazelcast</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">hazelcast-hibernate52</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.2.3</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.hazelcast</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">hazelcast-spring</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.11</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.jayway.jsonpath</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">json-path</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.4.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.jayway.jsonpath</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">json-path-assert</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.4.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.microsoft.sqlserver</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">mssql-jdbc</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>6.4.0.jre8</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.querydsl</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">querydsl-apt</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.2.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.querydsl</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">querydsl-collections</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.2.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.querydsl</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">querydsl-core</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.2.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.querydsl</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">querydsl-jpa</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.2.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.querydsl</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">querydsl-mongodb</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.2.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.rabbitmq</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">amqp-client</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.4.3</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.samskivert</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jmustache</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.14</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.sendgrid</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">sendgrid-java</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.3.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.sun.mail</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">javax.mail</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.6.2</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.sun.xml.messaging.saaj</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">saaj-impl</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.5.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.timgroup</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">java-statsd-client</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.1.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.unboundid</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">unboundid-ldapsdk</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.0.9</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">com.zaxxer</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">HikariCP</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.2.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">commons-codec</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">commons-codec</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.11</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">commons-pool</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">commons-pool</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.6</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">de.flapdoodle.embed</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">de.flapdoodle.embed.mongo</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">dom4j</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">dom4j</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.6.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.dropwizard.metrics</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">metrics-annotation</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.0.3</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.dropwizard.metrics</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">metrics-core</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.0.3</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.dropwizard.metrics</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">metrics-ehcache</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.0.3</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.dropwizard.metrics</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">metrics-graphite</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.0.3</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.dropwizard.metrics</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">metrics-healthchecks</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.0.3</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.dropwizard.metrics</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">metrics-httpasyncclient</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.0.3</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.dropwizard.metrics</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">metrics-jdbi</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.0.3</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.dropwizard.metrics</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">metrics-jersey</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.0.3</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.dropwizard.metrics</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">metrics-jersey2</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.0.3</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.dropwizard.metrics</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">metrics-jetty8</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.0.3</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.dropwizard.metrics</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">metrics-jetty9</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.0.3</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.dropwizard.metrics</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">metrics-jetty9-legacy</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.0.3</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.dropwizard.metrics</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">metrics-jmx</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.0.3</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.dropwizard.metrics</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">metrics-json</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.0.3</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.dropwizard.metrics</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">metrics-jvm</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.0.3</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.dropwizard.metrics</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">metrics-log4j</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.0.3</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.dropwizard.metrics</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">metrics-log4j2</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.0.3</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.dropwizard.metrics</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">metrics-logback</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.0.3</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.dropwizard.metrics</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">metrics-servlet</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.0.3</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.dropwizard.metrics</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">metrics-servlets</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.0.3</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.lettuce</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">lettuce-core</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.3.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.micrometer</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">micrometer-core</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.1.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.micrometer</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">micrometer-jersey2</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.1.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.micrometer</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">micrometer-registry-appoptics</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.1.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.micrometer</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">micrometer-registry-atlas</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.1.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.micrometer</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">micrometer-registry-azure-monitor</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.1.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.micrometer</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">micrometer-registry-cloudwatch</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.1.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.micrometer</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">micrometer-registry-datadog</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.1.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.micrometer</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">micrometer-registry-dynatrace</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.1.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.micrometer</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">micrometer-registry-elastic</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.1.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.micrometer</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">micrometer-registry-ganglia</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.1.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.micrometer</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">micrometer-registry-graphite</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.1.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.micrometer</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">micrometer-registry-humio</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.1.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.micrometer</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">micrometer-registry-influx</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.1.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.micrometer</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">micrometer-registry-jmx</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.1.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.micrometer</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">micrometer-registry-kairos</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.1.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.micrometer</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">micrometer-registry-new-relic</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.1.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.micrometer</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">micrometer-registry-prometheus</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.1.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.micrometer</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">micrometer-registry-signalfx</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.1.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.micrometer</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">micrometer-registry-statsd</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.1.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.micrometer</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">micrometer-registry-wavefront</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.1.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.micrometer</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">micrometer-test</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.1.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.netty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">netty-all</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.1.31.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.netty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">netty-buffer</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.1.31.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.netty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">netty-codec</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.1.31.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.netty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">netty-codec-dns</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.1.31.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.netty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">netty-codec-haproxy</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.1.31.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.netty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">netty-codec-http</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.1.31.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.netty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">netty-codec-http2</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.1.31.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.netty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">netty-codec-memcache</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.1.31.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.netty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">netty-codec-mqtt</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.1.31.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.netty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">netty-codec-redis</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.1.31.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.netty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">netty-codec-smtp</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.1.31.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.netty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">netty-codec-socks</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.1.31.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.netty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">netty-codec-stomp</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.1.31.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.netty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">netty-codec-xml</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.1.31.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.netty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">netty-common</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.1.31.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.netty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">netty-dev-tools</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.1.31.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.netty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">netty-example</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.1.31.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.netty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">netty-handler</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.1.31.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.netty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">netty-handler-proxy</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.1.31.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.netty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">netty-resolver</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.1.31.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.netty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">netty-resolver-dns</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.1.31.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.netty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">netty-tcnative-boringssl-static</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.0.20.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.netty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">netty-transport</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.1.31.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.netty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">netty-transport-native-epoll</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.1.31.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.netty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">netty-transport-native-kqueue</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.1.31.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.netty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">netty-transport-native-unix-common</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.1.31.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.netty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">netty-transport-rxtx</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.1.31.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.netty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">netty-transport-sctp</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.1.31.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.netty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">netty-transport-udt</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.1.31.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.projectreactor</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">reactor-core</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.2.3.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.projectreactor</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">reactor-test</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.2.3.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.projectreactor.addons</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">reactor-adapter</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.2.0.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.projectreactor.addons</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">reactor-extra</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.2.0.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.projectreactor.addons</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">reactor-logback</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.2.0.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.projectreactor.kafka</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">reactor-kafka</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.1.0.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.projectreactor.netty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">reactor-netty</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>0.8.3.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.prometheus</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">simpleclient_pushgateway</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>0.5.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.reactivex</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">rxjava</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.3.8</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.reactivex</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">rxjava-reactive-streams</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.2.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.reactivex.rxjava2</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">rxjava</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.2.4</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.rest-assured</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">json-path</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.1.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.rest-assured</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">json-schema-validator</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.1.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.rest-assured</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">rest-assured</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.1.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.rest-assured</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">scala-support</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.1.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.rest-assured</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-mock-mvc</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.1.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.rest-assured</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">xml-path</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.1.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.searchbox</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jest</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>6.3.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.undertow</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">undertow-core</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.0.16.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.undertow</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">undertow-servlet</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.0.16.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">io.undertow</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">undertow-websockets-jsr</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.0.16.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">javax.activation</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">javax.activation-api</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.2.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">javax.annotation</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">javax.annotation-api</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.3.2</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">javax.cache</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">cache-api</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.1.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">javax.jms</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">javax.jms-api</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.0.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">javax.json</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">javax.json-api</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.1.4</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">javax.json.bind</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">javax.json.bind-api</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">javax.mail</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">javax.mail-api</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.6.2</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">javax.money</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">money-api</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.0.3</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">javax.persistence</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">javax.persistence-api</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.2</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">javax.servlet</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">javax.servlet-api</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.0.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">javax.servlet</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jstl</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.2</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">javax.transaction</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">javax.transaction-api</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.3</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">javax.validation</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">validation-api</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.0.1.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">javax.websocket</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">javax.websocket-api</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">javax.xml.bind</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jaxb-api</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.3.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">javax.xml.ws</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jaxws-api</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.3.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jaxen</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jaxen</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.1.6</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">joda-time</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">joda-time</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.10.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">junit</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">junit</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.12</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">mysql</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">mysql-connector-java</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>8.0.13</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">net.bytebuddy</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">byte-buddy</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.9.5</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">net.bytebuddy</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">byte-buddy-agent</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.9.5</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">net.java.dev.jna</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jna</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.5.2</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">net.java.dev.jna</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jna-platform</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.5.2</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">net.sf.ehcache</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">ehcache</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.10.6</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">net.sourceforge.htmlunit</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">htmlunit</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.33</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">net.sourceforge.jtds</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jtds</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.3.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">net.sourceforge.nekohtml</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">nekohtml</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.9.22</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">nz.net.ultraq.thymeleaf</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">thymeleaf-layout-dialect</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.3.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.activemq</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">activemq-amqp</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.15.8</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.activemq</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">activemq-blueprint</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.15.8</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.activemq</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">activemq-broker</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.15.8</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.activemq</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">activemq-camel</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.15.8</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.activemq</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">activemq-client</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.15.8</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.activemq</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">activemq-console</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.15.8</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.activemq</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">activemq-http</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.15.8</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.activemq</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">activemq-jaas</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.15.8</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.activemq</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">activemq-jdbc-store</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.15.8</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.activemq</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">activemq-jms-pool</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.15.8</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.activemq</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">activemq-kahadb-store</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.15.8</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.activemq</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">activemq-karaf</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.15.8</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.activemq</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">activemq-leveldb-store</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.15.8</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.activemq</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">activemq-log4j-appender</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.15.8</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.activemq</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">activemq-mqtt</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.15.8</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.activemq</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">activemq-openwire-generator</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.15.8</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.activemq</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">activemq-openwire-legacy</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.15.8</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.activemq</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">activemq-osgi</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.15.8</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.activemq</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">activemq-partition</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.15.8</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.activemq</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">activemq-pool</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.15.8</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.activemq</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">activemq-ra</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.15.8</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.activemq</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">activemq-run</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.15.8</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.activemq</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">activemq-runtime-config</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.15.8</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.activemq</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">activemq-shiro</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.15.8</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.activemq</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">activemq-spring</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.15.8</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.activemq</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">activemq-stomp</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.15.8</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.activemq</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">activemq-web</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.15.8</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.activemq</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">artemis-amqp-protocol</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.6.3</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.activemq</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">artemis-commons</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.6.3</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.activemq</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">artemis-core-client</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.6.3</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.activemq</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">artemis-jms-client</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.6.3</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.activemq</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">artemis-jms-server</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.6.3</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.activemq</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">artemis-journal</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.6.3</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.activemq</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">artemis-native</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.6.3</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.activemq</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">artemis-selector</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.6.3</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.activemq</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">artemis-server</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.6.3</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.activemq</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">artemis-service-extensions</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.6.3</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.commons</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">commons-dbcp2</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.5.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.commons</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">commons-lang3</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.8.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.commons</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">commons-pool2</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.6.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.derby</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">derby</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>10.14.2.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.httpcomponents</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">fluent-hc</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.5.6</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.httpcomponents</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">httpasyncclient</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.1.4</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.httpcomponents</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">httpclient</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.5.6</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.httpcomponents</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">httpclient-cache</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.5.6</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.httpcomponents</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">httpclient-osgi</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.5.6</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.httpcomponents</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">httpclient-win</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.5.6</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.httpcomponents</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">httpcore</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.4.10</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.httpcomponents</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">httpcore-nio</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.4.10</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.httpcomponents</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">httpmime</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.5.6</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.johnzon</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">johnzon-core</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.1.10</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.johnzon</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">johnzon-jaxrs</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.1.10</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.johnzon</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">johnzon-jsonb</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.1.10</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.johnzon</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">johnzon-jsonb-extras</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.1.10</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.johnzon</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">johnzon-jsonschema</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.1.10</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.johnzon</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">johnzon-mapper</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.1.10</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.johnzon</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">johnzon-websocket</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.1.10</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.kafka</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">connect-api</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.0.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.kafka</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">connect-file</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.0.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.kafka</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">connect-json</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.0.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.kafka</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">connect-runtime</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.0.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.kafka</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">connect-transforms</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.0.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.kafka</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">kafka_2.11</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.0.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.kafka</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">kafka_2.12</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.0.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.kafka</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">kafka-clients</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.0.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.kafka</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">kafka-log4j-appender</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.0.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.kafka</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">kafka-streams</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.0.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.kafka</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">kafka-tools</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.0.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.logging.log4j</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">log4j-1.2-api</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.11.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.logging.log4j</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">log4j-api</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.11.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.logging.log4j</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">log4j-cassandra</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.11.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.logging.log4j</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">log4j-core</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.11.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.logging.log4j</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">log4j-couchdb</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.11.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.logging.log4j</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">log4j-flume-ng</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.11.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.logging.log4j</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">log4j-iostreams</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.11.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.logging.log4j</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">log4j-jcl</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.11.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.logging.log4j</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">log4j-jmx-gui</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.11.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.logging.log4j</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">log4j-jpa</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.11.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.logging.log4j</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">log4j-jul</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.11.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.logging.log4j</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">log4j-liquibase</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.11.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.logging.log4j</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">log4j-mongodb2</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.11.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.logging.log4j</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">log4j-mongodb3</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.11.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.logging.log4j</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">log4j-slf4j-impl</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.11.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.logging.log4j</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">log4j-taglib</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.11.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.logging.log4j</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">log4j-to-slf4j</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.11.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.logging.log4j</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">log4j-web</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.11.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.solr</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">solr-analysis-extras</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>7.4.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.solr</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">solr-analytics</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>7.4.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.solr</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">solr-cell</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>7.4.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.solr</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">solr-clustering</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>7.4.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.solr</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">solr-core</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>7.4.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.solr</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">solr-dataimporthandler</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>7.4.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.solr</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">solr-dataimporthandler-extras</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>7.4.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.solr</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">solr-langid</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>7.4.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.solr</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">solr-ltr</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>7.4.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.solr</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">solr-solrj</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>7.4.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.solr</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">solr-test-framework</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>7.4.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.solr</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">solr-uima</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>7.4.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.solr</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">solr-velocity</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>7.4.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.tomcat</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">tomcat-annotations-api</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.0.13</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.tomcat</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">tomcat-catalina-jmx-remote</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.0.13</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.tomcat</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">tomcat-jdbc</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.0.13</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.tomcat</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">tomcat-jsp-api</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.0.13</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.tomcat.embed</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">tomcat-embed-core</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.0.13</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.tomcat.embed</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">tomcat-embed-el</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.0.13</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.tomcat.embed</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">tomcat-embed-jasper</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.0.13</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.apache.tomcat.embed</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">tomcat-embed-websocket</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.0.13</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.aspectj</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">aspectjrt</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.9.2</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.aspectj</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">aspectjtools</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.9.2</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.aspectj</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">aspectjweaver</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.9.2</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.assertj</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">assertj-core</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.11.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.codehaus.btm</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">btm</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.4</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.codehaus.groovy</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">groovy</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.5.4</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.codehaus.groovy</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">groovy-ant</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.5.4</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.codehaus.groovy</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">groovy-bsf</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.5.4</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.codehaus.groovy</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">groovy-console</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.5.4</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.codehaus.groovy</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">groovy-docgenerator</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.5.4</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.codehaus.groovy</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">groovy-groovydoc</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.5.4</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.codehaus.groovy</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">groovy-groovysh</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.5.4</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.codehaus.groovy</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">groovy-jmx</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.5.4</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.codehaus.groovy</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">groovy-json</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.5.4</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.codehaus.groovy</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">groovy-jsr223</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.5.4</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.codehaus.groovy</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">groovy-nio</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.5.4</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.codehaus.groovy</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">groovy-servlet</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.5.4</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.codehaus.groovy</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">groovy-sql</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.5.4</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.codehaus.groovy</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">groovy-swing</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.5.4</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.codehaus.groovy</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">groovy-templates</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.5.4</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.codehaus.groovy</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">groovy-test</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.5.4</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.codehaus.groovy</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">groovy-testng</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.5.4</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.codehaus.groovy</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">groovy-xml</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.5.4</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.codehaus.janino</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">janino</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.0.11</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">apache-jsp</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">apache-jstl</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jetty-alpn-client</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jetty-alpn-conscrypt-client</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jetty-alpn-conscrypt-server</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jetty-alpn-java-client</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jetty-alpn-java-server</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jetty-alpn-openjdk8-client</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jetty-alpn-openjdk8-server</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jetty-alpn-server</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jetty-annotations</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jetty-ant</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jetty-client</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jetty-continuation</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jetty-deploy</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jetty-distribution</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jetty-hazelcast</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jetty-home</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jetty-http</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jetty-http-spi</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jetty-infinispan</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jetty-io</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jetty-jaas</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jetty-jaspi</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jetty-jmx</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jetty-jndi</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jetty-nosql</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jetty-plus</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jetty-proxy</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jetty-quickstart</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jetty-reactive-httpclient</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.0.2</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jetty-rewrite</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jetty-security</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jetty-server</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jetty-servlet</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jetty-servlets</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jetty-spring</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jetty-unixsocket</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jetty-util</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jetty-util-ajax</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jetty-webapp</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jetty-xml</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty.cdi</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">cdi-core</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty.cdi</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">cdi-servlet</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty.fcgi</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">fcgi-client</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty.fcgi</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">fcgi-server</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty.gcloud</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jetty-gcloud-session-manager</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty.http2</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">http2-client</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty.http2</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">http2-common</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty.http2</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">http2-hpack</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty.http2</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">http2-http-client-transport</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty.http2</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">http2-server</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty.memcached</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jetty-memcached-sessions</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty.orbit</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">javax.servlet.jsp</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.2.0.v201112011158</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty.osgi</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jetty-httpservice</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty.osgi</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jetty-osgi-boot</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty.osgi</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jetty-osgi-boot-jsp</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty.osgi</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jetty-osgi-boot-warurl</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty.websocket</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">javax-websocket-client-impl</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty.websocket</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">javax-websocket-server-impl</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty.websocket</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">websocket-api</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty.websocket</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">websocket-client</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty.websocket</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">websocket-common</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty.websocket</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">websocket-server</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.eclipse.jetty.websocket</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">websocket-servlet</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.12.v20180830</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.ehcache</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">ehcache</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.6.2</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.ehcache</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">ehcache-clustered</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.6.2</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.ehcache</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">ehcache-transactions</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.6.2</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.elasticsearch</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">elasticsearch</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>6.4.3</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.elasticsearch.client</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">elasticsearch-rest-client</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>6.4.3</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.elasticsearch.client</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">elasticsearch-rest-high-level-client</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>6.4.3</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.elasticsearch.client</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">transport</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>6.4.3</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.elasticsearch.distribution.integ-test-zip</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">elasticsearch</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>6.4.3</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.elasticsearch.plugin</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">transport-netty4-client</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>6.4.3</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.firebirdsql.jdbc</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jaybird-jdk17</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.0.5</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.firebirdsql.jdbc</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jaybird-jdk18</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.0.5</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.flywaydb</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">flyway-core</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.2.3</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.freemarker</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">freemarker</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.3.28</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">javax.el</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.0.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jaxb</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jaxb-runtime</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.3.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.bundles</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jaxrs-ri</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.connectors</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-apache-connector</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.connectors</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-grizzly-connector</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.connectors</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-jdk-connector</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.connectors</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-jetty-connector</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.connectors</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-netty-connector</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.containers</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-container-grizzly2-http</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.containers</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-container-grizzly2-servlet</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.containers</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-container-jdk-http</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.containers</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-container-jetty-http</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.containers</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-container-jetty-servlet</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.containers</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-container-netty-http</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.containers</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-container-servlet</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.containers</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-container-servlet-core</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.containers</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-container-simple-http</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.containers.glassfish</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-gf-ejb</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.core</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-client</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.core</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-common</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.core</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-server</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.ext</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-bean-validation</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.ext</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-declarative-linking</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.ext</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-entity-filtering</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.ext</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-metainf-services</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.ext</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-mvc</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.ext</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-mvc-bean-validation</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.ext</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-mvc-freemarker</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.ext</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-mvc-jsp</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.ext</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-mvc-mustache</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.ext</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-proxy-client</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.ext</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-servlet-portability</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.ext</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-spring4</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.ext</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-wadl-doclet</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.ext.cdi</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-cdi1x</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.ext.cdi</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-cdi1x-ban-custom-hk2-binding</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.ext.cdi</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-cdi1x-servlet</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.ext.cdi</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-cdi1x-transaction</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.ext.cdi</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-cdi1x-validation</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.ext.cdi</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-weld2-se</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.ext.rx</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-rx-client-guava</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.ext.rx</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-rx-client-rxjava</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.ext.rx</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-rx-client-rxjava2</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.inject</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-cdi2-se</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.inject</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-hk2</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.media</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-media-jaxb</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.media</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-media-json-binding</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.media</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-media-json-jackson</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.media</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-media-json-jackson1</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.media</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-media-json-jettison</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.media</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-media-json-processing</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.media</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-media-kryo</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.media</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-media-moxy</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.media</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-media-multipart</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.media</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-media-sse</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.security</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">oauth1-client</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.security</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">oauth1-server</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.security</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">oauth1-signature</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.security</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">oauth2-client</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.test-framework</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-test-framework-core</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.test-framework</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-test-framework-util</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.test-framework.providers</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-test-framework-provider-bundle</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.test-framework.providers</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-test-framework-provider-external</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.test-framework.providers</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-test-framework-provider-grizzly2</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.test-framework.providers</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-test-framework-provider-inmemory</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.test-framework.providers</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-test-framework-provider-jdk-http</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.test-framework.providers</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-test-framework-provider-jetty</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.glassfish.jersey.test-framework.providers</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jersey-test-framework-provider-simple</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.27</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.hamcrest</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">hamcrest-core</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.3</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.hamcrest</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">hamcrest-library</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.3</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.hibernate</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">hibernate-c3p0</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.3.7.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.hibernate</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">hibernate-core</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.3.7.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.hibernate</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">hibernate-ehcache</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.3.7.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.hibernate</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">hibernate-entitymanager</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.3.7.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.hibernate</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">hibernate-envers</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.3.7.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.hibernate</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">hibernate-hikaricp</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.3.7.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.hibernate</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">hibernate-java8</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.3.7.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.hibernate</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">hibernate-jcache</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.3.7.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.hibernate</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">hibernate-jpamodelgen</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.3.7.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.hibernate</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">hibernate-proxool</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.3.7.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.hibernate</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">hibernate-spatial</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.3.7.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.hibernate</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">hibernate-testing</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.3.7.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.hibernate.validator</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">hibernate-validator</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>6.0.13.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.hibernate.validator</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">hibernate-validator-annotation-processor</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>6.0.13.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.hsqldb</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">hsqldb</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.4.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.infinispan</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">infinispan-cachestore-jdbc</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.3.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.infinispan</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">infinispan-cachestore-jpa</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.3.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.infinispan</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">infinispan-cachestore-leveldb</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.3.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.infinispan</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">infinispan-cachestore-remote</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.3.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.infinispan</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">infinispan-cachestore-rest</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.3.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.infinispan</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">infinispan-cachestore-rocksdb</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.3.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.infinispan</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">infinispan-cdi-common</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.3.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.infinispan</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">infinispan-cdi-embedded</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.3.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.infinispan</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">infinispan-cdi-remote</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.3.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.infinispan</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">infinispan-client-hotrod</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.3.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.infinispan</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">infinispan-cloud</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.3.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.infinispan</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">infinispan-clustered-counter</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.3.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.infinispan</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">infinispan-clustered-lock</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.3.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.infinispan</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">infinispan-commons</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.3.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.infinispan</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">infinispan-core</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.3.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.infinispan</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">infinispan-directory-provider</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.3.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.infinispan</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">infinispan-hibernate-cache-v53</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.3.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.infinispan</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">infinispan-jcache</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.3.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.infinispan</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">infinispan-jcache-commons</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.3.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.infinispan</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">infinispan-jcache-remote</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.3.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.infinispan</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">infinispan-lucene-directory</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.3.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.infinispan</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">infinispan-objectfilter</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.3.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.infinispan</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">infinispan-osgi</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.3.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.infinispan</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">infinispan-persistence-cli</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.3.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.infinispan</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">infinispan-persistence-soft-index</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.3.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.infinispan</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">infinispan-query</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.3.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.infinispan</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">infinispan-query-dsl</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.3.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.infinispan</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">infinispan-remote-query-client</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.3.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.infinispan</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">infinispan-remote-query-server</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.3.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.infinispan</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">infinispan-scripting</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.3.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.infinispan</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">infinispan-server-core</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.3.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.infinispan</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">infinispan-server-hotrod</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.3.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.infinispan</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">infinispan-server-memcached</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.3.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.infinispan</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">infinispan-server-router</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.3.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.infinispan</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">infinispan-spring4-common</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.3.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.infinispan</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">infinispan-spring4-embedded</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.3.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.infinispan</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">infinispan-spring4-remote</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.3.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.infinispan</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">infinispan-tasks</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.3.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.infinispan</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">infinispan-tasks-api</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.3.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.infinispan</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">infinispan-tools</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.3.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.infinispan</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">infinispan-tree</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>9.4.3.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.influxdb</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">influxdb-java</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.14</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.jboss</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jboss-transaction-spi</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>7.6.0.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.jboss.logging</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jboss-logging</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.3.2.Final</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.jdom</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jdom2</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.0.6</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.jetbrains.kotlin</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">kotlin-reflect</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.2.71</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.jetbrains.kotlin</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">kotlin-runtime</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.2.71</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.jetbrains.kotlin</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">kotlin-stdlib</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.2.71</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.jetbrains.kotlin</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">kotlin-stdlib-jdk7</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.2.71</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.jetbrains.kotlin</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">kotlin-stdlib-jdk8</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.2.71</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.jetbrains.kotlin</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">kotlin-stdlib-jre7</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.2.71</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.jetbrains.kotlin</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">kotlin-stdlib-jre8</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.2.71</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.jolokia</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jolokia-core</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.6.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.jooq</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jooq</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.11.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.jooq</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jooq-codegen</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.11.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.jooq</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jooq-meta</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.11.7</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.junit.jupiter</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">junit-jupiter-api</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.3.2</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.junit.jupiter</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">junit-jupiter-engine</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.3.2</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.junit.jupiter</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">junit-jupiter-migrationsupport</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.3.2</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.junit.jupiter</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">junit-jupiter-params</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.3.2</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.junit.platform</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">junit-platform-commons</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.3.2</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.junit.platform</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">junit-platform-console</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.3.2</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.junit.platform</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">junit-platform-engine</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.3.2</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.junit.platform</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">junit-platform-launcher</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.3.2</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.junit.platform</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">junit-platform-runner</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.3.2</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.junit.platform</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">junit-platform-suite-api</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.3.2</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.junit.platform</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">junit-platform-surefire-provider</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.3.2</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.junit.vintage</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">junit-vintage-engine</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.3.2</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.jvnet.mimepull</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">mimepull</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.9.10</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.liquibase</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">liquibase-core</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.6.2</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.mariadb.jdbc</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">mariadb-java-client</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.3.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.messaginghub</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">pooled-jms</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.0.3</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.mockito</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">mockito-core</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.23.4</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.mockito</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">mockito-inline</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.23.4</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.mockito</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">mockito-junit-jupiter</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.23.4</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.mongodb</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">bson</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.8.2</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.mongodb</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">mongodb-driver</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.8.2</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.mongodb</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">mongodb-driver-async</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.8.2</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.mongodb</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">mongodb-driver-core</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.8.2</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.mongodb</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">mongodb-driver-reactivestreams</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.9.2</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.mongodb</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">mongo-java-driver</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.8.2</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.mortbay.jasper</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">apache-el</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>8.5.33.1</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.neo4j</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">neo4j-ogm-api</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.1.5</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.neo4j</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">neo4j-ogm-bolt-driver</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.1.5</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.neo4j</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">neo4j-ogm-core</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.1.5</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.neo4j</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">neo4j-ogm-embedded-driver</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.1.5</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.neo4j</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">neo4j-ogm-http-driver</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.1.5</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.postgresql</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">postgresql</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>42.2.5</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.projectlombok</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">lombok</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.18.4</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.quartz-scheduler</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">quartz</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.3.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.quartz-scheduler</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">quartz-jobs</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.3.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.reactivestreams</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">reactive-streams</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.0.2</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.seleniumhq.selenium</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">htmlunit-driver</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.33.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.seleniumhq.selenium</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">selenium-api</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.14.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.seleniumhq.selenium</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">selenium-chrome-driver</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.14.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.seleniumhq.selenium</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">selenium-edge-driver</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.14.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.seleniumhq.selenium</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">selenium-firefox-driver</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.14.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.seleniumhq.selenium</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">selenium-ie-driver</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.14.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.seleniumhq.selenium</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">selenium-java</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.14.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.seleniumhq.selenium</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">selenium-opera-driver</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.14.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.seleniumhq.selenium</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">selenium-remote-driver</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.14.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.seleniumhq.selenium</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">selenium-safari-driver</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.14.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.seleniumhq.selenium</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">selenium-support</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.14.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.skyscreamer</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jsonassert</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.5.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.slf4j</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jcl-over-slf4j</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.7.25</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.slf4j</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jul-to-slf4j</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.7.25</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.slf4j</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">log4j-over-slf4j</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.7.25</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.slf4j</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">slf4j-api</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.7.25</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.slf4j</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">slf4j-ext</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.7.25</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.slf4j</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">slf4j-jcl</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.7.25</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.slf4j</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">slf4j-jdk14</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.7.25</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.slf4j</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">slf4j-log4j12</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.7.25</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.slf4j</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">slf4j-nop</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.7.25</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.slf4j</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">slf4j-simple</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.7.25</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-aop</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.3.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-aspects</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.3.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-beans</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.3.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-context</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.3.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-context-indexer</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.3.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-context-support</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.3.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-core</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.3.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-expression</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.3.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-instrument</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.3.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-jcl</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.3.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-jdbc</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.3.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-jms</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.3.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-messaging</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.3.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-orm</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.3.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-oxm</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.3.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-test</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.3.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-tx</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.3.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-web</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.3.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-webflux</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.3.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-webmvc</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.3.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-websocket</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.3.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.amqp</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-amqp</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.2.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.amqp</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-rabbit</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.2.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.amqp</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-rabbit-junit</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.2.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.amqp</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-rabbit-test</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.2.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.batch</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-batch-core</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.1.0.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.batch</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-batch-infrastructure</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.1.0.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.batch</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-batch-integration</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.1.0.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.batch</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-batch-test</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.1.0.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-actuator</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-actuator-autoconfigure</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-autoconfigure</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-autoconfigure-processor</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-configuration-metadata</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-configuration-processor</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-devtools</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-loader</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-loader-tools</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-properties-migrator</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-activemq</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-actuator</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-amqp</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-aop</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-artemis</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-batch</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-cache</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-cloud-connectors</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-data-cassandra</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-data-cassandra-reactive</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-data-couchbase</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-data-couchbase-reactive</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-data-elasticsearch</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-data-jdbc</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-data-jpa</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-data-ldap</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-data-mongodb</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-data-mongodb-reactive</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-data-neo4j</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-data-redis</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-data-redis-reactive</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-data-rest</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-data-solr</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-freemarker</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-groovy-templates</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-hateoas</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-integration</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-jdbc</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-jersey</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-jetty</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-jooq</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-json</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-jta-atomikos</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-jta-bitronix</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-log4j2</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-logging</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-mail</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-mustache</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-oauth2-client</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-oauth2-resource-server</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-quartz</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-reactor-netty</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-security</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-test</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-thymeleaf</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-tomcat</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-undertow</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-validation</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-web</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-webflux</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-web-services</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-starter-websocket</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-test</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.boot</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-boot-test-autoconfigure</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.cloud</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-cloud-cloudfoundry-connector</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.0.4.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.cloud</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-cloud-connectors-core</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.0.4.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.cloud</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-cloud-heroku-connector</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.0.4.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.cloud</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-cloud-localconfig-connector</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.0.4.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.cloud</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-cloud-spring-service-connector</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.0.4.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.data</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-data-cassandra</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.3.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.data</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-data-commons</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.3.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.data</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-data-couchbase</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.1.3.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.data</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-data-elasticsearch</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.1.3.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.data</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-data-envers</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.3.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.data</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-data-gemfire</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.3.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.data</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-data-geode</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.3.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.data</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-data-jdbc</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.0.3.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.data</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-data-jpa</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.3.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.data</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-data-keyvalue</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.3.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.data</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-data-ldap</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.3.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.data</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-data-mongodb</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.3.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.data</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-data-mongodb-cross-store</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.3.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.data</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-data-neo4j</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.3.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.data</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-data-redis</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.3.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.data</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-data-rest-core</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.1.3.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.data</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-data-rest-hal-browser</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.1.3.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.data</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-data-rest-webmvc</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.1.3.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.data</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-data-solr</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>4.0.3.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.hateoas</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-hateoas</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>0.25.0.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.integration</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-integration-amqp</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.integration</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-integration-core</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.integration</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-integration-event</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.integration</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-integration-feed</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.integration</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-integration-file</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.integration</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-integration-ftp</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.integration</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-integration-gemfire</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.integration</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-integration-groovy</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.integration</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-integration-http</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.integration</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-integration-ip</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.integration</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-integration-jdbc</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.integration</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-integration-jms</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.integration</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-integration-jmx</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.integration</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-integration-jpa</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.integration</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-integration-mail</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.integration</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-integration-mongodb</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.integration</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-integration-mqtt</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.integration</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-integration-redis</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.integration</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-integration-rmi</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.integration</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-integration-scripting</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.integration</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-integration-security</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.integration</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-integration-sftp</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.integration</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-integration-stomp</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.integration</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-integration-stream</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.integration</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-integration-syslog</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.integration</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-integration-test</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.integration</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-integration-test-support</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.integration</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-integration-webflux</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.integration</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-integration-websocket</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.integration</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-integration-ws</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.integration</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-integration-xml</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.integration</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-integration-xmpp</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.integration</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-integration-zookeeper</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.kafka</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-kafka</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.2.2.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.kafka</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-kafka-test</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.2.2.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.ldap</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-ldap-core</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.3.2.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.ldap</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-ldap-core-tiger</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.3.2.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.ldap</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-ldap-ldif-batch</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.3.2.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.ldap</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-ldap-ldif-core</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.3.2.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.ldap</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-ldap-odm</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.3.2.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.ldap</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-ldap-test</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.3.2.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.plugin</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-plugin-core</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.2.0.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.plugin</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-plugin-metadata</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.2.0.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.restdocs</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-restdocs-asciidoctor</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.0.2.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.restdocs</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-restdocs-core</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.0.2.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.restdocs</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-restdocs-mockmvc</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.0.2.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.restdocs</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-restdocs-restassured</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.0.2.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.restdocs</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-restdocs-webtestclient</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.0.2.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.retry</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-retry</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.2.2.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.security</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-security-acl</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.2.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.security</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-security-aspects</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.2.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.security</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-security-cas</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.2.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.security</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-security-config</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.2.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.security</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-security-core</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.2.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.security</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-security-crypto</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.2.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.security</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-security-data</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.2.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.security</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-security-ldap</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.2.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.security</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-security-messaging</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.2.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.security</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-security-oauth2-client</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.2.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.security</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-security-oauth2-core</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.2.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.security</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-security-oauth2-jose</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.2.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.security</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-security-oauth2-resource-server</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.2.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.security</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-security-openid</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.2.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.security</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-security-remoting</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.2.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.security</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-security-taglibs</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.2.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.security</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-security-test</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.2.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.security</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-security-web</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>5.1.2.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.session</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-session-core</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.2.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.session</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-session-data-gemfire</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.session</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-session-data-geode</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.session</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-session-data-mongodb</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.1.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.session</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-session-data-redis</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.2.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.session</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-session-hazelcast</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.2.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.session</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-session-jdbc</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.1.2.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.ws</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-ws-core</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.0.4.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.ws</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-ws-security</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.0.4.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.ws</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-ws-support</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.0.4.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.ws</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-ws-test</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.0.4.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.springframework.ws</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">spring-xml</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.0.4.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.synchronoss.cloud</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">nio-multipart-parser</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.1.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.thymeleaf</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">thymeleaf</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.0.11.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.thymeleaf</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">thymeleaf-spring5</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.0.11.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.thymeleaf.extras</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">thymeleaf-extras-java8time</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.0.2.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.thymeleaf.extras</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">thymeleaf-extras-springsecurity5</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.0.4.RELEASE</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.webjars</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">hal-browser</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3325375</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.webjars</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">webjars-locator-core</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>0.35</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.xerial</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">sqlite-jdbc</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>3.25.2</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.xmlunit</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">xmlunit-core</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.6.2</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.xmlunit</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">xmlunit-legacy</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.6.2</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.xmlunit</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">xmlunit-matchers</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.6.2</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">org.yaml</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">snakeyaml</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.23</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">redis.clients</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">jedis</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>2.9.0</p></td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">wsdl4j</code></p></td><td style="border-right: 1px solid ; border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">wsdl4j</code></p></td><td style="border-bottom: 1px solid ; " align="left" valign="top" class="notranslate"><p>1.6.3</p></td></tr><tr><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">xml-apis</code></p></td><td style="border-right: 1px solid ; " align="left" valign="top" class="notranslate"><p><code class="literal">xml-apis</code></p></td><td style="" align="left" valign="top" class="notranslate"><p>1.4.01</p></td></tr></tbody></table>



## END é“¾æ¥
+ [å›åˆ°ç›®å½•](../README.md)
+ [ä¸Šä¸€èŠ‚](26.md)
+ [ä¸‹ä¸€èŠ‚](28.md)
---
+ [å‚ä¸è´¡çŒ®â¤ï¸ğŸ’•ğŸ’•](https://github.com/3293172751/Block_Chain/blob/master/Git/git-contributor.md)