<template><div><ul>
<li><a href="https://github.com/3293172751" target="_blank" rel="noopener noreferrer">author<ExternalLinkIcon/></a></li>
</ul>
<h1 id="ç¬¬23èŠ‚-åœ¨çº¿è¯å…¸-è°ƒç”¨ç¬¬ä¸‰æ–¹apiæ¡ˆä¾‹" tabindex="-1"><a class="header-anchor" href="#ç¬¬23èŠ‚-åœ¨çº¿è¯å…¸-è°ƒç”¨ç¬¬ä¸‰æ–¹apiæ¡ˆä¾‹" aria-hidden="true">#</a> ç¬¬23èŠ‚ åœ¨çº¿è¯å…¸ï¼ˆè°ƒç”¨ç¬¬ä¸‰æ–¹APIæ¡ˆä¾‹ï¼‰</h1>
<ul>
<li><RouterLink to="/go-advancend/">å›åˆ°ç›®å½•</RouterLink></li>
<li><RouterLink to="/go-advancend/markdown/22.html">ä¸Šä¸€èŠ‚</RouterLink></li>
</ul>
<blockquote>
<p>â¤ï¸ğŸ’•ğŸ’•Goè¯­è¨€é«˜çº§ç¯‡ç« ,åœ¨æ­¤ä¹‹å‰å»ºè®®ä½ å…ˆäº†è§£åŸºç¡€å’Œè¿›é˜¶ç¯‡ã€‚Myblog:<a href="http://nsddd.top/" target="_blank" rel="noopener noreferrer">http://nsddd.top<ExternalLinkIcon/></a></p>
</blockquote>
<h3 id="goè¯­è¨€åŸºç¡€ç¯‡" tabindex="-1"><a class="header-anchor" href="#goè¯­è¨€åŸºç¡€ç¯‡" aria-hidden="true">#</a> <strong><a href="https://github.com/3293172751/Block_Chain/blob/master/TOC.md" target="_blank" rel="noopener noreferrer">Goè¯­è¨€åŸºç¡€ç¯‡<ExternalLinkIcon/></a></strong></h3>
<h3 id="goè¯­è¨€100ç¯‡è¿›é˜¶" tabindex="-1"><a class="header-anchor" href="#goè¯­è¨€100ç¯‡è¿›é˜¶" aria-hidden="true">#</a> <strong><a href="https://github.com/3293172751/Block_Chain/blob/master/Gomd_super/README.md" target="_blank" rel="noopener noreferrer">Goè¯­è¨€100ç¯‡è¿›é˜¶<ExternalLinkIcon/></a></strong></h3>
<hr>
<p>[TOC]</p>
<h2 id="ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#ä»‹ç»" aria-hidden="true">#</a> ä»‹ç»</h2>
<p><strong>å®ç°ä¸€ä¸ªç®€å•çš„åœ¨çº¿è¯å…¸ï¼Œä½¿ç”¨ CLI çš„å‚æ•°è°ƒç”¨ç¬¬ä¸‰æ–¹è¯å…¸å¹¶ä¸”è¿”å›ç¿»è¯‘ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š</strong></p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code><span class="token comment">#\go-by-example\simpledict\v4> go run .\main.go cloud</span>
cloud UK: <span class="token punctuation">[</span>klaud<span class="token punctuation">]</span> US: <span class="token punctuation">[</span>klaÊŠd<span class="token punctuation">]</span>
n.äº‘<span class="token punctuation">;</span>å¤§ç¾¤<span class="token punctuation">;</span><span class="token punctuation">(</span>é•œé¢<span class="token punctuation">)</span>æœ¦èƒ§<span class="token punctuation">;</span>é»‘å½±<span class="token punctuation">;</span>é˜´å½±<span class="token punctuation">;</span>ç‘•ç–µ<span class="token punctuation">;</span>å«Œç–‘<span class="token punctuation">;</span>é›†åˆ
vt.å¦‚äº‘ä¸€èˆ¬åœ°è¦†ç›–<span class="token punctuation">;</span>ä½¿é˜´æš—<span class="token punctuation">;</span>ç·æ±¡<span class="token punctuation">;</span>å¼„è„
vi.é˜´äº‘å¯†å¸ƒ<span class="token punctuation">;</span>å˜æ¨¡ç³Š
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="tdd" tabindex="-1"><a class="header-anchor" href="#tdd" aria-hidden="true">#</a> TDD</h2>
<p>[[TDD]] æ˜¯æµ‹è¯•é©±åŠ¨å¼€å‘çš„ç¼©å†™ã€‚è¿™æ˜¯ä¸€ç§è½¯ä»¶å¼€å‘æ–¹æ³•ï¼Œè¦æ±‚åœ¨ç¼–å†™ä»£ç ä¹‹å‰å…ˆç¼–å†™æµ‹è¯•ï¼Œå¹¶åœ¨ç¼–å†™ä»£ç æ—¶é‡å¤è¿è¡Œè¿™äº›æµ‹è¯•ã€‚è¿™æ ·å¯ä»¥ç¡®ä¿ä»£ç æŒ‰é¢„æœŸå·¥ä½œï¼Œå¹¶åœ¨å¼€å‘è¿‡ç¨‹ä¸­å‘ç°é—®é¢˜ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾æˆ‘ä»¬è¦ç¼–å†™ä¸€ä¸ªGoè¯­è¨€å‡½æ•°ï¼Œè¯¥å‡½æ•°æ¥å—ä¸¤ä¸ªæ•´æ•°å¹¶è¿”å›å®ƒä»¬çš„å’Œã€‚åœ¨ä½¿ç”¨TDDæ–¹æ³•å¼€å‘æ—¶ï¼Œæˆ‘ä»¬é¦–å…ˆç¼–å†™æµ‹è¯•å‡½æ•°ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<div class="language-go ext-go line-numbers-mode"><pre v-pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">TestSum</span><span class="token punctuation">(</span>t <span class="token operator">*</span>testing<span class="token punctuation">.</span>T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result <span class="token operator">:=</span> <span class="token function">Sum</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
    expected <span class="token operator">:=</span> <span class="token number">5</span>
    <span class="token keyword">if</span> result <span class="token operator">!=</span> expected <span class="token punctuation">{</span>
        t<span class="token punctuation">.</span><span class="token function">Errorf</span><span class="token punctuation">(</span><span class="token string">"Expected %d but got %d"</span><span class="token punctuation">,</span> expected<span class="token punctuation">,</span> result<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ä¸ªæµ‹è¯•å‡½æ•°ä½¿ç”¨äº†Goè¯­è¨€çš„testingåŒ…ï¼Œå®ƒæ£€æŸ¥è°ƒç”¨Sum(2,3)æ˜¯å¦è¿”å›æ­£ç¡®çš„ç»“æœã€‚</p>
<p>ç„¶åæˆ‘ä»¬ç¼–å†™Sumå‡½æ•°</p>
<div class="language-go ext-go line-numbers-mode"><pre v-pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">Sum</span><span class="token punctuation">(</span>a <span class="token builtin">int</span><span class="token punctuation">,</span> b <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ—¶æˆ‘ä»¬å¯ä»¥è¿è¡Œæµ‹è¯•ï¼Œå¦‚æœæµ‹è¯•é€šè¿‡ï¼Œåˆ™è¯´æ˜Sumå‡½æ•°æŒ‰é¢„æœŸå·¥ä½œã€‚å¦‚æœæµ‹è¯•ä¸é€šè¿‡ï¼Œåˆ™è¯´æ˜å‡½æ•°å­˜åœ¨é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦è°ƒæ•´ä»£ç å¹¶å†æ¬¡è¿è¡Œæµ‹è¯•ã€‚</p>
<p>æœ€åæˆ‘ä»¬å¯ä»¥è¿è¡Œ go test æ¥è¿è¡Œæ‰€æœ‰çš„å•å…ƒæµ‹è¯•ã€‚</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ go <span class="token builtin class-name">test</span>
PASS
ok      example/sum        <span class="token number">0</span>.002s
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç¡®ä¿ä»£ç æŒ‰é¢„æœŸå·¥ä½œï¼Œå¹¶åœ¨å¼€å‘è¿‡ç¨‹ä¸­å‘ç°é—®é¢˜ã€‚</p>
<p><strong>ä½œä¸ºä¸€ä¸ªå¼€æºçš„çˆ±å¥½è€…ï¼Œæˆ‘å–œæ¬¢åœ¨GitHub actionsè¿›è¡Œæµ‹è¯•ï¼Œåœ¨ projects ä¸Šè¿›è¡Œé¡¹ç›®è·Ÿè¸ªå’Œç®¡ç†ã€‚</strong></p>
<p>åœ¨GitHubä¸­ä½¿ç”¨ Projects å’Œ Actions æ¥å®ç°CI/CDæµç¨‹éœ€è¦å‡ ä¸ªæ­¥éª¤ã€‚</p>
<ol>
<li>åœ¨GitHubä¸Šåˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®ï¼Œæˆ–æ‰“å¼€ç°æœ‰é¡¹ç›®ã€‚</li>
<li>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º &quot;.github/workflows&quot; çš„ç›®å½•ï¼Œå¹¶åœ¨å…¶ä¸­åˆ›å»ºä¸€ä¸ª yml æ–‡ä»¶æ¥é…ç½®ä½ çš„å·¥ä½œæµç¨‹ã€‚ ä¾‹å¦‚ï¼Œä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªåä¸º &quot;ci.yml&quot; çš„æ–‡ä»¶æ¥é…ç½®æŒç»­é›†æˆå·¥ä½œæµç¨‹ã€‚</li>
<li>åœ¨ymlæ–‡ä»¶ä¸­ï¼Œä½¿ç”¨ GitHub Actions æä¾›çš„è¯­æ³•é…ç½®ä½ çš„å·¥ä½œæµç¨‹ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥é…ç½®åœ¨æ¯æ¬¡æäº¤åè¿è¡Œå•å…ƒæµ‹è¯•ï¼Œå¹¶åœ¨æµ‹è¯•é€šè¿‡åè‡ªåŠ¨éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒã€‚</li>
<li>æäº¤æ›´æ”¹å¹¶æ¨é€åˆ°GitHubã€‚</li>
<li>ä½¿ç”¨ GitHub Projects æ¥ç®¡ç†ä½ çš„é¡¹ç›®ã€‚åœ¨ GitHub ä¸Šåˆ›å»ºä¸€ä¸ªé¡¹ç›®ä»ªè¡¨æ¿ï¼Œå¹¶å°†å…¶ä¸ä½ çš„é¡¹ç›®å…³è”ã€‚ä½ å¯ä»¥ä½¿ç”¨æ­¤ä»ªè¡¨æ¿æ¥è·Ÿè¸ªé¡¹ç›®è¿›åº¦ï¼ŒæŸ¥çœ‹å¾…åŠäº‹é¡¹åˆ—è¡¨å’Œé—®é¢˜è·Ÿè¸ªã€‚</li>
<li>é€šè¿‡åœ¨ GitHub Actions ä¸­é…ç½® webhooksï¼Œå¯ä»¥è®©æ¯æ¬¡æäº¤éƒ½è‡ªåŠ¨è§¦å‘å·¥ä½œæµç¨‹ã€‚</li>
<li>åœ¨Actionsä¸­æŸ¥çœ‹æ„å»ºå’Œéƒ¨ç½²ç»“æœã€‚</li>
</ol>
<p><strong>ci.yaml æ–‡ä»¶ï¼š</strong></p>
<div class="language-yaml ext-yml line-numbers-mode"><pre v-pre class="language-yaml"><code><span class="token key atrule">name</span><span class="token punctuation">:</span> CI

<span class="token key atrule">on</span><span class="token punctuation">:</span>
  <span class="token key atrule">push</span><span class="token punctuation">:</span>
    <span class="token key atrule">branches</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> main
  <span class="token key atrule">pull_request</span><span class="token punctuation">:</span>
    <span class="token key atrule">branches</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> main

<span class="token key atrule">jobs</span><span class="token punctuation">:</span>
  <span class="token key atrule">build</span><span class="token punctuation">:</span>
    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest

    <span class="token key atrule">steps</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Checkout code
      <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@v2

    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Run tests
      <span class="token key atrule">run</span><span class="token punctuation">:</span> go test <span class="token punctuation">-</span>v ./<span class="token punctuation">...</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p>âš ï¸ å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥ä¿®æ”¹ yaml æ–‡ä»¶ï¼Œé…ç½®ä¸€ä¸ªç®€å•çš„å·¥ä½œæµç¨‹ï¼Œåœ¨æ¯æ¬¡ issue åˆ›å»ºæˆ– pull request æ—¶å°†ç›¸å…³ä¿¡æ¯å†™å…¥é¡¹ç›®ã€‚è¿™æ ·å¯ä»¥èŠ‚çœå¾ˆå¤šæ—¶é—´ï¼Œå…·ä½“ç”¨æ³•çœ‹GitHubå®˜æ–¹æ–‡æ¡£ï¼Œæˆ‘è§‰å¾—å¾ˆéº»çƒ¦ä¸æ¼”ç¤ºäº†ã€‚</p>
</blockquote>
<p><strong>å½“ç„¶ï¼Œæˆ‘ä»¬åº”è¯¥å……åˆ†åˆ©ç”¨ GitHub å¸¦ç»™æˆ‘ä»¬çš„å¸®åŠ©ï¼Œå¯¹äºæˆ‘æ¥è¯´ï¼Œå¯¹äºä¸€ä¸ªä¼˜ç§€çš„GitHubä½¿ç”¨è€…æ¥è¯´ï¼Œåœ¨å·¥ç¨‹ä»£ç å¼€æˆ˜å‰ï¼Œä½ æ˜¯å¦åº”è¯¥è€ƒè™‘ æ–‡æ¡£ã€æµ‹è¯•å…ˆè¡Œã€CI å¸®åŠ©ä½ è‡ªåŠ¨æ¨è¿›ã€‚</strong></p>
<h2 id="æµ‹è¯•è¦†ç›–ç‡-coverage" tabindex="-1"><a class="header-anchor" href="#æµ‹è¯•è¦†ç›–ç‡-coverage" aria-hidden="true">#</a> æµ‹è¯•è¦†ç›–ç‡ coverage</h2>
<p>å¯¹äº coverage æ¥è¯´ï¼Œå¯¹äºå¼€æºé¡¹ç›®æ— ç–‘æ˜¯éå¸¸é‡è¦çš„ï¼Œå¦‚ä¸‹ï¼š</p>
<p><img src="http://sm.nsddd.top/sm202301141501718.png" alt="image-20230114150113512"></p>
<p>**è¦†ç›–ç‡é«˜è¾¾ 98% çš„é¡¹ç›®ï¼Œå¿…ç„¶æ›´å— contributor å–œçˆ±ã€‚ **</p>
<p>å½“ç„¶ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œcode climateï¼ˆä»£ç å®¡æ ¸ï¼‰ä¹Ÿå¾ˆé‡è¦ï¼Œ4.0 çš„æŒ‡æ•°æ„å‘³ç€è´¨é‡çš„ä¿è¯ã€‚</p>
<blockquote>
<p>Code Climate æ˜¯ä¸€ä¸ªåœ¨çº¿ä»£ç è´¨é‡åˆ†æå¹³å°ï¼Œå¯ä»¥å¸®åŠ©æ‚¨æé«˜ä»£ç è´¨é‡å¹¶ç®¡ç†æŠ€æœ¯å€ºåŠ¡ã€‚å®ƒå¯ä»¥å¯¹æ‚¨çš„ä»£ç è¿›è¡Œé™æ€åˆ†æï¼Œä»¥æ£€æµ‹å’ŒæŠ¥å‘Šæ½œåœ¨çš„é—®é¢˜ï¼Œå¦‚ä»£ç é‡å¤ã€æ¼æ´ã€ä»£ç è¦†ç›–ç‡ç­‰ã€‚</p>
<p>Code Climate å¯ä»¥ä¸ GitHub é›†æˆï¼Œå¹¶åœ¨æ¯æ¬¡æäº¤æˆ–æ‹‰å–è¯·æ±‚æ—¶è‡ªåŠ¨è¿è¡Œåˆ†æã€‚æ‚¨å¯ä»¥åœ¨ Code Climate çš„ç½‘ç«™ä¸ŠæŸ¥çœ‹åˆ†ææŠ¥å‘Šå’Œç»Ÿè®¡æ•°æ®ï¼Œå¹¶ä½¿ç”¨å…¶ä¸­çš„å·¥å…·æ¥ç®¡ç†æ‚¨çš„ä»£ç åº“ã€‚</p>
</blockquote>
<h2 id="è·å–-api" tabindex="-1"><a class="header-anchor" href="#è·å–-api" aria-hidden="true">#</a> è·å– API</h2>
<p>é€‰æ‹© <a href="https://fanyi.caiyunapp.com" target="_blank" rel="noopener noreferrer">å½©äº‘ç§‘æŠ€<ExternalLinkIcon/></a></p>
<p><img src="http://sm.nsddd.top/sm202301141547085.png" alt="image-20230114154742796"></p>
<p><strong>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ‰¾åˆ°è‡ªå·±æƒ³è¦çš„æ•°æ®äº†ï¼š</strong></p>
<p><img src="http://sm.nsddd.top/sm202301141548925.png" alt="image-20230114154857843"></p>
<p><strong>ä¸‹ä¸€æ­¥ï¼Œæˆ‘ä»¬æƒ³åŠæ³•å» Golang è·å–è¯·æ±‚ã€‚</strong></p>
<h2 id="ä¸€é”®ç”Ÿæˆè¯·æ±‚" tabindex="-1"><a class="header-anchor" href="#ä¸€é”®ç”Ÿæˆè¯·æ±‚" aria-hidden="true">#</a> ä¸€é”®ç”Ÿæˆè¯·æ±‚</h2>
<p><strong>å³é”®å¤åˆ¶è¯·æ±‚ cURL ï¼Œå¾—åˆ°è¯·æ±‚çš„ json æ•°æ®ï¼š</strong></p>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="language-json"><code>curl 'https<span class="token operator">:</span><span class="token comment">//api.interpreter.caiyunai.com/v1/dict' \</span>
  -H 'authority<span class="token operator">:</span> api.interpreter.caiyunai.com' \
  -H 'accept<span class="token operator">:</span> application/json<span class="token punctuation">,</span> text/plain<span class="token punctuation">,</span> *<span class="token comment">/*' \
  -H 'accept-language: zh-CN,zh;q=0.9,zh-HK;q=0.8,en-ZA;q=0.7,en;q=0.6' \
  -H 'app-name: xy' \
  -H 'content-type: application/json;charset=UTF-8' \
  -H 'device-id;' \
  -H 'origin: https://fanyi.caiyunapp.com' \
  -H 'os-type: web' \
  -H 'os-version;' \
  -H 'referer: https://fanyi.caiyunapp.com/' \
  -H 'sec-ch-ua: "Not?A_Brand";v="8", "Chromium";v="108", "Google Chrome";v="108"' \
  -H 'sec-ch-ua-mobile: ?0' \
  -H 'sec-ch-ua-platform: "Windows"' \
  -H 'sec-fetch-dest: empty' \
  -H 'sec-fetch-mode: cors' \
  -H 'sec-fetch-site: cross-site' \
  -H 'user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36' \
  -H 'x-authorization: token:qgemv4jr1y38jyq6vhvi' \
  --data-raw '{"trans_type":"en2zh","source":"hello"}' \
  --compressed
</span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç”Ÿæˆä»£ç ï¼š</strong></p>
<ul>
<li>[x] <a href="https://curlconverter.com/go/" target="_blank" rel="noopener noreferrer">ç½‘å€<ExternalLinkIcon/></a></li>
</ul>
<div class="language-go ext-go line-numbers-mode"><pre v-pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"fmt"</span>
	<span class="token string">"io/ioutil"</span>
	<span class="token string">"log"</span>
	<span class="token string">"net/http"</span>
	<span class="token string">"strings"</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	client <span class="token operator">:=</span> <span class="token operator">&amp;</span>http<span class="token punctuation">.</span>Client<span class="token punctuation">{</span><span class="token punctuation">}</span>
	<span class="token keyword">var</span> data <span class="token operator">=</span> strings<span class="token punctuation">.</span><span class="token function">NewReader</span><span class="token punctuation">(</span><span class="token string">`{"trans_type":"en2zh","source":"hello"}`</span><span class="token punctuation">)</span>
    
    <span class="token comment">//è®¾ç½®è¯·æ±‚å¤´</span>
	req<span class="token punctuation">,</span> err <span class="token operator">:=</span> http<span class="token punctuation">.</span><span class="token function">NewRequest</span><span class="token punctuation">(</span><span class="token string">"POST"</span><span class="token punctuation">,</span> <span class="token string">"https://api.interpreter.caiyunai.com/v1/dict"</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	req<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">"authority"</span><span class="token punctuation">,</span> <span class="token string">"api.interpreter.caiyunai.com"</span><span class="token punctuation">)</span>
	req<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">"accept"</span><span class="token punctuation">,</span> <span class="token string">"application/json, text/plain, */*"</span><span class="token punctuation">)</span>
	req<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">"accept-language"</span><span class="token punctuation">,</span> <span class="token string">"zh-CN,zh;q=0.9,zh-HK;q=0.8,en-ZA;q=0.7,en;q=0.6"</span><span class="token punctuation">)</span>
	req<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">"app-name"</span><span class="token punctuation">,</span> <span class="token string">"xy"</span><span class="token punctuation">)</span>
	req<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">"content-type"</span><span class="token punctuation">,</span> <span class="token string">"application/json;charset=UTF-8"</span><span class="token punctuation">)</span>
	req<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">"device-id"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span>
	req<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">"origin"</span><span class="token punctuation">,</span> <span class="token string">"https://fanyi.caiyunapp.com"</span><span class="token punctuation">)</span>
	req<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">"os-type"</span><span class="token punctuation">,</span> <span class="token string">"web"</span><span class="token punctuation">)</span>
	req<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">"os-version"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span>
	req<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">"referer"</span><span class="token punctuation">,</span> <span class="token string">"https://fanyi.caiyunapp.com/"</span><span class="token punctuation">)</span>
	req<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">"sec-ch-ua"</span><span class="token punctuation">,</span> `<span class="token string">"Not?A_Brand"</span><span class="token punctuation">;</span>v<span class="token operator">=</span><span class="token string">"8"</span><span class="token punctuation">,</span> <span class="token string">"Chromium"</span><span class="token punctuation">;</span>v<span class="token operator">=</span><span class="token string">"108"</span><span class="token punctuation">,</span> <span class="token string">"Google Chrome"</span><span class="token punctuation">;</span>v<span class="token operator">=</span><span class="token string">"108"</span><span class="token string">`)
	req.Header.Set("sec-ch-ua-mobile", "?0")
	req.Header.Set("sec-ch-ua-platform", `</span>"Windows"`<span class="token punctuation">)</span>
	req<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">"sec-fetch-dest"</span><span class="token punctuation">,</span> <span class="token string">"empty"</span><span class="token punctuation">)</span>
	req<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">"sec-fetch-mode"</span><span class="token punctuation">,</span> <span class="token string">"cors"</span><span class="token punctuation">)</span>
	req<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">"sec-fetch-site"</span><span class="token punctuation">,</span> <span class="token string">"cross-site"</span><span class="token punctuation">)</span>
	req<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">"user-agent"</span><span class="token punctuation">,</span> <span class="token string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36"</span><span class="token punctuation">)</span>
	req<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">"x-authorization"</span><span class="token punctuation">,</span> <span class="token string">"token:qgemv4jr1y38jyq6vhvi"</span><span class="token punctuation">)</span>
	resp<span class="token punctuation">,</span> err <span class="token operator">:=</span> client<span class="token punctuation">.</span><span class="token function">Do</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">defer</span> resp<span class="token punctuation">.</span>Body<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	<span class="token comment">//deferï¼šæ ˆ</span>
	bodyText<span class="token punctuation">,</span> err <span class="token operator">:=</span> ioutil<span class="token punctuation">.</span><span class="token function">ReadAll</span><span class="token punctuation">(</span>resp<span class="token punctuation">.</span>Body<span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> bodyText<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ğŸš€ ç¼–è¯‘ç»“æœå¦‚ä¸‹ï¼š</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>PS D:<span class="token punctuation">\</span>æ–‡æ¡£<span class="token punctuation">\</span>æœ€è¿‘çš„<span class="token punctuation">\</span>awesome-golang<span class="token punctuation">\</span>docs<span class="token punctuation">\</span>code<span class="token punctuation">\</span>go-by-example<span class="token punctuation">\</span>simpledict<span class="token punctuation">\</span>v<span class="token operator"><span class="token file-descriptor important">4</span>></span> go run .<span class="token punctuation">\</span>test.go cloud
<span class="token punctuation">{</span><span class="token string">"rc"</span>:0,<span class="token string">"wiki"</span>:<span class="token punctuation">{</span><span class="token string">"known_in_laguages"</span>:19,<span class="token string">"description"</span>:<span class="token punctuation">{</span><span class="token string">"source"</span><span class="token builtin class-name">:</span><span class="token string">"salutation or greeting"</span>,<span class="token string">"target"</span>:null<span class="token punctuation">}</span>,<span class="token string">"id"</span><span class="token builtin class-name">:</span><span class="token string">"Q12068060"</span>,<span class="token string">"item"</span>:<span class="token punctuation">{</span><span class="token string">"source"</span><span class="token builtin class-name">:</span><span class="token string">"hello"</span>,<span class="token string">"target"</span><span class="token builtin class-name">:</span><span class="token string">"Hello"</span><span class="token punctuation">}</span>,<span class="token string">"image_url"</span><span class="token builtin class-name">:</span><span class="token string">"http:\/\/www.caiyunapp.com\/imgs\/link_default_img.png"</span>,<span class="token string">"is_subject"</span><span class="token builtin class-name">:</span><span class="token string">"true"</span>,<span class="token string">"sitelink"</span><span class="token builtin class-name">:</span><span class="token string">"https:\/\/www.caiyunapp.com\/read_mode\/?id=5c1654ca4faac90001a6f17a"</span><span class="token punctuation">}</span>,<span class="token string">"dictionary"</span>:<span class="token punctuation">{</span><span class="token string">"prons"</span>:<span class="token punctuation">{</span><span class="token string">"en-us"</span><span class="token builtin class-name">:</span><span class="token string">"[h<span class="token entity" title="\u0259">\u0259</span><span class="token entity" title="\u02c8">\u02c8</span>lo]"</span>,<span class="token string">"en"</span><span class="token builtin class-name">:</span><span class="token string">"[<span class="token entity" title="\u02c8">\u02c8</span>he<span class="token entity" title="\u02c8">\u02c8</span>l<span class="token entity" title="\u0259">\u0259</span>u]"</span><span class="token punctuation">}</span>,<span class="token string">"explanations"</span>:<span class="token punctuation">[</span><span class="token string">"int.<span class="token entity" title="\u5582">\u5582</span>;<span class="token entity" title="\u54c8">\u54c8</span><span class="token entity" title="\u7f57">\u7f57</span>"</span>,<span class="token string">"n.<span class="token entity" title="\u5f15">\u5f15</span><span class="token entity" title="\u4eba">\u4eba</span><span class="token entity" title="\u6ce8">\u6ce8</span><span class="token entity" title="\u610f">\u610f</span><span class="token entity" title="\u7684">\u7684</span><span class="token entity" title="\u547c">\u547c</span><span class="token entity" title="\u58f0">\u58f0</span>"</span>,<span class="token string">"v.<span class="token entity" title="\u5411">\u5411</span><span class="token entity" title="\u4eba">\u4eba</span><span class="token entity" title="\u547c">\u547c</span>(<span class="token entity" title="\u5582">\u5582</span>)"</span><span class="token punctuation">]</span>,<span class="token string">"synonym"</span>:<span class="token punctuation">[</span><span class="token string">"greetings"</span>,<span class="token string">"salutations"</span><span class="token punctuation">]</span>,<span class="token string">"antonym"</span>:<span class="token punctuation">[</span><span class="token punctuation">]</span>,<span class="token string">"wqx_example"</span>:<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">"say hello to"</span>,<span class="token string">"<span class="token entity" title="\u5411">\u5411</span><span class="token entity" title="\u67d0">\u67d0</span><span class="token entity" title="\u4eba">\u4eba</span><span class="token entity" title="\u95ee">\u95ee</span><span class="token entity" title="\u5019">\u5019</span>,<span class="token entity" title="\u548c">\u548c</span><span class="token entity" title="\u67d0">\u67d0</span><span class="token entity" title="\u4eba">\u4eba</span><span class="token entity" title="\u6253">\u6253</span><span class="token entity" title="\u62db">\u62db</span><span class="token entity" title="\u547c">\u547c</span>"</span><span class="token punctuation">]</span>,<span class="token punctuation">[</span><span class="token string">"Say hello to him for me . "</span>,<span class="token string">"<span class="token entity" title="\u4ee3">\u4ee3</span><span class="token entity" title="\u6211">\u6211</span><span class="token entity" title="\u95ee">\u95ee</span><span class="token entity" title="\u5019">\u5019</span><span class="token entity" title="\u4ed6">\u4ed6</span><span class="token entity" title="\u3002">\u3002</span>"</span><span class="token punctuation">]</span><span class="token punctuation">]</span>,<span class="token string">"entry"</span><span class="token builtin class-name">:</span><span class="token string">"hello"</span>,<span class="token string">"type"</span><span class="token builtin class-name">:</span><span class="token string">"word"</span>,<span class="token string">"related"</span>:<span class="token punctuation">[</span><span class="token punctuation">]</span>,<span class="token string">"source"</span><span class="token builtin class-name">:</span><span class="token string">"wenquxing"</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç»™å‡ºçš„è¯·æ±‚åºåˆ—åŒ–ï¼Œå¾—åˆ°çš„æ˜¯ jsonååºåˆ—åŒ–å³å¯~</strong></p>
<h2 id="åˆ—åŒ–-json" tabindex="-1"><a class="header-anchor" href="#åˆ—åŒ–-json" aria-hidden="true">#</a> åˆ—åŒ– json</h2>
<p>åºåˆ—åŒ–æ–¹æ³•ï¼š</p>
<p><img src="http://sm.nsddd.top/sm202301141609708.png" alt="image-20230114160934553"></p>
<p><strong>å˜æ›´ï¼š</strong></p>
<p><img src="http://sm.nsddd.top/sm202301141612077.png" alt="image-20230114161211900"></p>
<h2 id="ååºåˆ—åŒ–" tabindex="-1"><a class="header-anchor" href="#ååºåˆ—åŒ–" aria-hidden="true">#</a> ååºåˆ—åŒ–</h2>
<ul>
<li>[x] <a href="https://oktools.net/" target="_blank" rel="noopener noreferrer">åœ¨çº¿å·¥å…· - OKTools jsonè½¬å‘å…¶ä»–è¯­è¨€ç»“æ„ä½“å’Œä»£ç <ExternalLinkIcon/></a></li>
</ul>
<div class="language-go ext-go line-numbers-mode"><pre v-pre class="language-go"><code><span class="token keyword">type</span> AutoGenerated <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	Rc <span class="token builtin">int</span> <span class="token string">`json:"rc"`</span>
	Wiki <span class="token keyword">struct</span> <span class="token punctuation">{</span>
		KnownInLaguages <span class="token builtin">int</span> <span class="token string">`json:"known_in_laguages"`</span>
		Description <span class="token keyword">struct</span> <span class="token punctuation">{</span>
			Source <span class="token builtin">string</span> <span class="token string">`json:"source"`</span>
			Target <span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token string">`json:"target"`</span>
		<span class="token punctuation">}</span> <span class="token string">`json:"description"`</span>
		ID <span class="token builtin">string</span> <span class="token string">`json:"id"`</span>
		Item <span class="token keyword">struct</span> <span class="token punctuation">{</span>
			Source <span class="token builtin">string</span> <span class="token string">`json:"source"`</span>
			Target <span class="token builtin">string</span> <span class="token string">`json:"target"`</span>
		<span class="token punctuation">}</span> <span class="token string">`json:"item"`</span>
		ImageURL <span class="token builtin">string</span> <span class="token string">`json:"image_url"`</span>
		IsSubject <span class="token builtin">string</span> <span class="token string">`json:"is_subject"`</span>
		Sitelink <span class="token builtin">string</span> <span class="token string">`json:"sitelink"`</span>
	<span class="token punctuation">}</span> <span class="token string">`json:"wiki"`</span>
	Dictionary <span class="token keyword">struct</span> <span class="token punctuation">{</span>
		Prons <span class="token keyword">struct</span> <span class="token punctuation">{</span>
			EnUs <span class="token builtin">string</span> <span class="token string">`json:"en-us"`</span>
			En <span class="token builtin">string</span> <span class="token string">`json:"en"`</span>
		<span class="token punctuation">}</span> <span class="token string">`json:"prons"`</span>
		Explanations <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span> <span class="token string">`json:"explanations"`</span>
		Synonym <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span> <span class="token string">`json:"synonym"`</span>
		Antonym <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token string">`json:"antonym"`</span>
		WqxExample <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span> <span class="token string">`json:"wqx_example"`</span>
		Entry <span class="token builtin">string</span> <span class="token string">`json:"entry"`</span>
		Type <span class="token builtin">string</span> <span class="token string">`json:"type"`</span>
		Related <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token string">`json:"related"`</span>
		Source <span class="token builtin">string</span> <span class="token string">`json:"source"`</span>
	<span class="token punctuation">}</span> <span class="token string">`json:"dictionary"`</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æºç å’Œæµ‹è¯•" tabindex="-1"><a class="header-anchor" href="#æºç å’Œæµ‹è¯•" aria-hidden="true">#</a> æºç å’Œæµ‹è¯•</h2>
<p><strong>ğŸ’¡ç®€å•çš„ä¸€ä¸ªæ¡ˆä¾‹å¦‚ä¸‹ï¼š</strong></p>
<div class="language-go ext-go line-numbers-mode"><pre v-pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"bytes"</span>
	<span class="token string">"encoding/json"</span>
	<span class="token string">"fmt"</span>
	<span class="token string">"io/ioutil"</span>
	<span class="token string">"log"</span>
	<span class="token string">"net/http"</span>
	<span class="token string">"os"</span>
<span class="token punctuation">)</span>

<span class="token comment">/*
cURL
*/</span>

<span class="token keyword">type</span> DictRequest <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	TransType <span class="token builtin">string</span> <span class="token string">`json:"trans_type"`</span>
	Source    <span class="token builtin">string</span> <span class="token string">`json:"source"`</span>
	UserID    <span class="token builtin">string</span> <span class="token string">`json:"user_id"`</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> DictResponse <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	Rc   <span class="token builtin">int</span> <span class="token string">`json:"rc"`</span>
	Wiki <span class="token keyword">struct</span> <span class="token punctuation">{</span>
		KnownInLaguages <span class="token builtin">int</span> <span class="token string">`json:"known_in_laguages"`</span>
		Description     <span class="token keyword">struct</span> <span class="token punctuation">{</span>
			Source <span class="token builtin">string</span>      <span class="token string">`json:"source"`</span>
			Target <span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token string">`json:"target"`</span>
		<span class="token punctuation">}</span> <span class="token string">`json:"description"`</span>
		ID   <span class="token builtin">string</span> <span class="token string">`json:"id"`</span>
		Item <span class="token keyword">struct</span> <span class="token punctuation">{</span>
			Source <span class="token builtin">string</span> <span class="token string">`json:"source"`</span>
			Target <span class="token builtin">string</span> <span class="token string">`json:"target"`</span>
		<span class="token punctuation">}</span> <span class="token string">`json:"item"`</span>
		ImageURL  <span class="token builtin">string</span> <span class="token string">`json:"image_url"`</span>
		IsSubject <span class="token builtin">string</span> <span class="token string">`json:"is_subject"`</span>
		Sitelink  <span class="token builtin">string</span> <span class="token string">`json:"sitelink"`</span>
	<span class="token punctuation">}</span> <span class="token string">`json:"wiki"`</span>
	Dictionary <span class="token keyword">struct</span> <span class="token punctuation">{</span>
		Prons <span class="token keyword">struct</span> <span class="token punctuation">{</span>
			EnUs <span class="token builtin">string</span> <span class="token string">`json:"en-us"`</span>
			En   <span class="token builtin">string</span> <span class="token string">`json:"en"`</span>
		<span class="token punctuation">}</span> <span class="token string">`json:"prons"`</span>
		Explanations <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span>      <span class="token string">`json:"explanations"`</span>
		Synonym      <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span>      <span class="token string">`json:"synonym"`</span>
		Antonym      <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span>      <span class="token string">`json:"antonym"`</span>
		WqxExample   <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span>    <span class="token string">`json:"wqx_example"`</span>
		Entry        <span class="token builtin">string</span>        <span class="token string">`json:"entry"`</span>
		Type         <span class="token builtin">string</span>        <span class="token string">`json:"type"`</span>
		Related      <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token string">`json:"related"`</span>
		Source       <span class="token builtin">string</span>        <span class="token string">`json:"source"`</span>
	<span class="token punctuation">}</span> <span class="token string">`json:"dictionary"`</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">query</span><span class="token punctuation">(</span>word <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	client <span class="token operator">:=</span> <span class="token operator">&amp;</span>http<span class="token punctuation">.</span>Client<span class="token punctuation">{</span><span class="token punctuation">}</span>
	request <span class="token operator">:=</span> DictRequest<span class="token punctuation">{</span>TransType<span class="token punctuation">:</span> <span class="token string">"en2zh"</span><span class="token punctuation">,</span> Source<span class="token punctuation">:</span> word<span class="token punctuation">}</span>
	buf<span class="token punctuation">,</span> err <span class="token operator">:=</span> json<span class="token punctuation">.</span><span class="token function">Marshal</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">var</span> data <span class="token operator">=</span> bytes<span class="token punctuation">.</span><span class="token function">NewReader</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span>
	req<span class="token punctuation">,</span> err <span class="token operator">:=</span> http<span class="token punctuation">.</span><span class="token function">NewRequest</span><span class="token punctuation">(</span><span class="token string">"POST"</span><span class="token punctuation">,</span> <span class="token string">"https://api.interpreter.caiyunai.com/v1/dict"</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	req<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">"Connection"</span><span class="token punctuation">,</span> <span class="token string">"keep-alive"</span><span class="token punctuation">)</span>
	req<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">"DNT"</span><span class="token punctuation">,</span> <span class="token string">"1"</span><span class="token punctuation">)</span>
	req<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">"os-version"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span>
	req<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">"sec-ch-ua-mobile"</span><span class="token punctuation">,</span> <span class="token string">"?0"</span><span class="token punctuation">)</span>
	req<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">"User-Agent"</span><span class="token punctuation">,</span> <span class="token string">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4844.51 Safari/537.36"</span><span class="token punctuation">)</span>
	req<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">"app-name"</span><span class="token punctuation">,</span> <span class="token string">"xy"</span><span class="token punctuation">)</span>
	req<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">"Content-Type"</span><span class="token punctuation">,</span> <span class="token string">"application/json;charset=UTF-8"</span><span class="token punctuation">)</span>
	req<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">"Accept"</span><span class="token punctuation">,</span> <span class="token string">"application/json, text/plain, */*"</span><span class="token punctuation">)</span>
	req<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">"device-id"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span>
	req<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">"os-type"</span><span class="token punctuation">,</span> <span class="token string">"web"</span><span class="token punctuation">)</span>
	req<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">"X-Authorization"</span><span class="token punctuation">,</span> <span class="token string">"token:qgemv4jr1y38jyq6vhvi"</span><span class="token punctuation">)</span>
	req<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">"Origin"</span><span class="token punctuation">,</span> <span class="token string">"https://fanyi.caiyunapp.com"</span><span class="token punctuation">)</span>
	req<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">"Sec-Fetch-Site"</span><span class="token punctuation">,</span> <span class="token string">"cross-site"</span><span class="token punctuation">)</span>
	req<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">"Sec-Fetch-Mode"</span><span class="token punctuation">,</span> <span class="token string">"cors"</span><span class="token punctuation">)</span>
	req<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">"Sec-Fetch-Dest"</span><span class="token punctuation">,</span> <span class="token string">"empty"</span><span class="token punctuation">)</span>
	req<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">"Referer"</span><span class="token punctuation">,</span> <span class="token string">"https://fanyi.caiyunapp.com/"</span><span class="token punctuation">)</span>
	req<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">"Accept-Language"</span><span class="token punctuation">,</span> <span class="token string">"zh-CN,zh;q=0.9"</span><span class="token punctuation">)</span>
	req<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">"Cookie"</span><span class="token punctuation">,</span> <span class="token string">"_ym_uid=16456948721020430059; _ym_d=1645694872"</span><span class="token punctuation">)</span>
	resp<span class="token punctuation">,</span> err <span class="token operator">:=</span> client<span class="token punctuation">.</span><span class="token function">Do</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">defer</span> resp<span class="token punctuation">.</span>Body<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	bodyText<span class="token punctuation">,</span> err <span class="token operator">:=</span> ioutil<span class="token punctuation">.</span><span class="token function">ReadAll</span><span class="token punctuation">(</span>resp<span class="token punctuation">.</span>Body<span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> resp<span class="token punctuation">.</span>StatusCode <span class="token operator">!=</span> <span class="token number">200</span> <span class="token punctuation">{</span>
		log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span><span class="token string">"bad StatusCode:"</span><span class="token punctuation">,</span> resp<span class="token punctuation">.</span>StatusCode<span class="token punctuation">,</span> <span class="token string">"body"</span><span class="token punctuation">,</span> <span class="token function">string</span><span class="token punctuation">(</span>bodyText<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">var</span> dictResponse DictResponse
	err <span class="token operator">=</span> json<span class="token punctuation">.</span><span class="token function">Unmarshal</span><span class="token punctuation">(</span>bodyText<span class="token punctuation">,</span> <span class="token operator">&amp;</span>dictResponse<span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>word<span class="token punctuation">,</span> <span class="token string">"UK:"</span><span class="token punctuation">,</span> dictResponse<span class="token punctuation">.</span>Dictionary<span class="token punctuation">.</span>Prons<span class="token punctuation">.</span>En<span class="token punctuation">,</span> <span class="token string">"US:"</span><span class="token punctuation">,</span> dictResponse<span class="token punctuation">.</span>Dictionary<span class="token punctuation">.</span>Prons<span class="token punctuation">.</span>EnUs<span class="token punctuation">)</span>
	<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> item <span class="token operator">:=</span> <span class="token keyword">range</span> dictResponse<span class="token punctuation">.</span>Dictionary<span class="token punctuation">.</span>Explanations <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token function">len</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>Args<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">2</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Fprintf</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>Stderr<span class="token punctuation">,</span> <span class="token string">`usage: simpleDict WORD
example: simpleDict hello
		`</span><span class="token punctuation">)</span>
		os<span class="token punctuation">.</span><span class="token function">Exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	word <span class="token operator">:=</span> os<span class="token punctuation">.</span>Args<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
	<span class="token function">query</span><span class="token punctuation">(</span>word<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ®µä»£ç æ˜¯ä½¿ç”¨ Go è¯­è¨€è¯·æ±‚ç¿»è¯‘ APIï¼Œç„¶åå¯¹å“åº”æ•°æ®è¿›è¡Œè§£æã€‚</p>
<p>é¦–å…ˆæ˜¯å¯¼å…¥äº†ä¸€äº› Go å†…ç½®åº“ï¼Œå…¶ä¸­ &quot;net/http&quot; å’Œ &quot;encoding/json&quot; åœ¨æœ¬ä»£ç ä¸­èµ·åˆ°é‡è¦ä½œç”¨ã€‚</p>
<p>æ¥ç€å®šä¹‰äº† DictRequest å’Œ DictResponse ä¸¤ä¸ªç»“æ„ä½“ï¼Œå®ƒä»¬åˆ†åˆ«ç”¨äºè¯·æ±‚æ•°æ®å’Œå“åº”æ•°æ®çš„è§£æã€‚</p>
<p>query å‡½æ•°ä¸­ï¼Œé¦–å…ˆåˆ›å»ºäº†ä¸€ä¸ª http.Client å®ä¾‹ï¼Œç„¶åä½¿ç”¨ json.Marshal å°†è¯·æ±‚æ•°æ®è½¬æ¢ä¸º json æ ¼å¼ï¼Œå¹¶ä½¿ç”¨ http.NewRequest åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„è¯·æ±‚ã€‚</p>
<p>æ¥ç€è®¾ç½®è¯·æ±‚å¤´ä¿¡æ¯ï¼Œè¿™äº›ä¿¡æ¯éƒ½æ˜¯è¯·æ±‚ API æ‰€éœ€çš„ã€‚æœ€åè°ƒç”¨ client.Do å‡½æ•°å‘é€è¯·æ±‚ã€‚</p>
<p>åœ¨è¿™é‡Œï¼Œå“åº”æ•°æ®è¢«è§£æåˆ°äº† DictResponse ç»“æ„ä½“ä¸­ï¼Œå¹¶è¾“å‡ºåˆ°ç»ˆç«¯ã€‚</p>
<p><strong>ğŸš€ ç¼–è¯‘ç»“æœå¦‚ä¸‹ï¼š</strong></p>
<div class="language-text ext-text line-numbers-mode"><pre v-pre class="language-text"><code>PS D:\æ–‡æ¡£\æœ€è¿‘çš„\awesome-golang\docs\code\go-by-example\simpledict\v4> go run .\main.go  cub   
cub UK: [kÊŒb] US: [kÊŒb]
n.å¹¼ä»”
[ä¿—]åˆå‡ºèŒ…åºè€…
[å£è¯­]å°ä¼™å­;ç‰›æ ;ç‰›æ£š;é¥²æ–™æ§½
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="end-é“¾æ¥" tabindex="-1"><a class="header-anchor" href="#end-é“¾æ¥" aria-hidden="true">#</a> END é“¾æ¥</h2>
<ul>
<li><RouterLink to="/go-advancend/">å›åˆ°ç›®å½•</RouterLink></li>
<li><RouterLink to="/go-advancend/markdown/22.html">ä¸Šä¸€èŠ‚</RouterLink></li>
<li><RouterLink to="/go-advancend/markdown/24.html">ä¸‹ä¸€èŠ‚</RouterLink></li>
</ul>
<hr>
<ul>
<li><a href="https://github.com/3293172751/Block_Chain/blob/master/Git/git-contributor.md" target="_blank" rel="noopener noreferrer">å‚ä¸è´¡çŒ®â¤ï¸ğŸ’•ğŸ’•<ExternalLinkIcon/></a></li>
</ul>
</div></template>


