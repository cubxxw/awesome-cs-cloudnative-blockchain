<template><div><ul>
<li><a href="https://github.com/3293172751" target="_blank" rel="noopener noreferrer">author<ExternalLinkIcon/></a></li>
</ul>
<h1 id="ç¬¬7èŠ‚-influxdbçš„æ¦‚å¿µå’Œå®‰è£…" tabindex="-1"><a class="header-anchor" href="#ç¬¬7èŠ‚-influxdbçš„æ¦‚å¿µå’Œå®‰è£…" aria-hidden="true">#</a> ç¬¬7èŠ‚ InfluxDBçš„æ¦‚å¿µå’Œå®‰è£…</h1>
<ul>
<li><RouterLink to="/go-advancend/">å›åˆ°ç›®å½•</RouterLink></li>
<li><RouterLink to="/go-advancend/markdown/6.html">ä¸Šä¸€èŠ‚</RouterLink></li>
</ul>
<blockquote>
<p>â¤ï¸ğŸ’•ğŸ’•Goè¯­è¨€é«˜çº§ç¯‡ç« ,åœ¨æ­¤ä¹‹å‰å»ºè®®æ‚¨å…ˆäº†è§£åŸºç¡€å’Œè¿›é˜¶ç¯‡ã€‚Myblog:<a href="http://nsddd.top/" target="_blank" rel="noopener noreferrer">http://nsddd.top<ExternalLinkIcon/></a></p>
</blockquote>
<h3 id="goè¯­è¨€åŸºç¡€ç¯‡" tabindex="-1"><a class="header-anchor" href="#goè¯­è¨€åŸºç¡€ç¯‡" aria-hidden="true">#</a> <strong><a href="https://github.com/3293172751/Block_Chain/blob/master/TOC.md" target="_blank" rel="noopener noreferrer">Goè¯­è¨€åŸºç¡€ç¯‡<ExternalLinkIcon/></a></strong></h3>
<h3 id="goè¯­è¨€100ç¯‡è¿›é˜¶" tabindex="-1"><a class="header-anchor" href="#goè¯­è¨€100ç¯‡è¿›é˜¶" aria-hidden="true">#</a> <strong><a href="https://github.com/3293172751/Block_Chain/blob/master/Gomd_super/README.md" target="_blank" rel="noopener noreferrer">Goè¯­è¨€100ç¯‡è¿›é˜¶<ExternalLinkIcon/></a></strong></h3>
<hr>
<p>[TOC]</p>
<h3 id="å†™å…¥æ¨¡å—çš„å®ç°" tabindex="-1"><a class="header-anchor" href="#å†™å…¥æ¨¡å—çš„å®ç°" aria-hidden="true">#</a> å†™å…¥æ¨¡å—çš„å®ç°</h3>
<ol>
<li>åˆå§‹åŒ–Influxdb cllient</li>
<li>ä»write channelä¸­è¯»å–åˆ°ç›‘æ§æ•°æ®</li>
<li>æ„é€ æ•°æ®å¹¶ä¸”å†™å…¥åˆ°influxdb</li>
</ol>
<h3 id="ç›‘æ§éœ€æ±‚" tabindex="-1"><a class="header-anchor" href="#ç›‘æ§éœ€æ±‚" aria-hidden="true">#</a> ç›‘æ§éœ€æ±‚</h3>
<ul>
<li>æŸä¸ª<strong>åè®®</strong>ä¸‹çš„æŸä¸ªè¯·æ±‚åœ¨æŸä¸€ä¸ªè¯·æ±‚æ–¹æ³•çš„<strong>QPS</strong>&amp;<strong>å“åº”æ—¶é—´</strong>&amp;<strong>æµé‡</strong></li>
</ul>
<h3 id="influxdb" tabindex="-1"><a class="header-anchor" href="#influxdb" aria-hidden="true">#</a> influxdb</h3>
<ul>
<li>
<p><a href="https://www.influxdata.com/" target="_blank" rel="noopener noreferrer">influxdbå®˜ç½‘<ExternalLinkIcon/></a></p>
</li>
<li>
<p><a href="https://github.com/influxdata/influxdb" target="_blank" rel="noopener noreferrer">å¼€æºä»“åº“GitHubåœ°å€<ExternalLinkIcon/></a></p>
</li>
</ul>
<p>InfluxDB æ˜¯ä¸€ä¸ªå¼€æºæ—¶é—´åºåˆ—å¹³å°ï¼Œä½¿ç”¨Golangç¼–å†™çš„å¼€æºçš„æ—¶åºå‹æ•°æ®åº“ã€‚è¿™åŒ…æ‹¬ç”¨äºå­˜å‚¨å’ŒæŸ¥è¯¢æ•°æ®ã€åœ¨åå°å¤„ç†æ•°æ®ä»¥ç”¨äº ETL æˆ–ç›‘æ§å’Œè­¦æŠ¥ç›®çš„ã€ç”¨æˆ·ä»ªè¡¨æ¿ä»¥åŠå¯è§†åŒ–å’Œæ¢ç´¢æ•°æ®ç­‰çš„ APIã€‚è¿™ä¸ª repo ä¸Šçš„ master åˆ†æ”¯ç°åœ¨ä»£è¡¨æœ€æ–°çš„ InfluxDBï¼Œå®ƒç°åœ¨åŒ…æ‹¬ Kapacitorï¼ˆåå°å¤„ç†ï¼‰å’Œ Chronografï¼ˆUIï¼‰çš„åŠŸèƒ½ï¼Œæ‰€æœ‰è¿™äº›éƒ½åœ¨ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶ä¸­ã€‚</p>
<p><strong>ç‰¹æ€§:</strong></p>
<ul>
<li>éƒ¨ç½²ç®€å•ï¼Œæ— ä¾èµ–ï¼ˆGoè¯­è¨€ç‰¹æ€§ï¼‰</li>
<li>å†…ç½®httpæ”¯æŒï¼Œä½¿ç”¨httpè¯»å†™</li>
<li>ç±»sqlçš„çµæ´»æŸ¥è¯¢ï¼ˆmax,min,sumç­‰ï¼‰</li>
</ul>
<p><strong>influxdbçš„é‡è¦æ¦‚å¿µ</strong></p>
<ul>
<li>datebaseï¼šæ•°æ®åº“</li>
<li>measurementï¼šæ•°æ®åº“ä¸­çš„è¡¨</li>
<li>pointsï¼šè¡¨é‡Œé¢çš„ä¸€è¡Œæ•°æ®
<ul>
<li>tagsï¼šå„ç§æœ‰ç´¢å¼•çš„å±æ€§</li>
<li>fieldsï¼šå„ç§è®°å½•çš„å€¼</li>
<li>timeï¼šæ•°æ®è®°å½•çš„æ—¶é—´æˆ³ï¼Œä¹Ÿæ˜¯è‡ªåŠ¨ç”Ÿæˆçš„ä¸»ç´¢å¼•</li>
</ul>
</li>
</ul>
<h3 id="å®‰è£…influxdb" tabindex="-1"><a class="header-anchor" href="#å®‰è£…influxdb" aria-hidden="true">#</a> å®‰è£…influxdb</h3>
<p><strong>æˆ‘ä½¿ç”¨çš„æ˜¯dockeré•œåƒè¿›è¡Œå®‰è£…</strong></p>
<ul>
<li><a href="https://hub.docker.com/_/influxdb" target="_blank" rel="noopener noreferrer">é•œåƒåœ°å€<ExternalLinkIcon/></a></li>
<li><a href="https://github.com/3293172751/Block_Chain/blob/master/docker/README.md" target="_blank" rel="noopener noreferrer">dockeræ•™ç¨‹åœ°å€<ExternalLinkIcon/></a></li>
</ul>
<p><strong>æŸ¥çœ‹é•œåƒ</strong></p>
<div class="language-text ext-text line-numbers-mode"><pre v-pre class="language-text"><code>root@ubuntu:/home/smile# docker search -f stars=3 --limit 5 influxdb
NAME               DESCRIPTION                                     STARS     OFFICIAL   AUTOMATED
influxdb           InfluxDB is an open source time series databâ€¦   1582      [OK]       
telegraf           Telegraf is an agent for collecting metrics â€¦   575       [OK]       
chronograf         Chronograf is a visualization tool for time â€¦   313       [OK]       
bitnami/influxdb  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å®‰è£…å‘½ä»¤</strong></p>
<div class="language-text ext-text line-numbers-mode"><pre v-pre class="language-text"><code>docker pull influxdb   #æ‹‰å–åˆ°æœ¬åœ°
docker run -it influxdb #è¿è¡Œé•œåƒ
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æŸ¥çœ‹é•œåƒå’Œç»‘å®šçš„ç«¯å£</strong></p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>root@ubuntu:/home/smile<span class="token comment"># docker ps</span>
CONTAINER ID   IMAGE              COMMAND                  CREATED          STATUS          PORTS      NAMES
c5541213e802   influxdb           <span class="token string">"/entrypoint.sh inflâ€¦"</span>   <span class="token number">20</span> seconds ago   Up <span class="token number">18</span> seconds   <span class="token number">8086</span>/tcp   elated_jepsen
f19e7fbc3d18   v2f
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="influxdbä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#influxdbä½¿ç”¨" aria-hidden="true">#</a> influxdbä½¿ç”¨</h3>
<p>æ˜¾ç¤ºæ•°æ®åº“</p>
<div class="language-text ext-text line-numbers-mode"><pre v-pre class="language-text"><code>show databases
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åˆ›å»ºæ•°æ®åº“</p>
<div class="language-text ext-text line-numbers-mode"><pre v-pre class="language-text"><code>create database influxdb
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åˆ é™¤æ•°æ®åº“</p>
<div class="language-text ext-text line-numbers-mode"><pre v-pre class="language-text"><code>drop database influxdb
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä½¿ç”¨æ•°æ®åº“</p>
<div class="language-text ext-text line-numbers-mode"><pre v-pre class="language-text"><code>use influxdb
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="ä½¿ç”¨åˆ°çš„å­—æ®µ" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨åˆ°çš„å­—æ®µ" aria-hidden="true">#</a> ä½¿ç”¨åˆ°çš„å­—æ®µ</h3>
<div class="language-text ext-text line-numbers-mode"><pre v-pre class="language-text"><code>type Message struct {
	//ä½¿ç”¨ç»“æ„ä½“æ¥å­˜å‚¨æå–å‡ºæ¥çš„ç›‘æ§æ•°æ®
	TimeLocal                    time.Time //æ—¶é—´
	BytesSent                    int       //æµé‡
	Path, Method, Scheme, Status string    //è¯·æ±‚è·¯å¾„
	UpstreamTime, RequestTime    float64   //ç›‘æ§æ•°æ®
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li>Tagsï¼šPath, Method, Scheme, Status</li>
<li>Fieldsï¼šUpstreamTime, RequestTimeï¼ŒBytesSent</li>
<li>Timeï¼šTimeLocal</li>
</ul>
<h2 id="end-é“¾æ¥" tabindex="-1"><a class="header-anchor" href="#end-é“¾æ¥" aria-hidden="true">#</a> END é“¾æ¥</h2>
<ul>
<li><RouterLink to="/go-advancend/">å›åˆ°ç›®å½•</RouterLink></li>
<li><RouterLink to="/go-advancend/markdown/6.html">ä¸Šä¸€èŠ‚</RouterLink></li>
<li><RouterLink to="/go-advancend/markdown/8.html">ä¸‹ä¸€èŠ‚</RouterLink></li>
</ul>
<hr>
<ul>
<li><a href="https://github.com/3293172751/Block_Chain/blob/master/Git/git-contributor.md" target="_blank" rel="noopener noreferrer">å‚ä¸è´¡çŒ®â¤ï¸ğŸ’•ğŸ’•<ExternalLinkIcon/></a></li>
</ul>
</div></template>


