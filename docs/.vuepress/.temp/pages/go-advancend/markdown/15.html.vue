<template><div><ul>
<li><a href="https://github.com/3293172751" target="_blank" rel="noopener noreferrer">author<ExternalLinkIcon/></a></li>
</ul>
<h1 id="ç¬¬15èŠ‚-cobra" tabindex="-1"><a class="header-anchor" href="#ç¬¬15èŠ‚-cobra" aria-hidden="true">#</a> ç¬¬15èŠ‚ Cobra</h1>
<ul>
<li><RouterLink to="/go-advancend/">å›åˆ°ç›®å½•</RouterLink></li>
<li><RouterLink to="/go-advancend/markdown/14.html">ä¸Šä¸€èŠ‚</RouterLink></li>
</ul>
<blockquote>
<p>â¤ï¸ğŸ’•ğŸ’•Goè¯­è¨€é«˜çº§ç¯‡ç« ,åœ¨æ­¤ä¹‹å‰å»ºè®®æ‚¨å…ˆäº†è§£åŸºç¡€å’Œè¿›é˜¶ç¯‡ã€‚Myblog:<a href="http://nsddd.top/" target="_blank" rel="noopener noreferrer">http://nsddd.top<ExternalLinkIcon/></a></p>
</blockquote>
<h3 id="goè¯­è¨€åŸºç¡€ç¯‡" tabindex="-1"><a class="header-anchor" href="#goè¯­è¨€åŸºç¡€ç¯‡" aria-hidden="true">#</a> <strong><a href="https://github.com/3293172751/Block_Chain/blob/master/TOC.md" target="_blank" rel="noopener noreferrer">Goè¯­è¨€åŸºç¡€ç¯‡<ExternalLinkIcon/></a></strong></h3>
<h3 id="goè¯­è¨€100ç¯‡è¿›é˜¶" tabindex="-1"><a class="header-anchor" href="#goè¯­è¨€100ç¯‡è¿›é˜¶" aria-hidden="true">#</a> <strong><a href="https://github.com/3293172751/Block_Chain/blob/master/Gomd_super/README.md" target="_blank" rel="noopener noreferrer">Goè¯­è¨€100ç¯‡è¿›é˜¶<ExternalLinkIcon/></a></strong></h3>
<hr>
<p>[TOC]</p>
<h2 id="cobra-ç®€ä»‹" tabindex="-1"><a class="header-anchor" href="#cobra-ç®€ä»‹" aria-hidden="true">#</a> cobra ç®€ä»‹</h2>
<div class="custom-container tip"><p class="custom-container-title">æç¤º</p>
<ul>
<li>cobra æ˜¯ä¸€ä¸ªç”¨äºç”Ÿæˆå‘½ä»¤è¡Œå·¥å…·çš„æ¡†æ¶ ï¼ˆæœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼‰</li>
<li>éå¸¸ç®€å•ï¼Œæ˜“ç”¨</li>
<li>ä½¿ç”¨å®ƒçš„é¡¹ç›®å¾ˆå¤š ï¼ˆkubernetesã€etcdã€hugoã€dockerâ€¦â€¦)</li>
</ul>
<p><strong>å¼€æºåœ°å€ï¼šhttps://github.com/spf13/cobra</strong></p>
</div>
<h2 id="cobra-å®‰è£…" tabindex="-1"><a class="header-anchor" href="#cobra-å®‰è£…" aria-hidden="true">#</a> Cobra å®‰è£…</h2>
<ul>
<li><code v-pre>-u</code> ï¼šupdate</li>
</ul>
<div class="language-text ext-text line-numbers-mode"><pre v-pre class="language-text"><code>go get -u github.com/spf13/cobra@latest
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="é¡¹ç›®ä¸­å¯¼å…¥" tabindex="-1"><a class="header-anchor" href="#é¡¹ç›®ä¸­å¯¼å…¥" aria-hidden="true">#</a> é¡¹ç›®ä¸­å¯¼å…¥</h2>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code><span class="token function">import</span> <span class="token string">"github.com/spf13/cobra"</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="cobra-cli" tabindex="-1"><a class="header-anchor" href="#cobra-cli" aria-hidden="true">#</a> cobra-cli</h2>
<p><code v-pre>cobra-cli</code>æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œç¨‹åºï¼Œç”¨äºç”Ÿæˆ Cobra åº”ç”¨ç¨‹åºå’Œå‘½ä»¤æ–‡ä»¶ã€‚å®ƒå°†å¼•å¯¼æ‚¨çš„åº”ç”¨ç¨‹åºè„šæ‰‹æ¶ä»¥å¿«é€Ÿå¼€å‘åŸºäº Cobra çš„åº”ç”¨ç¨‹åºã€‚è¿™æ˜¯å°† Cobra åˆå¹¶åˆ°æ‚¨çš„åº”ç”¨ç¨‹åºä¸­çš„æœ€ç®€å•æ–¹æ³•ã€‚</p>
<p>å®ƒå¯ä»¥é€šè¿‡è¿è¡Œæ¥å®‰è£…ï¼š</p>
<div class="language-go ext-go line-numbers-mode"><pre v-pre class="language-go"><code><span class="token keyword">go</span> install github<span class="token punctuation">.</span>com<span class="token operator">/</span>spf13<span class="token operator">/</span>cobra<span class="token operator">-</span>cli@latest
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="cobra-é¡¹ç›®åˆ›å»º" tabindex="-1"><a class="header-anchor" href="#cobra-é¡¹ç›®åˆ›å»º" aria-hidden="true">#</a> cobra é¡¹ç›®åˆ›å»º</h2>
<p>å»ºè®®ä½¿ç”¨Go Module æ¨¡å¼ï¼Œé¦–å…ˆï¼Œåˆ›å»ºä¸€ä¸ªGo Moduleé¡¹ç›®ï¼Œåç§°é‡‡ç”¨ <code v-pre>clid</code></p>
<div class="language-go ext-go line-numbers-mode"><pre v-pre class="language-go"><code>mkdir clid<span class="token punctuation">;</span> cd clid 
<span class="token keyword">go</span> mod init clid
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä¸€èˆ¬ä½¿ç”¨ä¸Šé¢çš„æ–¹æ³•æœ‰ç‚¹éº»çƒ¦ï¼Œé‚£ä¹ˆå¯ä»¥å¸®åŠ©ä½ ç”Ÿæˆå¼€æºåè®®å’Œä¸€äº›ä¸œè¥¿ï¼š</strong></p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>cobra init clid  <span class="token parameter variable">-a</span> xiongxinwei <span class="token parameter variable">-l</span> MIT 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">ğŸ“œ å¯¹ä¸Šé¢çš„è§£é‡Š</p>
<ul>
<li>é»˜è®¤ä½¿ç”¨çš„  <a href="https://github.com/c-ub/cub/blob/main/LICENSE" target="_blank" rel="noopener noreferrer">Apache License 2.0 <ExternalLinkIcon/></a>Â© åè®®</li>
<li>å¯ä»¥æŒ‡å®šä½œè€… <code v-pre>-a</code></li>
<li>å¯ä»¥æŒ‡å®šåè®® <code v-pre>-l</code>  (MIT / Apache)</li>
</ul>
</div>
<h2 id="ç¼–è¯‘" tabindex="-1"><a class="header-anchor" href="#ç¼–è¯‘" aria-hidden="true">#</a> ç¼–è¯‘</h2>
<p>æˆ‘ä»¬åˆ›å»ºå®Œä¹‹åæ˜¯å¯ä»¥ç›´æ¥ç”¨ <code v-pre>go build</code> ç¼–è¯‘é¡¹ç›®çš„ï¼š</p>
<details class="custom-container details"><summary>ç¼–è¯‘ä¿¡æ¯å±•å¼€</summary>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>PS D:clid<span class="token operator">></span> go build
PS D:clid<span class="token operator">></span> <span class="token function">ls</span>

    Directory: D:clid

Mode                 LastWriteTime         Length Name
----                 -------------         ------ ----
d----          <span class="token number">2022</span>/11/15     <span class="token number">9</span>:32                cmd
-a---          <span class="token number">2022</span>/11/15     <span class="token number">9</span>:49        <span class="token number">4336640</span> clid.exe
-a---          <span class="token number">2022</span>/11/15     <span class="token number">9</span>:04            <span class="token number">177</span> go.mod
-a---          <span class="token number">2022</span>/11/15     <span class="token number">9</span>:04            <span class="token number">896</span> go.sum
-a---          <span class="token number">2022</span>/11/15     <span class="token number">9</span>:32          <span class="token number">11358</span> LICENSE
-a---          <span class="token number">2022</span>/11/15     <span class="token number">9</span>:49            <span class="token number">622</span> main.go

PS D:clid<span class="token operator">></span> .<span class="token punctuation">\</span>clid.exe
A longer description that spans multiple lines and likely contains
examples and usage of using your application. For example:

Cobra is a CLI library <span class="token keyword">for</span> Go that empowers applications.
This application is a tool to generate the needed files
to quickly create a Cobra application.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details>
<h3 id="main-go" tabindex="-1"><a class="header-anchor" href="#main-go" aria-hidden="true">#</a> main.go</h3>
<p>æˆ‘ä»¬è§‚å¯Ÿ<code v-pre>main.go</code></p>
<div class="language-go ext-go line-numbers-mode"><pre v-pre class="language-go"><code><span class="token comment">/*
Copyright Â© 2022 xiongxinwei

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/</span>
<span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">"go-advancend-code/cobra/cmd"</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	cmd<span class="token punctuation">.</span><span class="token function">Execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p>å¾ˆç®€å•çš„ä¸€ä¸ªå‡½æ•°ï¼Œå°±åªæœ‰ <code v-pre>cmd.Execute()</code></p>
<p><code v-pre>Execute</code>å°†æ‰€æœ‰å­å‘½ä»¤æ·»åŠ åˆ°æ ¹å‘½ä»¤å¹¶é€‚å½“è®¾ç½®æ ‡å¿—ã€‚å®ƒç”±<code v-pre>main.main()</code>è°ƒç”¨ã€‚å®ƒåªéœ€è¦åœ¨<code v-pre>rootCmd</code>ä¸Šå‘ç”Ÿä¸€æ¬¡ã€‚</p>
</blockquote>
<p><em>é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å»çœ‹ <code v-pre>root.go</code>æ–‡ä»¶äº†</em></p>
<h3 id="root-go" tabindex="-1"><a class="header-anchor" href="#root-go" aria-hidden="true">#</a> root.go</h3>
<p><strong><code v-pre>cmd/root.go</code> ç›®å½•ï¼š</strong></p>
<p>è¿™ä¸ªç›®å½•æ˜¯ä¼šå½±å“åˆ°é¡¹ç›®çš„åè®®çš„~</p>
<div class="language-go ext-go line-numbers-mode"><pre v-pre class="language-go"><code><span class="token comment">/*
Copyright Â© 2022 xiongxinwei

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/</span>
<span class="token keyword">package</span> cmd

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"os"</span>

	<span class="token string">"github.com/spf13/cobra"</span>
<span class="token punctuation">)</span>



<span class="token comment">// rootCmd represents the base command when called without any subcommands</span>
<span class="token keyword">var</span> rootCmd <span class="token operator">=</span> <span class="token operator">&amp;</span>cobra<span class="token punctuation">.</span>Command<span class="token punctuation">{</span>
	Use<span class="token punctuation">:</span>   <span class="token string">"cobra"</span><span class="token punctuation">,</span>
	Short<span class="token punctuation">:</span> <span class="token string">"A brief description of your application"</span><span class="token punctuation">,</span>
	Long<span class="token punctuation">:</span> 
    <span class="token string">`A longer description that spans multiple lines and likely contains
examples and usage of using your application. For example:

Cobra is a CLI library for Go that empowers applications.
This application is a tool to generate the needed files
to quickly create a Cobra application.`</span><span class="token punctuation">,</span>
	<span class="token comment">// Uncomment the following line if your bare application</span>
	<span class="token comment">// has an action associated with it:</span>
	<span class="token comment">// Run: func(cmd *cobra.Command, args []string) { },</span>
<span class="token punctuation">}</span>

<span class="token comment">// Execute adds all child commands to the root command and sets flags appropriately.</span>
<span class="token comment">// This is called by main.main(). It only needs to happen once to the rootCmd.</span>
<span class="token keyword">func</span> <span class="token function">Execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	err <span class="token operator">:=</span> rootCmd<span class="token punctuation">.</span><span class="token function">Execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		os<span class="token punctuation">.</span><span class="token function">Exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// Here you will define your flags and configuration settings.</span>
	<span class="token comment">// Cobra supports persistent flags, which, if defined here,</span>
	<span class="token comment">// will be global for your application.</span>

	<span class="token comment">// rootCmd.PersistentFlags().StringVar(&amp;cfgFile, "config", "", "config file (default is $HOME/.cobra.yaml)")</span>

	<span class="token comment">// Cobra also supports local flags, which will only run</span>
	<span class="token comment">// when this action is called directly.</span>
	rootCmd<span class="token punctuation">.</span><span class="token function">Flags</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">BoolP</span><span class="token punctuation">(</span><span class="token string">"toggle"</span><span class="token punctuation">,</span> <span class="token string">"t"</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token string">"Help message for toggle"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">æç¤º</p>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸Šé¢æœ‰ <code v-pre>run</code> ã€<code v-pre>short</code>ã€<code v-pre>Long</code></p>
<p>æ˜¯çš„ï¼Œæˆ‘ä»¬å¯ä»¥ä¿®æ”¹è¿™äº›ä¿¡æ¯æ¥è°ƒæ•´è¾“å‡ºä¿¡æ¯</p>
</div>
<p>ä¿®æ”¹ <code v-pre>long</code> ï¼š</p>
<div class="language-go ext-go line-numbers-mode"><pre v-pre class="language-go"><code><span class="token keyword">var</span> rootCmd <span class="token operator">=</span> <span class="token operator">&amp;</span>cobra<span class="token punctuation">.</span>Command<span class="token punctuation">{</span>
	Use<span class="token punctuation">:</span>   <span class="token string">"cobra"</span><span class="token punctuation">,</span>
	Short<span class="token punctuation">:</span> <span class="token string">"A brief description of your application"</span><span class="token punctuation">,</span>
	Long<span class="token punctuation">:</span>  <span class="token string">`ä¸€ä¸ªå¸®åŠ©ä¿¡æ¯`</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ğŸš€ ç¼–è¯‘ç»“æœå¦‚ä¸‹ï¼š</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>PS D:clid<span class="token operator">></span> go run .<span class="token punctuation">\</span>main.go
ä¸€ä¸ªå¸®åŠ©ä¿¡æ¯
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ä¸ºå‘½ä»¤åŠ ä¸Šä¸€ä¸ªå­å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#ä¸ºå‘½ä»¤åŠ ä¸Šä¸€ä¸ªå­å‘½ä»¤" aria-hidden="true">#</a> ä¸ºå‘½ä»¤åŠ ä¸Šä¸€ä¸ªå­å‘½ä»¤</h2>
<p><strong>æ·»åŠ ä¸€ä¸ªåå« <code v-pre>test</code> çš„å­å‘½ä»¤</strong></p>
<div class="language-text ext-text line-numbers-mode"><pre v-pre class="language-text"><code>cobra add test -a xiongxinwei -l MIT
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>æ•ˆæœ</strong> å¯ä»¥çœ‹å‡ºæ¥ <code v-pre>cmd</code>ç›®å½•ä¸‹å¤šäº†ä¸€ä¸ª <code v-pre>test.go</code> ï¼š</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>PS D:clid<span class="token operator">></span> <span class="token builtin class-name">pwd</span>

Path
----
D:clid

PS D:clid<span class="token operator">></span> <span class="token function">ls</span> cmd

    Directory: D:clid<span class="token punctuation">\</span>cmd

Mode                 LastWriteTime         Length Name
----                 -------------         ------ ----
-a---          <span class="token number">2022</span>/11/15     <span class="token number">9</span>:52           <span class="token number">1973</span> root.go

PS D:clid<span class="token operator">></span> cobra <span class="token function">add</span> <span class="token builtin class-name">test</span>
<span class="token builtin class-name">test</span> created at D:clid
PS D:clid<span class="token operator">></span> <span class="token function">ls</span> cmd       

    Directory: D:clid<span class="token punctuation">\</span>cmd

Mode                 LastWriteTime         Length Name
----                 -------------         ------ ----
-a---          <span class="token number">2022</span>/11/15     <span class="token number">9</span>:52           <span class="token number">1973</span> root.go
-a---          <span class="token number">2022</span>/11/15     <span class="token number">9</span>:58           <span class="token number">1064</span> test.go
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä¿®æ”¹åŸºæœ¬ä¿¡æ¯è¿è¡Œï¼š</strong></p>
<div class="language-go ext-go line-numbers-mode"><pre v-pre class="language-go"><code><span class="token comment">// testCmd represents the test command</span>
<span class="token keyword">var</span> testCmd <span class="token operator">=</span> <span class="token operator">&amp;</span>cobra<span class="token punctuation">.</span>Command<span class="token punctuation">{</span>
	Use<span class="token punctuation">:</span>   <span class="token string">"æµ‹è¯•use"</span><span class="token punctuation">,</span>
	Short<span class="token punctuation">:</span> <span class="token string">"æµ‹è¯•short"</span><span class="token punctuation">,</span>
	Long<span class="token punctuation">:</span>  <span class="token string">`æµ‹è¯•longä¿¡æ¯`</span><span class="token punctuation">,</span>
	Run<span class="token punctuation">:</span> <span class="token keyword">func</span><span class="token punctuation">(</span>cmd <span class="token operator">*</span>cobra<span class="token punctuation">.</span>Command<span class="token punctuation">,</span> args <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"æµ‹è¯•run"</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ğŸš€ ç¼–è¯‘ç»“æœå¦‚ä¸‹ï¼š</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>PS D:clid<span class="token operator">></span> go run .<span class="token punctuation">\</span>main.go
ä¸€ä¸ªå¸®åŠ©ä¿¡æ¯

Usage:
  cobra <span class="token punctuation">[</span>command<span class="token punctuation">]</span>

Available Commands:
  completion  Generate the autocompletion script <span class="token keyword">for</span> the specified shell
  <span class="token builtin class-name">help</span>        Help about any <span class="token builtin class-name">command</span>
  æµ‹è¯•use       æµ‹è¯•short

Flags:
  -h, <span class="token parameter variable">--help</span>     <span class="token builtin class-name">help</span> <span class="token keyword">for</span> cobra
  -t, <span class="token parameter variable">--toggle</span>   Help message <span class="token keyword">for</span> toggle

Use <span class="token string">"cobra [command] --help"</span> <span class="token keyword">for</span> <span class="token function">more</span> information about a command.

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å°è¯•ï¼š</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>.<span class="token punctuation">\</span>clid.exe æµ‹è¯•use
æµ‹è¯•run
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>å†ä¸€æ¬¡å°è¯•ï¼š</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>PS D:clid<span class="token operator">></span> .<span class="token punctuation">\</span>clid.exe æµ‹è¯•use <span class="token parameter variable">-h</span>
æµ‹è¯•longä¿¡æ¯

Usage:
  cobra æµ‹è¯•use <span class="token punctuation">[</span>flags<span class="token punctuation">]</span>

Flags:
  -h, <span class="token parameter variable">--help</span>   <span class="token builtin class-name">help</span> <span class="token keyword">for</span> æµ‹è¯•use
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">so</p>
<p>æ‰€ä»¥æˆ‘ä»¬çªç„¶æ˜ç™½äº†ï¼ŒåŸæ¥è¿™ä¸ªå‘½ä»¤ä¸»è¦æ˜¯åŸºäº ä¸»å‘½ä»¤ <code v-pre>root.go</code> ä¸‹é¢çš„ï¼Œ<code v-pre>root.go</code> å°±æ˜¯ <code v-pre>cobra</code></p>
<p>æˆ‘ä»¬å°±å¯ä»¥åŸºäºæ­¤è®¾ç½®ä¸€ç³»åˆ—å­å‘½ä»¤</p>
</div>
<h3 id="ç»‘å®šçˆ¶å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#ç»‘å®šçˆ¶å‘½ä»¤" aria-hidden="true">#</a> ç»‘å®šçˆ¶å‘½ä»¤</h3>
<p>æ¯ä¸ªå­å‘½ä»¤éƒ½æœ‰ä¸€ä¸ª <code v-pre>init</code> å‡½æ•°ï¼Œå°±æ˜¯ç”¨æ¥ç»‘å®šçš„~</p>
<div class="language-go ext-go line-numbers-mode"><pre v-pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	rootCmd<span class="token punctuation">.</span><span class="token function">AddCommand</span><span class="token punctuation">(</span>testCmd<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>åˆ›å»ºä¸€ä¸ª <code v-pre>version</code> å‘½ä»¤</strong></p>
<div class="language-text ext-text line-numbers-mode"><pre v-pre class="language-text"><code>cobra add version -a xiongxinwei -l MIT
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>ä¿®æ”¹ï¼š</strong></p>
<div class="language-go ext-go line-numbers-mode"><pre v-pre class="language-go"><code><span class="token comment">/*
Copyright Â© 2022 xiongxinwei

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
*/</span>
<span class="token keyword">package</span> cmd

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"fmt"</span>

	<span class="token string">"github.com/spf13/cobra"</span>
<span class="token punctuation">)</span>

<span class="token comment">// versionCmd represents the version command</span>
<span class="token keyword">var</span> versionCmd <span class="token operator">=</span> <span class="token operator">&amp;</span>cobra<span class="token punctuation">.</span>Command<span class="token punctuation">{</span>
	Use<span class="token punctuation">:</span>   <span class="token string">"version"</span><span class="token punctuation">,</span>
	Short<span class="token punctuation">:</span> <span class="token string">"A brief description of your command"</span><span class="token punctuation">,</span>
	Long<span class="token punctuation">:</span> <span class="token string">`A longer description that spans multiple lines and likely contains examples
and usage of using your command. For example:

Cobra is a CLI library for Go that empowers applications.
This application is a tool to generate the needed files
to quickly create a Cobra application.`</span><span class="token punctuation">,</span>
	Run<span class="token punctuation">:</span> <span class="token keyword">func</span><span class="token punctuation">(</span>cmd <span class="token operator">*</span>cobra<span class="token punctuation">.</span>Command<span class="token punctuation">,</span> args <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"version called"</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// rootCmd.AddCommand(versionCmd)</span>

	testCmd<span class="token punctuation">.</span><span class="token function">AddCommand</span><span class="token punctuation">(</span>versionCmd<span class="token punctuation">)</span>

<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ğŸš€ ç¼–è¯‘ç»“æœå¦‚ä¸‹ï¼š</p>
<div class="language-go ext-go line-numbers-mode"><pre v-pre class="language-go"><code>PS D<span class="token punctuation">:</span>clid<span class="token operator">></span> <span class="token keyword">go</span> build               
PS D<span class="token punctuation">:</span>clid<span class="token operator">></span> <span class="token punctuation">.</span>\clid<span class="token punctuation">.</span>exe test  
æµ‹è¯•run
PS D<span class="token punctuation">:</span>clid<span class="token operator">></span> <span class="token punctuation">.</span>\clid<span class="token punctuation">.</span>exe version
Error<span class="token punctuation">:</span> unknown command <span class="token string">"version"</span> <span class="token keyword">for</span> <span class="token string">"cobra"</span>
Run 'cobra <span class="token operator">--</span>help' <span class="token keyword">for</span> usage<span class="token punctuation">.</span>
PS D<span class="token punctuation">:</span>clid<span class="token operator">></span> <span class="token punctuation">.</span>\clid<span class="token punctuation">.</span>exe test version
version called
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p><strong>å¯ä»¥çœ‹åˆ°ç»‘å®šåˆ° <code v-pre>test</code> ä¸Šé¢äº†ï¼Œå½“ç„¶ä½ å¯ä»¥å–æ¶ˆæ³¨é‡Šï¼ŒåŒæ—¶ç»‘å®šä¸¤ä¸ª~</strong></p>
<div class="language-powershell ext-powershell line-numbers-mode"><pre v-pre class="language-powershell"><code><span class="token function">PS</span> D:\æ–‡æ¡£\æœ€è¿‘çš„\awesome-golang\docs\go-advancend\code\cobra\clid> <span class="token punctuation">.</span>\clid<span class="token punctuation">.</span>exe test version
version called
<span class="token function">PS</span> D:\æ–‡æ¡£\æœ€è¿‘çš„\awesome-golang\docs\go-advancend\code\cobra\clid> <span class="token punctuation">.</span>\clid<span class="token punctuation">.</span>exe version
version called
<span class="token function">PS</span> D:\æ–‡æ¡£\æœ€è¿‘çš„\awesome-golang\docs\go-advancend\code\cobra\clid> <span class="token punctuation">.</span>\clid<span class="token punctuation">.</span>exe test
æµ‹è¯•run
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote>
<h2 id="ä¸ºå‘½ä»¤æ·»åŠ é€‰é¡¹" tabindex="-1"><a class="header-anchor" href="#ä¸ºå‘½ä»¤æ·»åŠ é€‰é¡¹" aria-hidden="true">#</a> ä¸ºå‘½ä»¤æ·»åŠ é€‰é¡¹</h2>
<p>è¿™ä¸ªæˆ‘ä»¬å°±éœ€è¦å» <code v-pre>init()</code> å‡½æ•°ä¸­æ·»åŠ æ–¹æ³•äº†ï¼š</p>
<div class="language-go ext-go line-numbers-mode"><pre v-pre class="language-go"><code><span class="token comment">/*
Copyright Â© 2022 xiongxinwei

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
*/</span>
<span class="token keyword">package</span> cmd

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"fmt"</span>

	<span class="token string">"github.com/spf13/cobra"</span>
<span class="token punctuation">)</span>

<span class="token comment">// versionCmd represents the version command</span>
<span class="token keyword">var</span> versionCmd <span class="token operator">=</span> <span class="token operator">&amp;</span>cobra<span class="token punctuation">.</span>Command<span class="token punctuation">{</span>
	Use<span class="token punctuation">:</span>   <span class="token string">"version"</span><span class="token punctuation">,</span>
	Short<span class="token punctuation">:</span> <span class="token string">"å…³äºç‰ˆæœ¬ä¿¡æ¯çŸ­æè¿°"</span><span class="token punctuation">,</span>
	Long<span class="token punctuation">:</span>  <span class="token string">`å…³äºç‰ˆæœ¬ä¿¡æ¯é•¿æè¿°`</span><span class="token punctuation">,</span>
	Run<span class="token punctuation">:</span> <span class="token keyword">func</span><span class="token punctuation">(</span>cmd <span class="token operator">*</span>cobra<span class="token punctuation">.</span>Command<span class="token punctuation">,</span> args <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"version called"</span><span class="token punctuation">)</span>
		author<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> cmd<span class="token punctuation">.</span><span class="token function">Flags</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">GetString</span><span class="token punctuation">(</span><span class="token string">"author"</span><span class="token punctuation">)</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"ä½œè€…æ˜¯ï¼š"</span><span class="token punctuation">,</span> author<span class="token punctuation">)</span>

	<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	rootCmd<span class="token punctuation">.</span><span class="token function">AddCommand</span><span class="token punctuation">(</span>versionCmd<span class="token punctuation">)</span>

	testCmd<span class="token punctuation">.</span><span class="token function">AddCommand</span><span class="token punctuation">(</span>versionCmd<span class="token punctuation">)</span>

	<span class="token comment">// æ·»åŠ å‚æ•°</span>
	versionCmd<span class="token punctuation">.</span><span class="token function">Flags</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">StringP</span><span class="token punctuation">(</span><span class="token string">"author"</span><span class="token punctuation">,</span> <span class="token string">"n"</span><span class="token punctuation">,</span> <span class="token string">"default"</span><span class="token punctuation">,</span> <span class="token string">"name"</span><span class="token punctuation">)</span> <span class="token comment">//åç§°ï¼Œç®€å†™ï¼Œé»˜è®¤å€¼ï¼Œæè¿°</span>

<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ğŸš€ ç¼–è¯‘ç»“æœå¦‚ä¸‹ï¼š</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>PS D:<span class="token punctuation">\</span>æ–‡æ¡£<span class="token punctuation">\</span>æœ€è¿‘çš„<span class="token punctuation">\</span>awesome-golang<span class="token punctuation">\</span>docs<span class="token punctuation">\</span>go-advancend<span class="token punctuation">\</span>code<span class="token punctuation">\</span>cobra<span class="token punctuation">\</span>clid<span class="token operator">></span> go build
PS D:<span class="token punctuation">\</span>æ–‡æ¡£<span class="token punctuation">\</span>æœ€è¿‘çš„<span class="token punctuation">\</span>awesome-golang<span class="token punctuation">\</span>docs<span class="token punctuation">\</span>go-advancend<span class="token punctuation">\</span>code<span class="token punctuation">\</span>cobra<span class="token punctuation">\</span>clid<span class="token operator">></span> .<span class="token punctuation">\</span>clid.exe version <span class="token parameter variable">-help</span>
Error: unknown shorthand flag: <span class="token string">'e'</span> <span class="token keyword">in</span> <span class="token parameter variable">-elp</span>
Usage:
  cobra <span class="token builtin class-name">test</span> version <span class="token punctuation">[</span>flags<span class="token punctuation">]</span>

Flags:
  -n, <span class="token parameter variable">--author</span> string   name <span class="token punctuation">(</span>default <span class="token string">"default"</span><span class="token punctuation">)</span>
  -h, <span class="token parameter variable">--help</span>            <span class="token builtin class-name">help</span> <span class="token keyword">for</span> version

PS D:<span class="token punctuation">\</span>æ–‡æ¡£<span class="token punctuation">\</span>æœ€è¿‘çš„<span class="token punctuation">\</span>awesome-golang<span class="token punctuation">\</span>docs<span class="token punctuation">\</span>go-advancend<span class="token punctuation">\</span>code<span class="token punctuation">\</span>cobra<span class="token punctuation">\</span>clid<span class="token operator">></span> .<span class="token punctuation">\</span>clid.exe version
version called
ä½œè€…æ˜¯ï¼š default
PS D:<span class="token punctuation">\</span>æ–‡æ¡£<span class="token punctuation">\</span>æœ€è¿‘çš„<span class="token punctuation">\</span>awesome-golang<span class="token punctuation">\</span>docs<span class="token punctuation">\</span>go-advancend<span class="token punctuation">\</span>code<span class="token punctuation">\</span>cobra<span class="token punctuation">\</span>clid<span class="token operator">></span> .<span class="token punctuation">\</span>clid.exe <span class="token builtin class-name">test</span> version
version called
ä½œè€…æ˜¯ï¼š default
PS D:<span class="token punctuation">\</span>æ–‡æ¡£<span class="token punctuation">\</span>æœ€è¿‘çš„<span class="token punctuation">\</span>awesome-golang<span class="token punctuation">\</span>docs<span class="token punctuation">\</span>go-advancend<span class="token punctuation">\</span>code<span class="token punctuation">\</span>cobra<span class="token punctuation">\</span>clid<span class="token operator">></span> .<span class="token punctuation">\</span>clid.exe <span class="token builtin class-name">test</span> <span class="token parameter variable">-h</span>     
æµ‹è¯•longä¿¡æ¯

Usage:
  cobra <span class="token builtin class-name">test</span> <span class="token punctuation">[</span>flags<span class="token punctuation">]</span>
  cobra <span class="token builtin class-name">test</span> <span class="token punctuation">[</span>command<span class="token punctuation">]</span>

Available Commands:
  version     å…³äºç‰ˆæœ¬ä¿¡æ¯çŸ­æè¿°

Flags:
  -h, <span class="token parameter variable">--help</span>   <span class="token builtin class-name">help</span> <span class="token keyword">for</span> <span class="token builtin class-name">test</span>

Use <span class="token string">"cobra test [command] --help"</span> <span class="token keyword">for</span> <span class="token function">more</span> information about a command.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æŒ‡å®šå‚æ•°ï¼š</strong></p>
<div class="language-text ext-text line-numbers-mode"><pre v-pre class="language-text"><code>PS D:\æ–‡æ¡£\æœ€è¿‘çš„\awesome-golang\docs\go-advancend\code\cobra\clid> .\clid.exe  version -n ç‹è‰ºæ¡¦     
version called
ä½œè€…æ˜¯ï¼š ç‹è‰ºæ¡¦
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="è¡¥å……-runå‚æ•°çš„åŒ¿åå‡½æ•°" tabindex="-1"><a class="header-anchor" href="#è¡¥å……-runå‚æ•°çš„åŒ¿åå‡½æ•°" aria-hidden="true">#</a> è¡¥å…… runå‚æ•°çš„åŒ¿åå‡½æ•°</h2>
<div class="language-go ext-go line-numbers-mode"><pre v-pre class="language-go"><code><span class="token comment">// versionCmd represents the version command</span>
<span class="token keyword">var</span> versionCmd <span class="token operator">=</span> <span class="token operator">&amp;</span>cobra<span class="token punctuation">.</span>Command<span class="token punctuation">{</span>
	Use<span class="token punctuation">:</span>   <span class="token string">"version"</span><span class="token punctuation">,</span>
	Short<span class="token punctuation">:</span> <span class="token string">"å…³äºç‰ˆæœ¬ä¿¡æ¯çŸ­æè¿°"</span><span class="token punctuation">,</span>
	Long<span class="token punctuation">:</span>  <span class="token string">`å…³äºç‰ˆæœ¬ä¿¡æ¯é•¿æè¿°`</span><span class="token punctuation">,</span>
	Run<span class="token punctuation">:</span> <span class="token keyword">func</span><span class="token punctuation">(</span>cmd <span class="token operator">*</span>cobra<span class="token punctuation">.</span>Command<span class="token punctuation">,</span> args <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"version called"</span><span class="token punctuation">)</span>
		author<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> cmd<span class="token punctuation">.</span><span class="token function">Flags</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">GetString</span><span class="token punctuation">(</span><span class="token string">"author"</span><span class="token punctuation">)</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"ä½œè€…æ˜¯ï¼š"</span><span class="token punctuation">,</span> author<span class="token punctuation">)</span>

	<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li><code v-pre>cmd</code> æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œå¯ä»¥é€šè¿‡<code v-pre>cmd</code>æ¥è·å–å‚æ•°</li>
<li><code v-pre>args</code> æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå¯ä»¥é€šè¿‡<code v-pre>args</code>æ¥è·å–å‚æ•°</li>
</ul>
<p>ğŸ’¡ç®€å•çš„ä¸€ä¸ªæ¡ˆä¾‹å¦‚ä¸‹ï¼š</p>
<div class="language-go ext-go line-numbers-mode"><pre v-pre class="language-go"><code><span class="token comment">/*
Copyright Â© 2022 xiongxinwei

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
*/</span>
<span class="token keyword">package</span> cmd

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"fmt"</span>
	<span class="token string">"strconv"</span>

	<span class="token string">"github.com/spf13/cobra"</span>
<span class="token punctuation">)</span>

<span class="token comment">// versionCmd represents the version command</span>
<span class="token keyword">var</span> versionCmd <span class="token operator">=</span> <span class="token operator">&amp;</span>cobra<span class="token punctuation">.</span>Command<span class="token punctuation">{</span>
	Use<span class="token punctuation">:</span>   <span class="token string">"version"</span><span class="token punctuation">,</span>
	Short<span class="token punctuation">:</span> <span class="token string">"å…³äºç‰ˆæœ¬ä¿¡æ¯çŸ­æè¿°"</span><span class="token punctuation">,</span>
	Long<span class="token punctuation">:</span>  <span class="token string">`å…³äºç‰ˆæœ¬ä¿¡æ¯é•¿æè¿°`</span><span class="token punctuation">,</span>
	Run<span class="token punctuation">:</span> <span class="token keyword">func</span><span class="token punctuation">(</span>cmd <span class="token operator">*</span>cobra<span class="token punctuation">.</span>Command<span class="token punctuation">,</span> args <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"version called"</span><span class="token punctuation">)</span>
		author<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> cmd<span class="token punctuation">.</span><span class="token function">Flags</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">GetString</span><span class="token punctuation">(</span><span class="token string">"author"</span><span class="token punctuation">)</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"ä½œè€…æ˜¯ï¼š"</span><span class="token punctuation">,</span> author<span class="token punctuation">)</span>

		<span class="token keyword">var</span> x <span class="token builtin">int</span>
		<span class="token comment">//string è½¬æ¢ä¸º int</span>
		<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> v <span class="token operator">:=</span> <span class="token keyword">range</span> args <span class="token punctuation">{</span>
			tmp<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> strconv<span class="token punctuation">.</span><span class="token function">Atoi</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>
			x <span class="token operator">+=</span> tmp
		<span class="token punctuation">}</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"x is "</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	rootCmd<span class="token punctuation">.</span><span class="token function">AddCommand</span><span class="token punctuation">(</span>versionCmd<span class="token punctuation">)</span>

	testCmd<span class="token punctuation">.</span><span class="token function">AddCommand</span><span class="token punctuation">(</span>versionCmd<span class="token punctuation">)</span>

	<span class="token comment">// æ·»åŠ å‚æ•°</span>
	versionCmd<span class="token punctuation">.</span><span class="token function">Flags</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">StringP</span><span class="token punctuation">(</span><span class="token string">"author"</span><span class="token punctuation">,</span> <span class="token string">"n"</span><span class="token punctuation">,</span> <span class="token string">"default"</span><span class="token punctuation">,</span> <span class="token string">"name"</span><span class="token punctuation">)</span> <span class="token comment">//åç§°ï¼Œç®€å†™ï¼Œé»˜è®¤å€¼ï¼Œæè¿°</span>

<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ğŸš€ ç¼–è¯‘ç»“æœå¦‚ä¸‹ï¼š</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>PS D:<span class="token punctuation">\</span>æ–‡æ¡£<span class="token punctuation">\</span>æœ€è¿‘çš„<span class="token punctuation">\</span>awesome-golang<span class="token punctuation">\</span>docs<span class="token punctuation">\</span>go-advancend<span class="token punctuation">\</span>code<span class="token punctuation">\</span>cobra<span class="token punctuation">\</span>clid<span class="token operator">></span> .<span class="token punctuation">\</span>clid.exe version <span class="token parameter variable">-n</span> è€ç‹ <span class="token number">123</span> <span class="token number">12</span> <span class="token number">412</span> <span class="token number">543</span> <span class="token number">12</span>
version called
ä½œè€…æ˜¯ï¼š è€ç‹
x is  <span class="token number">1102</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="end-é“¾æ¥" tabindex="-1"><a class="header-anchor" href="#end-é“¾æ¥" aria-hidden="true">#</a> END é“¾æ¥</h2>
<ul>
<li><RouterLink to="/go-advancend/">å›åˆ°ç›®å½•</RouterLink></li>
<li><RouterLink to="/go-advancend/markdown/14.html">ä¸Šä¸€èŠ‚</RouterLink></li>
<li><RouterLink to="/go-advancend/markdown/16.html">ä¸‹ä¸€èŠ‚</RouterLink></li>
</ul>
<hr>
<ul>
<li><a href="https://github.com/3293172751/Block_Chain/blob/master/Git/git-contributor.md" target="_blank" rel="noopener noreferrer">å‚ä¸è´¡çŒ®â¤ï¸ğŸ’•ğŸ’•<ExternalLinkIcon/></a></li>
</ul>
</div></template>


