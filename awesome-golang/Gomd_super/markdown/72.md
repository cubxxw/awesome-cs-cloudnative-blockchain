# ginæ¡†æ¶ä¸€å¥—è§£å†³

[[toc]]

[toc]

## ä»‹ç»

- Ginæ˜¯ä¸€ä¸ªgolangçš„å¾®æ¡†æ¶ï¼Œå°è£…æ¯”è¾ƒä¼˜é›…ï¼ŒAPIå‹å¥½ï¼Œæºç æ³¨é‡Šæ¯”è¾ƒæ˜ç¡®ï¼Œå…·æœ‰å¿«é€Ÿçµæ´»ï¼Œå®¹é”™æ–¹ä¾¿ç­‰ç‰¹ç‚¹
- å¯¹äºgolangè€Œè¨€ï¼Œwebæ¡†æ¶çš„ä¾èµ–è¦è¿œæ¯”Pythonï¼ŒJavaä¹‹ç±»çš„è¦å°ã€‚è‡ªèº«çš„`net/http`è¶³å¤Ÿç®€å•ï¼Œæ€§èƒ½ä¹Ÿéå¸¸ä¸é”™
- å€ŸåŠ©æ¡†æ¶å¼€å‘ï¼Œä¸ä»…å¯ä»¥çœå»å¾ˆå¤šå¸¸ç”¨çš„å°è£…å¸¦æ¥çš„æ—¶é—´ï¼Œä¹Ÿæœ‰åŠ©äºå›¢é˜Ÿçš„ç¼–ç é£æ ¼å’Œå½¢æˆè§„èŒƒ



## è¦æ±‚

+ Go 1.13 åŠä»¥ä¸Šç‰ˆæœ¬

## å®‰è£…

è¦å®‰è£… Gin è½¯ä»¶åŒ…ï¼Œéœ€è¦å…ˆå®‰è£… Go å¹¶è®¾ç½® Go å·¥ä½œåŒºã€‚

**1.ä¸‹è½½å¹¶å®‰è£… ginï¼š**

```sh
go get -u github.com/gin-gonic/gin
```

> ğŸ’¡ è¡¥å……**get**å‚æ•°ï¼š
>
> | é™„åŠ å‚æ•°  | å¤‡  æ³¨                                 |
> | --------- | -------------------------------------- |
> | -v        | æ˜¾ç¤ºæ“ä½œæµç¨‹çš„æ—¥å¿—åŠä¿¡æ¯ï¼Œæ–¹ä¾¿æ£€æŸ¥é”™è¯¯ |
> | -u        | ä¸‹è½½ä¸¢å¤±çš„åŒ…ï¼Œä½†ä¸ä¼šæ›´æ–°å·²ç»å­˜åœ¨çš„åŒ…   |
> | -d        | åªä¸‹è½½ï¼Œä¸å®‰è£…                         |
> | -insecure | å…è®¸ä½¿ç”¨ä¸å®‰å…¨çš„ HTTP æ–¹å¼è¿›è¡Œä¸‹è½½æ“ä½œ |

**2.å°† gin å¼•å…¥åˆ°ä»£ç ä¸­ï¼š**

```go
import "github.com/gin-gonic/gin"
```

**3.ï¼ˆå¯é€‰ï¼‰å¦‚æœä½¿ç”¨è¯¸å¦‚ `http.StatusOK` ä¹‹ç±»çš„å¸¸é‡ï¼Œåˆ™éœ€è¦å¼•å…¥ `net/http` åŒ…ï¼š**

```go
import "net/http"
```

**4.åˆ›å»ºä½ çš„é¡¹ç›®æ–‡ä»¶å¤¹å¹¶ `cd` è¿›å»**

> å¦‚æœæ˜¯ç”¨çš„`mod`åŒ…ï¼Œé‚£ä¹ˆå¹¶ä¸éœ€è¦

```sh
$ mkdir -p $GOPATH/src/github.com/myusername/project && cd "$_"
```

**5.æ‹·è´ä¸€ä¸ªåˆå§‹æ¨¡æ¿åˆ°ä½ çš„é¡¹ç›®é‡Œ**

```sh
$ curl https://raw.githubusercontent.com/gin-gonic/examples/master/basic/main.go > main.go
```

> ç½‘ç»œä¸è¡Œå¯ä»¥ç›´æ¥è®¿é—® [è¿™é‡Œ](https://raw.githubusercontent.com/gin-gonic/examples/master/basic/main.go)å¤åˆ¶åˆ°`main.go`

**6.è¿è¡Œä½ çš„é¡¹ç›®**

```sh
$ go run main.go
```

> æœ€åè®¿é—®å³å¯ï¼š
>
> ![image-20221013225622549](http://sm.nsddd.top/smimage-20221013225622549.png?xxw@nsddd.top)



## å¼€å§‹

> ä¸ç¡®å®šå¦‚ä½•ç¼–å†™å’Œæ‰§è¡Œ Go ä»£ç ? [ç‚¹å‡»è¿™é‡Œ](https://go.nsddd.top).

é¦–å…ˆï¼Œåˆ›å»ºä¸€ä¸ªåä¸º `example.go` çš„æ–‡ä»¶

```sh
$ touch example.go
```

æ¥ä¸‹æ¥, å°†å¦‚ä¸‹çš„ä»£ç å†™å…¥ `example.go` ä¸­ï¼š

```go
package main

import "github.com/gin-gonic/gin"

func main() {
	r := gin.Default()
	r.GET("/ping", func(c *gin.Context) {
		c.JSON(200, gin.H{
			"message": "pong",
		})
	})
	r.Run() // ç›‘å¬å¹¶åœ¨ 0.0.0.0:8080 ä¸Šå¯åŠ¨æœåŠ¡
}
```

ç„¶å, æ‰§è¡Œ `go run example.go` å‘½ä»¤æ¥è¿è¡Œä»£ç ï¼š

```sh
# è¿è¡Œ example.go å¹¶ä¸”åœ¨æµè§ˆå™¨ä¸­è®¿é—® HOST_IP:8080/ping
$ go run example.go
```

ğŸš€ ç¼–è¯‘ç»“æœå¦‚ä¸‹ï¼š

![image-20221013225920708](http://sm.nsddd.top/smimage-20221013225920708.png?xxw@nsddd.top)



##  hello word

```go
package main

import (
    "net/http"

    "github.com/gin-gonic/gin"
)

func main() {
    // 1.åˆ›å»ºè·¯ç”±
   r := gin.Default()
   // 2.ç»‘å®šè·¯ç”±è§„åˆ™ï¼Œæ‰§è¡Œçš„å‡½æ•°
   // gin.Contextï¼Œå°è£…äº†requestå’Œresponse
   r.GET("/", func(c *gin.Context) {
      c.String(http.StatusOK, "hello World!")
   })
   // 3.ç›‘å¬ç«¯å£ï¼Œé»˜è®¤åœ¨8080
   // Run("é‡Œé¢ä¸æŒ‡å®šç«¯å£å·é»˜è®¤ä¸º8080") 
   r.Run(":8000")
}
```

![image-20221013230032119](http://sm.nsddd.top/smimage-20221013230032119.png?xxw@nsddd.top)

## å…¶ä»–çš„è¯·æ±‚å’Œjson

ğŸ’¡ç®€å•çš„ä¸€ä¸ªæ¡ˆä¾‹å¦‚ä¸‹ï¼š

```go
// gin
package main

import (
	"net/http"

	"github.com/gin-gonic/gin"
)

func main() {
	//åˆ›å»ºginå®ä¾‹
	r := gin.Default()
	//è®¾ç½®è·¯ç”±:è¯·æ±‚æ–¹å¼,è·¯å¾„,å¤„ç†å‡½æ•°
	r.GET("/ping", func(c *gin.Context) {
		c.String(200, "è¿™æ˜¯ä¸€ä¸ªGet pingè¯·æ±‚")
		c.JSON(http.StatusOK, gin.H{
			"message": "pong",
		})
	})

	//Postè¯·æ±‚: http://localhost:8080/login è¡¨ç¤ºå‘æœåŠ¡å™¨å‘é€ç™»å½•è¯·æ±‚
	r.POST("/login", func(c *gin.Context) {
		c.String(200, "ç™»å½•æˆåŠŸ,è¿™æ˜¯ä¸€ä¸ªPostè¯·æ±‚")
		//è·å–å‚æ•°
		username := c.PostForm("username")
		password := c.PostForm("password")
		//è¿”å›jsonæ•°æ®
		c.JSON(http.StatusOK, gin.H{
			"username": username,
			"password": password,
		})
	})

	//Putè¯·æ±‚: http://localhost:8080/put è¡¨ç¤ºå‘æœåŠ¡å™¨å‘é€ä¿®æ”¹è¯·æ±‚
	r.PUT("/put", func(c *gin.Context) {
		c.String(200, "ä¿®æ”¹æˆåŠŸ,è¿™æ˜¯ä¸€ä¸ªPutè¯·æ±‚")
		//è·å–å‚æ•°
		username := c.PostForm("username") //å½“å­˜åœ¨POST urlenencodedè¡¨å•æˆ–multipartè¡¨å•æ—¶ï¼ŒPostFormè¿”å›æŒ‡å®šçš„é”®ï¼Œå¦åˆ™è¿”å›ç©ºå­—ç¬¦ä¸²'("")'
		password := c.PostForm("password")
		//è¿”å›jsonæ•°æ® : ä¼ å…¥çš„æ•°æ®ï¼šçŠ¶æ€ç å’Œç©ºæ¥å£ç±»å‹æ•°æ®
		c.JSON(http.StatusOK, gin.H{ //gin.Hæ˜¯map[string]interface{}çš„ç®€å†™,http.StatusOKæ˜¯200
			"username": username,
			"password": password,
		})
	})

	//Deleteè¯·æ±‚: http://localhost:8080/delete è¡¨ç¤ºå‘æœåŠ¡å™¨å‘é€åˆ é™¤è¯·æ±‚
	r.DELETE("/delete", func(c *gin.Context) {
		c.String(200, "åˆ é™¤æˆåŠŸ,è¿™æ˜¯ä¸€ä¸ªDeleteè¯·æ±‚")
		//è·å–å‚æ•°
		username := c.PostForm("username")
		password := c.PostForm("password")
		//è¿”å›jsonæ•°æ®
		c.JSON(http.StatusOK, gin.H{
			"username": username,
			"password": password,
		})
	})

	//ç›‘å¬ç«¯å£

	// r.Run() å¯åŠ¨HTTPæœåŠ¡ï¼Œé»˜è®¤åœ¨ 0.0.0.0:8080 å¯åŠ¨æœåŠ¡
	r.Run(":3001") //ä¹Ÿå¯ä»¥ä½¿ç”¨è¿™ç§æ–¹å¼è®¾ç½®ç«¯å£
}

```

ğŸš€ ç¼–è¯‘ç»“æœå¦‚ä¸‹ï¼š

```bash
PS D:\æ–‡æ¡£\æœ€è¿‘çš„\awesome-golang\docs\code\go-super\gin> air

  __    _   ___
 / /\  | | | |_)
/_/--\ |_| |_| \_ , built with Go

watching .
!exclude tmp
building...
running...
[GIN-debug] [WARNING] Creating an Engine instance with the Logger and Recovery middleware already attached.

[GIN-debug] [WARNING] Running in "debug" mode. Switch to "release" mode in production.
 - using env:   export GIN_MODE=release
 - using code:  gin.SetMode(gin.ReleaseMode)

[GIN-debug] GET    /ping                     --> main.main.func1 (3 handlers)
[GIN-debug] POST   /login                    --> main.main.func2 (3 handlers)
[GIN-debug] PUT    /put                      --> main.main.func3 (3 handlers)
[GIN-debug] DELETE /delete                   --> main.main.func4 (3 handlers)
[GIN-debug] [WARNING] You trusted all proxies, this is NOT safe. We recommend you to set a value.
Please check https://pkg.go.dev/github.com/gin-gonic/gin#readme-don-t-trust-all-proxies for details.
[GIN-debug] Listening and serving HTTP on :3001
[GIN] 2022/11/01 - 20:45:41 | 200 |            0s |       127.0.0.1 | PUT      "/put"
```

![image-20221101204631005](http://sm.nsddd.top/smimage-20221101204631005.png)



### ç›¸åº” json æ•°æ®å¹¶ä¸”è¿”å›è‡ªå®šä¹‰ json åç§°

```go
// å®šä¹‰ç»“æ„ä½“
type User struct {
	Username string `json:"ç”¨æˆ·å"`
	Password string `json:"å¯†ç "`
}	
// jaon
func main() {
	r.POST("/json", func(c *gin.Context) {
		//å£°æ˜ç»“æ„ä½“
		a := &User{
			Username: "admin",
			Password: "123456",
		}
		c.JSON(http.StatusOK, a)
		//ç»‘å®šå‚æ•°
	})
}
```

ğŸš€ ç¼–è¯‘ç»“æœå¦‚ä¸‹ï¼š

```josn
{
    "ç”¨æˆ·å": "admin",
    "å¯†ç ": "123456"
}
```





### å“åº” jsonp è¯·æ±‚

ğŸ’¡ç®€å•çš„ä¸€ä¸ªæ¡ˆä¾‹å¦‚ä¸‹ï¼š

```go
// å®šä¹‰ç»“æ„ä½“
type User struct {
	Username string `json:"ç”¨æˆ·å"`
	Password string `json:"å¯†ç "`
}	
// jaon
func main() {
    //ç›¸åº”jsonpæ•°æ®: http://localhost:3001/jsonp?callback=callback
	r.Get("/jsonp", func(c *gin.Context) {
		//å£°æ˜ç»“æ„ä½“
		a := &User{
			Username: "admin",
			Password: "123456",
		}
		c.JSON(http.StatusOK, a)
		//ç»‘å®šå‚æ•°
	})
}
```

ğŸš€ ç¼–è¯‘ç»“æœå¦‚ä¸‹ï¼š

```json
callback({"ç”¨æˆ·å":"admin","å¯†ç ":"123456"});
```

 

### åŠ è½½yamlå’Œxml

```go
// å®šä¹‰ç»“æ„ä½“
type User struct {
	Username string `json:"ç”¨æˆ·å"`
	Password string `json:"å¯†ç "`
}	
// jaon
func main() {
    //ç›¸åº”xmlæ•°æ®: http://localhost:3001/xml
	r.GET("/xml", func(c *gin.Context) {
		//å£°æ˜ç»“æ„ä½“
		a := &User{
			Username: "admin",
			Password: "123456",
		}
		//è¿”å›xmlæ•°æ®
		c.XML(http.StatusOK, a)
	})

	//ç›¸åº”yamlæ•°æ®: http://localhost:3001/yaml
	r.GET("/yaml", func(c *gin.Context) {
		//å£°æ˜ç»“æ„ä½“
		a := &User{
			Username: "admin",
			Password: "123456",
		}
		//è¿”å›yamlæ•°æ®
		c.YAML(http.StatusOK, a)
	})
}
```

ğŸš€ ç¼–è¯‘ç»“æœå¦‚ä¸‹ï¼š

```bash
#xml:
<User>
    <Username>admin</Username>
    <Password>123456</Password>
</User>

#yml
username: admin
password: "123456"
```



### åŠ è½½html

```go
//å¯¹åº”htmlæ•°æ®: http://localhost:3001/html
r.GET("/html", func(c *gin.Context) {
	//å£°æ˜ç»“æ„ä½“
	a := &User{
		Username: "admin",
		Password: "123456",
	}
	//è¿”å›htmlæ•°æ®
	c.HTML(http.StatusOK, "./web/index.html", gin.H{
		"test": a,
	})
})
```





## ginæ¡†æ¶é‡‡ç”¨çš„è·¯ç”±åº“

- `gin` æ¡†æ¶ä¸­é‡‡ç”¨çš„è·¯ç”±åº“æ˜¯åŸºäºhttprouteråšçš„
- åœ°å€ä¸ºï¼šhttps://github.com/julienschmidt/httprouter



## Ginæ¨¡æ¿æ¸²æŸ“

`main.go` æ–‡ä»¶ï¼š

```go
package main

import (
	"net/http"

	"github.com/gin-gonic/gin"
)

type New struct {
	Title   string `json:"æ–°é—»æ ‡é¢˜"`
	Content string `json:"æ–°é—»å†…å®¹"`
}

func main() {
	r := gin.Default()

	//html: http://localhost:8080/
	r.LoadHTMLGlob("templates/*") //è¡¨ç¤ºåŠ è½½templatesæ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ–‡ä»¶
	r.GET("/", func(c *gin.Context) {
		c.HTML(http.StatusOK, "index.html", gin.H{
			"title": "Main website",
			"t":     "xiongxinwei",
		})
	})

	//html: http://localhost:8080/news
	r.GET("/news", func(c *gin.Context) {
		n := &New{
			Title:   "new title",
			Content: "new content",
		}

		c.HTML(http.StatusOK, "news.html", gin.H{
			"title": "News website",
			"news":  n,
			"t":     "t",
		})
	})

	r.Run()
}

```



**`index.html` æ–‡ä»¶ï¼š**

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>è¿™æ˜¯indexæ–‡ä»¶</h1>
    <!-- æ¸²æŸ“ -->
    <h2>{{.title}}</h2>

    <h3>t = {{.t}}</h3>
    {{$t = .title}}  <!-- å®šä¹‰å˜é‡ -->
    {{$t}}  <!-- ä½¿ç”¨å˜é‡ -->
    {{$t = 30 }}  <!-- ä¿®æ”¹å˜é‡ -->
    {{$t}}  <!-- ä½¿ç”¨å˜é‡ -->
    <h3>{{.t}}</h3>
</body>
</html>
```



**`news.html` æ–‡ä»¶ï¼š**

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>è¿™æ˜¯newsæ–‡ä»¶</h1>
    <!-- æ¸²æŸ“ -->
    <h2>{{.title}}</h2>
    <!-- è®¿é—®news -->
    <div>
        {{.news}}  <!-- æ‹¿åˆ°ç»“æ„ä½“å¯¹è±¡ -->
    </div>
    <div>
        {{.news.Title}}  <!-- æ‹¿åˆ°ç»“æ„ä½“å¯¹è±¡çš„å±æ€§ -->
    </div>
    <div>
        {{.news.Content}}  <!-- æ‹¿åˆ°ç»“æ„ä½“å¯¹è±¡çš„å±æ€§ -->
    </div>
    <div>
        
    </div>
</body>
</html>
```



::: details ğŸš€ ç¼–è¯‘ç»“æœå¦‚ä¸‹ï¼š
![image-20221102110508517](http://sm.nsddd.top/smimage-20221102110508517.png)

![image-20221102110523505](http://sm.nsddd.top/smimage-20221102110523505.png)

![image-20221102110542458](http://sm.nsddd.top/smimage-20221102110542458.png)

:::



## é¢„å®šä¹‰å‡½æ•°

::: details é¢„å®šä¹‰å‡½æ•°æµè§ˆâš¡
é¢„å®šä¹‰çš„å…¨å±€å˜é‡ï¼š

1. é€šè¿‡ `{{.}}` è®¿é—®ç»“æ„ä½“å¯¹è±¡
2. é€šè¿‡ `{{.å±æ€§å}}` è®¿é—®ç»“æ„ä½“å¯¹è±¡çš„å±æ€§
1. `.` å½“å‰å¯¹è±¡
2. `..` çˆ¶å¯¹è±¡
3. `index` å½“å‰å¯¹è±¡çš„ç´¢å¼•
4. `len` å½“å‰å¯¹è±¡çš„é•¿åº¦
5. `urlquery` å½“å‰å¯¹è±¡çš„URLç¼–ç 
6. `js` å½“å‰å¯¹è±¡çš„JavaScriptç¼–ç 
7. `html` å½“å‰å¯¹è±¡çš„HTMLç¼–ç 
8. `json` å½“å‰å¯¹è±¡çš„JSONç¼–ç 
9. `xml` å½“å‰å¯¹è±¡çš„XMLç¼–ç 
10. `yaml` å½“å‰å¯¹è±¡çš„YAMLç¼–ç 
11. `csv` å½“å‰å¯¹è±¡çš„CSVç¼–ç 
12. `tsv` å½“å‰å¯¹è±¡çš„TSVç¼–ç 
13. `urlpath` å½“å‰å¯¹è±¡çš„URLè·¯å¾„ç¼–ç 
14. `slice` å½“å‰å¯¹è±¡çš„åˆ‡ç‰‡
15. `first` å½“å‰å¯¹è±¡çš„ç¬¬ä¸€ä¸ªå…ƒç´ 
16. `last` å½“å‰å¯¹è±¡çš„æœ€åä¸€ä¸ªå…ƒç´ 
17. `sort` å½“å‰å¯¹è±¡çš„æ’åº
18. `reverse` å½“å‰å¯¹è±¡çš„åè½¬
19. `and` å½“å‰å¯¹è±¡çš„é€»è¾‘ä¸
20. `or` å½“å‰å¯¹è±¡çš„é€»è¾‘æˆ–
21. `not` å½“å‰å¯¹è±¡çš„é€»è¾‘é
22. `eq` å½“å‰å¯¹è±¡çš„ç­‰äº
23. `ne` å½“å‰å¯¹è±¡çš„ä¸ç­‰äº
24. `lt` å½“å‰å¯¹è±¡çš„å°äº
25. `le` å½“å‰å¯¹è±¡çš„å°äºç­‰äº
26. `gt` å½“å‰å¯¹è±¡çš„å¤§äº
27. `ge` å½“å‰å¯¹è±¡çš„å¤§äºç­‰äº
28. `add` å½“å‰å¯¹è±¡çš„åŠ æ³•
29. `sub` å½“å‰å¯¹è±¡çš„å‡æ³•
30. `mul` å½“å‰å¯¹è±¡çš„ä¹˜æ³•
31. `div` å½“å‰å¯¹è±¡çš„é™¤æ³•
32. `mod` å½“å‰å¯¹è±¡çš„å–æ¨¡
33. `call` å½“å‰å¯¹è±¡çš„å‡½æ•°è°ƒç”¨
34. `print` å½“å‰å¯¹è±¡çš„æ‰“å°
35. `printf` å½“å‰å¯¹è±¡çš„æ ¼å¼åŒ–æ‰“å°
36. `println` å½“å‰å¯¹è±¡çš„æ¢è¡Œæ‰“å°

:::



### å¸¸ç”¨çš„å†…ç½®å‡½æ•°å’Œè‡ªå®šä¹‰æ¨¡æ¿å‡½æ•°

ğŸ’¡ç®€å•çš„ä¸€ä¸ªæ¡ˆä¾‹å¦‚ä¸‹ï¼ˆ`main.go` æ–‡ä»¶ï¼‰ï¼š

```go
package main

import (
	"fmt"
	"html/template"
	"net/http"

	"github.com/gin-gonic/gin"
)

type New struct {
	Title   string `json:"this is æ–°é—»æ ‡é¢˜"`
	Content string `json:"this is æ–°é—»å†…å®¹"`
}

// è‡ªå®šä¹‰æ¨¡æ¿å‡½æ•°
func Text(title string) string {
	fmt.Println("title:", title)
	return title + " this is è‡ªå®šä¹‰æ¨¡æ¿å‡½æ•°Text"
}

func Text2(title string, content string) string {
	fmt.Println("title:", title, "content:", content)
	return title + " " + content + " this is è‡ªå®šä¹‰æ¨¡æ¿å‡½æ•°Text2"
}

func main() {
	r := gin.Default()

	// åŠ è½½è‡ªå®šä¹‰æ¨¡æ¿å‡½æ•°
	r.SetFuncMap(template.FuncMap{
		"Text":  Text,
		"Text2": Text2,
	})

	//html: http://localhost:8080/
	r.LoadHTMLGlob("templates/*") //è¡¨ç¤ºåŠ è½½templatesæ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ–‡ä»¶
	r.GET("/", func(c *gin.Context) {
		c.HTML(http.StatusOK, "index.html", gin.H{
			"title":  "this is a title",
			"msg":    "this is a msg",
			"score":  99,                          //scoreæ˜¯intç±»å‹ï¼Œè¡¨ç¤ºåˆ†æ•°
			"score2": 99.9,                        //score2æ˜¯float64ç±»å‹ï¼Œè¡¨ç¤ºåˆ†æ•°
			"score3": "99.9",                      //score3æ˜¯stringç±»å‹ï¼Œè¡¨ç¤ºåˆ†æ•°
			"hobby":  []string{"ç¯®çƒ", "è¶³çƒ", "ä¹’ä¹“çƒ"}, //hobbyæ˜¯åˆ‡ç‰‡ç±»å‹ï¼Œè¡¨ç¤ºçˆ±å¥½  //hobbyæ˜¯åˆ‡ç‰‡ç±»å‹ï¼Œè¡¨ç¤ºçˆ±å¥½
			"map": map[string]interface{}{ //mapæ˜¯mapç±»å‹ï¼Œè¡¨ç¤ºåœ°å›¾
				"address": "åŒ—äº¬å¸‚æµ·æ·€åŒº",
				"tel":     "010-12345678",
			},

			//ç»“æ„ä½“
			"news": &New{
				Title:   "æ–°é—»æ ‡é¢˜",
				Content: "æ–°é—»å†…å®¹",
			},
		})
	})

	r.Run()
}
```

`index.html` æ–‡ä»¶ï¼š

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- ç¼©å°h6é—´è· -->
    <style>
        h6 {
            margin: 0;
        }
    </style>

</head>
<body>
    <h3>è¿™æ˜¯indexæ–‡ä»¶</h3>
    <!-- æ¸²æŸ“ -->
    <h6>titls = {{.title}}</h6>
    <h6>msg = {{.msg}}</h6>
    <h6>score(intç±»å‹åˆ†æ•°) = {{.score}}</h6>
    <h6>score2(float64ç±»å‹åˆ†æ•°) = {{.score2}}</h6>
    <h6>score3(stringç±»å‹åˆ†æ•°) = {{.score3}}</h6>
    <h6>hobby(åˆ‡ç‰‡ç±»å‹çˆ±å¥½) = {{.hobby}}</h6>
    <h6>map(åœ°å›¾) = {{.map}}</h6>
    <h6>news(ç»“æ„ä½“) = {{.news}}</h6>
    <h6>news.Title(ç»“æ„ä½“å±æ€§) = {{.news.Title}}</h6>

    <!-- æ±‚msgé•¿åº¦ -->
    <h6>msgé•¿åº¦ = {{len .msg}}</h6>

    <!-- åˆ¤æ–­msgæ˜¯å¦ä¸ºç©º -->
    <h6>msgæ˜¯å¦ä¸ºç©º = {{if .msg}}ä¸ä¸ºç©º{{else}}ä¸ºç©º{{end}}</h6>

    <!-- åˆ¤æ–­scoreæ˜¯å¦å¤§äº60 -->
    <h6>scoreæ˜¯å¦å¤§äº60 = {{if gt .score 60}}å¤§äº60{{else}}å°äº60{{end}}</h6>

    <!-- éå†hobby -->
    <h6>hobby(åˆ‡ç‰‡ç±»å‹çˆ±å¥½) = {{range .hobby}}{{.}} {{end}}</h6>

    <!-- éå†map -->
    <h6>map(åœ°å›¾) = {{range $key, $value := .map}}{{$key}} = {{$value}} {{end}}</h6>

    <!-- è‡ªå®šä¹‰æ¨¡æ¿å‡½æ•°
        ç›´æ¥åœ¨æ¨¡æ¿ä¸­è°ƒç”¨ï¼Œæ¯”å¦‚ä¸‹é¢çš„å‡½æ•°ï¼Œç›´æ¥åœ¨æ¨¡æ¿ä¸­è°ƒç”¨
    -->
    <h3>è‡ªå®šä¹‰æ¨¡æ¿å‡½æ•°/h3>
    <h6>è‡ªå®šä¹‰æ¨¡æ¿å‡½æ•° = {{Text .title}}</h6>
    <h6>è‡ªå®šä¹‰æ¨¡æ¿å‡½æ•°2 = {{Text2 .title .msg}}</h6>
</body>
</html>
```

ğŸš€ ç¼–è¯‘ç»“æœå¦‚ä¸‹ï¼š

![image-20221102115622008](http://sm.nsddd.top/smimage-20221102115622008.png)



## åŠ è½½ä¸€ä¸ªå…¬å…±çš„æ¨¡æ¿

åŠ è½½ä¸€ä¸ªå…¬å…±çš„æ¨¡æ¿ï¼Œä¹Ÿå¯ä»¥å«åšåµŒå¥— `template`

> æˆ‘ä»¬ä¸€ä¸ªé¡¹ç›®é‡Œé¢å¯èƒ½æœ‰ä¸€ä¸ªå…¬å…±çš„å¤´éƒ¨æˆ–è€…å°¾éƒ¨ï¼Œå°±åƒæˆ‘ä»¬è¿™ä¸ªä»“åº“ä¸€æ ·ï¼Œæ¯ä¸€é¡µéƒ½æœ‰ä¸€ä¸ªæ¨¡æ¿ï¼š
>
> ![image-20221102120417428](http://sm.nsddd.top/smimage-20221102120417428.png)



**åœ¨æ¯ä¸ªhtml æ–‡ä»¶çš„ä»»æ„ä½ç½®éƒ½å¯ä»¥ä½¿ç”¨ï¼Œ æ³¨æ„åé¢çš„ `.`**

```html
<!-- å…¬å…±æ¨¡æ¿ å¤´éƒ¨-->
{{template "public/page_header.html" .}}
    
<!-- å…¬å…±æ¨¡æ¿ å°¾éƒ¨-->
{{template "public/page_footer.html" .}}
```



`public/page_header.html` æ–‡ä»¶

```html
<!-- ç›¸å½“äºç»™æ¨¡æ¿å®šä¹‰ä¸€ä¸ªåå­—ï¼Œdefine end æˆå¯¹å‡ºç° -->
{{define "public/page_foorter"}}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        h1{
            color: blue;
            background-color: yellow;  /* èƒŒæ™¯è‰² */
            text-align: center;  /* æ–‡å­—å±…ä¸­ */
        }
    </style>
</head>
<body>
    <h1>this is a public test page - footer</h1>

</body>
</html>
```



`public/page_footer.html` æ–‡ä»¶ï¼š

```html
<!-- ç›¸å½“äºç»™æ¨¡æ¿å®šä¹‰ä¸€ä¸ªåå­—ï¼Œdefine end æˆå¯¹å‡ºç° -->
{{define "public/page_header"}}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        h1{
            color: red;
            background-color: yellow;  /* èƒŒæ™¯è‰² */
            text-align: center;  /* æ–‡å­—å±…ä¸­ */
        }
    </style>
</head>
<body>
    <h1>this is a public test page</h1>
</body>
</html>
```



## è·¯ç”±ä¼ å€¼

è·¯ç”±ï¼ˆRoutingï¼‰æ˜¯ç”±ä¸€ä¸ª URL å’Œ HTTP æ–¹æ³•ï¼ˆgetã€postï¼‰ç­‰ç»„æˆ



### Getä¼ å€¼

ğŸ’¡ç®€å•çš„ä¸€ä¸ªæ¡ˆä¾‹å¦‚ä¸‹ï¼š

```go
// Getä¼ å€¼
//html: http://localhost:8080/newst?title=æ–°é—»æ ‡é¢˜&content=æ–°é—»å†…å®¹
r.GET("/newst", func(c *gin.Context) {
	title := c.Query("title")
	content := c.Query("content")

	c.JSON(http.StatusOK, gin.H{
		"title":   title,
		"content": content,
	})
})
```

ğŸš€ ç¼–è¯‘ç»“æœå¦‚ä¸‹ï¼š

![image-20221106183736547](http://sm.nsddd.top/smimage-20221106183736547.png)

**åŒæ ·ä¹Ÿå¯ä»¥ä¼ é€’ç»™ html **







## END é“¾æ¥
<ul><li><div><a href = '71.md' style='float:left'>â¬†ï¸ä¸Šä¸€èŠ‚ğŸ”—</a><a href = '73.md' style='float: right'>â¬‡ï¸ä¸‹ä¸€èŠ‚ğŸ”—</a></div></li></ul>

+ [â“‚ï¸å›åˆ°é¦–é¡µğŸ ](../README.md)

+ [**ğŸ«µå‚ä¸è´¡çŒ®ğŸ’â¤ï¸â€ğŸ”¥ğŸ’–**](https://nsddd.top/archives/contributors))

+ âœ´ï¸ç‰ˆæƒå£°æ˜ &copy; :æœ¬ä¹¦æ‰€æœ‰å†…å®¹éµå¾ª[CC-BY-SA 3.0åè®®ï¼ˆç½²å-ç›¸åŒæ–¹å¼å…±äº«ï¼‰&copy;](http://zh.wikipedia.org/wiki/Wikipedia:CC-by-sa-3.0åè®®æ–‡æœ¬) 

