# beegoæ¡†æ¶

[toc]

## beegoæ¡†æ¶

beego æ˜¯å…è´¹ã€å¼€æºçš„è½¯ä»¶ï¼Œè¿™æ„å‘³ç€ä»»ä½•äººéƒ½å¯ä»¥ä¸ºå…¶å¼€å‘å’Œè¿›æ­¥è´¡çŒ®åŠ›é‡ã€‚beego æºä»£ç ç›®å‰æ‰˜ç®¡åœ¨ Github ä¸Šï¼ŒGithub æä¾›éå¸¸å®¹æ˜“çš„é€”å¾„ fork é¡¹ç›®å’Œåˆå¹¶ä½ çš„è´¡çŒ®ã€‚

::: tip 
beego æˆ–è®¸æ˜¯æˆ‘ä»¬èµ°è¿›äº‘åŸç”Ÿçš„ç¬¬ä¸€æ­¥~

+ [githubåœ°å€](https://github.com/beego/beego)
+ [å®˜ç½‘](beego.vip)

:::

**æ¶æ„å›¾ï¼š**

![img](http://sm.nsddd.top/smbeego)



::: tip beegoç”±å››éƒ¨åˆ†ç»„æˆ

1. åŸºç¡€æ¨¡å—ï¼šåŒ…æ‹¬logæ¨¡å—ã€configæ¨¡å—ã€governoræ¨¡å—ï¼›
2. Taskï¼šç”¨äºè¿è¡Œå®šæ—¶ä»»åŠ¡æˆ–å‘¨æœŸæ€§ä»»åŠ¡ï¼›
3. å®¢æˆ·ç«¯ï¼šåŒ…æ‹¬ORMæ¨¡å—ã€httplibæ¨¡å—ã€ç¼“å­˜æ¨¡å—ï¼›
4. æœåŠ¡å™¨ï¼šåŒ…æ‹¬ç½‘é¡µæ¨¡å—ã€‚æœªæ¥æˆ‘ä»¬ä¼šæ”¯æŒgRPCï¼›

:::



**webåº”ç”¨ç¨‹åºï¼š**

![image-20221120220809190](http://sm.nsddd.top/smimage-20221120220809190.png)



## beego çš„å®‰è£…

beego çš„å®‰è£…æ˜¯å…¸å‹çš„ Go å®‰è£…åŒ…çš„å½¢å¼ï¼š

```
go get github.com/astaxie/beego
```

å¸¸è§é—®é¢˜ï¼š

- git æ²¡æœ‰å®‰è£…ï¼Œè¯·è‡ªè¡Œå®‰è£…ä¸åŒå¹³å°çš„ gitï¼Œå¦‚ä½•å®‰è£…è¯·è‡ªè¡Œæœç´¢ã€‚

- git https æ— æ³•è·å–ï¼Œè¯·é…ç½®æœ¬åœ°çš„ gitï¼Œå…³é—­ https éªŒè¯ï¼š

  ```
    git config --global http.sslVerify false
  ```

- æ— æ³•ä¸Šç½‘æ€ä¹ˆå®‰è£… beegoï¼Œç›®å‰æ²¡æœ‰å¥½çš„åŠæ³•ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ä¼šæ•´ç†ä¸€ä¸ªå…¨åŒ…ä¸‹è½½ï¼Œæ¯æ¬¡å‘å¸ƒæ­£å¼ç‰ˆæœ¬éƒ½ä¼šæä¾›è¿™ä¸ªå…¨åŒ…ä¸‹è½½ï¼ŒåŒ…å«ä¾èµ–åŒ…ã€‚

## beego çš„å‡çº§

beego å‡çº§åˆ†ä¸º go æ–¹å¼å‡çº§å’Œæºç ä¸‹è½½å‡çº§ï¼š

- Go å‡çº§,é€šè¿‡è¯¥æ–¹å¼ç”¨æˆ·å¯ä»¥å‡çº§ beego æ¡†æ¶ï¼Œå¼ºçƒˆæ¨èè¯¥æ–¹å¼ï¼š

  ```
    go get -u github.com/astaxie/beego
  ```

- æºç ä¸‹è½½å‡çº§ï¼Œç”¨æˆ·è®¿é—® `https://github.com/astaxie/beego` ,ä¸‹è½½æºç ï¼Œç„¶åè¦†ç›–åˆ° `$GOPATH/src/github.com/astaxie/beego` ç›®å½•ï¼Œç„¶åé€šè¿‡æœ¬åœ°æ‰§è¡Œå®‰è£…å°±å¯ä»¥å‡çº§äº†ï¼š

  ```
    go install     github.com/astaxie/beego
  ```

## beego çš„ git åˆ†æ”¯

beego çš„ master åˆ†æ”¯ä¸ºç›¸å¯¹ç¨³å®šç‰ˆæœ¬ï¼Œdev åˆ†æ”¯ä¸ºå¼€å‘è€…ç‰ˆæœ¬ã€‚å¤§è‡´æµç¨‹å¦‚ä¸‹ï¼š

![img](http://sm.nsddd.top/smryeoKDnVSL2NMbt.png)



## å¿«é€Ÿå…¥æ‰‹

#### Create `hello` directory, cd `hello` directory

```
mkdir hello
cd hello
```

#### Init module

```
go mod init
```

#### Download and install

```
go get github.com/beego/beego/v2@latest
```

#### Create file `hello.go`

```go
package main

import "github.com/beego/beego/v2/server/web"

func main() {
	web.Run()
}
```

#### Build and run

```
go build hello.go
./hello
```

#### Go to [http://localhost:8080](http://localhost:8080/)

Congratulations! You've just built your first **beego** app.

![image-20221120222250366](http://sm.nsddd.top/smimage-20221120222250366.png)



## beeå·¥å…·çš„ä½¿ç”¨

bee å·¥å…·æ˜¯ä¸€ä¸ªä¸ºäº†ååŠ©å¿«é€Ÿå¼€å‘ beego é¡¹ç›®è€Œåˆ›å»ºçš„é¡¹ç›®ï¼Œé€šè¿‡ bee æ‚¨å¯ä»¥å¾ˆå®¹æ˜“çš„è¿›è¡Œ beego é¡¹ç›®çš„ **åˆ›å»ºã€çƒ­ç¼–è¯‘ã€å¼€å‘ã€æµ‹è¯•ã€å’Œéƒ¨ç½²** ã€‚



## bee å·¥å…·çš„å®‰è£…

æ‚¨å¯ä»¥é€šè¿‡å¦‚ä¸‹çš„æ–¹å¼å®‰è£… bee å·¥å…·ï¼š

```go
go get github.com/beego/bee
```

å®‰è£…å®Œä¹‹åï¼Œ`bee` å¯æ‰§è¡Œæ–‡ä»¶é»˜è®¤å­˜æ”¾åœ¨ `$GOPATH/bin` é‡Œé¢ï¼Œæ‰€ä»¥æ‚¨éœ€è¦æŠŠ `$GOPATH/bin` æ·»åŠ åˆ°æ‚¨çš„ç¯å¢ƒå˜é‡ä¸­ï¼Œæ‰å¯ä»¥è¿›è¡Œä¸‹ä¸€æ­¥ã€‚

> å¦‚ä½•æ·»åŠ ç¯å¢ƒå˜é‡ï¼Œè¯·è‡ªè¡Œæœç´¢ å¦‚æœä½ æœ¬æœºè®¾ç½®äº† `GOBIN`ï¼Œé‚£ä¹ˆä¸Šé¢çš„å‘½ä»¤å°±ä¼šå®‰è£…åˆ° `GOBIN` ä¸‹ï¼Œè¯·æ·»åŠ  GOBIN åˆ°ä½ çš„ç¯å¢ƒå˜é‡ä¸­



## bee å·¥å…·å‘½ä»¤è¯¦è§£

æˆ‘ä»¬åœ¨å‘½ä»¤è¡Œè¾“å…¥ `bee`ï¼Œå¯ä»¥çœ‹åˆ°å¸®åŠ©çš„ä¿¡æ¯

```
bee 
bee version
```



### new å‘½ä»¤

`new` å‘½ä»¤æ˜¯æ–°å»ºä¸€ä¸ª Web é¡¹ç›®ï¼Œæˆ‘ä»¬åœ¨å‘½ä»¤è¡Œä¸‹æ‰§è¡Œ `bee new <é¡¹ç›®å>` å°±å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„é¡¹ç›®ã€‚ä½†æ˜¯æ³¨æ„è¯¥å‘½ä»¤å¿…é¡»åœ¨ `$GOPATH/src` ä¸‹æ‰§è¡Œã€‚æœ€åä¼šåœ¨ `$GOPATH/src` ç›¸åº”ç›®å½•ä¸‹ç”Ÿæˆå¦‚ä¸‹ç›®å½•ç»“æ„çš„é¡¹ç›®ï¼š

```bash
bee new myproject
[INFO] Creating application...
/gopath/src/myproject/
/gopath/src/myproject/conf/
/gopath/src/myproject/controllers/
/gopath/src/myproject/models/
/gopath/src/myproject/static/
/gopath/src/myproject/static/js/
/gopath/src/myproject/static/css/
/gopath/src/myproject/static/img/
/gopath/src/myproject/views/
/gopath/src/myproject/conf/app.conf
/gopath/src/myproject/controllers/default.go
/gopath/src/myproject/views/index.tpl
/gopath/src/myproject/main.go
13-11-25 09:50:39 [SUCC] New application successfully created!
myproject
â”œâ”€â”€ conf
â”‚   â””â”€â”€ app.conf
â”œâ”€â”€ controllers
â”‚   â””â”€â”€ default.go
â”œâ”€â”€ main.go
â”œâ”€â”€ models
â”œâ”€â”€ routers
â”‚   â””â”€â”€ router.go
â”œâ”€â”€ static
â”‚   â”œâ”€â”€ css
â”‚   â”œâ”€â”€ img
â”‚   â””â”€â”€ js
â”œâ”€â”€ tests
â”‚   â””â”€â”€ default_test.go
â””â”€â”€ views
    â””â”€â”€ index.tpl

8 directories, 4 files
```



### controllers

::: warning controllers
controllersé‡Œé¢å†…åµŒäº†ä¸€ä¸ªç»“æ„ä½“ï¼Œå°† beegoçš„controllersï¼ŒåŸºäºæ­¤å®ç°è‡ªå·±çš„ `Get()` ç­‰â€¦

```go
package controllers

import (
	"github.com/astaxie/beego"
)

type MainController struct {
	beego.Controller
}

func (c *MainController) Get() {
	c.Data["Website"] = "beego.me"
	c.Data["Email"] = "astaxie@gmail.com"
	c.TplName = "index.tpl"
}

```

**ä¸ä»…å¦‚æ­¤ï¼Œæˆ–è®¸æˆ‘ä»¬å¯ä»¥æ·»åŠ è‡ªå·±çš„ Post()**

```go
func (c *MainController) Post() {
	c.Data["Website"] = "beego.me"
	c.Data["Email"] = "3293172751@qq.com"
	c.TplName = "index.tpl"
}

func (c *MainController) Put() {
	c.Ctx.WriteString("put")
}

func (c *MainController) Delete() {
	c.Ctx.WriteString("delete")
}

func (c *MainController) Head() {
	c.Ctx.WriteString("head")
}
```

**controller é€»è¾‘ï¼š**

```go
package controllers

import (
        "github.com/astaxie/beego"
)

type MainController struct {
        beego.Controller
}

func (this *MainController) Get() {
        this.Data["Website"] = "beego.me"
        this.Data["Email"] = "astaxie@gmail.com"
        this.TplName = "index.tpl"
}
```

1ã€å£°æ˜äº†ä¸€ä¸ªæ§åˆ¶å™¨ `MainController`ï¼Œè¿™ä¸ªæ§åˆ¶å™¨é‡Œé¢å†…åµŒäº† `beego.Controller`ï¼Œå³Go çš„åµŒå…¥æ–¹å¼ï¼Œä¹Ÿå°±æ˜¯ `MainController` è‡ªåŠ¨æ‹¥æœ‰äº†æ‰€æœ‰ `beego.Controller` çš„æ–¹æ³•ã€‚è€Œ `beego.Controller` æ‹¥æœ‰å¾ˆå¤šæ–¹æ³•ï¼Œå…¶ä¸­åŒ…æ‹¬ `Init`ã€`Prepare`ã€`Post`ã€`Get`ã€`Delete`ã€`Head`ç­‰æ–¹æ³•ã€‚å¯ä»¥é€šè¿‡é‡å†™çš„æ–¹å¼æ¥å®ç°è¿™äº›æ–¹æ³•ï¼Œä»¥ä¸Šä¾‹å­é‡å†™äº† `Get` æ–¹æ³•ã€‚

2ã€beego æ˜¯ä¸€ä¸ª RESTful çš„æ¡†æ¶ï¼Œè¯·æ±‚é»˜è®¤æ˜¯æ‰§è¡Œå¯¹åº” `req.Method` çš„æ–¹æ³•ã€‚ä¾‹å¦‚æµè§ˆå™¨çš„æ˜¯ `GET` è¯·æ±‚ï¼Œé‚£ä¹ˆé»˜è®¤å°±ä¼šæ‰§è¡Œ `MainController` ä¸‹çš„ `Get` æ–¹æ³•ã€‚ï¼ˆç”¨æˆ·å¯ä»¥æ”¹å˜è¿™ä¸ªè¡Œä¸ºï¼Œé€šè¿‡æ³¨å†Œè‡ªå®šä¹‰çš„å‡½æ•°åï¼‰ã€‚

3ã€è·å–æ•°æ®ï¼Œèµ‹å€¼åˆ° `this.Data` ä¸­ï¼Œè¿™æ˜¯ä¸€ä¸ªç”¨æ¥å­˜å‚¨è¾“å‡ºæ•°æ®çš„ mapã€‚

4ã€æ¸²æŸ“æ¨¡æ¿ï¼Œ`this.TplName` å°±æ˜¯éœ€è¦æ¸²æŸ“çš„æ¨¡æ¿ï¼Œè¿™é‡ŒæŒ‡å®šäº† `index.tpl`ï¼Œå¦‚æœç”¨æˆ·ä¸è®¾ç½®è¯¥å‚æ•°ï¼Œé‚£ä¹ˆé»˜è®¤ä¼šå»åˆ°æ¨¡æ¿ç›®å½•çš„ `Controller/<æ–¹æ³•å>.tpl` æŸ¥æ‰¾ï¼Œä¾‹å¦‚ä¸Šé¢çš„æ–¹æ³•ä¼šå» `maincontroller/get.tpl`(æ–‡ä»¶ã€æ–‡ä»¶å¤¹å¿…é¡»å°å†™)ã€‚ç”¨æˆ·è®¾ç½®äº†æ¨¡æ¿ä¹‹åç³»ç»Ÿä¼šè‡ªåŠ¨çš„è°ƒç”¨ `Render` å‡½æ•°ï¼ˆè¿™ä¸ªå‡½æ•°æ˜¯åœ¨ beego.Controller ä¸­å®ç°çš„ï¼‰ï¼Œæ‰€ä»¥æ— éœ€ç”¨æˆ·è‡ªå·±æ¥è°ƒç”¨æ¸²æŸ“ã€‚

5ã€å¦‚æœä¸ä½¿ç”¨æ¨¡æ¿å¯ä»¥ç›´æ¥è¾“å‡ºï¼š

```go
func (this *MainController) Get() {
        this.Ctx.WriteString("hello")
}
```

:::





### api å‘½ä»¤

ä¸Šé¢çš„ `new` å‘½ä»¤æ˜¯ç”¨æ¥æ–°å»º Web é¡¹ç›®ï¼Œä¸è¿‡å¾ˆå¤šç”¨æˆ·ä½¿ç”¨ beego æ¥å¼€å‘ API åº”ç”¨ã€‚æ‰€ä»¥è¿™ä¸ª `api` å‘½ä»¤å°±æ˜¯ç”¨æ¥åˆ›å»º API åº”ç”¨çš„ï¼š

```go
bee api apiproject
```



è¿™ä¸ªé¡¹ç›®çš„ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š

```
apiproject
â”œâ”€â”€ conf
â”‚   â””â”€â”€ app.conf
â”œâ”€â”€ controllers
â”‚   â””â”€â”€ object.go
â”‚   â””â”€â”€ user.go
â”œâ”€â”€ docs
â”‚   â””â”€â”€ doc.go
â”œâ”€â”€ main.go
â”œâ”€â”€ models
â”‚   â””â”€â”€ object.go
â”‚   â””â”€â”€ user.go
â”œâ”€â”€ routers
â”‚   â””â”€â”€ router.go
â””â”€â”€ tests
    â””â”€â”€ default_test.go
```

ä»ä¸Šé¢çš„ç›®å½•æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å’Œ Web é¡¹ç›®ç›¸æ¯”ï¼Œå°‘äº† static å’Œ views ç›®å½•ï¼Œå¤šäº†ä¸€ä¸ª test æ¨¡å—ï¼Œç”¨æ¥åšå•å…ƒæµ‹è¯•çš„ã€‚

åŒæ—¶ï¼Œè¯¥å‘½ä»¤è¿˜æ”¯æŒä¸€äº›è‡ªå®šä¹‰å‚æ•°è‡ªåŠ¨è¿æ¥æ•°æ®åº“åˆ›å»ºç›¸å…³ model å’Œ controller: `bee api [appname] [-tables=""] [-driver=mysql] [-conn="root:<password>@tcp(127.0.0.1:3306)/test"]` å¦‚æœ conn å‚æ•°ä¸ºç©ºåˆ™åˆ›å»ºä¸€ä¸ªç¤ºä¾‹é¡¹ç›®ï¼Œå¦åˆ™å°†åŸºäºé“¾æ¥ä¿¡æ¯é“¾æ¥æ•°æ®åº“åˆ›å»ºé¡¹ç›®ã€‚



### run å‘½ä»¤

æˆ‘ä»¬åœ¨å¼€å‘ Go é¡¹ç›®çš„æ—¶å€™æœ€å¤§çš„é—®é¢˜æ˜¯ç»å¸¸éœ€è¦è‡ªå·±æ‰‹åŠ¨å»ç¼–è¯‘å†è¿è¡Œï¼Œ`bee run` å‘½ä»¤æ˜¯ç›‘æ§ beego çš„é¡¹ç›®ï¼Œé€šè¿‡ [fsnotify](https://github.com/howeyc/fsnotify)ç›‘æ§æ–‡ä»¶ç³»ç»Ÿã€‚ä½†æ˜¯æ³¨æ„è¯¥å‘½ä»¤å¿…é¡»åœ¨ `$GOPATH/src/appname` ä¸‹æ‰§è¡Œã€‚ è¿™æ ·æˆ‘ä»¬åœ¨å¼€å‘è¿‡ç¨‹ä¸­å°±å¯ä»¥å®æ—¶çš„çœ‹åˆ°é¡¹ç›®ä¿®æ”¹ä¹‹åçš„æ•ˆæœï¼š

```bash
bee run
```

æˆ‘ä»¬æ‰“å¼€æµè§ˆå™¨å°±å¯ä»¥çœ‹åˆ°æ•ˆæœ [http://localhost:8080/](http://localhost:8080/)



::: warning bee run åšäº†ä»€ä¹ˆ

+ è§£æé…ç½®æ–‡ä»¶

  beego ä¼šè‡ªåŠ¨è§£æåœ¨ conf ç›®å½•ä¸‹é¢çš„é…ç½®æ–‡ä»¶ `app.conf`ï¼Œé€šè¿‡ä¿®æ”¹é…ç½®æ–‡ä»¶ç›¸å…³çš„å±æ€§ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰ï¼šå¼€å¯çš„ç«¯å£ï¼Œæ˜¯å¦å¼€å¯ sessionï¼Œåº”ç”¨åç§°ç­‰ä¿¡æ¯ã€‚

+ æ‰§è¡Œç”¨æˆ·çš„hookfunc

  beegoä¼šæ‰§è¡Œç”¨æˆ·æ³¨å†Œçš„hookfuncï¼Œé»˜è®¤çš„å·²ç»å­˜åœ¨äº†æ³¨å†Œmimeï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡å‡½æ•°`AddAPPStartHook`æ³¨å†Œè‡ªå·±çš„å¯åŠ¨å‡½æ•°ã€‚

+ æ˜¯å¦å¼€å¯ session

  ä¼šæ ¹æ®ä¸Šé¢é…ç½®æ–‡ä»¶çš„åˆ†æä¹‹ååˆ¤æ–­æ˜¯å¦å¼€å¯ sessionï¼Œå¦‚æœå¼€å¯çš„è¯å°±åˆå§‹åŒ–å…¨å±€çš„ sessionã€‚

+ æ˜¯å¦ç¼–è¯‘æ¨¡æ¿

  beego ä¼šåœ¨å¯åŠ¨çš„æ—¶å€™æ ¹æ®é…ç½®æŠŠ views ç›®å½•ä¸‹çš„æ‰€æœ‰æ¨¡æ¿è¿›è¡Œé¢„ç¼–è¯‘ï¼Œç„¶åå­˜åœ¨ map é‡Œé¢ï¼Œè¿™æ ·å¯ä»¥æœ‰æ•ˆçš„æé«˜æ¨¡æ¿è¿è¡Œçš„æ•ˆç‡ï¼Œæ— éœ€è¿›è¡Œå¤šæ¬¡ç¼–è¯‘ã€‚

+ æ˜¯å¦å¼€å¯æ–‡æ¡£åŠŸèƒ½

  æ ¹æ®EnableDocsé…ç½®åˆ¤æ–­æ˜¯å¦å¼€å¯å†…ç½®çš„æ–‡æ¡£è·¯ç”±åŠŸèƒ½

+ æ˜¯å¦å¯åŠ¨ç®¡ç†æ¨¡å—

  beego ç›®å‰åšäº†ä¸€ä¸ªå¾ˆé…·çš„æ¨¡å—ï¼Œåº”ç”¨å†…ç›‘æ§æ¨¡å—ï¼Œä¼šåœ¨ 8088 ç«¯å£åšä¸€ä¸ªå†…éƒ¨ç›‘å¬ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªç«¯å£æŸ¥è¯¢åˆ° QPSã€CPUã€å†…å­˜ã€GCã€goroutineã€thread ç­‰ç»Ÿè®¡ä¿¡æ¯ã€‚

+ ç›‘å¬æœåŠ¡ç«¯å£

  è¿™æ˜¯æœ€åä¸€æ­¥ä¹Ÿå°±æ˜¯æˆ‘ä»¬çœ‹åˆ°çš„è®¿é—® 8080 çœ‹åˆ°çš„ç½‘é¡µç«¯å£ï¼Œå†…éƒ¨å…¶å®è°ƒç”¨äº† `ListenAndServe`ï¼Œå……åˆ†åˆ©ç”¨äº† goroutine çš„ä¼˜åŠ¿ï¼Œä¸€æ—¦ run èµ·æ¥ä¹‹åï¼Œæˆ‘ä»¬çš„æœåŠ¡å°±ç›‘å¬åœ¨ä¸¤ä¸ªç«¯å£äº†ï¼Œä¸€ä¸ªæœåŠ¡ç«¯å£ 8080 ä½œä¸ºå¯¹å¤–æœåŠ¡ï¼Œå¦ä¸€ä¸ª 8088 ç«¯å£å®è¡Œå¯¹å†…ç›‘æ§ã€‚

:::



**å…¶ä»–çƒ­åŠ è½½ï¼š**

::: tip 
åŒæ ·ä¹Ÿæœ‰ `air` ç­‰çƒ­åŠ è½½å·¥å…·ã€‚
:::





### pack å‘½ä»¤

`pack` ç›®å½•ç”¨æ¥å‘å¸ƒåº”ç”¨çš„æ—¶å€™æ‰“åŒ…ï¼Œä¼šæŠŠé¡¹ç›®æ‰“åŒ…æˆ zip åŒ…ï¼Œè¿™æ ·æˆ‘ä»¬éƒ¨ç½²çš„æ—¶å€™ç›´æ¥æŠŠæ‰“åŒ…ä¹‹åçš„é¡¹ç›®ä¸Šä¼ ï¼Œè§£å‹å°±å¯ä»¥éƒ¨ç½²äº†ï¼š

```
bee pack
```

æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç›®å½•ä¸‹æœ‰å¦‚ä¸‹çš„å‹ç¼©æ–‡ä»¶ï¼š

```bash
-a---          2022/11/21    16:56       16893719 beego.tar.gz
```



### bale å‘½ä»¤

ç”¨æ¥å‹ç¼©æ‰€æœ‰çš„é™æ€æ–‡ä»¶å˜æˆä¸€ä¸ªå˜é‡ç”³æ˜æ–‡ä»¶ï¼Œå…¨éƒ¨ç¼–è¯‘åˆ°äºŒè¿›åˆ¶æ–‡ä»¶é‡Œé¢ï¼Œç”¨æˆ·å‘å¸ƒçš„æ—¶å€™æºå¸¦é™æ€æ–‡ä»¶ï¼ŒåŒ…æ‹¬ jsã€cssã€img å’Œ viewsã€‚æœ€ååœ¨å¯åŠ¨è¿è¡Œæ—¶è¿›è¡Œéè¦†ç›–å¼çš„è‡ªè§£å‹ã€‚



### generate å‘½ä»¤

è¿™ä¸ªå‘½ä»¤æ˜¯ç”¨æ¥è‡ªåŠ¨åŒ–çš„ç”Ÿæˆä»£ç çš„ï¼ŒåŒ…å«äº†ä»æ•°æ®åº“ä¸€é”®ç”Ÿæˆ modelï¼Œè¿˜åŒ…å«äº† scaffold çš„ï¼Œé€šè¿‡è¿™ä¸ªå‘½ä»¤ï¼Œè®©å¤§å®¶å¼€å‘ä»£ç ä¸å†æ…¢

```bash
bee generate scaffold [scaffoldname] [-fields=""] [-driver=mysql] [-conn="root:@tcp(127.0.0.1:3306)/test"]
    The generate scaffold command will do a number of things for you.
    -fields: a list of table fields. Format: field:type, ...
    -driver: [mysql | postgres | sqlite], the default is mysql
    -conn:   the connection string used by the driver, the default is root:@tcp(127.0.0.1:3306)/test
    example: bee generate scaffold post -fields="title:string,body:text"

bee generate model [modelname] [-fields=""]
    generate RESTful model based on fields
    -fields: a list of table fields. Format: field:type, ...

bee generate controller [controllerfile]
    generate RESTful controllers

bee generate view [viewpath]
    generate CRUD view in viewpath

bee generate migration [migrationfile] [-fields=""]
    generate migration file for making database schema update
    -fields: a list of table fields. Format: field:type, ...

bee generate docs
    generate swagger doc file

bee generate test [routerfile]
    generate testcase

bee generate appcode [-tables=""] [-driver=mysql] [-conn="root:@tcp(127.0.0.1:3306)/test"] [-level=3]
    generate appcode based on an existing database
    -tables: a list of table names separated by ',', default is empty, indicating all tables
    -driver: [mysql | postgres | sqlite], the default is mysql
    -conn:   the connection string used by the driver.
             default for mysql:    root:@tcp(127.0.0.1:3306)/test
             default for postgres: postgres://postgres:postgres@127.0.0.1:5432/postgres
    -level:  [1 | 2 | 3], 1 = models; 2 = models,controllers; 3 = models,controllers,router
```



###  migrate å‘½ä»¤

è¿™ä¸ªå‘½ä»¤æ˜¯åº”ç”¨çš„æ•°æ®åº“è¿ç§»å‘½ä»¤ï¼Œä¸»è¦æ˜¯ç”¨æ¥æ¯æ¬¡åº”ç”¨å‡çº§ï¼Œé™çº§çš„SQLç®¡ç†ã€‚

```bash
bee migrate [-driver=mysql] [-conn="root:@tcp(127.0.0.1:3306)/test"]
    run all outstanding migrations
    -driver: [mysql | postgresql | sqlite], the default is mysql
    -conn:   the connection string used by the driver, the default is root:@tcp(127.0.0.1:3306)/test

bee migrate rollback [-driver=mysql] [-conn="root:@tcp(127.0.0.1:3306)/test"]
    rollback the last migration operation
    -driver: [mysql | postgresql | sqlite], the default is mysql
    -conn:   the connection string used by the driver, the default is root:@tcp(127.0.0.1:3306)/test

bee migrate reset [-driver=mysql] [-conn="root:@tcp(127.0.0.1:3306)/test"]
    rollback all migrations
    -driver: [mysql | postgresql | sqlite], the default is mysql
    -conn:   the connection string used by the driver, the default is root:@tcp(127.0.0.1:3306)/test

bee migrate refresh [-driver=mysql] [-conn="root:@tcp(127.0.0.1:3306)/test"]
    rollback all migrations and run them all again
    -driver: [mysql | postgresql | sqlite], the default is mysql
    -conn:   the connection string used by the driver, the default is root:@tcp(127.0.0.1:3306)/test
```



### dockerize å‘½ä»¤

è¿™ä¸ªå‘½ä»¤å¯ä»¥é€šè¿‡ç”Ÿæˆ`Dockerfile`æ–‡ä»¶æ¥å®ç°`docker`åŒ–ä½ çš„åº”ç”¨ã€‚

**ä¾‹å­:**

ç”Ÿæˆä¸€ä¸ªä»¥`1.9.2`ç‰ˆæœ¬Goç¯å¢ƒä¸ºåŸºç¡€é•œåƒçš„Dockerfile,å¹¶æš´éœ²9000ç«¯å£:

```
bee dockerize -image="library/golang:1.9.2" -expose=8080
```

æ›´å¤šå¸®åŠ©ä¿¡æ¯å¯æ‰§è¡Œ`bee help dockerize`.

::: tip æ‰“å¼€ dockerfile æ–‡ä»¶ï¼š

```dockerfile
FROM library/golang:1.9.2

# Godep for vendoring
RUN go get github.com/tools/godep

# Recompile the standard library without CGO
RUN CGO_ENABLED=0 go install -a std

ENV APP_DIR $GOPATHD:\æ–‡æ¡£\æœ€è¿‘çš„\awesome-golang\docs\code\beego
RUN mkdir -p $APP_DIR

# Set the entrypoint
ENTRYPOINT (cd $APP_DIR && ./D:\æ–‡æ¡£\æœ€è¿‘çš„\awesome-golang\docs\code\beego)
ADD . $APP_DIR

# Compile the binary and statically link
RUN cd $APP_DIR && CGO_ENABLED=0 godep go build -ldflags '-d -w -s'

EXPOSE 8080
```

:::



#### éƒ¨ç½²dockerfile

```
docker build -t mybeego:1.0 .
```



## bee å·¥å…·é…ç½®æ–‡ä»¶

æ‚¨å¯èƒ½å·²ç»æ³¨æ„åˆ°ï¼Œåœ¨ bee å·¥å…·çš„æºç ç›®å½•ä¸‹æœ‰ä¸€ä¸ª `bee.json` æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯é’ˆå¯¹ bee å·¥å…·çš„ä¸€äº›è¡Œä¸ºè¿›è¡Œé…ç½®ã€‚è¯¥åŠŸèƒ½è¿˜æœªå®Œå…¨å¼€å‘å®Œæˆï¼Œä¸è¿‡å…¶ä¸­çš„ä¸€äº›é€‰é¡¹å·²ç»å¯ä»¥ä½¿ç”¨ï¼š

- `"version": 0`ï¼šé…ç½®æ–‡ä»¶ç‰ˆæœ¬ï¼Œç”¨äºå¯¹æ¯”æ˜¯å¦å‘ç”Ÿä¸å…¼å®¹çš„é…ç½®æ ¼å¼ç‰ˆæœ¬ã€‚
- `"go_install": false`ï¼šå¦‚æœæ‚¨çš„åŒ…å‡ä½¿ç”¨å®Œæ•´çš„å¯¼å…¥è·¯å¾„ï¼ˆä¾‹å¦‚ï¼š`github.com/user/repo/subpkg`ï¼‰,åˆ™å¯ä»¥å¯ç”¨è¯¥é€‰é¡¹æ¥è¿›è¡Œ `go install` æ“ä½œï¼ŒåŠ å¿«æ„å»ºæ“ä½œã€‚
- `"watch_ext": []`ï¼šç”¨äºç›‘æ§å…¶å®ƒç±»å‹çš„æ–‡ä»¶ï¼ˆé»˜è®¤åªç›‘æ§åç¼€ä¸º `.go` çš„æ–‡ä»¶ï¼‰ã€‚
- `"dir_structure":{}`ï¼šå¦‚æœæ‚¨çš„ç›®å½•åä¸é»˜è®¤çš„ MVC æ¶æ„çš„ä¸åŒï¼Œåˆ™å¯ä»¥ä½¿ç”¨è¯¥é€‰é¡¹è¿›è¡Œä¿®æ”¹ã€‚
- `"cmd_args": []`ï¼šå¦‚æœæ‚¨éœ€è¦åœ¨æ¯æ¬¡å¯åŠ¨æ—¶åŠ å…¥å¯åŠ¨å‚æ•°ï¼Œåˆ™å¯ä»¥ä½¿ç”¨è¯¥é€‰é¡¹ã€‚
- `"envs": []`ï¼šå¦‚æœæ‚¨éœ€è¦åœ¨æ¯æ¬¡å¯åŠ¨æ—¶è®¾ç½®ä¸´æ—¶ç¯å¢ƒå˜é‡å‚æ•°ï¼Œåˆ™å¯ä»¥ä½¿ç”¨è¯¥é€‰é¡¹ã€‚



## END é“¾æ¥

<ul><li><div><a href = '64.md' style='float:left'>â¬†ï¸ä¸Šä¸€èŠ‚ğŸ”—</a><a href = '66.md' style='float: right'>â¬‡ï¸ä¸‹ä¸€èŠ‚ğŸ”—</a></div></li></ul>

+ [â“‚ï¸å›åˆ°é¦–é¡µğŸ ](../README.md)

+ [**ğŸ«µå‚ä¸è´¡çŒ®ğŸ’â¤ï¸â€ğŸ”¥ğŸ’–**](https://nsddd.top/archives/contributors))

+ âœ´ï¸ç‰ˆæƒå£°æ˜ &copy; :æœ¬ä¹¦æ‰€æœ‰å†…å®¹éµå¾ª[CC-BY-SA 3.0åè®®ï¼ˆç½²å-ç›¸åŒæ–¹å¼å…±äº«ï¼‰&copy;](http://zh.wikipedia.org/wiki/Wikipedia:CC-by-sa-3.0åè®®æ–‡æœ¬) 

