# 1. åŸºæœ¬æ“ä½œæµ‹è¯•

ç®€å•çš„ä¾‹å­æ¥æµ‹è¯•ä¸‹åŸºæœ¬çš„æ“ä½œï¼š

```go
package main

/**
å®¢æˆ·ç«¯docåœ°å€ï¼šgithub.com/samuel/go-zookeeper/zk
**/
import (
    "fmt"
    "time"

    zk "github.com/samuel/go-zookeeper/zk"
)

/**
 * è·å–ä¸€ä¸ªzkè¿æ¥
 * @return {[type]}
 */
func getConnect(zkList []string) (conn *zk.Conn) {
    conn, _, err := zk.Connect(zkList, 10*time.Second)
    if err != nil {
        fmt.Println(err)
    }
    return
}

/**
 * æµ‹è¯•è¿æ¥
 * @return
 */
func test1() {
    zkList := []string{"localhost:2181"}
    conn := getConnect(zkList)

    defer conn.Close()
    var flags int32 = 0
    //flagsæœ‰4ç§å–å€¼ï¼š
    //0:æ°¸ä¹…ï¼Œé™¤éæ‰‹åŠ¨åˆ é™¤
    //zk.FlagEphemeral = 1:çŸ­æš‚ï¼Œsessionæ–­å¼€åˆ™æ”¹èŠ‚ç‚¹ä¹Ÿè¢«åˆ é™¤
    //zk.FlagSequence  = 2:ä¼šè‡ªåŠ¨åœ¨èŠ‚ç‚¹åé¢æ·»åŠ åºå·
    //3:Ephemeralå’ŒSequenceï¼Œå³ï¼ŒçŸ­æš‚ä¸”è‡ªåŠ¨æ·»åŠ åºå·
    conn.Create("/go_servers", nil, flags, zk.WorldACL(zk.PermAll)) // zk.WorldACL(zk.PermAll)æ§åˆ¶è®¿é—®æƒé™æ¨¡å¼

    time.Sleep(20 * time.Second)
}

/*
åˆ æ”¹ä¸å¢ä¸åŒåœ¨äºå…¶å‡½æ•°ä¸­çš„versionå‚æ•°,å…¶ä¸­versionæ˜¯ç”¨äº CASæ”¯æŒ
func (c *Conn) Set(path string, data []byte, version int32) (*Stat, error)
func (c *Conn) Delete(path string, version int32) error

demoï¼š
if err = conn.Delete(migrateLockPath, -1); err != nil {
    log.Error("conn.Delete(\"%s\") error(%v)", migrateLockPath, err)
}
*/

/**
 * æµ‹è¯•ä¸´æ—¶èŠ‚ç‚¹
 * @return {[type]}
 */
func test2() {
    zkList := []string{"localhost:2181"}
    conn := getConnect(zkList)

    defer conn.Close()
    conn.Create("/testadaadsasdsaw", nil, zk.FlagEphemeral, zk.WorldACL(zk.PermAll))

    time.Sleep(20 * time.Second)
}

/**
 * è·å–æ‰€æœ‰èŠ‚ç‚¹
 */
func test3() {
    zkList := []string{"localhost:2181"}
    conn := getConnect(zkList)

    defer conn.Close()

    children, _, err := conn.Children("/go_servers")
    if err != nil {
        fmt.Println(err)
    }
    fmt.Printf("%v \n", children)
}

func main() {
    test3()
```

## END é“¾æ¥
<ul><li><div><a href = '35.md' style='float:left'>â¬†ï¸ä¸Šä¸€èŠ‚ğŸ”—</a><a href = '37.md' style='float: right'>â¬‡ï¸ä¸‹ä¸€èŠ‚ğŸ”—</a></div></li></ul>

+ [â“‚ï¸å›åˆ°é¦–é¡µğŸ ](../README.md)

+ [**ğŸ«µå‚ä¸è´¡çŒ®ğŸ’â¤ï¸â€ğŸ”¥ğŸ’–**](https://nsddd.top/archives/contributors))

+ âœ´ï¸ç‰ˆæƒå£°æ˜ &copy; :æœ¬ä¹¦æ‰€æœ‰å†…å®¹éµå¾ª[CC-BY-SA 3.0åè®®ï¼ˆç½²å-ç›¸åŒæ–¹å¼å…±äº«ï¼‰&copy;](http://zh.wikipedia.org/wiki/Wikipedia:CC-by-sa-3.0åè®®æ–‡æœ¬) 

