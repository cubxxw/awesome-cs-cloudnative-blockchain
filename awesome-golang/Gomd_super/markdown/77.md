# 1. å®æ—¶è¯»å–æ–‡ä»¶å†…å®¹

åœ¨åšæ—¥å¿—åˆ†æçš„æ—¶å€™ï¼Œéœ€è¦å®æ—¶çš„è·å–æ—¥å¿—é‡Œé¢çš„å†…å®¹æ‰¾åˆ°äº†tailæ„Ÿè§‰å¥½ä¸é”™åˆ†äº«ç»™å¤§å®¶

```go
package main

import (
    "fmt"
    "time"

    "github.com/hpcloud/tail"
)

func main() {
    fileName := "./my.log"
    config := tail.Config{
        ReOpen:    true,                                 // é‡æ–°æ‰“å¼€
        Follow:    true,                                 // æ˜¯å¦è·Ÿéš
        Location:  &tail.SeekInfo{Offset: 0, Whence: 2}, // ä»æ–‡ä»¶çš„å“ªä¸ªåœ°æ–¹å¼€å§‹è¯»
        MustExist: false,                                // æ–‡ä»¶ä¸å­˜åœ¨ä¸æŠ¥é”™
        Poll:      true,
    }
    tails, err := tail.TailFile(fileName, config)
    if err != nil {
        fmt.Println("tail file failed, err:", err)
        return
    }
    var (
        line *tail.Line
        ok   bool
    )
    for {
        line, ok = <-tails.Lines
        if !ok {
            fmt.Printf("tail file close reopen, filename:%s\n", tails.Filename)
            time.Sleep(time.Second)
            continue
        }
        fmt.Println("line:", line.Text)
    }
}
```

åœ¨åŒçº§ç›®å½•ä¸‹é¢å®šä¹‰ä¸€ä¸ªmy.logæ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶é‡Œé¢å†™å…¥æ–‡å­—æ•²ä¸‹å›è½¦ï¼Œå¹¶ä¸”ä¿å­˜ä¹‹åï¼Œç¨‹åºä¼šè‡ªåŠ¨çš„è·å–å¹¶ä¸”æ‰“å°ï¼Œå¯ä»¥æ ¹æ®ä¸šåŠ¡éœ€è¦å°±è¡Œä¿®æ”¹

## END é“¾æ¥
<ul><li><div><a href = '76.md' style='float:left'>â¬†ï¸ä¸Šä¸€èŠ‚ğŸ”—</a><a href = '78.md' style='float: right'>â¬‡ï¸ä¸‹ä¸€èŠ‚ğŸ”—</a></div></li></ul>

+ [â“‚ï¸å›åˆ°é¦–é¡µğŸ ](../README.md)

+ [**ğŸ«µå‚ä¸è´¡çŒ®ğŸ’â¤ï¸â€ğŸ”¥ğŸ’–**](https://nsddd.top/archives/contributors))

+ âœ´ï¸ç‰ˆæƒå£°æ˜ &copy; :æœ¬ä¹¦æ‰€æœ‰å†…å®¹éµå¾ª[CC-BY-SA 3.0åè®®ï¼ˆç½²å-ç›¸åŒæ–¹å¼å…±äº«ï¼‰&copy;](http://zh.wikipedia.org/wiki/Wikipedia:CC-by-sa-3.0åè®®æ–‡æœ¬) 

