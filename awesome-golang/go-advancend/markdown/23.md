+ [author](https://github.com/3293172751)

# ç¬¬23èŠ‚ åœ¨çº¿è¯å…¸ï¼ˆè°ƒç”¨ç¬¬ä¸‰æ–¹APIæ¡ˆä¾‹ï¼‰

+ [å›åˆ°ç›®å½•](../README.md)
+ [ä¸Šä¸€èŠ‚](22.md)
> â¤ï¸ğŸ’•ğŸ’•Goè¯­è¨€é«˜çº§ç¯‡ç« ,åœ¨æ­¤ä¹‹å‰å»ºè®®ä½ å…ˆäº†è§£åŸºç¡€å’Œè¿›é˜¶ç¯‡ã€‚Myblog:[http://nsddd.top](http://nsddd.top/)
###  **[Goè¯­è¨€åŸºç¡€ç¯‡](https://github.com/cubxxw/awesome-cs-cloudnative-blockchain/blob/master/TOC.md)**
###  **[Goè¯­è¨€100ç¯‡è¿›é˜¶](https://github.com/cubxxw/awesome-cs-cloudnative-blockchain/blob/master/Gomd_super/README.md)**
---
[TOC]

## ä»‹ç»

**å®ç°ä¸€ä¸ªç®€å•çš„åœ¨çº¿è¯å…¸ï¼Œä½¿ç”¨ CLI çš„å‚æ•°è°ƒç”¨ç¬¬ä¸‰æ–¹è¯å…¸å¹¶ä¸”è¿”å›ç¿»è¯‘ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š**

```bash
#\go-by-example\simpledict\v4> go run .\main.go cloud
cloud UK: [klaud] US: [klaÊŠd]
n.äº‘;å¤§ç¾¤;(é•œé¢)æœ¦èƒ§;é»‘å½±;é˜´å½±;ç‘•ç–µ;å«Œç–‘;é›†åˆ
vt.å¦‚äº‘ä¸€èˆ¬åœ°è¦†ç›–;ä½¿é˜´æš—;ç·æ±¡;å¼„è„
vi.é˜´äº‘å¯†å¸ƒ;å˜æ¨¡ç³Š
```



## TDD

[[TDD]] æ˜¯æµ‹è¯•é©±åŠ¨å¼€å‘çš„ç¼©å†™ã€‚è¿™æ˜¯ä¸€ç§è½¯ä»¶å¼€å‘æ–¹æ³•ï¼Œè¦æ±‚åœ¨ç¼–å†™ä»£ç ä¹‹å‰å…ˆç¼–å†™æµ‹è¯•ï¼Œå¹¶åœ¨ç¼–å†™ä»£ç æ—¶é‡å¤è¿è¡Œè¿™äº›æµ‹è¯•ã€‚è¿™æ ·å¯ä»¥ç¡®ä¿ä»£ç æŒ‰é¢„æœŸå·¥ä½œï¼Œå¹¶åœ¨å¼€å‘è¿‡ç¨‹ä¸­å‘ç°é—®é¢˜ã€‚

ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾æˆ‘ä»¬è¦ç¼–å†™ä¸€ä¸ªGoè¯­è¨€å‡½æ•°ï¼Œè¯¥å‡½æ•°æ¥å—ä¸¤ä¸ªæ•´æ•°å¹¶è¿”å›å®ƒä»¬çš„å’Œã€‚åœ¨ä½¿ç”¨TDDæ–¹æ³•å¼€å‘æ—¶ï¼Œæˆ‘ä»¬é¦–å…ˆç¼–å†™æµ‹è¯•å‡½æ•°ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```go
func TestSum(t *testing.T) {
    result := Sum(2, 3)
    expected := 5
    if result != expected {
        t.Errorf("Expected %d but got %d", expected, result)
    }
}
```

è¿™ä¸ªæµ‹è¯•å‡½æ•°ä½¿ç”¨äº†Goè¯­è¨€çš„testingåŒ…ï¼Œå®ƒæ£€æŸ¥è°ƒç”¨Sum(2,3)æ˜¯å¦è¿”å›æ­£ç¡®çš„ç»“æœã€‚

ç„¶åæˆ‘ä»¬ç¼–å†™Sumå‡½æ•°

```go
func Sum(a int, b int) int {
    return a + b
}
```

è¿™æ—¶æˆ‘ä»¬å¯ä»¥è¿è¡Œæµ‹è¯•ï¼Œå¦‚æœæµ‹è¯•é€šè¿‡ï¼Œåˆ™è¯´æ˜Sumå‡½æ•°æŒ‰é¢„æœŸå·¥ä½œã€‚å¦‚æœæµ‹è¯•ä¸é€šè¿‡ï¼Œåˆ™è¯´æ˜å‡½æ•°å­˜åœ¨é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦è°ƒæ•´ä»£ç å¹¶å†æ¬¡è¿è¡Œæµ‹è¯•ã€‚

æœ€åæˆ‘ä»¬å¯ä»¥è¿è¡Œ go test æ¥è¿è¡Œæ‰€æœ‰çš„å•å…ƒæµ‹è¯•ã€‚

```bash
$ go test
PASS
ok      example/sum        0.002s
```

è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç¡®ä¿ä»£ç æŒ‰é¢„æœŸå·¥ä½œï¼Œå¹¶åœ¨å¼€å‘è¿‡ç¨‹ä¸­å‘ç°é—®é¢˜ã€‚

**ä½œä¸ºä¸€ä¸ªå¼€æºçš„çˆ±å¥½è€…ï¼Œæˆ‘å–œæ¬¢åœ¨GitHub actionsè¿›è¡Œæµ‹è¯•ï¼Œåœ¨ projects ä¸Šè¿›è¡Œé¡¹ç›®è·Ÿè¸ªå’Œç®¡ç†ã€‚**

åœ¨GitHubä¸­ä½¿ç”¨ Projects å’Œ Actions æ¥å®ç°CI/CDæµç¨‹éœ€è¦å‡ ä¸ªæ­¥éª¤ã€‚

1. åœ¨GitHubä¸Šåˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®ï¼Œæˆ–æ‰“å¼€ç°æœ‰é¡¹ç›®ã€‚
2. åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º ".github/workflows" çš„ç›®å½•ï¼Œå¹¶åœ¨å…¶ä¸­åˆ›å»ºä¸€ä¸ª yml æ–‡ä»¶æ¥é…ç½®ä½ çš„å·¥ä½œæµç¨‹ã€‚ ä¾‹å¦‚ï¼Œä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªåä¸º "ci.yml" çš„æ–‡ä»¶æ¥é…ç½®æŒç»­é›†æˆå·¥ä½œæµç¨‹ã€‚
3. åœ¨ymlæ–‡ä»¶ä¸­ï¼Œä½¿ç”¨ GitHub Actions æä¾›çš„è¯­æ³•é…ç½®ä½ çš„å·¥ä½œæµç¨‹ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥é…ç½®åœ¨æ¯æ¬¡æäº¤åè¿è¡Œå•å…ƒæµ‹è¯•ï¼Œå¹¶åœ¨æµ‹è¯•é€šè¿‡åè‡ªåŠ¨éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒã€‚
4. æäº¤æ›´æ”¹å¹¶æ¨é€åˆ°GitHubã€‚
5. ä½¿ç”¨ GitHub Projects æ¥ç®¡ç†ä½ çš„é¡¹ç›®ã€‚åœ¨ GitHub ä¸Šåˆ›å»ºä¸€ä¸ªé¡¹ç›®ä»ªè¡¨æ¿ï¼Œå¹¶å°†å…¶ä¸ä½ çš„é¡¹ç›®å…³è”ã€‚ä½ å¯ä»¥ä½¿ç”¨æ­¤ä»ªè¡¨æ¿æ¥è·Ÿè¸ªé¡¹ç›®è¿›åº¦ï¼ŒæŸ¥çœ‹å¾…åŠäº‹é¡¹åˆ—è¡¨å’Œé—®é¢˜è·Ÿè¸ªã€‚
6. é€šè¿‡åœ¨ GitHub Actions ä¸­é…ç½® webhooksï¼Œå¯ä»¥è®©æ¯æ¬¡æäº¤éƒ½è‡ªåŠ¨è§¦å‘å·¥ä½œæµç¨‹ã€‚
7. åœ¨Actionsä¸­æŸ¥çœ‹æ„å»ºå’Œéƒ¨ç½²ç»“æœã€‚



**ci.yaml æ–‡ä»¶ï¼š**

```yaml
name: CI

on:
  push:
    branches:
      - main
  pull_request:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout code
      uses: actions/checkout@v2

    - name: Run tests
      run: go test -v ./...
```

> âš ï¸ å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥ä¿®æ”¹ yaml æ–‡ä»¶ï¼Œé…ç½®ä¸€ä¸ªç®€å•çš„å·¥ä½œæµç¨‹ï¼Œåœ¨æ¯æ¬¡ issue åˆ›å»ºæˆ– pull request æ—¶å°†ç›¸å…³ä¿¡æ¯å†™å…¥é¡¹ç›®ã€‚è¿™æ ·å¯ä»¥èŠ‚çœå¾ˆå¤šæ—¶é—´ï¼Œå…·ä½“ç”¨æ³•çœ‹GitHubå®˜æ–¹æ–‡æ¡£ï¼Œæˆ‘è§‰å¾—å¾ˆéº»çƒ¦ä¸æ¼”ç¤ºäº†ã€‚

**å½“ç„¶ï¼Œæˆ‘ä»¬åº”è¯¥å……åˆ†åˆ©ç”¨ GitHub å¸¦ç»™æˆ‘ä»¬çš„å¸®åŠ©ï¼Œå¯¹äºæˆ‘æ¥è¯´ï¼Œå¯¹äºä¸€ä¸ªä¼˜ç§€çš„GitHubä½¿ç”¨è€…æ¥è¯´ï¼Œåœ¨å·¥ç¨‹ä»£ç å¼€æˆ˜å‰ï¼Œä½ æ˜¯å¦åº”è¯¥è€ƒè™‘ æ–‡æ¡£ã€æµ‹è¯•å…ˆè¡Œã€CI å¸®åŠ©ä½ è‡ªåŠ¨æ¨è¿›ã€‚**



## æµ‹è¯•è¦†ç›–ç‡ coverage

å¯¹äº coverage æ¥è¯´ï¼Œå¯¹äºå¼€æºé¡¹ç›®æ— ç–‘æ˜¯éå¸¸é‡è¦çš„ï¼Œå¦‚ä¸‹ï¼š

![image-20230114150113512](http://sm.nsddd.top/sm202301141501718.png)

**è¦†ç›–ç‡é«˜è¾¾ 98% çš„é¡¹ç›®ï¼Œå¿…ç„¶æ›´å— contributor å–œçˆ±ã€‚ **

å½“ç„¶ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œcode climateï¼ˆä»£ç å®¡æ ¸ï¼‰ä¹Ÿå¾ˆé‡è¦ï¼Œ4.0 çš„æŒ‡æ•°æ„å‘³ç€è´¨é‡çš„ä¿è¯ã€‚

> Code Climate æ˜¯ä¸€ä¸ªåœ¨çº¿ä»£ç è´¨é‡åˆ†æå¹³å°ï¼Œå¯ä»¥å¸®åŠ©æ‚¨æé«˜ä»£ç è´¨é‡å¹¶ç®¡ç†æŠ€æœ¯å€ºåŠ¡ã€‚å®ƒå¯ä»¥å¯¹æ‚¨çš„ä»£ç è¿›è¡Œé™æ€åˆ†æï¼Œä»¥æ£€æµ‹å’ŒæŠ¥å‘Šæ½œåœ¨çš„é—®é¢˜ï¼Œå¦‚ä»£ç é‡å¤ã€æ¼æ´ã€ä»£ç è¦†ç›–ç‡ç­‰ã€‚
>
> Code Climate å¯ä»¥ä¸ GitHub é›†æˆï¼Œå¹¶åœ¨æ¯æ¬¡æäº¤æˆ–æ‹‰å–è¯·æ±‚æ—¶è‡ªåŠ¨è¿è¡Œåˆ†æã€‚æ‚¨å¯ä»¥åœ¨ Code Climate çš„ç½‘ç«™ä¸ŠæŸ¥çœ‹åˆ†ææŠ¥å‘Šå’Œç»Ÿè®¡æ•°æ®ï¼Œå¹¶ä½¿ç”¨å…¶ä¸­çš„å·¥å…·æ¥ç®¡ç†æ‚¨çš„ä»£ç åº“ã€‚





## è·å– API

é€‰æ‹© [å½©äº‘ç§‘æŠ€](https://fanyi.caiyunapp.com)

![image-20230114154742796](http://sm.nsddd.top/sm202301141547085.png)



**æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ‰¾åˆ°è‡ªå·±æƒ³è¦çš„æ•°æ®äº†ï¼š**

![image-20230114154857843](http://sm.nsddd.top/sm202301141548925.png)



**ä¸‹ä¸€æ­¥ï¼Œæˆ‘ä»¬æƒ³åŠæ³•å» Golang è·å–è¯·æ±‚ã€‚**



## ä¸€é”®ç”Ÿæˆè¯·æ±‚

**å³é”®å¤åˆ¶è¯·æ±‚ cURL ï¼Œå¾—åˆ°è¯·æ±‚çš„ json æ•°æ®ï¼š**

```json
curl 'https://api.interpreter.caiyunai.com/v1/dict' \
  -H 'authority: api.interpreter.caiyunai.com' \
  -H 'accept: application/json, text/plain, */*' \
  -H 'accept-language: zh-CN,zh;q=0.9,zh-HK;q=0.8,en-ZA;q=0.7,en;q=0.6' \
  -H 'app-name: xy' \
  -H 'content-type: application/json;charset=UTF-8' \
  -H 'device-id;' \
  -H 'origin: https://fanyi.caiyunapp.com' \
  -H 'os-type: web' \
  -H 'os-version;' \
  -H 'referer: https://fanyi.caiyunapp.com/' \
  -H 'sec-ch-ua: "Not?A_Brand";v="8", "Chromium";v="108", "Google Chrome";v="108"' \
  -H 'sec-ch-ua-mobile: ?0' \
  -H 'sec-ch-ua-platform: "Windows"' \
  -H 'sec-fetch-dest: empty' \
  -H 'sec-fetch-mode: cors' \
  -H 'sec-fetch-site: cross-site' \
  -H 'user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36' \
  -H 'x-authorization: token:qgemv4jr1y38jyq6vhvi' \
  --data-raw '{"trans_type":"en2zh","source":"hello"}' \
  --compressed
```



**ç”Ÿæˆä»£ç ï¼š**

+ [x] [ç½‘å€](https://curlconverter.com/go/)

```go
package main

import (
	"fmt"
	"io/ioutil"
	"log"
	"net/http"
	"strings"
)

func main() {
	client := &http.Client{}
	var data = strings.NewReader(`{"trans_type":"en2zh","source":"hello"}`)
    
    //è®¾ç½®è¯·æ±‚å¤´
	req, err := http.NewRequest("POST", "https://api.interpreter.caiyunai.com/v1/dict", data)
	if err != nil {
		log.Fatal(err)
	}
	req.Header.Set("authority", "api.interpreter.caiyunai.com")
	req.Header.Set("accept", "application/json, text/plain, */*")
	req.Header.Set("accept-language", "zh-CN,zh;q=0.9,zh-HK;q=0.8,en-ZA;q=0.7,en;q=0.6")
	req.Header.Set("app-name", "xy")
	req.Header.Set("content-type", "application/json;charset=UTF-8")
	req.Header.Set("device-id", "")
	req.Header.Set("origin", "https://fanyi.caiyunapp.com")
	req.Header.Set("os-type", "web")
	req.Header.Set("os-version", "")
	req.Header.Set("referer", "https://fanyi.caiyunapp.com/")
	req.Header.Set("sec-ch-ua", `"Not?A_Brand";v="8", "Chromium";v="108", "Google Chrome";v="108"`)
	req.Header.Set("sec-ch-ua-mobile", "?0")
	req.Header.Set("sec-ch-ua-platform", `"Windows"`)
	req.Header.Set("sec-fetch-dest", "empty")
	req.Header.Set("sec-fetch-mode", "cors")
	req.Header.Set("sec-fetch-site", "cross-site")
	req.Header.Set("user-agent", "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36")
	req.Header.Set("x-authorization", "token:qgemv4jr1y38jyq6vhvi")
	resp, err := client.Do(req)
	if err != nil {
		log.Fatal(err)
	}
	defer resp.Body.Close()	//deferï¼šæ ˆ
	bodyText, err := ioutil.ReadAll(resp.Body)
	if err != nil {
		log.Fatal(err)
	}
	fmt.Printf("%s\n", bodyText)
}
```

ğŸš€ ç¼–è¯‘ç»“æœå¦‚ä¸‹ï¼š

```bash
PS D:\æ–‡æ¡£\æœ€è¿‘çš„\awesome-golang\docs\code\go-by-example\simpledict\v4> go run .\test.go cloud
{"rc":0,"wiki":{"known_in_laguages":19,"description":{"source":"salutation or greeting","target":null},"id":"Q12068060","item":{"source":"hello","target":"Hello"},"image_url":"http:\/\/www.caiyunapp.com\/imgs\/link_default_img.png","is_subject":"true","sitelink":"https:\/\/www.caiyunapp.com\/read_mode\/?id=5c1654ca4faac90001a6f17a"},"dictionary":{"prons":{"en-us":"[h\u0259\u02c8lo]","en":"[\u02c8he\u02c8l\u0259u]"},"explanations":["int.\u5582;\u54c8\u7f57","n.\u5f15\u4eba\u6ce8\u610f\u7684\u547c\u58f0","v.\u5411\u4eba\u547c(\u5582)"],"synonym":["greetings","salutations"],"antonym":[],"wqx_example":[["say hello to","\u5411\u67d0\u4eba\u95ee\u5019,\u548c\u67d0\u4eba\u6253\u62db\u547c"],["Say hello to him for me . ","\u4ee3\u6211\u95ee\u5019\u4ed6\u3002"]],"entry":"hello","type":"word","related":[],"source":"wenquxing"}}
```



**ç»™å‡ºçš„è¯·æ±‚åºåˆ—åŒ–ï¼Œå¾—åˆ°çš„æ˜¯ jsonååºåˆ—åŒ–å³å¯~**



## åˆ—åŒ– json

åºåˆ—åŒ–æ–¹æ³•ï¼š

![image-20230114160934553](http://sm.nsddd.top/sm202301141609708.png)



**å˜æ›´ï¼š**

![image-20230114161211900](http://sm.nsddd.top/sm202301141612077.png)



## ååºåˆ—åŒ–

+ [x] [åœ¨çº¿å·¥å…· - OKTools jsonè½¬å‘å…¶ä»–è¯­è¨€ç»“æ„ä½“å’Œä»£ç ](https://oktools.net/)

```go
type AutoGenerated struct {
	Rc int `json:"rc"`
	Wiki struct {
		KnownInLaguages int `json:"known_in_laguages"`
		Description struct {
			Source string `json:"source"`
			Target interface{} `json:"target"`
		} `json:"description"`
		ID string `json:"id"`
		Item struct {
			Source string `json:"source"`
			Target string `json:"target"`
		} `json:"item"`
		ImageURL string `json:"image_url"`
		IsSubject string `json:"is_subject"`
		Sitelink string `json:"sitelink"`
	} `json:"wiki"`
	Dictionary struct {
		Prons struct {
			EnUs string `json:"en-us"`
			En string `json:"en"`
		} `json:"prons"`
		Explanations []string `json:"explanations"`
		Synonym []string `json:"synonym"`
		Antonym []interface{} `json:"antonym"`
		WqxExample [][]string `json:"wqx_example"`
		Entry string `json:"entry"`
		Type string `json:"type"`
		Related []interface{} `json:"related"`
		Source string `json:"source"`
	} `json:"dictionary"`
}
```



## æºç å’Œæµ‹è¯•

**ğŸ’¡ç®€å•çš„ä¸€ä¸ªæ¡ˆä¾‹å¦‚ä¸‹ï¼š**

```go
package main

import (
	"bytes"
	"encoding/json"
	"fmt"
	"io/ioutil"
	"log"
	"net/http"
	"os"
)

/*
cURL
*/

type DictRequest struct {
	TransType string `json:"trans_type"`
	Source    string `json:"source"`
	UserID    string `json:"user_id"`
}

type DictResponse struct {
	Rc   int `json:"rc"`
	Wiki struct {
		KnownInLaguages int `json:"known_in_laguages"`
		Description     struct {
			Source string      `json:"source"`
			Target interface{} `json:"target"`
		} `json:"description"`
		ID   string `json:"id"`
		Item struct {
			Source string `json:"source"`
			Target string `json:"target"`
		} `json:"item"`
		ImageURL  string `json:"image_url"`
		IsSubject string `json:"is_subject"`
		Sitelink  string `json:"sitelink"`
	} `json:"wiki"`
	Dictionary struct {
		Prons struct {
			EnUs string `json:"en-us"`
			En   string `json:"en"`
		} `json:"prons"`
		Explanations []string      `json:"explanations"`
		Synonym      []string      `json:"synonym"`
		Antonym      []string      `json:"antonym"`
		WqxExample   [][]string    `json:"wqx_example"`
		Entry        string        `json:"entry"`
		Type         string        `json:"type"`
		Related      []interface{} `json:"related"`
		Source       string        `json:"source"`
	} `json:"dictionary"`
}

func query(word string) {
	client := &http.Client{}
	request := DictRequest{TransType: "en2zh", Source: word}
	buf, err := json.Marshal(request)
	if err != nil {
		log.Fatal(err)
	}
	var data = bytes.NewReader(buf)
	req, err := http.NewRequest("POST", "https://api.interpreter.caiyunai.com/v1/dict", data)
	if err != nil {
		log.Fatal(err)
	}
	req.Header.Set("Connection", "keep-alive")
	req.Header.Set("DNT", "1")
	req.Header.Set("os-version", "")
	req.Header.Set("sec-ch-ua-mobile", "?0")
	req.Header.Set("User-Agent", "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4844.51 Safari/537.36")
	req.Header.Set("app-name", "xy")
	req.Header.Set("Content-Type", "application/json;charset=UTF-8")
	req.Header.Set("Accept", "application/json, text/plain, */*")
	req.Header.Set("device-id", "")
	req.Header.Set("os-type", "web")
	req.Header.Set("X-Authorization", "token:qgemv4jr1y38jyq6vhvi")
	req.Header.Set("Origin", "https://fanyi.caiyunapp.com")
	req.Header.Set("Sec-Fetch-Site", "cross-site")
	req.Header.Set("Sec-Fetch-Mode", "cors")
	req.Header.Set("Sec-Fetch-Dest", "empty")
	req.Header.Set("Referer", "https://fanyi.caiyunapp.com/")
	req.Header.Set("Accept-Language", "zh-CN,zh;q=0.9")
	req.Header.Set("Cookie", "_ym_uid=16456948721020430059; _ym_d=1645694872")
	resp, err := client.Do(req)
	if err != nil {
		log.Fatal(err)
	}
	defer resp.Body.Close()
	bodyText, err := ioutil.ReadAll(resp.Body)
	if err != nil {
		log.Fatal(err)
	}
	if resp.StatusCode != 200 {
		log.Fatal("bad StatusCode:", resp.StatusCode, "body", string(bodyText))
	}
	var dictResponse DictResponse
	err = json.Unmarshal(bodyText, &dictResponse)
	if err != nil {
		log.Fatal(err)
	}
	fmt.Println(word, "UK:", dictResponse.Dictionary.Prons.En, "US:", dictResponse.Dictionary.Prons.EnUs)
	for _, item := range dictResponse.Dictionary.Explanations {
		fmt.Println(item)
	}
}

func main() {
	if len(os.Args) != 2 {
		fmt.Fprintf(os.Stderr, `usage: simpleDict WORD
example: simpleDict hello
		`)
		os.Exit(1)
	}
	word := os.Args[1]
	query(word)
}
```

è¿™æ®µä»£ç æ˜¯ä½¿ç”¨ Go è¯­è¨€è¯·æ±‚ç¿»è¯‘ APIï¼Œç„¶åå¯¹å“åº”æ•°æ®è¿›è¡Œè§£æã€‚

é¦–å…ˆæ˜¯å¯¼å…¥äº†ä¸€äº› Go å†…ç½®åº“ï¼Œå…¶ä¸­ "net/http" å’Œ "encoding/json" åœ¨æœ¬ä»£ç ä¸­èµ·åˆ°é‡è¦ä½œç”¨ã€‚

æ¥ç€å®šä¹‰äº† DictRequest å’Œ DictResponse ä¸¤ä¸ªç»“æ„ä½“ï¼Œå®ƒä»¬åˆ†åˆ«ç”¨äºè¯·æ±‚æ•°æ®å’Œå“åº”æ•°æ®çš„è§£æã€‚

query å‡½æ•°ä¸­ï¼Œé¦–å…ˆåˆ›å»ºäº†ä¸€ä¸ª http.Client å®ä¾‹ï¼Œç„¶åä½¿ç”¨ json.Marshal å°†è¯·æ±‚æ•°æ®è½¬æ¢ä¸º json æ ¼å¼ï¼Œå¹¶ä½¿ç”¨ http.NewRequest åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„è¯·æ±‚ã€‚

æ¥ç€è®¾ç½®è¯·æ±‚å¤´ä¿¡æ¯ï¼Œè¿™äº›ä¿¡æ¯éƒ½æ˜¯è¯·æ±‚ API æ‰€éœ€çš„ã€‚æœ€åè°ƒç”¨ client.Do å‡½æ•°å‘é€è¯·æ±‚ã€‚

åœ¨è¿™é‡Œï¼Œå“åº”æ•°æ®è¢«è§£æåˆ°äº† DictResponse ç»“æ„ä½“ä¸­ï¼Œå¹¶è¾“å‡ºåˆ°ç»ˆç«¯ã€‚



**ğŸš€ ç¼–è¯‘ç»“æœå¦‚ä¸‹ï¼š**

```
PS D:\æ–‡æ¡£\æœ€è¿‘çš„\awesome-golang\docs\code\go-by-example\simpledict\v4> go run .\main.go  cub   
cub UK: [kÊŒb] US: [kÊŒb]
n.å¹¼ä»”
[ä¿—]åˆå‡ºèŒ…åºè€…
[å£è¯­]å°ä¼™å­;ç‰›æ ;ç‰›æ£š;é¥²æ–™æ§½
```



## END é“¾æ¥

+ [å›åˆ°ç›®å½•](../README.md)
+ [ä¸Šä¸€èŠ‚](22.md)
+ [ä¸‹ä¸€èŠ‚](24.md)
---
+ [å‚ä¸è´¡çŒ®â¤ï¸ğŸ’•ğŸ’•](https://github.com/cubxxw/awesome-cs-cloudnative-blockchain/blob/master/Git/git-contributor.md)