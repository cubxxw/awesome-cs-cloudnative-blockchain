+ [author](https://github.com/3293172751)
# ç¬¬27èŠ‚ go tool
+ [å›åˆ°ç›®å½•](../README.md)
+ [ä¸Šä¸€èŠ‚](26.md)
> â¤ï¸ğŸ’•ğŸ’•Goè¯­è¨€é«˜çº§ç¯‡ç« ,åœ¨æ­¤ä¹‹å‰å»ºè®®æ‚¨å…ˆäº†è§£åŸºç¡€å’Œè¿›é˜¶ç¯‡ã€‚Myblog:[http://nsddd.top](http://nsddd.top/)
###  **[Goè¯­è¨€åŸºç¡€ç¯‡](https://github.com/3293172751/Block_Chain/blob/master/TOC.md)**
###  **[Goè¯­è¨€100ç¯‡è¿›é˜¶](https://github.com/3293172751/Block_Chain/blob/master/Gomd_super/README.md)**
---
[TOC]

## Go Tool

**è°ƒå‡ºCLIï¼š**

```bash
root@cubmaster01:/workspces/tiktok# go tool 
addr2line
asm
buildid
cgo
compile
cover
dist
doc
fix
link
nm
objdump
pack
pprof
test2json
trace
vet
```

è¿™äº›æ˜¯ Go è¯­è¨€çš„å‘½ä»¤è¡Œå·¥å…·ã€‚å®ƒä»¬ç”¨äºç¼–è¯‘ã€æµ‹è¯•å’Œè°ƒè¯• Go ç¨‹åºã€‚

+ `addr2line` å¯ä»¥å°†äºŒè¿›åˆ¶æ–‡ä»¶ä¸­çš„åœ°å€è½¬æ¢ä¸ºæºä»£ç ä¸­çš„è¡Œå·å’Œå‡½æ•°åã€‚
+ `asm` å¯ä»¥å°† Go æºä»£ç ç¼–è¯‘ä¸ºæ±‡ç¼–è¯­è¨€ã€‚
+ `buildid` ç”¨äºåœ¨ç¼–è¯‘åçš„äºŒè¿›åˆ¶æ–‡ä»¶ä¸­æ·»åŠ æˆ–æ£€ç´¢ build IDã€‚
+ `cgo` ç”¨äºåœ¨ Go ä»£ç ä¸­ä½¿ç”¨ C ä»£ç ã€‚
+ `compile` ç”¨äºç¼–è¯‘ Go æºä»£ç ã€‚
+ `cover` ç”¨äºæ”¶é›†å’Œåˆ†æ Go ä»£ç è¦†ç›–ç‡æ•°æ®ã€‚
+ `dist` ç”¨äºæ„å»ºå’Œå‘å¸ƒ Go åŒ…ã€‚
+ `doc` ç”¨äºæŸ¥çœ‹ Go åŒ…æˆ–ç¨‹åºçš„æ–‡æ¡£ã€‚
+ `fix` ç”¨äºè‡ªåŠ¨ä¿®å¤ Go ä»£ç ä¸­çš„è¯­æ³•é”™è¯¯ã€‚
+ `link` ç”¨äºé“¾æ¥ Go ä»£ç ã€‚
+ `nm` ç”¨äºæ˜¾ç¤ºç¬¦å·è¡¨ã€‚
+ `objdump` ç”¨äºæ˜¾ç¤ºäºŒè¿›åˆ¶æ–‡ä»¶ä¸­çš„ä½çº§ä¿¡æ¯ã€‚
+ `pack` ç”¨äºæ‰“åŒ… Go æºä»£ç ã€‚
+ `pprof` [ç”¨äºæ”¶é›†å’Œåˆ†ææ€§èƒ½æ•°æ®ã€‚](https://github.com/eddycjy/blog/blob/master/content/posts/go/tools/2018-09-15-go-tool-pprof.md)
+ `test2json` ç”¨äºå°†æµ‹è¯•è¾“å‡ºè½¬æ¢ä¸º JSON æ ¼å¼ã€‚
+ `trace` ç”¨äºæ”¶é›†å’Œåˆ†æ Go ä»£ç çš„è¿è¡Œæ—¶è·Ÿè¸ªä¿¡æ¯ã€‚
+ `vet` ç”¨äºæ£€æŸ¥ Go ä»£ç ä¸­çš„å¯èƒ½é”™è¯¯ã€‚



## å®ä¾‹

### `go tool compile`

`go tool compile` ç”¨äºç¼–è¯‘ Go æºä»£ç ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œå®ƒç¼–è¯‘äº†ä¸€ä¸ªåä¸º "hello.go" çš„æ–‡ä»¶ï¼Œå¹¶ç”Ÿæˆäº†ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ "hello"ã€‚

```bash
$ go tool compile -o hello hello.go
```

> `go tool compile` å’Œ `go build` éƒ½ç”¨äºç¼–è¯‘ Go æºä»£ç ï¼Œä½†å®ƒä»¬æœ‰ä¸€äº›é‡è¦çš„åŒºåˆ«ã€‚
>
> `go build` æ˜¯ Go è¯­è¨€çš„æ ‡å‡†å‘½ä»¤ï¼Œå®ƒç”¨äºç¼–è¯‘ Go æºä»£ç å¹¶ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶æˆ–åº“ã€‚å®ƒçš„ä½¿ç”¨éå¸¸ç®€å•ï¼Œåªéœ€è¦æŒ‡å®šä¸€ä¸ªæˆ–å¤šä¸ª Go æºæ–‡ä»¶å³å¯ã€‚
>
> ```go
> $ go build main.go 
> ```
>
> `go tool compile` æ˜¯ Go è¯­è¨€çš„ä½çº§å‘½ä»¤ï¼Œå®ƒç”¨äºç¼–è¯‘ Go æºä»£ç å¹¶ç”Ÿæˆæœºå™¨ç ã€‚å®ƒæä¾›äº†æ›´å¤šçš„ç¼–è¯‘é€‰é¡¹å’Œæ›´ç»†ç²’åº¦çš„æ§åˆ¶ã€‚
>
> ```go
> $ go tool compile -o main main.go
> ```
>
> ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å»ºè®®ä½¿ç”¨ `go build`ï¼Œå› ä¸ºå®ƒæ›´ç®€å•ã€æ›´æ˜“ç”¨ã€‚å¦‚æœéœ€è¦æ›´ç»†ç²’åº¦çš„æ§åˆ¶æˆ–æ›´å¤šçš„ç¼–è¯‘é€‰é¡¹ï¼Œå¯ä»¥ä½¿ç”¨ `go tool compile`ã€‚



### `go tool cover`

`go tool cover` ç”¨äºæ”¶é›†å’Œåˆ†æ Go ä»£ç è¦†ç›–ç‡æ•°æ®ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œå®ƒè¿è¡Œäº† "hello_test.go" ä¸­çš„æµ‹è¯•ï¼Œå¹¶ç”Ÿæˆäº†ä¸€ä¸ªè¦†ç›–ç‡æŠ¥å‘Š "coverage.out"ã€‚

```bash
$ go test -coverprofile=coverage.out
$ go tool cover -func=coverage.out
```



### `go tool pprof`

`go tool pprof` ç”¨äºæ”¶é›†å’Œåˆ†ææ€§èƒ½æ•°æ®ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œå®ƒè¿è¡Œäº†ç¨‹åº "hello"ï¼Œå¹¶ç”Ÿæˆäº†ä¸€ä¸ªæ€§èƒ½åˆ†ææ–‡ä»¶ "cpu.pprof"ã€‚

```bash
$ go tool pprof -http=:8080 -seconds=60 -sample_index=2 -sample_interval=1s -sample_value=1s -file=cpu.pprof  hello
```

è¿™äº›å·¥å…·æä¾›äº†å¾ˆå¤šåŠŸèƒ½ï¼Œåœ¨ä½¿ç”¨æ—¶ï¼Œå¯ä»¥æŸ¥çœ‹å®Œæ•´çš„å¸®åŠ©ä¿¡æ¯ã€‚

```bash
$ go tool <toolname> -h
```

> cgoğŸ” 
>
> ```go
> root@cubmaster01:/workspces/tiktok# go tool cgo -h
> usage: cgo -- [compiler options] file.go ...
>   -V    print version and exit
>   -debug-define
>         print relevant #defines
>   -debug-gcc
>         print gcc invocations
>   -dynimport string
>         if non-empty, print dynamic import data for that file
>   -dynlinker
>         record dynamic linker information in -dynimport mode
>   -dynout string
>         write -dynimport output to this file
>   -dynpackage string
>         set Go package for -dynimport output (default "main")
>   -exportheader string
>         where to write export header if any exported functions
>   -gccgo
>         generate files for use with gccgo
>   -gccgopkgpath string
>         -fgo-pkgpath option used with gccgo
>   -gccgoprefix string
>         -fgo-prefix option used with gccgo
>   -godefs
>         for bootstrap: write Go definitions for C file to standard output
>   -import_runtime_cgo
>         import runtime/cgo in generated code (default true)
>   -import_syscall
>         import syscall in generated code (default true)
>   -importpath string
>         import path of package being built (for comments in generated files)
>   -objdir string
>         object directory
>   -srcdir string
>         source directory
>   -trimpath string
>         applies supplied rewrites or trims prefixes to recorded source file paths
> ```





## END é“¾æ¥
+ [å›åˆ°ç›®å½•](../README.md)
+ [ä¸Šä¸€èŠ‚](26.md)
+ [ä¸‹ä¸€èŠ‚](28.md)
---
+ [å‚ä¸è´¡çŒ®â¤ï¸ğŸ’•ğŸ’•](https://github.com/3293172751/Block_Chain/blob/master/Git/git-contributor.md)