+ [author](https://github.com/cubxxw/awesome-cs-cloudnative-blockchain)

# ç¬¬2èŠ‚ å•ä¸€èŒè´£åŸåˆ™

<div><a href = '1.md' style='float:left'>â¬†ï¸ä¸Šä¸€èŠ‚ğŸ”—</a><a href = '3.md' style='float: right'>â¬‡ï¸ä¸‹ä¸€èŠ‚ğŸ”—</a></div>
<br>

> â¤ï¸ğŸ’•ğŸ’•Javaå’ŒGolangçš„è®¾è®¡æ¨¡å¼ï¼Œè®¾è®¡æ¨¡å¼ä»‹ç»ã€åˆ›å»ºè€…æ¨¡å¼ã€ç»“æ„å‹æ¨¡å¼ã€è¡Œä¸ºå‹æ¨¡å¼ã€‚Myblog:[http://nsddd.top](http://nsddd.top/)

---
[TOC]

## ä»€ä¹ˆæ˜¯å•ä¸€èŒè´£åŸåˆ™

::: tip å•ä¸€èŒè´£åŸåˆ™
ç±»çš„èŒè´£å•ä¸€ï¼Œå¯¹å¤–åªæä¾›ä¸€ç§åŠŸèƒ½ï¼ŒäºŒå¼•èµ·ç±»å˜åŒ–çš„åŸå› éƒ½åªæœ‰ä¸€ä¸ª

:::



## Goè¯­è¨€ä¸­é€šå¸¸å¦‚ä½•å®ç°å•ä¾‹æ¨¡å¼

åœ¨Goè¯­è¨€ä¸­ï¼Œå¯ä»¥ä½¿ç”¨æ‡’æ±‰å¼æˆ–é¥¿æ±‰å¼æ¥å®ç°å•ä¾‹æ¨¡å¼ã€‚



### æ‡’æ±‰å¼

åœ¨æ‡’æ±‰å¼ä¸­ï¼Œå®ä¾‹å¯¹è±¡ä¸ä¼šåœ¨ç¨‹åºåˆå§‹åŒ–æ—¶è¢«åˆ›å»ºï¼Œè€Œæ˜¯åœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨è¯¥å®ä¾‹å¯¹è±¡æ—¶æ‰ä¼šè¢«åˆ›å»ºã€‚è¿™ç§æ–¹å¼å¯ä»¥é¿å…ä¸å¿…è¦çš„èµ„æºæµªè´¹ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨æ‡’æ±‰å¼å®ç°å•ä¾‹æ¨¡å¼çš„ç¤ºä¾‹ä»£ç ï¼š

```go
package main

import (
	"fmt"
	"sync"
)

type singleton struct{}

var instance *singleton
var once sync.Once

func GetInstance() *singleton {
	once.Do(func() {
		instance = &singleton{}
	})
	return instance
}

func main() {
	s1 := GetInstance()
	s2 := GetInstance()

	fmt.Println(s1, s2)

	// if s1 == s2
	if s1 == s2 {
		fmt.Println("s1 == s2") // yes
	} else {
		fmt.Println("s1 != s2")
	}
}
```

åœ¨ä¸Šè¿°å®ç°ä¸­ï¼Œ`once`å¯¹è±¡ä¿è¯äº†`GetInstance()`å‡½æ•°åªä¼šè¢«æ‰§è¡Œä¸€æ¬¡ã€‚ç¬¬ä¸€æ¬¡è°ƒç”¨`GetInstance()`å‡½æ•°æ—¶ï¼Œ`once.Do()`æ–¹æ³•ä¼šæ‰§è¡Œä¼ é€’ç»™å®ƒçš„åŒ¿åå‡½æ•°ï¼Œè¯¥åŒ¿åå‡½æ•°ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„`singleton`å¯¹è±¡ï¼Œå¹¶å°†å®ƒèµ‹å€¼ç»™`instance`å˜é‡ã€‚ä¹‹åå†æ¬¡è°ƒç”¨`GetInstance()`å‡½æ•°æ—¶ï¼Œå°±ä¼šç›´æ¥è¿”å›å·²ç»åˆ›å»ºå¥½çš„`instance`å˜é‡ã€‚



### é¥¿æ±‰å¼

åœ¨é¥¿æ±‰å¼ä¸­ï¼Œå®ä¾‹å¯¹è±¡åœ¨ç¨‹åºåˆå§‹åŒ–æ—¶å°±ä¼šè¢«åˆ›å»ºã€‚è¿™ç§æ–¹å¼å¯ä»¥ä¿è¯åœ¨ä»»ä½•æ—¶å€™éƒ½èƒ½å¤Ÿè·å¾—è¯¥å®ä¾‹å¯¹è±¡ï¼Œä½†æ˜¯å¯èƒ½ä¼šé€ æˆä¸å¿…è¦çš„èµ„æºæµªè´¹ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨é¥¿æ±‰å¼å®ç°å•ä¾‹æ¨¡å¼çš„ç¤ºä¾‹ä»£ç ï¼š

```go
package singleton

type singleton struct {}

var instance *singleton = &singleton{}

func GetInstance() *singleton {
    return instance
}
```







## ä»£ç 

ğŸ’¡ç®€å•çš„ä¸€ä¸ªæ¡ˆä¾‹å¦‚ä¸‹ï¼š

```go
/*
 * @Description: å•ä¸€èŒè´£åŸåˆ™
 * @Author: xiongxinwei 3293172751nss@gmail.com
 * @Date: 2022-10-26 20:08:39
 * @LastEditTime: 2022-10-26 20:15:04
 * @FilePath: \code\è®¾è®¡æ¨¡å¼\è®¾è®¡æ¨¡å¼ç¬¬1èŠ‚.go
 * @Github_Address: https://github.com/cubxxw/awesome-cs-cloudnative-blockchain
 * Copyright (c) 2022 by xiongxinwei 3293172751nss@gmail.com, All Rights Reserved. @blog: http://nsddd.top
 */
package main

import "fmt"

type Person struct {
	Name string
}

func (p *Person) Eat() {
}

func (p *Person) Sleep() {
}

func (p *Person) Work() {
}

func (p *Person) Drive() {
}

// Path: è®¾è®¡æ¨¡å¼\è®¾è®¡æ¨¡å¼ç¬¬1èŠ‚.go
//ä¸Šé¢çš„ä»£ç å¯ä»¥è®¾è®¡æˆå•ä¸€èŒè´£åŸåˆ™

type User struct {
	Name string
}

type Password struct {
	Password string
}

func (p *User) GetInfo() {
	fmt.Println("è·å–ç”¨æˆ·ä¿¡æ¯")
}

func (p *Password) GetInfo() {
	fmt.Println("è·å–å¯†ç ä¿¡æ¯")
}

func main() {
	p := &Person{}
	p.Eat()
	p.Sleep()
	p.Work()
	p.Drive()

	//å•ä¸€èŒè´£åŸåˆ™
	u := &User{}
	u.GetInfo()
	pwd := &Password{}
	pwd.GetInfo()
}
```



ğŸš€ ç¼–è¯‘ç»“æœå¦‚ä¸‹ï¼š

```bash
[Running] go run "d:\æ–‡æ¡£\æœ€è¿‘çš„\awesome-golang\docs\go-advancend\code\è®¾è®¡æ¨¡å¼\è®¾è®¡æ¨¡å¼ç¬¬1èŠ‚.go"
è·å–ç”¨æˆ·ä¿¡æ¯
è·å–å¯†ç ä¿¡æ¯
```





## END é“¾æ¥

<ul><li><div><a href = '1.md' style='float:left'>â¬†ï¸ä¸Šä¸€èŠ‚ğŸ”—</a><a href = '3.md' style='float: right'>â¬‡ï¸ä¸‹ä¸€èŠ‚ğŸ”—</a></div></li></ul>

+ [â“‚ï¸å›åˆ°ç›®å½•ğŸ ](../README.md)

+ [**ğŸ«µå‚ä¸è´¡çŒ®ğŸ’â¤ï¸â€ğŸ”¥ğŸ’–**](https://nsddd.top/archives/contributors))

+ âœ´ï¸ç‰ˆæƒå£°æ˜ &copy; :æœ¬ä¹¦æ‰€æœ‰å†…å®¹éµå¾ª[CC-BY-SA 3.0åè®®ï¼ˆç½²å-ç›¸åŒæ–¹å¼å…±äº«ï¼‰&copy;](http://zh.wikipedia.org/wiki/Wikipedia:CC-by-sa-3.0åè®®æ–‡æœ¬) 
