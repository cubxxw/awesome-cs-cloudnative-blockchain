+ [author](http://nsddd.top)

# ç¬¬76èŠ‚ OpenIM arm æ¶æ„è®¾è®¡

<div><a href = '75.md' style='float:left'>â¬†ï¸ä¸Šä¸€èŠ‚ğŸ”—  </a><a href = '77.md' style='float: right'>  â¬‡ï¸ä¸‹ä¸€èŠ‚ğŸ”—</a></div>
<br>

> â¤ï¸ğŸ’•ğŸ’•è®°å½•[sealos](https://github.com/cubxxw/sealos)å¼€æºé¡¹ç›®çš„å­¦ä¹ è¿‡ç¨‹ã€‚[k8s,dockerå’Œäº‘åŸç”Ÿçš„å­¦ä¹ ](https://github.com/cubxxw/sealos)ã€‚Myblog:[http://nsddd.top](http://nsddd.top/)

---
[TOC]

## å¼€å§‹

æˆ‘ä»¬çŸ¥é“ä½¿ç”¨é•œåƒåˆ›å»ºä¸€ä¸ªå®¹å™¨ï¼Œè¯¥é•œåƒå¿…é¡»ä¸ Docker å®¿ä¸»æœºç³»ç»Ÿæ¶æ„ä¸€è‡´ï¼Œä¾‹å¦‚ `Linux x86_64` æ¶æ„çš„ç³»ç»Ÿä¸­åªèƒ½ä½¿ç”¨ `Linux x86_64` çš„é•œåƒåˆ›å»ºå®¹å™¨ã€‚

> Windowsã€macOS é™¤å¤–ï¼Œå…¶ä½¿ç”¨äº† [binfmt_misc](https://docs.docker.com/docker-for-mac/multi-arch/) æä¾›äº†å¤šç§æ¶æ„æ”¯æŒï¼Œåœ¨ Windowsã€macOS ç³»ç»Ÿä¸Š (x86_64) å¯ä»¥è¿è¡Œ arm ç­‰å…¶ä»–æ¶æ„çš„é•œåƒã€‚

ä¾‹å¦‚æˆ‘ä»¬åœ¨ `Linux x86_64` ä¸­æ„å»ºä¸€ä¸ª `username/test` é•œåƒã€‚

```go
FROM alpine

CMD echo 1
```

æ„å»ºé•œåƒåæ¨é€åˆ° Docker Hubï¼Œä¹‹åæˆ‘ä»¬å°è¯•åœ¨æ ‘è“æ´¾ `Linux arm64v8` ä¸­ä½¿ç”¨è¿™ä¸ªé•œåƒã€‚

å¯ä»¥å‘ç°è¿™ä¸ªé•œåƒæ ¹æœ¬è·å–ä¸åˆ°ã€‚

è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œé€šå¸¸é‡‡ç”¨çš„åšæ³•æ˜¯é€šè¿‡é•œåƒååŒºåˆ†ä¸åŒç³»ç»Ÿæ¶æ„çš„é•œåƒï¼Œä¾‹å¦‚åœ¨ `Linux x86_64` å’Œ `Linux arm64v8` åˆ†åˆ«æ„å»º `username/test` å’Œ `username/arm64v8-test` é•œåƒã€‚è¿è¡Œæ—¶ä½¿ç”¨å¯¹åº”æ¶æ„çš„é•œåƒå³å¯ã€‚

è¿™æ ·åšæ˜¾å¾—å¾ˆç¹çï¼Œé‚£ä¹ˆæœ‰æ²¡æœ‰ä¸€ç§æ–¹æ³•è®© Docker å¼•æ“æ ¹æ®ç³»ç»Ÿæ¶æ„è‡ªåŠ¨æ‹‰å–å¯¹åº”çš„é•œåƒå‘¢ï¼Ÿ

æˆ‘ä»¬å‘ç°åœ¨ `Linux x86_64` å’Œ `Linux arm64v8` æ¶æ„çš„è®¡ç®—æœºä¸­åˆ†åˆ«ä½¿ç”¨ `golang:alpine` é•œåƒè¿è¡Œå®¹å™¨ `$ docker run golang:alpine go version` æ—¶ï¼Œå®¹å™¨èƒ½å¤Ÿæ­£å¸¸çš„è¿è¡Œã€‚

è¿™æ ·åšæ˜¾å¾—å¾ˆç¹çï¼Œé‚£ä¹ˆæœ‰æ²¡æœ‰ä¸€ç§æ–¹æ³•è®© Docker å¼•æ“æ ¹æ®ç³»ç»Ÿæ¶æ„è‡ªåŠ¨æ‹‰å–å¯¹åº”çš„é•œåƒå‘¢ï¼Ÿ

æˆ‘ä»¬å‘ç°åœ¨ `Linux x86_64` å’Œ `Linux arm64v8` æ¶æ„çš„è®¡ç®—æœºä¸­åˆ†åˆ«ä½¿ç”¨ `golang:alpine` é•œåƒè¿è¡Œå®¹å™¨ `$ docker run golang:alpine go version` æ—¶ï¼Œå®¹å™¨èƒ½å¤Ÿæ­£å¸¸çš„è¿è¡Œã€‚

> è¿™æ˜¯ä»€ä¹ˆåŸå› å‘¢ï¼Ÿ

åŸå› å°±æ˜¯ `golang:alpine` å®˜æ–¹é•œåƒæœ‰ä¸€ä¸ª [`manifest` åˆ—è¡¨ (`manifest list`)](https://docs.docker.com/registry/spec/manifest-v2-2/)ã€‚

å½“ç”¨æˆ·è·å–ä¸€ä¸ªé•œåƒæ—¶ï¼ŒDocker å¼•æ“ä¼šé¦–å…ˆæŸ¥æ‰¾è¯¥é•œåƒæ˜¯å¦æœ‰ `manifest` åˆ—è¡¨ï¼Œå¦‚æœæœ‰çš„è¯ Docker å¼•æ“ä¼šæŒ‰ç…§ Docker è¿è¡Œç¯å¢ƒï¼ˆç³»ç»ŸåŠæ¶æ„ï¼‰æŸ¥æ‰¾å‡ºå¯¹åº”é•œåƒï¼ˆä¾‹å¦‚ `golang:alpine`ï¼‰ã€‚å¦‚æœæ²¡æœ‰çš„è¯ä¼šç›´æ¥è·å–é•œåƒï¼ˆä¾‹å¦‚ä¸Šä¾‹ä¸­æˆ‘ä»¬æ„å»ºçš„ `username/test`ï¼‰ã€‚

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `$ docker manifest inspect golang:alpine` æŸ¥çœ‹è¿™ä¸ª `manifest` åˆ—è¡¨çš„ç»“æ„ã€‚

```bash
$ docker manifest inspect golang:alpine
```

é…ç½®ï¼š

```
{
   "schemaVersion": 2,
   "mediaType": "application/vnd.docker.distribution.manifest.list.v2+json",
   "manifests": [
      {
         "mediaType": "application/vnd.docker.distribution.manifest.v2+json",
         "size": 1365,
         "digest": "sha256:5e28ac423243b187f464d635bcfe1e909f4a31c6c8bce51d0db0a1062bec9e16",
         "platform": {
            "architecture": "amd64",
            "os": "linux"
         }
      },
      {
         "mediaType": "application/vnd.docker.distribution.manifest.v2+json",
         "size": 1365,
         "digest": "sha256:2945c46e26c9787da884b4065d1de64cf93a3b81ead1b949843dda1fcd458bae",
         "platform": {
            "architecture": "arm",
            "os": "linux",
            "variant": "v7"
         }
      },
      {
         "mediaType": "application/vnd.docker.distribution.manifest.v2+json",
         "size": 1365,
         "digest": "sha256:87fff60114fd3402d0c1a7ddf1eea1ded658f171749b57dc782fd33ee2d47b2d",
         "platform": {
            "architecture": "arm64",
            "os": "linux",
            "variant": "v8"
         }
      },
      {
         "mediaType": "application/vnd.docker.distribution.manifest.v2+json",
         "size": 1365,
         "digest": "sha256:607b43f1d91144f82a9433764e85eb3ccf83f73569552a49bc9788c31b4338de",
         "platform": {
            "architecture": "386",
            "os": "linux"
         }
      },
      {
         "mediaType": "application/vnd.docker.distribution.manifest.v2+json",
         "size": 1365,
         "digest": "sha256:25ead0e21ed5e246ce31e274b98c09aaf548606788ef28eaf375dc8525064314",
         "platform": {
            "architecture": "ppc64le",
            "os": "linux"
         }
      },
      {
         "mediaType": "application/vnd.docker.distribution.manifest.v2+json",
         "size": 1365,
         "digest": "sha256:69f5907fa93ea591175b2c688673775378ed861eeb687776669a48692bb9754d",
         "platform": {
            "architecture": "s390x",
            "os": "linux"
         }
      }
   ]
}
```

å¯ä»¥çœ‹å‡º `manifest` åˆ—è¡¨ä¸­åŒ…å«äº†ä¸åŒç³»ç»Ÿæ¶æ„æ‰€å¯¹åº”çš„é•œåƒ `digest` å€¼ï¼Œè¿™æ · Docker å°±å¯ä»¥åœ¨ä¸åŒçš„æ¶æ„ä¸­ä½¿ç”¨ç›¸åŒçš„ `manifest` (ä¾‹å¦‚ `golang:alpine`) è·å–å¯¹åº”çš„é•œåƒã€‚







## END é“¾æ¥
<ul><li><div><a href = '75.md' style='float:left'>â¬†ï¸ä¸Šä¸€èŠ‚ğŸ”—  </a><a href = '77.md' style='float: right'>  ï¸ä¸‹ä¸€èŠ‚ğŸ”—</a></div></li></ul>

+ [â“‚ï¸å›åˆ°ç›®å½•ğŸ ](../README.md)

+ [**ğŸ«µå‚ä¸è´¡çŒ®ğŸ’â¤ï¸â€ğŸ”¥ğŸ’–**](https://nsddd.top/archives/contributors))

+ âœ´ï¸ç‰ˆæƒå£°æ˜ &copy; ï¼šæœ¬ä¹¦æ‰€æœ‰å†…å®¹éµå¾ª[CC-BY-SA 3.0åè®®ï¼ˆç½²å-ç›¸åŒæ–¹å¼å…±äº«ï¼‰&copy;](http://zh.wikipedia.org/wiki/Wikipedia:CC-by-sa-3.0åè®®æ–‡æœ¬) 
