+ [author](http://nsddd.top)

# ç¬¬88èŠ‚ Github Webhook

<div><a href = '87.md' style='float:left'>â¬†ï¸ä¸Šä¸€èŠ‚ğŸ”—  </a><a href = '89.md' style='float: right'>  â¬‡ï¸ä¸‹ä¸€èŠ‚ğŸ”—</a></div>
<br>

> â¤ï¸ğŸ’•ğŸ’•è®°å½•[sealos](https://github.com/cubxxw/sealos)å¼€æºé¡¹ç›®çš„å­¦ä¹ è¿‡ç¨‹ã€‚[k8s,dockerå’Œäº‘åŸç”Ÿçš„å­¦ä¹ ](https://github.com/cubxxw/sealos)ã€‚Myblog:[http://nsddd.top](http://nsddd.top/)

---
[TOC]

## ä»€ä¹ˆæ˜¯ GitHub webhook

Webhook æä¾›äº†ä¸€ç§åœ¨ GitHub ä¸Šå‘ç”ŸæŸäº›äº‹ä»¶æ—¶å°†é€šçŸ¥ä¼ é€’åˆ°å¤–éƒ¨ Web æœåŠ¡å™¨çš„æ–¹æ³•ã€‚

æ¯å½“ GitHub ä¸Šå‘ç”Ÿç‰¹å®šäº‹ä»¶æ—¶ï¼Œéƒ½å¯ä»¥è§¦å‘ Webhookã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥å°† Webhook é…ç½®ä¸ºåœ¨ä»¥ä¸‹æƒ…å†µä¸‹è§¦å‘ï¼š

+ å°†ä»£ç æ¨é€åˆ°å­˜å‚¨åº“
+ æ‹‰å–è¯·æ±‚å·²æ‰“å¼€
+ æ„å»ºäº† GitHub é¡µé¢ç½‘ç«™
+ å°†æ–°æˆå‘˜æ·»åŠ åˆ°å›¢é˜Ÿ

æ‚¨å¯ä»¥å°† Webhook æ·»åŠ åˆ°ç»„ç»‡ã€ä»“åº“æˆ– GitHub åº”ç”¨ç¨‹åºã€‚

æ·»åŠ ç½‘ç»œé’©å­æ—¶ï¼Œæ‚¨å¯ä»¥é€‰æ‹©è¦è®¢é˜…çš„äº‹ä»¶ã€‚è‹¥è¦é™åˆ¶å¯¹æœåŠ¡å™¨çš„ HTTP è¯·æ±‚æ•°ï¼Œåº”ä»…è®¢é˜…è®¡åˆ’å¤„ç†çš„ç‰¹å®šäº‹ä»¶ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå®‰è£…åœ¨ç»„ç»‡æˆ–ä»“åº“ä¸Šçš„ Webhook ä»…è®¢é˜…æ¨é€äº‹ä»¶ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒGitHub åº”ç”¨ç¨‹åºä¸Šçš„ç½‘ç»œé’©å­ä¸ä¼šè®¢é˜…ä»»ä½•äº‹ä»¶ã€‚æ‚¨å¯ä»¥éšæ—¶æ›´æ”¹è®¢é˜… Webhook çš„äº‹ä»¶ã€‚æœ‰å…³ Webhook äº‹ä»¶çš„å®Œæ•´åˆ—è¡¨ï¼Œè¯·å‚é˜…â€œWebhook äº‹ä»¶å’Œæœ‰æ•ˆè´Ÿè½½â€ã€‚

```bash
curl -v -X POST https://api.github.com/repos/<owner>/<repo>/hooks \
  -H "Accept: application/vnd.github.v3+json" \
  -H "Authorization: token <your-token>" \
  -d '{
    "name": "web",
    "active": true,
    "events": ["push", "pull_request"],
    "config": {
      "url": "http://example.com/webhook",
      "content_type": "json"
    }
  }'
```



## å…³äºå­˜å‚¨åº“çš„ webhook

å­˜å‚¨åº“ Webhook å…è®¸æ‚¨åœ¨å­˜å‚¨åº“ä¸­å‘ç”ŸæŸäº›äº‹ä»¶æ—¶æ¥æ”¶ HTTP æœ‰æ•ˆè´Ÿè½½ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ REST API æ¥ç®¡ç†å­˜å‚¨åº“ã€ç»„ç»‡å’Œåº”ç”¨ç¨‹åº Webhookã€‚æ‚¨å¯ä»¥åˆ—å‡º Webhook çš„ Webhook æŠ•æ”¾ï¼Œä¹Ÿå¯ä»¥è·å–å¹¶é‡æ–°æŠ•æ”¾ webhook çš„å•ä¸ªæŠ•æ”¾ï¼Œè¿™äº›æŠ•æ”¾å¯ä»¥é›†æˆåˆ°å¤–éƒ¨åº”ç”¨æˆ–æœåŠ¡ä¸­ã€‚æ‚¨è¿˜å¯ä»¥ä½¿ç”¨ REST API æ›´æ”¹ Webhook çš„é…ç½®ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥ä¿®æ”¹æœ‰æ•ˆè´Ÿè½½ URLã€å†…å®¹ç±»å‹ã€SSL éªŒè¯å’Œå¯†é’¥ã€‚



### PubSubHubbub

 GitHub è¿˜å¯ä»¥å……å½“æ‰€æœ‰å­˜å‚¨åº“çš„ [PubSubHubbub](https://github.com/pubsubhubbub/PubSubHubbub) ä¸­å¿ƒã€‚[PSHB](https://github.com/pubsubhubbub/PubSubHubbub) æ˜¯ä¸€ä¸ªç®€å•çš„å‘å¸ƒ/è®¢é˜…åè®®ï¼Œå…è®¸æœåŠ¡å™¨æ³¨å†Œä»¥åœ¨ä¸»é¢˜æ›´æ–°æ—¶æ¥æ”¶æ›´æ–°ã€‚æ›´æ–°éš HTTP POST è¯·æ±‚ä¸€èµ·å‘é€åˆ°å›è°ƒ URLã€‚GitHub å­˜å‚¨åº“æ¨é€çš„ä¸»é¢˜ URL é‡‡ç”¨ä»¥ä¸‹æ ¼å¼ï¼š

```
https://github.com/{owner}/{repo}/events/{event}
```



#### Response format ç›¸åº”æ ¼å¼

é»˜è®¤æ ¼å¼æ˜¯ç°æœ‰æ¥æ”¶åæŒ‚é’©åº”æœŸæœ›çš„æ ¼å¼ï¼šä½œä¸º POST ä¸­çš„å‚æ•°å‘é€çš„ JSON æ­£æ–‡ã€‚è¿˜å¯ä»¥æŒ‡å®šæ¥æ”¶å¸¦æœ‰æ ‡å¤´æˆ–æ‰©å±•çš„åŸå§‹ JSON æ­£æ–‡ã€‚

```bash
Accept: application/json
https://github.com/{owner}/{repo}/events/push.json
```



### callback URLs

å›è°ƒ URL å¯ä»¥ä½¿ç”¨ HTTP åè®®ã€‚

```bash
# Send updates to a PostBin bin
https://www.toptal.com/developers/postbin/123
```



## creating webhooks

åˆ›å»ºç½‘ç»œé’©å­çš„è¿‡ç¨‹åˆ†ä¸ºä¸¤æ­¥ã€‚æ‚¨é¦–å…ˆéœ€è¦è®¾ç½® Webhook åº”è¯¥ä¾¦å¬å“ªäº›äº‹ä»¶ã€‚ä¹‹åï¼Œæ‚¨å°†è®¾ç½®æœåŠ¡å™¨ä»¥æ¥æ”¶å’Œç®¡ç†æœ‰æ•ˆè´Ÿè½½ã€‚

æ‚¨å¯ä»¥ä½¿ç”¨ REST API æ¥ç®¡ç†å­˜å‚¨åº“ã€ç»„ç»‡å’Œåº”ç”¨ç¨‹åº Webhookã€‚æ‚¨å¯ä»¥åˆ—å‡º Webhook çš„ Webhook æŠ•æ”¾ï¼Œä¹Ÿå¯ä»¥è·å–å¹¶é‡æ–°æŠ•æ”¾ webhook çš„å•ä¸ªæŠ•æ”¾ï¼Œè¿™äº›æŠ•æ”¾å¯ä»¥é›†æˆåˆ°å¤–éƒ¨åº”ç”¨æˆ–æœåŠ¡ä¸­ã€‚æ‚¨è¿˜å¯ä»¥ä½¿ç”¨ REST API æ›´æ”¹ Webhook çš„é…ç½®ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥ä¿®æ”¹æœ‰æ•ˆè´Ÿè½½ URLã€å†…å®¹ç±»å‹ã€SSL éªŒè¯å’Œå¯†é’¥ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ã€‚



### å°†æœ¬åœ°ä¸»æœºæš´éœ²ç»™äº’è”ç½‘

å‡ºäºæœ¬æ•™ç¨‹çš„ç›®çš„ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨æœ¬åœ°æœåŠ¡å™¨ä» GitHub æ¥æ”¶ Webhook äº‹ä»¶ã€‚

é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å°†æˆ‘ä»¬çš„æœ¬åœ°å¼€å‘ç¯å¢ƒå…¬å¼€ç»™äº’è”ç½‘ï¼Œä»¥ä¾¿ GitHub å¯ä»¥äº¤ä»˜äº‹ä»¶ã€‚æˆ‘ä»¬å°†ç”¨æ¥ [ngrok](https://ngrok.com/download) æ­¤æ“ä½œã€‚

å…è´¹æä¾›ï¼Œé€‚ç”¨äºæ‰€æœ‰ä¸»è¦æ“ä½œç³»ç»Ÿã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…ä¸‹è½½é¡µé¢ã€‚

å®‰è£… åï¼Œæ‚¨å¯ä»¥é€šè¿‡åœ¨å‘½ä»¤è¡Œä¸Šè¿è¡Œæ¥å…¬å¼€æœ¬åœ°ä¸»æœºã€‚ æ˜¯æˆ‘ä»¬çš„æœåŠ¡å™¨å°†ä¾¦å¬æ¶ˆæ¯çš„ç«¯å£å·ã€‚æ‚¨åº”è¯¥çœ‹åˆ°å¦‚ä¸‹æ‰€ç¤ºçš„è¡Œï¼š

```bash
https://d0bc-113-99-98-99.ngrok-free.app -> http://localhost:80
```

è®°ä¸‹ç½‘å€ã€‚æˆ‘ä»¬å°†ä½¿ç”¨å®ƒæ¥è®¾ç½®æˆ‘ä»¬çš„ç½‘ç»œé’©å­ã€‚



## æ·»åŠ  webhook

åªæœ‰å…·æœ‰ç»„ç»‡æ‰€æœ‰è€…æƒé™æˆ–ä»“åº“ç®¡ç†å‘˜æƒé™çš„æˆå‘˜æ‰èƒ½ç®¡ç†ç»„ç»‡çš„ Webhookã€‚æ›´å¤šä¿¡æ¯è¯·å‚é˜…â€œç»„ç»‡ä¸­çš„è§’è‰²â€ã€‚

è¦è®¾ç½® Webhookï¼Œè¯·è½¬åˆ°ä»“åº“æˆ–ç»„ç»‡çš„è®¾ç½®é¡µé¢ã€‚ä»é‚£é‡Œï¼Œå•å‡»ç½‘ç»œé’©å­ï¼Œç„¶åå•å‡»æ·»åŠ ç½‘ç»œé’©å­ã€‚

æˆ–è€…ï¼Œæ‚¨å¯ä»¥é€‰æ‹©é€šè¿‡ Webhooks API æ„å»ºå’Œç®¡ç† Webhookã€‚

Webhook éœ€è¦ä¸€äº›é…ç½®é€‰é¡¹æ‰èƒ½ä½¿ç”¨å®ƒä»¬ã€‚æˆ‘ä»¬å°†åœ¨ä¸‹é¢ä»‹ç»è¿™äº›è®¾ç½®ä¸­çš„æ¯ä¸€ä¸ªã€‚

 

### è´Ÿè½½ç½‘å€

è´Ÿè½½ URL æ˜¯å°†æ¥æ”¶ Webhook è¯·æ±‚çš„æœåŠ¡å™¨çš„ URL `POST`ã€‚

ç”±äºæˆ‘ä»¬æ­£åœ¨æœ¬åœ°å¼€å‘æ•™ç¨‹ï¼Œå› æ­¤æˆ‘ä»¬å°†å…¶è®¾ç½®ä¸º`*.ngrok.io`URLï¼Œåè·Ÿ`/payload`. ä¾‹å¦‚ï¼Œ`http://7e9ea9dc.ngrok.io/payload`.



### å†…å®¹ç±»å‹

Webhook å¯ä»¥ä½¿ç”¨ä¸åŒçš„å†…å®¹ç±»å‹è¿›è¡Œä¼ é€’ï¼š

- å†…å®¹`application/json`ç±»å‹å°†ç›´æ¥ä¼ é€’ JSON æœ‰æ•ˆè´Ÿè½½ä½œä¸ºè¯·æ±‚æ­£æ–‡`POST`ã€‚
- å†…å®¹`application/x-www-form-urlencoded`ç±»å‹å°†å‘é€ JSON æœ‰æ•ˆè´Ÿè½½ä½œä¸ºåä¸º çš„è¡¨å•å‚æ•°`payload`ã€‚

é€‰æ‹©æœ€é€‚åˆæ‚¨éœ€æ±‚çš„ä¸€æ¬¾ã€‚å¯¹äºæœ¬æ•™ç¨‹ï¼Œé»˜è®¤å†…å®¹ç±»å‹`application/json`å°±å¯ä»¥äº†ã€‚



### å†…å®¹ç±»å‹

Webhook å¯ä»¥ä½¿ç”¨ä¸åŒçš„å†…å®¹ç±»å‹è¿›è¡Œä¼ é€’ï¼š

- å†…å®¹`application/json`ç±»å‹å°†ç›´æ¥ä¼ é€’ JSON æœ‰æ•ˆè´Ÿè½½ä½œä¸ºè¯·æ±‚æ­£æ–‡`POST`ã€‚
- å†…å®¹`application/x-www-form-urlencoded`ç±»å‹å°†å‘é€ JSON æœ‰æ•ˆè´Ÿè½½ä½œä¸ºåä¸º çš„è¡¨å•å‚æ•°`payload`ã€‚

é€‰æ‹©æœ€é€‚åˆæ‚¨éœ€æ±‚çš„ä¸€æ¬¾ã€‚å¯¹äºæœ¬æ•™ç¨‹ï¼Œé»˜è®¤å†…å®¹ç±»å‹`application/json`å°±å¯ä»¥äº†ã€‚



### ç§˜å¯†

è®¾ç½® Webhook å¯†é’¥å¯è®©æ‚¨ç¡®ä¿`POST`å‘é€åˆ°è´Ÿè½½ URL çš„è¯·æ±‚æ¥è‡ª GitHubã€‚è®¾ç½®æœºå¯†åï¼Œæ‚¨å°†æ”¶åˆ°Webhook è¯·æ±‚ä¸­çš„`X-Hub-Signature`å’Œæ ‡å¤´ã€‚æœ‰å…³å¦‚ä½•ä½¿ç”¨å¸¦æœ‰ç­¾åæ ‡å¤´çš„å¯†é’¥æ¥ä¿æŠ¤æ‚¨çš„ Webhook è´Ÿè½½çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…â€œ[ä¿æŠ¤æ‚¨çš„ Webhook çš„å®‰å…¨](https://docs.github.com/en/webhooks-and-events/webhooks/securing-your-webhooks)â€ã€‚`X-Hub-Signature-256``POST`



### ssh

å¦‚æœæ‚¨çš„â€œæœ‰æ•ˆè´Ÿè½½ URLâ€æ˜¯å®‰å…¨ç«™ç‚¹ (HTTPS)ï¼Œæ‚¨å°†å¯ä»¥é€‰æ‹©é…ç½® SSL éªŒè¯è®¾ç½®ã€‚å¦‚æœæ‚¨çš„â€œæœ‰æ•ˆè´Ÿè½½ URLâ€ä¸å®‰å…¨ (HTTP)ï¼ŒGitHub å°†ä¸ä¼šæ˜¾ç¤ºæ­¤é€‰é¡¹ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒGitHub åœ¨ä¼ é€ Webhook è´Ÿè½½æ—¶éªŒè¯æ‚¨ç½‘ç«™çš„ SSL è¯ä¹¦ã€‚SSL éªŒè¯æœ‰åŠ©äºç¡®ä¿æŒ‚é’©æœ‰æ•ˆè´Ÿè½½å®‰å…¨åœ°ä¼ é€’åˆ°æ‚¨çš„ URL ç«¯ç‚¹ã€‚æ‚¨å¯ä»¥é€‰æ‹©ç¦ç”¨ SSLï¼Œä½†æˆ‘ä»¬å»ºè®®ä¿æŒé€‰ä¸­**â€œå¯ç”¨ SSL éªŒè¯â€**ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼ŒWebhook ä¼ é€å¤„äºâ€œæ´»åŠ¨â€çŠ¶æ€ã€‚æ‚¨å¯ä»¥é€šè¿‡å–æ¶ˆé€‰æ‹©â€œæ´»åŠ¨â€æ¥é€‰æ‹©ç¦ç”¨ Webhook æœ‰æ•ˆè´Ÿè½½çš„ä¼ é€ã€‚



### æ´»åŠ¨

äº‹ä»¶æ˜¯ Webhooks çš„æ ¸å¿ƒã€‚æ¯å½“å¯¹å­˜å‚¨åº“æ‰§è¡Œç‰¹å®šæ“ä½œæ—¶ï¼Œè¿™äº› Webhook å°±ä¼šè§¦å‘ï¼Œæ‚¨çš„æœåŠ¡å™¨çš„æœ‰æ•ˆè´Ÿè½½ URL ä¼šæ‹¦æˆªè¯¥å­˜å‚¨åº“å¹¶å¯¹å…¶è¿›è¡Œæ“ä½œã€‚

Webhook äº‹ä»¶åŠå…¶æ‰§è¡Œæ—¶é—´çš„å®Œæ•´åˆ—è¡¨å¯ä»¥åœ¨[webhooks API](https://docs.github.com/en/webhooks-and-events/webhooks/about-webhooks#events)å‚è€ƒä¸­æ‰¾åˆ°ã€‚

ç”±äºæˆ‘ä»¬çš„ webhook æ­£åœ¨å¤„ç†å­˜å‚¨åº“ä¸­çš„é—®é¢˜ï¼Œå› æ­¤æˆ‘ä»¬å°†å•å‡»**Let me select individual events**ï¼Œç„¶åå•å‡»**Issues**ã€‚ç¡®ä¿é€‰æ‹©**â€œæ´»åŠ¨â€**ä»¥æ¥æ”¶è§¦å‘çš„ Webhook çš„é—®é¢˜äº‹ä»¶ã€‚æ‚¨è¿˜å¯ä»¥ä½¿ç”¨é»˜è®¤é€‰é¡¹é€‰æ‹©æ‰€æœ‰äº‹ä»¶ã€‚

å®Œæˆåï¼Œç‚¹å‡»**æ·»åŠ  webhook**ã€‚

ç°åœ¨æ‚¨å·²ç»åˆ›å»ºäº† Webhookï¼Œæ˜¯æ—¶å€™è®¾ç½®æˆ‘ä»¬çš„æœ¬åœ°æœåŠ¡å™¨æ¥æµ‹è¯• Webhook äº†ã€‚è¯·å‰å¾€[é…ç½®æ‚¨çš„æœåŠ¡å™¨](https://docs.github.com/en/webhooks-and-events/webhooks/configuring-your-server-to-receive-payloads)ä»¥äº†è§£å¦‚ä½•æ‰§è¡Œæ­¤æ“ä½œã€‚



## ä¿æŠ¤ webhook

ä¸€æ—¦æ‚¨çš„æœåŠ¡å™¨é…ç½®ä¸ºæ¥æ”¶æœ‰æ•ˆè´Ÿè½½ï¼Œå®ƒå°†ä¾¦å¬å‘é€åˆ°æ‚¨é…ç½®çš„ç«¯ç‚¹çš„ä»»ä½•æœ‰æ•ˆè´Ÿè½½ã€‚å‡ºäºå®‰å…¨åŸå› ï¼Œæ‚¨å¯èƒ½å¸Œæœ›å°†è¯·æ±‚é™åˆ¶ä¸ºæ¥è‡ª GitHub çš„è¯·æ±‚ã€‚æœ‰å‡ ç§æ–¹æ³•å¯ä»¥è§£å†³æ­¤é—®é¢˜ï¼ˆä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥é€‰æ‹©å…è®¸æ¥è‡ª GitHub IP åœ°å€çš„è¯·æ±‚ï¼‰ï¼Œä½†æ›´ç®€å•çš„æ–¹æ³•æ˜¯è®¾ç½®ç§˜å¯†ä»¤ç‰Œå¹¶éªŒè¯ä¿¡æ¯ã€‚



## Github CRL 

æˆ‘å¸Œæœ›é€šè¿‡ github cli æ¥è§£å†³ä¸€ä¸ªé—®é¢˜ï¼š

+ [https://github.com/OpenIMSDK/Open-IM-Server/issues/639](https://github.com/OpenIMSDK/Open-IM-Server/issues/639)

æˆ‘å¸Œæœ›å¸Œæœ›è·å–åˆ°åé¢çš„é‚£ä¸ªæ•°å­—ï¼Œè¿™ä¸ªæ•°å­—å¾—åˆ°çš„ä¸€ä¸ªå€¼å°±æ˜¯ issue çš„ç¼–å·

```bash'
ISSUEID=$(gh pr view 642 --repo OpenIMSDK/Open-IM-Server | grep -oP 'Fixes #\K\d+')
```

æ‹¿åˆ° Issue ç¼–å·åï¼Œæˆ‘è¿˜éœ€è¦ é€šè¿‡ issue ç¼–å· è·å–åˆ° å¯¹åº”çš„ issue ä¿¡æ¯ï¼š

```bash
ISSUE=$(gh issue view $ISSUEID --repo OpenIMSDK/Open-IM-Server --json labels,assignees,milestone,title)
```

+ è·å–åˆ° labels å¹¶ä¸”è®¾ç½® PR çš„ labels å’Œ issue ç›¸åŒ
+ è·å–åˆ° Assignees å¹¶ä¸”è®¾ç½® PR çš„ Assignees å’Œ issue ç›¸åŒ
+ è·å–åˆ° Milestone å¹¶ä¸”è®¾ç½® PR çš„ Milestone å’Œ issue ç›¸åŒ
+ è·å–åˆ° PR çš„æ ‡é¢˜ï¼Œå¹¶ä¸”è®¾ç½®ä¸º TABLE

```bash
LABELS=$(echo $ISSUE | jq -r '.labels[] | select(.name) | .name')
# LABELS=$(echo $ISSUE | jq -r '.labels[] | select(.name) | .name' | jq -R -r -s -c 'split("\n")[:-1] | join(",")')
ASSIGNEES=$(echo $ISSUE | jq -r '.assignees[] | select(.login) | .login' | jq -R -s -c 'split("\n")[:-1] | join(",")')
MILESTONE=$(echo $ISSUE | jq -r '.milestone | select(.title) | .title')
TITLE=$(echo $ISSUE | jq -r '.title')
```

**JQ:**

```bash
root@PS2023EVRHNCXG:~/workspaces/openim/Open-IM-Server# echo $ISSUE | jq
{
  "assignees": [
    {
      "id": "MDQ6VXNlcjg2MTQwOTAz",
      "login": "cubxxw",
      "name": "Xinwei Xiong"
    }
  ],
  "labels": [
    {
      "id": "MDU6TGFiZWwzMDMyNTUxMTc1",
      "name": "enhancement",
      "description": "New feature or request",
      "color": "a2eeef"
    },
    {
      "id": "MDU6TGFiZWwzMDMyNTUxMTc3",
      "name": "good first issue",
      "description": "Denotes an issue ready for a new contributor, according to the \"help wanted\" guidelines.",
      "color": "7057ff"
    },
    {
      "id": "LA_kwDOFhyqls8AAAABRELYbA",
      "name": "kind/feature",
      "description": "Categorizes issue or PR as related to a new feature.",
      "color": "c7def8"
    }
  ],
  "milestone": {
    "number": 1,
    "title": "v3.1",
    "description": "https://github.com/OpenIMSDK/Open-IM-Server/tree/release-v3.1",
    "dueOn": null
  },
  "title": "OpenIM AI Feature Issue - Web-based Issue Generation and Analysis"
}
```



**æä¸€ä¸ª PR ï¼š**

```bash
gh pr edit 642 --repo OpenIMSDK/Open-IM-Server --add-label "$LABELS" --add-assignee "$ASSIGNEES" --milestone "$MILESTONE"
```





**æ›´å¤šï¼š**

```bash
root@PS2023EVRHNCXG:~/workspaces/openim/Open-IM-Server# echo $ISSUE | jq -r '.labels[] | select(.name) | .name'
enhancement
good first issue
kind/feature
```



**å—è®©ï¼š**

```
  push:
    branches:
      - main
      
name: Assign issue to comment author
on:
  issue_comment:
    types: [created]
jobs:
  assign-issue:
    if: |
      contains(github.event.comment.body, '/assign') || contains(github.event.comment.body, '/accept') &&
      !contains(github.event.comment.user.login, 'openimbot') &&
      !contains(github.event.comment.user.login, 'kubbot')
    runs-on: ubuntu-latest
    permissions:
      issues: write
    steps:
      - name: Checkout code
        uses: actions/checkout@v3

      - name: Assign the issue
        run: |
          export LETASE_MILESTONES=$(curl 'https://api.github.com/repos/$OWNER/$PEPO/milestones' | jq -r 'last(.[]).title')
          gh issue edit ${{ github.event.issue.number }} --add-assignee "${{ github.event.comment.user.login }}"
          gh issue edit ${{ github.event.issue.number }} --add-label "triage/accepted"
          gh issue edit ${{ github.event.issue.number }} --milestone "$LETASE_MILESTONES"
          gh issue comment $ISSUE --body "@${{ github.event.comment.user.login }} Glad to see you accepted this issueğŸ¤², this issue has been assigned to you. I set the milestones for this issue to [$LETASE_MILESTONES](https://github.com/$OWNER/$PEPO/milestones), We are looking forward to your PR!"
        env:
          GH_TOKEN: ${{ secrets.REDBOT_GITHUB_TOKEN }}
          ISSUE: ${{ github.event.issue.html_url }}
          OWNER: ${{ github.repository_owner }}
          REPO: ${{ github.event.repository.name }}
```





## END é“¾æ¥
<ul><li><div><a href = '87.md' style='float:left'>â¬†ï¸ä¸Šä¸€èŠ‚ğŸ”—  </a><a href = '89.md' style='float: right'>  ï¸ä¸‹ä¸€èŠ‚ğŸ”—</a></div></li></ul>

+ [â“‚ï¸å›åˆ°ç›®å½•ğŸ ](../README.md)

+ [**ğŸ«µå‚ä¸è´¡çŒ®ğŸ’â¤ï¸â€ğŸ”¥ğŸ’–**](https://nsddd.top/archives/contributors))

+ âœ´ï¸ç‰ˆæƒå£°æ˜ &copy; ï¼šæœ¬ä¹¦æ‰€æœ‰å†…å®¹éµå¾ª[CC-BY-SA 3.0åè®®ï¼ˆç½²å-ç›¸åŒæ–¹å¼å…±äº«ï¼‰&copy;](http://zh.wikipedia.org/wiki/Wikipedia:CC-by-sa-3.0åè®®æ–‡æœ¬) 
