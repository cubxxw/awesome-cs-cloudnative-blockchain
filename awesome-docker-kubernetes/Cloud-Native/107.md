# OpenIM Docker Deployment

OpenIM Docker æä¾›äº†ä¸€ä¸ªç¨³å®šçš„ OpenIM æ„å»ºå’Œéƒ¨ç½²è§£å†³æ–¹æ¡ˆï¼Œæœ‰éå¸¸å¤šçš„éƒ¨ç½²æ–¹æ¡ˆæä¾›é€‰æ‹©ï¼Œä½¿ç”¨ Docker å’Œ Docker Compose ç®€åŒ–äº†æ•´ä¸ªè¿‡ç¨‹ã€‚

## ç›®å½•ç»“æ„

```bash
OpenIM Docker Deployment
â”‚
â”œâ”€â”€ ğŸ“ **build/**
â”‚   â”œâ”€â”€ ğŸ“„ Dockerfile-server
â”‚   â””â”€â”€ ğŸ“„ Dockerfile-chat
â”‚
â”œâ”€â”€ ğŸ“ **openim-server/**
â”‚   â”œâ”€â”€ ğŸ“„ docker-compose.yml
â”‚   â””â”€â”€ ğŸ“ **configs/**
â”‚       â”œâ”€â”€ ğŸ“„ server-config.yaml
â”‚       â””â”€â”€ ğŸ“„ other-config.yaml
â”‚
â”œâ”€â”€ ğŸ“ **openim-chat/**
â”‚   â”œâ”€â”€ ğŸ“„ docker-compose.yml
â”‚   â””â”€â”€ ğŸ“ **configs/**
â”‚       â”œâ”€â”€ ğŸ“„ chat-config.yaml
â”‚       â””â”€â”€ ğŸ“„ other-config.yaml
â”‚
â”œâ”€â”€ ğŸ“ **env/**
â”‚   â”œâ”€â”€ ğŸ“„ openim-server.env
â”‚   â””â”€â”€ ğŸ“„ openim-chat.env
â”‚
â””â”€â”€ ğŸ“ **example/**
    â”œâ”€â”€ ğŸ“„ basic-openim-server-dependency.yml
    â”œâ”€â”€ ğŸ“„ only-openim-server.yml
    â””â”€â”€ ğŸ“„ full-openim-server-and-chat.yml
```

- `build/`ï¼šç”¨äºæ„å»º Docker é•œåƒã€‚
- `openim-server/`ï¼šç”¨äºéƒ¨ç½² openim-serverã€‚
- `openim-chat/`ï¼šç”¨äºéƒ¨ç½² openim-chatã€‚
- `env/`ï¼šå­˜æ”¾ Docker-compose çš„ç¯å¢ƒå˜é‡æ–‡ä»¶ã€‚
- `example/`ï¼šåŒ…å«å„ç§ Docker-compose ç¤ºä¾‹ã€‚




äº†è§£æ‚¨çš„è¦æ±‚åï¼Œæˆ‘å°†åœ¨ä½¿ç”¨æ–¹æ³•æŒ‡å—ä¸­åŠ å…¥è¿™éƒ¨åˆ†å†…å®¹ã€‚



### OpenIM Docker ä½¿ç”¨æ–¹æ³•

#### 1. è·å–é•œåƒ

æ‚¨å¯ä»¥ä»ä»¥ä¸‹ä¸‰ä¸ªæºè·å– Docker é•œåƒï¼š

- [GitHub Packages](https://github.com/orgs/OpenIMSDK/packages?repo_name=Open-IM-Server)
- é˜¿é‡Œäº‘
- Docker Hub

ä¸ºäº†ç¡®ä¿è·å–åˆ°æœ€æ–°ç‰ˆæœ¬çš„é•œåƒï¼Œè¯·å‚è€ƒä»¥ä¸‹æ–‡æ¡£ï¼š

- [openim ç‰ˆæœ¬è®¾è®¡](https://github.com/OpenIMSDK/Open-IM-Server/blob/main/docs/conversions/version.md)
- [openim é•œåƒç­–ç•¥](https://github.com/OpenIMSDK/Open-IM-Server/blob/main/docs/conversions/images.md)

#### 2. ä½¿ç”¨ Docker-compose

**é»˜è®¤å¯åŠ¨é€‰æ‹©ï¼š**

```bash
docker-compose up -d
```



## é¡¹ç›®ç»“æ„

- å¯¹äº `openim-server` å’Œ `openim-chat` çš„æ›´æ”¹ï¼Œè¯·åˆ†åˆ«å‰å¾€ https://github.com/OpenIMSDK/Open-IM-Server/ å’Œ https://github.com/OpenIMSDK/chat è¿›è¡Œè´¡çŒ®ã€‚
- ä¸ºäº†åŒæ­¥ä¸¤ä¸ªé¡¹ç›®çš„è„šæœ¬å’Œé…ç½®æ–‡ä»¶ï¼Œæˆ‘ä»¬ä½¿ç”¨è‡ªåŠ¨åŒ–å·¥å…·ã€‚æ‚¨åªéœ€è¦ç¡®ä¿æ–‡ä»¶ä¸åŸå§‹ä»“åº“ä¿æŒåŒæ­¥ã€‚
- å¯¹äºç¯å¢ƒå˜é‡æ–‡ä»¶å’Œ Docker-compose ç¤ºä¾‹ï¼Œè¯·åœ¨ `env/` å’Œ `example/` ç›®å½•ä¸‹è¿›è¡Œæ›´æ”¹ã€‚



**å®šåˆ¶å¯åŠ¨**

æ ¹æ®æ‚¨çš„éœ€æ±‚ï¼Œé€‰æ‹©ç›¸åº”çš„ Docker-compose æ–‡ä»¶è¿›è¡Œå¯åŠ¨ï¼š

- **åŸºç¡€ç¯å¢ƒä¾èµ–**ï¼š

  ```bash
  docker-compose -f basic-openim-server-dependency.yml up -d
  ```

- **ä»… OpenIM Server**ï¼š

  ```bash
  docker-compose -f only-openim-server.yml up -d
  ```

- **OpenIM Server å’Œ Chat**ï¼š

  ```bash
  docker-compose -f full-openim-server-and-chat.yml up -d
  ```



**æµ‹è¯•è¿è¡ŒçŠ¶æ€**

è¦æŸ¥çœ‹æ‰€æœ‰æœåŠ¡æ˜¯å¦éƒ½å·²å¯åŠ¨ï¼Œå¯ä»¥ä½¿ç”¨ï¼š

```bash
docker-compose ps
```

å¦‚æœæ‚¨å‘ç°æ²¡æœ‰å¯åŠ¨çš„å®¹å™¨ï¼Œæ‚¨å¯ä»¥æŸ¥çœ‹ç‰¹å®šæœåŠ¡çš„æ—¥å¿—ä»¥æ‰¾å‡ºåŸå› ã€‚ä¾‹å¦‚ï¼ŒæŸ¥çœ‹ OpenIM Server çš„æ—¥å¿—ï¼š

```bash
docker-compose logs openim-server
```

**åœæ­¢**

åœæ­¢ Docker-compose è¿è¡Œçš„æ‰€æœ‰æœåŠ¡ï¼š

```bash
docker-compose down
```

å¦‚æœæ‚¨ä½¿ç”¨äº†ç‰¹å®šçš„ `docker-compose` æ–‡ä»¶ï¼Œè¯·ç¡®ä¿ä¹Ÿåœ¨ `down` å‘½ä»¤ä¸­æŒ‡å®šå®ƒã€‚

#### 3. æç¤º

ç¡®ä¿æ‚¨çš„ Docker å’Œ Docker Compose æ˜¯æœ€æ–°ç‰ˆæœ¬ï¼Œä»¥ç¡®ä¿æœ€ä½³å…¼å®¹æ€§å’Œæ€§èƒ½ã€‚



## è´¡çŒ®

æˆ‘ä»¬é¼“åŠ±ç¤¾åŒºè´¡çŒ®å¹¶å®Œå–„è¿™ä¸ªé¡¹ç›®ã€‚å…·ä½“çš„è´¡çŒ®æµç¨‹ï¼Œè¯·æŸ¥çœ‹ [CONTRIBUTING.md](./CONTRIBUTING.md)ã€‚

## åè®®

æœ¬é¡¹ç›®ä½¿ç”¨ MIT åè®®ã€‚è¯¦æƒ…è¯·æŸ¥çœ‹ [LICENSE](./LICENSE)ã€‚





# OpenIM Docker Deployment

OpenIM Docker æä¾›äº†ä¸€ä¸ªç¨³å®šçš„ OpenIM æ„å»ºå’Œéƒ¨ç½²è§£å†³æ–¹æ¡ˆï¼Œæœ‰éå¸¸å¤šçš„éƒ¨ç½²æ–¹æ¡ˆæä¾›é€‰æ‹©ï¼Œä½¿ç”¨ Docker å’Œ Docker Compose ç®€åŒ–äº†æ•´ä¸ªè¿‡ç¨‹ã€‚

## ç›®å½•ç»“æ„

```bash
OpenIM Docker Deployment
â”‚
â”œâ”€â”€ ğŸ“ **build/**
â”‚   â”œâ”€â”€ ğŸ“„ Dockerfile-server
â”‚   â””â”€â”€ ğŸ“„ Dockerfile-chat
â”‚
â”œâ”€â”€ ğŸ“ **openim-server/**
â”‚   â”œâ”€â”€ ğŸ“„ docker-compose.yml
â”‚   â””â”€â”€ ğŸ“ **configs/**
â”‚       â”œâ”€â”€ ğŸ“„ server-config.yaml
â”‚       â””â”€â”€ ğŸ“„ other-config.yaml
â”‚
â”œâ”€â”€ ğŸ“ **openim-chat/**
â”‚   â”œâ”€â”€ ğŸ“„ docker-compose.yml
â”‚   â””â”€â”€ ğŸ“ **configs/**
â”‚       â”œâ”€â”€ ğŸ“„ chat-config.yaml
â”‚       â””â”€â”€ ğŸ“„ other-config.yaml
â”‚
â”œâ”€â”€ ğŸ“ **env/**
â”‚   â”œâ”€â”€ ğŸ“„ openim-server.env
â”‚   â””â”€â”€ ğŸ“„ openim-chat.env
â”‚
â””â”€â”€ ğŸ“ **example/**
    â”œâ”€â”€ ğŸ“„ basic-openim-server-dependency.yml
    â”œâ”€â”€ ğŸ“„ only-openim-server.yml
    â””â”€â”€ ğŸ“„ full-openim-server-and-chat.yml
```

- `build/`ï¼šç”¨äºæ„å»º Docker é•œåƒã€‚
- `openim-server/`ï¼šç”¨äºéƒ¨ç½² openim-serverã€‚
- `openim-chat/`ï¼šç”¨äºéƒ¨ç½² openim-chatã€‚
- `env/`ï¼šå­˜æ”¾ Docker-compose çš„ç¯å¢ƒå˜é‡æ–‡ä»¶ã€‚
- `example/`ï¼šåŒ…å«å„ç§ Docker-compose ç¤ºä¾‹ã€‚




äº†è§£æ‚¨çš„è¦æ±‚åï¼Œæˆ‘å°†åœ¨ä½¿ç”¨æ–¹æ³•æŒ‡å—ä¸­åŠ å…¥è¿™éƒ¨åˆ†å†…å®¹ã€‚



### OpenIM Docker ä½¿ç”¨æ–¹æ³•

#### 1. è·å–é•œåƒ

æ‚¨å¯ä»¥ä»ä»¥ä¸‹ä¸‰ä¸ªæºè·å– Docker é•œåƒï¼š

- [GitHub Packages](https://github.com/orgs/OpenIMSDK/packages?repo_name=Open-IM-Server)
- é˜¿é‡Œäº‘
- Docker Hub

ä¸ºäº†ç¡®ä¿è·å–åˆ°æœ€æ–°ç‰ˆæœ¬çš„é•œåƒï¼Œè¯·å‚è€ƒä»¥ä¸‹æ–‡æ¡£ï¼š

- [openim ç‰ˆæœ¬è®¾è®¡](https://github.com/OpenIMSDK/Open-IM-Server/blob/main/docs/conversions/version.md)
- [openim é•œåƒç­–ç•¥](https://github.com/OpenIMSDK/Open-IM-Server/blob/main/docs/conversions/images.md)

#### 2. ä½¿ç”¨ Docker-compose

**é»˜è®¤å¯åŠ¨é€‰æ‹©ï¼š**

```bash
docker-compose up -d
```



**å®šåˆ¶å¯åŠ¨**

æ ¹æ®æ‚¨çš„éœ€æ±‚ï¼Œé€‰æ‹©ç›¸åº”çš„ Docker-compose æ–‡ä»¶è¿›è¡Œå¯åŠ¨ï¼š

- **åŸºç¡€ç¯å¢ƒä¾èµ–**ï¼š

  ```bash
  docker-compose -f basic-openim-server-dependency.yml up -d
  ```

- **ä»… OpenIM Server**ï¼š

  ```bash
  docker-compose -f only-openim-server.yml up -d
  ```

- **OpenIM Server å’Œ Chat**ï¼š

  ```bash
  docker-compose -f full-openim-server-and-chat.yml up -d
  ```



**æµ‹è¯•è¿è¡ŒçŠ¶æ€**

è¦æŸ¥çœ‹æ‰€æœ‰æœåŠ¡æ˜¯å¦éƒ½å·²å¯åŠ¨ï¼Œå¯ä»¥ä½¿ç”¨ï¼š

```bash
docker-compose ps
```

å¦‚æœæ‚¨å‘ç°æ²¡æœ‰å¯åŠ¨çš„å®¹å™¨ï¼Œæ‚¨å¯ä»¥æŸ¥çœ‹ç‰¹å®šæœåŠ¡çš„æ—¥å¿—ä»¥æ‰¾å‡ºåŸå› ã€‚ä¾‹å¦‚ï¼ŒæŸ¥çœ‹ OpenIM Server çš„æ—¥å¿—ï¼š

```bash
docker-compose logs openim-server
```

**åœæ­¢**

åœæ­¢ Docker-compose è¿è¡Œçš„æ‰€æœ‰æœåŠ¡ï¼š

```bash
docker-compose down
```

å¦‚æœæ‚¨ä½¿ç”¨äº†ç‰¹å®šçš„ `docker-compose` æ–‡ä»¶ï¼Œè¯·ç¡®ä¿ä¹Ÿåœ¨ `down` å‘½ä»¤ä¸­æŒ‡å®šå®ƒã€‚

#### 3. æç¤º

ç¡®ä¿æ‚¨çš„ Docker å’Œ Docker Compose æ˜¯æœ€æ–°ç‰ˆæœ¬ï¼Œä»¥ç¡®ä¿æœ€ä½³å…¼å®¹æ€§å’Œæ€§èƒ½ã€‚



## è´¡çŒ®

æˆ‘ä»¬é¼“åŠ±ç¤¾åŒºè´¡çŒ®å¹¶å®Œå–„è¿™ä¸ªé¡¹ç›®ã€‚å…·ä½“çš„è´¡çŒ®æµç¨‹ï¼Œè¯·æŸ¥çœ‹ [CONTRIBUTING.md](./CONTRIBUTING.md)ã€‚

## åè®®

æœ¬é¡¹ç›®ä½¿ç”¨ MIT åè®®ã€‚è¯¦æƒ…è¯·æŸ¥çœ‹ [LICENSE](./LICENSE)ã€‚





# OpenIM Docker Deployment Guide

Welcome to the world of OpenIM Docker! To make it easier for you to deploy OpenIM, we offer a stable and convenient Docker solution. With just Docker and Docker Compose, you can easily launch or manage the entire service.

## A Glimpse at the Project Structure

```bashOpenIM Docker Deployment
â”‚
â”œâ”€â”€ ğŸ“ **build/**
â”‚   â”œâ”€â”€ ğŸ“„ Dockerfile-server
â”‚   â””â”€â”€ ğŸ“„ Dockerfile-chat
â”‚
â”œâ”€â”€ ğŸ“ **openim-server/**
â”‚   â”œâ”€â”€ ğŸ“„ docker-compose.yml
â”‚   â””â”€â”€ ğŸ“ **configs/**
â”‚       â”œâ”€â”€ ğŸ“„ server-config.yaml
â”‚       â””â”€â”€ ğŸ“„ other-config.yaml
â”‚
â”œâ”€â”€ ğŸ“ **openim-chat/**
â”‚   â”œâ”€â”€ ğŸ“„ docker-compose.yml
â”‚   â””â”€â”€ ğŸ“ **configs/**
â”‚       â”œâ”€â”€ ğŸ“„ chat-config.yaml
â”‚       â””â”€â”€ ğŸ“„ other-config.yaml
â”‚
â”œâ”€â”€ ğŸ“ **env/**
â”‚   â”œâ”€â”€ ğŸ“„ openim-server.env
â”‚   â””â”€â”€ ğŸ“„ openim-chat.env
â”‚
â””â”€â”€ ğŸ“ **example/**
    â”œâ”€â”€ ğŸ“„ basic-openim-server-dependency.yml
    â”œâ”€â”€ ğŸ“„ only-openim-server.yml
    â””â”€â”€ ğŸ“„ full-openim-server-and-chat.yml
```

- `build/`: Files required for Docker builds reside here.
- `openim-server/`: Everything you need to deploy the OpenIM service can be found here.
- `openim-chat/`: This is where the OpenIM chat service is deployed.
- `env/`: The home of environment variables that Docker-compose needs.
- `example/`: Want real Docker-compose examples? Look no further!

Next, we'll delve into the operational guide detailing how to use these files.

### How to Use OpenIM Docker

#### 1. Acquire the Image

First, choose one of the following platforms to download the Docker image:

- [GitHub Packages](https://github.com/orgs/OpenIMSDK/packages?repo_name=Open-IM-Server)
- Alibaba Cloud
- Docker Hub

To ensure that you download the latest image, please refer to these two documents:

- [openim version introduction](https://github.com/OpenIMSDK/Open-IM-Server/blob/main/docs/conversions/version.md)
- [openim image selection guide](https://github.com/OpenIMSDK/Open-IM-Server/blob/main/docs/conversions/images.md)

#### 2. Launch the Service with Docker-compose

**One-click launch:**

```bash
docker-compose up -d
```

**Customized launches based on needs:**

- **Launch basic environment only**:

  ```
  bashCopy code
  docker-compose -f basic-openim-server-dependency.yml up -d
  ```

- **Launch OpenIM Server only**:

  ```
  bashCopy code
  docker-compose -f only-openim-server.yml up -d
  ```

- **Launch both OpenIM Server and chat functionality**:

  ```
  bashCopy code
  docker-compose -f full-openim-server-and-chat.yml up -d
  ```

**Check operational status**

To confirm all services are up and running:

```bash
docker-compose ps
```

If a particular service isn't running, you can inspect its logs, for instance:

```bash
docker-compose logs openim-server
```

**Shut down the service**

To stop all services run by Docker-compose:

```bash
docker-compose down
```

When using a specific `docker-compose` file, remember to specify it in the `down` command.

#### 3. A Little Tip

Please ensure that both your Docker and Docker Compose are updated to the latest versions for the best compatibility and performance.

## Contribute Your Strength

If you're interested in our project, we warmly welcome you to participate and contribute to it! Please refer to [CONTRIBUTING.md](https://github.com/openim-sigs/openim-docker/tree/main/CONTRIBUTING.md) for more details.

## License

This project is licensed under the MIT license. For specific content, please check [LICENSE](https://github.com/openim-sigs/openim-docker/tree/main/LICENSE).