+ [author](https://github.com/3293172751/cs-awesome-Block_Chain)

# ç¬¬3èŠ‚ å¼€é—­åŸåˆ™

<div><a href = '2.md' style='float:left'>â¬†ï¸ä¸Šä¸€èŠ‚ğŸ”—</a><a href = '4.md' style='float: right'>â¬‡ï¸ä¸‹ä¸€èŠ‚ğŸ”—</a></div>
<br>

> â¤ï¸ğŸ’•ğŸ’•Javaå’ŒGolangçš„è®¾è®¡æ¨¡å¼ï¼Œè®¾è®¡æ¨¡å¼ä»‹ç»ã€åˆ›å»ºè€…æ¨¡å¼ã€ç»“æ„å‹æ¨¡å¼ã€è¡Œä¸ºå‹æ¨¡å¼ã€‚Myblog:[http://nsddd.top](http://nsddd.top/)

---
[TOC]

## åŸåˆ™

::: danger
å¼€é—­åŸåˆ™ **(Open-Closed Principle, OCP)** 

ç±»çš„æ”¹åŠ¨æ˜¯é€šè¿‡å¢åŠ ä»£ç è¿›è¡Œçš„ï¼Œè€Œä¸æ˜¯ä¿®æ”¹æºä»£ç ã€‚
:::



## æ²¡æœ‰ä½¿ç”¨å¼€é—­åŸåˆ™

ğŸ’¡ç®€å•çš„ä¸€ä¸ªæ¡ˆä¾‹å¦‚ä¸‹ï¼š

```go
// The principle of opening and closing
// Path: 79-main.go
package main

import (
	"fmt"
)

// The principle of opening and closing
type Banker struct {
}

// Deposit business
func (b *Banker) Deposit() {
	fmt.Println("å­˜æ¬¾æˆåŠŸ")
}

// Withdrawal business
func (b *Banker) Withdraw() {
	fmt.Println("å–æ¬¾æˆåŠŸ")
}

// Transfer business
func (b *Banker) Transfer() {
	fmt.Println("è½¬è´¦æˆåŠŸ")
}

func main() {
	b := &Banker{}

	b.Deposit()
	b.Withdraw()
	b.Transfer()

}

```



éœ€æ±‚ï¼šæˆ‘ä»¬éœ€è¦åŠ ä¸€ä¸ªè‚¡ç¥¨åŠŸèƒ½ï¼Œæˆ‘ä»¬éœ€è¦é¢å¤–æ·»åŠ åŠŸèƒ½ã€‚

::: warning 
ä½†æ˜¯æˆ‘ä»¬ç±»å¯èƒ½çœ‹ä¸å‡ºæ¥ï¼Œå¦‚æœä¸€ä¸ªç±»å¾ˆåºå¤§ï¼Œæ·»åŠ åŠŸèƒ½çš„æ—¶å€™å°±éœ€è¦ç‰¹åˆ«å°å¿ƒã€‚

è¿™å°±æ˜¯è®¾è®¡çš„å¼Šç«¯ã€‚

:::



é‚£ä¹ˆï¼Œå¦‚æœæˆ‘ä»¬æ‹¥æœ‰æ¥å£, `interface`è¿™ä¸ªä¸œè¥¿ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥æŠ½è±¡ä¸€å±‚å‡ºæ¥ï¼Œåˆ¶ä½œä¸€ä¸ªæŠ½è±¡çš„Bankeræ¨¡å—ï¼Œç„¶åæä¾›ä¸€ä¸ªæŠ½è±¡çš„æ–¹æ³•ã€‚ åˆ†åˆ«æ ¹æ®è¿™ä¸ªæŠ½è±¡æ¨¡å—ï¼Œå»å®ç°`æ”¯ä»˜Bankerï¼ˆå®ç°æ”¯ä»˜æ–¹æ³•ï¼‰`,`è½¬è´¦Bankerï¼ˆå®ç°è½¬è´¦æ–¹æ³•ï¼‰`

![image-20221127231259024](http://sm.nsddd.top/smimage-20221127231259024.png)

::: tip 
é‚£ä¹ˆå³ä½¿ Banker çš„æ·»åŠ ï¼Œä¸ä¼šä¿®æ”¹ ä»»ä½•å·²ç»ç¨³å®šçš„ä»£ç ï¼Œå‡ºç°é—®é¢˜ä¹Ÿä¸ä¼šè¿ç´¯å…¶ä»–æ¨¡å—ã€‚
:::

```go
// å¼€é—­åŸåˆ™
package main

import "fmt"

// æŠ½è±¡çš„é“¶è¡Œæ¥å£
type Banker interface {
	Deposit()  //å­˜æ¬¾
	Withdraw() //å–æ¬¾
	Transfer() //è½¬è´¦
}

// å®ç°é“¶è¡Œæ¥å£
type Bank struct {
}

// å­˜æ¬¾
func (b *Bank) Deposit() {
	fmt.Println("å­˜æ¬¾æˆåŠŸ")
}

// å–æ¬¾
func (b *Bank) Withdraw() {
	fmt.Println("å–æ¬¾æˆåŠŸ")
}

// è½¬è´¦
func (b *Bank) Transfer() {
	fmt.Println("è½¬è´¦æˆåŠŸ")
}

// æˆ‘ä»¬å¯ä»¥å†å®šä¹‰ä¸€ä¸ªæ”¯ä»˜å®çš„é“¶è¡Œæ¥å£
type Alipay struct {
}

// å­˜æ¬¾
func (a *Alipay) Deposit() {
	fmt.Println("æ”¯ä»˜å®å­˜æ¬¾æˆåŠŸ")
}

// å–æ¬¾
func (a *Alipay) Withdraw() {
	fmt.Println("æ”¯ä»˜å®å–æ¬¾æˆåŠŸ")
}

func main() {
	b := &Bank{}  //å®ç°äº†æ¥å£
	b.Deposit()
	b.Withdraw()
	b.Transfer() 

	a := &Alipay{}
	a.Deposit()
	a.Withdraw()
}

```



::: warning 
`Alipay{}` ç»“æ„ä½“å¹¶ä¸æ˜¯éœ€è¦å»å®ç°æ¥å£ã€‚æ‰€ä»¥ä½œä¸ºæ‰©å±•æ€§ã€‚
:::



## å®ç°æ¶æ„å±‚ï¼ŒåŸºäºæŠ½è±¡å±‚ä¸šåŠ¡å°è£…

::: tip 
å®ç°ä¸€ä¸ªæ¶æ„å±‚ï¼ŒåŸºäºæŠ½è±¡å±‚è¿›è¡Œä¸šåŠ¡å°è£…ï¼Œé’ˆå¯¹ interface è¿›è¡Œå°è£…ã€‚
:::

```go
// The principle of opening and closing
package main

import "fmt"

//Abstract bank interface
type Banker interface {
	Deposit()  //deposit
	Withdraw() //Withdrawal
	Transfer() //Transfer
}

//Implement the bank interface
type Bank struct {
}

//deposit
func (b *Bank) Deposit() {
	fmt.Println("å­˜æ¬¾æˆåŠŸ")
}

//Withdrawal
func (b *Bank) Withdraw() {
	fmt.Println("å–æ¬¾æˆåŠŸ")
}

//Transfer
func (b *Bank) Transfer() {
	fmt.Println("è½¬è´¦æˆåŠŸ")
}

//We can define another Alipay bank interface
type Alipay struct {
}

//deposit
func (a *Alipay) Deposit() {
	fmt.Println("æ”¯ä»˜å®å­˜æ¬¾æˆåŠŸ")
}

//Withdrawal
func (a *Alipay) Withdraw() {
	fmt.Println("Alipay withdrawal successful")
}

//Transfer
func (a *Alipay) Transfer() {
	fmt.Println("Alipay transfer successful")
}

//Implement an abstraction layer to isolate the different implementation layers so that new implementation layers can be added without modifying the original code, which is the open-close principle
func BankBusiness(bank Banker) {
	bank.Deposit()
}

func main() {
	//The business of deposits
	BankBusiness(&Bank{})
	BankBusiness(&Alipay{})
}

```

ğŸš€ ç¼–è¯‘ç»“æœå¦‚ä¸‹ï¼š

```bash
[Running] go run "d:\æ–‡æ¡£\æœ€è¿‘çš„\awesome-golang\docs\code\go-super\80-main.go"
å­˜æ¬¾æˆåŠŸ
æ”¯ä»˜å®å­˜æ¬¾æˆåŠŸ
```





## END é“¾æ¥
<ul><li><div><a href = '2.md' style='float:left'>â¬†ï¸ä¸Šä¸€èŠ‚ğŸ”—</a><a href = '4.md' style='float: right'>â¬‡ï¸ä¸‹ä¸€èŠ‚ğŸ”—</a></div></li></ul>

+ [â“‚ï¸å›åˆ°ç›®å½•ğŸ ](../README.md)

+ [**ğŸ«µå‚ä¸è´¡çŒ®ğŸ’â¤ï¸â€ğŸ”¥ğŸ’–**](https://nsddd.top/archives/contributors))

+ âœ´ï¸ç‰ˆæƒå£°æ˜ &copy; :æœ¬ä¹¦æ‰€æœ‰å†…å®¹éµå¾ª[CC-BY-SA 3.0åè®®ï¼ˆç½²å-ç›¸åŒæ–¹å¼å…±äº«ï¼‰&copy;](http://zh.wikipedia.org/wiki/Wikipedia:CC-by-sa-3.0åè®®æ–‡æœ¬) 

