+ [author](https://github.com/3293172751)

# ç¬¬27èŠ‚ DFæ ‡å¿—å’Œä¸²ä¼ é€æŒ‡ä»¤

+ [å›åˆ°ç›®å½•](../README.md)
+ [å›åˆ°é¡¹ç›®é¦–é¡µ](../../README.md)
+ [ä¸Šä¸€èŠ‚](26.md)
> â¤ï¸ğŸ’•ğŸ’•æ±‡ç¼–è¯­è¨€ç›®å‰ä»åœ¨å‘æŒ¥ç€ä¸å¯æ›¿ä»£çš„ä½œç”¨ï¼Œåœ¨æ•ˆç‡ä¸Šæ— å¯æ›¿ä»£ï¼Œåœ¨åº•å±‚ï¼Œå­¦ä¹ linuxå†…æ ¸ï¼Œè®¡ç®—æœºå¤–å›´è®¾å¤‡å’Œé©±åŠ¨ï¼Œéƒ½ç¦»ä¸å¼€æ±‡ç¼–ã€‚Myblog:[http://nsddd.top](http://nsddd.top/)
---
[TOC]

## DF-æ–¹å‘æ ‡å¿—ä½ï¼ˆDirection Flagï¼‰

åŠŸèƒ½ 

â€‹    åœ¨ä¸²å¤„ç†æŒ‡ä»¤ä¸­ï¼Œæ§åˆ¶æ¯æ¬¡æ“ä½œåsiï¼Œdiçš„å¢å‡ã€‚ 

-  DF = 0ï¼šæ¯æ¬¡æ“ä½œåsiï¼Œdié€’å¢ï¼› 
-  DF = 1ï¼šæ¯æ¬¡æ“ä½œåsiï¼Œdié€’å‡ã€‚

å¯¹DFä½è¿›è¡Œè®¾ç½®çš„æŒ‡ä»¤ï¼š 

-  cldæŒ‡ä»¤ï¼šå°†æ ‡å¿—å¯„å­˜å™¨çš„DFä½è®¾ä¸º0(clear) 
-  stdæŒ‡ä»¤ï¼šå°†æ ‡å¿—å¯„å­˜å™¨çš„DFä½è®¾ä¸º1(setup)



## ä¸²ä¼ é€æŒ‡ä»¤1

movsb åŠŸèƒ½ï¼šï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ä¼ é€ï¼‰

â€‹    (1) ((es)Ã—16 + (di)) = ((ds) Ã—16 + (si)) 

â€‹    (2) å¦‚æœDF = 0åˆ™ï¼š (si) = (si) + 1 (di) = (di) + 1 

â€‹       å¦‚æœDF = 1åˆ™ï¼š(si) = (si) - 1 (di) = (di) - 1 



## ä¸²ä¼ é€æŒ‡ä»¤2

movsw åŠŸèƒ½ï¼šï¼ˆä»¥å­—ä¸ºå•ä½ä¼ é€ï¼‰ 

â€‹    (1) ((es)Ã—16 + (di)) = ((ds) Ã—16 + (si)) 

â€‹    (2) å¦‚æœDF = 0åˆ™ï¼š (si) = (si) + 2 (di) = (di) + 2 

â€‹       å¦‚æœDF = 1åˆ™ï¼š(si) = (si) - 2 (di) = (di) - 2



## repæŒ‡ä»¤

**åŠŸèƒ½**ï¼š`rep`å¸¸å¸¸å’Œä¸²ä¼ é€æŒ‡ä»¤æ­é…ä½¿ç”¨ï¼Œæ ¹æ®cxçš„å€¼ï¼Œé‡å¤æ‰§è¡Œåé¢çš„æŒ‡ä»¤

**ç”¨æ³•**ï¼š

```assembly
rep movsb
; =======ç­‰ä»·äº
s:
	movsb
	loop s
	
	
rep movsw
; ======ç­‰ä»·äº
s:
	movsw
	loop s
```



## å¤„ç†å™¨æ§åˆ¶zhi'ling

![image-20220809172602881](assets/image-20220809172602881.png)



## ä»£ç 

```assembly
assume cs:code, ds:data, ss:stack
 
data segment
	db 128 dup(128)
data ends
 
stack segment
	db 128 dup(128)
stack ends
 
code segment
	start:	mov dx, stack
		mov ss, dx
		mov sp, 128
 
		call cpy_Boot
 
		mov ax, 4C00H
		int 21H	
 
 
 
Boot:		mov ax, 1000H
		mov ax, 1000H
		mov ax, 1000H
		mov ax, 1000H
Boot_end:	nop
 
;=======================================
cpy_Boot:
		mov bx, cs
		mov ds, bx			; ds:[si]
		mov si, OFFSET Boot
		
		mov bx, 0
		mov es, bx
		mov di, 7E00H			; es:[di]
		
		mov cx, OFFSET Boot_end - Boot
		cld				; inc si, inc di  DF=0 æ¸…é™¤
		; movsb å¤åˆ¶ä¸€ä¸ªå­—èŠ‚ä»ds:[si] åˆ° es:[di]
		rep movsb			;rep é‡å¤   movsb:å¤åˆ¶å­—èŠ‚
		
		;rep movsw ç§»åŠ¨ä¸€ä¸ªå­—å‹æ•°æ®ï¼ŒåŒæ—¶æ¯æ¬¡si,diéƒ½ä¼šå†åŠ 2
		ret
 
code ends
 
end start
```





## END é“¾æ¥

+ [å›åˆ°ç›®å½•](../README.md)
+ [ä¸Šä¸€èŠ‚](26.md)
+ [ä¸‹ä¸€èŠ‚](28.md)
---
+ [å‚ä¸è´¡çŒ®â¤ï¸ğŸ’•ğŸ’•](https://github.com/3293172751/Block_Chain/blob/master/Git/git-contributor.md)