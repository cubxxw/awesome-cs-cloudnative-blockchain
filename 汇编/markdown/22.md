+ [author](https://github.com/3293172751)

# ç¬¬22èŠ‚ æ¨¡å—åŒ–çš„ç¨‹åºè®¾è®¡

+ [å›åˆ°ç›®å½•](../README.md)
+ [å›åˆ°é¡¹ç›®é¦–é¡µ](../../README.md)
+ [ä¸Šä¸€èŠ‚](21.md)
> â¤ï¸ğŸ’•ğŸ’•æ±‡ç¼–è¯­è¨€ç›®å‰ä»åœ¨å‘æŒ¥ç€ä¸å¯æ›¿ä»£çš„ä½œç”¨ï¼Œåœ¨æ•ˆç‡ä¸Šæ— å¯æ›¿ä»£ï¼Œåœ¨åº•å±‚ï¼Œå­¦ä¹ linuxå†…æ ¸ï¼Œè®¡ç®—æœºå¤–å›´è®¾å¤‡å’Œé©±åŠ¨ï¼Œéƒ½ç¦»ä¸å¼€æ±‡ç¼–ã€‚Myblog:[http://nsddd.top](http://nsddd.top/)
---
[TOC]

## æ®µå€¼çš„ç¡®å®š

1. ä¸€ä¸ªæ‰§è¡Œæ–‡ä»¶`.exe`åœ¨åŒå‡»æ‰§è¡Œæ—¶ï¼Œé¦–å…ˆç”±æ“ä½œç³»ç»Ÿåˆ†ææœ¬ç¨‹åºçš„æ®µå ç”¨æƒ…å†µ
   1. åŒ…æ‹¬å¤šå°‘æ®µã€å„æ®µé•¿åº¦ã€ä»£ç æ®µç¬¬ä¸€æ¡æŒ‡ä»¤çš„åç§»
2. ç„¶ååœ¨å½“å‰å†…å­˜ä¸­å¯»æ‰¾åˆé€‚åŒºåŸŸï¼Œå¹¶åˆ†é…CSã€DSã€SSã€ESç­‰å„æ®µ
3. æŠŠ`.exe`æ‰§è¡Œæ–‡ä»¶ä¸­çš„æ•°æ®è°ƒå…¥å†…å­˜`DS`æ®µï¼Œä»£ç è°ƒå…¥å†…å­˜`CS`æ®µâ€¦â€¦..
4. ç„¶åæŠŠCPUçš„CSå˜ä¸ºå½“å‰åˆ†é…çš„ä»£ç æ®µå€¼ï¼ŒIPä¸ºç¬¬ä¸€æ¡æŒ‡ä»¤çš„åç§»ï¼Œä»è€Œå¼€å§‹ç¨‹åºçš„æ‰§è¡Œ
5. `SP`ä¸ºå †æ ˆæ®µå¤§å°ï¼ˆå³æœ€å¤§å€¼`-wBï¼‰`
6. åœ¨æ±‡ç¼–ç¨‹åºæ—¶ï¼Œé€šè¿‡äº¤å‰æ–‡ä»¶å¯ä»¥çœ‹å‡ºå„æ®µå¤§å°ã€‚



## æ¨¡å—åŒ–ç¨‹åºç»“æ„

> æ±‡ç¼–è¯­è¨€ä¹Ÿæ˜¯æ”¯æŒæ¨¡å—åŒ–ç¨‹åºè®¾è®¡ï¼Œå¹¶éé«˜çº§è¯­è¨€æ‰å¯ä»¥ã€‚

```assembly
assume cs:code
code segment
main: ...
      call sub1     ;è°ƒç”¨å­ç¨‹åºsub1
      ...
      mov ax, 4c00h
      int 21h

sub1: ...           ;å­ç¨‹åºsub1å¼€å§‹
      call sub2     ;è°ƒç”¨å­ç¨‹åºsub1
      ...
      ret           ;å­ç¨‹åºè¿”å›

sub2: ...           ;å­ç¨‹åºsub2å¼€å§‹
      ...
      ret           ;å­ç¨‹åºè¿”å›
code ends
end main
```



## ç”¨å¯„å­˜å™¨æ¥å­˜å‚¨å‚æ•°å’Œç»“æœ

```assembly
;è®¡ç®—dataæ®µä¸­ç¬¬ä¸€ç»„æ•°æ®çš„ 3 æ¬¡æ–¹ï¼Œç»“æœä¿å­˜åœ¨åé¢ä¸€ç»„dwordå•å…ƒä¸­ã€‚
assume cs:code
data segment
    dw 1,2,3,4,5,6,7,8
    dd 0,0,0,0,0,0,0,0
data ends

code segment

start:mov ax,data
      mov ds,ax
      mov si,0      ;ds:siæŒ‡å‘ç¬¬ä¸€ç»„wordå•å…ƒ  dw
      mov di,16     ;ds:diæŒ‡å‘ç¬¬äºŒç»„dwordå•å…ƒ dd

      mov cx,8		;å¾ªç¯å¤„ç†
    s:mov bx,[si]	
      call cube		;è°ƒç”¨cube
      mov [di],ax	;ä½åå…­ä½ç½®
      mov [di].2,dx	;é«˜åå…­ä½
      add si,2      ;ds:siæŒ‡å‘ä¸‹ä¸€ä¸ªwordå•å…ƒ
      add di,4      ;ds:diæŒ‡å‘ä¸‹ä¸€ä¸ªdwordå•å…ƒ
      loop s

      mov ax,4c00h
      int 21h
 cube:mov ax,bx		;æ±‚å‡ºbxçš„ä¸‰æ¬¡æ–¹ï¼Œç„¶åè¿”å›
      mul bx
      mul bx
      ret
code ends
end start
```

> ä¾æ¬¡çš„è¿›è¡Œç¼–è¯‘é“¾æ¥æ‰§è¡Œï¼Œæˆ‘ä»¬åœ¨åé¢`-g`çœ‹åˆ°åé¢çš„ç»“æœã€‚
>
> æˆ‘ä»¬å‘ç°çš„é—®é¢˜ï¼Œå¦‚æœéœ€è¦ä¼ é€’çš„æ•°æ®æœ‰å¾ˆå¤šï¼Œå¯„å­˜å™¨ä¸å¤Ÿäº†æ€ä¹ˆåŠã€‚å¯ä»¥ç”¨å†…å­˜å•å…ƒæ‰¹é‡ä¼ é€’æ•°æ®ã€‚



## ç”¨å†…å­˜å•å…ƒæ‰¹é‡ä¼ é€’æ•°æ®

```assembly
;å°†dataæ®µä¸­çš„å­—ç¬¦ä¸²è½¬åŒ–ä¸ºå¤§å†™
assume cs:code
data segment
  db 'conversation'
data ends

code segment
start:  mov ax,data
         mov ds,ax
         mov si,0
         mov cx,12      
         call capital
         mov ax,4c00h
         int 21h
capital: and byte ptr [si],11011111b	;siçš„å­—èŠ‚ä¾æ¬¡è½¬åŒ–ä¸ºå¤§å†™
         inc si
         loop capital
         ret
code ends
end start
```



## ç”¨æ ˆä¼ é€’å‚æ•°

> åŸç†ï¼šç”±è°ƒç”¨è€…å°†éœ€è¦ä¼ é€’ç»™å­ç¨‹åºçš„å‚æ•°å‹å…¥æ ˆä¸­ã€å­ç¨‹åºä»æ ˆä¸­å–å¾—å‚æ•°

```assembly
;è®¾ a = 3 ã€b = 1 ï¼Œè®¡ç®—ï¼š( a â€“ b ) ^ 3 ï¼Œ aã€bä¸ºwordç±»å‹æ•°æ®
assume cs:code
code segment
start:  mov  ax , 1
         push  ax
         mov  ax , 3
         push  ax         ;æ³¨æ„å‚æ•°å‹æ ˆçš„é¡ºåº
         call  difcube	  ;è¿™ä¸ªæ—¶å€™ æŠŠä¸‹ä¸€ä¸ªIPå‹å…¥æ ˆï¼Œæ ˆé¡¶ä¾æ—§èµ°äº†ä¸€æ­¥  è°ƒç”¨å­ç¨‹åº
         mov ax,4c00h
         int 21h
difcube : 
	   push  bp		;bpåŸºå€æŒ‡é’ˆå¯„å­˜å™¨ï¼Œç”¨äºå †æ ˆæ®µå¯»å€
	   ;å¾ˆé‡è¦çš„ä¸€ç‚¹ï¼šå­ç¨‹åºè¦ç”¨dpï¼Œæˆ‘ä»¬ä¸ºäº†é¿å…ä¸¢å¤±æœ‰ç”¨æ•°æ®ã€‚å…ˆå…¥æ ˆï¼Œè¿”å›å‰å‡ºæ ˆ
        mov  bp , sp
        mov  ax , [ bp + 4 ] ; å°†æ ˆä¸­açš„å€¼é€å…¥ax ä¸­
        sub   ax , [ bp + 6 ] ; å‡æ ˆä¸­bçš„å€¼
        mov  bp , ax
        mul  bp
        mul  bp	
        pop  bp		;bpå¯èƒ½åœ¨ä½¿ç”¨çš„æ—¶å€™ä¸»ç¨‹åºåœ¨ç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç”¨popä¿è¯å‡ºå»åä¸å½±å“ä¸»ç¨‹åºçš„ä½¿ç”¨;æ¢å¤ä¿å­˜bpçš„å€¼
        ret  4	;ret ipå‡ºæ ˆï¼Œè½¬ç§»åˆ°åé¢æ‰§è¡Œ
code ends
end start
```

> æŒ‡ä»¤`ret n`çš„å«ä¹‰ æŠŠæ ˆåé¢çš„å››ä¸ªå­—èŠ‚å¿½ç•¥æ‰ï¼Œç›´æ¥è½¬ç§»åˆ°åé¢å»ï¼š
>
> ```
> pop ip
> add sp, n 
> ```
>
> 

## END é“¾æ¥

+ [å›åˆ°ç›®å½•](../README.md)
+ [ä¸Šä¸€èŠ‚](21.md)
+ [ä¸‹ä¸€èŠ‚](23.md)
---
+ [å‚ä¸è´¡çŒ®â¤ï¸ğŸ’•ğŸ’•](https://github.com/3293172751/Block_Chain/blob/master/Git/git-contributor.md)