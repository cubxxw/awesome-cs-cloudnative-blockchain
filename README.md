# èœé¸Ÿçš„æˆé•¿æ‰‹å†Œ[![Awesome](https://cdn.rawgit.com/sindresorhus/awesome/d7305f38d29fed78fa85652e3a63e154dd8e8829/media/badge.svg)](https://github.com/cubxxw/cs-awesome-Block_Chain)

## ğŸ§­ å¯¼èˆª

+ ğŸ”[**å¿«é€ŸæŒ‡å—(wike) â€” ä»“åº“æ€»ç»“**](https://github.com/cubxxw/Block_Chain/wiki)

+ ğŸ”—[**ä¸­å›½å¤§é™†åŠ é€Ÿåœ°å€ï¼ˆGiteeå¹³å°ï¼‰**](https://gitee.com/xxw3293172751/Block_Chain)

+ ğŸ“µ[**ä¸é™é€Ÿåœ¨çº¿ä¸ªäººäº‘ç›˜**](https://xxw.nsddd.top/s/wRSz)

  <p align='center'>
  <a href="https://gitee.com/xxw3293172751/Block_Chain"><img src="https://img.shields.io/badge/gitee-%40xxw3293172751-green?logo=gitee" title="å›½å†…giteeé•œåƒåŠ é€Ÿ"></a>
  <a href="https://wakatime.com/@c445b3c6-a2bc-43a2-a24a-0828a17244b4" title="é¡¹ç›®çš„è¿›å±•æ—¶é•¿" > <img src="https://wakatime.com/badge/user/c445b3c6-a2bc-43a2-a24a-0828a17244b4.svg"></a>
  <a href="https://github.com/cubxxw/cs-awesome-Block_Chain/stargazers"><img alt="GitHub stars" src="https://img.shields.io/github/stars/3293172751/cs-awesome-Block_Chain?style=plastic"></a>
  <a href="https://xxw.nsddd.top/s/wRSz"><img alt="ä¸ªäººç½‘ç›˜ä¸é™é€Ÿ" src="https://img.shields.io/badge/cloud-xiongxinwei-red?logo=iCloud" title="ä¸ªäººç½‘ç›˜ä¸é™é€Ÿä¸‹è½½æµè§ˆ"></a>
  <a href="https://trackgit.com"><img src="https://us-central1-trackgit-analytics.cloudfunctions.net/token/ping/la3dpo1i7zzecvro53al" alt="trackgit-views" />
  </a>
  </p>

<div align="center">
	<a href = "https://github.com/cubxxw/cs-awesome-Block_Chain">ğŸ…±ï¸GitHub</a>
	&emsp;&emsp; | &emsp;&emsp;
	<a href="https://interview.huihut.com">ğŸ“šDocCub</a>
</div>

<div align="center">
	<a href = "readme_english.md">ğŸ”¤English</a>
	&emsp;&emsp; | &emsp;&emsp;
	<a href = "README.md">ğŸ†‘ä¸­æ–‡CN</a>
</div>
<br>

<details><summary><b>ğŸ’¡ å…³äº</b></summary>

<p><a href='https://www.facebook.com/profile.php?id=100034435372354'>Facebook</a> | <a href='https://telsacoin.io/'>Website</a> | <a href='http://nsddd.top'>Blog</a> | <a href='https://t.me/smile3293172751'>Telegram</a> | <a href='https://twitter.com/xxw3293172751'>Twitter</a> | <a href='https://www.linkedin.cn/injobs/in/xiongxinwei-xiong-7606a0227'>Linkedin</a> | <a href='https://liberapay.com/xiongxinwei/donate'>Donate</a></p>
<p align='center'>
<a href="https://www.linkedin.cn/injobs/in/xiongxinwei-xiong-7606a0227" target="_blank"><img src="https://img.shields.io/badge/linkedin-xiongxinwei-yellowgreen?logo=linkedin&style=flat-square"></a>
<a href="https://twitter.com/xxw3293172751" target="_blank"><img src="https://img.shields.io/badge/twitter-%40xxw3293172751-informational?logo=twitter&style=flat-square"></a>
<a href="https://www.zhihu.com/people/3293172751" target="_blank"><img src="https://img.shields.io/badge/%E7%9F%A5%E4%B9%8E-%E9%93%BE%E5%AD%A6%E8%80%85%E7%A4%BE%E5%8C%BA-blue?logo=zhihu&style=flat-square"></a>
<a href="http://sm.nsddd.top/sm0d220ad72063197b9875379403f6c88.jpg" target="_blank"><img src="https://img.shields.io/badge/%E5%BE%AE%E4%BF%A1-smile-brightgreen?logo=wechat&style=flat-square"></a>
<a href="https://space.bilibili.com/1233089591" target="_blank"><img src="https://img.shields.io/badge/b%E7%AB%99-%E6%97%A0%E4%B8%8E%E4%BC%A6%E6%AF%94%E7%9A%84%E5%BE%97%E5%BE%97-red?logo=bilibili&style=flat-square"></a>
</p>
<p align='center'>
<a href="https://weibo.com/u/6248930985" target="_blank"><img src="https://img.shields.io/badge/%E5%BE%AE%E5%8D%9A-%E6%97%A0%E4%B8%8E%E4%BC%A6%E6%AF%94%E7%9A%84%E5%BE%97%E5%BE%97-critical?style=social&logo=Sina%20Weibo"></a>
<a href="https://github.com/cubxxw" target="_blank"><img src="https://img.shields.io/badge/Github-xiongxinwei-inactive?style=social&logo=github"></a>
<a href="http://nsddd.top" target="_blank"><img src="https://img.shields.io/badge/%E5%8D%9A%E5%AE%A2-%40xiongxinwei-blue?style=social&logo=Octopus%20Deploy"></a>
</p>
</hr>


 âš ï¸ è¿™æ˜¯ä¸€ä¸ªèœé¸Ÿçš„æˆé•¿è®°å½•ï¼Œå¦‚æœä½ ä¹Ÿæƒ³æˆä¸ºå·¥ç¨‹å¸ˆï¼Œæƒ³ä»äº‹åç«¯çš„ç›¸å…³å·¥ä½œï¼Œæˆ–è€…æƒ³äº†è§£åŒºå—é“¾çš„ç›¸å…³çŸ¥è¯†ï¼Œé‚£ä¹ˆå®ƒå¯ä»¥å¸®åŠ©åˆ°ä½ ğŸ˜ â€”>  <b>å–œæ¬¢è¯·ç»™ä¸ªâ­æ”¶è—~</b>

 ğŸ§ å–œæ¬¢*Go*è¯­è¨€çš„æœ‹å‹æ¬¢è¿åŠ å…¥*Go*è¯­è¨€è‡ªå­¦ç¾¤ï¼ˆ<a target="_blank" href="https://qm.qq.com/cgi-bin/qm/qr?k=ZZnzhuU8uGmIKT5btI9uiCRpasUeD8e2&jump_from=webapi&authKey=x1/NMrS1KpK7N8Rvj4IfLcKYSWnjtElgU6a3ubin1JmtReyuoIlyE/ZJ0VRlK25n"><img border="0" src="./images/group.png" alt="GoLang/Goè¯­è¨€/è‡ªå­¦äº¤æµ" title="GoLang/Goè¯­è¨€/è‡ªå­¦äº¤æµ"></a>*QQ*ç¾¤å·ï¼š[141984758](https://qm.qq.com/cgi-bin/qm/qr?k=ZZnzhuU8uGmIKT5btI9uiCRpasUeD8e2&jump_from=webapi&authKey=x1/NMrS1KpK7N8Rvj4IfLcKYSWnjtElgU6a3ubin1JmtReyuoIlyE/ZJ0VRlK25n)ï¼‰

 â›“ï¸ <b>åŒºå—é“¾æŠ€æœ¯ï¼ˆä¹Ÿç§°ä¹‹ä¸ºåˆ†å¸ƒå¼è´¦æœ¬æŠ€æœ¯ï¼‰</b>ï¼Œæ˜¯ä¸€ç§äº’è”ç½‘æ•°æ®åº“æŠ€æœ¯ï¼Œå…¶ç‰¹ç‚¹æ˜¯<font color ="gree">å»ä¸­å¿ƒåŒ–ï¼Œå…¬å¼€é€æ˜ï¼Œä¿¡æ¯ä¸å¯ç¯¡æ”¹æ€§ï¼Œéšç§åŒ¿åæ€§ğŸ¤‘</font><a href="https://github.com/C-UB">CUBé“¾å­¦ç¤¾</a>è‡´åŠ›æ‰“é€ <b>åŒºå—é“¾è‡ªå­¦æ•™è‚²å¹³å°ã€‚</b>

ğŸ’¡ ä¾§è¾¹ç›®å½•æ”¯æŒæ–¹å¼ï¼š[ğŸ“š DocCub æ–‡æ¡£](https://go.nsddd.top)ã€ğŸ—ƒï¸[Github + TOC å¯¼èˆª](http://sm.nsddd.top/sm20221004130721.png?xxw@nsddd.top)ï¼Œ ğŸ˜ ç”šè‡³ä½ å¯ä»¥åœ¨è¿™ä¸ªç•Œé¢æŒ‰ä¸‹`.` â¡ï¸ [è¿›å…¥vscodeç¼–è¯‘ç¯å¢ƒ](https://nsddd.top/archives/githubdev) 

ğŸ‘£ å­˜åœ¨æ•°å­¦å…¬å¼æ— æ³•æ­£å¸¸æ˜¾ç¤ºé—®é¢˜ï¼Œå¼ºçƒˆæ¨è[:triangular_ruler: MathJax Plugin for Github](https://chrome.google.com/webstore/detail/mathjax-plugin-for-github/ioemnmodlmafdkllaclgeombjnmnbima) æ’ä»¶ä½¿ç”¨ã€‚

ğŸ“„ ä¿å­˜ä¸º PDF æ–¹å¼ï¼šä½¿ç”¨ Chrome æµè§ˆå™¨æ‰“å¼€ <a href="https://go.nsddd.top">ğŸ“š DocCub æ–‡æ¡£</a> é¡µé¢ï¼Œç¼©èµ·å·¦ä¾§ç›®å½•-å³é”® - æ‰“å° - é€‰æ‹©ç›®æ ‡æ‰“å°æœºæ˜¯å¦å­˜ä¸ºPDF - ä¿å­˜  â€”â€” [ğŸ–¨ï¸ä»¥Goè¯­è¨€ç¬¬ä¸€èŠ‚æ‰“å°æ•ˆæœé¢„è§ˆ.pdf](./images/copy.pdf)ï¼‰

ğŸ™ ä»“åº“å†…å®¹å¦‚æœ‰é”™è¯¯æˆ–æ”¹è¿›æ¬¢è¿ [issue](https://github.com/cubxxw/cs-awesome-Block_Chain/issues) æˆ– prï¼Œ[ğŸ§·å‚ä¸è´¡çŒ®](https://nsddd.top/archives/contributors)ï¼Œå»ºè®®æˆ–è®¨è®ºå¯åœ¨ [#10](https://github.com/cubxxw/cs-awesome-Block_Chain/issues/10) æå‡ºã€‚ç”±äºæœ¬äººæ°´å¹³æœ‰é™ï¼Œä»“åº“ä¸­çš„çŸ¥è¯†ç‚¹æœ‰æ¥è‡ªæœ¬äººåŸåˆ›ã€è¯»ä¹¦ç¬”è®°ã€ä¹¦ç±ã€åšæ–‡ç­‰ï¼ŒéåŸåˆ›å‡å·²æ ‡æ˜å‡ºå¤„ï¼Œå¦‚æœ‰é—æ¼ï¼Œè¯· [issue](https://github.com/cubxxw/cs-awesome-Block_Chain/issues/new/choose) æå‡ºã€‚æœ¬ä»“åº“éµå¾ª [CC BY-NC-SA 4.0ï¼ˆç½²å - éå•†ä¸šæ€§ä½¿ç”¨ - ç›¸åŒæ–¹å¼å…±äº«ï¼‰](https://github.com/huihut/interview/blob/master/LICENSE) åè®®ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼Œä¸å¾—ç”¨äºå•†ä¸šç›®çš„ã€‚

</details>

</hr>
<br>

## ğŸ”¥ CubDocæ¨å‡º

ğŸˆº å­˜åœ¨`GitHub`ä¸Šæµè§ˆæ•ˆæœä¸ä½³ï¼Œ[Cubé“¾å­¦ç¤¾](https://github.com/C-UB)æ¨å‡º`CubDoc`æ–‡æ¡£å½¢å¼ï¼Œä½¿ç”¨`vuejs`æ¸²æŸ“ ã€‚ä½¿ç”¨å›½å†…çš„æœåŠ¡å™¨æ­å»ºï¼ˆé€Ÿåº¦å˜å¿«:bullettrain_front:) ã€‚ç›®å‰æ”¯æŒä»¥ä¸‹çš„é¡¹ç›®ğŸ—ƒï¸ï¼š

+ [x] [:speedboat: Goè¯­è¨€åŸºç¡€-è¿›é˜¶](https://go.nsddd.top)

+ [x] [:speedboat: docker & k8s & äº‘åŸç”Ÿ](https://docker.nsddd.top)

<br>

## ğŸ—“ï¸ My åšå®¢ç²¾é€‰

åšå®¢ä¸Šé¢å‘è¡¨çš„æ–‡ç« å…·æœ‰ç‹¬ç«‹æ€§ï¼Œæ˜¯æˆ‘å‚ä¸å¼€æºé¡¹ç›®ä»¥æ¥ï¼Œæ‰€è§æ‰€å¾—æ‰€å­¦ï¼Œå¸Œæœ›è¿™ç§æ¨¡å¼å¯ä»¥æˆåŠŸå¹¶ä¸”å¾—ä»¥æ¨¡ä»¿ã€‚[ğŸ‘€ æˆ‘çš„åšå®¢](https://nsddd.top/) è®°å½•ç€å¾ˆå¤šä¼˜è´¨çš„å†…å®¹å€¼å¾—ä¸€çœ‹ï¼Œå¦‚æœå¸Œæœ›è®¢é˜… SSR â¡ï¸[ç‚¹è¿™é‡Œ](https://nsddd.top/rss.xml)

[<img align="left" alt="shenxianpeng | ZhiHu" width="22px" src="https://www.svgrepo.com/show/305628/zhihu.svg" />][zhihu] 

[zhihu]: https://www.zhihu.com/people/3293172751

<a href="https://www.zhihu.com/people/3293172751" target="_blank"><img src="https://img.shields.io/badge/%E7%9F%A5%E4%B9%8E-%E9%93%BE%E5%AD%A6%E8%80%85%E7%A4%BE%E5%8C%BA-blue?logo=zhihu&style=flat-square"></a>
<a href="http://sm.nsddd.top/sm0d220ad72063197b9875379403f6c88.jpg" target="_blank"><img src="https://img.shields.io/badge/%E5%BE%AE%E4%BF%A1-smile-brightgreen?logo=wechat&style=flat-square"></a>

<details><summary><b>ğŸ“š æˆ‘çš„åšå®¢è®¢é˜…ï¼ˆæ¯å‘¨æ›´æ–°â—ï¼‰</b></summary>
</br>
ğŸ”¥ çŸ¥ä¹ä¸“æ <b>æ¯ä¸ªå·¥ä½œæ—¥11ï¼š59è‡ªåŠ¨æ›´æ–°ä¸€æ¬¡ï¼ˆactionséƒ¨ç½²ï¼‰</b> ï¼Œå–œæ¬¢æ–‡ç« å…³æ³¨ç‚¹èµğŸ‘å™¢~


<!-- My-Blog:START -->
- [é«˜çº§çš„ Githook è®¾è®¡](https://nsddd.top/archives/githook)
- [é€Ÿè¯» sealos æºç  æ ¸å¿ƒæ€æƒ³è§£æ](https://nsddd.top/archives/sealos-source-code)
- [Kubernetes äºŒæ¬¡å¼€å‘ CRD å…¥é—¨](https://nsddd.top/archives/kubernetes-crd)
- [å¼€æºä¹‹è·¯ï¼šè·¨è¶Šå…«ä¸ªé˜¶æ®µï¼Œæˆå°±è¡Œä¸šä½¼ä½¼è€…](https://nsddd.top/archives/open-source)
- [CloudNative / Kubernetes å­¦ä¹ èµ„æºæ•´ç†](https://nsddd.top/archives/cloudnativekubernetes)
- [Istio é«˜çº§æµé‡ç®¡ç†](https://nsddd.top/archives/istio)
- [Kubernetes ç½‘ç»œ](https://nsddd.top/archives/kubernetes-network)
- [Kubernetes æ¦‚å¿µä»¥åŠæ¶æ„](https://nsddd.top/archives/kubernetes-docker)
- [æ·±æŒ–å®¹å™¨åº•å±‚æŠ€æœ¯ï¼ˆå…¨ï¼‰](https://nsddd.top/archives/dockers)
- [Clash for Linux(CLI)ã€Windowsã€Android](https://nsddd.top/archives/clash)
- [golangci-lin: Fast linters Runner for Go](https://nsddd.top/archives/golangci)
- [é«˜è´¨é‡çš„Makefileç¼–å†™](https://nsddd.top/archives/makefile)
- [Gotests Automatically generate Go test](https://nsddd.top/archives/gotests)
- [git-chglog write your CHANGELOG](https://nsddd.top/archives/git-chglog)
- [Project specification and commit message](https://nsddd.top/archives/projectspecificationandcommitmessage)
- [GTDå®è·µ](https://nsddd.top/archives/gtd-todo)
- [æŠ€æœ¯é¢†å¯¼åŠ›ä¸èŒä¸šè§„åˆ’: äººç”Ÿè·¯çº¿å›¾ä¸Šçš„å¿…è¯»é˜…è¯»æ¨è](https://nsddd.top/archives/career-development)
- [GitHub CLI å‘½ä»¤è¡Œå·¥å…·ï¼ˆgh)](https://nsddd.top/archives/gh)
- [sealoså¼€æºç¤¾åŒº~ç¬¬ä¸€é˜¶æ®µ](https://nsddd.top/archives/sealos-one)
- [åœ¨çº¿vscodeå®Œæˆè´¡çŒ®å’Œé˜…è¯»](https://nsddd.top/archives/githubdev)
<!-- My-Blog:END -->

</details>

</hr>
<br>

## ğŸ“– Goè¯­è¨€

#### ğŸ·ï¸å‰è¨€

`Go`è¯­è¨€çš„å­¦ä¹ å‚è€ƒå®˜ç½‘æ–‡æ¡£[goè¯­è¨€å®˜æ–¹ç¼–ç¨‹æŒ‡å—](https://golang.org/#)ï¼Œå¦‚ä½•æ‰¾åˆ°åˆé€‚çš„Goè¯­è¨€å­¦ä¹ è·¯çº¿[Goè¯­è¨€è·¯çº¿](go-advancend/go_route.md)ï¼ˆğŸˆ å«æœ‰å¤§é‡çš„Goè¯­è¨€é¡¹ç›®èµ„æºã€çº¿ä¸Šèµ„æºæ”¶é›†ï¼‰ã€‚

```mermaid
graph LR
ç¨‹åºå‘˜åŸºæœ¬ç´ å…» ==> GoåŸºç¡€ç¯‡ ==>å¼€å‘å¿…å¤‡æŠ€æœ¯ ==> Goè¿›é˜¶100ç¯‡ ==> Goé«˜çº§ç¯‡ç«  
```

+ ğŸ”±[goè¯­è¨€å®˜æ–¹ç¼–ç¨‹æŒ‡å—](https://golang.org/#)  

+ ğŸš§[Goè¯­è¨€è·¯çº¿å’Œèµ„æºå¾é›†(update 2023)](go-advancend/go_route.md)



#### ğŸ”–æ ¸å¿ƒ

**Goè¯­è¨€çš„æ ¸å¿ƒç¼–ç¨‹ç¯‡ï¼ŒåŸºç¡€éƒ¨åˆ†30å¤©è®°å½•ï¼Œ100ç¯‡è¿›é˜¶ï¼Œé«˜çº§ç¯‡åŒ…æ‹¬Goè¯­è¨€åº•å±‚çš„å®ç°ï¼Œruntimeã€è°ƒåº¦å™¨çš„åŸç†ä»¥åŠGoè¯­è¨€è®¾è®¡æ¨¡å¼~**

âš ï¸ ç›®å‰å·²å…¨éƒ¨è¿ç§»è‡³ â¡ï¸ [CubDocğŸ§·](https://go.nsddd.top/)

+ [x] [ğŸ–±ï¸GO åŸºç¡€éƒ¨åˆ†ğŸ”¥](awesome-golang/README.md)
+ [x] [ğŸ–±ï¸Goè¯­è¨€100ç¯‡è¿›é˜¶ğŸ”¥](awesome-golang/Gomd_super/README.md)
+ [x] [ğŸ–±ï¸Go é«˜çº§ç¯‡](awesome-golang/go-advancend/README.md)
+ [ ] [ğŸ–±ï¸Mit 6.824 ç¬”è®°](awesome-golang/mit-6-824/README.md)



#### ğŸ“è¡¥å……

å­¦ä¹ å¼€æºé¡¹ç›®å¯¹äºæˆ‘ä»¬çš„æˆé•¿éå¸¸å¤§ï¼Œæˆ‘ç»“åˆæˆ‘è‡ªå·±çš„å¼€æºç»å†å†™äº†[è¿™ç¯‡ğŸ¯å¼€æºä¹‹è·¯ï¼šè·¨è¶Šå…«ä¸ªé˜¶æ®µï¼Œæˆå°±è¡Œä¸šä½¼ä½¼è€…](https://nsddd.notion.site/f8854a0f60d346d98b9eb2ccb6eaef8f)ã€‚åŒ[ğŸ§‹ å­¦ä¹  Kubernetes çš„æˆé•¿è½¨è¿¹](https://nsddd.notion.site/CloudNative-Kubernetes-2f278e98ed274999829333272415c72d)ä¸€æ ·ï¼Œè¿™ç¯‡æ–‡ç« å°†ä¼šé•¿æœŸæ›´æ–°ï¼Œä¹Ÿå¯ä»¥å‚ä¸è´¡çŒ® ï¼Œè¡¥å…¨æ›´æ–°~ã€‚[k8s-iam](https://github.com/cubxxw/k8s-iam) é¡¹ç›®å°±æ˜¯æˆ‘ç»“åˆKubernetes å’Œ iam è¿™ä¸¤ä¸ªæä¸ºä¼˜ç§€çš„é¡¹ç›®è”åˆæ‰“é€ çš„k8s-iam é¡¹ç›®ï¼Œå¯¹ [ä¼ä¸šçº§ iam é¡¹ç›®](https://github.com/marmotedu/iam/) è¿›è¡Œå­¦ä¹ å’Œä»¿å†™ï¼Œä»¥åŠå¯¹å¼€æºæ–‡æ¡£å’ŒæŠ€æœ¯ç»†èŠ‚çš„è¾“å‡ºã€‚iam æŠ€æœ¯æ ˆæ¶µç›–äº†å¼€å‘ç¯å¢ƒé…ç½®ã€ä»£ç è®¾è®¡ã€å¸¸ç”¨åŒ…ä½¿ç”¨ã€HTTPã€å®¢æˆ·ç«¯CLIã€RESTfulè®¾è®¡ã€æ•°æ®åº“æ“ä½œã€Swaggeræ–‡æ¡£ã€Cacheæœºåˆ¶ã€ä¸šåŠ¡é€»è¾‘å¤„ç†ã€å¼€å‘è§„èŒƒã€APIè°ƒè¯•ã€éƒ¨ç½²æ–¹å¼å’Œäº‘åŸç”Ÿæ¶æ„è®¾è®¡ç­‰æ–¹é¢ã€‚æœ‰å…´è¶£çš„å¯ä»¥ä¸€èµ·é˜…è¯»å­¦ä¹ ã€‚

ğŸ¥‡ å‘½åè§„èŒƒä»¥åŠé¡¹ç›®ç›®å½•ç»“æ„ğŸ“‡çš„è®¾å®šå¯¹äºä¸€ååˆæ ¼çš„å·¥ç¨‹å¸ˆæ¥è¯´ä¹Ÿæ˜¯éå¸¸é‡è¦çš„ã€‚ä¸‹é¢æ˜¯ä½œä¸ºä¸€ååˆæ ¼çš„å¼€å‘è€…ğŸ¤µï¼Œå¿…é¡»è¦ä¼šçš„åŸºæœ¬ç´ å…»ã€‚

+ [ğŸ–±ï¸Goè¯­è¨€åŒ…ç®¡ç†å·¥å…· â€” modåŒ…](Gomd_super/mod.md)

+ [ğŸ–±ï¸Go-airå®ç°çƒ­åŠ è½½ç¼–è¯‘](Gomd_super/go-air.md)

+ [ğŸ–±ï¸å‘½åè§„åˆ™å’Œä»£ç è§„èŒƒ](Gomd_super/name.md)

+ ğŸ–±ï¸[Goè¯­è¨€ç›®å½•ç»“æ„](Gomd_super/catalogue.md)

+ ğŸ–±ï¸[Goæ–‡ä»¶ä»¥åŠç¼–ç å¤„ç†](Gomd_super/go_file.md)

+ ğŸ–±ï¸[æ­£åˆ™è¡¨è¾¾å¼](Gomd_super/zhenze.md)

+ ğŸ–±ï¸[ä½è¿ç®—æŠ€å·§](Gomd_super/bitwise.md)

> Goè¯­è¨€ä¸€äº›å…¶ä»–çš„ç½‘ç«™å’Œåšå®¢ï¼Œå€¼å¾—ä¸€çœ‹
>
> + [Goè¯­è¨€é¢è¯•é¢˜](https://www.topgoer.cn/docs/gomianshiti/mianshiti)
> + [Goè¯­è¨€ä¸­æ–‡å®˜æ–¹æ–‡æ¡£](http://word.topgoer.com/)
> + [Goè¯­è¨€ä¸“å®¶ç¼–ç¨‹åœ°å€](http://wen.topgoer.com/docs/gozhuanjia/gogfjhk)

<br>



##  ğŸ‘€ Cloud Native

ğŸ’¡ è¿™æ˜¯ä¸€ä¸ªå…³äºäº‘åŸç”Ÿé¢†åŸŸçš„ä»“åº“ï¼Œæ¶‰åŠåˆ° dockerã€Kubernetesã€cloud native çŸ¥è¯†ï¼ŒåŒ…æ‹¬ docker æ¶æ„å’Œåº•å±‚å®ç°ï¼ŒåŒ…æ‹¬Kubernetesçš„æ¶æ„ã€åŸç†ã€ç”Ÿæ€ä»¥åŠæºç é˜…è¯»ã€‚è¿˜æœ‰  Cloud Native å…¶ä»–é¢†åŸŸçŸ¥è¯†ï¼Œä»¥åŠå„ä¸ª CNCF å¼€æºç¤¾åŒºé¡¹ç›®å­¦ä¹ ã€‚

+ [x] [docker](awesome-docker-kubernetes/README.md)
+ [x] [Kubernetes](awesome-docker-kubernetes/Cloud-Native-k8s/README.md) 
+ [x] [CloudNative](awesome-docker-kubernetes/Cloud-Native/README.md)



## ğŸ“š CSç³»åˆ—

CS ç³»åˆ—é€‰è‡ª[ğŸ‰awesome-cs-course](https://github.com/cubxxw/awesome-cs-course)ï¼Œå†…å®¹æ¶µç›– è®¡ç®—æœºæ“ä½œç³»ç»Ÿã€csappç³»åˆ—ã€ç®—æ³•å’Œæ•°æ®ç»“æ„ã€è®¡ç®—æœºç½‘ç»œã€`linux`ã€`java`ã€`python`ã€`C/C++`ã€`vuepress`ã€`gitbook`ã€`nodejs`ã€`vuejs`ã€`halo`ã€`redis`ã€`hugo`ã€`nginx`ã€`nosql`ã€`mysql`ã€`JavaScript`ã€`git`ã€`markdown`ã€`web`å‰ç«¯ç­‰ç¬”è®°ï¼Œæ›´å¤šç§»æ­¥åˆ°[AWESOMEç³»åˆ—CSä»“åº“åœ°å€](https://github.com/cubxxw/awesome-cs-course/)

+ [x] [Javaå…¨å†Œâ˜•](https://github.com/cubxxw/awesome-cs-course/blob/master/java/README.md)

+ [x] [æ±‡ç¼–å­¦ä¹ ğŸ”¥](æ±‡ç¼–/README.md)

+ [x] [è½¯ä»¶å·¥ç¨‹](./è½¯ä»¶å·¥ç¨‹&ç³»ç»Ÿè®¾è®¡å’Œæ¶æ„/README.md)

+ [x] [ç®—æ³•ä¸æ•°æ®ç»“æ„ï¼ˆLeetCodeåˆ·é¢˜è®°å½•ï¼‰](https://github.com/cubxxw/LeetCode/)

+ [x] [è®¡ç®—æœºç½‘ç»œğŸ”¥](./web/README.md)

+ [x] [æ“ä½œç³»ç»Ÿ â€” OSğŸ”¥](https://github.com/cubxxw/os)

+ [x] [CSå¿…é¡»è¦ä¼šçš„æŠ€æœ¯ğŸ”¥](cs/README.md)

<br>

## ğŸ“˜ å¼€å‘å¿…å¤‡æŠ€æœ¯

ğŸ§‹å‚ä¸æ™®é€šç¨‹åºçš„å¼€å‘æˆ–è€…æ˜¯åŒºå—é“¾â›“ï¸å¼€å‘å¿…é¡»[ç†Ÿæ‚‰LinuxæŒ‡ä»¤](https://github.com/cubxxw/awesome-cs-course/blob/master/linux/README.md)ï¼Œç†Ÿæ‚‰[gitå›¢é˜Ÿå¼€å‘](https://github.com/cubxxw/awesome-cs-course/blob/master/Git/README.md)ï¼ŒåŸºäº[dockerå®¹å™¨](docker/README.md)ä¼šè®©æˆ‘é—¨å¿«é€Ÿçš„æ­å»ºå·¥å…·å’Œç¯å¢ƒï¼Œæ›´å¥½çš„è¿ç§»å¼€å‘ç¯å¢ƒå’Œè¿ç§»é“¾ç ï¼ˆblockcode)ï¼Œ[å¯†ç å­¦å’Œä¿¡æ¯å®‰å…¨](cryptology/README.md)ä¸ä»…ä»…æ˜¯åŒºå—é“¾å·¥ç¨‹å¸ˆå¿…é¡»è¦å­¦ä¹ çš„æŠ€æœ¯ï¼Œæ›´æ˜¯ITä»ä¸šè€…æœªæ¥ä¸å¯æˆ–ç¼ºçš„æŠ€æœ¯ã€‚æˆ‘ä»¬éƒ½æ¸´æœ›ç³»ç»Ÿèƒ½æ›´åŠ çš„å®‰å…¨ä¸æ˜¯å—ğŸ“µã€‚

âš ï¸ `Docker` ã€`K8s`ã€`sealos`ã€`äº‘åŸç”Ÿ` å·²å…¨éƒ¨è¿ç§»è‡³ â¡ï¸ [CubDocğŸ§·](https://docker.nsddd.top/)

+ [x] ğŸ–±ï¸ [linuxä»å…¥é—¨åˆ°ç²¾é€šğŸ”¥](https://github.com/cubxxw/awesome-cs-course/blob/master/linux/README.md)

+ [x] ğŸ–±ï¸ [Gitâ€”å¿…å¤‡ç¥å™¨ğŸ”¥](https://github.com/cubxxw/awesome-cs-course/blob/master/Git/README.md)

+ [x] [ğŸ–±ï¸ Docker/k8s/äº‘åŸç”ŸğŸ”¥](docker/README.md) 

+ [x] [ğŸ–±ï¸ å¯†ç å­¦å’Œä¿¡æ¯å®‰å…¨ğŸ”¥](cryptology/README.md)

<br>

## ğŸ“” åŒºå—é“¾å¯¼èˆª

<font size = 2>æˆ‘è®¤ä¸ºä¸–ç•Œå†å²å¯ä»¥ç”¨ä¸¤å¥è¯æ¥æè¿°ï¼šåˆ†ä¹…å¿…åˆï¼Œåˆä¹…å¿…åˆ†ã€‚åŒºå—é“¾å°†æ˜¯å‚¬åŒ–ä¸‹ä¸€ä¸ªâ€˜åˆä¹…å¿…åˆ†â€™æ—¶ä»£çš„æ–°æŠ€æœ¯ã€‚åŒºå—é“¾çš„äº§ç”Ÿé“¸å°±äº†ä¸€ä¸ªæ–°çš„æ—¶ä»£ï¼Œæˆ‘ä»¬çš„ä¿¡å¿µæ˜¯å»ºç­‘åœ¨ä¸€ä¸ªæ•°å­¦çš„ç®—æ³•ä¸Šé¢ï¼ŒIn math we trustã€‚	â€”â€”å¼ é¦–æ™Ÿ</font>

:spider_web: è¿™æ˜¯ä¸€ä¸ªweb2çš„ä¸–ç•Œï¼Œæˆ–è€…å¾ˆå¿«æ•´ä¸ªäº’è”ç½‘è¡Œä¸šéƒ½ä¼šæ”¹é©ï¼Œæ˜¯çš„ï¼Œéƒ½ä¼šè¿ˆå…¥web3çš„ä¸–ç•Œ

> ğŸ”¥ æˆ‘æ·±ä»¥ä¸ºç„¶ï¼šåŒºå—é“¾æˆ–è®¸ä¸èƒ½è®©è¿™ä¸ªä¸–ç•Œåˆ†å¸ƒåŒ–ï¼Œä½†æ˜¯å®ƒå¯ä»¥è®©ä¸–ç•Œä¸å†æœ‰ä¸­ä»‹ã€‚ä¸åœ¨ä¼šå› ä¸ºä½ æ‰€ç©æ¸¸æˆå´©æºƒä½ å°±å¤±å»äº†è¿™ä¸ªæ¸¸æˆ~

ä»äº‹åŒºå—é“¾ï¼Œéœ€è¦å“ªäº›åŸºç¡€çŸ¥è¯†ï¼Œçœ‹ä¸‹[åŒºå—é“¾å¼€å‘éœ€è¦ä»€ä¹ˆ](C_Universal_Brockchain\chain.md) ï¼Œä½ éœ€è¦ä¸€ä»½[åŒºå—é“¾å·¥ç¨‹å¸ˆè·¯çº¿](./blockchain/route.md)ï¼Œæˆ–è®¸ä½ å¯ä»¥åœ¨ä¸€äº›åŒºå—é“¾é¡¹ç›®ä¸­æ‰¾åˆ°çµæ„Ÿ[ğŸ”—åŒºå—é“¾å…¬ç›Šé¡¹ç›®ï¼ˆNFT+ç§é“¾/è”ç›Ÿé“¾/ç§é“¾ï¼‰](blockchain/åŒºå—é“¾å…¬ç›Šé¡¹ç›®/README.md)ã€‚åŒºå—é“¾çš„[å…±è¯†ç®—æ³•](blockchain/README.md)æ˜¯æ€ä¹ˆå®ç°çš„å‘¢?

+ [x] [ğŸ”—åŒºå—é“¾å·¥ç¨‹å¸ˆè·¯çº¿](./blockchain/route.md)

+ [x] [ğŸ”—åŒºå—é“¾å¼€å‘éœ€è¦ä»€ä¹ˆâ“](C_Universal_Brockchain\chain.md)

+ [x] [ğŸ”—åŒºå—é“¾å…¬ç›Šé¡¹ç›®ï¼ˆNFT+ç§é“¾/è”ç›Ÿé“¾/ç§é“¾ï¼‰](blockchain/åŒºå—é“¾å…¬ç›Šé¡¹ç›®/README.md)
+ [x] [ğŸ”—å…±è¯†ç®—æ³•â€”â€”Goè¯­è¨€å®ç°](./blockchain/README.md)

<br>

## :b: åŒºå—é“¾æ•™ç¨‹

ğŸ’± åŒºå—é“¾ç³»åˆ—åŒ…å«äº†åŒºå—é“¾æ•™ç¨‹ï¼Œä¸»è¦æ˜¯`eth`ã€`btc`è¿˜æœ‰è”ç›Ÿé“¾`fabric`è¶…çº§è´¦æœ¬ç»„ç»‡çš„æ•™ç¨‹ï¼ŒåŸºäºè¿™äº›æ•™ç¨‹æ‰©å±•æ–°çš„æŠ€æœ¯ï¼š`git`ã€`ipfs`ã€å¯†ç å­¦ã€å…±è¯†ç®—æ³•ã€‚

ğŸ“® è¿™ä¸ªä¹Ÿæ˜¯æˆ‘ä»¬`C-UB`ç¤¾åŒºçš„æœ€ç»ˆç›®çš„ï¼Œæˆ‘ä»¬è¦æ‰“é€ å‡ºä¸€ä¸ªä¸ä¸€æ ·çš„å…¨æ°‘å­¦ä¹ å¹³å°ï¼Œå°†ä¼šèåˆä¸€åˆ‡æ–°å‹æŠ€æœ¯ï¼ˆ`ipfs`ã€`git`ã€`k8s`ã€`Kafka`)ï¼ŒåŸºäºweb3çš„c-ubç¤¾åŒºï¼Œå±äºæˆ‘ä»¬æ¯ä¸€ä¸ªäººï¼æˆ–è®¸è¿™å°†ä¼šæœ‰èƒ½åŠ›æˆä¸ºä¸‹ä¸€ä¸ªæ—¶ä»£çš„å…ˆé©±ï¼Œå®Œå…¨æ”¹å˜äººç±»çš„ååŒæ–¹å¼ã€‚å½“äººä¸äººä¹‹é—´æ›´ä¿¡ä»»ï¼Œæ•ˆç‡å°±ä¼šæ›´é«˜ã€‚

ğŸš¸ ä»¥åŠé“¾å­¦é¡¹ç›®[C-Universal Blockchain](https://github.com/c-ub)

> ä»¥å¤ªåŠå’Œæ¯”ç‰¹å¸ä¸€æ ·ï¼Œåº•å±‚æ¡†æ¶éƒ½æ˜¯åŒºå—é“¾åè®®ï¼ŒåŒºå—é“¾æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªåº”ç”¨äº†å¯†ç å­¦æŠ€æœ¯çš„åˆ†å¸ƒå¼æ•°æ®åº“ç³»ç»Ÿã€‚å»ºè®®çœ‹ä¸€ä¸‹ **[ä»¥å¤ªåŠç™½çš®ä¹¦](https://github.com/ethereum/wiki/wiki/%5B%E4%B8%AD%E6%96%87%5D-%E4%BB%A5%E5%A4%AA%E5%9D%8A%E7%99%BD%E7%9A%AE%E4%B9%A6)ï¼ˆéœ€è¦æœ‰golangç¼–ç¨‹åŸºç¡€ï¼‰**
>
> <div align="center">
> <a href="eth/TOC.md">
> 	<img src="https://sm.nsddd.top//typora/image-20220630192622583.png?mail:3293172751@qq.com" alt="åŒºå—é“¾çš„å­¦ä¹ " style="zoom: 20%;" />
> </a></div>

+ [x] [ğŸ–±ï¸åŒºå—é“¾æ•™ç¨‹ğŸ”¥](C_Universal_Brockchain/README.md)

+ [x] [ğŸ–±ï¸web3ï¼Œæ™ºèƒ½åˆçº¦](eth/README.md)

+ [x] [ğŸ–±ï¸åŒºå—é“¾æŠ€æœ¯æŒ‡å—](chainbrock-learning/SUMMARY.md)

> ä¼ä¸šçº§[åŒºå—é“¾å®æˆ˜æ•™ç¨‹](https://learnblockchain.cn/books/enterprise/)

<br>



## ğŸ—ƒï¸ é¡¹ç›®

ä¸ºäº†æ–¹ä¾¿ç®¡ç†ï¼Œæˆ‘å°†æ‰€æœ‰çš„çŸ¥è¯†ä»“åº“ä»¥åŠè´¡çŒ®å¼€æºé¡¹ç›®æ‰€å…‹éš†çš„ä»“åº“æ”¾åœ¨äº†æˆ‘çš„ä¸ªäººè´¦æˆ· [cubxxw](https://github.com) ä¸­ï¼Œå°†æ‰€æœ‰çš„é¡¹ç›®å’Œè§„èŒƒæœ‰å…³çš„ä»“åº“éƒ½æ”¾åœ¨äº†è‡ªå·±åˆ›å»ºçš„ç¤¾åŒº [kubecub](https://github.com/kubecub) ä¸­æ–¹ä¾¿æ‰€æœ‰äººåŠ å…¥å¹¶ä¸”å­¦ä¹ ï¼Œå¹¶ä¸”å°†æ‰€æœ‰è‡ªåŠ¨åŒ–ç›¸å…³çš„è´¦æˆ·éƒ½ä½¿ç”¨äº† [robot(kubbot)](https://github.com/kubbot) æœºå™¨äººæ¥è¿›è¡Œè‡ªåŠ¨åŒ–å’Œæ§åˆ¶ã€‚ 

æˆ‘å‚ä¸è¿‡å¾ˆå¤šé¡¶çº§å¼€æºç¤¾åŒºï¼ŒåŒ…æ‹¬ [sealer](https://github.com/sealerio/sealer)ã€[sealos](https://github.com/labring/sealos)ã€[Kubernetes](https://github.com/kubernetes/kubernetes/)ã€[OpenIM](https://github.com/OpenIMSDK)ã€[K8sgpt](https://github.com/k8sgpt-ai/k8sgpt)ã€[Horizon](https://github.com/horizoncd/horizon/) ä»¥åŠ æˆ‘è‡ªå·±æ‰“é€ çš„ å¼€æºç¤¾åŒº [Kubecub](https://github.com/kubecub)ã€‚kubecub ä¸­æœ‰å¾ˆå¤šæˆ‘æ²‰æ·€ä¸‹æ¥çš„å¼€æºè§„èŒƒä»¥åŠä»£ç ã€é¡¹ç›®è§„èŒƒéƒ½æ€»ç»“åœ¨å„ä¸ªä»“åº“ä¸­ã€‚å¹¶ä¸”ï¼ŒKubecub å’Œ OpenIM ä½¿ç”¨äº†æˆ‘åˆ›é€ çš„ [ğŸ¤– robot(kubbot)](https://github.com/kubbot) æ¥å¯¹ PR å’Œ Issue é«˜åº¦è‡ªåŠ¨åŒ–ã€‚kubecub å®—æ—¨æ˜¯é¢å‘æ‰€æœ‰çš„å¼€å‘è€…è¿›è¡Œå­¦ä¹ å’Œåˆ›é€ çš„ï¼Œä½ å¯ä»¥åœ¨é‡Œé¢åˆ©ç”¨æˆ‘ä»¬çš„è‡ªåŠ¨åŒ–å·¥å…·å’Œæ¨¡æ¿æ‰“é€ è‡ªå·±çš„å¼€æºé¡¹ç›®ï¼Œå¹¶ä¸”è®©æ›´å¤šçš„äººæ¥å¸®åŠ©ä½ ååŒã€review ä»£ç ã€‚

åœ¨é‡Œé¢ç§¯ç´¯äº†å¾ˆå¤šçš„å¼€æºç»éªŒï¼Œå¹¶ä¸”è®°å½•åœ¨æˆ‘çš„ [åšå®¢](https://nsddd.top) ä¸­ï¼Œå…¶ä¸­ï¼Œå¾ˆå¤šçš„ææ¡ˆå’Œåœ¨è´¡çŒ®çš„æˆé•¿ç¬”è®°ï¼Œæ‰€å­¦ä¹ åˆ°çš„çŸ¥è¯†éƒ½åœ¨ [CloudNative](https://docker.nsddd.top/Cloud-Native/) è¿™ç¯‡çŸ¥è¯†åº“ä¸­æœ‰æ‰€è®°å½•ã€‚

> <p align = "center" color="red">
> <b> kubecubï¼ˆkubecub-å¼€æºç¤¾åŒºï¼‰</b>    
> </p>
>
> <div align="center">
> <a href="https://github.com/kubecub">
> 	<img src="http://sm.nsddd.top/sm202305242215086.png"  alt="twitter_header_photo_1" style="zoom: 20%;" />
> </a></div>
>
> æ¬¢è¿åŠ å…¥ kubecub ç¤¾åŒºä¸€èµ·å­¦ä¹ ã€ä¸ºå¼€æºåšè´¡çŒ® ! ä¸ºäº†æ–¹ä¾¿æ¯ä¸€ä½å¼€æºçˆ±å¥½è€…äº¤æµå’Œå­¦ä¹ ï¼Œæˆ‘ä»¬åœ¨ slack ä¸­é›†æˆäº† å¾ˆå¤šè‡ªåŠ¨åŒ–å·¥å…·ä»¥åŠ AIï¼Œæ¬¢è¿å¤§å®¶ [ğŸ”¥åŠ å…¥ Slack](https://join.slack.com/t/kubecub/shared_invite/zt-1se0k2bae-lkYzz0_T~BYh3rjkvlcUqQ)ã€‚


## âœ¨ å‚ä¸è´¡çŒ®ğŸ’•

 **[ğŸ«µ å‚ä¸è´¡çŒ®ğŸ’–â¤ï¸â€ğŸ©¹ğŸ’“ğŸ’](https://nsddd.top/archives/contributors)** 

**[ğŸ˜ ç”šè‡³ä½ å¯ä»¥åœ¨è¿™ä¸ªç•Œé¢æŒ‰ä¸‹`.`è¿›å…¥vscodeç¼–è¯‘ç¯å¢ƒ](https://nsddd.top/archives/githubdev)** 

**è¦æ±‚ï¼š**

+ [ä½ éœ€è¦å­¦ä¼šä½¿ç”¨markdownğŸ–±ï¸](https://github.com/cubxxw/awesome-cs-course/blob/master/markdown/README.md)
+ [ç¬¦åˆGoogleä»£ç è§„èŒƒ](https://zh-google-styleguide.readthedocs.io/en/latest/google-cpp-styleguide/)

<details><summary><b>ğŸ«¡ å…‹éš†æ­¤ä»“åº“åˆ°æœ¬åœ°</b></summary>
<pre><code>git clone https://ghproxy.com/https://github.com/cubxxw/Block_Chain.git èœé¸Ÿçš„æˆé•¿æ‰‹å†Œ
</code></pre>
<pre><code>wget -c -d -O gitsync.sh https://sm.nsddd.top/uploads/2022/10/27/Y0iHb6ix_gitsync.sh?attname=gitsync.sh && echo "gitsync.sh" >> .gitignore && sh gitsync.sh è¿™é‡Œå†™æäº¤ä¿¡æ¯~ && chmod 777 gitsync.sh
</code></pre>


</details>

<br>

<font size = 2>ğŸ¯ å¦‚æœä½ ä¹Ÿæƒ³å¯¹æœ¬é¡¹ç›®åšå‡ºè´¡çŒ®ï¼Œé‚£ä¹ˆä½ å¯ä»¥å…ˆæŠŠè¯¥é¡¹ç›®è¿›è¡Œ [fork](https://github.com/cubxxw/cs-awesome-Block_Chain/fork)æˆ–è€… `git clone` åˆ°æœ¬åœ°ï¼ˆæ¨èå…ˆç”¨Â [fock](https://github.com/cubxxw/cs-awesome-Block_Chain/fork)åˆ°è‡ªå·±ä»“åº“ï¼Œç„¶åå†cloneåˆ°æœ¬åœ°ï¼Œå¯¹æœ¬åœ°è¿›è¡Œæ“ä½œï¼Œæœ€åä»è‡ªå·±ä»“åº“è´¡çŒ®ï¼Œç„¶åè‡ªå·±å»ºç«‹ä¸€ä¸ªåˆ†æ”¯ `your-branch`ï¼Œç„¶åä¸Šä¼ èµ„æ–™åˆ° å¯¹åº”ç›®å½• ä¸‹ï¼Œå›¾ç‰‡ä¿¡æ¯å¯ä»¥ä¸Šä¼ åˆ°` /images`ï¼Œç„¶åæ›´æ–° `README`ã€‚ </font>

 

## [![Repography logo](https://images.repography.com/logo.svg)](https://repography.com) / Recent activity [![Time period](https://images.repography.com/26892425/3293172751/Block_Chain/recent-activity/04864df8cf8f1f104b2b9453e0b47498_badge.svg)](https://repography.com)

![Alt](https://repobeats.axiom.co/api/embed/7053fe17b2bd9f88a0015474635e09cff7dc1ee2.svg "Repobeats analytics image")
[![FOSSA Status](https://app.fossa.com/api/projects/git%2Bgithub.com%2F3293172751%2Fcs-awesome-Block_Chain.svg?type=shield)](https://app.fossa.com/projects/git%2Bgithub.com%2F3293172751%2Fcs-awesome-Block_Chain?ref=badge_shield)


[![Timeline graph](https://images.repography.com/26892425/3293172751/Block_Chain/recent-activity/04864df8cf8f1f104b2b9453e0b47498_timeline.svg)](https://github.com/cubxxw/Block_Chain/commits)
[![Issue status graph](https://images.repography.com/26892425/3293172751/Block_Chain/recent-activity/04864df8cf8f1f104b2b9453e0b47498_issues.svg)](https://github.com/cubxxw/Block_Chain/issues)
[![Pull request status graph](https://images.repography.com/26892425/3293172751/Block_Chain/recent-activity/04864df8cf8f1f104b2b9453e0b47498_prs.svg)](https://github.com/cubxxw/Block_Chain/pulls)
![Trending topics](https://images.repography.com/26892425/3293172751/Block_Chain/recent-activity/04864df8cf8f1f104b2b9453e0b47498_words.svg)

<br>

## ğŸ’¡ ç‰ˆæƒå£°æ˜ &copy;

[![GitHub license](https://sm.nsddd.top//typora/cs-awesome-Block_Chain?mail:3293172751@qq.com)](http://zh.wikipedia.org/wiki/Wikipedia:CC-by-sa-3.0åè®®æ–‡æœ¬)

***License**:* æœ¬ä¹¦æ‰€æœ‰å†…å®¹éµå¾ª[CC-BY-SA 3.0åè®®ï¼ˆç½²å-ç›¸åŒæ–¹å¼å…±äº«ï¼‰&copy;](http://zh.wikipedia.org/wiki/Wikipedia:CC-by-sa-3.0åè®®æ–‡æœ¬) 

[![FOSSA Status](https://app.fossa.com/api/projects/git%2Bgithub.com%2F3293172751%2Fcs-awesome-Block_Chain.svg?type=large)](https://app.fossa.com/projects/git%2Bgithub.com%2F3293172751%2Fcs-awesome-Block_Chain?ref=badge_large)


## ğŸ“– çŸ¥ä¹è®¢é˜…

ğŸ¥° è®¢é˜…äº†æˆ‘çš„ [çŸ¥ä¹è´¦æˆ·](https://www.zhihu.com/people/3293172751) é‡Œé¢çš„ [äº‘åŸç”Ÿç²¾é€‰æ–‡ç« ä¸“æ ](https://www.zhihu.com/column/c_1496496113348206594)ã€‚å±•å¼€å¯åœ¨ GitHub ä¸­å³å¯é˜…è¯»å…¨æ–‡ã€‚

<!-- ZHIHU:START -->
 #### - [go è¯­è¨€å·¥å…·åŒ…](https://zhuanlan.zhihu.com/p/631662028) 
 <details><summary>ØªÙˆØ¶ÛŒØ­Ø§Øª</summary> <p><img src="https://picx.zhimg.com/v2-4ff73ff11d72de6e14b7a5a79d9d63a5_720w.jpg?source=d16d100b"></p><div><p data-pid="Ahqp4nnO">ç¿»è¯‘è‡ª(éƒ¨åˆ†ï¼‰ï¼š</p><blockquote data-pid="5v0dfHlA">æ›´å…¨çš„ç¿»è¯‘åœ¨ï¼ˆçŸ¥ä¹å­—æ•°å¤šå¤ªå¡ï¼‰<a href="https://docker.nsddd.top/Cloud-Native/66.html" target="_blank">ç¬¬66èŠ‚ go è¯­è¨€å·¥å…·åŒ… | ä½ å¥½</a></blockquote><a href="https://github.com/avelino/awesome-go" data-draft-node="block" data-draft-type="link-card" target="_blank"><span class="invisible">https://</span><span class="visible">github.com/avelino/awes</span><span class="invisible">ome-go</span><span class="ellipsis"></span></a><h2><b>éŸ³é¢‘å’ŒéŸ³ä¹</b></h2><p data-pid="LJmH-Lta"><i>ç”¨äºå¤„ç†éŸ³é¢‘çš„åº“ã€‚</i></p><ul><li data-pid="FtHMnAnX"><a href="https://github.com/mewkiz/flac" target="_blank">flac</a> - æ”¯æŒ FLAC æµçš„ Native Go FLAC ç¼–ç å™¨/è§£ç å™¨.</li><li data-pid="f6HfspDT"><a href="https://github.com/Comcast/gaad" target="_blank">gaad</a> - æœ¬æœº Go AAC æ¯”ç‰¹æµè§£æå™¨ã€‚</li><li data-pid="nI9QuG0c"><a href="https://github.com/DylanMeeus/GoAudio" target="_blank">GoAudio</a> - æœ¬æœº Go éŸ³é¢‘å¤„ç†åº“ã€‚</li><li data-pid="IbZv3HoQ"><a href="https://github.com/dh1tw/gosamplerate" target="_blank">gosamplerate</a> -go çš„ libsamplerate ç»‘å®šã€‚</li><li data-pid="3B4Yd2-T"><a href="https://github.com/bogem/id3v2" target="_blank">id3v2</a> - Go çš„ ID3 è§£ç å’Œç¼–ç åº“ã€‚</li><li data-pid="r06Jjvyb"><a href="https://github.com/gen2brain/malgo" target="_blank">malgo</a> - è¿·ä½ éŸ³é¢‘åº“ã€‚</li><li data-pid="_0pSk1UT"><a href="https://github.com/tosone/minimp3" target="_blank">minimp3</a> - è½»é‡çº§ MP3 è§£ç å™¨åº“ã€‚</li><li data-pid="tT0UDWk_"><a href="https://github.com/hajimehoshi/oto" target="_blank">Oto</a> - ä¸€ä¸ªåœ¨å¤šä¸ªå¹³å°ä¸Šæ’­æ”¾å£°éŸ³çš„ä½çº§åº“ã€‚</li><li data-pid="8ZOO2Opt"><a href="https://github.com/gordonklaus/portaudio" target="_blank">PortAudio</a> - PortAudio éŸ³é¢‘ I/O åº“çš„ç»‘å®šã€‚</li></ul><p data-pid="hLtAHnXH"><b><a href="https://github.com/avelino/awesome-go/blob/main/README.md#contents" target="_blank">â¬†å›åˆ°é¡¶éƒ¨</a></b></p><h2><b>èº«ä»½éªŒè¯å’Œ OAuth</b></h2><p data-pid="WbeOPH7D"><i>ç”¨äºå®ç°èº«ä»½éªŒè¯æ–¹æ¡ˆçš„åº“ã€‚</i></p><ul><li data-pid="Z5LzPIE9"><a href="https://github.com/volatiletech/authboss" target="_blank">authboss</a> - ç”¨äºç½‘ç»œçš„æ¨¡å—åŒ–èº«ä»½éªŒè¯ç³»ç»Ÿã€‚å®ƒå°è¯•å°½å¯èƒ½å¤šåœ°åˆ é™¤æ ·æ¿å’Œâ€œå›°éš¾çš„ä¸œè¥¿â€ï¼Œä»¥ä¾¿æ¯æ¬¡æ‚¨åœ¨ Go ä¸­å¯åŠ¨ä¸€ä¸ªæ–°çš„ Web é¡¹ç›®æ—¶ï¼Œæ‚¨éƒ½å¯ä»¥æ’å…¥å®ƒã€é…ç½®å®ƒå¹¶å¼€å§‹æ„å»ºæ‚¨çš„åº”ç”¨ç¨‹åºï¼Œè€Œä¸å¿…æ¯æ¬¡éƒ½æ„å»ºä¸€ä¸ªèº«ä»½éªŒè¯ç³»ç»Ÿ.</li><li data-pid="ZSRSsuq5"><a href="https://github.com/essentialkaos/branca" target="_blank">branca</a> - Golang 1.15+ çš„branca ä»¤ç‰Œ<a href="https://github.com/tuupola/branca-spec" target="_blank">è§„èŒƒå®ç°ã€‚</a></li><li data-pid="fYs-8lFn"><a href="https://github.com/hsluoyz/casbin" target="_blank">casbin</a> - æ”¯æŒè®¿é—®æ§åˆ¶æ¨¡å‹ï¼ˆå¦‚ ACLã€RBAC å’Œ ABACï¼‰çš„æˆæƒåº“ã€‚</li><li data-pid="eV8Ibi7h"><a href="https://github.com/mengzhuo/cookiestxt" target="_blank">cookiestxt</a> - æä¾› cookies.txt æ–‡ä»¶æ ¼å¼çš„è§£æå™¨ã€‚</li><li data-pid="ju2zKTEk"><a href="https://github.com/shaj13/go-guardian" target="_blank">go-guardian</a> -Go-Guardian æ˜¯ä¸€ä¸ª golang åº“ï¼Œå®ƒæä¾›äº†ä¸€ç§ç®€å•ã€å¹²å‡€å’Œæƒ¯ç”¨çš„æ–¹å¼æ¥åˆ›å»ºå¼ºå¤§çš„ç°ä»£ API å’Œ Web èº«ä»½éªŒè¯ï¼Œæ”¯æŒ LDAPã€Basicã€Bearer ä»¤ç‰Œå’ŒåŸºäºè¯ä¹¦çš„èº«ä»½éªŒè¯ã€‚</li><li data-pid="X2zdthpU"><a href="https://github.com/go-jose/go-jose" target="_blank">go-jose</a> - ç›¸å½“å®Œæ•´åœ°å®ç°äº† JOSE å·¥ä½œç»„çš„ JSON Web ä»¤ç‰Œã€JSON Web ç­¾åå’Œ JSON Web åŠ å¯†è§„èŒƒã€‚</li><li data-pid="3o2Qe_35"><a href="https://github.com/dghubble/gologin" target="_blank">gologin</a> - ç”¨äºä½¿ç”¨ OAuth1 å’Œ OAuth2 èº«ä»½éªŒè¯æä¾›ç¨‹åºç™»å½•çš„å¯é“¾æ¥å¤„ç†ç¨‹åºã€‚</li><li data-pid="T1kFHl3U"><a href="https://github.com/mikespook/gorbac" target="_blank">gorbac</a> - åœ¨ Golang ä¸­æä¾›è½»é‡çº§çš„åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ (RBAC) å®ç°ã€‚</li><li data-pid="EvjWb4KR"><a href="http://github.com/Kwynto/gosession" target="_blank">gosession</a> - è¿™æ˜¯ GoLang ä¸­ net/http çš„å¿«é€Ÿä¼šè¯ã€‚è¿™ä¸ªåŒ…å¯èƒ½æ˜¯ä¼šè¯æœºåˆ¶çš„æœ€ä½³å®ç°ï¼Œæˆ–è€…è‡³å°‘å®ƒè¯•å›¾æˆä¸ºä¸€ä¸ªã€‚</li><li data-pid="l1bz49Co"><a href="https://github.com/markbates/goth" target="_blank">goth</a> - æä¾›äº†ä¸€ç§ç®€å•ã€å¹²å‡€ã€æƒ¯ç”¨çš„æ–¹å¼æ¥ä½¿ç”¨ OAuth å’Œ OAuth2ã€‚å¼€ç®±å³ç”¨åœ°å¤„ç†å¤šä¸ªæä¾›å•†ã€‚</li><li data-pid="K5aDOYPC"><a href="https://github.com/abraithwaite/jeff" target="_blank">jeff</a> - å…·æœ‰å¯æ’å…¥åç«¯çš„ç®€å•ã€çµæ´»ã€å®‰å…¨å’Œæƒ¯ç”¨çš„ Web ä¼šè¯ç®¡ç†ã€‚</li><li data-pid="jz0YlwTs"><a href="https://github.com/pascaldekloe/jwt" target="_blank">jwt</a> - è½»é‡çº§ JSON Web ä»¤ç‰Œï¼ˆJWTï¼‰åº“ã€‚</li><li data-pid="cvxxOWdt"><a href="https://github.com/cristalhq/jwt" target="_blank">jwt</a> - ç”¨äº Go çš„å®‰å…¨ã€ç®€å•å’Œå¿«é€Ÿçš„ JSON Web ä»¤ç‰Œã€‚</li><li data-pid="IA1arD34"><a href="https://github.com/adam-hanna/jwt-auth" target="_blank">jwt-auth</a> - ç”¨äºå…·æœ‰è®¸å¤šé…ç½®é€‰é¡¹çš„ Golang http æœåŠ¡å™¨çš„ JWT ä¸­é—´ä»¶ã€‚</li><li data-pid="CEIx_5zS"><a href="https://github.com/golang-jwt/jwt" target="_blank">jwt-go</a> - JSON Web Tokens (JWT) çš„å…¨åŠŸèƒ½å®ç°ã€‚è¯¥åº“æ”¯æŒ JWT çš„è§£æå’ŒéªŒè¯ä»¥åŠç”Ÿæˆå’Œç­¾åã€‚</li><li data-pid="yC3QpBUQ"><a href="https://github.com/ory/keto" target="_blank">keto</a> - â€œZanzibarï¼šGoogle ä¸€è‡´çš„å…¨çƒæˆæƒç³»ç»Ÿâ€çš„å¼€æºï¼ˆGoï¼‰å®ç°ã€‚æä¾› gRPCã€REST APIã€newSQL å’Œä¸€ç§ç®€å•è€Œç²¾ç»†çš„æƒé™è¯­è¨€ã€‚æ”¯æŒACLã€RBACç­‰è®¿é—®æ¨¡å‹ã€‚</li><li data-pid="0B-TvEO5"><a href="https://github.com/tarent/loginsrv" target="_blank">loginsrv</a> - å…·æœ‰å¯æ’å…¥åç«¯çš„ JWT ç™»å½•å¾®æœåŠ¡ï¼Œä¾‹å¦‚ OAuth2 (Github)ã€htpasswdã€osiam.</li><li data-pid="TMdL91E9"><a href="https://github.com/golang/oauth2" target="_blank">oauth2</a> - goauth2 çš„ç»§ä»»è€…ã€‚å¸¦æœ‰ JWTã€Google APIã€Compute Engine å’Œ App Engine æ”¯æŒçš„é€šç”¨ OAuth 2.0 åŒ…ã€‚</li><li data-pid="yL_H6yWz"><a href="https://github.com/openshift/osin" target="_blank">osin</a> -Golang OAuth2 æœåŠ¡å™¨åº“ã€‚</li><li data-pid="_64_6UXZ"><a href="https://github.com/grijul/otpgen" target="_blank">otpgen</a> - ç”Ÿæˆ TOTP/HOTP ä»£ç çš„åº“ã€‚</li><li data-pid="4A_OyZ4q"><a href="https://github.com/jltorresm/otpgo" target="_blank">otpgo</a> -Go çš„åŸºäºæ—¶é—´çš„ä¸€æ¬¡æ€§å¯†ç ï¼ˆTOTPï¼‰å’ŒåŸºäº HMAC çš„ä¸€æ¬¡æ€§å¯†ç ï¼ˆHOTPï¼‰åº“ã€‚</li><li data-pid="Cu8G-l3v"><a href="https://github.com/o1egl/paseto" target="_blank">paseto</a> - ä¸å¹³å°æ— å…³çš„å®‰å…¨ä»¤ç‰Œ (PASETO) çš„ Golang å®ç°ã€‚</li><li data-pid="gyZswnaL"><a href="https://github.com/xyproto/permissions2" target="_blank">permissions2</a> - ç”¨äºè·Ÿè¸ªç”¨æˆ·ã€ç™»å½•çŠ¶æ€å’Œæƒé™çš„åº“ã€‚ä½¿ç”¨å®‰å…¨ cookie å’Œ bcryptã€‚</li><li data-pid="zq58BFIH"><a href="https://github.com/SonicRoshan/scope" target="_blank">scope</a> - åœ¨ Go ä¸­è½»æ¾ç®¡ç† OAuth2 èŒƒå›´ã€‚</li><li data-pid="afoiZnzD"><a href="https://github.com/alexedwards/scs" target="_blank">scs</a> - HTTP æœåŠ¡å™¨çš„ä¼šè¯ç®¡ç†å™¨ã€‚</li><li data-pid="m76sL9d9"><a href="https://github.com/chmike/securecookie" target="_blank">securecookie</a> - é«˜æ•ˆçš„å®‰å…¨ cookie ç¼–ç /è§£ç ã€‚</li><li data-pid="HML55SIs"><a href="https://github.com/icza/session" target="_blank">session</a> - ç”¨äº Web æœåŠ¡å™¨çš„ Go ä¼šè¯ç®¡ç†ï¼ˆåŒ…æ‹¬å¯¹ Google App Engine - GAE çš„æ”¯æŒï¼‰ã€‚</li><li data-pid="DZXOpMxk"><a href="https://github.com/adam-hanna/sessions" target="_blank">sessions</a> - ç”¨äº go http æœåŠ¡å™¨çš„éå¸¸ç®€å•ã€é«˜æ€§èƒ½ã€é«˜åº¦å¯å®šåˆ¶çš„ä¼šè¯æœåŠ¡ã€‚</li><li data-pid="jA-SfNEs"><a href="https://github.com/swithek/sessionup" target="_blank">sessionup</a> - ç®€å•ä½†æœ‰æ•ˆçš„ HTTP ä¼šè¯ç®¡ç†å’Œè¯†åˆ«åŒ…ã€‚</li><li data-pid="_DLBsZ-T"><a href="https://github.com/brianvoe/sjwt" target="_blank">sjwt</a> - ç®€å•çš„ jwt ç”Ÿæˆå™¨å’Œè§£æå™¨ã€‚</li></ul><p data-pid="S-GmJBaY"><b><a href="https://github.com/avelino/awesome-go/blob/main/README.md#contents" target="_blank">â¬†å›åˆ°é¡¶éƒ¨</a></b></p><h2><b>åŒºå—é“¾</b></h2><p data-pid="auXNacxb"><i>æ„å»ºåŒºå—é“¾çš„å·¥å…·ã€‚</i></p><ul><li data-pid="9iZeXKrY"><a href="https://github.com/cosmos/cosmos-sdk" target="_blank">cosmos-sdk</a> - åœ¨ Cosmos ç”Ÿæ€ç³»ç»Ÿä¸­æ„å»ºå…¬å…±åŒºå—é“¾çš„æ¡†æ¶ã€‚</li><li data-pid="OQbpguUC"><a href="https://github.com/ethereum/go-ethereum" target="_blank">go-ethereum</a> - ä»¥å¤ªåŠåè®®çš„å®˜æ–¹ Go å®ç°ã€‚</li><li data-pid="jCouAUPk"><a href="https://github.com/ChainSafe/gossamer" target="_blank">gossamer</a> - Polkadot ä¸»æœºçš„ Go å®ç°ã€‚</li><li data-pid="nVh7HmC9"><a href="https://github.com/gagliardetto/solana-go" target="_blank">solana-go</a> - ä¸ Solana JSON RPC å’Œ WebSocket æ¥å£äº¤äº’çš„ Go åº“ã€‚</li><li data-pid="CdDO65jD"><a href="https://github.com/tendermint/tendermint" target="_blank">tendermint</a> - é«˜æ€§èƒ½ä¸­é—´ä»¶ï¼Œç”¨äºä½¿ç”¨ Tendermint å…±è¯†å’ŒåŒºå—é“¾åè®®å°†ä»¥ä»»ä½•ç¼–ç¨‹è¯­è¨€ç¼–å†™çš„çŠ¶æ€æœºè½¬æ¢ä¸ºæ‹œå åº­å®¹é”™å¤åˆ¶çŠ¶æ€æœºã€‚</li></ul><p data-pid="M60fL4PE"><b><a href="https://github.com/avelino/awesome-go/blob/main/README.md#contents" target="_blank">â¬†å›åˆ°é¡¶éƒ¨</a></b></p><h2><b>æœºå™¨äººå»ºç­‘</b></h2><p data-pid="P-AlSOoE"><i>ç”¨äºæ„å»ºå’Œä½¿ç”¨æœºå™¨äººçš„åº“ã€‚</i></p><ul><li data-pid="N9qbArU8"><a href="https://github.com/go-telegram/bot" target="_blank">bot</a> - å…·æœ‰é™„åŠ  UI ç»„ä»¶çš„é›¶ä¾èµ–æ€§ Telegram Bot åº“</li><li data-pid="W71gGXcx"><a href="https://github.com/NicoNex/echotron" target="_blank">echotron</a> -Go ä¸­ç”¨äºç”µæŠ¥æœºå™¨äººçš„ä¼˜é›…ä¸”å¹¶å‘çš„åº“ã€‚</li><li data-pid="u-D12kUM"><a href="https://github.com/ewohltman/ephemeral-roles" target="_blank">ephemeral-roles</a> - ä¸€ä¸ª Discord æœºå™¨äººï¼Œç”¨äºæ ¹æ®è¯­éŸ³é€šé“æˆå‘˜çš„å­˜åœ¨æ¥ç®¡ç†ä¸´æ—¶è§’è‰²ã€‚</li><li data-pid="LX-zJCjh"><a href="https://github.com/go-chat-bot/bot" target="_blank">go-chat-bot</a> - ç”¨ Go ç¼–å†™çš„ IRCã€Slack å’Œ Telegram æœºå™¨äººã€‚</li><li data-pid="Phnwzf3o"><a href="https://joe-bot.net/" target="_blank">go-joe</a> - å— Hubot å¯å‘ä½†ç”¨ Go ç¼–å†™çš„é€šç”¨æœºå™¨äººåº“ã€‚</li><li data-pid="4WPGxHA_"><a href="https://github.com/oklahomer/go-sarah" target="_blank">go-sarah</a> - ä¸ºæ‰€éœ€çš„èŠå¤©æœåŠ¡æ„å»ºæœºå™¨äººçš„æ¡†æ¶ï¼ŒåŒ…æ‹¬ LINEã€Slackã€Gitter ç­‰ã€‚</li><li data-pid="rY_8wNST"><a href="https://github.com/olebedev/go-tgbot" target="_blank">go-tgbot</a> - çº¯ Golang Telegram Bot API åŒ…è£…å™¨ï¼Œç”± swagger æ–‡ä»¶ã€åŸºäºä¼šè¯çš„è·¯ç”±å™¨å’Œä¸­é—´ä»¶ç”Ÿæˆã€‚</li><li data-pid="8ukphcRb"><a href="https://github.com/gempir/go-twitch-irc" target="_blank">go-twitch-irc</a> - ä¸º twitch.tv èŠå¤©ç¼–å†™æœºå™¨äººçš„åº“</li><li data-pid="jifEs9jD"><a href="https://github.com/saniales/golang-crypto-trading-bot" target="_blank">Golang CryptoTrading Bot</a> - åŸºäºæ§åˆ¶å°çš„åŠ å¯†è´§å¸äº¤æ˜“äº¤æ˜“æœºå™¨äººçš„ golang å®ç°ã€‚</li><li data-pid="EEsb2dn8"><a href="https://github.com/nikepan/govkbot" target="_blank">govkbot</a> - ç®€å•çš„ Go <a href="https://vk.com/" target="_blank">VK</a>æœºå™¨äººåº“ã€‚</li><li data-pid="oV-_FlrR"><a href="https://github.com/sbstjn/hanu" target="_blank">hanu</a> - ç¼–å†™ Slack æœºå™¨äººçš„æ¡†æ¶ã€‚</li><li data-pid="RJeUvV8y"><a href="https://github.com/stellar/kelp" target="_blank">Kelp - </a><a href="https://www.stellar.org/" target="_blank">Stellar</a> DEXçš„å®˜æ–¹äº¤æ˜“å’Œåšå¸‚æœºå™¨äººã€‚å¼€ç®±å³ç”¨ï¼Œç”¨ Golang ç¼–å†™ï¼Œä¸ä¸­å¿ƒåŒ–äº¤æ˜“æ‰€å’Œè‡ªå®šä¹‰äº¤æ˜“ç­–ç•¥å…¼å®¹ã€‚</li><li data-pid="g8YW8Roo"><a href="https://github.com/ezeoleaf/larry" target="_blank">æ‹‰é‡Œ</a>- æ‹‰é‡Œ æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„ Twitter æœºå™¨äººç”Ÿæˆå™¨ï¼Œå®ƒå¯ä»¥ä» Github ä¸­ç”¨ Go æ„å»ºçš„éšæœºå­˜å‚¨åº“ä¸­å‘é€æ¨æ–‡ã€‚</li><li data-pid="5wQ_hbTR"><a href="https://github.com/zhulik/margelet" target="_blank">margelet</a> - ç”¨äºæ„å»º Telegram æœºå™¨äººçš„æ¡†æ¶ã€‚</li><li data-pid="MkRmldF3"><a href="https://github.com/onrik/micha" target="_blank">micha</a> - ç”¨äº Telegram bot api çš„ Go åº“ã€‚</li><li data-pid="EovPM8bH"><a href="https://github.com/olivia-ai/olivia" target="_blank">olivia</a> - ä½¿ç”¨äººå·¥ç¥ç»ç½‘ç»œæ„å»ºçš„èŠå¤©æœºå™¨äººã€‚</li><li data-pid="acnax6BZ"><a href="https://github.com/innogames/slack-bot" target="_blank">slack-bot</a> - å‡†å¤‡å¥½ä¸ºæ‡’æƒ°çš„å¼€å‘äººå‘˜ä½¿ç”¨ Slack Botï¼šè‡ªå®šä¹‰å‘½ä»¤ï¼ŒJenkinsï¼ŒJiraï¼ŒBitbucketï¼ŒGithub ...</li><li data-pid="rAmJXDMN"><a href="https://github.com/shomali11/slacker" target="_blank">slacker</a> - æ˜“äºä½¿ç”¨çš„æ¡†æ¶æ¥åˆ›å»º Slack æœºå™¨äººã€‚</li><li data-pid="D3bK8fVI"><a href="https://github.com/alexandre-normand/slackscot" target="_blank">slackscot</a> - ç”¨äºæ„å»º Slack æœºå™¨äººçš„å¦ä¸€ä¸ªæ¡†æ¶ã€‚</li><li data-pid="m0YNEyXF"><a href="https://github.com/yanzay/tbot" target="_blank">tbot</a> - å…·æœ‰ç±»ä¼¼äº net/http çš„ API çš„ç”µæŠ¥æœºå™¨äººæœåŠ¡å™¨ã€‚</li><li data-pid="P7aYd0Kg"><a href="https://github.com/tucnak/telebot" target="_blank">telebot</a> - Telegram æœºå™¨äººæ¡†æ¶æ˜¯ç”¨ Go ç¼–å†™çš„ã€‚</li><li data-pid="R_gNneQB"><a href="https://github.com/mymmrac/telego" target="_blank">telego</a> - ç”¨äº Golang çš„ Telegram Bot API åº“ï¼Œå…·æœ‰å®Œæ•´çš„ä¸€å¯¹ä¸€ API å®ç°ã€‚</li><li data-pid="Qk2286s-"><a href="https://github.com/Syfaro/telegram-bot-api" target="_blank">telegram-bot-api</a> - ç®€å•å¹²å‡€çš„ Telegram æœºå™¨äººå®¢æˆ·ç«¯ã€‚</li><li data-pid="oldWBX6b"><a href="https://github.com/alfiankan/teleterm" target="_blank">teleterm</a> - ç”µæŠ¥ Bot Exec ç»ˆç«¯å‘½ä»¤ã€‚</li><li data-pid="hoi1XAkf"><a href="https://github.com/kyleterry/tenyks" target="_blank">Tenyks</a> - ä½¿ç”¨ Redis å’Œ JSON è¿›è¡Œæ¶ˆæ¯ä¼ é€’çš„é¢å‘æœåŠ¡çš„ IRC æœºå™¨äººã€‚</li><li data-pid="lYPFpbWd"><a href="https://github.com/wabarc/wayback" target="_blank">wayback</a> - ç”¨äº Telegramã€Mastodonã€Slack å’Œå…¶ä»–æ¶ˆæ¯ä¼ é€’å¹³å°çš„æœºå™¨äººå­˜æ¡£ç½‘é¡µã€‚</li></ul><p data-pid="qLmhetWY"><b><a href="https://github.com/avelino/awesome-go/blob/main/README.md#contents" target="_blank">â¬†å›åˆ°é¡¶éƒ¨</a></b></p><h2><b>æ„å»ºè‡ªåŠ¨åŒ–</b></h2><p data-pid="j7VduCvO"><i>åº“å’Œå·¥å…·æœ‰åŠ©äºæ„å»ºè‡ªåŠ¨åŒ–ã€‚</i></p><ul><li data-pid="iqJAvujz"><a href="https://github.com/gopinath-langote/1build" target="_blank">1build</a> - ç”¨äºé¡ºç•…ç®¡ç†é¡¹ç›®ç‰¹å®šå‘½ä»¤çš„å‘½ä»¤è¡Œå·¥å…·ã€‚</li><li data-pid="o9o6Hgkz"><a href="https://github.com/GuilhermeCaruso/anko" target="_blank">anko</a> - å¤šç§ç¼–ç¨‹è¯­è¨€çš„ç®€å•åº”ç”¨ç¨‹åºè§‚å¯Ÿå™¨ã€‚</li><li data-pid="Fhopd79b"><a href="https://github.com/maxcnunes/gaper" target="_blank">gaper</a> - åœ¨ Go é¡¹ç›®å´©æºƒæˆ–æŸäº›ç›‘è§†çš„æ–‡ä»¶æ›´æ”¹æ—¶æ„å»ºå¹¶é‡æ–°å¯åŠ¨å®ƒã€‚</li><li data-pid="5TQFNOZX"><a href="https://go-gilbert.github.io/" target="_blank">gilbert</a> - ä¸º Go é¡¹ç›®æ„å»ºç³»ç»Ÿå’Œä»»åŠ¡è¿è¡Œå™¨ã€‚</li><li data-pid="UVIj7g2l"><a href="https://github.com/goyek/goyek" target="_blank">goyek</a> - åœ¨ Go ä¸­åˆ›å»ºæ„å»ºç®¡é“ã€‚</li><li data-pid="tHd0zmXP"><a href="https://github.com/magefile/mage" target="_blank">mage</a> -Mage æ˜¯ä¸€ç§ä½¿ç”¨ Go çš„ç±»ä¼¼ make/rake çš„æ„å»ºå·¥å…·ã€‚</li><li data-pid="1Dh8juRM"><a href="https://github.com/tj/mmake" target="_blank">mmake</a> - ç°ä»£å“ç‰Œã€‚</li><li data-pid="6gsoxkpW"><a href="https://github.com/tockins/realize" target="_blank">å®ç°</a>- å»æ„å»ºä¸€ä¸ªå¸¦æœ‰æ–‡ä»¶è§‚å¯Ÿå™¨çš„ç³»ç»Ÿå¹¶é‡æ–°åŠ è½½ã€‚ä½¿ç”¨è‡ªå®šä¹‰è·¯å¾„è¿è¡Œã€æ„å»ºå’Œè§‚å¯Ÿæ–‡ä»¶æ›´æ”¹ã€‚</li><li data-pid="g8m6kTpT"><a href="https://github.com/go-task/task" target="_blank">ä»»åŠ¡</a>- ç®€å•çš„â€œåˆ¶ä½œâ€æ›¿ä»£æ–¹æ¡ˆã€‚</li><li data-pid="G89zndpc"><a href="https://github.com/taskctl/taskctl" target="_blank">taskctl</a> - å¹¶å‘ä»»åŠ¡è¿è¡Œå™¨ã€‚</li><li data-pid="yKdz2jK7"><a href="https://github.com/joerdav/xc" target="_blank">xc</a> - å¸¦æœ‰ README.md å®šä¹‰ä»»åŠ¡çš„ä»»åŠ¡è¿è¡Œå™¨ï¼Œå¯æ‰§è¡Œé™ä»·ã€‚</li></ul><p data-pid="FTZkFkKG"><b><a href="https://github.com/avelino/awesome-go/blob/main/README.md#contents" target="_blank">â¬†å›åˆ°é¡¶éƒ¨</a></b></p><h2><b>å‘½ä»¤è¡Œ</b></h2><h3><b>é«˜çº§æ§åˆ¶å°ç”¨æˆ·ç•Œé¢</b></h3><p data-pid="alUzT4Ni"><i>ç”¨äºæ„å»ºæ§åˆ¶å°åº”ç”¨ç¨‹åºå’Œæ§åˆ¶å°ç”¨æˆ·ç•Œé¢çš„åº“ã€‚</i></p><ul><li data-pid="JThpG3rl"><a href="https://github.com/guptarohit/asciigraph" target="_blank">asciigraph</a> -Go åŒ…å¯åœ¨å‘½ä»¤è¡Œåº”ç”¨ç¨‹åºä¸­åˆ¶ä½œè½»é‡çº§ ASCII çº¿å›¾ â•­â”ˆâ•¯ï¼Œæ— éœ€å…¶ä»–ä¾èµ–é¡¹ã€‚</li><li data-pid="0W4rSNgd"><a href="https://github.com/logrusorgru/aurora" target="_blank">aurora</a> - æ”¯æŒ fmt.Printf/Sprintf çš„ ANSI ç»ˆç«¯é¢œè‰²ã€‚</li><li data-pid="CvMTnjmZ"><a href="https://github.com/Delta456/box-cli-maker" target="_blank">box-cli-maker</a> - ä¸ºæ‚¨çš„ CLI åˆ¶ä½œé«˜åº¦å®šåˆ¶çš„ç›’å­ã€‚</li><li data-pid="cyXZInqD"><a href="https://github.com/charmbracelet/bubbles" target="_blank">bubbles</a> - bubbletea çš„ TUI ç»„ä»¶.</li><li data-pid="uUosOPbc"><a href="https://github.com/charmbracelet/bubbletea" target="_blank">bubbletea</a> - åŸºäº Elm æ¶æ„æ„å»ºç»ˆç«¯åº”ç”¨ç¨‹åºçš„ Go æ¡†æ¶ã€‚</li><li data-pid="tE75jM-j"><a href="https://github.com/mingrammer/cfmt" target="_blank">cfmt</a> - å—å¼•å¯¼é¢œè‰²ç±»å¯å‘çš„ä¸Šä¸‹æ–‡ fmt.</li><li data-pid="31dEzdBp"><a href="https://github.com/i582/cfmt" target="_blank">cfmt</a> - ç®€å•æ–¹ä¾¿çš„æ ¼å¼åŒ–ç¨‹å¼åŒ–è¾“å‡ºï¼Œä¸ fmt åº“å®Œå…¨å…¼å®¹ã€‚</li><li data-pid="bggTjsbn"><a href="https://github.com/ttacon/chalk" target="_blank">chalk</a> - ç”¨äºç¾åŒ–ç»ˆç«¯/æ§åˆ¶å°è¾“å‡ºçš„ç›´è§‚åŒ…ã€‚</li><li data-pid="vlaMlRiT"><a href="https://github.com/TreyBastian/colourize" target="_blank">colourize</a> - ç”¨äºç»ˆç«¯ä¸­ ANSI é¢œè‰²æ–‡æœ¬çš„ Go åº“ã€‚</li><li data-pid="7tk-_hMq"><a href="https://github.com/alfiankan/crab-config-files-templating" target="_blank">crab-config-files-templating</a> - ç”¨äº kubernetes æ¸…å•æˆ–é€šç”¨é…ç½®æ–‡ä»¶çš„åŠ¨æ€é…ç½®æ–‡ä»¶æ¨¡æ¿å·¥å…·ã€‚</li><li data-pid="_gPx0wvF"><a href="https://github.com/wzshiming/ctc" target="_blank">ctc</a> - éä¾µå…¥å¼è·¨å¹³å°ç»ˆç«¯é¢œè‰²åº“ï¼Œæ— éœ€ä¿®æ”¹ Print æ–¹æ³•ã€‚</li><li data-pid="eNB2cBB-"><a href="https://github.com/workanator/go-ataman" target="_blank">go-ataman</a> - ç”¨äºåœ¨ç»ˆç«¯ä¸­å‘ˆç° ANSI å½©è‰²æ–‡æœ¬æ¨¡æ¿çš„ Go åº“ã€‚</li><li data-pid="A6OgZIHb"><a href="https://github.com/mattn/go-colorable" target="_blank">go-colorable</a> - é€‚ç”¨äº windows çš„ç€è‰²å™¨ã€‚</li><li data-pid="Wg3BCDnf"><a href="https://github.com/daviddengcn/go-colortext" target="_blank">go-colortext</a> - ç”¨äºåœ¨ç»ˆç«¯ä¸­è¾“å‡ºé¢œè‰²çš„ Go åº“ã€‚</li><li data-pid="VfnPo2ty"><a href="https://github.com/mattn/go-isatty" target="_blank">go-isatty</a> -golang çš„ isattyã€‚</li><li data-pid="O8Dkqunw"><a href="https://github.com/abusomani/go-palette" target="_blank">go-palette</a> -Go åº“ï¼Œä½¿ç”¨ ANSI é¢œè‰²æä¾›ä¼˜é›…æ–¹ä¾¿çš„æ ·å¼å®šä¹‰ã€‚å®Œå…¨å…¼å®¹å¹¶åŒ…è£…<a href="https://pkg.go.dev/fmt" target="_blank">fmt åº“</a>ä»¥è·å¾—æ¼‚äº®çš„ç»ˆç«¯å¸ƒå±€ã€‚</li><li data-pid="-QysvGjl"><a href="https://github.com/c-bata/go-prompt" target="_blank">go-prompt</a> - å—<a href="https://github.com/jonathanslenders/python-prompt-toolkit" target="_blank">python-prompt-toolkit</a>å¯å‘ï¼Œç”¨äºæ„å»ºå¼ºå¤§çš„äº¤äº’å¼æç¤ºçš„åº“ã€‚</li><li data-pid="esUMoB3f"><a href="https://github.com/jroimartin/gocui" target="_blank">gocui</a> - æ—¨åœ¨åˆ›å»ºæ§åˆ¶å°ç”¨æˆ·ç•Œé¢çš„æç®€ä¸»ä¹‰ Go åº“ã€‚</li><li data-pid="U_dehdCO"><a href="https://github.com/labstack/gommon/tree/master/color" target="_blank">gommon/color</a> - æ ·å¼ç»ˆç«¯æ–‡æœ¬ã€‚</li><li data-pid="B4MHJxFW"><a href="https://github.com/gookit/color" target="_blank">gookit/color</a> - ç»ˆç«¯æ˜¾è‰²å·¥å…·åº“ï¼Œæ”¯æŒ16è‰²ã€256è‰²ã€RGBæ˜¾è‰²è¾“å‡ºï¼Œå…¼å®¹Windowsã€‚</li><li data-pid="fyHYed5z"><a href="https://github.com/charmbracelet/lipgloss" target="_blank">lipgloss</a> - åœ¨ç»ˆç«¯ä¸­ä»¥å£°æ˜æ–¹å¼å®šä¹‰é¢œè‰²ã€æ ¼å¼å’Œå¸ƒå±€çš„æ ·å¼ã€‚</li><li data-pid="T1HAEcrS"><a href="https://github.com/cyucelen/marker" target="_blank">marker</a> - ä¸ºå½©è‰²ç»ˆç«¯è¾“å‡ºåŒ¹é…å’Œæ ‡è®°å­—ç¬¦ä¸²çš„æœ€ç®€å•æ–¹æ³•ã€‚</li><li data-pid="XHN305ko"><a href="https://github.com/vbauerster/mpb" target="_blank">mpb</a> - ç»ˆç«¯åº”ç”¨ç¨‹åºçš„å¤šè¿›åº¦æ¡ã€‚</li><li data-pid="x8WxKZ9m"><a href="https://github.com/schollz/progressbar" target="_blank">progressbar</a> - é€‚ç”¨äºæ¯ä¸ªæ“ä½œç³»ç»Ÿçš„åŸºæœ¬çº¿ç¨‹å®‰å…¨è¿›åº¦æ¡ã€‚</li><li data-pid="aEUz89gm"><a href="https://github.com/pterm/pterm" target="_blank">pterm</a> - ä¸€ä¸ªåº“ï¼Œç”¨äºåœ¨å…·æœ‰è®¸å¤šå¯ç»„åˆç»„ä»¶çš„æ¯ä¸ªå¹³å°ä¸Šç¾åŒ–æ§åˆ¶å°è¾“å‡ºã€‚</li><li data-pid="I12i2sOl"><a href="https://github.com/alexeyco/simpletable" target="_blank">simpletable</a> - ä½¿ç”¨ Go çš„ç»ˆç«¯ä¸­çš„ç®€å•è¡¨æ ¼ã€‚</li><li data-pid="nMZ_oEGX"><a href="https://github.com/briandowns/spinner" target="_blank">spinner</a> -Go åŒ…å¯ä»¥è½»æ¾åœ°ä¸ºç»ˆç«¯å¾®è°ƒå™¨æä¾›é€‰é¡¹ã€‚</li><li data-pid="v1_yHKNg"><a href="https://github.com/cheynewallace/tabby" target="_blank">tabby</a> - ä¸€ä¸ªç”¨äºè¶…çº§ç®€å• Golang è¡¨çš„å°å‹åº“ã€‚</li><li data-pid="1MnG4BYT"><a href="https://github.com/tomlazar/table" target="_blank">table</a> - åŸºäºç»ˆç«¯é¢œè‰²çš„è¡¨æ ¼çš„å°å‹åº“ã€‚</li><li data-pid="lEMMsf0r"><a href="https://github.com/InVisionApp/tabular" target="_blank">tabular</a> - ä»å‘½ä»¤è¡Œå®ç”¨ç¨‹åºæ‰“å° ASCII è¡¨ï¼Œæ— éœ€å°†å¤§é‡æ•°æ®ä¼ é€’ç»™ APIã€‚</li><li data-pid="HknUvPLp"><a href="https://github.com/nsf/termbox-go" target="_blank">termbox-go</a> - Termbox æ˜¯ä¸€ä¸ªç”¨äºåˆ›å»ºåŸºäºæ–‡æœ¬çš„è·¨å¹³å°ç•Œé¢çš„åº“ã€‚</li><li data-pid="ACMZCbyy"><a href="https://github.com/mum4k/termdash" target="_blank">termdash</a> - åŸºäº<b>termbox-go</b>å¹¶å—<a href="https://github.com/gizak/termui" target="_blank">termui</a>å¯å‘çš„ Go ç»ˆç«¯ä»ªè¡¨æ¿ã€‚</li><li data-pid="F_-bTtMU"><a href="https://github.com/muesli/termenv" target="_blank">termenv</a> - ä¸ºæ‚¨çš„ç»ˆç«¯åº”ç”¨ç¨‹åºæä¾›é«˜çº§ ANSI æ ·å¼å’Œé¢œè‰²æ”¯æŒã€‚</li><li data-pid="DdT4Abuz"><a href="https://github.com/gizak/termui" target="_blank">termui</a> - åŸºäº<b>termbox-go</b>å¹¶å—<a href="https://github.com/yaronn/blessed-contrib" target="_blank">blessed-contrib</a>å¯å‘çš„ Go ç»ˆç«¯ä»ªè¡¨æ¿ã€‚</li><li data-pid="6ml7cll8"><a href="https://github.com/gosuri/uilive" target="_blank">uilive</a> - ç”¨äºå®æ—¶æ›´æ–°ç»ˆç«¯è¾“å‡ºçš„åº“ã€‚</li><li data-pid="XxDRVY-t"><a href="https://github.com/gosuri/uiprogress" target="_blank">uiprogress</a> - çµæ´»çš„åº“ï¼Œç”¨äºåœ¨ç»ˆç«¯åº”ç”¨ç¨‹åºä¸­å‘ˆç°è¿›åº¦æ¡ã€‚</li><li data-pid="q3NhbtUk"><a href="https://github.com/gosuri/uitable" target="_blank">uitable</a> - ä½¿ç”¨è¡¨æ ¼æ•°æ®æé«˜ç»ˆç«¯åº”ç”¨ç¨‹åºå¯è¯»æ€§çš„åº“ã€‚</li><li data-pid="uonyVk0f"><a href="https://github.com/theckman/yacspin" target="_blank">yacspin</a> - å¦ä¸€ä¸ª CLi Spinner åŒ…ï¼Œç”¨äºä¸ç»ˆç«¯å¾®è°ƒå™¨ä¸€èµ·å·¥ä½œã€‚</li></ul><p data-pid="n9jEGFZT"><b><a href="https://github.com/avelino/awesome-go/blob/main/README.md#contents" target="_blank">â¬†å›åˆ°é¡¶éƒ¨</a></b></p><h3><b>æ ‡å‡†å‘½ä»¤è¡Œç•Œé¢</b></h3><p data-pid="sOodlRrz"><i>ç”¨äºæ„å»ºæ ‡å‡†æˆ–åŸºæœ¬å‘½ä»¤è¡Œåº”ç”¨ç¨‹åºçš„åº“ã€‚</i></p><ul><li data-pid="_dXVUxrX"><a href="https://github.com/cristalhq/acmd" target="_blank">acmd</a> -Go ä¸­ç®€å•ã€æœ‰ç”¨ä¸”è‡ªä»¥ä¸ºæ˜¯çš„ CLI åŒ…ã€‚</li><li data-pid="q-Z9GIWY"><a href="https://github.com/akamensky/argparse" target="_blank">argparse</a> - å— Python çš„ argparse æ¨¡å—å¯å‘çš„å‘½ä»¤è¡Œå‚æ•°è§£æå™¨ã€‚</li><li data-pid="DRhgeUr-"><a href="https://github.com/cosiner/argv" target="_blank">argv</a> - Go åº“ä½¿ç”¨ bash è¯­æ³•å°†å‘½ä»¤è¡Œå­—ç¬¦ä¸²æ‹†åˆ†ä¸ºå‚æ•°æ•°ç»„ã€‚</li><li data-pid="AQ03kAx_"><a href="https://github.com/rsteube/carapace" target="_blank">carapace</a> - spf13/cobra çš„å‘½ä»¤å‚æ•°å®Œæˆç”Ÿæˆå™¨ã€‚</li><li data-pid="Xrbq35u6"><a href="https://github.com/rsteube/carapace-bin" target="_blank">carapace-bin</a> - å¤š shell å¤šå‘½ä»¤å‚æ•°å®Œæˆå™¨ã€‚</li><li data-pid="mn4Q3akt"><a href="https://github.com/rsteube/carapace-spec" target="_blank">carapace-spec</a> - ä½¿ç”¨ spec æ–‡ä»¶å®šä¹‰ç®€å•çš„å®Œæˆã€‚</li><li data-pid="fXJ8DFt-"><a href="https://github.com/mkideal/cli" target="_blank">cli</a> - åŸºäº golang struct æ ‡ç­¾çš„åŠŸèƒ½ä¸°å¯Œä¸”æ˜“äºä½¿ç”¨çš„å‘½ä»¤è¡ŒåŒ…ã€‚</li><li data-pid="-u-08c7W"><a href="https://github.com/teris-io/cli" target="_blank">cli</a> - ç”¨äºåœ¨ Go ä¸­æ„å»ºå‘½ä»¤è¡Œç•Œé¢çš„ç®€å•è€Œå®Œæ•´çš„ APIã€‚</li><li data-pid="Ii3Fxd6v"><a href="https://github.com/tucnak/climax" target="_blank">climax</a> - æœ¬ç€ Go å‘½ä»¤çš„ç²¾ç¥ï¼Œå…·æœ‰â€œäººè„¸â€çš„æ›¿ä»£ CLIã€‚</li><li data-pid="M-G4qge2"><a href="https://github.com/leaanthony/clir" target="_blank">clÃ®r</a> - ä¸€ä¸ªç®€å•æ˜äº†çš„ CLI åº“ã€‚æ— ä¾èµ–æ€§ã€‚</li><li data-pid="B7vE1DFz"><a href="https://github.com/posener/cmd" target="_blank">cmd</a> - ä»¥æƒ¯ç”¨çš„æ–¹å¼æ‰©å±•æ ‡å‡†<code>flag</code>åŒ…ä»¥æ”¯æŒå­å‘½ä»¤ç­‰ã€‚</li><li data-pid="-73dZlAV"><a href="https://github.com/hedzr/cmdr" target="_blank">cmdr</a> - POSIX/GNU é£æ ¼ï¼Œç±»ä¼¼äº getopt çš„å‘½ä»¤è¡Œ UI Go åº“ã€‚</li><li data-pid="rATMbvHM"><a href="https://github.com/spf13/cobra" target="_blank">cobra</a> - ç°ä»£ Go CLI äº¤äº’çš„æŒ‡æŒ¥å®˜ã€‚</li><li data-pid="emVw4iGv"><a href="https://github.com/rainu/go-command-chain" target="_blank">command-chain</a> - ç”¨äºé…ç½®å’Œè¿è¡Œå‘½ä»¤é“¾çš„ go åº“ - ä¾‹å¦‚ unix shell ä¸­çš„æµæ°´çº¿æ“ä½œã€‚</li><li data-pid="Pqt08B3_"><a href="https://github.com/jaffee/commandeer" target="_blank">commandeer</a> - å¼€å‘å‹å¥½çš„ CLI åº”ç”¨ç¨‹åºï¼šæ ¹æ®ç»“æ„å­—æ®µå’Œæ ‡ç­¾è®¾ç½®æ ‡å¿—ã€é»˜è®¤å€¼å’Œç”¨æ³•ã€‚</li><li data-pid="TZ1L9fny"><a href="https://github.com/posener/complete" target="_blank">complete</a> - åœ¨ Go + Go å‘½ä»¤ bash å®Œæˆä¸­ç¼–å†™ bash å®Œæˆã€‚</li><li data-pid="88Dqs212"><a href="https://github.com/dnote/dnote" target="_blank">Dnote</a> - å…·æœ‰å¤šè®¾å¤‡åŒæ­¥åŠŸèƒ½çš„ç®€å•å‘½ä»¤è¡Œç¬”è®°æœ¬ã€‚</li><li data-pid="rSS-4F1-"><a href="https://github.com/elves/elvish" target="_blank">elvish</a> - ä¸€ç§å¯Œæœ‰è¡¨ç°åŠ›çš„ç¼–ç¨‹è¯­è¨€å’Œå¤šåŠŸèƒ½çš„äº¤äº’å¼ shellã€‚</li><li data-pid="v3EPykJ3"><a href="https://github.com/codingconcepts/env" target="_blank">env</a> - ç»“æ„çš„åŸºäºæ ‡ç­¾çš„ç¯å¢ƒé…ç½®ã€‚</li><li data-pid="T6cLTHre"><a href="https://github.com/cosiner/flag" target="_blank">flag</a> - ç”¨äº Go æ”¯æŒå­å‘½ä»¤çš„ç®€å•ä½†åŠŸèƒ½å¼ºå¤§çš„å‘½ä»¤è¡Œé€‰é¡¹è§£æåº“ã€‚</li><li data-pid="zrqvnCLe"><a href="https://github.com/integrii/flaggy" target="_blank">flaggy</a> - ä¸€ä¸ªå¼ºå¤§ä¸”æƒ¯ç”¨çš„æ ‡å¿—åŒ…ï¼Œå…·æœ‰å‡ºè‰²çš„å­å‘½ä»¤æ”¯æŒã€‚</li><li data-pid="H2s34qOH"><a href="https://github.com/sgreben/flagvar" target="_blank">flagvar</a> - Go æ ‡å‡†åŒ…çš„æ ‡å¿—å‚æ•°ç±»å‹çš„é›†åˆ<code>flag</code>ã€‚</li><li data-pid="KhTiyNND"><a href="https://github.com/grijul/go-andotp" target="_blank">go-andotp - ç”¨äºåŠ å¯†/è§£å¯†</a><a href="https://github.com/andOTP/andOTP" target="_blank">å’Œ OTP</a>æ–‡ä»¶çš„ CLI ç¨‹åºã€‚ä¹Ÿå¯ä»¥ç”¨ä½œå›¾ä¹¦é¦†ã€‚</li><li data-pid="SkgOEhDH"><a href="https://github.com/alexflint/go-arg" target="_blank">go-arg</a> -Go ä¸­åŸºäºç»“æ„çš„å‚æ•°è§£æã€‚</li><li data-pid="X1Ovmkm6"><a href="https://github.com/yitsushi/go-commander" target="_blank">go-commander</a> - ç”¨äºç®€åŒ– CLI å·¥ä½œæµç¨‹çš„ Go åº“ã€‚</li><li data-pid="420RqUxT"><a href="https://github.com/jessevdk/go-flags" target="_blank">go-flags</a> - go å‘½ä»¤è¡Œé€‰é¡¹è§£æå™¨ã€‚</li><li data-pid="SVpJfUVa"><a href="https://github.com/DavidGamba/go-getoptions" target="_blank">go-getoptions</a> - å— Perl çš„ GetOpt::Long çš„çµæ´»æ€§å¯å‘çš„ Go é€‰é¡¹è§£æå™¨ã€‚</li><li data-pid="ul6MF0qA"><a href="https://github.com/devfacet/gocmd" target="_blank">gocmd</a> - ç”¨äºæ„å»ºå‘½ä»¤è¡Œåº”ç”¨ç¨‹åºçš„ Go åº“ã€‚</li><li data-pid="2eTpbkAx"><a href="https://github.com/hidevopsio/hiboot/tree/master/pkg/app/cli" target="_blank">hiboot cli</a> - å…·æœ‰è‡ªåŠ¨é…ç½®å’Œä¾èµ–æ³¨å…¥çš„ cli åº”ç”¨ç¨‹åºæ¡†æ¶ã€‚</li><li data-pid="NYCZkdd_"><a href="https://github.com/liujianping/job" target="_blank">job</a> - JOBï¼Œè®©ä½ çš„çŸ­æœŸå‘½ä»¤æˆä¸ºé•¿æœŸå·¥ä½œã€‚</li><li data-pid="HPAd_IsQ"><a href="https://github.com/alecthomas/kingpin" target="_blank">kingpin</a> - æ”¯æŒå­å‘½ä»¤çš„å‘½ä»¤è¡Œå’Œæ ‡å¿—è§£æå™¨ï¼ˆè¢«å–ä»£<code>kong</code>ï¼›è§ä¸‹æ–‡ï¼‰ã€‚</li><li data-pid="0jx2y6zo"><a href="https://github.com/peterh/liner" target="_blank">liner</a> - ç”¨äºå‘½ä»¤è¡Œç•Œé¢çš„ç±»ä¼¼äº readline çš„åº“ã€‚</li><li data-pid="Gq8CQGl6"><a href="https://github.com/jxskiss/mcli" target="_blank">mcli</a> - ç”¨äº Go çš„æœ€å°ä½†éå¸¸å¼ºå¤§çš„ cli åº“ã€‚</li><li data-pid="PJe2D2mt"><a href="https://github.com/mitchellh/cli" target="_blank">mitchellh/cli</a> - ç”¨äºå®ç°å‘½ä»¤è¡Œç•Œé¢çš„ Go åº“ã€‚</li><li data-pid="fvGapVqT"><a href="https://github.com/jawher/mow.cli" target="_blank">mow.cli</a> - ç”¨äºæ„å»ºå…·æœ‰å¤æ‚æ ‡å¿—å’Œå‚æ•°è§£æå’ŒéªŒè¯çš„ CLI åº”ç”¨ç¨‹åºçš„ Go åº“ã€‚</li><li data-pid="Q0mKtv0U"><a href="https://github.com/nanovms/ops" target="_blank">ops</a> - Unikernel Builder/Orchestrator.</li><li data-pid="omFq79TG"><a href="https://github.com/spf13/pflag" target="_blank">pflag</a> - Go æ ‡å¿—åŒ…çš„ç›´æ¥æ›¿æ¢ï¼Œå®ç°äº† POSIX/GNU é£æ ¼ --flagsã€‚</li><li data-pid="57dzh4AJ"><a href="https://github.com/Zaba505/sand" target="_blank">sand</a> - ç”¨äºåˆ›å»ºè§£é‡Šå™¨ç­‰çš„ç®€å• APIã€‚</li><li data-pid="tfi6Lumz"><a href="https://github.com/octago/sflags" target="_blank">sflags</a> - ç”¨äº flagã€urfave/cliã€pflagã€cobraã€kingpin å’Œå…¶ä»–åº“çš„åŸºäºç»“æ„çš„æ ‡å¿—ç”Ÿæˆå™¨ã€‚</li><li data-pid="xVTDfYVs"><a href="https://github.com/antham/strumt" target="_blank">strumt</a> - åˆ›å»ºæç¤ºé“¾çš„åº“ã€‚</li><li data-pid="sRaZGWDj"><a href="https://github.com/bobg/subcmd" target="_blank">subcmd</a> - å¦ä¸€ç§è§£æå’Œè¿è¡Œå­å‘½ä»¤çš„æ–¹æ³•ã€‚ä¸æ ‡å‡†<code>flag</code>åŒ…ä¸€èµ·å·¥ä½œã€‚</li><li data-pid="vIa73IQQ"><a href="https://github.com/go-survey/survey" target="_blank">survey</a> - æ„å»ºäº¤äº’å¼å’Œå¯è®¿é—®çš„æç¤ºï¼Œå®Œå…¨æ”¯æŒ Windows å’Œ posix ç»ˆç«¯ã€‚</li><li data-pid="3mmtM9sM"><a href="https://github.com/liujianping/ts" target="_blank">ts</a> - æ—¶é—´æˆ³è½¬æ¢å’Œæ¯”è¾ƒå·¥å…·ã€‚</li><li data-pid="RYW0dE0M"><a href="https://github.com/ukautz/clif" target="_blank">ukautz/clif</a> - å°å‹å‘½ä»¤è¡Œç•Œé¢æ¡†æ¶ã€‚</li><li data-pid="vcDwaMun"><a href="https://github.com/urfave/cli" target="_blank">urfave/cli</a> - ç”¨äºåœ¨ Go ä¸­æ„å»ºå‘½ä»¤è¡Œåº”ç”¨ç¨‹åºçš„ç®€å•ã€å¿«é€Ÿä¸”æœ‰è¶£çš„åŒ…ï¼ˆä»¥å‰ç§°ä¸º codegangsta/cliï¼‰ã€‚</li><li data-pid="a0Z323Am"><a href="https://github.com/mszostok/version" target="_blank">version</a> - ä»¥å¤šç§æ ¼å¼æ”¶é›†å’Œæ˜¾ç¤º CLI ç‰ˆæœ¬ä¿¡æ¯ä»¥åŠå‡çº§é€šçŸ¥ã€‚</li><li data-pid="bGmgkZ1q"><a href="https://github.com/dixonwille/wlog" target="_blank">wlog</a> - æ”¯æŒè·¨å¹³å°é¢œè‰²å’Œå¹¶å‘çš„ç®€å•æ—¥å¿—è®°å½•ç•Œé¢ã€‚</li><li data-pid="n4jMnfZv"><a href="https://github.com/dixonwille/wmenu" target="_blank">wmenu</a> - æç¤ºç”¨æˆ·åšå‡ºé€‰æ‹©çš„ cli åº”ç”¨ç¨‹åºæ˜“äºä½¿ç”¨çš„èœå•ç»“æ„ã€‚</li></ul><p data-pid="LCKS-sHL"><b><a href="https://github.com/avelino/awesome-go/blob/main/README.md#contents" target="_blank">â¬†å›åˆ°é¡¶éƒ¨</a></b></p><h2><b>é…ç½®</b></h2><p data-pid="FQyGdqKO"><i>ç”¨äºé…ç½®è§£æçš„åº“ã€‚</i></p><ul><li data-pid="4Z6Iy80f"><a href="https://github.com/cristalhq/aconfig" target="_blank">aconfig</a> - ç®€å•ã€æœ‰ç”¨ä¸”è‡ªä»¥ä¸ºæ˜¯çš„é…ç½®åŠ è½½å™¨ã€‚</li><li data-pid="mmKCObEZ"><a href="https://github.com/ilyakaznacheev/cleanenv" target="_blank">cleanenv</a> - ç®€çº¦çš„é…ç½®é˜…è¯»å™¨ï¼ˆæ¥è‡ªæ–‡ä»¶ã€ENV ä»¥åŠä»»ä½•ä½ æƒ³è¦çš„åœ°æ–¹ï¼‰ã€‚</li><li data-pid="djz2WJcP"><a href="https://github.com/JeremyLoy/config" target="_blank">config</a> - äº‘åŸç”Ÿåº”ç”¨ç¨‹åºé…ç½®ã€‚åªéœ€ä¸¤è¡Œå³å¯å°† ENV ç»‘å®šåˆ°ç»“æ„ã€‚</li><li data-pid="bk3osFya"><a href="https://github.com/num30/config" target="_blank">é…ç½®</a>- åœ¨ä¸¤è¡Œä»£ç ä¸­ä½¿ç”¨æ–‡ä»¶ã€ç¯å¢ƒå˜é‡æˆ–æ ‡å¿—é…ç½®æ‚¨çš„åº”ç”¨ç¨‹åº</li><li data-pid="-YgBvvYP"><a href="https://github.com/olebedev/config" target="_blank">config</a> - å…·æœ‰ç¯å¢ƒå˜é‡å’Œæ ‡å¿—è§£æçš„ JSON æˆ– YAML é…ç½®åŒ…è£…å™¨ã€‚</li><li data-pid="Rh2YGtlB"><a href="https://github.com/BoRuDar/configuration" target="_blank">configuration</a> - ç”¨äºä» env å˜é‡ã€æ–‡ä»¶ã€æ ‡å¿—å’Œâ€œé»˜è®¤â€æ ‡ç­¾åˆå§‹åŒ–é…ç½®ç»“æ„çš„åº“ã€‚</li><li data-pid="i_yY2aaF"><a href="https://github.com/paked/configure" target="_blank">configure</a> - é€šè¿‡å¤šä¸ªæ¥æºæä¾›é…ç½®ï¼ŒåŒ…æ‹¬ JSONã€æ ‡å¿—å’Œç¯å¢ƒå˜é‡ã€‚</li><li data-pid="YK13JYGW"><a href="https://github.com/sherifabdlnaby/configuro" target="_blank">configuro</a> - æ¥è‡ª ENV å’Œ Files çš„è‡ªä»¥ä¸ºæ˜¯çš„é…ç½®åŠ è½½å’ŒéªŒè¯æ¡†æ¶ï¼Œä¸“æ³¨äº 12-Factor å…¼å®¹åº”ç”¨ç¨‹åºã€‚</li><li data-pid="mdmmsIJs"><a href="https://github.com/heetch/confita" target="_blank">confita</a> - å°†é…ç½®ä»å¤šä¸ªåç«¯çº§è”åŠ è½½åˆ°ä¸€ä¸ªç»“æ„ä¸­ã€‚</li><li data-pid="zy-5NYjg"><a href="https://github.com/the4thamigo-uk/conflate" target="_blank">conflate</a> - ç”¨äºåˆå¹¶æ¥è‡ªä»»æ„ URL çš„å¤šä¸ª JSON/YAML/TOML æ–‡ä»¶çš„åº“/å·¥å…·ï¼Œé’ˆå¯¹ JSON æ¨¡å¼è¿›è¡ŒéªŒè¯ï¼Œä»¥åŠæ¨¡å¼ä¸­å®šä¹‰çš„é»˜è®¤å€¼çš„åº”ç”¨ã€‚</li><li data-pid="CBbreAso"><a href="https://github.com/caarlos0/env" target="_blank">env</a> - å°†ç¯å¢ƒå˜é‡è§£æä¸º Go ç»“æ„ï¼ˆå…·æœ‰é»˜è®¤å€¼ï¼‰ã€‚</li><li data-pid="PAaT7D2H"><a href="https://github.com/junk1tm/env" target="_blank">env</a> - ç”¨äºå°†ç¯å¢ƒå˜é‡åŠ è½½åˆ°ç»“æ„ä¸­çš„è½»é‡çº§åŒ…ã€‚</li><li data-pid="5-LeS8Th"><a href="https://github.com/tomazk/envcfg" target="_blank">envcfg</a> - å°†ç¯å¢ƒå˜é‡å–æ¶ˆç¼–ç»„åˆ° Go ç»“æ„ã€‚</li><li data-pid="-MpVZumV"><a href="https://github.com/ian-kent/envconf" target="_blank">envconf</a> - æ¥è‡ªç¯å¢ƒçš„é…ç½®ã€‚</li><li data-pid="Z3eJKfYy"><a href="https://github.com/vrischmann/envconfig" target="_blank">envconfig</a> - ä»ç¯å¢ƒå˜é‡ä¸­è¯»å–æ‚¨çš„é…ç½®ã€‚</li><li data-pid="G4lSADUB"><a href="https://github.com/antham/envh" target="_blank">envh</a> - ç®¡ç†ç¯å¢ƒå˜é‡çš„åŠ©æ‰‹ã€‚</li><li data-pid="1C2ilHbA"><a href="https://github.com/kkyr/fig" target="_blank">fig</a> - ç”¨äºä»æ–‡ä»¶å’Œç¯å¢ƒå˜é‡ï¼ˆå…·æœ‰éªŒè¯å’Œé»˜è®¤å€¼ï¼‰è¯»å–é…ç½®çš„å¾®å‹åº“ã€‚</li><li data-pid="qIuueOOi"><a href="https://github.com/go-gcfg/gcfg" target="_blank">gcfg</a> - å°† INI é£æ ¼çš„é…ç½®æ–‡ä»¶è¯»å…¥ Go ç»“æ„ï¼›æ”¯æŒç”¨æˆ·å®šä¹‰çš„ç±»å‹å’Œå­éƒ¨åˆ†ã€‚</li><li data-pid="kF-GjakL"><a href="https://github.com/sakirsensoy/genv" target="_blank">genv</a> - ä½¿ç”¨ dotenv æ”¯æŒè½»æ¾è¯»å–ç¯å¢ƒå˜é‡.</li><li data-pid="3H2JeObw"><a href="https://github.com/PaddleHQ/go-aws-ssm" target="_blank">go-aws-ssm</a> - ä» AWS System Manager - Parameter Store è·å–å‚æ•°çš„ Go åŒ…ã€‚</li><li data-pid="evyoGSb5"><a href="https://github.com/ThomasObenaus/go-conf" target="_blank">go-conf</a> - åŸºäºæ³¨é‡Šç»“æ„çš„åº”ç”¨ç¨‹åºé…ç½®çš„ç®€å•åº“ã€‚å®ƒæ”¯æŒä»ç¯å¢ƒå˜é‡ã€é…ç½®æ–‡ä»¶å’Œå‘½ä»¤è¡Œå‚æ•°ä¸­è¯»å–é…ç½®ã€‚</li><li data-pid="QKlxrz9h"><a href="https://github.com/subpop/go-ini" target="_blank">go-ini</a> - ç¼–ç»„å’Œè§£ç»„ INI æ–‡ä»¶çš„ Go åŒ…ã€‚</li><li data-pid="CIxj3xSI"><a href="https://github.com/ianlopshire/go-ssm-config" target="_blank">go-ssm-config</a> - ç”¨äºä» AWS SSMï¼ˆå‚æ•°å­˜å‚¨ï¼‰åŠ è½½é…ç½®å‚æ•°çš„ Go å®ç”¨ç¨‹åºã€‚</li><li data-pid="uuowCk77"><a href="https://github.com/ufoscout/go-up" target="_blank">go-up</a> - ä¸€ä¸ªç®€å•çš„é…ç½®åº“ï¼Œå…·æœ‰é€’å½’å ä½ç¬¦è§£æä¸”æ²¡æœ‰é­”æ³•ã€‚</li><li data-pid="bCRLh8ki"><a href="https://github.com/crgimenes/goConfig" target="_blank">goConfig</a> - å°†ç»“æ„è§£æä¸ºè¾“å…¥ï¼Œå¹¶ä½¿ç”¨æ¥è‡ªå‘½ä»¤è¡Œã€ç¯å¢ƒå˜é‡å’Œé…ç½®æ–‡ä»¶çš„å‚æ•°å¡«å……è¯¥ç»“æ„çš„å­—æ®µã€‚</li><li data-pid="9KQfv69n"><a href="https://github.com/joho/godotenv" target="_blank">godotenv</a> -Ruby çš„ dotenv åº“çš„ Go ç«¯å£ï¼ˆä»åŠ è½½ç¯å¢ƒå˜é‡<code>.env</code>ï¼‰ã€‚</li><li data-pid="NGd99Dyk"><a href="https://github.com/ian-kent/gofigure" target="_blank">gofigure</a> -Go åº”ç”¨ç¨‹åºé…ç½®å˜å¾—ç®€å•ã€‚</li><li data-pid="r0BQJNQr"><a href="https://github.com/golobby/config" target="_blank">GoLobby/Config</a> -GoLobby Config æ˜¯ Go ç¼–ç¨‹è¯­è¨€çš„è½»é‡çº§ä½†åŠŸèƒ½å¼ºå¤§çš„é…ç½®ç®¡ç†å™¨.</li><li data-pid="lQteZ50z"><a href="https://github.com/One-com/gone/tree/master/jconf" target="_blank">gone/jconf</a> - æ¨¡å—åŒ– JSON é…ç½®ã€‚è®©æ‚¨é…ç½®ç»“æ„åŠå…¶é…ç½®çš„ä»£ç ï¼Œå¹¶å°†è§£æå§”æ‰˜ç»™å­æ¨¡å—ï¼Œè€Œä¸ä¼šç‰ºç‰²å®Œæ•´çš„é…ç½®åºåˆ—åŒ–ã€‚</li><li data-pid="3zgF_jBU"><a href="https://github.com/milad-abbasi/gonfig" target="_blank">gonfig</a> - åŸºäºæ ‡ç­¾çš„é…ç½®è§£æå™¨ï¼Œå®ƒå°†æ¥è‡ªä¸åŒæä¾›ç¨‹åºçš„å€¼åŠ è½½åˆ°ç±»å‹å®‰å…¨ç»“æ„ä¸­ã€‚</li><li data-pid="GL8WaZif"><a href="https://github.com/gookit/config" target="_blank">gookit/config</a> - åº”ç”¨ç¨‹åºé…ç½®ç®¡ç†ï¼ˆåŠ è½½ã€è·å–ã€è®¾ç½®ï¼‰ã€‚æ”¯æŒ JSONã€YAMLã€TOMLã€INIã€HCLã€‚å¤šæ–‡ä»¶åŠ è½½ï¼Œæ•°æ®è¦†ç›–åˆå¹¶ã€‚</li><li data-pid="PVJmYuLV"><a href="https://github.com/beatlabs/harvester" target="_blank">harvester</a> - Harvesterï¼Œä¸€ä¸ªæ˜“äºä½¿ç”¨çš„é™æ€å’ŒåŠ¨æ€é…ç½®åŒ…ï¼Œæ”¯æŒæ’­ç§ã€env vars å’Œ Consul é›†æˆã€‚</li><li data-pid="hzgF1f6w"><a href="https://github.com/hjson/hjson-go" target="_blank">hjson</a> - äººç±» JSONï¼Œäººç±»çš„é…ç½®æ–‡ä»¶æ ¼å¼ã€‚å®½æ¾çš„è¯­æ³•ï¼Œæ›´å°‘çš„é”™è¯¯ï¼Œæ›´å¤šçš„è¯„è®ºã€‚</li><li data-pid="1-HizlI1"><a href="https://github.com/gurkankaymak/hocon" target="_blank">hocon</a> - ç”¨äºä½¿ç”¨ HOCONï¼ˆä¸€ç§äººæ€§åŒ–çš„ JSON è¶…é›†ï¼‰æ ¼å¼çš„é…ç½®åº“ï¼Œæ”¯æŒç¯å¢ƒå˜é‡ã€å¼•ç”¨å…¶ä»–å€¼ã€æ³¨é‡Šå’Œå¤šä¸ªæ–‡ä»¶ç­‰åŠŸèƒ½ã€‚</li><li data-pid="hMeGoeBb"><a href="https://github.com/schachmat/ingo" target="_blank">ingo</a> - æ ‡å¿—ä¿å­˜åœ¨ç±»ä¼¼ ini çš„é…ç½®æ–‡ä»¶ä¸­ã€‚</li><li data-pid="1JCZUXWB"><a href="https://github.com/go-ini/ini" target="_blank">ini</a> - ç”¨äºè¯»å–å’Œå†™å…¥ INI æ–‡ä»¶çš„ Go åŒ…ã€‚</li><li data-pid="3wGokei4"><a href="https://github.com/wlevene/ini" target="_blank">ini</a> - INI è§£æå™¨å’Œå†™å…¥åº“ï¼Œè§£ç»„åˆ°ç»“æ„ï¼Œç¼–ç»„åˆ° Jsonï¼Œå†™å…¥æ–‡ä»¶ï¼Œç›‘è§†æ–‡ä»¶ã€‚</li><li data-pid="Z2ZO4Bh_"><a href="https://github.com/joshbetz/config" target="_blank">joshbetz/config</a> -Go çš„å°å‹é…ç½®åº“ï¼Œå¯è§£æç¯å¢ƒå˜é‡ã€JSON æ–‡ä»¶å¹¶åœ¨ SIGHUP ä¸Šè‡ªåŠ¨é‡æ–°åŠ è½½ã€‚</li><li data-pid="RwmwwVOf"><a href="https://github.com/kelseyhightower/envconfig" target="_blank">kelseyhightower/envconfig</a> - ç”¨äºç®¡ç†æ¥è‡ªç¯å¢ƒå˜é‡çš„é…ç½®æ•°æ®çš„ Go åº“ã€‚</li><li data-pid="KtKokNsv"><a href="https://github.com/knadh/koanf" target="_blank">koanf</a> - è½»é‡çº§ã€å¯æ‰©å±•çš„åº“ï¼Œç”¨äºè¯»å– Go åº”ç”¨ç¨‹åºä¸­çš„é…ç½®ã€‚å†…ç½®å¯¹ JSONã€TOMLã€YAMLã€envã€å‘½ä»¤è¡Œçš„æ”¯æŒã€‚</li><li data-pid="B0zoVDhH"><a href="https://github.com/lalamove/konfig" target="_blank">konfig</a> - é€‚ç”¨äºåˆ†å¸ƒå¼å¤„ç†æ—¶ä»£çš„ Go çš„å¯ç»„åˆã€å¯è§‚å¯Ÿå’Œé«˜æ€§èƒ½é…ç½®å¤„ç†ã€‚</li><li data-pid="LaHTq2ws"><a href="https://github.com/alecthomas/kong" target="_blank">kong</a> - å‘½ä»¤è¡Œè§£æå™¨ï¼Œæ”¯æŒä»»æ„å¤æ‚çš„å‘½ä»¤è¡Œç»“æ„å’Œå…¶ä»–é…ç½®æºï¼Œä¾‹å¦‚ YAMLã€JSONã€TOML ç­‰ï¼ˆç»§ä»»è€…<code>kingpin</code>ï¼‰ã€‚</li><li data-pid="Zzlh-Sjt"><a href="https://github.com/sasbury/mini" target="_blank">mini</a> - ç”¨äºè§£æ ini æ ·å¼é…ç½®æ–‡ä»¶çš„ Golang åŒ…ã€‚</li><li data-pid="kqj10ihN"><a href="https://github.com/nasermirzaei89/env" target="_blank">nasermirzaei89/env</a> - ç”¨äºè¯»å–ç¯å¢ƒå˜é‡çš„ç®€å•æœ‰ç”¨çš„åŒ…ã€‚</li><li data-pid="oAEDaMzD"><a href="https://github.com/muir/nfigure" target="_blank">nfigure</a> - æ¥è‡ªå‘½ä»¤è¡Œçš„åŸºäºæ¯ä¸ªåº“ç»“æ„æ ‡ç­¾çš„é…ç½®ï¼ˆPosix å’Œ Go é£æ ¼ï¼‰ï¼›ç¯å¢ƒã€JSONã€YAML</li><li data-pid="pM9j1ULx"><a href="https://github.com/goraz/onion" target="_blank">onion</a> -Go çš„åŸºäºå±‚çš„é…ç½®ï¼Œæ”¯æŒ JSONã€TOMLã€YAMLã€å±æ€§ã€etcdã€env å’Œä½¿ç”¨ PGP çš„åŠ å¯†ã€‚</li><li data-pid="pOVa5qcg"><a href="https://github.com/Yiling-J/piper" target="_blank">piper</a> - å…·æœ‰é…ç½®ç»§æ‰¿å’Œå¯†é’¥ç”Ÿæˆçš„ Viper åŒ…è£…å™¨.</li><li data-pid="v6_N_DhJ"><a href="https://github.com/tucnak/store" target="_blank">store</a> -Go çš„è½»é‡çº§é…ç½®ç®¡ç†å™¨ã€‚</li><li data-pid="h_C1yyc0"><a href="https://github.com/oblq/swap" target="_blank">swap</a> - æ ¹æ®æ„å»ºç¯å¢ƒé€’å½’åœ°å®ä¾‹åŒ–/é…ç½®ç»“æ„ã€‚ï¼ˆYAMLã€TOMLã€JSON å’Œç¯å¢ƒï¼‰ã€‚</li><li data-pid="QYUtT-51"><a href="https://github.com/diegomarangoni/typenv" target="_blank">typenv</a> - ç®€çº¦ã€é›¶ä¾èµ–ã€ç±»å‹åŒ–ç¯å¢ƒå˜é‡åº“ã€‚</li><li data-pid="Xx9-zRIM"><a href="https://github.com/omeid/uconfig" target="_blank">uConfig</a> - è½»é‡çº§ã€é›¶ä¾èµ–å’Œå¯æ‰©å±•çš„é…ç½®ç®¡ç†ã€‚</li><li data-pid="aM-NnXas"><a href="https://github.com/spf13/viper" target="_blank">viper</a> - å¸¦æœ‰æ¯’ç‰™çš„ Go é…ç½®ã€‚</li><li data-pid="t-6GFyxg"><a href="https://github.com/adrg/xdg" target="_blank">xdg</a> -Go å®ç°<a href="https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html" target="_blank">XDG åŸºæœ¬ç›®å½•è§„èŒƒ</a>å’Œ<a href="https://wiki.archlinux.org/index.php/XDG_user_directories" target="_blank">XDG ç”¨æˆ·ç›®å½•</a>ã€‚</li><li data-pid="iT0cbeS5"><a href="https://github.com/OpenPeeDeeP/xdg" target="_blank">xdg</a> - éµå¾ª<a href="https://standards.freedesktop.org/basedir-spec/basedir-spec-latest.html" target="_blank">XDG æ ‡å‡†çš„</a>è·¨å¹³å°åŒ…ã€‚</li></ul><p data-pid="DCvBnICE"><b><a href="https://github.com/avelino/awesome-go/blob/main/README.md#contents" target="_blank">â¬†å›åˆ°é¡¶éƒ¨</a></b></p><h2><b>æŒç»­é›†æˆ</b></h2><p data-pid="LW5RtRfj"><i>å¸®åŠ©æŒç»­é›†æˆçš„å·¥å…·ã€‚</i></p><ul><li data-pid="seeWtkYv"><a href="https://github.com/ovh/cds" target="_blank">CDS</a> - ä¼ä¸šçº§ CI/CD å’Œ DevOps è‡ªåŠ¨åŒ–å¼€æºå¹³å°ã€‚</li><li data-pid="6ukSy5aK"><a href="https://github.com/drone/drone" target="_blank">drone</a> -Drone æ˜¯ä¸€ä¸ªå»ºç«‹åœ¨ Docker ä¸Šçš„æŒç»­é›†æˆå¹³å°ï¼Œç”¨ Go ç¼–å†™ã€‚</li><li data-pid="hePXTjcG"><a href="https://github.com/duck8823/duci" target="_blank">duci</a> - ä¸€ä¸ªç®€å•çš„ ci æœåŠ¡å™¨ï¼Œä¸éœ€è¦ç‰¹å®šé¢†åŸŸçš„è¯­è¨€ã€‚</li><li data-pid="SuK9Fi9N"><a href="https://github.com/jidicula/go-fuzz-action" target="_blank">go-fuzz-action</a> - åœ¨ GitHub Actions ä¸­ä½¿ç”¨ Go 1.18 çš„å†…ç½®æ¨¡ç³Šæµ‹è¯•ã€‚</li><li data-pid="fJIE-7VD"><a href="https://github.com/vladopajic/go-test-coverage" target="_blank">go-test-coverage</a> - å½“æµ‹è¯•è¦†ç›–ç‡ä½äºè®¾å®šé˜ˆå€¼æ—¶æŠ¥å‘Šé—®é¢˜çš„å·¥å…·å’Œ GitHub æ“ä½œã€‚</li><li data-pid="d6tK7mLS"><a href="https://github.com/nikogura/gomason" target="_blank">gomason</a> - ä»å¹²å‡€çš„å·¥ä½œåŒºæµ‹è¯•ã€æ„å»ºã€ç­¾åå’Œå‘å¸ƒæ‚¨çš„ go äºŒè¿›åˆ¶æ–‡ä»¶ã€‚</li><li data-pid="l_-ZBTcQ"><a href="https://github.com/GoTestTools/gotestfmt" target="_blank">gotestfmt</a> - å»æµ‹è¯•äººç±»çš„è¾“å‡ºã€‚</li><li data-pid="UIThgXGk"><a href="https://github.com/mattn/goveralls" target="_blank">goveralls</a> - é›†æˆ Coveralls.io è¿ç»­ä»£ç è¦†ç›–ç‡è·Ÿè¸ªç³»ç»Ÿã€‚</li><li data-pid="QIc7-Ldh"><a href="https://github.com/go-playground/overalls" target="_blank">overalls</a> - Multi-Package go project coverprofile ç”¨äºåƒ goveralls è¿™æ ·çš„å·¥å…·ã€‚</li><li data-pid="mzIa2oCO"><a href="https://github.com/LawrenceWoodman/roveralls" target="_blank">roveralls</a> - é€’å½’è¦†ç›–æµ‹è¯•å·¥å…·ã€‚</li><li data-pid="_LMwNhhh"><a href="https://github.com/woodpecker-ci/woodpecker" target="_blank">woodpecker</a> -Woodpecker æ˜¯ Drone CI ç³»ç»Ÿçš„ç¤¾åŒºåˆ†æ”¯ã€‚</li></ul><p data-pid="AXoud4bC"><b><a href="https://github.com/avelino/awesome-go/blob/main/README.md#contents" target="_blank">â¬†å›åˆ°é¡¶éƒ¨</a></b></p><h2><b>CSS é¢„å¤„ç†å™¨</b></h2><p data-pid="S7iUywec"><i>ç”¨äºé¢„å¤„ç† CSS æ–‡ä»¶çš„åº“ã€‚</i></p><ul><li data-pid="qhbqbFRa"><a href="https://github.com/yosssi/gcss" target="_blank">gcss</a> - çº¯ Go CSS é¢„å¤„ç†å™¨ã€‚</li><li data-pid="ZZ_jc6L6"><a href="https://github.com/wellington/go-libsass" target="_blank">go-libsass</a> - åŒ…è£…åˆ° 100% Sass å…¼å®¹çš„ libsass é¡¹ç›®ã€‚</li></ul><p data-pid="pGk2g1Z6"><b><a href="https://github.com/avelino/awesome-go/blob/main/README.md#contents" target="_blank">â¬†å›åˆ°é¡¶éƒ¨</a></b></p><h2><b>æ•°æ®ç»“æ„å’Œç®—æ³•</b></h2><h3><b>ä½æ‰“åŒ…å’Œå‹ç¼©</b></h3><ul><li data-pid="LmkmZLCi"><a href="https://github.com/iancmcc/bingo" target="_blank">bingo</a> - å°†æœ¬æœºç±»å‹å¿«é€Ÿã€é›¶åˆ†é…ã€ä¿ç•™è¯å…¸é¡ºåºçš„åŒ…è£…æ‰“åŒ…ä¸ºå­—èŠ‚ã€‚</li><li data-pid="njgGTk5B"><a href="https://github.com/zhuangsirui/binpacker" target="_blank">binpacker</a> - äºŒè¿›åˆ¶æ‰“åŒ…å™¨å’Œè§£åŒ…å™¨å¸®åŠ©ç”¨æˆ·æ„å»ºè‡ªå®šä¹‰äºŒè¿›åˆ¶æµã€‚</li><li data-pid="3XMB7duO"><a href="https://github.com/yourbasic/bit" target="_blank">bit</a> -Golang è®¾ç½®æ•°æ®ç»“æ„ï¼Œå…·æœ‰é¢å¤–çš„ä½æ—‹è½¬åŠŸèƒ½ã€‚</li><li data-pid="7Fl5DcGh"><a href="https://github.com/superwhiskers/crunch" target="_blank">crunch</a> -Go åŒ…å®ç°ç¼“å†²åŒºä»¥è½»æ¾å¤„ç†å„ç§æ•°æ®ç±»å‹ã€‚</li><li data-pid="hVtLEfMM"><a href="https://github.com/amallia/go-ef" target="_blank">go-ef</a> - Elias-Fano ç¼–ç çš„ Go å®ç°ã€‚</li><li data-pid="hpL2nU9f"><a href="https://github.com/RoaringBitmap/roaring" target="_blank">roaring</a> - å®ç°å‹ç¼©ä½é›†çš„ Go åŒ…ã€‚</li></ul><h3><b>ä½é›†</b></h3><ul><li data-pid="40NWh4jm"><a href="https://github.com/kelindar/bitmap" target="_blank">bitmap</a> -Go ä¸­å¯†é›†çš„ã€é›¶åˆ†é…çš„ã€æ”¯æŒ SIMD çš„ä½å›¾/ä½é›†ã€‚</li><li data-pid="Xin4FnQs"><a href="https://github.com/bits-and-blooms/bitset" target="_blank">bitset</a> -Go åŒ…å®ç° bitsetsã€‚</li></ul><h3><b>å¸ƒéš†å’Œå¸ƒè°·é¸Ÿè¿‡æ»¤å™¨</b></h3><ul><li data-pid="jpVOeQqH"><a href="https://github.com/bits-and-blooms/bloom" target="_blank">bloom</a> - å®ç° Bloom è¿‡æ»¤å™¨çš„ Go åŒ…ã€‚</li><li data-pid="4_iU1i3A"><a href="https://github.com/zhenjl/bloom" target="_blank">bloom</a> - åœ¨ Go ä¸­å®ç°çš„ Bloom è¿‡æ»¤å™¨.</li><li data-pid="dkCK0gQ2"><a href="https://github.com/yourbasic/bloom" target="_blank">bloom</a> -Golang å¸ƒéš†è¿‡æ»¤å™¨å®ç°ã€‚</li><li data-pid="whH_3_tY"><a href="https://github.com/OldPanda/bloomfilter" target="_blank">bloomfilter</a> -Go ä¸­çš„å¦ä¸€ä¸ª Bloomfilter å®ç°ï¼Œä¸ Java çš„ Guava åº“å…¼å®¹ã€‚</li><li data-pid="92ofKrk6"><a href="https://github.com/tylertreat/BoomFilters" target="_blank">boomfilters</a> - ç”¨äºå¤„ç†è¿ç»­ã€æ— ç•Œæµçš„æ¦‚ç‡æ•°æ®ç»“æ„ã€‚</li><li data-pid="alWlggFy"><a href="https://github.com/linvon/cuckoo-filter" target="_blank">cuckoo-filter</a> - å¸ƒè°·é¸Ÿè¿‡æ»¤å™¨ï¼šä¸€ä¸ªç»¼åˆçš„å¸ƒè°·é¸Ÿè¿‡æ»¤å™¨ï¼Œä¸å…¶ä»–å·¥å…·ç›¸æ¯”ï¼Œå®ƒæ˜¯å¯é…ç½®çš„å’Œç©ºé—´ä¼˜åŒ–çš„ï¼Œå¹¶ä¸”æä¾›äº†åŸå§‹è®ºæ–‡ä¸­æåˆ°çš„æ‰€æœ‰åŠŸèƒ½ã€‚</li><li data-pid="YgXAR44n"><a href="https://github.com/seiflotfy/cuckoofilter" target="_blank">cuckoofilter</a> - å¸ƒè°·é¸Ÿè¿‡æ»¤å™¨ï¼šåœ¨ Go ä¸­å®ç°çš„è®¡æ•°å¸ƒéš†è¿‡æ»¤å™¨çš„ä¸€ä¸ªå¾ˆå¥½çš„æ›¿ä»£å“ã€‚</li><li data-pid="sLEJGYhj"><a href="https://github.com/TheTannerRyan/ring" target="_blank">ring</a> - æ‰§è¡Œé«˜æ€§èƒ½ã€çº¿ç¨‹å®‰å…¨çš„å¸ƒéš†è¿‡æ»¤å™¨ã€‚</li></ul><h3><b>æ•°æ®ç»“æ„å’Œç®—æ³•é›†åˆ</b></h3><ul><li data-pid="DBMRAube"><a href="https://github.com/shady831213/algorithms" target="_blank">algorithms</a> - ç®—æ³•å’Œæ•°æ®ç»“æ„ã€‚CLRS ç ”ç©¶ã€‚</li><li data-pid="tFDc270X"><a href="https://github.com/Workiva/go-datastructures" target="_blank">go-datastructures</a> - æœ‰ç”¨çš„ã€é«˜æ€§èƒ½çš„å’Œçº¿ç¨‹å®‰å…¨çš„æ•°æ®ç»“æ„çš„é›†åˆã€‚</li><li data-pid="ZFm0Azx0"><a href="https://github.com/emirpasic/gods" target="_blank">gods</a> - å›´æ£‹æ•°æ®ç»“æ„ã€‚å®¹å™¨ã€é›†åˆã€åˆ—è¡¨ã€å †æ ˆã€åœ°å›¾ã€BidiMapsã€æ ‘ã€HashSet ç­‰ã€‚</li><li data-pid="y7yT5ic4"><a href="https://github.com/liyue201/gostl" target="_blank">gostl</a> - go çš„æ•°æ®ç»“æ„å’Œç®—æ³•åº“ï¼Œæ—¨åœ¨æä¾›ç±»ä¼¼äº C++ STL çš„åŠŸèƒ½ã€‚</li></ul><h3><b>è¿­ä»£å™¨</b></h3><ul><li data-pid="UMo-ZrVQ"><a href="https://github.com/yaa110/goterator" target="_blank">goterator</a> - æä¾› map å’Œ reduce åŠŸèƒ½çš„è¿­ä»£å™¨å®ç°ã€‚</li><li data-pid="zTCmPsMw"><a href="https://github.com/disksing/iter" target="_blank">iter</a> - C++ STL è¿­ä»£å™¨å’Œç®—æ³•çš„ Go å®ç°ã€‚</li></ul><h3><b>åœ°å›¾</b></h3><p data-pid="ZmhtnocI">å¦è¯·å‚é˜…<a href="https://github.com/avelino/awesome-go/blob/main/README.md#database" target="_blank">æ•°æ®åº“</a>äº†è§£æ›´å¤æ‚çš„é”®å€¼å­˜å‚¨ï¼Œä»¥åŠ<a href="https://github.com/avelino/awesome-go/blob/main/README.md#trees" target="_blank">æ ‘</a>äº†è§£å…¶ä»–æœ‰åºæ˜ å°„å®ç°ã€‚</p><ul><li data-pid="lGZqJNBI"><a href="https://github.com/lrita/cmap" target="_blank">cmap</a> - ç”¨äº go çš„çº¿ç¨‹å®‰å…¨å¹¶å‘æ˜ å°„ï¼Œæ”¯æŒç”¨ä½œ<code>interface{}</code>é”®å’Œè‡ªåŠ¨æ‰©å±•åˆ†ç‰‡ã€‚</li><li data-pid="DQAtBCg8"><a href="https://github.com/srfrog/dict" target="_blank">dict</a> -Go çš„ç±»ä¼¼ Python çš„å­—å…¸ï¼ˆdictï¼‰ã€‚</li><li data-pid="Mb9VV7kf"><a href="https://github.com/goradd/maps" target="_blank">goradd/maps</a> - ç”¨äºåœ°å›¾çš„ Go 1.18+ é€šç”¨åœ°å›¾ç•Œé¢ï¼›å®‰å…¨åœ°å›¾ï¼›æœ‰åºåœ°å›¾ï¼›æœ‰åºã€å®‰å…¨çš„åœ°å›¾ï¼›ETCã€‚</li></ul><h3><b>æ‚é¡¹æ•°æ®ç»“æ„å’Œç®—æ³•</b></h3><ul><li data-pid="Y1tXLZAn"><a href="https://github.com/free/concurrent-writer" target="_blank">concurrent-writer</a> - é«˜åº¦å¹¶å‘çš„<code>bufio.Writer</code>.</li><li data-pid="OEU1qbn8"><a href="https://github.com/InVisionApp/conjungo" target="_blank">conjungo</a> - ä¸€ä¸ªå°å·§ã€å¼ºå¤§ä¸”çµæ´»çš„åˆå¹¶åº“ã€‚</li><li data-pid="YH2HHoLz"><a href="https://github.com/seiflotfy/count-min-log" target="_blank">count-min-log</a> - Go å®ç° Count-Min-Log è‰å›¾ï¼šä½¿ç”¨è¿‘ä¼¼è®¡æ•°å™¨è¿›è¡Œè¿‘ä¼¼è®¡æ•°ï¼ˆç±»ä¼¼äº Count-Min è‰å›¾ï¼Œä½†ä½¿ç”¨æ›´å°‘çš„å†…å­˜ï¼‰ã€‚</li><li data-pid="5QT85j14"><a href="https://github.com/cocoonspace/fsm" target="_blank">fsm</a> - æœ‰é™çŠ¶æ€æœºåŒ…ã€‚</li><li data-pid="ImhNEC6G"><a href="https://github.com/nwillc/genfuncs" target="_blank">genfuncs</a> - å— Kotlin çš„ Sequence å’Œ Map å¯å‘çš„ Go 1.18+ æ³›å‹åŒ….</li><li data-pid="fclHjWCX"><a href="https://github.com/bobg/go-generics" target="_blank">go-generics</a> - é€šç”¨åˆ‡ç‰‡ã€æ˜ å°„ã€é›†åˆã€è¿­ä»£å™¨å’Œ goroutine å®ç”¨ç¨‹åºã€‚</li><li data-pid="la5wvbD7"><a href="https://github.com/hailocab/go-geoindex" target="_blank">go-geoindex</a> - å†…å­˜ä¸­åœ°ç†ç´¢å¼•ã€‚</li><li data-pid="C6QFTjXb"><a href="https://github.com/francesconi/go-rampart" target="_blank">go-rampart</a> - ç¡®å®šé—´éš”å¦‚ä½•ç›¸äº’å…³è”ã€‚</li><li data-pid="eyk3sn0A"><a href="https://github.com/aurelien-rainone/go-rquad" target="_blank">go-rquad</a> - å…·æœ‰é«˜æ•ˆç‚¹å®šä½å’Œé‚»å±…æŸ¥æ‰¾çš„åŒºåŸŸå››å‰æ ‘ã€‚</li><li data-pid="A18jcr0C"><a href="https://github.com/barweiss/go-tuple" target="_blank">go-tuple</a> -Go 1.18+ çš„é€šç”¨å…ƒç»„å®ç°ã€‚</li><li data-pid="Qi_W9n9t"><a href="https://github.com/daichi-m/go18ds" target="_blank">go18ds</a> - ä½¿ç”¨ Go 1.18 æ³›å‹çš„ Go æ•°æ®ç»“æ„ã€‚</li><li data-pid="0vxd7EdW"><a href="https://github.com/xxjwxc/gofal" target="_blank">gofal</a> -Go çš„å°æ•° apiã€‚</li><li data-pid="yqCiqF9M"><a href="https://github.com/esimov/gogu" target="_blank">gogu</a> - ä¸€ä¸ªå…¨é¢ã€å¯é‡ç”¨å’Œé«˜æ•ˆçš„å¹¶å‘å®‰å…¨æ³›å‹å®ç”¨å‡½æ•°å’Œæ•°æ®ç»“æ„åº“ã€‚</li><li data-pid="yKjDCb5A"><a href="https://github.com/kniren/gota" target="_blank">gota</a> - ä¸º Go å®ç°æ•°æ®å¸§ã€ç³»åˆ—å’Œæ•°æ®æ•´ç†æ–¹æ³•ã€‚</li><li data-pid="O-8ELai7"><a href="https://github.com/emvi/hide" target="_blank">éšè—</a>- ID ç±»å‹ä¸ç¼–ç»„åˆ°/ä»æ•£åˆ—ä»¥é˜²æ­¢å‘å®¢æˆ·ç«¯å‘é€ IDã€‚</li><li data-pid="KTMMBtTa"><a href="https://github.com/google/hilbert" target="_blank">hilbert</a> - ç”¨äºå°†å€¼æ˜ å°„åˆ°ç©ºé—´å¡«å……æ›²çº¿ï¼ˆä¾‹å¦‚ Hilbert å’Œ Peano æ›²çº¿ï¼‰å’Œä»ç©ºé—´å¡«å……æ›²çº¿æ˜ å°„å€¼çš„ Go åŒ…ã€‚</li><li data-pid="3Xkfb4zD"><a href="https://github.com/axiomhq/hyperloglog" target="_blank">hyperloglog</a> - å…·æœ‰ç¨€ç–ã€LogLog-Beta åå·®æ ¡æ­£å’Œ TailCut ç©ºé—´å‡å°‘çš„ HyperLogLog å®ç°ã€‚</li><li data-pid="j5VO4hub"><a href="https://github.com/s0rg/quadtree" target="_blank">å››å‰æ ‘</a>- é€šç”¨ã€é›¶åˆ†é…ã€100% æµ‹è¯•è¦†ç›–çš„å››å‰æ ‘ã€‚</li><li data-pid="U6DbSL0y"><a href="https://github.com/srfrog/slices" target="_blank">åˆ‡ç‰‡</a>- å¯¹åˆ‡ç‰‡è¿›è¡Œæ“ä½œçš„å‡½æ•°ï¼›å–œæ¬¢<code>package strings</code>ä½†é€‚ç”¨äºåˆ‡ç‰‡ã€‚</li><li data-pid="m4g2bGqM"><a href="https://github.com/twharmon/slices" target="_blank">slices</a> - åˆ‡ç‰‡çš„çº¯é€šç”¨å‡½æ•°ã€‚</li></ul><h3><b>å¯ç©ºç±»å‹</b></h3><ul><li data-pid="agjzFvz8"><a href="https://github.com/kak-tus/nan" target="_blank">nan</a> - ä¸€ä¸ªåº“ä¸­çš„é›¶åˆ†é…å¯ç©ºç»“æ„ï¼Œå…·æœ‰æ–¹ä¾¿çš„è½¬æ¢å‡½æ•°ã€ç¼–ç»„å™¨å’Œè§£ç»„å™¨ã€‚</li><li data-pid="p8bgNpnz"><a href="https://github.com/emvi/null" target="_blank">null</a> - å¯ä»¥ä¸º JSON ç¼–ç»„/è§£ç»„çš„å¯ç©º Go ç±»å‹ã€‚</li><li data-pid="sf938z1S"><a href="https://github.com/gurukami/typ" target="_blank">typ</a> - ç©ºç±»å‹ã€å®‰å…¨åŸå§‹ç±»å‹è½¬æ¢å’Œä»å¤æ‚ç»“æ„ä¸­è·å–å€¼ã€‚</li></ul><h3><b>é˜Ÿåˆ—</b></h3><ul><li data-pid="oobiwhe0"><a href="https://github.com/edwingeng/deque" target="_blank">deque</a> - é«˜åº¦ä¼˜åŒ–çš„åŒç«¯é˜Ÿåˆ—ã€‚</li><li data-pid="CcgY4nrY"><a href="https://github.com/gammazero/deque" target="_blank">deque</a> - å¿«é€Ÿç¯å½¢ç¼“å†²åŒºåŒç«¯é˜Ÿåˆ—ï¼ˆåŒç«¯é˜Ÿåˆ—ï¼‰ã€‚</li><li data-pid="Riy6dHTo"><a href="https://github.com/enriquebris/goconcurrentqueue" target="_blank">goconcurrentqueue</a> - å¹¶å‘ FIFO é˜Ÿåˆ—ã€‚</li><li data-pid="tvkGtof3"><a href="https://github.com/embano1/memlog" target="_blank">memlog</a> - å— Apache Kafka å¯å‘çš„æ˜“äºä½¿ç”¨ã€è½»é‡çº§ã€çº¿ç¨‹å®‰å…¨ä¸”ä»…é™„åŠ çš„å†…å­˜æ•°æ®ç»“æ„ã€‚</li><li data-pid="-hg28Ez5"><a href="https://github.com/adrianbrad/queue" target="_blank">queue</a> -Go çš„å¤šçº¿ç¨‹å®‰å…¨ã€é€šç”¨é˜Ÿåˆ—å®ç°ã€‚</li></ul><h3><b>å¥—</b></h3><ul><li data-pid="29ubEw9o"><a href="https://github.com/ihebu/dsu" target="_blank">dsu</a> -Go ä¸­çš„ä¸ç›¸äº¤é›†æ•°æ®ç»“æ„å®ç°ã€‚</li><li data-pid="bulrYd4X"><a href="https://github.com/deckarep/golang-set" target="_blank">golang-set</a> -Go çš„çº¿ç¨‹å®‰å…¨å’Œéçº¿ç¨‹å®‰å…¨é«˜æ€§èƒ½é›†ã€‚</li><li data-pid="Fdw0uDOn"><a href="https://github.com/zoumo/goset" target="_blank">goset</a> - ä¸€ä¸ªæœ‰ç”¨çš„ Go é›†åˆé›†åˆå®ç°ã€‚</li><li data-pid="EvsryRND"><a href="https://github.com/StudioSol/set" target="_blank">set</a> - ä½¿ç”¨ LinkedHashMap åœ¨ Go ä¸­å®ç°ç®€å•çš„é›†åˆæ•°æ®ç»“æ„ã€‚</li></ul><h3><b>æ–‡æœ¬åˆ†æ</b></h3><ul><li data-pid="4SZz0Oih"><a href="https://github.com/blevesearch/bleve" target="_blank">bleve</a> - ç”¨äº go çš„ç°ä»£æ–‡æœ¬ç´¢å¼•åº“ã€‚</li><li data-pid="NEgJyS2s"><a href="https://github.com/plar/go-adaptive-radix-tree" target="_blank">go-adaptive-radix-tree</a> - è‡ªé€‚åº”åŸºæ•°æ ‘çš„ Go å®ç°ã€‚</li><li data-pid="sGKMnt52"><a href="https://github.com/hbollon/go-edlib" target="_blank">go-edlib</a> - ä¸ Unicode å…¼å®¹çš„ Go å­—ç¬¦ä¸²æ¯”è¾ƒå’Œç¼–è¾‘è·ç¦»ç®—æ³•åº“ï¼ˆLevenshteinã€LCSã€Hammingã€Damerau levenshteinã€Jaro-Winkler ç­‰ï¼‰ã€‚</li><li data-pid="MH-N6nXz"><a href="https://github.com/agext/levenshtein" target="_blank">levenshtein</a> - Levenshtein è·ç¦»å’Œç›¸ä¼¼æ€§åº¦é‡ï¼Œå…·æœ‰å¯è‡ªå®šä¹‰çš„ç¼–è¾‘æˆæœ¬å’Œç±»ä¼¼ Winkler çš„å…¬å…±å‰ç¼€å¥–åŠ±.</li><li data-pid="4bTVOkc4"><a href="https://github.com/agnivade/levenshtein" target="_blank">levenshtein</a> - åœ¨ Go ä¸­è®¡ç®— levenshtein è·ç¦»çš„å®ç°ã€‚</li><li data-pid="-NpiGdAL"><a href="https://github.com/BlackRabbitt/mspm" target="_blank">mspm</a> - ç”¨äºä¿¡æ¯æ£€ç´¢çš„å¤šå­—ç¬¦ä¸²æ¨¡å¼åŒ¹é…ç®—æ³•ã€‚</li><li data-pid="bk9aGH1Y"><a href="https://github.com/MonaxGT/parsefields" target="_blank">parsefields</a> - ç”¨äºè§£æç±»ä¼¼ JSON çš„æ—¥å¿—ä»¥æ”¶é›†å”¯ä¸€å­—æ®µå’Œäº‹ä»¶çš„å·¥å…·ã€‚</li><li data-pid="CA9Tr2X8"><a href="https://github.com/viant/ptrie" target="_blank">ptrie</a> - å‰ç¼€æ ‘çš„å®ç°ã€‚</li><li data-pid="JuQlYMRJ"><a href="https://github.com/derekparker/trie" target="_blank">trie</a> -Go ä¸­çš„ Trie å®ç°ã€‚</li></ul><h3><b>æ ‘æœ¨</b></h3><ul><li data-pid="4wFg2wd2"><a href="http://github.com/bobg/hashsplit" target="_blank">hashsplit</a> - å°†å­—èŠ‚æµæ‹†åˆ†æˆå—ï¼Œå¹¶å°†å—æ’åˆ—æˆæ ‘ï¼Œè¾¹ç•Œç”±å†…å®¹å†³å®šï¼Œè€Œä¸æ˜¯ä½ç½®ã€‚</li><li data-pid="cjiSNc_x"><a href="https://github.com/bobg/merkle" target="_blank">merkle</a> - Merkle æ ¹å“ˆå¸Œå’ŒåŒ…å«è¯æ˜çš„ç©ºé—´é«˜æ•ˆè®¡ç®—.</li><li data-pid="mdz6zUaD"><a href="https://github.com/MauriceGit/skiplist" target="_blank">skiplist</a> - éå¸¸å¿«é€Ÿçš„ Go Skiplist å®ç°ã€‚</li><li data-pid="5wdPZrNr"><a href="https://github.com/gansidui/skiplist" target="_blank">skiplist</a> -Go ä¸­çš„ Skiplist å®ç°ã€‚</li><li data-pid="Uksg6g9c"><a href="https://github.com/perdata/treap" target="_blank">treap</a> - ä½¿ç”¨æ ‘å †çš„æŒä¹…ã€å¿«é€Ÿæœ‰åºçš„åœ°å›¾ã€‚</li><li data-pid="W2Zcgaea"><a href="https://github.com/igrmk/treemap" target="_blank">treemap</a> - ä½¿ç”¨å¼•æ“ç›–ä¸‹çš„çº¢é»‘æ ‘çš„é€šç”¨é”®æ’åºæ˜ å°„ã€‚</li></ul><h3><b>ç®¡é“</b></h3><ul><li data-pid="BrwleDaU"><a href="https://github.com/tejzpr/ordered-concurrently" target="_blank">ordered-concurrently</a> - å¹¶å‘å¤„ç†å·¥ä½œå¹¶æŒ‰è¾“å…¥é¡ºåºåœ¨é€šé“ä¸­è¿”å›è¾“å‡ºçš„ Go æ¨¡å—ã€‚</li><li data-pid="BACbpnNj"><a href="https://github.com/nazar256/parapipe" target="_blank">parapipe</a> - FIFO ç®¡é“ï¼Œå®ƒåœ¨æ¯ä¸ªé˜¶æ®µå¹¶è¡Œæ‰§è¡Œï¼ŒåŒæ—¶ä¿æŒæ¶ˆæ¯å’Œç»“æœçš„é¡ºåºã€‚</li><li data-pid="IMlshMrg"><a href="https://github.com/hyfather/pipeline" target="_blank">pipeline</a> - å…·æœ‰æ‰‡å…¥å’Œæ‰‡å‡ºçš„ç®¡é“çš„å®ç°ã€‚</li></ul><p data-pid="VZYKZZL2"><b><a href="https://github.com/avelino/awesome-go/blob/main/README.md#contents" target="_blank">â¬†å›åˆ°é¡¶éƒ¨</a></b></p><h2><b>æ•°æ®åº“</b></h2><h3><b>ç¼“å­˜</b></h3><p data-pid="r7RAM9pT"><i>å…·æœ‰è¿‡æœŸè®°å½•çš„æ•°æ®å­˜å‚¨ã€å†…å­˜åˆ†å¸ƒå¼æ•°æ®å­˜å‚¨æˆ–åŸºäºæ–‡ä»¶çš„æ•°æ®åº“çš„å†…å­˜å­é›†ã€‚</i></p><ul><li data-pid="vxgeMZMb"><a href="https://github.com/floatdrop/2q" target="_blank">2q</a> - 2Q å†…å­˜ç¼“å­˜å®ç°ã€‚</li><li data-pid="SPNMxvUu"><a href="https://github.com/iwanbk/bcache" target="_blank">bcache</a> - æœ€ç»ˆä¸€è‡´çš„åˆ†å¸ƒå¼å†…å­˜ç¼“å­˜ Go åº“ã€‚</li><li data-pid="yeH6D166"><a href="https://github.com/allegro/bigcache" target="_blank">BigCache</a> - åƒå…†å­—èŠ‚æ•°æ®çš„é«˜æ•ˆé”®/å€¼ç¼“å­˜ã€‚</li><li data-pid="jR4RGGE-"><a href="https://github.com/akyoto/cache" target="_blank">cache</a> - å†…å­˜ä¸­çš„é”®ï¼šå…·æœ‰è¿‡æœŸæ—¶é—´çš„å€¼å­˜å‚¨ï¼Œ0 ä¾èµ–æ€§ï¼Œ&lt;100 LoCï¼Œ100% è¦†ç›–ç‡ã€‚</li><li data-pid="TxfJexim"><a href="https://github.com/muesli/cache2go" target="_blank">cache2go</a> - å†…å­˜ä¸­çš„é”®ï¼šå€¼ç¼“å­˜ï¼Œæ”¯æŒåŸºäºè¶…æ—¶çš„è‡ªåŠ¨å¤±æ•ˆã€‚</li><li data-pid="kZwYLbkh"><a href="https://github.com/faabiosr/cachego" target="_blank">cachego</a> - ç”¨äºå¤šä¸ªé©±åŠ¨ç¨‹åºçš„ Golang ç¼“å­˜ç»„ä»¶ã€‚</li><li data-pid="uSU1vfLs"><a href="https://github.com/oaStuff/clusteredBigCache" target="_blank">clusteredBigCache</a> - å…·æœ‰é›†ç¾¤æ”¯æŒå’Œå•ä¸ªé¡¹ç›®è¿‡æœŸçš„ BigCacheã€‚</li><li data-pid="P2dKmt3d"><a href="https://github.com/codingsince1985/couchcache" target="_blank">couchcache</a> - ç”± Couchbase æœåŠ¡å™¨æ”¯æŒçš„ RESTful ç¼“å­˜å¾®æœåŠ¡ã€‚</li><li data-pid="LB1H1CqE"><a href="https://github.com/VictoriaMetrics/fastcache" target="_blank">fastcache</a> - ç”¨äºå¤§é‡æ¡ç›®çš„å¿«é€Ÿçº¿ç¨‹å®‰å…¨å†…å­˜ç¼“å­˜ã€‚æœ€å°åŒ– GC å¼€é”€ã€‚</li><li data-pid="IZAzOPKY"><a href="https://github.com/bluele/gcache" target="_blank">GCache</a> - æ”¯æŒè¿‡æœŸç¼“å­˜ã€LFUã€LRU å’Œ ARC çš„ç¼“å­˜åº“ã€‚</li><li data-pid="K66cD1vG"><a href="https://github.com/ulovecode/gdcache" target="_blank">gdcache</a> - ä¸€ä¸ªç”± golang å®ç°çš„çº¯éä¾µå…¥å¼ç¼“å­˜åº“ï¼Œä½ å¯ä»¥ç”¨å®ƒæ¥å®ç°ä½ è‡ªå·±çš„åˆ†å¸ƒå¼ç¼“å­˜ã€‚</li><li data-pid="WRsrg0DD"><a href="https://github.com/viney-shih/go-cache" target="_blank">go-cache</a> - ä¸€ä¸ªçµæ´»çš„å¤šå±‚ Go ç¼“å­˜åº“ï¼Œé€šè¿‡é‡‡ç”¨ Cache-Aside æ¨¡å¼å¤„ç†å†…å­˜å’Œå…±äº«ç¼“å­˜ã€‚</li><li data-pid="TZszBnOB"><a href="https://github.com/OrlovEvgeny/go-mcache" target="_blank">go-mcache</a> - å¿«é€Ÿå†…å­˜ä¸­é”®ï¼šå€¼å­˜å‚¨/ç¼“å­˜åº“ã€‚æŒ‡é’ˆç¼“å­˜ã€‚</li><li data-pid="mB98lFSl"><a href="https://github.com/eko/gocache" target="_blank">gocache</a> - ä¸€ä¸ªå®Œæ•´çš„ Go ç¼“å­˜åº“ï¼Œå…·æœ‰å¤šä¸ªå­˜å‚¨ï¼ˆå†…å­˜ã€å†…å­˜ç¼“å­˜ã€redis ç­‰ï¼‰ã€å¯é“¾æ¥ã€å¯åŠ è½½ã€æŒ‡æ ‡ç¼“å­˜ç­‰ã€‚</li><li data-pid="YxC4aKAK"><a href="https://github.com/golang/groupcache" target="_blank">groupcache</a> - Groupcache æ˜¯ä¸€ä¸ªç¼“å­˜å’Œç¼“å­˜å¡«å……åº“ï¼Œåœ¨è®¸å¤šæƒ…å†µä¸‹æ—¨åœ¨æ›¿ä»£ memcachedã€‚</li><li data-pid="WF6YUc0A"><a href="https://github.com/erni27/imcache" target="_blank">imcache</a> - ä¸€ä¸ªé€šç”¨çš„å†…å­˜ç¼“å­˜ Go åº“ã€‚å®ƒæ”¯æŒè¿‡æœŸã€æ»‘åŠ¨è¿‡æœŸã€æœ€å¤§æ¡ç›®é™åˆ¶ã€é©±é€å›è°ƒå’Œåˆ†ç‰‡ã€‚</li><li data-pid="v5pUBk6K"><a href="https://github.com/no-src/nscache" target="_blank">nscache</a> - ä¸€ä¸ªæ”¯æŒå¤šæ•°æ®æºé©±åŠ¨çš„ Go ç¼“å­˜æ¡†æ¶ã€‚</li><li data-pid="58eWJE0P"><a href="https://github.com/rocketlaunchr/remember-go" target="_blank">remember-go</a> - ç”¨äºç¼“å­˜æ…¢é€Ÿæ•°æ®åº“æŸ¥è¯¢çš„é€šç”¨æ¥å£ï¼ˆç”± redisã€memcachedã€ristretto æˆ–å†…å­˜ä¸­æ”¯æŒï¼‰ã€‚</li><li data-pid="CLN6wyFH"><a href="https://github.com/Yiling-J/theine-go" target="_blank">theine</a> - é«˜æ€§èƒ½ï¼Œæ¥è¿‘æœ€ä½³çš„å†…å­˜ç¼“å­˜ï¼Œå…·æœ‰ä¸»åŠ¨ TTL åˆ°æœŸå’Œæ³›å‹ã€‚</li><li data-pid="1wuNIPMp"><a href="https://github.com/zekroTJA/timedmap" target="_blank">timedmap</a> - å…·æœ‰è¿‡æœŸé”®å€¼å¯¹çš„æ˜ å°„ã€‚</li><li data-pid="PqbmLjib"><a href="https://github.com/jellydator/ttlcache" target="_blank">ttlcache</a> - å…·æœ‰é¡¹ç›®è¿‡æœŸå’Œæ³›å‹çš„å†…å­˜ç¼“å­˜ã€‚</li><li data-pid="K-1jHOYo"><a href="https://github.com/cheshir/ttlcache" target="_blank">ttlcache</a> - å†…å­˜ä¸­çš„é”®å€¼å­˜å‚¨ï¼Œæ¯æ¡è®°å½•éƒ½æœ‰ TTLã€‚</li></ul><h3><b>Go ä¸­å®ç°çš„æ•°æ®åº“</b></h3><ul><li data-pid="8dquD7QC"><a href="https://github.com/dgraph-io/badger" target="_blank">badger</a> -Go ä¸­çš„å¿«é€Ÿé”®å€¼å­˜å‚¨ã€‚</li><li data-pid="0-3AtpUp"><a href="https://github.com/etcd-io/bbolt" target="_blank">bbolt</a> - Go çš„åµŒå…¥å¼é”®/å€¼æ•°æ®åº“ã€‚</li><li data-pid="wMXJ-yCR"><a href="https://git.mills.io/prologic/bitcask" target="_blank">Bitcask</a> - Bitcask æ˜¯ä¸€ç§å¯åµŒå…¥ã€æŒä¹…ä¸”å¿«é€Ÿçš„é”®å€¼ (KV) æ•°æ®åº“ï¼Œé‡‡ç”¨çº¯ Go è¯­è¨€ç¼–å†™ï¼Œå…·æœ‰å¯é¢„æµ‹çš„è¯»/å†™æ€§èƒ½ã€ä½å»¶è¿Ÿå’Œé«˜ååé‡ï¼Œè¿™è¦å½’åŠŸäº bitcask ç£ç›˜å¸ƒå±€ (LSM+WAL)ã€‚</li><li data-pid="_9k3ODt-"><a href="https://github.com/tidwall/buntdb" target="_blank">buntdb</a> - ç”¨äº Go çš„å¿«é€Ÿã€å¯åµŒå…¥ã€å†…å­˜ä¸­é”®/å€¼æ•°æ®åº“ï¼Œå…·æœ‰è‡ªå®šä¹‰ç´¢å¼•å’Œç©ºé—´æ”¯æŒã€‚</li><li data-pid="1FDGd1Fc"><a href="https://github.com/ostafen/clover" target="_blank">ä¸‰å¶è‰</a>- ç”¨çº¯ Golang ç¼–å†™çš„è½»é‡çº§é¢å‘æ–‡æ¡£çš„ NoSQL æ•°æ®åº“ã€‚</li><li data-pid="1TUnUd7H"><a href="https://github.com/cockroachdb/cockroach" target="_blank">cockroach</a> - å¯æ‰©å±•ã€åœ°ç†å¤åˆ¶ã€äº‹åŠ¡æ€§æ•°æ®å­˜å‚¨ã€‚</li><li data-pid="kiJyf17N"><a href="https://github.com/claygod/coffer" target="_blank">Coffer</a> - æ”¯æŒäº‹åŠ¡çš„ç®€å• ACID é”®å€¼æ•°æ®åº“ã€‚</li><li data-pid="8Q2SZl7z"><a href="https://github.com/kelindar/column" target="_blank">column</a> - å…·æœ‰ä½å›¾ç´¢å¼•å’Œäº‹åŠ¡çš„é«˜æ€§èƒ½ã€æŸ±çŠ¶ã€å¯åµŒå…¥çš„å†…å­˜å­˜å‚¨ã€‚</li><li data-pid="DoQS1oVs"><a href="https://github.com/CovenantSQL/CovenantSQL" target="_blank">CovenantSQL</a> - CovenantSQL æ˜¯åŒºå—é“¾ä¸Šçš„ SQL æ•°æ®åº“ã€‚</li><li data-pid="lck9jPuj"><a href="https://github.com/paranoidguy/databunker" target="_blank">Databunker</a> - ä¸ºéµå®ˆ GDPR å’Œ CCPA è€Œæ„å»ºçš„ä¸ªäººèº«ä»½ä¿¡æ¯ (PII) å­˜å‚¨æœåŠ¡ã€‚</li><li data-pid="1QXfxL4S"><a href="https://github.com/dgraph-io/dgraph" target="_blank">dgraph</a> - å¯æ‰©å±•ã€åˆ†å¸ƒå¼ã€ä½å»¶è¿Ÿã€é«˜ååé‡å›¾å½¢æ•°æ®åº“ã€‚</li><li data-pid="8VspfbQJ"><a href="https://github.com/peterbourgon/diskv" target="_blank">diskv</a> - æœ¬åœ°ç£ç›˜æ”¯æŒçš„é”®å€¼å­˜å‚¨ã€‚</li><li data-pid="LR3ir_UK"><a href="https://github.com/dolthub/dolt" target="_blank">dolt</a> - Dolt â€“ å®ƒæ˜¯ç”¨äºæ•°æ®çš„ Git.</li><li data-pid="y8qNdi0n"><a href="https://github.com/dtm-labs/dtf" target="_blank">dtf</a> - åˆ†å¸ƒå¼äº‹åŠ¡ç®¡ç†å™¨ã€‚æ”¯æŒ XAã€TCCã€SAGAã€å¯é æ¶ˆæ¯ã€‚</li><li data-pid="_KqtHSpJ"><a href="https://github.com/krotik/eliasdb" target="_blank">eliasdb</a> - å…·æœ‰ REST APIã€çŸ­è¯­æœç´¢å’Œç±»ä¼¼ SQL æŸ¥è¯¢è¯­è¨€çš„æ— ä¾èµ–æ€§äº‹åŠ¡å›¾å½¢æ•°æ®åº“ã€‚</li><li data-pid="lvWtJWFr"><a href="https://github.com/hdt3213/godis" target="_blank">godis</a> - Golang å®ç°çš„é«˜æ€§èƒ½ Redis æœåŠ¡å™¨å’Œé›†ç¾¤ã€‚</li><li data-pid="WZDlrz_q"><a href="https://github.com/syndtr/goleveldb" target="_blank">goleveldb</a> - åœ¨ Go ä¸­å®ç°<a href="https://github.com/google/leveldb" target="_blank">LevelDB</a>é”®/å€¼æ•°æ®åº“ã€‚</li><li data-pid="XUNupG3O"><a href="https://github.com/jameycribbs/hare" target="_blank">hare</a> - ä¸€ä¸ªç®€å•çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œå°†æ¯ä¸ªè¡¨å­˜å‚¨ä¸ºä»¥è¡Œåˆ†éš”çš„ JSON æ–‡æœ¬æ–‡ä»¶ã€‚</li><li data-pid="cJ-nFyCg"><a href="https://github.com/codenotary/immudb" target="_blank">immudb</a> - immudb æ˜¯ä¸€ä¸ªè½»é‡çº§ã€é«˜é€Ÿçš„ä¸å¯å˜æ•°æ®åº“ï¼Œé€‚ç”¨äºç”¨ Go ç¼–å†™çš„ç³»ç»Ÿå’Œåº”ç”¨ç¨‹åºã€‚</li><li data-pid="EMVg3a5R"><a href="https://github.com/influxdb/influxdb" target="_blank">influxdb</a> - ç”¨äºæŒ‡æ ‡ã€äº‹ä»¶å’Œå®æ—¶åˆ†æçš„å¯æ‰©å±•æ•°æ®å­˜å‚¨ã€‚</li><li data-pid="jDMKbFr0"><a href="https://github.com/siddontang/ledisdb" target="_blank">ledisdb</a> -Ledisdb æ˜¯ä¸€ç§é«˜æ€§èƒ½ NoSQLï¼Œç±»ä¼¼äºåŸºäº LevelDB çš„ Redisã€‚</li><li data-pid="U0bTnzfI"><a href="https://github.com/jmhodges/levigo" target="_blank">levigo</a> -Levigo æ˜¯ LevelDB çš„ Go åŒ…è£…å™¨.</li><li data-pid="U7zlgJTB"><a href="https://github.com/amit-davidson/LibraDB" target="_blank">libradb</a> - LibraDB æ˜¯ä¸€ä¸ªç®€å•çš„æ•°æ®åº“ï¼Œåªæœ‰ä¸åˆ° 1000 è¡Œä»£ç ä¾›å­¦ä¹ ã€‚</li><li data-pid="VpQpQAmM"><a href="https://github.com/flower-corp/lotusdb" target="_blank">lotusdb</a> - ä¸ lsm å’Œ b+tree å…¼å®¹çš„å¿«é€Ÿ k/v æ•°æ®åº“ã€‚</li><li data-pid="QfXS19Hx"><a href="https://github.com/milvus-io/milvus" target="_blank">Milvus</a> - Milvus æ˜¯ä¸€ä¸ªç”¨äºåµŒå…¥ç®¡ç†ã€åˆ†æå’Œæœç´¢çš„çŸ¢é‡æ•°æ®åº“.</li><li data-pid="84bqhfVu"><a href="https://github.com/couchbase/moss" target="_blank">moss</a> -Moss æ˜¯ä¸€ä¸ªç®€å•çš„ LSM é”®å€¼å­˜å‚¨å¼•æ“ï¼Œç”¨ 100% Go ç¼–å†™ã€‚</li><li data-pid="UBvQmUdg"><a href="https://github.com/xujiajun/nutsdb" target="_blank">nutsdb</a> -Nutsdb æ˜¯ä¸€ä¸ªç®€å•ã€å¿«é€Ÿã€å¯åµŒå…¥ã€æŒä¹…çš„é”®/å€¼å­˜å‚¨ï¼Œç”¨çº¯ Go ç¼–å†™ã€‚å®ƒæ”¯æŒå®Œå…¨å¯åºåˆ—åŒ–çš„äº‹åŠ¡å’Œè®¸å¤šæ•°æ®ç»“æ„ï¼Œå¦‚åˆ—è¡¨ã€é›†åˆã€æœ‰åºé›†åˆã€‚</li><li data-pid="9_lG0hAr"><a href="https://github.com/objectbox/objectbox-go" target="_blank">objectbox-go</a> - å¸¦æœ‰ Go API çš„é«˜æ€§èƒ½åµŒå…¥å¼å¯¹è±¡æ•°æ®åº“ (NoSQL)ã€‚</li><li data-pid="dLRpRUhH"><a href="https://github.com/fern4lvarez/piladb" target="_blank">piladb</a> - åŸºäºå †æ ˆæ•°æ®ç»“æ„çš„è½»é‡çº§ RESTful æ•°æ®åº“å¼•æ“ã€‚</li><li data-pid="C549FebZ"><a href="https://github.com/akrylysov/pogreb" target="_blank">pogreb</a> - ç”¨äºè¯»å–ç¹é‡å·¥ä½œè´Ÿè½½çš„åµŒå…¥å¼é”®å€¼å­˜å‚¨ã€‚</li><li data-pid="jO6OTR_J"><a href="https://github.com/prometheus/prometheus" target="_blank">prometheus</a> - ç›‘æ§ç³»ç»Ÿå’Œæ—¶é—´åºåˆ—æ•°æ®åº“ã€‚</li><li data-pid="5KVf-wtG"><a href="https://github.com/recoilme/pudge" target="_blank">pudge</a> - ä½¿ç”¨ Go çš„æ ‡å‡†åº“ç¼–å†™çš„å¿«é€Ÿç®€å•çš„é”®/å€¼å­˜å‚¨ã€‚</li><li data-pid="iie3P1Vm"><a href="https://github.com/roseduan/rosedb" target="_blank">rosedb</a> - åŸºäº LSM+WAL çš„åµŒå…¥å¼ kv æ•°æ®åº“ï¼Œæ”¯æŒ stringã€listã€hashã€setã€zsetã€‚</li><li data-pid="yMeWavZb"><a href="https://github.com/rqlite/rqlite" target="_blank">rqlite</a> - åŸºäº SQLite æ„å»ºçš„è½»é‡çº§åˆ†å¸ƒå¼å…³ç³»æ•°æ®åº“ã€‚</li><li data-pid="CaTRNjl8"><a href="https://github.com/rafaeljesus/tempdb" target="_blank">tempdb</a> - ä¸´æ—¶é¡¹ç›®çš„é”®å€¼å­˜å‚¨ã€‚</li><li data-pid="FoPTxS3Y"><a href="https://github.com/pingcap/tidb" target="_blank">tidb</a> - TiDB æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ SQL æ•°æ®åº“ã€‚çµæ„Ÿæ¥è‡ª Google F1 çš„è®¾è®¡ã€‚</li><li data-pid="KM01hHvM"><a href="https://github.com/HouzuoGuo/tiedot" target="_blank">tiedot</a> - ç”± Golang æä¾›æ”¯æŒçš„ NoSQL æ•°æ®åº“ã€‚</li><li data-pid="wyGgdDOB"><a href="https://github.com/unit-io/unitdb" target="_blank">unitdb</a> - ç”¨äºç‰©è”ç½‘ã€å®æ—¶æ¶ˆæ¯ä¼ é€’åº”ç”¨ç¨‹åºçš„å¿«é€Ÿæ—¶é—´åºåˆ—æ•°æ®åº“ã€‚ä½¿ç”¨ github.com/unit-io/unitd åº”ç”¨ç¨‹åºé€šè¿‡ tcp æˆ– websocket é€šè¿‡ pubsub è®¿é—® unitdbã€‚</li><li data-pid="ey9Apm4G"><a href="https://github.com/chrislusf/vasto" target="_blank">Vasto</a> - åˆ†å¸ƒå¼é«˜æ€§èƒ½é”®å€¼å­˜å‚¨ã€‚åœ¨ç£ç›˜ä¸Šã€‚æœ€ç»ˆä¸€è‡´ã€‚å“ˆã€‚èƒ½å¤Ÿåœ¨ä¸ä¸­æ–­æœåŠ¡çš„æƒ…å†µä¸‹å¢é•¿æˆ–æ”¶ç¼©ã€‚</li><li data-pid="C0EHFWNw"><a href="https://github.com/VictoriaMetrics/VictoriaMetrics" target="_blank">VictoriaMetrics</a> - å¿«é€Ÿã€èµ„æºé«˜æ•ˆä¸”å¯æ‰©å±•çš„å¼€æºæ—¶é—´åºåˆ—æ•°æ®åº“ã€‚å¯ç”¨ä½œ Prometheus çš„é•¿æœŸè¿œç¨‹å­˜å‚¨ã€‚æ”¯æŒ PromQLã€‚</li></ul><h3><b>æ•°æ®åº“æ¶æ„è¿ç§»</b></h3><ul><li data-pid="S0UCSAdk"><a href="https://github.com/ariga/atlas" target="_blank">atlas</a> - æ•°æ®åº“å·¥å…·åŒ…ã€‚æ—¨åœ¨å¸®åŠ©å…¬å¸æ›´å¥½åœ°å¤„ç†æ•°æ®çš„ CLIã€‚</li><li data-pid="Sb3G3QD6"><a href="https://github.com/khezen/avro" target="_blank">avro</a> - å‘ç° SQL æ¨¡å¼å¹¶å°†å®ƒä»¬è½¬æ¢ä¸º AVRO æ¨¡å¼ã€‚å°† SQL è®°å½•æŸ¥è¯¢ä¸º AVRO å­—èŠ‚ã€‚</li><li data-pid="ZXaeHIXQ"><a href="https://github.com/bytebase/bytebase" target="_blank">bytebase</a> - ç”¨äº DevOps å›¢é˜Ÿçš„å®‰å…¨æ•°æ®åº“æ¨¡å¼æ›´æ”¹å’Œç‰ˆæœ¬æ§åˆ¶ã€‚</li><li data-pid="RXXdbptT"><a href="https://github.com/GuiaBolso/darwin" target="_blank">darwin</a> -Go çš„æ•°æ®åº“æ¨¡å¼æ¼”åŒ–åº“ã€‚</li><li data-pid="HB-3tAzS"><a href="https://github.com/amacneil/dbmate" target="_blank">dbmate</a> - è½»é‡çº§ã€æ¡†æ¶ä¸å¯çŸ¥çš„æ•°æ®åº“è¿ç§»å·¥å…·ã€‚</li><li data-pid="SHndVslf"><a href="https://github.com/RichardKnop/go-fixtures" target="_blank">go-fixtures</a> - ç”¨äº Golang å‡ºè‰²çš„å†…ç½®æ•°æ®åº“/sql åº“çš„ Django é£æ ¼å›ºå®šè£…ç½®ã€‚</li><li data-pid="dgQF73wv"><a href="https://github.com/lawzava/go-pg-migrate" target="_blank">go-pg-migrate</a> - ç”¨äº go-pg è¿ç§»ç®¡ç†çš„ CLI å‹å¥½åŒ…ã€‚</li><li data-pid="zb13NmGw"><a href="https://github.com/robinjoseph08/go-pg-migrations" target="_blank">go-pg-migrations</a> - ä¸€ä¸ª Go åŒ…ï¼Œç”¨äºå¸®åŠ©ä½¿ç”¨ go-pg/pg ç¼–å†™è¿ç§»ã€‚</li><li data-pid="dh1SkcI9"><a href="https://github.com/linkedin/goavro" target="_blank">goavro</a> - ä¸€ä¸ªå¯¹ Avro æ•°æ®è¿›è¡Œç¼–ç å’Œè§£ç çš„ Go åŒ…ã€‚</li><li data-pid="fBA8E2P1"><a href="https://github.com/rafaelespinoza/godfish" target="_blank">godfish</a> - æ•°æ®åº“è¿ç§»ç®¡ç†å™¨ï¼Œä½¿ç”¨æœ¬æœºæŸ¥è¯¢è¯­è¨€ã€‚æ”¯æŒ cassandraã€mysqlã€postgresã€sqlite3ã€‚</li><li data-pid="3fDvjPx6"><a href="https://github.com/pressly/goose" target="_blank">goose</a> - æ•°æ®åº“è¿ç§»å·¥å…·ã€‚æ‚¨å¯ä»¥é€šè¿‡åˆ›å»ºå¢é‡ SQL æˆ– Go è„šæœ¬æ¥ç®¡ç†æ•°æ®åº“çš„æ¼”å˜ã€‚</li><li data-pid="bnXEMXZC"><a href="https://github.com/Kachit/gorm-seeder" target="_blank">gorm-seeder</a> -Gorm ORM çš„ç®€å•æ•°æ®åº“æ’­ç§æœºã€‚</li><li data-pid="Cx2FLoZ8"><a href="https://github.com/go-gormigrate/gormigrate" target="_blank">gormigrate</a> -Gorm ORM çš„æ•°æ®åº“æ¨¡å¼è¿ç§»åŠ©æ‰‹ã€‚</li><li data-pid="I8mDXnaz"><a href="https://github.com/muir/libschema" target="_blank">libschema</a> - åœ¨æ¯ä¸ªåº“ä¸­åˆ†åˆ«å®šä¹‰æ‚¨çš„è¿ç§»ã€‚å¼€æºåº“çš„è¿ç§»ã€‚MySQL å’Œ PostgreSQLã€‚</li><li data-pid="w_rOKBqf"><a href="https://github.com/golang-migrate/migrate" target="_blank">è¿ç§»</a>- æ•°æ®åº“è¿ç§»ã€‚CLI å’Œ Golang åº“ã€‚</li><li data-pid="EXBhv9_k"><a href="https://github.com/lopezator/migrator" target="_blank">migrator</a> - éå¸¸ç®€å•çš„ Go æ•°æ®åº“è¿ç§»åº“ã€‚</li><li data-pid="L2J3Fj2g"><a href="https://github.com/larapulse/migrator" target="_blank">migrator</a> - MySQL æ•°æ®åº“è¿ç§»å™¨ï¼Œæ—¨åœ¨è¿è¡Œè¿ç§»åˆ°æ‚¨çš„åŠŸèƒ½å¹¶ä½¿ç”¨ç›´è§‚çš„ go ä»£ç ç®¡ç†æ•°æ®åº“æ¨¡å¼æ›´æ–°ã€‚</li><li data-pid="YQWr6WW2"><a href="https://github.com/adlio/schema" target="_blank">schema</a> - ç”¨äºåœ¨ Go äºŒè¿›åˆ¶æ–‡ä»¶ä¸­åµŒå…¥æ•°æ®åº“/sql å…¼å®¹æ•°æ®åº“çš„æ¨¡å¼è¿ç§»çš„åº“ã€‚</li><li data-pid="GkFATwGi"><a href="https://github.com/skeema/skeema" target="_blank">skeema</a> - ç”¨äº MySQL çš„çº¯ SQL æ¨¡å¼ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒåˆ†ç‰‡å’Œå¤–éƒ¨åœ¨çº¿æ¨¡å¼æ›´æ”¹å·¥å…·ã€‚</li><li data-pid="cUMz6GPg"><a href="https://github.com/gobuffalo/pop/tree/master/soda" target="_blank">soda</a> - ç”¨äº MySQLã€PostgreSQL å’Œ SQLite çš„æ•°æ®åº“è¿ç§»ã€åˆ›å»ºã€ORM ç­‰ã€‚</li><li data-pid="Sc9WcM47"><a href="https://github.com/rubenv/sql-migrate" target="_blank">sql-migrate</a> - æ•°æ®åº“è¿ç§»å·¥å…·ã€‚å…è®¸ä½¿ç”¨ go-bindata å°†è¿ç§»åµŒå…¥åˆ°åº”ç”¨ç¨‹åºä¸­ã€‚</li><li data-pid="RNE1GOpn"><a href="https://github.com/sunary/sqlize" target="_blank">sqlize</a> - æ•°æ®åº“è¿ç§»ç”Ÿæˆå™¨ã€‚å…è®¸é€šè¿‡åŒºåˆ†æ¨¡å‹å’Œç°æœ‰ sql æ¥ç”Ÿæˆ sql è¿ç§»ã€‚</li></ul><h3><b>æ•°æ®åº“å·¥å…·</b></h3><ul><li data-pid="k5Me6B-7"><a href="https://github.com/Vertamedia/chproxy" target="_blank">chproxy</a> - ClickHouse æ•°æ®åº“çš„ HTTP ä»£ç†ã€‚</li><li data-pid="VwW1MXlR"><a href="https://github.com/nikepan/clickhouse-bulk" target="_blank">clickhouse-bulk</a> - æ”¶é›†å°æ’å…¥å¹¶å°†å¤§è¯·æ±‚å‘é€åˆ° ClickHouse æœåŠ¡å™¨ã€‚</li><li data-pid="3nDCG7fa"><a href="https://github.com/codingconcepts/datagen" target="_blank">datagen</a> - ä¸€ç§å¿«é€Ÿæ•°æ®ç”Ÿæˆå™¨ï¼Œæ”¯æŒå¤šè¡¨å¹¶æ”¯æŒå¤šè¡Œ DMLã€‚</li><li data-pid="bd8aWChv"><a href="https://github.com/sj14/dbbench" target="_blank">dbbench</a> - æ”¯æŒå¤šä¸ªæ•°æ®åº“å’Œè„šæœ¬çš„æ•°æ®åº“åŸºå‡†æµ‹è¯•å·¥å…·ã€‚</li><li data-pid="LPbnkNX8"><a href="https://github.com/twharmon/dynago" target="_blank">dynago</a> - ç®€åŒ–ä½¿ç”¨ AWS DynamoDB çš„å·¥ä½œã€‚</li><li data-pid="VIsxJypV"><a href="https://github.com/siddontang/go-mysql" target="_blank">go-mysql</a> - ç”¨äºå¤„ç† MySQL åè®®å’Œå¤åˆ¶çš„ Go å·¥å…·é›†ã€‚</li><li data-pid="uZFXENQV"><a href="https://github.com/siddontang/go-mysql-elasticsearch" target="_blank">go-mysql-elasticsearch</a> - è‡ªåŠ¨å°†æ‚¨çš„ MySQL æ•°æ®åŒæ­¥åˆ° Elasticsearchã€‚</li><li data-pid="0uHWn9s4"><a href="https://golang.yandex/hasql" target="_blank">hasql</a> - ç”¨äºè®¿é—®å¤šä¸»æœº SQL æ•°æ®åº“å®‰è£…çš„åº“ã€‚</li><li data-pid="OmmqmKd0"><a href="https://github.com/flike/kingshard" target="_blank">kingshard</a> -kingshard æ˜¯ç”± Golang æä¾›æ”¯æŒçš„ MySQL çš„é«˜æ€§èƒ½ä»£ç†ã€‚</li><li data-pid="OTgRp4Ar"><a href="https://github.com/knocknote/octillery" target="_blank">octillery</a> - ç”¨äºåˆ†ç‰‡æ•°æ®åº“çš„ Go åŒ…ï¼ˆæ”¯æŒæ¯ä¸ª ORM æˆ–åŸå§‹ SQLï¼‰ã€‚</li><li data-pid="-3Vdnsp7"><a href="https://github.com/liweiyi88/onedump" target="_blank">onedump</a> - ä½¿ç”¨ä¸€ä¸ªå‘½ä»¤å’Œé…ç½®å°†æ•°æ®åº“ä»ä¸åŒçš„é©±åŠ¨ç¨‹åºå¤‡ä»½åˆ°ä¸åŒçš„ç›®çš„åœ°ã€‚</li><li data-pid="L3XO_wT1"><a href="https://github.com/github/orchestrator" target="_blank">orchestrator</a> -MySQL å¤åˆ¶æ‹“æ‰‘ç®¡ç†å™¨å’Œå¯è§†åŒ–å™¨ã€‚</li><li data-pid="4fhqZKfr"><a href="https://github.com/cybertec-postgresql/pg_timetable" target="_blank">pg_timetable</a> - PostgreSQL çš„é«˜çº§è°ƒåº¦ã€‚</li><li data-pid="5dz1NAqi"><a href="https://github.com/sosedoff/pgweb" target="_blank">pgweb</a> - åŸºäº Web çš„ PostgreSQL æ•°æ®åº“æµè§ˆå™¨ã€‚</li><li data-pid="8I1r_8Iv"><a href="https://github.com/hexdigest/prep" target="_blank">prep</a> - åœ¨ä¸æ›´æ”¹ä»£ç çš„æƒ…å†µä¸‹ä½¿ç”¨å‡†å¤‡å¥½çš„ SQL è¯­å¥ã€‚</li><li data-pid="_6oNKhAy"><a href="https://github.com/prest/prest" target="_blank">perst</a> - ç®€åŒ–å’ŒåŠ é€Ÿå¼€å‘ï¼Œâš¡åœ¨ä»»ä½•ç°æœ‰æˆ–æ–°çš„ Postgres åº”ç”¨ç¨‹åºä¸Šå³æ—¶ã€å®æ—¶ã€é«˜æ€§èƒ½ã€‚</li><li data-pid="kZRT_ZuB"><a href="https://github.com/HDT3213/rdb" target="_blank">rdb</a> - ç”¨äºäºŒæ¬¡å¼€å‘å’Œå†…å­˜åˆ†æçš„ Redis RDB æ–‡ä»¶è§£æå™¨ã€‚</li><li data-pid="r72_06-D"><a href="https://github.com/andizzle/rwdb" target="_blank">rwdb</a> - rwdb ä¸ºå¤šä¸ªæ•°æ®åº“æœåŠ¡å™¨è®¾ç½®æä¾›åªè¯»å‰¯æœ¬åŠŸèƒ½ã€‚</li><li data-pid="qYReeHpU"><a href="https://github.com/youtube/vitess" target="_blank">vitess</a> - vitess æä¾›æœåŠ¡å™¨å’Œå·¥å…·ï¼Œæœ‰åŠ©äºä¸ºå¤§è§„æ¨¡ Web æœåŠ¡æ‰©å±• MySQL æ•°æ®åº“ã€‚</li></ul><h3><b>SQL æŸ¥è¯¢ç”Ÿæˆå™¨</b></h3><p data-pid="cTsqap4p"><i>ç”¨äºæ„å»ºå’Œä½¿ç”¨ SQL çš„åº“ã€‚</i></p><ul><li data-pid="bPBbwlqL"><a href="https://github.com/nullism/bqb" target="_blank">bqb</a> - è½»é‡çº§ä¸”æ˜“äºå­¦ä¹ çš„æŸ¥è¯¢æ„å»ºå™¨ã€‚</li><li data-pid="-vDW8RP_"><a href="https://github.com/arthurkushman/buildsqlx" target="_blank">buildsqlx</a> - ç”¨äº PostgreSQL çš„ Go æ•°æ®åº“æŸ¥è¯¢æ„å»ºå™¨åº“ã€‚</li><li data-pid="bwa7S4YG"><a href="https://github.com/cristalhq/builq" target="_blank">builq</a> - åœ¨ Go ä¸­è½»æ¾æ„å»º SQL æŸ¥è¯¢ã€‚</li><li data-pid="kD9prBXl"><a href="https://github.com/rocketlaunchr/dbq" target="_blank">dbq</a> - Go çš„é›¶æ ·æ¿æ•°æ®åº“æ“ä½œã€‚</li><li data-pid="W2ZJe8z4"><a href="https://github.com/gchaincl/dotsql" target="_blank">Dotsql</a> - å¸®åŠ©æ‚¨å°† sql æ–‡ä»¶ä¿å­˜åœ¨ä¸€ä¸ªåœ°æ–¹å¹¶è½»æ¾ä½¿ç”¨å®ƒä»¬çš„ Go åº“ã€‚</li><li data-pid="T4EWxNxz"><a href="https://github.com/didi/gendry" target="_blank">gendry</a> - éä¾µå…¥å¼ SQL æ„å»ºå™¨å’Œå¼ºå¤§çš„æ•°æ®ç»‘å®šå™¨ã€‚</li><li data-pid="ndzQ8GU_"><a href="https://github.com/xujiajun/godbal" target="_blank">godbal</a> - ç”¨äº go çš„æ•°æ®åº“æŠ½è±¡å±‚ (dbal)ã€‚æ”¯æŒ SQL ç”Ÿæˆå™¨å¹¶è½»æ¾è·å¾—ç»“æœã€‚</li><li data-pid="0XC7QUrU"><a href="https://github.com/doug-martin/goqu" target="_blank">goqu</a> - æƒ¯ç”¨çš„ SQL æ„å»ºå™¨å’ŒæŸ¥è¯¢åº“ã€‚</li><li data-pid="GUUX1IHd"><a href="https://github.com/twharmon/gosql" target="_blank">gosql</a> - å…·æœ‰æ›´å¥½çš„ç©ºå€¼æ”¯æŒçš„ SQL æŸ¥è¯¢æ„å»ºå™¨ã€‚</li><li data-pid="JNnSKpzO"><a href="https://github.com/galeone/igor" target="_blank">igor</a> - PostgreSQL çš„æŠ½è±¡å±‚ï¼Œæ”¯æŒé«˜çº§åŠŸèƒ½å¹¶ä½¿ç”¨ç±»ä¼¼ gorm çš„è¯­æ³•ã€‚</li><li data-pid="JvBXMpYc"><a href="https://github.com/go-jet/jet" target="_blank">jet</a> - åœ¨ Go ä¸­ç¼–å†™ç±»å‹å®‰å…¨çš„ SQL æŸ¥è¯¢çš„æ¡†æ¶ï¼Œèƒ½å¤Ÿè½»æ¾åœ°å°†æ•°æ®åº“æŸ¥è¯¢ç»“æœè½¬æ¢ä¸ºæ‰€éœ€çš„ä»»æ„å¯¹è±¡ç»“æ„ã€‚</li><li data-pid="SsgS22JQ"><a href="https://github.com/pupizoid/ormlite" target="_blank">ormlite</a> - è½»é‡çº§åŒ…ï¼ŒåŒ…å«ä¸€äº›ç±»ä¼¼ ORM çš„åŠŸèƒ½å’Œ sqlite æ•°æ®åº“çš„å¸®åŠ©ç¨‹åºã€‚</li><li data-pid="-AvViR1c"><a href="https://github.com/go-ozzo/ozzo-dbx" target="_blank">ozzo-dbx</a> - å¼ºå¤§çš„æ•°æ®æ£€ç´¢æ–¹æ³•ä»¥åŠä¸æ•°æ®åº“æ— å…³çš„æŸ¥è¯¢æ„å»ºåŠŸèƒ½ã€‚</li><li data-pid="DbdrcOxl"><a href="https://github.com/HnH/qry" target="_blank">qry</a> - ä½¿ç”¨åŸå§‹ SQL æŸ¥è¯¢ä»æ–‡ä»¶ç”Ÿæˆå¸¸é‡çš„å·¥å…·ã€‚</li><li data-pid="w3-HgZL1"><a href="https://github.com/go-the-way/sg" target="_blank">sg</a> - ç”¨äºç”Ÿæˆç”¨ Go ç¼–å†™çš„æ ‡å‡† SQLï¼ˆæ”¯æŒï¼šCRUDï¼‰çš„ SQL Genã€‚</li><li data-pid="7DSgNltB"><a href="https://github.com/bokwoon95/go-structured-query" target="_blank">sq</a> -Go çš„ç±»å‹å®‰å…¨ SQL æ„å»ºå™¨å’Œç»“æ„æ˜ å°„å™¨ã€‚</li><li data-pid="vNCNX2Yi"><a href="https://github.com/kyleconroy/sqlc" target="_blank">sqlc</a> - ä» SQL ç”Ÿæˆç±»å‹å®‰å…¨çš„ä»£ç ã€‚</li><li data-pid="FfLbfnQ-"><a href="https://github.com/leporo/sqlf" target="_blank">sqlf</a> - å¿«é€Ÿ SQL æŸ¥è¯¢ç”Ÿæˆå™¨ã€‚</li><li data-pid="-dO0EzyW"><a href="https://github.com/lqs/sqlingo" target="_blank">sqlingo</a> - ç”¨äºåœ¨ Go ä¸­æ„å»º SQL çš„è½»é‡çº§ DSLã€‚</li><li data-pid="nY7nqnXG"><a href="https://github.com/elgris/sqrl" target="_blank">sqrl</a> - SQL æŸ¥è¯¢ç”Ÿæˆå™¨ï¼Œå…·æœ‰æ”¹è¿›æ€§èƒ½çš„ Squirrel çš„åˆ†æ”¯ã€‚</li><li data-pid="E3nSAbk2"><a href="https://gitlab.com/qosenergy/squalus" target="_blank">Squalus</a> - Go SQL åŒ…ä¸Šçš„è–„å±‚ï¼Œå¯ä»¥æ›´è½»æ¾åœ°æ‰§è¡ŒæŸ¥è¯¢ã€‚</li><li data-pid="WW9Q3C04"><a href="https://github.com/Masterminds/squirrel" target="_blank">Squirrel</a> - å¸®åŠ©æ‚¨æ„å»º SQL æŸ¥è¯¢çš„ Go åº“ã€‚</li><li data-pid="BgRCWFBz"><a href="https://github.com/knq/xo" target="_blank">xo</a> - æ ¹æ®ç°æœ‰æ¨¡å¼å®šä¹‰æˆ–æ”¯æŒ PostgreSQLã€MySQLã€SQLiteã€Oracle å’Œ Microsoft SQL Server çš„è‡ªå®šä¹‰æŸ¥è¯¢ä¸ºæ•°æ®åº“ç”Ÿæˆæƒ¯ç”¨çš„ Go ä»£ç ã€‚</li></ul><p data-pid="SB-pbFxt"><b><a href="https://github.com/avelino/awesome-go/blob/main/README.md#contents" target="_blank">â¬†å›åˆ°é¡¶éƒ¨</a></b></p><h2><b>æ•°æ®åº“é©±åŠ¨ç¨‹åº</b></h2><h3><b>å¤šä¸ªåç«¯çš„æ¥å£</b></h3><ul><li data-pid="YINFi9MB"><a href="https://github.com/google/cayley" target="_blank">cayley</a> - æ”¯æŒå¤šä¸ªåç«¯çš„å›¾å½¢æ•°æ®åº“ã€‚</li><li data-pid="M2jSliZE"><a href="https://github.com/viant/dsc" target="_blank">dsc</a> - SQLã€NoSQLã€ç»“æ„åŒ–æ–‡ä»¶çš„æ•°æ®å­˜å‚¨è¿æ¥ã€‚</li><li data-pid="w5_3XZHH"><a href="https://github.com/avito-tech/go-transaction-manager" target="_blank">go-transaction-manager</a> - å…·æœ‰å¤šä¸ªé€‚é…å™¨ï¼ˆsqlã€sqlxã€gormã€mongo ç­‰ï¼‰çš„äº‹åŠ¡ç®¡ç†å™¨æ§åˆ¶äº‹åŠ¡è¾¹ç•Œã€‚</li><li data-pid="7WqESkGk"><a href="https://github.com/philippgille/gokv" target="_blank">gokv</a> - Go çš„ç®€å•é”®å€¼å­˜å‚¨æŠ½è±¡å’Œå®ç°ï¼ˆRedisã€Consulã€etcdã€bboltã€BadgerDBã€LevelDBã€Memcachedã€DynamoDBã€S3ã€PostgreSQLã€MongoDBã€CockroachDB ç­‰ç­‰ï¼‰ã€‚</li></ul><h3><b>å…³ç³»æ•°æ®åº“é©±åŠ¨ç¨‹åº</b></h3><ul><li data-pid="n8DlK6Qt"><a href="https://github.com/apache/calcite-avatica-go" target="_blank">avatica</a> - ç”¨äºæ•°æ®åº“/sql çš„ Apache Avatica/Phoenix SQL é©±åŠ¨ç¨‹åºã€‚</li><li data-pid="1BfTbPG-"><a href="https://github.com/viant/bgc" target="_blank">bgc</a> - ç”¨äº BigQuery çš„æ•°æ®å­˜å‚¨åŒºè¿æ¥ã€‚</li><li data-pid="Gib7WkKl"><a href="https://github.com/nakagami/firebirdsql" target="_blank">firebirdsql</a> - ç”¨äº Go çš„ Firebird RDBMS SQL é©±åŠ¨ç¨‹åºã€‚</li><li data-pid="rmV27T2G"><a href="https://github.com/mattn/go-adodb" target="_blank">go-adodb</a> - ç”¨äºä½¿ç”¨æ•°æ®åº“/sql çš„ go çš„ Microsoft ActiveX å¯¹è±¡æ•°æ®åº“é©±åŠ¨ç¨‹åºã€‚</li><li data-pid="ODIyIARH"><a href="https://github.com/denisenkom/go-mssqldb" target="_blank">go-mssqldb</a> - ç”¨äº Go çš„ Microsoft MSSQL é©±åŠ¨ç¨‹åºã€‚</li><li data-pid="xqS-uv56"><a href="https://github.com/mattn/go-oci8" target="_blank">go-oci8</a> - ä½¿ç”¨æ•°æ®åº“/sql çš„ go Oracle é©±åŠ¨ç¨‹åºã€‚</li><li data-pid="oQe2Nv5s"><a href="https://github.com/go-sql-driver/mysql" target="_blank">go-sql-driver/mysql</a> - Go çš„ MySQL é©±åŠ¨ç¨‹åºã€‚</li><li data-pid="vOmemWoB"><a href="https://github.com/mattn/go-sqlite3" target="_blank">go-sqlite3</a> - ä½¿ç”¨æ•°æ®åº“/sql çš„ SQLite3 é©±åŠ¨ç¨‹åºã€‚</li><li data-pid="fcksvZA8"><a href="https://github.com/godror/godror" target="_blank">godror</a> -Go çš„ Oracle é©±åŠ¨ç¨‹åºï¼Œä½¿ç”¨ ODPI-C é©±åŠ¨ç¨‹åºã€‚</li><li data-pid="YuxA6vwX"><a href="https://github.com/minus5/gofreetds" target="_blank">gofreetds</a> - å¾®è½¯ MSSQL é©±åŠ¨ç¨‹åºã€‚<a href="https://www.freetds.org/" target="_blank">å¯¹FreeTDS</a>è¿›è¡ŒåŒ…è£…ã€‚</li><li data-pid="2IWUOZA2"><a href="https://github.com/VinGarcia/ksql" target="_blank">KSQL</a> - ä¸€ä¸ªç®€å•è€Œå¼ºå¤§çš„ Golang SQL åº“</li><li data-pid="g8Hrzmv3"><a href="https://github.com/jackc/pgx" target="_blank">pgx</a> - PostgreSQL é©±åŠ¨ç¨‹åºæ”¯æŒçš„åŠŸèƒ½è¶…å‡ºäº†æ•°æ®åº“/sql å…¬å¼€çš„åŠŸèƒ½ã€‚</li><li data-pid="NNbQucJp"><a href="https://github.com/alexeyco/pig" target="_blank">pig</a> - ç®€å•çš„<a href="https://github.com/jackc/pgx" target="_blank">pgx</a>åŒ…è£…å™¨ï¼Œå¯ä»¥è½»æ¾æ‰§è¡Œå’Œ<a href="https://github.com/georgysavva/scany" target="_blank">æ‰«æ</a>æŸ¥è¯¢ç»“æœã€‚</li><li data-pid="cnwZtacW"><a href="https://github.com/lib/pq" target="_blank">pq</a> - ç”¨äºæ•°æ®åº“/sql çš„çº¯ Go Postgres é©±åŠ¨ç¨‹åºã€‚</li><li data-pid="LeQ3OtSv"><a href="https://github.com/cvilsmeier/sqinn-go" target="_blank">Sqinn-Go</a> - å¸¦æœ‰çº¯ Go çš„ SQLite.</li><li data-pid="TEdqHIN1"><a href="https://github.com/qustavo/sqlhooks" target="_blank">sqlhooks</a> - å°†æŒ‚é’©é™„åŠ åˆ°ä»»ä½•æ•°æ®åº“/sql é©±åŠ¨ç¨‹åºã€‚</li><li data-pid="5nw5v8t5"><a href="https://github.com/ydb-platform/ydb-go-sdk" target="_blank">ydb-go-sdk</a> - æœ¬æœºå’Œæ•°æ®åº“/sql é©±åŠ¨ç¨‹åº YDBï¼ˆYandex æ•°æ®åº“ï¼‰</li></ul><h3><b>NoSQL æ•°æ®åº“é©±åŠ¨ç¨‹åº</b></h3><ul><li data-pid="dai2tE2h"><a href="https://github.com/aerospike/aerospike-client-go" target="_blank">aerospike-client-go</a> -Go è¯­è¨€çš„ Aerospike å®¢æˆ·ç«¯ã€‚</li><li data-pid="A0466L_I"><a href="https://github.com/solher/arangolite" target="_blank">arangolite</a> - ç”¨äº ArangoDB çš„è½»é‡çº§ golang é©±åŠ¨ç¨‹åºã€‚</li><li data-pid="ZY4F8Fj0"><a href="https://github.com/viant/asc" target="_blank">asc</a> - ç”¨äº Aerospike for go çš„æ•°æ®å­˜å‚¨è¿æ¥.</li><li data-pid="dB1mRiTy"><a href="https://github.com/couchbase/goforestdb" target="_blank">forestdb</a> - ForestDB çš„ Go ç»‘å®šã€‚</li><li data-pid="0VUthjn4"><a href="https://github.com/couchbase/go-couchbase" target="_blank">go-couchbase</a> -Go ä¸­çš„ Couchbase å®¢æˆ·ç«¯ã€‚</li><li data-pid="p--Dkb-c"><a href="https://github.com/pilosa/go-pilosa" target="_blank">go-pilosa</a> - Pilosa çš„ Go å®¢æˆ·ç«¯åº“ã€‚</li><li data-pid="PzhLvUx9"><a href="https://github.com/nitishm/go-rejson" target="_blank">go-rejson</a> - ä½¿ç”¨ Redigo golang å®¢æˆ·ç«¯çš„ redislabs ReJSON æ¨¡å—çš„ Golang å®¢æˆ·ç«¯ã€‚åœ¨ Redis ä¸­å°†ç»“æ„ä½œä¸º JSON å¯¹è±¡è½»æ¾å­˜å‚¨å’Œæ“ä½œã€‚</li><li data-pid="KXAlzZIt"><a href="https://github.com/couchbase/gocb" target="_blank">gocb</a> - å®˜æ–¹ Couchbase Go SDK.</li><li data-pid="YZiVEhDH"><a href="https://github.com/btnguyen2k/gocosmos" target="_blank">gocosmos</a><code>database/sql</code> - Azure Cosmos DB çš„REST å®¢æˆ·ç«¯å’Œæ ‡å‡†é©±åŠ¨ç¨‹åºã€‚</li><li data-pid="p5HP4yY7"><a href="https://gocql.github.io/" target="_blank">gocql</a> -Apache Cassandra çš„ Go è¯­è¨€é©±åŠ¨ç¨‹åºã€‚</li><li data-pid="WiNZDdpN"><a href="https://github.com/piaohao/godis" target="_blank">godis</a> - å—ç»åœ°æ­¦å£«å¯å‘ï¼Œç”± golang å®ç°çš„ redis å®¢æˆ·ç«¯ã€‚</li><li data-pid="YCqkq0Kw"><a href="https://github.com/defcronyke/godscache" target="_blank">godscache</a> - Google Cloud Platform Go Datastore åŒ…çš„åŒ…è£…å™¨ï¼Œä½¿ç”¨ memcached æ·»åŠ ç¼“å­˜ã€‚</li><li data-pid="w9sj07aF"><a href="https://github.com/bradfitz/gomemcache/" target="_blank">gomemcache</a> - Go ç¼–ç¨‹è¯­è¨€çš„å†…å­˜ç¼“å­˜å®¢æˆ·ç«¯åº“ã€‚</li><li data-pid="IbNNQqCl"><a href="https://github.com/dancannon/gorethink" target="_blank">gorethink</a> -RethinkDB çš„ Go è¯­è¨€é©±åŠ¨ç¨‹åºã€‚</li><li data-pid="oz9e9In2"><a href="https://github.com/zegl/goriak" target="_blank">goriak</a> -Riak KV çš„ Go è¯­è¨€é©±åŠ¨ç¨‹åºã€‚</li><li data-pid="fLKikI6O"><a href="https://github.com/go-kivik/kivik" target="_blank">Kivik</a> -Kivik ä¸º CouchDBã€PouchDB å’Œç±»ä¼¼æ•°æ®åº“æä¾›äº†ä¸€ä¸ªé€šç”¨çš„ Go å’Œ GopherJS å®¢æˆ·ç«¯åº“ã€‚</li><li data-pid="2rmSXUXP"><a href="https://github.com/kamva/mgm" target="_blank">mgm</a> - ç”¨äº Go çš„åŸºäº MongoDB æ¨¡å‹çš„ ODMï¼ˆåŸºäºå®˜æ–¹ MongoDB é©±åŠ¨ç¨‹åºï¼‰ã€‚</li><li data-pid="RIW1g_3O"><a href="https://github.com/globalsign/mgo" target="_blank">mgo</a> -ï¼ˆæœªç»´æŠ¤ï¼‰ç”¨äº Go è¯­è¨€çš„ MongoDB é©±åŠ¨ç¨‹åºï¼Œå®ƒåœ¨éµå¾ªæ ‡å‡† Go ä¹ è¯­çš„éå¸¸ç®€å•çš„ API ä¸‹å®ç°äº†ä¸°å¯Œä¸”ç»è¿‡è‰¯å¥½æµ‹è¯•çš„åŠŸèƒ½é€‰æ‹©ã€‚</li><li data-pid="-3p6dX8t"><a href="https://github.com/mongodb/mongo-go-driver" target="_blank">mongo-go-driver</a> -Go è¯­è¨€çš„å®˜æ–¹ MongoDB é©±åŠ¨ç¨‹åºã€‚</li><li data-pid="GiVIsHRc"><a href="https://github.com/cihangir/neo4j" target="_blank">neo4j</a> - Golang çš„ Neo4j Rest API ç»‘å®š.</li><li data-pid="Z0B02QKX"><a href="https://github.com/davemeehan/Neo4j-GO" target="_blank">Neo4j-GO</a> -golang ä¸­çš„ Neo4j REST å®¢æˆ·ç«¯.</li><li data-pid="7ZuH2-iy"><a href="https://github.com/jmcvetta/neoism" target="_blank">neoism</a> -Golang çš„ Neo4j å®¢æˆ·ç«¯.</li><li data-pid="oNWwy2Ku"><a href="https://github.com/qiniu/qmgo" target="_blank">qmgo</a> - ç”¨äº Go çš„ MongoDB é©±åŠ¨ç¨‹åºã€‚å®ƒåŸºäºå®˜æ–¹ MongoDB é©±åŠ¨ç¨‹åºï¼Œä½†æ›´æ˜“äºä½¿ç”¨ï¼Œå¦‚ Mgoã€‚</li><li data-pid="YOdPO2N0"><a href="https://github.com/bsm/redeo" target="_blank">redeo</a> -Redis åè®®å…¼å®¹çš„ TCP æœåŠ¡å™¨/æœåŠ¡ã€‚</li><li data-pid="ek8BwVNW"><a href="https://github.com/gomodule/redigo" target="_blank">redigo</a> - Redigo æ˜¯ Redis æ•°æ®åº“çš„ Go å®¢æˆ·ç«¯ã€‚</li><li data-pid="wZ77NQB0"><a href="https://github.com/redis/go-redis" target="_blank">redis</a> -Golang çš„ Redis å®¢æˆ·ç«¯ã€‚</li><li data-pid="_B-7kOQ5"><a href="http://github.com/rueian/rueidis" target="_blank">rueidis</a> - å…·æœ‰è‡ªåŠ¨æµæ°´çº¿å’ŒæœåŠ¡å™¨è¾…åŠ©å®¢æˆ·ç«¯ç¼“å­˜çš„å¿«é€Ÿ Redis RESP3 å®¢æˆ·ç«¯ã€‚</li><li data-pid="3t1ucran"><a href="https://github.com/shomali11/xredis" target="_blank">xredis</a> - ç±»å‹å®‰å…¨ã€å¯å®šåˆ¶ã€å¹²å‡€ä¸”æ˜“äºä½¿ç”¨çš„ Redis å®¢æˆ·ç«¯ã€‚</li></ul><h3><b>æœç´¢å’Œåˆ†ææ•°æ®åº“</b></h3><ul><li data-pid="jHC1FsBR"><a href="https://github.com/olivere/elastic" target="_blank">elastic</a> -Go çš„ Elasticsearch å®¢æˆ·ç«¯ã€‚</li><li data-pid="8xUBitD5"><a href="https://github.com/cch123/elasticsql" target="_blank">elasticsql</a> - åœ¨ Go ä¸­å°† sql è½¬æ¢ä¸º elasticsearch dsl.</li><li data-pid="3rtYsyWZ"><a href="https://github.com/mattbaird/elastigo" target="_blank">elastigo</a> - Elasticsearch å®¢æˆ·ç«¯åº“ã€‚</li><li data-pid="pQfElDOh"><a href="https://github.com/elastic/go-elasticsearch" target="_blank">go-elasticsearch</a> -Go çš„å®˜æ–¹ Elasticsearch å®¢æˆ·ç«¯ã€‚</li><li data-pid="MdRS_cJf"><a href="https://github.com/OwnLocal/goes" target="_blank">goes</a> - ä¸ Elasticsearch äº¤äº’çš„åº“ã€‚</li><li data-pid="VyB-qMGZ"><a href="https://github.com/seiflotfy/skizze" target="_blank">skizze</a> - æ¦‚ç‡æ•°æ®ç»“æ„æœåŠ¡å’Œå­˜å‚¨ã€‚</li></ul><p data-pid="WxppieT8"><b><a href="https://github.com/avelino/awesome-go/blob/main/README.md#contents" target="_blank">â¬†å›åˆ°é¡¶éƒ¨</a></b></p><h2><b>æ—¥æœŸå’Œæ—¶é—´</b></h2><p data-pid="af95Ztk4"><i>ç”¨äºå¤„ç†æ—¥æœŸå’Œæ—¶é—´çš„åº“ã€‚</i></p><ul><li data-pid="ACcv4-X9"><a href="https://github.com/golang-module/carbon" target="_blank">carbon</a> - ç”¨äºæ—¥æœŸæ—¶é—´çš„ç®€å•ã€è¯­ä¹‰åŒ–ä¸”å¯¹å¼€å‘äººå‘˜å‹å¥½çš„ golang åŒ…ã€‚</li><li data-pid="KsuVjJGo"><a href="https://github.com/uniplaces/carbon" target="_blank">carbon</a> - å¸¦æœ‰å¾ˆå¤šå®ç”¨æ–¹æ³•çš„ç®€å•æ—¶é—´æ‰©å±•ï¼Œä» PHP Carbon åº“ç§»æ¤è€Œæ¥ã€‚</li><li data-pid="HlqMsLFS"><a href="https://github.com/1set/cronrange" target="_blank">cronrange</a> - è§£æ Cron é£æ ¼çš„æ—¶é—´èŒƒå›´è¡¨è¾¾å¼ï¼Œæ£€æŸ¥ç»™å®šæ—¶é—´æ˜¯å¦åœ¨ä»»ä½•èŒƒå›´å†…ã€‚</li><li data-pid="qIwmuqcO"><a href="https://github.com/rickb777/date" target="_blank">date</a> - ç”¨äºå¤„ç†æ—¥æœŸã€æ—¥æœŸèŒƒå›´ã€æ—¶é—´è·¨åº¦ã€æœŸé—´å’Œä¸€å¤©ä¸­çš„æ—¶é—´çš„ Augments Timeã€‚</li><li data-pid="3ScenlyN"><a href="https://github.com/araddon/dateparse" target="_blank">dateparse</a> - åœ¨äº‹å…ˆä¸çŸ¥é“æ ¼å¼çš„æƒ…å†µä¸‹è§£ææ—¥æœŸã€‚</li><li data-pid="SX-hni4i"><a href="https://github.com/hako/durafmt" target="_blank">durafmt</a> -Go çš„æŒç»­æ—¶é—´æ ¼å¼åŒ–åº“ã€‚</li><li data-pid="hucJorh7"><a href="https://github.com/wlbr/feiertage" target="_blank">feiertage</a> - ä¸€ç»„ç”¨äºè®¡ç®—å¾·å›½å…¬å…±å‡æœŸçš„å‡½æ•°ï¼ŒåŒ…æ‹¬ã€‚ä¸“é—¨ç ”ç©¶å¾·å›½å„å· (BundeslÃ¤nder)ã€‚åƒå¤æ´»èŠ‚ã€äº”æ—¬èŠ‚ã€æ„Ÿæ©èŠ‚...</li><li data-pid="iEvZmukm"><a href="https://github.com/ijt/go-anytime" target="_blank">go-anytime</a> - åœ¨äº‹å…ˆä¸çŸ¥é“æ ¼å¼çš„æƒ…å†µä¸‹è§£ææ—¥æœŸ/æ—¶é—´ï¼Œå¦‚â€œä¸‹ä¸€ä¸ª 12 æœˆ 22 æ—¥ä¸‹åˆ 3 ç‚¹â€ï¼ŒèŒƒå›´å¦‚â€œä»ä»Šå¤©åˆ°ä¸‹æ˜ŸæœŸå››â€ã€‚</li><li data-pid="6XuxqSax"><a href="https://github.com/yaa110/go-persian-calendar" target="_blank">go-persian-calendar</a> - Go (golang) ä¸­æ³¢æ–¯è¯­ï¼ˆSolar Hijriï¼‰æ—¥å†çš„å®ç°ã€‚</li><li data-pid="DQ2lTRIC"><a href="https://github.com/xhit/go-str2duration" target="_blank">go-str2duration</a> - å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæŒç»­æ—¶é—´ã€‚æ”¯æŒ time.Duration è¿”å›å­—ç¬¦ä¸²ç­‰ã€‚</li><li data-pid="gxiKRjbS"><a href="https://github.com/nathan-osman/go-sunrise" target="_blank">go-sunrise</a> - è®¡ç®—ç»™å®šä½ç½®çš„æ—¥å‡ºå’Œæ—¥è½æ—¶é—´ã€‚</li><li data-pid="s_89gq5R"><a href="https://github.com/stoewer/go-week" target="_blank">go-week</a> - ä½¿ç”¨ ISO8601 å‘¨æ—¥æœŸçš„é«˜æ•ˆè½¯ä»¶åŒ…ã€‚</li><li data-pid="vKkWrZn3"><a href="https://github.com/bykof/gostradamus" target="_blank">gostradamus</a> - ç”¨äºå¤„ç†æ—¥æœŸçš„ Go åŒ…ã€‚</li><li data-pid="WJMO9V6G"><a href="https://github.com/relvacode/iso8601" target="_blank">iso8601</a> - æ— éœ€æ­£åˆ™è¡¨è¾¾å¼å³å¯æœ‰æ•ˆè§£æ ISO8601 æ—¥æœŸæ—¶é—´.</li><li data-pid="Kr0bvpL3"><a href="https://github.com/GuilhermeCaruso/kair" target="_blank">kair</a> - æ—¥æœŸå’Œæ—¶é—´ - Golang æ ¼å¼åŒ–åº“ã€‚</li><li data-pid="cvSjAiRQ"><a href="https://github.com/jinzhu/now" target="_blank">now</a> -Now æ˜¯ golang çš„æ—¶é—´å·¥å…·åŒ…ã€‚</li><li data-pid="XC3wrbQu"><a href="https://github.com/kirillDanshin/nulltime" target="_blank">NullTime</a> - å¯ä¸ºç©º<code>time.Time</code>ã€‚</li><li data-pid="ssj6glNi"><a href="https://github.com/awoodbeck/strftime" target="_blank">strftime</a> - C99 å…¼å®¹çš„ strftime æ ¼å¼åŒ–ç¨‹åºã€‚</li><li data-pid="RijeeeTL"><a href="https://github.com/SaidinWoT/timespan" target="_blank">timespan</a> - ç”¨äºä¸æ—¶é—´é—´éš”äº¤äº’ï¼Œå®šä¹‰ä¸ºå¼€å§‹æ—¶é—´å’ŒæŒç»­æ—¶é—´ã€‚</li><li data-pid="jMIVb7So"><a href="https://github.com/leekchan/timeutil" target="_blank">timeutil</a> - golang æ—¶é—´åŒ…çš„æœ‰ç”¨æ‰©å±•ï¼ˆTimedeltaã€Strftime ç­‰ï¼‰ã€‚</li><li data-pid="7kIDH9Cm"><a href="https://github.com/osteele/tuesday" target="_blank">tuesday</a> -Ruby å…¼å®¹çš„ Strftime å‡½æ•°.</li></ul><p data-pid="e4RZ23n7"><b><a href="https://github.com/avelino/awesome-go/blob/main/README.md#contents" target="_blank">â¬†å›åˆ°é¡¶éƒ¨</a></b></p><h2><b>åˆ†å¸ƒå¼ç³»ç»Ÿ</b></h2><p data-pid="qKqQlyi3"><i>å¸®åŠ©æ„å»ºåˆ†å¸ƒå¼ç³»ç»Ÿçš„åŒ…ã€‚</i></p><ul><li data-pid="lbjrcub1"><a href="https://github.com/lesismal/arpc" target="_blank">arpc</a> - æ›´æœ‰æ•ˆçš„ç½‘ç»œé€šä¿¡ï¼Œæ”¯æŒåŒå‘è°ƒç”¨ã€é€šçŸ¥ã€å¹¿æ’­ã€‚</li><li data-pid="zWhOiGLS"><a href="https://github.com/svcavallar/celeriac.v1" target="_blank">celeriac</a> - ç”¨äºæ·»åŠ å¯¹åœ¨ Go ä¸­äº¤äº’å’Œç›‘æ§ Celery å·¥ä½œäººå‘˜ã€ä»»åŠ¡å’Œäº‹ä»¶çš„æ”¯æŒçš„åº“ã€‚</li><li data-pid="N2UuvMvA"><a href="https://github.com/buraksezer/consistent" target="_blank">consistent</a> - å…·æœ‰æœ‰é™è´Ÿè½½çš„ä¸€è‡´æ•£åˆ—ã€‚</li><li data-pid="nw0I9O-5"><a href="https://github.com/mbrostami/consistenthash" target="_blank">consistenthash</a> - å…·æœ‰å¯é…ç½®å‰¯æœ¬çš„ä¸€è‡´å“ˆå¸Œã€‚</li><li data-pid="mCWppSf7"><a href="https://github.com/anacrolix/dht" target="_blank">dht</a> - BitTorrent Kademlia DHT å®ç°.</li><li data-pid="psfN2QVG"><a href="https://github.com/digota/digota" target="_blank">digota</a> -grpc ç”µå­å•†åŠ¡å¾®æœåŠ¡ã€‚</li><li data-pid="-WgpD4T_"><a href="https://github.com/dotchain/dot/" target="_blank">dot</a> - ä½¿ç”¨æ“ä½œè½¬æ¢/OT çš„åˆ†å¸ƒå¼åŒæ­¥ã€‚</li><li data-pid="7VInwBe6"><a href="https://github.com/edwingeng/doublejump" target="_blank">doublejump</a> - æ”¹è¿›åçš„ Google è·³è·ƒä¸€è‡´æ€§å“ˆå¸Œã€‚</li><li data-pid="BCBRhFW6"><a href="https://github.com/lni/dragonboat" target="_blank">dragonboat</a> - Go ä¸­åŠŸèƒ½å®Œæ•´ä¸”é«˜æ€§èƒ½çš„å¤šç»„ Raft åº“ã€‚</li><li data-pid="lWLqdwb-"><a href="https://github.com/dragonflyoss/Dragonfly2" target="_blank">Dragonfly</a> - åŸºäºp2pæŠ€æœ¯æä¾›é«˜æ•ˆã€ç¨³å®šã€å®‰å…¨çš„æ–‡ä»¶åˆ†å‘å’Œå›¾ç‰‡åŠ é€Ÿï¼Œæˆä¸ºäº‘åŸç”Ÿæ¶æ„çš„æœ€ä½³å®è·µå’Œæ ‡å‡†æ–¹æ¡ˆã€‚</li><li data-pid="TToea1Hz"><a href="https://github.com/dgruber/drmaa" target="_blank">drmaa</a> - åŸºäº DRMAA æ ‡å‡†çš„é›†ç¾¤è°ƒåº¦ç¨‹åºçš„ä½œä¸šæäº¤åº“ã€‚</li><li data-pid="pHH834QC"><a href="https://cirello.io/dynamolock" target="_blank">dynamolock</a> - DynamoDB æ”¯æŒçš„åˆ†å¸ƒå¼é”å®šå®ç°ã€‚</li><li data-pid="sLgUX6wO"><a href="https://github.com/tylfin/dynatomic" target="_blank">dynatomic</a> - å°† DynamoDB ç”¨ä½œåŸå­è®¡æ•°å™¨çš„åº“ã€‚</li><li data-pid="EHao80Lo"><a href="https://github.com/emitter-io/emitter" target="_blank">emitter-io</a> - ä½¿ç”¨ MQTTã€Websockets å’Œ love æ„å»ºçš„é«˜æ€§èƒ½ã€åˆ†å¸ƒå¼ã€å®‰å…¨å’Œä½å»¶è¿Ÿçš„å‘å¸ƒ-è®¢é˜…å¹³å°ã€‚</li><li data-pid="hFmTC3hU"><a href="https://github.com/andy2046/failured" target="_blank">failed</a> - åˆ†å¸ƒå¼ç³»ç»Ÿçš„è‡ªé€‚åº”åº”è®¡æ•…éšœæ£€æµ‹å™¨ã€‚</li><li data-pid="KGedvOJ4"><a href="https://github.com/vectaport/flowgraph" target="_blank">flowgraph</a> - åŸºäºæµçš„ç¼–ç¨‹åŒ…ã€‚</li><li data-pid="2K7R2k05"><a href="https://github.com/chrislusf/gleam" target="_blank">gleam</a> - ç”¨çº¯ Go å’Œ Luajit ç¼–å†™çš„å¿«é€Ÿä¸”å¯æ‰©å±•çš„åˆ†å¸ƒå¼ map/reduce ç³»ç»Ÿï¼Œç»“åˆäº† Go çš„é«˜å¹¶å‘æ€§å’Œ Luajit çš„é«˜æ€§èƒ½ï¼Œç‹¬ç«‹è¿è¡Œæˆ–åˆ†å¸ƒå¼è¿è¡Œã€‚</li><li data-pid="VuUGh2IH"><a href="https://github.com/chrislusf/glow" target="_blank">glow</a> - æ˜“äºä½¿ç”¨çš„å¯æ‰©å±•åˆ†å¸ƒå¼å¤§æ•°æ®å¤„ç†ã€Map-Reduceã€DAG æ‰§è¡Œï¼Œå…¨éƒ¨é‡‡ç”¨çº¯ Go è¯­è¨€ã€‚</li><li data-pid="uNeeaiJw"><a href="https://github.com/gmsec/micro" target="_blank">gmsec</a> - Go åˆ†å¸ƒå¼ç³»ç»Ÿå¼€å‘æ¡†æ¶ã€‚</li><li data-pid="aEj4lQEn"><a href="https://github.com/unionj-cloud/go-doudou" target="_blank">go-doudou</a> - åŸºäºå…«å¦åè®®å’Œ OpenAPI 3.0 è§„èŒƒçš„å»ä¸­å¿ƒåŒ–å¾®æœåŠ¡æ¡†æ¶ã€‚ä¸“æ³¨äºä½ä»£ç å’Œå¿«é€Ÿå¼€å‘çš„å†…ç½® go-doudou cli å¯ä»¥æé«˜æ‚¨çš„å·¥ä½œæ•ˆç‡ã€‚</li><li data-pid="wZcLNIvI"><a href="https://github.com/InVisionApp/go-health" target="_blank">go-health</a> - ç”¨äºåœ¨æ‚¨çš„æœåŠ¡ä¸­å¯ç”¨å¼‚æ­¥ä¾èµ–é¡¹å¥åº·æ£€æŸ¥çš„åº“ã€‚</li><li data-pid="RAmWhcMK"><a href="https://github.com/dgryski/go-jump" target="_blank">go-jump</a> - Google çš„â€œJumpâ€ä¸€è‡´æ€§å“ˆå¸Œå‡½æ•°çš„ç«¯å£ã€‚</li><li data-pid="E0teEYtp"><a href="https://github.com/go-kit/kit" target="_blank">go-kit</a> - æ”¯æŒæœåŠ¡å‘ç°ã€è´Ÿè½½å‡è¡¡ã€å¯æ’æ‹”ä¼ è¾“ã€è¯·æ±‚è·Ÿè¸ªç­‰çš„å¾®æœåŠ¡å·¥å…·åŒ…ã€‚</li><li data-pid="E_SRkVzN"><a href="https://github.com/micro/go-micro" target="_blank">go-micro</a> - åˆ†å¸ƒå¼ç³»ç»Ÿå¼€å‘æ¡†æ¶ã€‚</li><li data-pid="yF3IAZoz"><a href="https://github.com/sanketplus/go-mysql-lock" target="_blank">go-mysql-lock</a> - åŸºäº MySQL çš„åˆ†å¸ƒå¼é”ã€‚</li><li data-pid="haMAdiDc"><a href="https://github.com/pdupub/go-pdu" target="_blank">go-pdu</a> - ä¸€ä¸ªåˆ†æ•£çš„åŸºäºèº«ä»½çš„ç¤¾äº¤ç½‘ç»œã€‚</li><li data-pid="NEDeJKKV"><a href="https://github.com/AppsFlyer/go-sundheit" target="_blank">go-sundheit</a> - ä¸€ä¸ªä¸º golang æœåŠ¡å®šä¹‰å¼‚æ­¥æœåŠ¡å¥åº·æ£€æŸ¥æä¾›æ”¯æŒçš„åº“ã€‚</li><li data-pid="BYPiFXLM"><a href="https://github.com/tal-tech/go-zero" target="_blank">go-zero</a> - ä¸€ä¸ª web å’Œ rpc æ¡†æ¶ã€‚å®ƒçš„è¯ç”Ÿæ˜¯ä¸ºäº†ä»¥å¼¹æ€§è®¾è®¡ç¡®ä¿ç¹å¿™ç«™ç‚¹çš„ç¨³å®šæ€§ã€‚å†…ç½® goctl å¤§å¤§æé«˜äº†å¼€å‘æ•ˆç‡ã€‚</li><li data-pid="Xs9rhCUH"><a href="https://github.com/valyala/gorpc" target="_blank">gorpc</a> - ç”¨äºé«˜è´Ÿè½½çš„ç®€å•ã€å¿«é€Ÿå’Œå¯æ‰©å±•çš„ RPC åº“ã€‚</li><li data-pid="RPjd-XZP"><a href="https://github.com/grpc/grpc-go" target="_blank">grpc-go</a> - gRPC çš„ Go è¯­è¨€å®ç°ã€‚åŸºäº HTTP/2 çš„ RPCã€‚</li><li data-pid="v8kwSDvQ"><a href="https://github.com/hprose/hprose-golang" target="_blank">hprose</a> - éå¸¸æ–°çš„ RPC åº“ï¼Œç°åœ¨æ”¯æŒ 25 ç§ä»¥ä¸Šçš„è¯­è¨€ã€‚</li><li data-pid="UCIhGTue"><a href="https://github.com/osamingo/jsonrpc" target="_blank">jsonrpc</a> - jsonrpc åŒ…æœ‰åŠ©äºå®ç° JSON-RPC 2.0.</li><li data-pid="sRaPyByJ"><a href="https://github.com/ybbus/jsonrpc" target="_blank">jsonrpc</a> -JSON-RPC 2.0 HTTP å®¢æˆ·ç«¯å®ç°ã€‚</li><li data-pid="VzVgyp96"><a href="https://github.com/cloudwego/kitex" target="_blank">Kitex</a> - ä¸€ä¸ªé«˜æ€§èƒ½å’Œå¼ºæ‰©å±•æ€§çš„ Golang RPC æ¡†æ¶ï¼Œå¸®åŠ©å¼€å‘è€…æ„å»ºå¾®æœåŠ¡ã€‚å¦‚æœæ‚¨åœ¨å¼€å‘å¾®æœåŠ¡æ—¶ä¸»è¦å…³æ³¨æ€§èƒ½å’Œå¯æ‰©å±•æ€§ï¼Œé‚£ä¹ˆ Kitex æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚</li><li data-pid="Pw8I_uhJ"><a href="https://github.com/go-kratos/kratos" target="_blank">Kratos</a> - Go ä¸­æ¨¡å—åŒ–è®¾è®¡ä¸”æ˜“äºä½¿ç”¨çš„å¾®æœåŠ¡æ¡†æ¶ã€‚</li><li data-pid="11BWOGEe"><a href="https://github.com/liftbridge-io/liftbridge" target="_blank">liftbridge</a> - ç”¨äº NATS çš„è½»é‡çº§ã€å®¹é”™æ¶ˆæ¯æµã€‚</li><li data-pid="dr3Lyc0X"><a href="https://github.com/luraproject/lura" target="_blank">lura</a> - å¸¦æœ‰ä¸­é—´ä»¶çš„è¶…é«˜æ€§èƒ½ API ç½‘å…³æ¡†æ¶ã€‚</li><li data-pid="Vj-j63w6"><a href="https://github.com/micro/micro" target="_blank">micro</a> - ç”¨äºäº‘åŠå…¶ä»–é¢†åŸŸçš„åˆ†å¸ƒå¼ç³»ç»Ÿè¿è¡Œæ—¶ã€‚</li><li data-pid="C3sT9eWl"><a href="https://github.com/nats-io/gnatsd" target="_blank">NATS</a> - ç”¨äºå¾®æœåŠ¡ã€ç‰©è”ç½‘å’Œäº‘åŸç”Ÿç³»ç»Ÿçš„è½»é‡çº§ã€é«˜æ€§èƒ½æ¶ˆæ¯ä¼ é€’ç³»ç»Ÿã€‚</li><li data-pid="RuNBl-ww"><a href="https://github.com/italolelis/outboxer" target="_blank">outboxer</a> - Outboxer æ˜¯ä¸€ä¸ªå®ç°å‘ä»¶ç®±æ¨¡å¼çš„ go åº“ã€‚</li><li data-pid="CWsOgzR4"><a href="https://cirello.io/pglock" target="_blank">pglock</a> - PostgreSQL æ”¯æŒçš„åˆ†å¸ƒå¼é”å®šå®ç°ã€‚</li><li data-pid="0JQaVbNd"><a href="https://gitlab.com/pjrpc/pjrpc" target="_blank">pjrpc</a> - å…·æœ‰ Protobuf è§„èŒƒçš„ Golang JSON-RPC æœåŠ¡å™¨å®¢æˆ·ç«¯ã€‚</li><li data-pid="6d4HZ1Dz"><a href="https://github.com/hashicorp/raft" target="_blank">raft</a> - Raft å…±è¯†åè®®çš„ Golang å®ç°ï¼Œç”± HashiCorp æä¾›ã€‚</li><li data-pid="28FwQrpM"><a href="https://github.com/etcd-io/raft" target="_blank">raft</a> - ç”± CoreOS æ‰§è¡Œ Raft å…±è¯†åè®®ã€‚</li><li data-pid="M0Wsinsd"><a href="https://github.com/cenkalti/rain" target="_blank">rain</a> - BitTorrent å®¢æˆ·ç«¯å’Œåº“ã€‚</li><li data-pid="vwu9Mv0S"><a href="https://github.com/bsm/redislock" target="_blank">redis-lock</a> - ä½¿ç”¨ Redis çš„ç®€åŒ–åˆ†å¸ƒå¼é”å®šå®ç°ã€‚</li><li data-pid="7k7u9TPu"><a href="https://resgate.io/" target="_blank">resgate</a> - ç”¨äºæ„å»º RESTã€å®æ—¶å’Œ RPC API çš„å®æ—¶ API ç½‘å…³ï¼Œæ‰€æœ‰å®¢æˆ·ç«¯éƒ½åœ¨å…¶ä¸­æ— ç¼åŒæ­¥ã€‚</li><li data-pid="N-IjDc-U"><a href="https://github.com/uber/ringpop-go" target="_blank">ringpop-go</a> - ç”¨äº Go åº”ç”¨ç¨‹åºçš„å¯æ‰©å±•ã€å®¹é”™çš„åº”ç”¨ç¨‹åºå±‚åˆ†ç‰‡ã€‚</li><li data-pid="anhHrW9o"><a href="https://github.com/smallnest/rpcx" target="_blank">rpcx</a> - ç±»ä¼¼é˜¿é‡Œå·´å·´ Dubbo çš„åˆ†å¸ƒå¼å¯æ’æ‹” RPC æœåŠ¡æ¡†æ¶ã€‚</li><li data-pid="bxe3Ho1N"><a href="https://github.com/jexia/semaphore" target="_blank">ä¿¡å·é‡</a>- ä¸€ä¸ªç®€å•çš„ï¼ˆå¾®ï¼‰æœåŠ¡ç¼–æ’å™¨ã€‚</li><li data-pid="6ia6aCQz"><a href="https://github.com/ursiform/sleuth" target="_blank">sleuth</a> - ç”¨äº HTTP æœåŠ¡ä¹‹é—´çš„æ— ä¸» p2p è‡ªåŠ¨å‘ç°å’Œ RPC çš„åº“ï¼ˆä½¿ç”¨<a href="https://github.com/zeromq/libzmq" target="_blank">ZeroMQ</a>ï¼‰ã€‚</li><li data-pid="5N1q904F"><a href="https://github.com/anacrolix/torrent" target="_blank">torrent</a> - BitTorrent å®¢æˆ·ç«¯åŒ…ã€‚</li></ul><p data-pid="EkKEdwm_"><b><a href="https://github.com/avelino/awesome-go/blob/main/README.md#contents" target="_blank">â¬†å›åˆ°é¡¶éƒ¨</a></b></p><h2><b>åŠ¨æ€åŸŸåç³»ç»Ÿ</b></h2><p data-pid="r4Ckxhkc"><i>æ›´æ–°åŠ¨æ€ DNS è®°å½•çš„å·¥å…·ã€‚</i></p><ul><li data-pid="u97A0yzi"><a href="https://github.com/skibish/ddns" target="_blank">DDNS</a> - ä»¥æ•°å­—æµ·æ´‹ç½‘ç»œ DNS ä½œä¸ºåç«¯çš„ä¸ªäºº DDNS å®¢æˆ·ç«¯ã€‚</li><li data-pid="LJM2m0UE"><a href="https://gitlab.com/alcastle/dyndns" target="_blank">dyndns</a> - åå°ç¨‹åºå®šæœŸè‡ªåŠ¨æ£€æŸ¥æ‚¨çš„ IP åœ°å€ï¼Œå¹¶åœ¨æ‚¨çš„åœ°å€å‘ç”Ÿå˜åŒ–æ—¶æ›´æ–°ï¼ˆä¸€ä¸ªæˆ–å¤šä¸ªï¼‰Google åŸŸçš„åŠ¨æ€ DNS è®°å½•ã€‚</li><li data-pid="kP8c3K9k"><a href="https://github.com/timothyye/godns" target="_blank">GoDNS</a> - åŠ¨æ€ DNS å®¢æˆ·ç«¯å·¥å…·ï¼Œæ”¯æŒ DNSPod å’Œ HE.netï¼Œç”¨ Go ç¼–å†™ã€‚</li></ul><p data-pid="7u5y83Oe"><b><a href="https://github.com/avelino/awesome-go/blob/main/README.md#contents" target="_blank">â¬†å›åˆ°é¡¶éƒ¨</a></b></p><h2><b>ç”µå­é‚®ä»¶</b></h2><p data-pid="JIKxCHCQ"><i>å®ç°ç”µå­é‚®ä»¶åˆ›å»ºå’Œå‘é€çš„åº“å’Œå·¥å…·ã€‚</i></p><ul><li data-pid="5hpGSbR9"><a href="https://blitiri.com.ar/p/chasquid" target="_blank">chasquid</a> - ç”¨ Go ç¼–å†™çš„ SMTP æœåŠ¡å™¨ã€‚</li><li data-pid="GbCozn3u"><a href="https://github.com/aymerick/douceur" target="_blank">douceur</a> - ç”¨äº HTML ç”µå­é‚®ä»¶çš„ CSS å†…è”å™¨ã€‚</li><li data-pid="KXKKzYHa"><a href="https://github.com/jordan-wright/email" target="_blank">email</a> - ä¸€ä¸ªå¼ºå¤§è€Œçµæ´»çš„ Go ç”µå­é‚®ä»¶åº“ã€‚</li><li data-pid="J-QphY8e"><a href="https://github.com/AfterShip/email-verifier" target="_blank">email-verifier</a> - ç”¨äºç”µå­é‚®ä»¶éªŒè¯çš„ Go åº“ï¼Œæ— éœ€å‘é€ä»»ä½•ç”µå­é‚®ä»¶ã€‚</li><li data-pid="fTDeTv-x"><a href="https://github.com/toorop/go-dkim" target="_blank">go-dkim</a> - DKIM åº“ï¼Œç”¨äºç­¾ç½²å’ŒéªŒè¯ç”µå­é‚®ä»¶ã€‚</li><li data-pid="LIoTkyJG"><a href="https://github.com/dimuska139/go-email-normalizer" target="_blank">go-email-normalizer</a> - ç”¨äºæä¾›ç”µå­é‚®ä»¶åœ°å€è§„èŒƒè¡¨ç¤ºçš„ Golang åº“ã€‚</li><li data-pid="UC3SxuYU"><a href="https://github.com/go-email-validator/go-email-validator" target="_blank">go-email-validator</a> - ç”¨äºè¯­æ³•ã€ä¸€æ¬¡æ€§ã€smtp ç­‰...æ£€æŸ¥çš„æ¨¡å—åŒ–ç”µå­é‚®ä»¶éªŒè¯å™¨ã€‚</li><li data-pid="A5KjPj2u"><a href="https://github.com/emersion/go-imap" target="_blank">go-imap</a> - ç”¨äºå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨çš„ IMAP åº“ã€‚</li><li data-pid="xK35ErsF"><a href="https://github.com/wneessen/go-mail" target="_blank">go-mail</a> - ä¸€ä¸ªç®€å•çš„ Go åº“ï¼Œç”¨äºåœ¨ Go ä¸­å‘é€é‚®ä»¶ã€‚</li><li data-pid="7eUt3Dmi"><a href="https://github.com/emersion/go-message" target="_blank">go-message</a> - ç”¨äº Internet æ¶ˆæ¯æ ¼å¼å’Œé‚®ä»¶æ¶ˆæ¯çš„æµåª’ä½“åº“ã€‚</li><li data-pid="eBqMH1_S"><a href="https://github.com/vanng822/go-premailer" target="_blank">go-premailer</a> -Go ä¸­ HTML é‚®ä»¶çš„å†…è”æ ·å¼ã€‚</li><li data-pid="G2AsmwCB"><a href="https://github.com/xhit/go-simple-mail" target="_blank">go-simple-mail</a> - éå¸¸ç®€å•çš„åŒ…ï¼Œç”¨äºå‘é€å¸¦æœ‰ SMTP Keep Alive å’Œä¸¤ä¸ªè¶…æ—¶çš„ç”µå­é‚®ä»¶ï¼šè¿æ¥å’Œå‘é€ã€‚</li><li data-pid="ItVkYTkl"><a href="https://github.com/hectane/hectane" target="_blank">Hectane</a> - æä¾› HTTP API çš„è½»é‡çº§ SMTP å®¢æˆ·ç«¯.</li><li data-pid="GTQ21gRc"><a href="https://github.com/matcornic/hermes" target="_blank">hermes</a> - ç”Ÿæˆå¹²å‡€ã€å“åº”è¿…é€Ÿçš„ HTML ç”µå­é‚®ä»¶çš„ Golang åŒ…ã€‚</li><li data-pid="eFyY-3Rf"><a href="https://github.com/mailchain/mailchain" target="_blank">mailchain</a> - å°†åŠ å¯†çš„ç”µå­é‚®ä»¶å‘é€åˆ°ç”¨ Go ç¼–å†™çš„åŒºå—é“¾åœ°å€ã€‚</li><li data-pid="KeYQItwM"><a href="https://github.com/mailgun/mailgun-go" target="_blank">mailgun-go</a> - ç”¨äºä½¿ç”¨ Mailgun API å‘é€é‚®ä»¶çš„ Go åº“ã€‚</li><li data-pid="lc2a4gAA"><a href="https://github.com/mailhog/MailHog" target="_blank">MailHog</a> - ä½¿ç”¨ Web å’Œ API æ¥å£è¿›è¡Œç”µå­é‚®ä»¶å’Œ SMTP æµ‹è¯•ã€‚</li><li data-pid="35MvwkKz"><a href="https://github.com/axllent/mailpit" target="_blank">Mailpit</a> - é¢å‘å¼€å‘äººå‘˜çš„ç”µå­é‚®ä»¶å’Œ SMTP æµ‹è¯•å·¥å…·ã€‚</li><li data-pid="wihzENZ-"><a href="https://github.com/valord577/mailx" target="_blank">mailx</a> - Mailx æ˜¯ä¸€ä¸ªåº“ï¼Œå¯ä»¥æ›´è½»æ¾åœ°é€šè¿‡ SMTP å‘é€ç”µå­é‚®ä»¶. å®ƒæ˜¯ golang æ ‡å‡†åº“çš„å¢å¼ºç‰ˆ<code>net/smtp</code>ã€‚</li><li data-pid="jBCE2gbE"><a href="https://github.com/sendgrid/sendgrid-go" target="_blank">SendGrid</a> -SendGrid ç”¨äºå‘é€ç”µå­é‚®ä»¶çš„ Go åº“ã€‚</li><li data-pid="a4sJwyfS"><a href="https://github.com/mailhog/smtp" target="_blank">smtp</a> - SMTP æœåŠ¡å™¨åè®®çŠ¶æ€æœºã€‚</li><li data-pid="q8MwJio1"><a href="https://github.com/mocktools/go-smtp-mock" target="_blank">smtpmock</a> - è½»é‡çº§å¯é…ç½®å¤šçº¿ç¨‹å‡ SMTP æœåŠ¡å™¨ã€‚ä¸ºæ‚¨çš„æµ‹è¯•ç¯å¢ƒæ¨¡ä»¿ä»»ä½• SMTP è¡Œä¸ºã€‚</li><li data-pid="Imfvtv38"><a href="https://github.com/truemail-rb/truemail-go" target="_blank">truemail-go</a> - å¯é…ç½®çš„ Golang ç”µå­é‚®ä»¶éªŒè¯å™¨/éªŒè¯å™¨ã€‚é€šè¿‡ Regexã€DNSã€SMTP ç­‰éªŒè¯ç”µå­é‚®ä»¶ã€‚</li></ul><p data-pid="uRQTbiWQ"><b><a href="https://github.com/avelino/awesome-go/blob/main/README.md#contents" target="_blank">â¬†å›åˆ°é¡¶éƒ¨</a></b></p><h2><b>åµŒå…¥å¼è„šæœ¬è¯­è¨€</b></h2><p data-pid="Vhifi3wg"><i>åœ¨ä½ çš„ä»£ç ä¸­åµŒå…¥å…¶ä»–è¯­è¨€ã€‚</i></p><ul><li data-pid="a87aoAsP"><a href="https://github.com/mattn/anko" target="_blank">anko</a> - ç”¨ Go ç¼–å†™çš„è„šæœ¬è§£é‡Šå™¨ã€‚</li><li data-pid="V9fzV6YB"><a href="https://github.com/alexeyco/binder" target="_blank">binder</a> - è½¬åˆ°åŸºäº<a href="https://github.com/yuin/gopher-lua" target="_blank">gopher-lua</a>çš„ Lua ç»‘å®šåº“ã€‚</li><li data-pid="Ncbyn7uW"><a href="https://github.com/google/cel-go" target="_blank">cel-go</a> - å¿«é€Ÿã€ä¾¿æºã€éå›¾çµå®Œæ•´çš„è¡¨è¾¾å¼è¯„ä¼°ï¼Œé€æ­¥æ‰“å­—ã€‚</li><li data-pid="_whUC6vb"><a href="https://github.com/krotik/ecal" target="_blank">ecal</a> - ä¸€ç§æ”¯æŒå¹¶å‘äº‹ä»¶å¤„ç†çš„ç®€å•å¯åµŒå…¥è„šæœ¬è¯­è¨€ã€‚</li><li data-pid="Y3eeX_wy"><a href="https://github.com/antonmedv/expr" target="_blank">expr</a> -Go çš„è¡¨è¾¾å¼è¯„ä¼°å¼•æ“ï¼šå¿«é€Ÿã€éå›¾çµå®Œå¤‡ã€åŠ¨æ€ç±»å‹ã€é™æ€ç±»å‹ã€‚</li><li data-pid="dLyDYGTV"><a href="https://github.com/gentee/gentee" target="_blank">gentee</a> - å¯åµŒå…¥çš„è„šæœ¬ç¼–ç¨‹è¯­è¨€ã€‚</li><li data-pid="jC1qZFxn"><a href="https://github.com/jcla1/gisp" target="_blank">gisp</a> -Go ä¸­çš„ç®€å• LISP.</li><li data-pid="sjTCZ5gf"><a href="https://github.com/olebedev/go-duktape" target="_blank">go-duktape</a> -Go çš„ Duktape JavaScript å¼•æ“ç»‘å®š.</li><li data-pid="XVx_eZGD"><a href="https://github.com/Shopify/go-lua" target="_blank">go-lua</a> - å°† Lua 5.2 VM ç§»æ¤åˆ°çº¯ Goã€‚</li><li data-pid="Ua8qAz5p"><a href="https://github.com/deuill/go-php" target="_blank">go-php</a> -Go çš„ PHP ç»‘å®šã€‚</li><li data-pid="TLjNdJmH"><a href="https://github.com/sbinet/go-python" target="_blank">go-python</a> - å¤©çœŸçš„å»ç»‘å®šåˆ° CPython C-APIã€‚</li><li data-pid="O_eho_VF"><a href="https://github.com/dop251/goja" target="_blank">goja</a> -Go ä¸­çš„ ECMAScript 5.1(+) å®ç°.</li><li data-pid="morp-s72"><a href="https://github.com/aarzilli/golua" target="_blank">golua</a> - Lua C API çš„ Go ç»‘å®šã€‚</li><li data-pid="NkKhP1Jy"><a href="https://github.com/yuin/gopher-lua" target="_blank">gopher-lua</a> - ç”¨ Go ç¼–å†™çš„ Lua 5.1 VM å’Œç¼–è¯‘å™¨ã€‚</li><li data-pid="LWBCn6Ea"><a href="https://github.com/PaesslerAG/gval" target="_blank">gval</a> - ç”¨ Go ç¼–å†™çš„é«˜åº¦å¯å®šåˆ¶çš„è¡¨è¾¾å¼è¯­è¨€ã€‚</li><li data-pid="qB9jH2-4"><a href="https://github.com/metacall/core" target="_blank">metacall</a> - æ”¯æŒ NodeJSã€JavaScriptã€TypeScriptã€Pythonã€Rubyã€C#ã€WebAssemblyã€Javaã€Cobol ç­‰çš„è·¨å¹³å°å¤šè¯­è¨€è¿è¡Œæ—¶ã€‚</li><li data-pid="b3nfe-K8"><a href="https://github.com/db47h/ngaro" target="_blank">ngaro</a> - å¯åµŒå…¥çš„ Ngaro VM å®ç°åœ¨ Retro ä¸­å¯ç”¨è„šæœ¬ã€‚</li><li data-pid="yo0kXJ6d"><a href="https://github.com/ichiban/prolog" target="_blank">prolog</a> - å¯åµŒå…¥çš„ Prologã€‚</li><li data-pid="2vIzjd7h"><a href="https://github.com/ian-kent/purl" target="_blank">purl</a> -Go ä¸­åµŒå…¥çš„ Perl 5.18.2.</li><li data-pid="_HMeuotX"><a href="https://github.com/google/starlark-go" target="_blank">starlark-go</a> - Starlark çš„ Go å®ç°ï¼šå…·æœ‰ç¡®å®šæ€§è¯„ä¼°å’Œå¯†å°æ‰§è¡Œçš„ç±» Python è¯­è¨€ã€‚</li><li data-pid="-rfwQNaf"><a href="https://github.com/d5/tengo" target="_blank">tengo</a> - ç”¨äº Go çš„å­—èŠ‚ç ç¼–è¯‘è„šæœ¬è¯­è¨€ã€‚</li></ul><p data-pid="CYouMf-0"><b><a href="https://github.com/avelino/awesome-go/blob/main/README.md#contents" target="_blank">â¬†å›åˆ°é¡¶éƒ¨</a></b></p><h2><b>é”™è¯¯å¤„ç†</b></h2><p data-pid="yXvk2rEK"><i>ç”¨äºå¤„ç†é”™è¯¯çš„åº“ã€‚</i></p><ul><li data-pid="-ZA7wxWC"><a href="https://github.com/emperror/emperror" target="_blank">emperror</a> - Go åº“å’Œåº”ç”¨ç¨‹åºçš„é”™è¯¯å¤„ç†å·¥å…·å’Œæœ€ä½³å®è·µã€‚</li><li data-pid="xhsujOAR"><a href="https://github.com/rotisserie/eris" target="_blank">eris</a> - åœ¨ Go ä¸­å¤„ç†ã€è·Ÿè¸ªå’Œè®°å½•é”™è¯¯çš„æ›´å¥½æ–¹æ³•ã€‚ä¸æ ‡å‡†é”™è¯¯åº“å’Œ github.com/pkg/errors å…¼å®¹ã€‚</li><li data-pid="CW1NOV3u"><a href="https://github.com/snwfdhmp/errlog" target="_blank">errlog</a> - å¯ç ´è§£çš„åŒ…ï¼Œç”¨äºç¡®å®šé”™è¯¯çš„æºä»£ç ï¼ˆä»¥åŠå…¶ä»–ä¸€äº›å¿«é€Ÿè°ƒè¯•åŠŸèƒ½ï¼‰ã€‚å¯å°±åœ°æ’å…¥ä»»ä½•è®°å½•å™¨ã€‚</li><li data-pid="KblSpDoD"><a href="https://github.com/emperror/errors" target="_blank">errors</a> - æ ‡å‡†åº“é”™è¯¯åŒ…å’Œ github.com/pkg/errors çš„ç›´æ¥æ›¿æ¢ã€‚æä¾›å„ç§é”™è¯¯å¤„ç†åŸè¯­ã€‚</li><li data-pid="_lTMn2Fr"><a href="https://github.com/pkg/errors" target="_blank">errors</a> - æä¾›ç®€å•é”™è¯¯å¤„ç†åŸè¯­çš„åŒ…ã€‚</li><li data-pid="KaUAi-92"><a href="https://github.com/neuronlabs/errors" target="_blank">errors</a> - ä½¿ç”¨åˆ†ç±»åŸè¯­è¿›è¡Œç®€å•çš„ golang é”™è¯¯å¤„ç†ã€‚</li><li data-pid="5MFM0okk"><a href="https://github.com/PumpkinSeed/errors" target="_blank">errors</a> - æœ€ç®€å•çš„é”™è¯¯åŒ…è£…å™¨ï¼Œå…·æœ‰å‡ºè‰²çš„æ€§èƒ½å’Œæœ€å°çš„å†…å­˜å¼€é”€ã€‚</li><li data-pid="IFF3e5yS"><a href="https://github.com/bnkamalesh/errors" target="_blank">errors</a> - å†…ç½® Go é”™è¯¯çš„ç›´æ¥æ›¿æ¢ã€‚è¿™æ˜¯ä¸€ä¸ªæœ€å°çš„é”™è¯¯å¤„ç†åŒ…ï¼Œå…·æœ‰è‡ªå®šä¹‰é”™è¯¯ç±»å‹ã€ç”¨æˆ·å‹å¥½æ¶ˆæ¯ã€Unwrap &amp; Isã€‚å…·æœ‰éå¸¸æ˜“äºä½¿ç”¨å’Œç›´æ¥çš„è¾…åŠ©åŠŸèƒ½ã€‚</li><li data-pid="Da_WRxWB"><a href="https://github.com/cockroachdb/errors" target="_blank">errors</a> - é€šè¿‡ç½‘ç»œè¿›è¡Œé”™è¯¯ç§»æ¤çš„ Go é”™è¯¯åº“ã€‚</li><li data-pid="Qd54BAMY"><a href="https://github.com/joomcode/errorx" target="_blank">errorx</a> - ä¸€ä¸ªåŠŸèƒ½ä¸°å¯Œçš„é”™è¯¯åŒ…ï¼ŒåŒ…å«å †æ ˆè·Ÿè¸ªã€é”™è¯¯ç»„åˆç­‰ã€‚</li><li data-pid="2HFDAH9A"><a href="https://github.com/rbrahul/exception" target="_blank">exception</a> - ä¸€ä¸ªç®€å•çš„å®ç”¨ç¨‹åºåŒ…ï¼Œç”¨äºåœ¨ Golang ä¸­ä½¿ç”¨ try-catch è¿›è¡Œå¼‚å¸¸å¤„ç†ã€‚</li><li data-pid="4XlhMK5C"><a href="https://github.com/SonicRoshan/falcon" target="_blank">Falcon</a> - ä¸€ä¸ªç®€å•ä½†åŠŸèƒ½å¼ºå¤§çš„é”™è¯¯å¤„ç†åŒ…ã€‚</li><li data-pid="XcpEx6pa"><a href="https://github.com/Southclaws/fault" target="_blank">Fault</a> - ä¸€ç§ç”¨äºåŒ…è£…é”™è¯¯çš„ç¬¦åˆäººä½“å·¥ç¨‹å­¦çš„æœºåˆ¶ï¼Œä»¥ä¿ƒè¿›é”™è¯¯å€¼çš„ç»“æ„åŒ–å…ƒæ•°æ®å’Œä¸Šä¸‹æ–‡ã€‚</li><li data-pid="SxVXaflz"><a href="https://github.com/hashicorp/go-multierror" target="_blank">go-multierror</a> - Go (golang) åŒ…ï¼Œç”¨äºå°†é”™è¯¯åˆ—è¡¨è¡¨ç¤ºä¸ºå•ä¸ªé”™è¯¯ã€‚</li><li data-pid="z9H-G8P3"><a href="https://github.com/ztrue/tracerr" target="_blank">tracerr</a> - å †æ ˆè·Ÿè¸ªå’Œæºä»£ç ç‰‡æ®µçš„ Golang é”™è¯¯ã€‚</li></ul><p data-pid="QP8OavkI"><b><a href="https://github.com/avelino/awesome-go/blob/main/README.md#contents" target="_blank">â¬†å›åˆ°é¡¶éƒ¨</a></b></p><h2><b>æ–‡ä»¶å¤„ç†</b></h2><p data-pid="zY_mFJ0W"><i>ç”¨äºå¤„ç†æ–‡ä»¶å’Œæ–‡ä»¶ç³»ç»Ÿçš„åº“ã€‚</i></p><ul><li data-pid="ZwBvzykS"><a href="https://github.com/spf13/afero" target="_blank">afero</a> -Go çš„æ–‡ä»¶ç³»ç»ŸæŠ½è±¡ç³»ç»Ÿã€‚</li><li data-pid="_fnIGRTm"><a href="https://github.com/viant/afs" target="_blank">afs</a> -Go çš„æŠ½è±¡æ–‡ä»¶å­˜å‚¨ï¼ˆmemã€scpã€zipã€tarã€cloudï¼šs3ã€gsï¼‰ã€‚</li><li data-pid="IIZbaNZp"><a href="https://github.com/xis/baraka" target="_blank">baraka</a> - ä¸€ä¸ªè½»æ¾å¤„ç† http æ–‡ä»¶ä¸Šä¼ çš„åº“ã€‚</li><li data-pid="zL_OY5xq"><a href="https://github.com/bigfile/bigfile" target="_blank">bigfile</a> - æ–‡ä»¶ä¼ è¾“ç³»ç»Ÿï¼Œæ”¯æŒä½¿ç”¨ http apiã€rpc è°ƒç”¨å’Œ ftp å®¢æˆ·ç«¯ç®¡ç†æ–‡ä»¶ã€‚</li><li data-pid="1ZCvG3gG"><a href="https://github.com/codingsince1985/checksum" target="_blank">æ ¡éªŒå’Œ</a>- ä¸ºå¤§æ–‡ä»¶è®¡ç®—æ¶ˆæ¯æ‘˜è¦ï¼Œå¦‚ MD5ã€SHA256ã€SHA1ã€CRC æˆ– BLAKE2sã€‚</li><li data-pid="5LjpuXQV"><a href="https://github.com/otiai10/copy" target="_blank">copy</a> - é€’å½’å¤åˆ¶ç›®å½•ã€‚</li><li data-pid="wikCsNSm"><a href="https://github.com/homedepot/flop" target="_blank">flop</a> - æ—¨åœ¨ä¸<a href="https://www.gnu.org/software/coreutils/manual/html_node/cp-invocation.html" target="_blank">GNU cp</a>é•œåƒåŠŸèƒ½å¥‡å¶æ ¡éªŒçš„æ–‡ä»¶æ“ä½œåº“ã€‚</li><li data-pid="cHBZiQY-"><a href="https://github.com/dundee/gdu" target="_blank">gdu</a> - å¸¦æœ‰æ§åˆ¶å°ç•Œé¢çš„ç£ç›˜ä½¿ç”¨åˆ†æå™¨ã€‚</li><li data-pid="BXGkkOGj"><a href="https://github.com/artonge/go-csv-tag" target="_blank">go-csv-tag</a> - ä½¿ç”¨æ ‡ç­¾åŠ è½½ csv æ–‡ä»¶ã€‚</li><li data-pid="79hjW2ay"><a href="https://github.com/hugocarreira/go-decent-copy" target="_blank">go-decent-copy</a> - ä¸ºäººç±»å¤åˆ¶æ–‡ä»¶ã€‚</li><li data-pid="SIHEQBkP"><a href="https://github.com/barasher/go-exiftool" target="_blank">go-exiftool</a> - ExifTool çš„ Go ç»‘å®šï¼Œè¿™æ˜¯ä¸€ä¸ªè‘—åçš„åº“ï¼Œç”¨äºä»æ–‡ä»¶ï¼ˆå›¾ç‰‡ã€PDFã€office ç­‰ï¼‰ä¸­æå–å°½å¯èƒ½å¤šçš„å…ƒæ•°æ®ï¼ˆEXIFã€IPTC ç­‰ï¼‰ã€‚</li><li data-pid="7dCUZOFa"><a href="https://github.com/artonge/go-gtfs" target="_blank">go-gtfs</a> - åœ¨ go ä¸­åŠ è½½ gtfs æ–‡ä»¶ã€‚</li><li data-pid="VkNU5kG0"><a href="https://github.com/no-src/gofs" target="_blank">gofs</a> - å¼€ç®±å³ç”¨çš„æ–‡ä»¶åŒæ­¥å·¥å…·ã€‚</li><li data-pid="6ARVHqB3"><a href="https://github.com/1set/gut" target="_blank">gut/yos</a> - ç®€å•å¯é çš„æ–‡ä»¶æ“ä½œåŒ…ï¼Œå¦‚æ–‡ä»¶ã€ç›®å½•å’Œç¬¦å·é“¾æ¥ä¸Šçš„å¤åˆ¶/ç§»åŠ¨/å·®å¼‚/åˆ—è¡¨ã€‚</li><li data-pid="CzF_02HH"><a href="https://github.com/dastoori/higgs" target="_blank">higgs</a> - ä¸€ä¸ªå°å‹çš„è·¨å¹³å° Go åº“ï¼Œç”¨äºéšè—/å–æ¶ˆéšè—æ–‡ä»¶å’Œç›®å½•ã€‚</li><li data-pid="AR8YiXPe"><a href="https://github.com/rjeczalik/notify" target="_blank">notify</a> - å…·æœ‰ç®€å• API çš„æ–‡ä»¶ç³»ç»Ÿäº‹ä»¶é€šçŸ¥åº“ï¼Œç±»ä¼¼äº os/signalã€‚</li><li data-pid="tnd5VdNK"><a href="https://github.com/qmuntal/opc" target="_blank">opc</a> - ä¸º Go åŠ è½½å¼€æ”¾æ‰“åŒ…çº¦å®š (OPC) æ–‡ä»¶ã€‚</li><li data-pid="Vu8VUdGi"><a href="https://github.com/parsyl/parquet" target="_blank">parquet</a> - è¯»å†™<a href="https://parquet.apache.org/" target="_blank">parquet</a>æ–‡ä»¶ã€‚</li><li data-pid="1uidv81T"><a href="https://github.com/jonchun/pathtype" target="_blank">pathtype</a> - å°†è·¯å¾„è§†ä¸ºå®ƒä»¬è‡ªå·±çš„ç±»å‹è€Œä¸æ˜¯ä½¿ç”¨å­—ç¬¦ä¸²ã€‚</li><li data-pid="9NC5RF0D"><a href="https://github.com/pdfcpu/pdfcpu" target="_blank">pdfcpu</a> -PDF å¤„ç†å™¨ã€‚</li><li data-pid="qKG5NnmJ"><a href="https://github.com/dixonwille/skywalker" target="_blank">skywalker</a> - å…è®¸ä¸€ä¸ªäººè½»æ¾åœ°åŒæ—¶é€šè¿‡æ–‡ä»¶ç³»ç»Ÿçš„è½¯ä»¶åŒ…ã€‚</li><li data-pid="Gfe59FAp"><a href="https://gitlab.com/russoj88/stl" target="_blank">stl</a> - ç”¨äºè¯»å–å’Œå†™å…¥ STLï¼ˆç«‹ä½“å…‰åˆ»ï¼‰æ–‡ä»¶çš„æ¨¡å—ã€‚è¯»å–å¹¶å‘ç®—æ³•ã€‚</li><li data-pid="O0dRrFVz"><a href="https://github.com/posener/tarfs" target="_blank">tarfs</a> - tar æ–‡ä»¶<code><a href="h&lt;/code&gt;ttps://godoc.org/github.com/kr/fs#FileSystem">FileSystemæ¥å£</a>çš„å®ç°ã€‚</code></li><li data-pid="NGpnhxQx"><a href="https://github.com/1set/todotxt" target="_blank">todotxt</a> - Gina Trapani çš„<i><a href="http://todotxt.org/" target="_blank">todo.txt</a></i>æ–‡ä»¶çš„ Go åº“ï¼Œæ”¯æŒè§£æå’Œæ“ä½œ<i><a href="&lt;/i">"https://github.com/todotxt/todo.txt"&gt;todo.txtæ ¼å¼</a>çš„ä»»åŠ¡åˆ—è¡¨ã€‚</i></li><li data-pid="Vu3mKUlC"><a href="https://github.com/C2FO/vfs" target="_blank">vfs</a> - é€‚ç”¨äº Go çš„ä¸€ç»„å¯æ’å…¥ã€å¯æ‰©å±•å’Œå›ºå®šçš„æ–‡ä»¶ç³»ç»ŸåŠŸèƒ½ï¼Œé€‚ç”¨äºå¤šç§æ–‡ä»¶ç³»ç»Ÿç±»å‹ï¼Œä¾‹å¦‚ osã€S3 å’Œ GCSã€‚</li></ul><p data-pid="4fzu2CM9"><b><a href="https://github.com/avelino/awesome-go/blob/main/README.md#contents" target="_blank">â¬†å›åˆ°é¡¶éƒ¨</a></b></p><h2><b>é‡‘èçš„</b></h2><p data-pid="1quZz411"><i>ä¼šè®¡å’Œè´¢åŠ¡è½¯ä»¶åŒ…ã€‚</i></p><ul><li data-pid="M8Fsa18Y"><a href="https://github.com/leekchan/accounting" target="_blank">accounting</a> - golang çš„è´§å¸å’Œè´§å¸æ ¼å¼ã€‚</li><li data-pid="pIv6uefP"><a href="https://github.com/moov-io/ach" target="_blank">ach</a> - è‡ªåŠ¨æ¸…ç®—æ‰€ (ACH) æ–‡ä»¶çš„è¯»å–å™¨ã€å†™å…¥å™¨å’ŒéªŒè¯å™¨ã€‚</li><li data-pid="Vbroe1Ia"><a href="https://github.com/c9s/bbgo" target="_blank">bbgo</a> - ç”¨ Go ç¼–å†™çš„åŠ å¯†è´§å¸äº¤æ˜“æœºå™¨äººæ¡†æ¶ã€‚åŒ…æ‹¬å¸¸è§çš„åŠ å¯†è´§å¸äº¤æ˜“æ‰€ APIã€æ ‡å‡†æŒ‡æ ‡ã€å›æº¯æµ‹è¯•å’Œè®¸å¤šå†…ç½®ç­–ç•¥ã€‚</li><li data-pid="7ti2wdnG"><a href="https://github.com/bojanz/currency" target="_blank">currency</a> - å¤„ç†è´§å¸é‡‘é¢ï¼Œæä¾›è´§å¸ä¿¡æ¯å’Œæ ¼å¼ã€‚</li><li data-pid="0S-nDMyM"><a href="https://github.com/bnkamalesh/currency" target="_blank">currency</a> - é«˜æ€§èƒ½å’Œå‡†ç¡®çš„è´§å¸è®¡ç®—åŒ…ã€‚</li><li data-pid="Xjbwzc_A"><a href="https://github.com/shopspring/decimal" target="_blank">decimal</a> - ä»»æ„ç²¾åº¦å®šç‚¹åè¿›åˆ¶æ•°ã€‚</li><li data-pid="bbwHs5xt"><a href="https://github.com/nikolaydubina/fpdecimal" target="_blank">fpdecimal</a> - å°å®šç‚¹å°æ•°çš„å¿«é€Ÿå’Œç²¾ç¡®çš„åºåˆ—åŒ–å’Œç®—æœ¯</li><li data-pid="CjCdOkS3"><a href="https://github.com/nikolaydubina/fpmoney" target="_blank">fpmoney</a> - å¿«é€Ÿç®€å•çš„ ISO4217 å®šç‚¹åè¿›åˆ¶è´§å¸ã€‚</li><li data-pid="20-I-ewN"><a href="https://github.com/alpeb/go-finance" target="_blank">go-finance</a> - è´§å¸æ—¶é—´ä»·å€¼ï¼ˆå¹´é‡‘ï¼‰ã€ç°é‡‘æµã€åˆ©ç‡è½¬æ¢ã€å€ºåˆ¸å’ŒæŠ˜æ—§è®¡ç®—çš„é‡‘èå‡½æ•°åº“ã€‚</li><li data-pid="KQwnADtR"><a href="https://github.com/pieterclaerhout/go-finance" target="_blank">go-finance</a> - ç”¨äºè·å–æ±‡ç‡ã€é€šè¿‡ VIES æ£€æŸ¥å¢å€¼ç¨å·å’Œæ£€æŸ¥ IBAN é“¶è¡Œå¸å·çš„æ¨¡å—ã€‚</li><li data-pid="mCwHC4d1"><a href="https://github.com/m1/go-finnhub" target="_blank">go-finnhub</a> - æ¥è‡ª finnhub.io çš„è‚¡ç¥¨å¸‚åœºã€å¤–æ±‡å’ŒåŠ å¯†æ•°æ®çš„å®¢æˆ·ç«¯ã€‚ä» 60 å¤šå®¶è¯åˆ¸äº¤æ˜“æ‰€ã€10 å®¶å¤–æ±‡ç»çºªå•†å’Œ 15 å¤šå®¶åŠ å¯†è´§å¸äº¤æ˜“æ‰€è®¿é—®å®æ—¶é‡‘èå¸‚åœºæ•°æ®ã€‚</li><li data-pid="504i9DSu"><a href="https://github.com/rhymond/go-money" target="_blank">go-money</a> - ç¦å‹’è´§å¸æ¨¡å¼çš„å®æ–½ã€‚</li><li data-pid="iy01zYvu"><a href="https://github.com/aclindsa/ofxgo" target="_blank">ofxgo</a> - æŸ¥è¯¢ OFX æœåŠ¡å™¨å’Œ/æˆ–è§£æå“åº”ï¼ˆä½¿ç”¨ç¤ºä¾‹å‘½ä»¤è¡Œå®¢æˆ·ç«¯ï¼‰ã€‚</li><li data-pid="PZeVmG2H"><a href="https://github.com/i25959341/orderbook" target="_blank">orderbook</a> -Golang ä¸­çš„é™ä»·è®¢å•ç°¿åŒ¹é…å¼•æ“ã€‚</li><li data-pid="UZshzyQf"><a href="https://github.com/jovandeginste/payme" target="_blank">payme</a> - ç”¨äº SEPA ä»˜æ¬¾çš„ QR ç ç”Ÿæˆå™¨ï¼ˆASCII å’Œ PNGï¼‰ã€‚</li><li data-pid="oKMCbUXa"><a href="https://github.com/BoltApp/sleet" target="_blank">sleet</a> - å¤šä¸ªæ”¯ä»˜æœåŠ¡æä¾›å•† (PsP) å¤„ç†åœ¨çº¿æ”¯ä»˜çš„ç»Ÿä¸€ç•Œé¢ã€‚</li><li data-pid="PrGbMRJb"><a href="https://github.com/sdcoffey/techan" target="_blank">techan</a> - å…·æœ‰é«˜çº§å¸‚åœºåˆ†æå’Œäº¤æ˜“ç­–ç•¥çš„æŠ€æœ¯åˆ†æåº“ã€‚</li><li data-pid="xWj6isry"><a href="https://github.com/achannarasappa/ticker" target="_blank">ticker</a> - ç»ˆç«¯è‚¡ç¥¨è§‚å¯Ÿè€…å’Œè‚¡ç¥¨å¤´å¯¸è·Ÿè¸ªå™¨ã€‚</li><li data-pid="8F8md9Nw"><a href="https://github.com/claygod/transaction" target="_blank">transaction</a> - åµŒå…¥å¼è´¦æˆ·äº¤æ˜“æ•°æ®åº“ï¼Œä»¥å¤šçº¿ç¨‹æ¨¡å¼è¿è¡Œã€‚</li><li data-pid="1qlj8B42"><a href="https://github.com/dannyvankooten/vat" target="_blank">å¢å€¼ç¨</a>- å¢å€¼ç¨å·éªŒè¯å’Œæ¬§ç›Ÿå¢å€¼ç¨ç¨ç‡ã€‚</li></ul><p data-pid="VYLS34XM"><b><a href="https://github.com/avelino/awesome-go/blob/main/README.md#contents" target="_blank">â¬†å›åˆ°é¡¶éƒ¨</a></b></p><h2><b>å½¢å¼</b></h2><p data-pid="sM0RvyV2"><i>ç”¨äºå¤„ç†è¡¨å•çš„åº“ã€‚</i></p><ul><li data-pid="Sxu3ITSG"><a href="https://github.com/robfig/bind" target="_blank">bind</a> - å°†è¡¨å•æ•°æ®ç»‘å®šåˆ°ä»»ä½• Go å€¼ã€‚</li><li data-pid="4IrGiWld"><a href="https://github.com/mholt/binding" target="_blank">ç»‘å®š</a>- å°†æ¥è‡ª net/http è¯·æ±‚çš„è¡¨å•å’Œ JSON æ•°æ®ç»‘å®šåˆ°ç»“æ„ã€‚</li><li data-pid="vc7qbg13"><a href="https://github.com/leebenson/conform" target="_blank">conform</a> - æ£€æŸ¥ç”¨æˆ·è¾“å…¥ã€‚æ ¹æ®ç»“æ„æ ‡ç­¾ä¿®å‰ªã€æ¸…ç†å’Œæ¸…ç†æ•°æ®ã€‚</li><li data-pid="AM0766SA"><a href="https://github.com/go-playground/form" target="_blank">form</a> - å°† url.Values è§£ç ä¸º Go å€¼å¹¶å°† Go å€¼ç¼–ç ä¸º url.Valuesã€‚åŒé˜µåˆ—å’Œå…¨åœ°å›¾æ”¯æŒã€‚</li><li data-pid="6nBkMGpU"><a href="https://github.com/monoculum/formam" target="_blank">formam</a> - å°†è¡¨å•çš„å€¼è§£ç ä¸ºç»“æ„ã€‚</li><li data-pid="ylUg8C-_"><a href="https://github.com/albrow/forms" target="_blank">forms</a> - ä¸æ¡†æ¶æ— å…³çš„åº“ï¼Œç”¨äºè§£æå’ŒéªŒè¯æ”¯æŒå¤šéƒ¨åˆ†è¡¨å•å’Œæ–‡ä»¶çš„è¡¨å•/JSON æ•°æ®ã€‚</li><li data-pid="g7c1NbJc"><a href="https://github.com/bdjimmy/gbind" target="_blank">gbind</a> - å°†æ•°æ®ç»‘å®šåˆ°ä»»ä½• Go å€¼ã€‚å¯ä»¥ä½¿ç”¨å†…ç½®å’Œè‡ªå®šä¹‰è¡¨è¾¾å¼ç»‘å®šåŠŸèƒ½ï¼›æ”¯æŒæ•°æ®æ ¡éªŒ</li><li data-pid="7h3xGEnx"><a href="https://github.com/gorilla/csrf" target="_blank">gorilla/csrf</a> -Go web åº”ç”¨ç¨‹åºå’ŒæœåŠ¡çš„ CSRF ä¿æŠ¤ã€‚</li><li data-pid="YhLRig-u"><a href="https://github.com/ggicci/httpin" target="_blank">httpin</a> - å°† HTTP è¯·æ±‚è§£ç ä¸ºè‡ªå®šä¹‰ç»“æ„ï¼ŒåŒ…æ‹¬æŸ¥è¯¢å­—ç¬¦ä¸²ã€è¡¨å•ã€HTTP æ ‡å¤´ç­‰ã€‚</li><li data-pid="XPnmZZlp"><a href="https://github.com/justinas/nosurf" target="_blank">nosurf</a> -Go çš„ CSRF ä¿æŠ¤ä¸­é—´ä»¶ã€‚</li><li data-pid="EKXDRAPT"><a href="https://github.com/sonh/qs" target="_blank">qs</a> - ç”¨äºå°†ç»“æ„ç¼–ç ä¸º URL æŸ¥è¯¢å‚æ•°çš„ Go æ¨¡å—ã€‚</li><li data-pid="Z7CryLFY"><a href="https://github.com/tomwright/queryparam" target="_blank">queryparam</a> - è§£ç <code>url.Values</code>ä¸ºæ ‡å‡†æˆ–è‡ªå®šä¹‰ç±»å‹çš„å¯ç”¨ç»“æ„å€¼ã€‚</li></ul><p data-pid="Wa6WuD_s"><b><a href="https://github.com/avelino/awesome-go/blob/main/README.md#contents" target="_blank">â¬†å›åˆ°é¡¶éƒ¨</a></b></p><h2><b>åŠŸèƒ½æ€§</b></h2><p data-pid="qxhjV40q"><i>æ”¯æŒ Go ä¸­å‡½æ•°å¼ç¼–ç¨‹çš„åŒ…ã€‚</i></p><ul><li data-pid="cz__YkeX"><a href="https://github.com/repeale/fp-go" target="_blank">fp-go</a> - ç”± Golang 1.18+ æ³›å‹æä¾›æ”¯æŒçš„å‡½æ•°å¼ç¼–ç¨‹åŠ©æ‰‹é›†åˆã€‚</li><li data-pid="aBlqRQ_r"><a href="https://github.com/TeaEntityLab/fpGo" target="_blank">fpGo</a> - Monadï¼ŒGolang çš„å‡½æ•°å¼ç¼–ç¨‹åŠŸèƒ½ã€‚</li><li data-pid="Or2a76WY"><a href="https://github.com/seborama/fuego" target="_blank">fuego</a> -Go ä¸­çš„åŠŸèƒ½å®éªŒã€‚</li><li data-pid="L1QHsCm9"><a href="https://github.com/tobyhede/go-underscore" target="_blank">go-underscore</a> - æœ‰ç”¨çš„ Go é›†åˆå®ç”¨ç¨‹åºçš„æœ‰ç”¨é›†åˆã€‚</li><li data-pid="XCl98Lh5"><a href="https://github.com/rbrahul/gofp" target="_blank">gofp</a> - ç±»ä¼¼ lodash çš„å¼ºå¤§ Golang å®ç”¨ç¨‹åºåº“ã€‚</li><li data-pid="mEfq5se-"><a href="https://github.com/samber/mo" target="_blank">mo</a> - Monads å’Œæµè¡Œçš„ FP æŠ½è±¡ï¼ŒåŸºäº Go 1.18+ Genericsï¼ˆOptionï¼ŒResultï¼ŒEither ...ï¼‰ã€‚</li><li data-pid="or30UC0j"><a href="https://github.com/rjNemo/underscore" target="_blank">underscore</a> -Go 1.18 åŠæ›´é«˜ç‰ˆæœ¬çš„å‡½æ•°å¼ç¼–ç¨‹åŠ©æ‰‹ã€‚</li><li data-pid="BVpY11KW"><a href="https://github.com/phelmkamp/valor" target="_blank">valor</a> - å¯é€‰åœ°åŒ…å«å€¼çš„é€šç”¨é€‰é¡¹å’Œç»“æœç±»å‹ã€‚</li></ul><p data-pid="SbfIreLH"><b><a href="https://github.com/avelino/awesome-go/blob/main/README.md#contents" target="_blank">â¬†å›åˆ°é¡¶éƒ¨</a></b></p><h2><b>æ¸¸æˆå¼€å‘</b></h2><p data-pid="4NmTd8mK"><i>å¾ˆæ£’çš„æ¸¸æˆå¼€å‘åº“ã€‚</i></p><ul><li data-pid="-1HFbwIR"><a href="https://github.com/azul3d/engine" target="_blank">Azul3D</a> - ç”¨ Go ç¼–å†™çš„ 3D æ¸¸æˆå¼•æ“ã€‚</li><li data-pid="_WCUS6VV"><a href="https://github.com/hajimehoshi/ebiten" target="_blank">Ebitengine</a> - Go ä¸­éå¸¸ç®€å•çš„ 2D æ¸¸æˆå¼•æ“ã€‚</li><li data-pid="HtwZoSxF"><a href="https://github.com/EngoEngine/engo" target="_blank">engo</a> - Engo æ˜¯ä¸€ä¸ªç”¨ Go ç¼–å†™çš„å¼€æº 2D æ¸¸æˆå¼•æ“ã€‚å®ƒéµå¾ªå®ä½“-ç»„ä»¶-ç³»ç»ŸèŒƒå¼ã€‚</li><li data-pid="cfP53MYA"><a href="https://github.com/s0rg/fantasyname" target="_blank">fantasyname</a> - å¹»æƒ³åç§°ç”Ÿæˆå™¨ã€‚</li><li data-pid="EIZJ4jtV"><a href="https://github.com/g3n/engine" target="_blank">g3n</a> - Go 3D æ¸¸æˆå¼•æ“ã€‚</li><li data-pid="HMkyPKzr"><a href="https://github.com/beefsack/go-astar" target="_blank">go-astar</a> -A * è·¯å¾„æŸ¥æ‰¾ç®—æ³•çš„ Go å®ç°ã€‚</li><li data-pid="1tTcamAs"><a href="https://github.com/veandco/go-sdl2" target="_blank">go-sdl2</a> -<a href="https://www.libsdl.org/" target="_blank">ç®€å• DirectMedia å±‚</a>çš„ Go ç»‘å®šã€‚</li><li data-pid="loqB7ku-"><a href="https://github.com/ungerik/go3d" target="_blank">go3d</a> - ç”¨äº Go çš„é¢å‘æ€§èƒ½çš„ 2D/3D æ•°å­¦åŒ…ã€‚</li><li data-pid="YfdBm4Yu"><a href="https://github.com/xtaci/gonet" target="_blank">gonet</a> - ä½¿ç”¨ golang å®ç°çš„æ¸¸æˆæœåŠ¡å™¨æ¡†æ¶ã€‚</li><li data-pid="LZnCWeQv"><a href="https://github.com/xiaonanln/goworld" target="_blank">goworld</a> - å¯æ‰©å±•çš„æ¸¸æˆæœåŠ¡å™¨å¼•æ“ï¼Œå…·æœ‰ç©ºé—´å®ä½“æ¡†æ¶å’Œçƒ­æ’æ‹”ã€‚</li><li data-pid="3jBhhXXS"><a href="https://github.com/harfang3d/harfang3d" target="_blank">Harfang3D</a> - Go è¯­è¨€çš„ 3D å¼•æ“ï¼Œé€‚ç”¨äº Windows å’Œ Linuxï¼ˆ<a href="https://github.com/harfang3d/harfang-go" target="_blank">Go.dev ä¸Šçš„ Harfang</a>ï¼‰ã€‚</li><li data-pid="54OR94j3"><a href="https://github.com/name5566/leaf" target="_blank">Leaf</a> - è½»é‡çº§æ¸¸æˆæœåŠ¡å™¨æ¡†æ¶ã€‚</li><li data-pid="ayjlLjMg"><a href="https://github.com/lonng/nano" target="_blank">nano</a> - è½»é‡çº§ã€è®¾æ–½åŒ–ã€é«˜æ€§èƒ½çš„åŸºäº golang çš„æ¸¸æˆæœåŠ¡å™¨æ¡†æ¶ã€‚</li><li data-pid="JKpDPGJJ"><a href="https://github.com/oakmound/oak" target="_blank">Oak</a> - çº¯å›´æ£‹æ¸¸æˆå¼•æ“ã€‚</li><li data-pid="eQ03vrhT"><a href="https://github.com/topfreegames/pitaya" target="_blank">Pitaya</a> - å¯æ‰©å±•çš„æ¸¸æˆæœåŠ¡å™¨æ¡†æ¶ï¼Œé€šè¿‡ C SDK ä¸º iOSã€Androidã€Unity ç­‰æä¾›é›†ç¾¤æ”¯æŒå’Œå®¢æˆ·ç«¯åº“ã€‚</li><li data-pid="6u7RqQhT"><a href="https://github.com/faiface/pixel" target="_blank">Pixel</a> -Go ä¸­æ‰‹å·¥åˆ¶ä½œçš„ 2D æ¸¸æˆåº“.</li><li data-pid="LH-0zlR8"><a href="https://github.com/gonutz/prototype" target="_blank">prototype</a> - è·¨å¹³å°ï¼ˆWindows/Linux/Macï¼‰åº“ï¼Œç”¨äºä½¿ç”¨æœ€å°‘çš„ API åˆ›å»ºæ¡Œé¢æ¸¸æˆã€‚</li><li data-pid="U94h3nbb"><a href="https://github.com/gen2brain/raylib-go" target="_blank">raylib-go - </a><a href="https://www.raylib.com/" target="_blank">raylib</a>çš„ Go ç»‘å®šï¼Œè¿™æ˜¯ä¸€ä¸ªç®€å•æ˜“ç”¨çš„åº“ï¼Œç”¨äºå­¦ä¹ è§†é¢‘æ¸¸æˆç¼–ç¨‹ã€‚</li><li data-pid="xW6nxzV0"><a href="https://github.com/JoelOtter/termloop" target="_blank">termloop</a> - åŸºäºç»ˆç«¯çš„å›´æ£‹æ¸¸æˆå¼•æ“ï¼Œå»ºç«‹åœ¨ Termbox ä¹‹ä¸Šã€‚</li><li data-pid="EpfY-dw8"><a href="https://github.com/kelindar/tile" target="_blank">tile</a> - é¢å‘æ•°æ®ä¸”ç¼“å­˜å‹å¥½çš„ 2D ç½‘æ ¼åº“ (TileMap)ï¼ŒåŒ…æ‹¬å¯»è·¯ã€è§‚å¯Ÿè€…å’Œå¯¼å…¥/å¯¼å‡ºã€‚</li></ul><p data-pid="CHtL_hhF"><b><a href="https://github.com/avelino/awesome-go/blob/main/README.md#contents" target="_blank">â¬†å›åˆ°é¡¶éƒ¨</a></b></p><h2><b>å‘ç”µæœº</b></h2><p data-pid="ADw-LvQH"><i>ç”Ÿæˆ Go ä»£ç çš„å·¥å…·ã€‚</i></p><ul><li data-pid="-_focyaQ"><a href="https://github.com/reedom/convergen" target="_blank">convergen</a> - åŠŸèƒ½ä¸°å¯Œçš„ç±»å‹åˆ°ç±»å‹çš„å¤åˆ¶ä»£ç ç”Ÿæˆå™¨ã€‚</li><li data-pid="q8B1Jxiz"><a href="https://github.com/switchupcb/copygen" target="_blank">copygen</a> - æ— éœ€åå°„å³å¯ç”Ÿæˆç±»å‹åˆ°ç±»å‹å’ŒåŸºäºç±»å‹çš„ä»£ç ã€‚</li><li data-pid="97lmug2p"><a href="https://github.com/senselogic/GENERIS" target="_blank">generis</a> - æä¾›æ³›å‹ã€è‡ªç”±æ ¼å¼å®ã€æ¡ä»¶ç¼–è¯‘å’Œ HTML æ¨¡æ¿çš„ä»£ç ç”Ÿæˆå·¥å…·ã€‚</li><li data-pid="CzM5Rf7B"><a href="https://github.com/abice/go-enum" target="_blank">go-enum</a> - ä»ä»£ç æ³¨é‡Šä¸­ä¸ºæšä¸¾ç”Ÿæˆä»£ç ã€‚</li><li data-pid="YECdTcO1"><a href="https://github.com/ahmetalpbalkan/go-linq" target="_blank">go-linq</a> - ç”¨äº Go çš„ç±»ä¼¼äº .NET LINQ çš„æŸ¥è¯¢æ–¹æ³•ã€‚</li><li data-pid="-MViIDrf"><a href="https://github.com/awalterschulze/goderive" target="_blank">goderive</a> - ä»è¾“å…¥ç±»å‹æ´¾ç”Ÿå‡½æ•°ã€‚</li><li data-pid="UtARMZfM"><a href="https://github.com/wzshiming/gotype" target="_blank">gotype</a> - Golang æºä»£ç è§£æï¼Œç”¨æ³•ç±»ä¼¼äº reflect åŒ…ã€‚</li><li data-pid="woUwqUP7"><a href="https://github.com/jmattheis/goverter" target="_blank">goverter</a> - é€šè¿‡å®šä¹‰æ¥å£ç”Ÿæˆè½¬æ¢å™¨ã€‚</li><li data-pid="zrnVFdFT"><a href="https://github.com/hexdigest/gowrap" target="_blank">GoWrap</a> - ä½¿ç”¨ç®€å•æ¨¡æ¿ä¸º Go æ¥å£ç”Ÿæˆè£…é¥°å™¨ã€‚</li><li data-pid="NpfASYGL"><a href="https://github.com/rjeczalik/interfaces" target="_blank">interfaces</a> - ç”¨äºç”Ÿæˆæ¥å£å®šä¹‰çš„å‘½ä»¤è¡Œå·¥å…·ã€‚</li><li data-pid="ny3BMWhF"><a href="https://github.com/dave/jennifer" target="_blank">jennifer</a> - ç”Ÿæˆæ²¡æœ‰æ¨¡æ¿çš„ä»»æ„ Go ä»£ç ã€‚</li><li data-pid="lwaLr07e"><a href="https://github.com/xiaoxin01/typeregistry" target="_blank">typeregistry</a> - åŠ¨æ€åˆ›å»ºç±»å‹çš„åº“ã€‚</li></ul><p data-pid="IwG5zFx_"><b><a href="https://github.com/avelino/awesome-go/blob/main/README.md#contents" target="_blank">â¬†å›åˆ°é¡¶éƒ¨</a></b></p><h2><b>åœ°ç†çš„</b></h2><p data-pid="yUTjlYaN"><i>åœ°ç†å·¥å…·å’ŒæœåŠ¡å™¨</i></p><ul><li data-pid="wOewxON_"><a href="https://github.com/hishamkaram/geoserver" target="_blank">geoserver</a> -geoserver æ˜¯ä¸€ä¸ªç”¨äºé€šè¿‡ GeoServer REST API æ“ä½œ GeoServer å®ä¾‹çš„ Go åŒ…ã€‚</li><li data-pid="HTGu8lr9"><a href="https://github.com/hishamkaram/gismanager" target="_blank">gismanager</a> - å°†æ‚¨çš„ GIS æ•°æ®ï¼ˆçŸ¢é‡æ•°æ®ï¼‰å‘å¸ƒåˆ° PostGIS å’Œ Geoserverã€‚</li><li data-pid="TMxB-XSC"><a href="https://github.com/airbusgeo/godal" target="_blank">godal</a> -GDAL çš„åŒ…è£…å™¨ã€‚</li><li data-pid="U5v9lvoY"><a href="https://github.com/uber/h3-go" target="_blank">H3</a> - ç”¨äº H3 çš„ Go ç»‘å®šï¼ŒH3 æ˜¯ä¸€ä¸ªåˆ†å±‚çš„å…­è¾¹å½¢åœ°ç†ç©ºé—´ç´¢å¼•ç³»ç»Ÿã€‚</li><li data-pid="-JdzEGiY"><a href="https://github.com/mmadfox/go-geojson2h3" target="_blank">H3 GeoJSON</a> - H3 ç´¢å¼•å’Œ GeoJSON ä¹‹é—´çš„è½¬æ¢å®ç”¨ç¨‹åºã€‚</li><li data-pid="oJnCmboh"><a href="https://github.com/mmadfox/go-h3geo-dist" target="_blank">H3GeoDist</a> - æŒ‰è™šæ‹ŸèŠ‚ç‚¹åˆ†å¸ƒ Uber H3geo å•å…ƒã€‚</li><li data-pid="qnDsy-_k"><a href="https://github.com/consbio/mbtileserver" target="_blank">mbtileserver</a> - ä¸€ä¸ªç®€å•çš„åŸºäº Go çš„æœåŠ¡å™¨ï¼Œç”¨äºä»¥ mbtiles æ ¼å¼å­˜å‚¨çš„åœ°å›¾å›¾å—ã€‚</li><li data-pid="wQ02rlgM"><a href="https://github.com/paulmach/osm" target="_blank">osm</a> - ç”¨äºè¯»å–ã€å†™å…¥å’Œä½¿ç”¨ OpenStreetMap æ•°æ®å’Œ API çš„åº“ã€‚</li><li data-pid="eenn0fWJ"><a href="https://github.com/maguro/pbf" target="_blank">pbf</a> -OpenStreetMap PBF golang ç¼–ç å™¨/è§£ç å™¨ã€‚</li><li data-pid="ljT-2TIJ"><a href="https://github.com/pantrif/s2-geojson" target="_blank">S2 geojson</a> - å°† geojson è½¬æ¢ä¸º s2 å•å…ƒæ ¼å¹¶åœ¨åœ°å›¾ä¸Šæ¼”ç¤ºä¸€äº› S2 å‡ ä½•ç‰¹å¾ã€‚</li><li data-pid="rY0efXuo"><a href="https://github.com/golang/geo" target="_blank">S2 geometry</a> -Go ä¸­çš„ S2 å‡ ä½•åº“.</li><li data-pid="ZaNee2T0"><a href="https://github.com/peterstace/simplefeatures" target="_blank">simplefeatures</a> - simplesfeatures æ˜¯ä¸€ä¸ª 2D å‡ ä½•åº“ï¼Œå®ƒæä¾›äº†å¯¹å‡ ä½•å»ºæ¨¡çš„ Go ç±»å‹ï¼Œä»¥åŠå¯¹å®ƒä»¬è¿›è¡Œæ“ä½œçš„ç®—æ³•ã€‚</li><li data-pid="ic5sNMaP"><a href="https://github.com/tidwall/tile38" target="_blank">Tile38</a> - å…·æœ‰ç©ºé—´ç´¢å¼•å’Œå®æ—¶åœ°ç†å›´æ çš„åœ°ç†å®šä½æ•°æ®åº“ã€‚</li><li data-pid="-jq5oeKg"><a href="https://github.com/jorelosorio/web-mercator-projection" target="_blank">Web-Mercator-Projection</a>ä¸€ä¸ªä½¿ç”¨ Web Mercator Projection åœ¨åœ°å›¾ä¸­è½»æ¾ä½¿ç”¨å’Œè½¬æ¢ LonLatã€Point å’Œ Tile ä»¥æ˜¾ç¤ºä¿¡æ¯ã€æ ‡è®°ç­‰çš„é¡¹ç›®ã€‚</li><li data-pid="e_pI1K_0"><a href="https://github.com/wroge/wgs84" target="_blank">WGS84</a> - åæ ‡è½¬æ¢å’Œè½¬æ¢åº“ï¼ˆETRS89ã€OSGB36ã€NAD83ã€RGF93ã€Web Mercatorã€UTMï¼‰ã€‚</li></ul><p data-pid="wRMiZZ5I"><b><a href="https://github.com/avelino/awesome-go/blob/main/README.md#contents" target="_blank">â¬†å›åˆ°é¡¶éƒ¨</a></b></p><h2><b>ç¼–è¯‘å™¨</b></h2><p data-pid="mj9bs_VK"><i>å°† Go ç¼–è¯‘ä¸ºå…¶ä»–è¯­è¨€çš„å·¥å…·ã€‚</i></p><ul><li data-pid="0lNKTUjE"><a href="https://github.com/goplus/c2go" target="_blank">c2go</a> - å°† C ä»£ç è½¬æ¢ä¸º Go ä»£ç ã€‚</li><li data-pid="UQp-ehxn"><a href="https://github.com/Konstantin8105/c4go" target="_blank">c4go</a> - å°† C ä»£ç è½¬æ¢ä¸º Go ä»£ç ã€‚</li><li data-pid="kw6tmAvV"><a href="https://github.com/andygeiss/esp32-transpiler" target="_blank">esp32</a> - Transpile è¿›å…¥ Arduino ä»£ç ã€‚</li><li data-pid="WNDz8NCv"><a href="https://github.com/Konstantin8105/f4go" target="_blank">f4go</a> - å°† FORTRAN 77 ä»£ç è½¬æ¢ä¸º Go ä»£ç ã€‚</li><li data-pid="iJYaWl17"><a href="https://github.com/gopherjs/gopherjs" target="_blank">gopherjs</a> - ä» Go åˆ° JavaScript çš„ç¼–è¯‘å™¨ã€‚</li><li data-pid="MX2wNFU6"><a href="https://github.com/tardisgo/tardisgo" target="_blank">tardisgo</a> -Golang åˆ° Haxe åˆ° CPP/CSharp/Java/JavaScript è½¬è¯‘å™¨ã€‚</li></ul><p data-pid="ZZ1MtKUz"><b><a href="https://github.com/avelino/awesome-go/blob/main/README.md#contents" target="_blank">â¬†å›åˆ°é¡¶éƒ¨</a></b></p><h2><b>åç¨‹</b></h2><p data-pid="EvY-BHm3"><i>ç”¨äºç®¡ç†å’Œä½¿ç”¨ Goroutines çš„å·¥å…·ã€‚</i></p><ul><li data-pid="WT-BbehF"><a href="https://github.com/panjf2000/ants" target="_blank">ants</a> - Go ä¸­çš„é«˜æ€§èƒ½å’Œä½æˆæœ¬ goroutine æ± ã€‚</li><li data-pid="-9ffh3P4"><a href="https://github.com/borderstech/artifex" target="_blank">artifex</a> - ä½¿ç”¨åŸºäºå·¥ä½œäººå‘˜çš„è°ƒåº¦çš„ Golang ç®€å•å†…å­˜ä½œä¸šé˜Ÿåˆ—ã€‚</li><li data-pid="r3CHQNhg"><a href="https://github.com/reugn/async" target="_blank">async</a> -Go çš„æ›¿ä»£åŒæ­¥åº“ï¼ˆFutureã€Promiseã€Locksï¼‰ã€‚</li><li data-pid="0cZbZVW1"><a href="https://github.com/studiosol/async" target="_blank">async</a> - ä¸€ç§å®‰å…¨çš„å¼‚æ­¥æ‰§è¡Œå‡½æ•°çš„æ–¹æ³•ï¼Œåœ¨å‡ºç° panic æ—¶æ¢å¤å®ƒä»¬ã€‚</li><li data-pid="3LTuhsZJ"><a href="https://github.com/lab210-dev/async-job" target="_blank">async-job</a> -AsyncJob æ˜¯ä¸€ä¸ªå¼‚æ­¥é˜Ÿåˆ—ä½œä¸šç®¡ç†å™¨ï¼Œä»£ç è½»ï¼Œæ¸…æ™°ï¼Œé€Ÿåº¦å¿«ã€‚</li><li data-pid="COCz_Hka"><a href="https://github.com/kamilsk/breaker" target="_blank">breaker</a> - ä½¿æ‰§è¡Œæµç¨‹å¯ä¸­æ–­çš„çµæ´»æœºåˆ¶ã€‚</li><li data-pid="VCj5qj1J"><a href="https://github.com/ddelizia/channelify" target="_blank">channelify</a> - å°†æ‚¨çš„å‡½æ•°è½¬æ¢ä¸ºè¿”å›é€šé“ä»¥å®ç°ç®€å•è€Œå¼ºå¤§çš„å¹¶è¡Œå¤„ç†ã€‚</li><li data-pid="5jdOVgp0"><a href="https://github.com/sourcegraph/conc" target="_blank">conc</a> -<code>conc</code>æ˜¯æ‚¨åœ¨ go ä¸­è¿›è¡Œç»“æ„åŒ–å¹¶å‘çš„å·¥å…·å¸¦ï¼Œä½¿å¸¸è§ä»»åŠ¡æ›´å®¹æ˜“ã€æ›´å®‰å…¨ã€‚</li><li data-pid="v1El4xIX"><a href="https://github.com/vivek-ng/concurrency-limiter" target="_blank">concurrency-limiter</a> - å¹¶å‘é™åˆ¶å™¨ï¼Œæ”¯æŒ goroutine çš„è¶…æ—¶ã€åŠ¨æ€ä¼˜å…ˆçº§å’Œä¸Šä¸‹æ–‡å–æ¶ˆã€‚</li><li data-pid="prgBRp7-"><a href="https://github.com/ITcathyh/conexec" target="_blank">conexec</a> - ä¸€ä¸ªå¹¶å‘å·¥å…·åŒ…ï¼Œå¯å¸®åŠ©ä»¥é«˜æ•ˆå’Œå®‰å…¨çš„æ–¹å¼å¹¶å‘æ‰§è¡Œå‡½æ•°ã€‚æ”¯æŒæŒ‡å®šæ•´ä½“è¶…æ—¶æ—¶é—´é¿å…é˜»å¡ï¼Œä½¿ç”¨goroutine poolæé«˜æ•ˆç‡ã€‚</li><li data-pid="1vsOiQia"><a href="https://github.com/marusama/cyclicbarrier" target="_blank">cyclicbarrier</a> -golang çš„ CyclicBarrier.</li><li data-pid="IJTvkGPT"><a href="https://github.com/hexdigest/execpool" target="_blank">execpool</a> - ä¸€ä¸ªå›´ç»• exec.Cmd æ„å»ºçš„æ± ï¼Œå®ƒé¢„å…ˆå¯åŠ¨ç»™å®šæ•°é‡çš„è¿›ç¨‹ï¼Œå¹¶åœ¨éœ€è¦æ—¶å°† stdin å’Œ stdout é™„åŠ åˆ°å®ƒä»¬ã€‚ä¸ FastCGI æˆ– Apache Prefork MPM éå¸¸ç›¸ä¼¼ï¼Œä½†é€‚ç”¨äºä»»ä½•å‘½ä»¤ã€‚</li><li data-pid="q2KmMQpN"><a href="https://github.com/vladopajic/go-actor" target="_blank">go-actor</a> - ä¸€ä¸ªä½¿ç”¨ actor æ¨¡å‹ç¼–å†™å¹¶å‘ç¨‹åºçš„å°å‹åº“ã€‚</li><li data-pid="hN1VqIBa"><a href="https://github.com/workanator/go-floc" target="_blank">go-floc</a> - è½»æ¾ç¼–æ’ goroutinesã€‚</li><li data-pid="OkFFfRDa"><a href="https://github.com/kamildrazkiewicz/go-flow" target="_blank">go-flow</a> - æ§åˆ¶ goroutines æ‰§è¡Œé¡ºåºã€‚</li><li data-pid="uUx2-3cV"><a href="https://github.com/nikhilsaraf/go-tools" target="_blank">go-tools/multithreading</a> - ä½¿ç”¨è¿™ä¸ªå¸¦æœ‰ç®€å• API çš„è½»é‡çº§åº“æ¥ç®¡ç† goroutines æ± ã€‚</li><li data-pid="mQG_V3wq"><a href="https://github.com/subchen/go-trylock" target="_blank">go-trylock</a> - å¯¹ Golang çš„è¯»å†™é”çš„ TryLock æ”¯æŒã€‚</li><li data-pid="UTyowvAB"><a href="https://github.com/pieterclaerhout/go-waitgroup" target="_blank">go-waitgroup</a> - ç±»ä¼¼äº<code>sync.WaitGroup</code>é”™è¯¯å¤„ç†å’Œå¹¶å‘æ§åˆ¶ã€‚</li><li data-pid="hFStFDjm"><a href="https://github.com/zenthangplus/go-workerpool" target="_blank">go-workerpool</a> - å— Java çº¿ç¨‹æ± çš„å¯å‘ï¼ŒGo WorkerPool æ—¨åœ¨æ§åˆ¶ç¹é‡çš„ Go Routinesã€‚</li><li data-pid="NYJqPWqF"><a href="https://github.com/catmullet/go-workers" target="_blank">go-workers</a> - è½»æ¾å®‰å…¨åœ°ä¸ºå¤§å‹æ•°æ®å¤„ç†ç®¡é“è¿è¡Œå·¥ä½œäººå‘˜ã€‚</li><li data-pid="uKNcxhQU"><a href="https://github.com/zenthangplus/goccm" target="_blank">goccm</a> - Go å¹¶å‘ç®¡ç†å™¨åŒ…é™åˆ¶å…è®¸å¹¶å‘è¿è¡Œçš„ goroutines çš„æ•°é‡ã€‚</li><li data-pid="EBWTXS07"><a href="https://github.com/loveleshsharma/gohive" target="_blank">gohive</a> - ç”¨äº Go çš„é«˜æ€§èƒ½ä¸”æ˜“äºä½¿ç”¨çš„ Goroutine æ± ã€‚</li><li data-pid="O1N4lEDg"><a href="https://github.com/vardius/gollback" target="_blank">gollback</a> - å¼‚æ­¥ç®€å•å‡½æ•°å®ç”¨ç¨‹åºï¼Œç”¨äºç®¡ç†é—­åŒ…å’Œå›è°ƒçš„æ‰§è¡Œã€‚</li><li data-pid="yENrWwUM"><a href="https://github.com/hamed-yousefi/gowl" target="_blank">gowl</a> - Gowl æ˜¯ä¸€ä¸ªæµç¨‹ç®¡ç†å’Œæµç¨‹ç›‘æ§å·¥å…·ã€‚æ— é™å·¥ä½œæ± ä½¿æ‚¨èƒ½å¤Ÿæ§åˆ¶æ± å’Œè¿›ç¨‹å¹¶ç›‘è§†å®ƒä»¬çš„çŠ¶æ€ã€‚</li><li data-pid="GR2w5eC0"><a href="https://github.com/benmanns/goworker" target="_blank">goworker</a> -goworker æ˜¯ä¸€ä¸ªåŸºäº Go çš„åå°å·¥ä½œè€…ã€‚</li><li data-pid="ZejzXQFq"><a href="https://github.com/xxjwxc/gowp" target="_blank">gowp</a> - gowp æ˜¯å¹¶å‘é™åˆ¶ goroutine æ± ã€‚</li><li data-pid="4NBXN5qB"><a href="https://github.com/Sherifabdlnaby/gpool" target="_blank">gpool</a> - ç®¡ç†ä¸€ä¸ªå¯è°ƒæ•´å¤§å°çš„ä¸Šä¸‹æ–‡æ„ŸçŸ¥ goroutines æ± ä»¥ç»‘å®šå¹¶å‘æ€§ã€‚</li><li data-pid="vUHpI5Mx"><a href="https://github.com/ivpusic/grpool" target="_blank">grpool</a> - è½»é‡çº§ Goroutine æ± ã€‚</li><li data-pid="0hBACmYy"><a href="https://github.com/duanckham/hands" target="_blank">hands</a> - ä¸€ä¸ªè¿›ç¨‹æ§åˆ¶å™¨ï¼Œç”¨äºæ§åˆ¶å¤šä¸ª goroutine çš„æ‰§è¡Œå’Œè¿”å›ç­–ç•¥ã€‚</li><li data-pid="o5erxUW6"><a href="https://github.com/AaronJan/Hunch" target="_blank">Hunch</a><code>All</code> - Hunch æä¾›äº†ã€<code>First</code>ã€ç­‰åŠŸèƒ½ï¼Œä½¿å¼‚æ­¥æµæ§åˆ¶æ›´åŠ ç›´è§‚<code>Retry</code>ã€‚<code>Waterfall</code></li><li data-pid="eBqrbNCF"><a href="https://github.com/dirkaholic/kyoo" target="_blank">kyoo</a> - æä¾›æ— é™çš„ä½œä¸šé˜Ÿåˆ—å’Œå¹¶å‘å·¥ä½œæ± ã€‚</li><li data-pid="SexRulPo"><a href="https://github.com/neilotoole/errgroup" target="_blank">neilotoole/errgroup</a> - çš„æ›¿ä»£å“<code>sync/errgroup</code>ï¼Œä»…é™äº N ä¸ª worker goroutines æ± ã€‚</li><li data-pid="p5RAYPXd"><a href="https://github.com/arunsworld/nursery" target="_blank">nursery</a> -Go ä¸­çš„ç»“æ„åŒ–å¹¶å‘ã€‚</li><li data-pid="klGsT2nv"><a href="https://cirello.io/oversight" target="_blank">ç›‘ç£</a>- ç›‘ç£æ˜¯ Erlang ç›‘ç£æ ‘çš„å®Œæ•´å®ç°ã€‚</li><li data-pid="30gx5s48"><a href="https://github.com/rafaeljesus/parallel-fn" target="_blank">parallel-fn</a> - å¹¶è¡Œè¿è¡Œå‡½æ•°ã€‚</li><li data-pid="TzlfuBVF"><a href="https://github.com/alitto/pond" target="_blank">pond</a> - ç”¨ Go ç¼–å†™çš„ç®€çº¦å’Œé«˜æ€§èƒ½ goroutine å·¥ä½œæ± ã€‚</li><li data-pid="Qs70bxkX"><a href="https://github.com/go-playground/pool" target="_blank">pool</a> - æœ‰é™çš„æ¶ˆè´¹è€… goroutine æˆ–æ— é™çš„ goroutine æ± ï¼Œä»¥ä¾¿äº goroutine å¤„ç†å’Œå–æ¶ˆã€‚</li><li data-pid="YLU4ZfD7"><a href="https://github.com/AnikHasibul/queue" target="_blank">é˜Ÿåˆ—</a>- ä¸ºæ‚¨æä¾›<code>sync.WaitGroup</code>ç±»ä¼¼é˜Ÿåˆ—ç»„çš„å¯è®¿é—®æ€§ã€‚å¸®åŠ©æ‚¨èŠ‚åˆ¶å’Œé™åˆ¶ goroutinesï¼Œç­‰å¾…æ‰€æœ‰ goroutines ç»“æŸç­‰ç­‰ã€‚</li><li data-pid="DSKrzT_t"><a href="https://github.com/timandy/routine" target="_blank">routine</a> -<code>routine</code>æ˜¯ä¸€ä¸ª<code>ThreadLocal</code>ç”¨äº go çš„åº“ã€‚å®ƒå°è£…å¹¶æä¾›äº†ä¸€äº›æ˜“ç”¨ã€æ— ç«äº‰ã€é«˜æ€§èƒ½çš„<code>goroutine</code>ä¸Šä¸‹æ–‡è®¿é—®æ¥å£ï¼Œå¯ä»¥å¸®åŠ©ä½ æ›´ä¼˜é›…åœ°è®¿é—®åç¨‹ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚</li><li data-pid="XakBHpBk"><a href="https://github.com/x-mod/routine" target="_blank">ä¾‹ç¨‹</a>- ä½¿ç”¨ä¸Šä¸‹æ–‡è¿›è¡Œä¾‹ç¨‹æ§åˆ¶ï¼Œæ”¯æŒï¼šMainã€Goã€Pool å’Œä¸€äº›æœ‰ç”¨çš„æ‰§è¡Œå™¨ã€‚</li><li data-pid="T0SdO51o"><a href="https://github.com/kamilsk/semaphore" target="_blank">semaphore</a> - åŸºäºé€šé“å’Œä¸Šä¸‹æ–‡çš„é”å®š/è§£é”æ“ä½œè¶…æ—¶çš„ä¿¡å·é‡æ¨¡å¼å®ç°ã€‚</li><li data-pid="745B1v2S"><a href="https://github.com/marusama/semaphore" target="_blank">semaphore</a> - åŸºäº CAS çš„å¿«é€Ÿå¯è°ƒæ•´å¤§å°çš„ä¿¡å·é‡å®ç°ï¼ˆæ¯”åŸºäºé€šé“çš„ä¿¡å·é‡å®ç°æ›´å¿«ï¼‰ã€‚</li><li data-pid="DSIEMBWK"><a href="https://github.com/ssgreg/stl" target="_blank">stl</a> - åŸºäºè½¯ä»¶äº‹åŠ¡å†…å­˜ (STM) å¹¶å‘æ§åˆ¶æœºåˆ¶çš„è½¯ä»¶äº‹åŠ¡é”ã€‚</li><li data-pid="DW8WSf7m"><a href="https://github.com/shettyh/threadpool" target="_blank">threadpool</a> -Golang çº¿ç¨‹æ± å®ç°ã€‚</li><li data-pid="vRXXWw9-"><a href="https://github.com/Jeffail/tunny" target="_blank">tunny</a> -golang çš„ Goroutine æ± ã€‚</li><li data-pid="D5wHArtr"><a href="https://github.com/vardius/worker-pool" target="_blank">worker-pool</a> -goworker æ˜¯ä¸€ä¸ªç®€å•çš„ Go å¼‚æ­¥å·¥ä½œæ± ã€‚</li><li data-pid="kBal2DFa"><a href="https://github.com/gammazero/workerpool" target="_blank">workerpool</a> - Goroutine æ± ï¼Œå®ƒé™åˆ¶ä»»åŠ¡æ‰§è¡Œçš„å¹¶å‘æ€§ï¼Œè€Œä¸æ˜¯æ’é˜Ÿçš„ä»»åŠ¡æ•°ã€‚</li></ul><p data-pid="kVARkoR9"><b><a href="https://github.com/avelino/awesome-go/blob/main/README.md#contents" target="_blank">â¬†å›åˆ°é¡¶éƒ¨</a></b></p><h2><b>å›¾å½¢ç”¨æˆ·ç•Œé¢</b></h2><p data-pid="dadXVNcx"><i>ç”¨äºæ„å»º GUI åº”ç”¨ç¨‹åºçš„åº“ã€‚</i></p><p data-pid="T4PLEjxY"><i>å·¥å…·åŒ…</i></p><ul><li data-pid="Fz0l9XCt"><a href="https://github.com/murlokswarm/app" target="_blank">app</a> - ä½¿ç”¨ GOã€HTML å’Œ CSS åˆ›å»ºåº”ç”¨ç¨‹åºçš„åŒ…ã€‚æ”¯æŒï¼šMacOSï¼Œæ­£åœ¨è¿›è¡Œä¸­çš„ Windowsã€‚</li><li data-pid="S4EP1PI8"><a href="https://github.com/fyne-io/fyne" target="_blank">fyne</a> - åŸºäº Material Design ä¸º Go è®¾è®¡çš„è·¨å¹³å°åŸç”Ÿ GUIã€‚æ”¯æŒï¼šLinuxã€macOSã€Windowsã€BSDã€iOS å’Œ Androidã€‚</li><li data-pid="uhq3q0Py"><a href="https://gioui.org/" target="_blank">gio</a> -Gio æ˜¯ä¸€ä¸ªç”¨äºåœ¨ Go ä¸­ç¼–å†™è·¨å¹³å°å³æ—¶æ¨¡å¼ GUI-s çš„åº“ã€‚Gio æ”¯æŒæ‰€æœ‰ä¸»è¦å¹³å°ï¼šLinuxã€macOSã€Windowsã€Androidã€iOSã€FreeBSDã€OpenBSD å’Œ WebAssemblyã€‚</li><li data-pid="T8-eGzP2"><a href="https://github.com/asticode/go-astilectron" target="_blank">go-astilectron</a> - ä½¿ç”¨ GO å’Œ HTML/JS/CSSï¼ˆç”± Electron æä¾›æ”¯æŒï¼‰æ„å»ºè·¨å¹³å° GUI åº”ç”¨ç¨‹åºã€‚</li><li data-pid="_rhKHqT5"><a href="https://mattn.github.io/go-gtk/" target="_blank">go-gtk</a> - GTK çš„ Go ç»‘å®šã€‚</li><li data-pid="l9RD9vb-"><a href="https://github.com/sciter-sdk/go-sciter" target="_blank">go-sciter -Sciter</a>çš„ Go ç»‘å®šï¼šç”¨äºç°ä»£æ¡Œé¢ UI å¼€å‘çš„å¯åµŒå…¥ HTML/CSS/è„šæœ¬å¼•æ“ã€‚è·¨å¹³å°ã€‚</li><li data-pid="Jre2_9_f"><a href="https://github.com/goradd/html5tag" target="_blank">goradd/html5tag</a> - ç”¨äºè¾“å‡º HTML5 æ ‡ç­¾çš„åº“ã€‚</li><li data-pid="vGvtscxz"><a href="https://github.com/gotk3/gotk3" target="_blank">gotk3</a> - GTK3 çš„ Go ç»‘å®šã€‚</li><li data-pid="6RFrcUuP"><a href="https://github.com/dtylman/gowd" target="_blank">gowd</a> - ä½¿ç”¨ GOã€HTMLã€CSS å’Œ NW.js è¿›è¡Œå¿«é€Ÿç®€å•çš„æ¡Œé¢ UI å¼€å‘ã€‚è·¨å¹³å°ã€‚</li><li data-pid="N_ccFcH0"><a href="https://github.com/therecipe/qt" target="_blank">qt</a> -Go çš„ Qt ç»‘å®šï¼ˆæ”¯æŒ Windows / macOS / Linux / Android / iOS / Sailfish OS / Raspberry Piï¼‰ã€‚</li><li data-pid="G1wdvqXN"><a href="https://github.com/andlabs/ui" target="_blank">ui</a> -Go çš„å¹³å°åŸç”Ÿ GUI åº“ã€‚è·¨å¹³å°ã€‚</li><li data-pid="QfCIm5QY"><a href="https://wails.io/" target="_blank">Wails</a> - Macã€Windowsã€Linux æ¡Œé¢åº”ç”¨ç¨‹åºï¼Œå¸¦æœ‰ä½¿ç”¨å†…ç½®æ“ä½œç³»ç»Ÿ HTML æ¸²æŸ“å™¨çš„ HTML UIã€‚</li><li data-pid="HFZg519s"><a href="https://github.com/lxn/walk" target="_blank">walk</a> -Go çš„ Windows åº”ç”¨ç¨‹åºåº“å·¥å…·åŒ…ã€‚</li><li data-pid="sFfg2-v2"><a href="https://github.com/zserge/webview" target="_blank">webview</a> - å…·æœ‰ç®€å•çš„åŒå‘ JavaScript ç»‘å®šï¼ˆWindows / macOS / Linuxï¼‰çš„è·¨å¹³å° webview çª—å£ã€‚</li></ul><p data-pid="USrDu4jz"><i>ç›¸äº’ä½œç”¨</i></p><ul><li data-pid="yKuuLCPa"><a href="https://github.com/gopherlibs/appindicator" target="_blank">AppIndicator Go</a> - libappindicator3 C åº“çš„ Go ç»‘å®šã€‚</li><li data-pid="mOe1k9T7"><a href="https://github.com/deckarep/gosx-notifier" target="_blank">gosx-notifier</a> -Go çš„ OSX æ¡Œé¢é€šçŸ¥åº“ã€‚</li><li data-pid="GrcDsITR"><a href="https://github.com/prashantgupta24/activity-tracker" target="_blank">mac-activity-tracker</a> - OSX åº“ï¼Œç”¨äºé€šçŸ¥æ‚¨æœºå™¨ä¸Šçš„ä»»ä½•ï¼ˆå¯æ’å…¥ï¼‰æ´»åŠ¨ã€‚</li><li data-pid="P1yRp3gJ"><a href="https://github.com/prashantgupta24/mac-sleep-notifier" target="_blank">mac-sleep-notifier</a> -golang ä¸­çš„ OSX ç¡çœ /å”¤é†’é€šçŸ¥.</li><li data-pid="Jn4XvI4k"><a href="https://github.com/go-vgo/robotgo" target="_blank">robotgo</a> - Go Native è·¨å¹³å° GUI ç³»ç»Ÿè‡ªåŠ¨åŒ–ã€‚æ§åˆ¶é¼ æ ‡ã€é”®ç›˜ç­‰ã€‚</li><li data-pid="thDBxj_Y"><a href="https://github.com/getlantern/systray" target="_blank">systray</a> - è·¨å¹³å° Go åº“ï¼Œç”¨äºåœ¨é€šçŸ¥åŒºåŸŸæ”¾ç½®å›¾æ ‡å’Œèœå•ã€‚</li><li data-pid="ewV5FzpA"><a href="https://github.com/shurcooL/trayhost" target="_blank">trayhost</a> - è·¨å¹³å° Go åº“ï¼Œç”¨äºåœ¨ä¸»æœºæ“ä½œç³»ç»Ÿçš„ä»»åŠ¡æ ä¸­æ”¾ç½®ä¸€ä¸ªå›¾æ ‡ã€‚</li><li data-pid="BeiterrE"><a href="https://github.com/ncruces/zenity" target="_blank">zenity</a> - è·¨å¹³å° Go åº“å’Œ CLIï¼Œç”¨äºåˆ›å»ºä¸ç”¨æˆ·è¿›è¡Œå›¾å½¢äº¤äº’çš„ç®€å•å¯¹è¯æ¡†ã€‚</li></ul><p data-pid="7zSBSJrr"><b><a href="https://github.com/avelino/awesome-go/blob/main/README.md#contents" target="_blank">â¬†å›åˆ°é¡¶éƒ¨</a></b></p><h2><b>ç¡¬ä»¶</b></h2><p data-pid="m-PhI4wq"><i>ç”¨äºä¸ç¡¬ä»¶äº¤äº’çš„åº“ã€å·¥å…·å’Œæ•™ç¨‹ã€‚</i></p><ul><li data-pid="_mWWhXil"><a href="https://github.com/arduino/arduino-cli" target="_blank">arduino-cli</a> - å®˜æ–¹ Arduino CLI å’Œåº“ã€‚å¯ä»¥ç‹¬ç«‹è¿è¡Œï¼Œä¹Ÿå¯ä»¥åˆå¹¶åˆ°æ›´å¤§çš„ Go é¡¹ç›®ä¸­ã€‚</li><li data-pid="mCwsMni8"><a href="https://github.com/ziutek/emgo" target="_blank">emgo</a> - ç”¨äºç¼–ç¨‹åµŒå…¥å¼ç³»ç»Ÿï¼ˆä¾‹å¦‚ STM32 MCUï¼‰çš„ç±» Go è¯­è¨€ã€‚</li><li data-pid="wSzkapsA"><a href="https://github.com/jaypipes/ghw" target="_blank">ghw</a> -Golang ç¡¬ä»¶å‘ç°/æ£€æŸ¥åº“ã€‚</li><li data-pid="Ns6iXxiV"><a href="https://github.com/hypebeast/go-osc" target="_blank">go-osc -Go</a>çš„å¼€æ”¾å£°éŸ³æ§åˆ¶ï¼ˆOSCï¼‰ç»‘å®šã€‚</li><li data-pid="0XJd4AIV"><a href="https://github.com/stianeikeland/go-rpio" target="_blank">go-rpio</a> -Go çš„ GPIOï¼Œä¸éœ€è¦ cgoã€‚</li><li data-pid="E_wut1ZR"><a href="https://github.com/aler9/goroslib" target="_blank">goroslib</a> -Go çš„æœºå™¨äººæ“ä½œç³»ç»Ÿ (ROS) åº“ã€‚</li><li data-pid="JYoWiDMX"><a href="https://github.com/0xcafed00d/joystick" target="_blank">joystick</a> - ä¸€ä¸ªè½®è¯¢ APIï¼Œç”¨äºè¯»å–è¿æ¥çš„æ“çºµæ†çš„çŠ¶æ€ã€‚</li><li data-pid="vUhkRqUB"><a href="https://github.com/zcalusic/sysinfo" target="_blank">sysinfo</a> - æä¾› Linux æ“ä½œç³»ç»Ÿ/å†…æ ¸/ç¡¬ä»¶ç³»ç»Ÿä¿¡æ¯çš„çº¯ Go åº“ã€‚</li></ul><p data-pid="6x9KZ5O0"><b><a href="https://github.com/avelino/awesome-go/blob/main/README.md#contents" target="_blank">â¬†å›åˆ°é¡¶éƒ¨</a></b></p><h2><b>å›¾ç‰‡</b></h2><p data-pid="l3exOTcm"><i>ç”¨äºå¤„ç†å›¾åƒçš„åº“ã€‚</i></p><ul><li data-pid="h0wiUGTJ"><a href="https://github.com/anthonynsimon/bild" target="_blank">bild</a> - çº¯ Go ä¸­çš„å›¾åƒå¤„ç†ç®—æ³•é›†åˆã€‚</li><li data-pid="VMNJCxc-"><a href="https://github.com/h2non/bimg" target="_blank">bimg</a> - ä½¿ç”¨ libvips è¿›è¡Œå¿«é€Ÿé«˜æ•ˆå›¾åƒå¤„ç†çš„å°åŒ…ã€‚</li><li data-pid="KeHTipor"><a href="https://github.com/aofei/cameron" target="_blank">cameron</a> -Go çš„å¤´åƒç”Ÿæˆå™¨ã€‚</li><li data-pid="QPnHd8HB"><a href="https://github.com/tdewolff/canvas" target="_blank">canvas</a> - çŸ¢é‡å›¾å½¢åˆ° PDFã€SVG æˆ–å…‰æ …åŒ–å›¾åƒã€‚</li><li data-pid="aUpHlkve"><a href="https://github.com/marekm4/color-extractor" target="_blank">color-extractor</a> - æ²¡æœ‰å¤–éƒ¨ä¾èµ–æ€§çš„ä¸»è¦é¢œè‰²æå–å™¨ã€‚</li><li data-pid="f9V9lLqV"><a href="https://github.com/gojek/darkroom" target="_blank">darkroom</a> - å…·æœ‰å¯å˜å­˜å‚¨åç«¯å’Œå›¾åƒå¤„ç†å¼•æ“çš„å›¾åƒä»£ç†ï¼Œä¸“æ³¨äºé€Ÿåº¦å’Œå¼¹æ€§ã€‚</li><li data-pid="1WUMJAK8"><a href="https://github.com/lucasepe/draft" target="_blank">draft</a> - ä½¿ç”¨ç®€å•çš„ YAML è¯­æ³•ä¸º GraphViz ç”Ÿæˆé«˜çº§å¾®æœåŠ¡æ¶æ„å›¾ã€‚</li><li data-pid="rBWuZit1"><a href="https://github.com/pravj/geopattern" target="_blank">geopattern</a> - ä»å­—ç¬¦ä¸²åˆ›å»ºæ¼‚äº®çš„ç”Ÿæˆå›¾åƒæ¨¡å¼ã€‚</li><li data-pid="vTlsVRMJ"><a href="https://github.com/fogleman/gg" target="_blank">gg</a> - çº¯ Go ä¸­çš„ 2D æ¸²æŸ“ã€‚</li><li data-pid="v-2eMNi0"><a href="https://github.com/disintegration/gift" target="_blank">gift</a> - å›¾åƒå¤„ç†è¿‡æ»¤å™¨åŒ…ã€‚</li><li data-pid="NRMNwpF1"><a href="https://github.com/qmuntal/gltf" target="_blank">gltf</a> - é«˜æ•ˆä¸”å¼ºå¤§çš„ glTF 2.0 é˜…è¯»å™¨ã€ç¼–å†™å™¨å’ŒéªŒè¯å™¨ã€‚</li><li data-pid="flv1SFJG"><a href="https://github.com/ungerik/go-cairo" target="_blank">go-cairo</a> - å»ç»‘å®š cairo å›¾å½¢åº“ã€‚</li><li data-pid="Mhv3LXpQ"><a href="https://github.com/bolknote/go-gd" target="_blank">go-gd</a> - ç»‘å®š GD åº“ã€‚</li><li data-pid="85ZJr0-P"><a href="https://github.com/koyachi/go-nude" target="_blank">go-nude</a> - ä½¿ç”¨ Go è¿›è¡Œè£¸ä½“æ£€æµ‹ã€‚</li><li data-pid="pWIrTAp3"><a href="https://github.com/jyotiska/go-webcolors" target="_blank">go-webcolors</a> - ä» Python åˆ° Go çš„ webcolors åº“çš„ç«¯å£ã€‚</li><li data-pid="6lGjFkyx"><a href="https://github.com/kolesa-team/go-webp" target="_blank">go-webp</a> - ä½¿ç”¨ libwebp ç¼–ç å’Œè§£ç  webp å›¾ç‰‡çš„åº“ã€‚</li><li data-pid="bg1Zhbe9"><a href="https://github.com/hybridgroup/gocv" target="_blank">gocv</a> - ä½¿ç”¨ OpenCV 3.3+ çš„è®¡ç®—æœºè§†è§‰ Go åŒ…ã€‚</li><li data-pid="vnQcwBlm"><a href="https://github.com/corona10/goimagehash" target="_blank">goimagehash</a> - Go æ„ŸçŸ¥å›¾åƒå“ˆå¸ŒåŒ…ã€‚</li><li data-pid="7zxeRAGU"><a href="https://github.com/corona10/goimghdr" target="_blank">goimghdr</a> - imghdr æ¨¡å—ç¡®å®š Go æ–‡ä»¶ä¸­åŒ…å«çš„å›¾åƒç±»å‹ã€‚</li><li data-pid="Jalxot9I"><a href="https://github.com/o1egl/govatar" target="_blank">govatar</a> - ç”¨äºç”Ÿæˆæœ‰è¶£å¤´åƒçš„åº“å’Œ CMD å·¥å…·ã€‚</li><li data-pid="iuvcsBzK"><a href="https://github.com/davidbyttow/govips" target="_blank">govips</a> - Go çš„é—ªç”µèˆ¬å¿«é€Ÿå›¾åƒå¤„ç†å’Œå¤§å°è°ƒæ•´åº“ã€‚</li><li data-pid="NhaC1E_0"><a href="https://github.com/sensepost/gowitness" target="_blank">gowitness</a> - åœ¨å‘½ä»¤è¡Œä¸Šä½¿ç”¨ go å’Œ headless chrome æˆªå–ç½‘é¡µã€‚</li><li data-pid="YbhBNT5n"><a href="https://github.com/shomali11/gridder" target="_blank">gridder</a> - åŸºäºç½‘æ ¼çš„ 2D å›¾å½¢åº“ã€‚</li><li data-pid="OhV3Lmmi"><a href="https://github.com/qeesung/image2ascii" target="_blank">image2ascii</a> - å°†å›¾åƒè½¬æ¢ä¸º ASCIIã€‚</li><li data-pid="tkyh6Pz7"><a href="https://github.com/gographics/imagick" target="_blank">imagick</a> - ç»‘å®šåˆ° ImageMagick çš„ MagickWand C APIã€‚</li><li data-pid="n0Y0trYH"><a href="https://github.com/h2non/imaginary" target="_blank">imaginary</a> - ç”¨äºå›¾åƒå¤§å°è°ƒæ•´çš„å¿«é€Ÿç®€å•çš„ HTTP å¾®æœåŠ¡ã€‚</li><li data-pid="4QH0Leam"><a href="https://github.com/disintegration/imaging" target="_blank">imaging</a> - ç®€å•çš„ Go å›¾åƒå¤„ç†åŒ…ã€‚</li><li data-pid="MpWtQH-A"><a href="https://github.com/hawx/img" target="_blank">img</a> - å›¾åƒå¤„ç†å·¥å…·çš„é€‰æ‹©ã€‚</li><li data-pid="clBcZyv4"><a href="https://github.com/fogleman/ln" target="_blank">ln</a> -Go ä¸­çš„ 3D çº¿æ¡è‰ºæœ¯æ¸²æŸ“.</li><li data-pid="VX9kqXcw"><a href="https://github.com/noelyahan/mergi" target="_blank">mergi</a> - ç”¨äºå›¾åƒå¤„ç†ï¼ˆåˆå¹¶ã€è£å‰ªã€è°ƒæ•´å¤§å°ã€æ°´å°ã€åŠ¨ç”»ï¼‰çš„ Tool &amp; Go åº“ã€‚</li><li data-pid="FnFMrVAG"><a href="https://github.com/aldor007/mort" target="_blank">mort</a> - ç”¨ Go ç¼–å†™çš„å­˜å‚¨å’Œå›¾åƒå¤„ç†æœåŠ¡å™¨ã€‚</li><li data-pid="vAw1-YI0"><a href="https://github.com/donatj/mpo" target="_blank">mpo</a> - MPO 3D ç…§ç‰‡çš„è§£ç å™¨å’Œè½¬æ¢å·¥å…·ã€‚</li><li data-pid="giGKcLoW"><a href="https://github.com/thoas/picfit" target="_blank">picfit</a> - ç”¨ Go ç¼–å†™çš„å›¾åƒå¤§å°è°ƒæ•´æœåŠ¡å™¨ã€‚</li><li data-pid="u7dsp5YN"><a href="https://github.com/fogleman/pt" target="_blank">pt</a> - ç”¨ Go ç¼–å†™çš„è·¯å¾„è·Ÿè¸ªå¼•æ“ã€‚</li><li data-pid="NwEz2fx2"><a href="https://github.com/nfnt/resize" target="_blank">resize</a> - ä½¿ç”¨å¸¸è§çš„æ’å€¼æ–¹æ³•è°ƒæ•´ Go çš„å›¾åƒå¤§å°ã€‚</li><li data-pid="qnLSltd4"><a href="https://github.com/bamiaux/rez" target="_blank">rez</a> - åœ¨çº¯ Go å’Œ SIMD ä¸­è°ƒæ•´å›¾åƒå¤§å°ã€‚</li><li data-pid="Wc5s62o-"><a href="https://github.com/jonoton/scout" target="_blank">scout</a> -Scout æ˜¯ç”¨äº DIY è§†é¢‘å®‰å…¨çš„ç‹¬ç«‹å¼€æºè½¯ä»¶è§£å†³æ–¹æ¡ˆã€‚</li><li data-pid="YWefvfXx"><a href="https://github.com/muesli/smartcrop" target="_blank">smartcrop</a> - ä¸ºä»»æ„å›¾åƒå’Œè£å‰ªå°ºå¯¸æ‰¾åˆ°å¥½çš„è£å‰ªã€‚</li><li data-pid="bmQy6fbG"><a href="https://github.com/auyer/steganography" target="_blank">éšå†™æœ¯</a>- ç”¨äº LSB éšå†™æœ¯çš„ Pure Go åº“ã€‚</li><li data-pid="IIRb6KLv"><a href="https://github.com/DimitarPetrov/stegify" target="_blank">stegify</a> - ç”¨äº LSB éšå†™æœ¯çš„ Go å·¥å…·ï¼Œèƒ½å¤Ÿéšè—å›¾åƒä¸­çš„ä»»ä½•æ–‡ä»¶ã€‚</li><li data-pid="cOQV1CBv"><a href="https://github.com/ajstarks/svgo" target="_blank">svgo</a> - ç”¨äºç”Ÿæˆ SVG çš„ Go è¯­è¨€åº“ã€‚</li><li data-pid="ELLe3gVi"><a href="https://github.com/ftrvxmtrx/tga" target="_blank">tga</a> - åŒ… tga æ˜¯ TARGA å›¾åƒæ ¼å¼è§£ç å™¨/ç¼–ç å™¨.</li><li data-pid="h70iJXQV"><a href="https://github.com/mehdipourfar/webp-server" target="_blank">webp-server</a> - ç®€å•ä¸”æœ€å°çš„å›¾åƒæœåŠ¡å™¨ï¼Œèƒ½å¤Ÿå­˜å‚¨ã€è°ƒæ•´å¤§å°ã€è½¬æ¢å’Œç¼“å­˜å›¾åƒã€‚</li></ul><p data-pid="zrH3ZyBF"><b><a href="https://github.com/avelino/awesome-go/blob/main/README.md#contents" target="_blank">â¬†å›åˆ°é¡¶éƒ¨</a></b></p></div> </details> 
 <hr /> 

 #### - [K8s æ·±å…¥ç†è§£ Operator-client è¯¦è§£](https://zhuanlan.zhihu.com/p/629622839) 
 <details><summary>ØªÙˆØ¶ÛŒØ­Ø§Øª</summary> <p><img src="https://picx.zhimg.com/v2-d12ae74deeea18ad5c95787a23571678_720w.jpg?source=d16d100b"></p><div><h2><b>å‰è¨€</b></h2><p data-pid="SRtkXteN">åœ¨ä¸Šä¸€ä¸ªå¯¹äº client-go å­¦ä¹ ä¸­ï¼Œé€šè¿‡ sample-controller çš„é¡¹ç›®äº†è§£åˆ° Kubernetes çš„ éƒ¨åˆ† client-go çš„å­¦ä¹ ã€‚ç»§ç»­æ·±å…¥å­¦ä¹  client-go</p><p class="ztext-empty-paragraph"><br></p><h3><b>Client-go</b></h3><p data-pid="Wug3JoyS">kubectl å¹¶ä¸é€‚åˆ Kubernetes çš„äºŒæ¬¡å¼€å‘è€…æ¥å’Œ k8s æ‰“äº¤é“ï¼ŒGoè¯­è¨€æä¾›äº†ä¸€ä¸ªä¸“é—¨å’Œ Kubernetes API äº¤äº’çš„ åº“ Client-goã€‚</p><p data-pid="O386CRjt">Kubernetes ä¹Ÿæä¾›äº†ä¸€ä¸ªç¼–å†™æ§åˆ¶å™¨<a href="https://github.com/kubernetes/sample-controller/" target="_blank">çš„å°æ¡ˆä¾‹</a>ï¼Œå¯ä»¥ä½œä¸º client-go çš„å…¥é—¨</p><p data-pid="j4E32IYw">Client-goæ˜¯ä¸€ä¸ªç”¨äºä¸ Kubernetes API äº¤äº’çš„Goåº“ã€‚å®ƒæä¾›äº†å¹¿æ³›çš„åŠŸèƒ½ï¼Œç”¨äºä¸Kubernetes APIäº¤äº’ï¼ŒåŒ…æ‹¬å¼ºç±»å‹ APIã€èµ„æºå®¢æˆ·ç«¯ã€Watch API å’ŒåŠ¨æ€å®¢æˆ·ç«¯ã€‚ä½¿ç”¨ client-goï¼Œå¼€å‘äººå‘˜å¯ä»¥è½»æ¾åœ°åœ¨ Kubernetes ä¸­åˆ›å»ºã€è¯»å–ã€æ›´æ–°å’Œåˆ é™¤èµ„æºå¯¹è±¡ã€‚</p><blockquote data-pid="clmRJjhz">ä»è¿™ä¸ª<code>package</code>çš„åç§°æ¥çœ‹ï¼Œè¿™åº”è¯¥æ˜¯è·Ÿ<code>k8s</code>æ‰“äº¤é“çš„å®¢æˆ·ç«¯<code>client</code>çš„<code>go</code>å®ç°ï¼Œè¿™ä¸€ç‚¹æ²¡é”™ï¼Œå®ƒå®šä¹‰äº†è¯¸å¤šèµ„æºçš„å®¢æˆ·ç«¯<code>client</code>ã€‚</blockquote><ul><li data-pid="eLU_LM_8"><a href="https://github.com/kubernetes/client-go" target="_blank">Client-go GitHub Address</a></li><li data-pid="QjVZ9qiu"><a href="https://github.com/cubxxw/client-go" target="_blank"><span class="invisible">https://</span><span class="visible">github.com/cubxxw/clien</span><span class="invisible">t-go</span><span class="ellipsis"></span></a></li></ul><p data-pid="zwh2UImq">ä¸Šé¢æ˜¯ client-go çš„ GitHub ä»“åº“ï¼Œä¸è¿‡è¿™ä¸ªåº“æ˜¯ actions ä»¥æ¯å¤©ä¸€æ¬¡çš„é¢‘ç‡ä» Kubernetes/Kubernetes ä¸»ä»“åº“ä¸­è‡ªåŠ¨åŒæ­¥è¿‡æ¥çš„ã€‚æ‰€ä»¥å¦‚æœæˆ‘ä»¬æƒ³è´¡çŒ®çš„è¯æ‰¾å¥½ä½ç½®å» Kubernetes è´¡çŒ®ï¼ˆkubernetes/stagin/src/<a href="http://k8s.io" target="_blank"><span class="invisible">http://</span><span class="visible">k8s.io</span><span class="invisible"></span></a>ï¼‰ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>Client-goç›®å½•ç»“æ„</b></h3><div class="highlight"><pre><code class="language-bash"> â”œâ”€â”€ discovery   <span class="c1"># DsicoveryClientå®¢æˆ·ç«¯,ç”¨äºå‘ç°k8sæ‰€æ”¯æŒGVRã€‚</span>
 â”œâ”€â”€ dynamic     <span class="c1"># DynamicClientå®¢æˆ·ç«¯, ç”¨äºè®¿é—®k8s Resourcesï¼Œä¹Ÿå¯ä»¥è®¿é—®CRDã€‚</span>
 â”œâ”€â”€ informers   <span class="c1"># k8sä¸­å„ç§Resourcesçš„Informeræœºåˆ¶çš„å®ç°ã€‚</span>
 â”œâ”€â”€ kubernetes  <span class="c1"># å¯¹RestClientè¿›è¡Œäº†å°è£…ï¼Œå®šä¹‰å¤šç§Clientçš„å®¢æˆ·ç«¯é›†åˆï¼Œä¿—ç§°clientsetã€‚</span>
 â”œâ”€â”€ listers     <span class="c1"># æä¾›å¯¹Resourcesçš„è·å–åŠŸèƒ½ã€‚å¯¹äºGet()å’ŒList()è€Œè¨€ï¼Œlistersæä¾›ç»™äºŒè€…çš„æ•°æ®éƒ½æ˜¯ä»ç¼“å­˜ä¸­è¯»å–çš„ã€‚</span>
 â”œâ”€â”€ pkg
 â”œâ”€â”€ plugin      <span class="c1"># æä¾›ç¬¬ä¸‰æ–¹æ’ä»¶ã€‚</span>
 â”œâ”€â”€ scale       <span class="c1"># å®šä¹‰ç”¨äºDeploy, RS, RCç­‰èµ„æºè¿›è¡Œçš„æ‰©ã€ç¼©å®¹çš„å®¢æˆ·ç«¯ScaleClientã€‚</span>
 â”œâ”€â”€ tools       <span class="c1"># å®ç°clientæŸ¥è¯¢å’Œç¼“å­˜æœºåˆ¶ï¼Œä»¥åŠå®šä¹‰è¯¸å¦‚SharedInformerã€Reflectorã€DealtFIFOå’ŒIndexerç­‰å¸¸ç”¨å·¥å…·ã€‚</span>
 â”œâ”€â”€ transport
 â””â”€â”€ util        <span class="c1"># æä¾›è¯¸å¦‚WorkQueueã€Certificateç­‰å¸¸ç”¨æ–¹æ³•ã€‚</span></code></pre></div><p data-pid="D3Qpo4qF">  å¯¹ä¸Šé¢çš„è§£é‡Šï¼š</p><ul><li data-pid="-5ojRJS0"><code>/discovery</code>ï¼šè¯¥ç›®å½•åŒ…å«ç”¨äºå‘ç°å’Œè·å–Kubernetes APIèµ„æºçš„ä»£ç ã€‚è¿™äº›èµ„æºåŒ…æ‹¬Podã€Serviceã€ReplicationControllerç­‰ã€‚<code>discovery</code>ç›®å½•ä¸­çš„ä»£ç å¯ä»¥å¸®åŠ©å¼€å‘äººå‘˜å‘ç°å’Œä½¿ç”¨è¿™äº›èµ„æºã€‚</li><li data-pid="Nanp77ID"><code>/dynamic</code>ï¼šè¯¥ç›®å½•åŒ…å«åŠ¨æ€å®¢æˆ·ç«¯åº“ï¼Œç”¨äºä¸Kubernetes APIäº¤äº’ï¼Œè€Œæ— éœ€ç”Ÿæˆä»£ç ã€‚è¿™å¯¹äºæ„å»ºéœ€è¦ä¸ä»»æ„Kubernetesèµ„æºäº¤äº’çš„é€šç”¨å·¥å…·å’Œå®ç”¨ç¨‹åºéå¸¸æœ‰ç”¨ã€‚</li><li data-pid="YDJ-gjzX"><code>/kubernetes</code>ï¼šè¿™ä¸ªåŒ…ä¸­æ–¹çš„æ˜¯ç”¨ client-gen è‡ªåŠ¨ç”Ÿæˆçš„ç”¨æ¥è®¿é—® Kubernetes API çš„ ClientSetï¼Œåé¢ä¼šç»å¸¸çœ‹åˆ° ClientSet è¿™ä¸ªå·¥å…·ã€‚</li><li data-pid="4Jc95Cgi"><code>/informers</code>ï¼šè¯¥ç›®å½•åŒ…å«ç”¨äºç›‘è§†Kubernetesèµ„æºå˜åŒ–çš„ä»£ç ã€‚è¿™äº›å˜åŒ–å¯ä»¥åŒ…æ‹¬èµ„æºçš„åˆ›å»ºã€æ›´æ–°å’Œåˆ é™¤ã€‚<code>informers</code>ç›®å½•ä¸­çš„ä»£ç å¯ä»¥å¸®åŠ©å¼€å‘äººå‘˜æ„å»ºæ§åˆ¶å™¨å’Œå…¶ä»–éœ€è¦å¯¹Kubernetesç¯å¢ƒä¸­çš„å˜åŒ–åšå‡ºååº”çš„åº”ç”¨ç¨‹åºã€‚</li><li data-pid="yYH-LtKb"><code>/listers</code>ï¼šè¯¥ç›®å½•åŒ…å«ç”¨äºä»KubernetesæœåŠ¡å™¨è·å–èµ„æºåˆ—è¡¨çš„ä»£ç ã€‚è¿™äº›èµ„æºåˆ—è¡¨åŒ…æ‹¬Podã€Serviceã€Namespaceç­‰ã€‚<code>listers</code>ç›®å½•ä¸­çš„ä»£ç å¯ä»¥å¸®åŠ©å¼€å‘äººå‘˜æ›´è½»æ¾åœ°è·å–æœ‰å…³Kubernetesèµ„æºçš„ä¿¡æ¯ã€‚</li><li data-pid="cJzOKZNe"><code>/rest</code>ï¼šè¯¥ç›®å½•åŒ…å«ç”¨äºä¸Kubernetes APIäº¤äº’çš„ä»£ç ã€‚è¿™äº›APIåŒ…æ‹¬Podã€Serviceã€Namespaceç­‰ã€‚<code>rest</code>ç›®å½•ä¸­çš„ä»£ç å¯ä»¥å¸®åŠ©å¼€å‘äººå‘˜æ‰§è¡Œå„ç§æ“ä½œï¼ŒåŒ…æ‹¬ç®¡ç†Podã€Deploymentã€Serviceã€Namespaceç­‰ã€‚</li><li data-pid="1NcoQs2g"><code>/scale</code>ï¼šè¯¥ç›®å½•åŒ…å«ç”¨äºä¸Kubernetesèµ„æºçš„è‡ªåŠ¨ç¼©æ”¾ç›¸å…³çš„ä»£ç ã€‚è¿™äº›èµ„æºåŒ…æ‹¬Deploymentã€ReplicaSetã€StatefulSetç­‰ã€‚<code>scale</code>ç›®å½•ä¸­çš„ä»£ç å¯ä»¥å¸®åŠ©å¼€å‘äººå‘˜è‡ªåŠ¨ç¼©æ”¾ä¸Kubernetesèµ„æºç›¸å…³çš„ç»„ä»¶ã€‚</li><li data-pid="2c2kOZq2"><code>transport</code>ï¼šè¿™ä¸ªåŒ…ç”¨äºè®¾ç½®è®¤è¯å’Œå»ºç«‹è¿æ¥</li><li data-pid="rE-ZIC2l"><code>/tools</code>ï¼šè¯¥ç›®å½•åŒ…å«ç”¨äºæµ‹è¯•å’Œå…¶ä»–å®ç”¨ç¨‹åºçš„ä»£ç ã€‚è¿™äº›å®ç”¨ç¨‹åºåŒ…æ‹¬ä»£ç ç”Ÿæˆå™¨ã€æµ‹è¯•å·¥å…·ç­‰ã€‚<code>tools</code>ç›®å½•ä¸­çš„ä»£ç å¯ä»¥å¸®åŠ©å¼€å‘äººå‘˜æ›´è½»æ¾åœ°æµ‹è¯•å’Œä½¿ç”¨client-goåº“ã€‚</li><li data-pid="kuUqm3P3"><code>/util</code>ï¼šè¯¥ç›®å½•åŒ…å«ç”¨äºå®¢æˆ·ç«¯åº“çš„è¾…åŠ©åŠŸèƒ½çš„ä»£ç ã€‚è¿™äº›åŠŸèƒ½åŒ…æ‹¬å¯¹Kubernetes APIå¯¹è±¡çš„ç±»å‹è½¬æ¢ã€å¯¹è±¡æ¯”è¾ƒç­‰ã€‚<code>util</code>ç›®å½•ä¸­çš„ä»£ç å¯ä»¥å¸®åŠ©å¼€å‘äººå‘˜æ›´è½»æ¾åœ°ä½¿ç”¨client-goåº“ã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><h3><b>è·å– Client-go</b></h3><p data-pid="NE8eHzaT">å¯ä»¥é€šè¿‡ go get å‘½ä»¤è·å– client-goï¼Œä¸è¿‡æˆ‘ç›´æ¥å…‹éš†æœ€æ–°æºä»£ç ï¼Œç„¶åæ„å»ºä¸ºå¯æ‰§è¡Œæ–‡ä»¶ï¼š</p><div class="highlight"><pre><code class="language-bash"> git clone https://github.com/kubernetes/client-go.git</code></pre></div><p data-pid="brBnjXmg">ä»–ä»¬ç»™äº†ä¸€äº›æ ·ä¾‹çš„æ–‡ä»¶ï¼Œæˆ‘æ‰¾å‡ºæ¥ï¼š</p><div class="highlight"><pre><code class="language-bash"> â¯ find -name main.go
 ./examples/workqueue/main.go
 ./examples/in-cluster-client-configuration/main.go
 ./examples/out-of-cluster-client-configuration/main.go
 ./examples/dynamic-create-update-delete-deployment/main.go
 ./examples/create-update-delete-deployment/main.go
 ./examples/leader-election/main.go</code></pre></div><p data-pid="RxXvnA-q">è¿™äº›æ–‡ä»¶å¯ä»¥å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿä¸Šæ‰‹ client-goï¼š</p><ul><li data-pid="Bz_Wl6tw"><code>./examples/workqueue/main.go</code>ï¼šæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ Kubernetes çš„å·¥ä½œé˜Ÿåˆ—ï¼ˆWorkqueueï¼‰å®ç°èµ„æºæ§åˆ¶å™¨ï¼ˆControllerï¼‰ã€‚</li><li data-pid="h6TrsVeb"><code>./examples/in-cluster-client-configuration/main.go</code>ï¼šæ¼”ç¤ºå¦‚ä½•åœ¨ Kubernetes é›†ç¾¤å†…éƒ¨ä½¿ç”¨ <code>client-go</code> è®¿é—® Kubernetes API Serverã€‚</li><li data-pid="lvVnwGnl"><code>./examples/out-of-cluster-client-configuration/main.go</code>ï¼šæ¼”ç¤ºå¦‚ä½•åœ¨ Kubernetes é›†ç¾¤å¤–éƒ¨ä½¿ç”¨ <code>client-go</code> è®¿é—® Kubernetes API Serverã€‚</li><li data-pid="9nk1DuoK"><code>./examples/dynamic-create-update-delete-deployment/main.go</code>ï¼šæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ Kubernetes çš„åŠ¨æ€å®¢æˆ·ç«¯åº“ï¼ˆDynamic Clientï¼‰å®ç°å¯¹ Deployment èµ„æºå¯¹è±¡çš„å¢åˆ æ”¹æŸ¥ç­‰æ“ä½œã€‚</li><li data-pid="-5vpNQEj"><code>./examples/create-update-delete-deployment/main.go</code>ï¼šæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ <code>client-go</code> å®ç°å¯¹ Deployment èµ„æºå¯¹è±¡çš„å¢åˆ æ”¹æŸ¥ç­‰æ“ä½œã€‚</li><li data-pid="SVkzWYVO"><code>./examples/leader-election/main.go</code>ï¼šæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ Kubernetes çš„ Leader Election æœºåˆ¶ï¼Œå®ç°èµ„æºæ§åˆ¶å™¨çš„é«˜å¯ç”¨æ€§å’Œæ•…éšœè½¬ç§»ã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><p data-pid="FmlP2Hoo">åœ¨ <code>/root/workspaces/client-go/examples/workqueue</code> ç›®å½•ä¸­ï¼š</p><p data-pid="w-6rE6OM">æˆ‘ä»¬æ˜¯ä¸èƒ½ç›´æ¥ç¼–è¯‘çš„ï¼Œçœ‹ä¸€ä¸‹ï¼š</p><div class="highlight"><pre><code class="language-bash"> â¯ ./main --help
 Usage of ./main:
   -kubeconfig string
         absolute path to the kubeconfig file
   -master string
         master url</code></pre></div><p data-pid="SSfNI-tJ">æŒ‡å®š kubeconfig ï¼ˆä¹Ÿå¯ä»¥é€šè¿‡è®¾ç½®ç¯å¢ƒå˜é‡  <code>export KUBECONFIG</code> ï¼‰</p><div class="highlight"><pre><code class="language-bash"> â¯ ./main -kubeconfig ~/.kube/config</code></pre></div><blockquote data-pid="BvBmaAXi">ä¸¾ä¾‹ï¼šä½¿ç”¨ kubectl å‘½ä»¤è¡Œå·¥å…·åˆ›å»ºä¸€ä¸ªåä¸º myresource çš„è‡ªå®šä¹‰èµ„æºï¼Œå¹¶å°†å…¶ä¿å­˜åˆ° YAML æ–‡ä»¶ä¸­ã€‚ç„¶åï¼Œè¿è¡Œ <code>go run ./examples/workqueue/main.go</code> å‘½ä»¤å¯åŠ¨æ§åˆ¶å™¨ã€‚æ­¤æ—¶ï¼Œæ§åˆ¶å™¨ä¼šå¼€å§‹ç›‘å¬ myresource èµ„æºï¼Œå¹¶åœ¨è¯¥èµ„æºè¢«åˆ›å»ºæˆ–æ›´æ–°æ—¶ï¼Œå¼‚æ­¥åœ°å¤„ç†ä¸€äº›ä»»åŠ¡ã€‚</blockquote><p class="ztext-empty-paragraph"><br></p><p data-pid="byHLFCmS"><b>ç»§ç»­æ¼”ç¤º å¯¹ Deployment CURD æ“ä½œï¼š</b></p><div class="highlight"><pre><code class="language-bash"> â¯ <span class="nb">cd</span> dynamic-create-update-delete-deployment/
 â¯ ls
 README.md  main.go
 â¯ go build main.go
 â¯ ./main 
 Creating deployment...
 Created deployment <span class="s2">"demo-deployment"</span>.
 -&gt; Press Return key to <span class="k">continue</span>.
 â€‹
 Updating deployment...
 Updated deployment...
 -&gt; Press Return key to <span class="k">continue</span>.
 â€‹
 Listing deployments in namespace <span class="s2">"default"</span>:
  * demo-deployment <span class="o">(</span><span class="m">1</span> replicas<span class="o">)</span>
  * my-nginx-app <span class="o">(</span><span class="m">3</span> replicas<span class="o">)</span>
  * nginx-deployment <span class="o">(</span><span class="m">3</span> replicas<span class="o">)</span>
 -&gt; Press Return key to <span class="k">continue</span>.
 â€‹
 Deleting deployment...
 Deleted deployment.</code></pre></div><p data-pid="MBgJq230"><code>./examples/dynamic-create-update-delete-deployment/main.go</code>ï¼šè¿™ä¸ªç¤ºä¾‹æ–‡ä»¶æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ Kubernetes çš„åŠ¨æ€å®¢æˆ·ç«¯åº“ï¼ˆDynamic Clientï¼‰å®ç°å¯¹ Deployment èµ„æºå¯¹è±¡çš„å¢åˆ æ”¹æŸ¥ç­‰æ“ä½œã€‚ä½¿ç”¨åŠ¨æ€å®¢æˆ·ç«¯åº“ï¼Œå¼€å‘äººå‘˜å¯ä»¥æ›´åŠ çµæ´»åœ°æ“ä½œ Kubernetes èµ„æºå¯¹è±¡ï¼Œè€Œä¸éœ€è¦æ‰‹åŠ¨ç¼–å†™å¤æ‚çš„ä»£ç ã€‚ä¾‹å¦‚ï¼Œåœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œå¼€å‘äººå‘˜å¯ä»¥ä½¿ç”¨ DynamicClient å¯¹è±¡ï¼ŒåŠ¨æ€åœ°åˆ›å»ºã€æ›´æ–°å’Œåˆ é™¤ Deployment èµ„æºå¯¹è±¡ã€‚</p><blockquote data-pid="eE7t1EAM">ä¸¾ä¾‹ï¼šä½¿ç”¨ kubectl å‘½ä»¤è¡Œå·¥å…·åˆ›å»ºä¸€ä¸ªåä¸º my-deployment çš„ Deployment å¯¹è±¡ï¼Œå¹¶å°†å…¶ä¿å­˜åˆ° YAML æ–‡ä»¶ä¸­ã€‚ç„¶åï¼Œè¿è¡Œ <code>go run ./examples/dynamic-create-update-delete-deployment/main.go</code> å‘½ä»¤ï¼Œä½¿ç”¨ DynamicClient å¯¹è±¡ï¼ŒåŠ¨æ€åœ°åˆ›å»ºã€æ›´æ–°å’Œåˆ é™¤ my-deployment Deployment å¯¹è±¡ã€‚</blockquote><p data-pid="hk7uf-Ib">æµ‹è¯•ï¼š</p><div class="highlight"><pre><code class="language-bash"> â¯ k get deployment
 NAME               READY   UP-TO-DATE   AVAILABLE   AGE
 demo-deployment    0/1     <span class="m">0</span>            <span class="m">0</span>           4s
 my-nginx-app       0/3     <span class="m">3</span>            <span class="m">0</span>           26h
 nginx-deployment   3/3     <span class="m">3</span>            <span class="m">3</span>           165m</code></pre></div><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>WorkQueue æºç åˆ†æ</b></h3><p data-pid="CSbDLQLR">WorkQueue ä¸€èˆ¬ä½¿ç”¨çš„è¯´å°±æ˜¯å»¶è¿Ÿé˜Ÿåˆ—çš„å®ç°ï¼Œåœ¨ Resopurce Event Handlers ä¸­ä¼šå®Œæˆå°†å¯¹è±¡çš„ key æ”¾å…¥ WorkQueue çš„è¿‡ç¨‹ï¼Œç„¶åå†è‡ªå·±çš„é€»è¾‘ä»£ç ä¸­ä» WorkQueue ä¸­æ¶ˆè´¹è¿™äº› Keyã€‚</p><p data-pid="I0EO1lMc">Client-go çš„ <code>utile/Workqueue</code> åŒ…ä¸­æœ‰ä¸‰ä¸ªé˜Ÿåˆ—ï¼š</p><p data-pid="ZBNKr3w1">åˆ†åˆ«å¯¹åº”çš„æ˜¯ æ™®é€šé˜Ÿåˆ—ã€å»¶æ—¶é˜Ÿåˆ—å’Œé™é€Ÿé˜Ÿåˆ—ã€‚å¯¹åº”çš„æºæ–‡ä»¶åˆ†åˆ«æ˜¯ï¼š</p><ul><li data-pid="nhOK_Aye">queue.go</li><li data-pid="uFWf7FF0">delaying_queue.go</li><li data-pid="B1RXfRGS">rate_limiting_queue.go</li></ul><p class="ztext-empty-paragraph"><br></p><p data-pid="xSIF8t5e"><b>æˆ‘ä»¬å…ˆçœ‹çœ‹ æ™®é€šé˜Ÿåˆ—ï¼Œè¿™ä¸ªå¯¹åº”çš„æ–‡ä»¶å°±æ˜¯ queue.goï¼š</b></p><div class="highlight"><pre><code class="language-go"> <span class="kd">type</span> <span class="nx">Interface</span> <span class="kd">interface</span> <span class="p">{</span>
     <span class="nf">Add</span><span class="p">(</span><span class="nx">item</span> <span class="kd">interface</span><span class="p">{})</span>
     <span class="nf">Len</span><span class="p">()</span> <span class="kt">int</span>
     <span class="nf">Get</span><span class="p">()</span> <span class="p">(</span><span class="nx">item</span> <span class="kd">interface</span><span class="p">{},</span> <span class="nx">shutdown</span> <span class="kt">bool</span><span class="p">)</span>
     <span class="nf">Done</span><span class="p">(</span><span class="nx">item</span> <span class="kd">interface</span><span class="p">{})</span>
     <span class="nf">ShutDown</span><span class="p">()</span>
     <span class="nf">ShutDownWithDrain</span><span class="p">()</span>
     <span class="nf">ShuttingDown</span><span class="p">()</span> <span class="kt">bool</span>
 <span class="p">}</span>
</code></pre></div><p data-pid="GUhDKGPn">çœ‹æ¥å£å°±çŸ¥é“äº†å®ç°äº†å“ªäº›æ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯æ·»åŠ å…ƒç´ ï¼Œå…ƒç´ ä¸ªæ•°ã€è·å–ç¬¬ä¸€ä¸ªå…ƒç´ ã€ç¬¬äºŒä¸ªè¿”å›å€¼å’Œ channel ç±»ä¼¼ï¼Œæ ‡è®°äº†é˜Ÿåˆ—æ˜¯å¦å…³é—­ã€‚</p><p data-pid="_FC7TN73">Done æ ‡è®°ä¸€ä¸ªå…ƒç´ æ˜¯å¦å·²ç»å¤„ç†å®Œï¼ŒShutDown å…³é—­é˜Ÿåˆ—ï¼ŒShowDownWithDrain å…³é—­é˜Ÿåˆ—ï¼Œä½†æ˜¯ç­‰å¾…é˜Ÿåˆ—ä¸­çš„å…ƒç´ å¤„ç†å®Œã€‚ShuttingDown æ ‡è®°å½“å‰çš„ channel æ˜¯å¦æ­£åœ¨å…³é—­ã€‚</p><p class="ztext-empty-paragraph"><br></p><p data-pid="GYomuUSz"><b>æˆ‘ä»¬å†çœ‹å»¶è¿Ÿé˜Ÿåˆ—ï¼Œå¯¹åº”çš„æ–‡ä»¶åœ¨delaying_queue.go</b></p><div class="highlight"><pre><code class="language-go"> <span class="c1">// DelayingInterface is an Interface that can Add an item at a later time. This makes it easier to
</span><span class="c1"></span> <span class="c1">// requeue items after failures without ending up in a hot-loop.
</span><span class="c1"></span> <span class="kd">type</span> <span class="nx">DelayingInterface</span> <span class="kd">interface</span> <span class="p">{</span>
     <span class="nx">Interface</span>
     <span class="c1">// AddAfter adds an item to the workqueue after the indicated duration has passed
</span><span class="c1"></span>     <span class="nf">AddAfter</span><span class="p">(</span><span class="nx">item</span> <span class="kd">interface</span><span class="p">{},</span> <span class="nx">duration</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Duration</span><span class="p">)</span>
 <span class="p">}</span>
</code></pre></div><p data-pid="JW_fKO9B">æ¥å£å°±å¾ˆç®€å•ï¼Œå®šä¹‰ DelayingInterface æ¥å£åœ¨ delaying_queue.go æºæ–‡ä»¶ï¼Œåå­—å’Œ Queue æ‰€ä½¿ç”¨çš„interfaceå¯¹ç§°ï¼Œå«åš DelayingInterfaceã€‚</p><p data-pid="qpKYZHK5">è¿™é‡Œæœ‰ä¸€ä¸ª Interfaceï¼Œå¯¹æ­¤æˆ‘æ„Ÿè§‰åˆ°æœ‰ä¸€äº›ç–‘æƒ‘ï¼ŒInterface æ˜¯æ™®é€šé˜Ÿåˆ—å‘½åçš„æ¥å£ï¼Œè¿™ä¸ªè®¾è®¡æ¨¡å¼çš„æ¥å£è®¾è®¡çš„æ€è·¯è›®æœ‰æ„æ€çš„ï¼Œå…ˆåˆ«æ¿€åŠ¨ï¼Œåé¢æœ‰ä½ æ¿€åŠ¨çš„ï¼Œçœ‹åˆ° Controller çš„æ¥å£è®¾è®¡ï¼Œé‚£ç®€ç›´å°±æ˜¯ 6 ~</p><p class="ztext-empty-paragraph"><br></p><p data-pid="3qyNNPSW"><b>æœ€åæˆ‘ä»¬çœ‹ä¸€ä¸‹é™é€Ÿé˜Ÿåˆ—ï¼Œè¿™ä¸ªæœ‰æ„æ€å¾ˆå¤šäº†ï¼ŒåŒæ ·ä»Šå¤©çš„é¡¹ç›® <code>sample-controller</code> ä¹Ÿç”¨åˆ°äº†è¿™ä¸ªé˜Ÿåˆ—ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹ controller éƒ¨åˆ†ï¼š</b></p><div class="highlight"><pre><code class="language-go"> <span class="kd">type</span> <span class="nx">Controller</span> <span class="kd">struct</span> <span class="p">{</span>
     <span class="c1">//...
</span><span class="c1"></span>     <span class="nx">workqueue</span> <span class="nx">workqueue</span><span class="p">.</span><span class="nx">RateLimitingInterface</span>
 <span class="p">}</span> 
</code></pre></div><p data-pid="Piwkrn71">æˆ‘ä»¬çœ‹åˆ°äº† é™é€Ÿé˜Ÿåˆ—åŒ…å«äº†å»¶è¿Ÿé˜Ÿåˆ—çš„æ‰€æœ‰æ¥å£å®ç°ï¼Œä¹ŸåŒ…å«äº† åŸºæœ¬é˜Ÿåˆ—çš„æ‰€æœ‰æ¥å£å®ç°ã€‚</p><p data-pid="1_mQM2KP"><b>åˆ†æè¿™ä¸ªé˜Ÿåˆ—çš„æ¥å£ï¼š</b></p><ul><li data-pid="cxpkHjcK">AddRateLimitedï¼šåœ¨é€Ÿç‡é™åˆ¶å™¨è®¤å¯çš„æƒ…å†µä¸‹å°†é¡¹ç›®æ·»åŠ åˆ°å·¥ä½œé˜Ÿåˆ—ä¸­ã€‚</li><li data-pid="PJJKiiap">Forgetï¼šè¡¨ç¤ºé¡¹ç›®å·²ç»å®Œæˆé‡è¯•ã€‚æ— è®ºæ˜¯æ°¸ä¹…æ€§å¤±è´¥è¿˜æ˜¯æˆåŠŸï¼Œæˆ‘ä»¬éƒ½ä¼šåœæ­¢é€Ÿç‡é™åˆ¶å™¨å¯¹å…¶è¿›è¡Œè·Ÿè¸ªã€‚è¿™ä»…æ¸…é™¤äº†<code>rateLimiter</code>ï¼Œæ‚¨ä»ç„¶éœ€è¦åœ¨é˜Ÿåˆ—ä¸Šè°ƒç”¨<code>Done</code>æ–¹æ³•ã€‚</li><li data-pid="r53EXkbB">NumRequeuesï¼šè¿”å›é¡¹ç›®è¢«é‡æ–°æ’é˜Ÿçš„æ¬¡æ•°ã€‚</li></ul><div class="highlight"><pre><code class="language-go"> <span class="c1">// RateLimitingInterface is an interface that rate limits items being added to the queue.
</span><span class="c1"></span> <span class="kd">type</span> <span class="nx">RateLimitingInterface</span> <span class="kd">interface</span> <span class="p">{</span>
     <span class="nx">DelayingInterface</span>
 <span class="err">â€‹</span>
     <span class="c1">// AddRateLimited adds an item to the workqueue after the rate limiter says it's ok
</span><span class="c1"></span>     <span class="nf">AddRateLimited</span><span class="p">(</span><span class="nx">item</span> <span class="kd">interface</span><span class="p">{})</span>
 <span class="err">â€‹</span>
     <span class="c1">// Forget indicates that an item is finished being retried.  Doesn't matter whether it's for perm failing
</span><span class="c1"></span>     <span class="c1">// or for success, we'll stop the rate limiter from tracking it.  This only clears the `rateLimiter`, you
</span><span class="c1"></span>     <span class="c1">// still have to call `Done` on the queue.
</span><span class="c1"></span>     <span class="nf">Forget</span><span class="p">(</span><span class="nx">item</span> <span class="kd">interface</span><span class="p">{})</span>
 <span class="err">â€‹</span>
     <span class="c1">// NumRequeues returns back how many times the item was requeued
</span><span class="c1"></span>     <span class="nf">NumRequeues</span><span class="p">(</span><span class="nx">item</span> <span class="kd">interface</span><span class="p">{})</span> <span class="kt">int</span>
 <span class="p">}</span>
</code></pre></div><p data-pid="zaKOGb2Z">åœ¨åé¢çš„å­¦ä¹ ä¸­ï¼Œæˆ‘ä»¬å†æ·±å…¥æ¢ç´¢è¿™äº› WorkQueue çš„å®ç°ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>DeltaFIFO æºç åˆ†æ</b></h3><p data-pid="f5UU0_V9">DeltaFIFO ä¹Ÿæ˜¯ä¸€ä¸ªç‰¹åˆ«é‡è¦çš„ç»„ä»¶ï¼Œåœ¨ <code>k8s.io/client-go/tools/cache</code> åŒ…ä¸­ï¼Œç”¨äºå­˜å‚¨å¯¹è±¡çš„å¢é‡æ›´æ–°ã€‚</p><ul><li data-pid="ToNAaswD">å­˜å‚¨å¯¹è±¡çš„å¢é‡æ›´æ–°ï¼ŒåŒ…æ‹¬æ·»åŠ ã€åˆ é™¤å’Œæ›´æ–°æ“ä½œã€‚</li><li data-pid="4EFiAOWY">èƒ½å¤ŸæŒ‰é¡ºåºå¤„ç†æ›´æ–°ï¼Œä»¥ç¡®ä¿å®ƒä»¬è¢«æ­£ç¡®åœ°åº”ç”¨ã€‚</li><li data-pid="vFEepwXQ">æ”¯æŒé˜»å¡å¼åŒæ­¥ï¼Œä»¥ä¾¿åœ¨åº”ç”¨æ‰€æœ‰æ›´æ–°ä¹‹å‰ç­‰å¾…ã€‚</li></ul><p data-pid="rY86M-1g">åœ¨ fifo.go ä¸­å®šä¹‰äº†ä¸€ä¸ª Queue çš„æ¥å£ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹æ¥å£ä»£ç ï¼š</p><div class="highlight"><pre><code class="language-go"> <span class="kd">type</span> <span class="nx">Queue</span> <span class="kd">interface</span> <span class="p">{</span>
     <span class="nx">Store</span>
     <span class="nf">Pop</span><span class="p">(</span><span class="nx">PopProcessFunc</span><span class="p">)</span> <span class="p">(</span><span class="kd">interface</span><span class="p">{},</span> <span class="kt">error</span><span class="p">)</span>
     <span class="nf">AddIfNotPresent</span><span class="p">(</span><span class="kd">interface</span><span class="p">{})</span> <span class="kt">error</span>
     <span class="nf">HasSynced</span><span class="p">()</span> <span class="kt">bool</span>
     <span class="c1">// Close the queue
</span><span class="c1"></span>     <span class="nf">Close</span><span class="p">()</span>
 <span class="p">}</span>
</code></pre></div><p data-pid="anQj8dE2">åµŒå…¥äº†ä¸€ä¸ª Store æ¥å£ï¼š</p><div class="highlight"><pre><code class="language-go"> <span class="nx">Store</span> <span class="kd">interface</span> <span class="p">{</span>
     <span class="nf">Add</span><span class="p">(</span><span class="nx">obj</span> <span class="kd">interface</span><span class="p">{})</span> <span class="kt">error</span>
     <span class="nf">Update</span><span class="p">(</span><span class="nx">obj</span> <span class="kd">interface</span><span class="p">{})</span> <span class="kt">error</span>
     <span class="nf">Delete</span><span class="p">(</span><span class="nx">obj</span> <span class="kd">interface</span><span class="p">{})</span> <span class="kt">error</span>
     <span class="nf">List</span><span class="p">()</span> <span class="p">[]</span><span class="kd">interface</span><span class="p">{}</span>
     <span class="nf">ListKeys</span><span class="p">()</span> <span class="p">[]</span><span class="kt">string</span>
     <span class="nf">Get</span><span class="p">(</span><span class="nx">obj</span> <span class="kd">interface</span><span class="p">{})</span> <span class="p">(</span><span class="nx">item</span> <span class="kd">interface</span><span class="p">{},</span> <span class="nx">exists</span> <span class="kt">bool</span><span class="p">,</span> <span class="nx">err</span> <span class="kt">error</span><span class="p">)</span>
     <span class="nf">GetByKey</span><span class="p">(</span><span class="nx">key</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="nx">item</span> <span class="kd">interface</span><span class="p">{},</span> <span class="nx">exists</span> <span class="kt">bool</span><span class="p">,</span> <span class="nx">err</span> <span class="kt">error</span><span class="p">)</span>
     <span class="nf">Replace</span><span class="p">([]</span><span class="kd">interface</span><span class="p">{},</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">error</span>
     <span class="nf">Resync</span><span class="p">()</span> <span class="kt">error</span>
 <span class="p">}</span>
</code></pre></div><p data-pid="Cu37YIA9">éƒ½æ˜¯è¡¨é¢çš„æ„æ€äº†ï¼ŒCURD æ“ä½œï¼Œå„ç§ Getã€List æ“ä½œã€‚</p><p data-pid="BzJpvyIQ"><b>é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰å…¶ä»–çš„ï¼Œé˜…è¯»æºç å³å¯ï¼Œåé¢æ…¢æ…¢æ·±å…¥è®²è§£ã€‚</b></p><p class="ztext-empty-paragraph"><br></p><h3><b>Informer æœºåˆ¶</b></h3><p data-pid="4RUvS6_T">Informar è¿™ä¸ªå•è¯å‡ºé•œç‡å¾ˆé«˜ï¼Œæˆ‘ä»¬åœ¨å¾ˆå¤šæ–‡ç« ä¸­éƒ½å¯ä»¥çœ‹åˆ°è¿™ä¸ª Informerï¼ŒåŒ…æ‹¬ Kubernetes æºç è®²è§£çš„ ETCD å’Œ API Server ä¸­ã€‚</p><p data-pid="-HhSmgwv">Informer ä» DeltaFIFO ä¸­ Pop ç›¸å¯¹åº”çš„å¯¹è±¡ï¼Œä¼šé€šè¿‡ Indexer å°†å¯¹è±¡å’Œç´¢å¼•éƒ½ä¸¢åœ¨æœ¬åœ°çš„ cache ä¸­ï¼Œå†è§¦å‘ç›¸åº”çš„äº‹ä»¶å¤„ç†å‡½æ•°ï¼ˆResource Event Handlers) çš„è¿è¡Œã€‚</p><p data-pid="e3bKYyqF">æºç ä½ç½®ï¼š <code>k8s.io/client-go/tools/cache</code></p><p data-pid="tYOVuhs5">Informar æ˜¯é€šè¿‡ä¸€ä¸ª Controller å¯¹è±¡æ¥è¿›è¡Œå®šä¹‰çš„ï¼Œæˆ‘ä»¬å…ˆçœ‹çœ‹å¯¹è±¡æ¥å£ï¼š</p><p data-pid="iF7-gn1h">åœ¨ <code>controller.go</code> æ–‡ä»¶ä¸­èƒ½çœ‹åˆ° Controller çš„å®šä¹‰ï¼š</p><div class="highlight"><pre><code class="language-go"> <span class="kd">type</span> <span class="nx">Controller</span> <span class="kd">interface</span> <span class="p">{</span>
     <span class="nf">Run</span><span class="p">(</span><span class="nx">stopCh</span> <span class="o">&lt;-</span><span class="kd">chan</span> <span class="kd">struct</span><span class="p">{})</span>
     <span class="nf">HasSynced</span><span class="p">()</span> <span class="kt">bool</span>
     <span class="nf">LastSyncResourceVersion</span><span class="p">()</span> <span class="kt">string</span>
 <span class="p">}</span>
</code></pre></div><p data-pid="CIEHPR6m">çœ‹å‡ºï¼Œæœ€æ ¸å¿ƒçš„æ–¹æ³•æ˜¯ <code>Run(stopCh &lt;-chan struct{})</code> Run è¿™ä¸ªå‡½æ•°æˆ‘ä»¬ç‚¹å‡»è¿›å»ä¼šå‘ç°ï¼Œä¸»è¦åšäº†ä¸¤ä¸ªäº‹æƒ…ï¼š</p><ul><li data-pid="xg_U7Drl">æ„é€  Reflector åˆ©ç”¨ ListerWatcher çš„èƒ½åŠ›å°†å¯¹è±¡äº‹ä»¶æ›´æ–°åˆ° DeltaFIFO</li><li data-pid="_YPV0xk_">ä» DeltaFIFO ä¸­ Pop å¯¹è±¡åè°ƒç”¨ ProcessFunc æ¥å¤„ç†ã€‚</li></ul><p data-pid="38WV6Y9m">åˆå§‹åŒ–æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ</p><div class="highlight"><pre><code class="language-go"> <span class="c1">// New makes a new Controller from the given Config.
</span><span class="c1"></span> <span class="kd">func</span> <span class="nf">New</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">Config</span><span class="p">)</span> <span class="nx">Controller</span> <span class="p">{</span>
     <span class="nx">ctlr</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="nx">controller</span><span class="p">{</span>
         <span class="nx">config</span><span class="p">:</span> <span class="o">*</span><span class="nx">c</span><span class="p">,</span>
         <span class="nx">clock</span><span class="p">:</span>  <span class="o">&amp;</span><span class="nx">clock</span><span class="p">.</span><span class="nx">RealClock</span><span class="p">{},</span>
     <span class="p">}</span>
     <span class="k">return</span> <span class="nx">ctlr</span>
 <span class="p">}</span>
</code></pre></div><p data-pid="eiVhBXWG">ä¼ å…¥äº†ä¸€ä¸ª Config è¿‡æ¥ï¼Œç„¶ååˆå§‹åŒ–ï¼Œæ ¸å¿ƒé€»è¾‘é‚£å°±åœ¨ Config ä¸­äº†ï¼š</p><div class="highlight"><pre><code class="language-go"> <span class="c1">// Config contains all the settings for one of these low-level controllers.
</span><span class="c1"></span> <span class="kd">type</span> <span class="nx">Config</span> <span class="kd">struct</span> <span class="p">{</span>
     <span class="nx">Queue</span>
     <span class="c1">// Something that can list and watch your objects.
</span><span class="c1"></span>     <span class="nx">ListerWatcher</span>
     <span class="c1">// Something that can process a popped Deltas.
</span><span class="c1"></span>     <span class="nx">Process</span> <span class="nx">ProcessFunc</span>
     <span class="c1">// ObjectType is an example object of the type this controller is
</span><span class="c1"></span>     <span class="c1">// expected to handle.
</span><span class="c1"></span>     <span class="nx">ObjectType</span> <span class="nx">runtime</span><span class="p">.</span><span class="nx">Object</span>
     <span class="c1">// ObjectDescription is the description to use when logging type-specific information about this controller.
</span><span class="c1"></span>     <span class="nx">ObjectDescription</span> <span class="kt">string</span>
     <span class="c1">// FullResyncPeriod is the period at which ShouldResync is considered.
</span><span class="c1"></span>     <span class="nx">FullResyncPeriod</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Duration</span>
     <span class="nx">ShouldResync</span> <span class="nx">ShouldResyncFunc</span>
     <span class="nx">RetryOnError</span> <span class="kt">bool</span>
     <span class="c1">// Called whenever the ListAndWatch drops the connection with an error.
</span><span class="c1"></span>     <span class="nx">WatchErrorHandler</span> <span class="nx">WatchErrorHandler</span>
     <span class="c1">// WatchListPageSize is the requested chunk size of initial and relist watch lists.
</span><span class="c1"></span>     <span class="nx">WatchListPageSize</span> <span class="kt">int64</span>
 <span class="p">}</span>
</code></pre></div><p class="ztext-empty-paragraph"><br></p><h3><b>SharedInformer å¯¹è±¡æºç </b></h3><p data-pid="fhw7H1MW">SharedInformer å’Œ Informer ä¹‹é—´çš„åå­—å°±å·®ä¸€ä¸ª Sharedï¼Œåœ¨ Operator å¼€å‘ä¸­ï¼Œå¦‚æœä¸é€‚ç”¨ controller-runtime åº“ï¼ˆkubebuilder controller-runtime å­é¡¹ç›®çš„Repoï¼‰ï¼Œä¹Ÿå°±æ˜¯ä¸ç”¨ Kubebuilder ç­‰å·¥å…·ç”Ÿæˆè„šæ‰‹æ¶ï¼Œé‚£ä¹ˆåº”è¯¥ç”¨åˆ°çš„æ˜¯ SharedInformerFactoryï¼Œæ¯”å¦‚ä»Šå¤©ä¸»è¦åšçš„ sample-controller çš„ <code>main()</code>  å‡½æ•°ï¼Œåœ¨ä¸‹é¢çš„ sample-controller æºç ä»‹ç»ä¸­ä¼šè®²è§£~</p><p data-pid="D2PxkLXr">æˆ‘ä»¬èƒ½çœ‹åˆ°è¿™ä¸¤è¡Œä»£ç ï¼š</p><div class="highlight"><pre><code class="language-go"> <span class="nx">kubeInformerFactory</span> <span class="o">:=</span> <span class="nx">kubeinformers</span><span class="p">.</span><span class="nf">NewSharedInformerFactory</span><span class="p">(</span><span class="nx">kubeClient</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="o">*</span><span class="mi">30</span><span class="p">)</span>
     
 <span class="nx">exampleInformerFactory</span> <span class="o">:=</span> <span class="nx">informers</span><span class="p">.</span><span class="nf">NewSharedInformerFactory</span><span class="p">(</span><span class="nx">exampleClient</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="o">*</span><span class="mi">30</span><span class="p">)</span>
 <span class="err">â€‹</span>
 <span class="nx">controller</span> <span class="o">:=</span> <span class="nf">NewController</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="nx">kubeClient</span><span class="p">,</span> <span class="nx">exampleClient</span><span class="p">,</span>
     <span class="nx">kubeInformerFactory</span><span class="p">.</span><span class="nf">Apps</span><span class="p">().</span><span class="nf">V1</span><span class="p">().</span><span class="nf">Deployments</span><span class="p">(),</span> <span class="nx">exampleInformerFactory</span><span class="p">.</span><span class="nf">Samplecontroller</span><span class="p">().</span><span class="nf">V1alpha1</span><span class="p">().</span><span class="nf">Foos</span><span class="p">())</span>
</code></pre></div><p data-pid="4Kd4rKVW">æ§åˆ¶å™¨çš„åˆå§‹åŒ–åé¢ä¼šè®² <code>controller.go</code> çš„æ—¶å€™é‡ç‚¹è®²è§£ï¼Œå…ˆçœ‹çœ‹åˆå§‹åŒ–è¿‡ç¨‹å’Œ SharedInformer çš„å…³ç³»ã€‚</p><p data-pid="mp0PeoSb">controller ä¾èµ–äº <code>kubeInformerFactory.Apps().V1().Deployments()</code> å’Œ <code>exampleInformerFactory.Samplecontroller().V1alpha1().Foos()</code></p><p data-pid="lfJ06Uq_">åè€…æ˜¯ <code>sample-controller</code> è‡ªå·± pkg åŒ…æä¾›çš„ï¼Œå‰è€…æ˜¯ client-go æä¾›çš„ï¼Œé‚£ä¹ˆçœ‹çœ‹å‰è€…ï¼š </p><p data-pid="KyAXaSJP">è¿™é‡Œçš„ Deployment ä¾èµ–çš„æ˜¯ï¼š<code>Deployments() DeploymentInformer</code></p><p data-pid="JkFaHZjM">è€Œ <code>DeploymentInformer</code> æ˜¯ä¸€ä¸ªæ¥å£ç±»å‹ï¼Œçœ‹ä¸€çœ‹ï¼š</p><div class="highlight"><pre><code class="language-go"> <span class="c1">// DeploymentInformer provides access to a shared informer and lister for
</span><span class="c1"></span> <span class="c1">// Deployments.
</span><span class="c1"></span> <span class="kd">type</span> <span class="nx">DeploymentInformer</span> <span class="kd">interface</span> <span class="p">{</span>
     <span class="nf">Informer</span><span class="p">()</span> <span class="nx">cache</span><span class="p">.</span><span class="nx">SharedIndexInformer</span>
     <span class="nf">Lister</span><span class="p">()</span> <span class="nx">v1</span><span class="p">.</span><span class="nx">DeploymentLister</span>
 <span class="p">}</span>
</code></pre></div><p data-pid="vaR8hkKd">å®ç°äº† <code>Informer</code>  å’Œ <code>Lister</code>ï¼Œ<code>Informer</code> æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ª <code>ShareIndexInformer</code></p><p class="ztext-empty-paragraph"><br></p><hr><p class="ztext-empty-paragraph"><br></p><p data-pid="L4C7BLXz"><b>æ¥ä¸‹æ¥çš„ä¸‰ä¸ªéƒ¨åˆ†ï¼Œæˆ‘å°†è¯¦ç»†ä»‹ç» sample-controllerã€kubebuilderã€operator-sdk ä»¥åŠå®ƒä»¬ä¹‹é—´é‚£å¾®å¦™çš„å…³ç³»ã€‚</b></p></div> </details> 
 <hr /> 

 #### - [Kubernetes ç¤¾åŒºè§„èŒƒ](https://zhuanlan.zhihu.com/p/629622183) 
 <details><summary>ØªÙˆØ¶ÛŒØ­Ø§Øª</summary> <p><img src="https://picx.zhimg.com/v2-475366694622ccb1992834ad1bd53996_720w.jpg?source=d16d100b"></p><div><h2><b>å‰è¨€</b></h2><p data-pid="EUCR-ciN">ä¸€ä¸ªé¡¶çº§çš„ç¤¾åŒºï¼Œå¿…ç„¶æœ‰ç€æœ€å…¨é¢å’Œæœ€è§„èŒƒçš„ç« ç¨‹å€¼å¾—æˆ‘ä»¬å­¦ä¹ å’Œå€Ÿé‰´ï¼Œå¯¹äº Kubernetes æ¥è¯´ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œå¦‚æœæƒ³è¦åšå¥½ä¸€ä¸ªé¡¶çº§çš„ç¤¾åŒºï¼ŒKubernetes å¿…ç„¶å€¼å¾—æˆ‘ä»¬å»å€Ÿé‰´çš„ã€‚</p><p data-pid="TnG6yVU0">ç”¨å®˜æ–¹çš„ä¸€å¥è¯æ¥æè¿°ï¼šKubernetes builds upon a decade and a half of experience at Google running production workloads at scale using a system called <a href="https://research.google.com/pubs/pub43438.html" target="_blank">Borg</a>, combined with best-of-breed ideas and practices from the community.</p><h2><b>Community </b></h2><p data-pid="pBJU2k7v">Community çš„åœ°å€åœ¨ <a href="https://github.com/kubernetes/community" target="_blank"><span class="invisible">https://</span><span class="visible">github.com/kubernetes/c</span><span class="invisible">ommunity</span><span class="ellipsis"></span></a> ã€‚å¾ˆå¤šç¤¾åŒºçš„ç¤¾åŒºéƒ½æ˜¯è¿™æ ·è®¾è®¡çš„ã€‚</p><p data-pid="qc6SITf4">Kuberneteså…·æœ‰ä»¥ä¸‹ç±»å‹çš„å®˜æ–¹æ”¯æŒçš„ç»„ï¼ˆgrepsï¼‰ï¼š</p><ul><li data-pid="LNIjw_8l"><b>Committees</b>ï¼šå§”å‘˜ä¼šæ˜¯ä¸€æ‰¹è¢«æˆæƒå¤„ç†æ•æ„Ÿè¯é¢˜çš„äººã€‚é¼“åŠ±è¯¥å°ç»„åœ¨å®Œæˆå…¶ä½¿å‘½æ—¶å°½å¯èƒ½å¼€æ”¾ï¼Œä½†ç”±äºæ‰€è®¨è®ºä¸»é¢˜çš„æ€§è´¨ï¼Œå…è®¸ç§ä¸‹äº¤æµã€‚å§”å‘˜ä¼šçš„ä¾‹å­åŒ…æ‹¬æŒ‡å¯¼å§”å‘˜ä¼šå’Œå®‰å…¨æˆ–è¡Œä¸ºå‡†åˆ™ç­‰ã€‚</li><li data-pid="Ivstk8Qr"><b>Special Interest Groups (SIGs)</b>  ç‰¹æ®Šå…´è¶£å°ç»„ï¼ˆSIGï¼‰æ˜¯ä¸“æ³¨äºé¡¹ç›®æŸä¸ªéƒ¨åˆ†çš„æŒç»­æ€§å¼€æ”¾å°ç»„ã€‚ç‰¹åˆ«æ”¿åºœå¿…é¡»æœ‰å…¬å¼€å’Œé€æ˜çš„ç¨‹åºã€‚æ¬¢è¿ä»»ä½•äººå‚ä¸å’Œè´¡çŒ®ï¼Œåªè¦ä»–ä»¬éµå®ˆKubernetesè¡Œä¸ºå‡†åˆ™ã€‚SIGçš„ç›®çš„æ˜¯æ‹¥æœ‰å’Œå¼€å‘ä¸€ç»„å­é¡¹ç›®ã€‚<br>å­é¡¹ç›®æ¯ä¸ªSIGå¯ä»¥æœ‰ä¸€ç»„å­é¡¹ç›®ã€‚è¿™äº›æ˜¯å¯ä»¥ç‹¬ç«‹å·¥ä½œçš„å°å›¢ä½“ã€‚ä¸€äº›å­é¡¹ç›®å°†æ˜¯Kubernetesä¸»è¦äº¤ä»˜æˆæœçš„ä¸€éƒ¨åˆ†ï¼Œè€Œå…¶ä»–å­é¡¹ç›®åˆ™æ›´å…·æ¨æµ‹æ€§ï¼Œä½äº <code>kubernetes-sigs</code> <a href="https://github.com/kubernetes-sigs" target="_blank">github org</a> ä¸­ï¼ˆä¾‹å¦‚ <a href="https://github.com/kubernetes-sigs/kind" target="_blank">kind</a> å’Œ <a href="https://github.com/kubernetes-sigs/kubebuilder" target="_blank">kubebuilder</a> å°±æ˜¯åœ¨è¿™é‡Œï¼‰ã€‚</li><li data-pid="s9SeX1qk"><b>Working Groups</b> å·¥ä½œç»„æ˜¯ä¸ºè§£å†³è·¨è¶ŠSIGè¾¹ç•Œçš„é—®é¢˜è€Œæˆç«‹çš„ä¸´æ—¶å°ç»„ã€‚å·¥ä½œç»„ä¸æ‹¥æœ‰ä»»ä½•ä»£ç æˆ–å…¶ä»–é•¿æœŸå·¥ä»¶ã€‚å·¥ä½œç»„å¯ä»¥é€šè¿‡å‚ä¸çš„SIGè¿›è¡Œæ±‡æŠ¥å’Œé‡‡å–è¡ŒåŠ¨ã€‚</li><li data-pid="8vtEM9_K"><b>User Groups</b> ç”¨æˆ·ç»„æ˜¯ç”¨äºä¿ƒè¿›äº¤æµå’Œå‘ç°ä¸Kuberneteså¤§ç”¨æˆ·ç»„å…·æœ‰é•¿æœŸç›¸å…³æ€§çš„ä¸»é¢˜ç›¸å…³çš„ä¿¡æ¯çš„ç»„ã€‚ä»–ä»¬æ²¡æœ‰Kubernetesä»£ç åº“çš„éƒ¨åˆ†æ‰€æœ‰æƒã€‚</li></ul><p data-pid="J6cq5CM9">SIGå¯ä»¥æœ‰è‡ªå·±çš„è´¡çŒ®ç­–ç•¥ï¼ˆåœ¨æ­¤å­˜å‚¨åº“çš„SIGæ–‡ä»¶å¤¹ä¸­çš„ <code>README</code> æˆ– <code>CONTRIBUTING</code> æ–‡ä»¶ä¸­æè¿°ï¼‰ï¼ˆä¾‹å¦‚<a href="https://github.com/kubernetes/community/blob/master/sig-cli/CONTRIBUTING.md" target="_blank">sig-cli/CONTRIBUTING.md</a>ï¼‰ï¼Œä»¥åŠè‡ªå·±çš„é‚®ä»¶åˆ—è¡¨ã€ç©ºé—²é€šé“ç­‰ã€‚</p><p data-pid="RZ8ea_UR">æ‰€ä»¥æ˜¯ç‹¬ç«‹å‡ºå»çš„ï¼Œä¸è¿‡ä¾æ—§æ˜¯ä¸º kubernetes æœåŠ¡çš„ã€‚</p><p data-pid="mUTvAy2n">Kubernetes-sig ç¤¾åŒºæä¾›äº† Kubernetes çš„å¼€å‘å­¦ä¹ å®éªŒï¼Œåœ¨ <a href="https://github.com/kubernetes/community/blob/master/contributors/devel/development.md" target="_blank"><span class="invisible">https://</span><span class="visible">github.com/kubernetes/c</span><span class="invisible">ommunity/blob/master/contributors/devel/development.md</span><span class="ellipsis"></span></a> ä¸­</p><p data-pid="kS1sS8ps">å‘Šè¯‰äº†æˆ‘ä»¬å¦‚ä½•æ„å»ºå‡ºä¸€ä¸ªå¼€å‘ç¯å¢ƒï¼Œå¹¶ä¸”éœ€è¦å“ªäº›å·¥å…·ã€‚å…¶å®å’Œæˆ‘ä»¬åœ¨å‰é¢äºŒè¿›åˆ¶æ­å»ºæ˜¯å·®ä¸å¤šç±»ä¼¼çš„ã€‚</p><p data-pid="42bvGxg3">Kubernetes ä¸ºè´¡çŒ® git CICD æµç¨‹æœ‰ä¸€ä¸ªå¸®åŠ©æ–‡æ¡£åœ¨è¿™é‡Œ: <a href="https://github.com/kubernetes/community/blob/master/contributors/guide/github-workflow.md" target="_blank"><span class="invisible">https://</span><span class="visible">github.com/kubernetes/c</span><span class="invisible">ommunity/blob/master/contributors/guide/github-workflow.md</span><span class="ellipsis"></span></a></p><p data-pid="qOm8Vd7J">è¦æµ‹è¯•Kubernetesï¼Œä½ éœ€è¦å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„etcdï¼Œè¿™æ˜¯ä¸€ä¸ªä¸€è‡´ä¸”é«˜åº¦å¯ç”¨çš„é”®å€¼å­˜å‚¨ã€‚è¦å®‰è£…æœ¬åœ°ç‰ˆæœ¬çš„etcdï¼Œè¯·åœ¨Kuberneteså·¥ä½œç›®å½•ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ã€‚</p><div class="highlight"><pre><code class="language-bash"> ./hack/install-etcd.sh</code></pre></div><p data-pid="XzLesnQ8">æ­¤è„šæœ¬å°†æŒ‡ç¤ºä½ å¯¹ <code>PATH</code> è¿›è¡Œæ›´æ”¹ã€‚è¦ä½¿å…¶æ°¸ä¹…åŒ–ï¼Œè¯·å°†å…¶æ·»åŠ åˆ°ä½ çš„ <code>.bashrc</code> æˆ–ç™»å½•è„šæœ¬ä¸­ï¼š</p><div class="highlight"><pre><code class="language-bash"> <span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span><span class="s2">"</span><span class="nv">$GOPATH</span><span class="s2">/src/k8s.io/kubernetes/third_party/etcd:</span><span class="si">${</span><span class="nv">PATH</span><span class="si">}</span><span class="s2">"</span></code></pre></div><h3><b>Makefile</b></h3><p data-pid="mnbQA4MB">æˆ‘ä»¬å³ä½¿çŸ¥é“äº†å¯¹äºä¸€ä¸ªå¼€å‘è€…æ¥è¯´ï¼Œä¸€ä¸ª Makefile æ–‡æ¡£å¸¦æ¥çš„å¸®åŠ©æ˜¯å·¨å¤§çš„ã€‚</p><p data-pid="RMdaYY1x">è¦æ„å»ºKubernetesçš„ç‰¹å®šéƒ¨åˆ†ï¼Œè¯·ä½¿ç”¨ <code>WHAT</code> ç¯å¢ƒå˜é‡ã€‚åœ¨Kubernetesé¡¹ç›®ç›®å½• <code>$GOPATH/src/k8s.io/kubernetes/</code> ä¸­ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><div class="highlight"><pre><code class="language-bash"> make <span class="nv">WHAT</span><span class="o">=</span>cmd/&lt;subsystem&gt;</code></pre></div><p data-pid="x-unt8m6">å°† <code>&lt;subsystem&gt;</code> æ›¿æ¢ä¸º <code>cmd/</code> ç›®å½•ä¸‹çš„å‘½ä»¤æ–‡ä»¶å¤¹ä¹‹ä¸€ã€‚ä¾‹å¦‚ï¼Œè¦æ„å»º <code>kubectl</code> CLIï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><div class="highlight"><pre><code class="language-bash"> make <span class="nv">WHAT</span><span class="o">=</span>cmd/kubectl</code></pre></div><p data-pid="f8wcbE5p">å¦‚æœæ­¤å‘½ä»¤æˆåŠŸï¼Œä½ ç°åœ¨å°†åœ¨Kubernetesé¡¹ç›®ç›®å½•çš„ <code>_output/bin/kubectl</code> å¤„æ‹¥æœ‰ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ã€‚</p><p data-pid="Wd1TkM9d">è¦æ„å»ºæ•´ä¸ªKubernetesé¡¹ç›®ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><div class="highlight"><pre><code class="language-text"> make all</code></pre></div><p data-pid="3IhoVyeq">æ³¨æ„ï¼šä½ å¯ä»¥çœç•¥ <code>all</code> ï¼Œåªè¿è¡Œ <code>make</code> ã€‚</p><p data-pid="S0mXuIMo">Kubernetesæ„å»ºç³»ç»Ÿé»˜è®¤å°†æŠ¥å‘Šçš„Goç¼–è¯‘å™¨é”™è¯¯æ•°é‡é™åˆ¶ä¸º10ã€‚å¦‚æœä½ æƒ³åˆ é™¤æ­¤é™åˆ¶ï¼Œè¯·åœ¨å‘½ä»¤è¡Œä¸­æ·»åŠ  <code>GOGCFLAGS="-e"</code> ã€‚</p><div class="highlight"><pre><code class="language-bash"> make <span class="nv">WHAT</span><span class="o">=</span><span class="s2">"cmd/kubectl"</span> <span class="nv">GOGCFLAGS</span><span class="o">=</span><span class="s2">"-e"</span></code></pre></div><p data-pid="8qDeytn0">å¦‚æœä½ éœ€è¦åœ¨å·²ç¼–è¯‘çš„Kuberneteså¯æ‰§è¡Œæ–‡ä»¶ä¸Šä½¿ç”¨è°ƒè¯•æ£€æŸ¥å·¥å…·ï¼Œè¯·è®¾ç½®DBG=1ã€‚ä¾‹å¦‚ï¼š</p><div class="highlight"><pre><code class="language-bash"> make <span class="nv">WHAT</span><span class="o">=</span><span class="s2">"cmd/kubectl"</span> <span class="nv">DBG</span><span class="o">=</span><span class="m">1</span></code></pre></div><p data-pid="wd-O_wHy">è¦ä¸ºæ‰€æœ‰å¹³å°äº¤å‰ç¼–è¯‘Kubernetesï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><div class="highlight"><pre><code class="language-bash"> make cross</code></pre></div><p data-pid="f8sK5Xl_">è¦ä¸ºç‰¹å®šå¹³å°æ„å»ºäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œè¯·æ·»åŠ  <code>KUBE_BUILD_PLATFORMS=&lt;os&gt;/&lt;arch&gt;</code> ã€‚ä¾‹å¦‚ï¼š</p><div class="highlight"><pre><code class="language-bash"> make cross <span class="nv">KUBE_BUILD_PLATFORMS</span><span class="o">=</span>windows/amd64</code></pre></div><p data-pid="Z54Gcttw">è¦è¿è¡Œæ‰€æœ‰æäº¤å‰éªŒè¯æµ‹è¯•ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p><div class="highlight"><pre><code class="language-bash"> make verify</code></pre></div><p data-pid="8aq3CwWx">å¦‚æœæŸä¸ªç‰¹å®šçš„éªŒè¯æµ‹è¯•å¤±è´¥ï¼Œå¯èƒ½ä¼šæœ‰ä¸€ä¸ªæ›´æ–°è„šæœ¬æ¥å¸®åŠ©è§£å†³é—®é¢˜ã€‚å®ƒä»¬ä½äº <code>hack/update-*.sh</code> ã€‚ä¾‹å¦‚ï¼Œ <code>hack/update-gofmt.sh</code> ç¡®ä¿æ‰€æœ‰æºä»£ç æ–‡ä»¶çš„æ ¼å¼æ­£ç¡®ã€‚å‘é¡¹ç›®ä¸­æ·»åŠ æ–°æ–‡ä»¶æ—¶é€šå¸¸éœ€è¦æ­¤é€‰é¡¹ã€‚</p><p data-pid="fVG4_ncP">å¯ä»¥ä½¿ç”¨æ­¤å‘½ä»¤è¿è¡Œæ‰€æœ‰æ›´æ–°è„šæœ¬ï¼š</p><div class="highlight"><pre><code class="language-bash"> make update</code></pre></div><p data-pid="1GNNJlJD">ull requestéœ€è¦é€šè¿‡æ‰€æœ‰å•å…ƒæµ‹è¯•ã€‚è¦è¿è¡Œæ¯ä¸ªå•å…ƒæµ‹è¯•ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p><div class="highlight"><pre><code class="language-bash"> make test</code></pre></div><p data-pid="70gBYYWm">ä½ è¿˜å¯ä»¥ä½¿ç”¨ <code>WHAT</code> é€‰é¡¹æ¥æ§åˆ¶è¦æµ‹è¯•çš„åŒ…å’Œå­ç³»ç»Ÿï¼Œå¹¶ä½¿ç”¨ <code>GOFLAGS</code> æ¥æ›´æ”¹æµ‹è¯•çš„è¿è¡Œæ–¹å¼ã€‚ä¾‹å¦‚ï¼Œè¦å¯¹ä¸€ä¸ªåŒ…è¯¦ç»†è¿è¡Œå•å…ƒæµ‹è¯•ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p><div class="highlight"><pre><code class="language-bash"> make <span class="nb">test</span> <span class="nv">WHAT</span><span class="o">=</span>./pkg/apis/core/helper <span class="nv">GOFLAGS</span><span class="o">=</span>-v</code></pre></div><p data-pid="aEiEmVk-">è¦è¿è¡Œé›†æˆæµ‹è¯•ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p><div class="highlight"><pre><code class="language-bash"> make test-integration</code></pre></div><h2><b>Kuberneteså¢å¼ºå»ºè®®ï¼ˆKEPï¼‰</b></h2><blockquote data-pid="cjnr7FtG">Kubernetes Enhancement Proposals (KEPs) </blockquote><p data-pid="Yv_Ei0Wk">Kuberneteså¢å¼ºææ¡ˆï¼ˆKEPï¼‰æ˜¯ä¸€ç§ä¸ºKubernetesé¡¹ç›®æå‡ºï¼Œæ²Ÿé€šå’Œåè°ƒæ–°å·¥ä½œçš„æ–¹å¼ã€‚ä½ å¯ä»¥åœ¨KEP-0000ä¸­é˜…è¯»è¯¥é¡¹ç›®çš„å…¨éƒ¨ç»†èŠ‚ã€‚</p><p data-pid="yFFTI9S1">ä»€ä¹ˆæ˜¯ KEPï¼Ÿ</p><p data-pid="IKTG8jHd"><b>æå‡ºäº†Kubernetesçš„æ ‡å‡†åŒ–å¼€å‘æµç¨‹ï¼Œä»¥ä¾¿ï¼š</b></p><ul><li data-pid="_K0DM9Ko">ä¸ºKubernetesçš„å˜æ›´å»ºè®®æä¾›ä¸€ä¸ªé€šç”¨çš„ç»“æ„</li><li data-pid="19zwosPU">ç¡®ä¿å˜æ›´çš„åŠ¨æœºæ˜ç¡®</li><li data-pid="46Sp6T-t">å…è®¸åˆ—ä¸¾ç¨³å®šæ€§é‡Œç¨‹ç¢‘å’Œç¨³å®šæ€§åˆ†çº§æ ‡å‡†</li><li data-pid="KbAkYO1B">åœ¨ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼ˆVCSï¼‰ä¸­æŒä¹…ä¿å­˜é¡¹ç›®ä¿¡æ¯ï¼Œä»¥ä¾¿å°†æ¥ä½¿ç”¨Kubernetes</li><li data-pid="3mAf4ceU">æ”¯æŒåˆ›å»ºé¢å‘ç”¨æˆ·çš„é«˜ä»·å€¼ä¿¡æ¯ï¼Œä¾‹å¦‚ï¼š<br></li><ul><li data-pid="inUjWO8h">æ€»ä½“é¡¹ç›®å¼€å‘è·¯çº¿å›¾</li><li data-pid="1L10t3AG">æœ‰å½±å“åŠ›çš„é¢å‘ç”¨æˆ·çš„å˜æ›´çš„åŠ¨æœº</li></ul><li data-pid="XNlXa9Hx">ä¿ç•™GitHubé—®é¢˜ç”¨äºè·Ÿè¸ªæ­£åœ¨è¿›è¡Œçš„å·¥ä½œï¼Œè€Œä¸æ˜¯åˆ›å»º  "umbrella" issues</li><li data-pid="AWh7SaRS">ç¡®ä¿ç¤¾åŒºå‚ä¸è€…èƒ½å¤ŸæˆåŠŸåœ°æ¨åŠ¨ä¸€ä¸ªæˆ–å¤šä¸ªç‰ˆæœ¬çš„å˜æ›´å®Œæˆï¼ŒåŒæ—¶åœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­å……åˆ†ä»£è¡¨åˆ©ç›Šç›¸å…³è€…</li></ul><p data-pid="TSSpD5zC"><b>è¿™ä¸ªè¿‡ç¨‹ç”±ä¸€ä¸ªåä¸º  Kubernetes Enhancement Proposals (KEPs)  æˆ–KEPçš„å·¥ä½œå•å…ƒæ”¯æŒã€‚KEPå°è¯•å°†ä»¥ä¸‹æ–¹é¢ç»“åˆèµ·æ¥</b></p><ul><li data-pid="N4MGbBQP">åŠŸèƒ½å’Œå·¥ä½œè·Ÿè¸ªæ–‡æ¡£</li><li data-pid="1arGx1g7">äº§å“éœ€æ±‚æ–‡æ¡£</li><li data-pid="EtslvgEX">è®¾è®¡æ–‡ä»¶</li></ul><p data-pid="PqxYA_nP">ä¸€ä¸ªæ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶æ˜¯ä¸ä¸€ä¸ªæˆ–å¤šä¸ªç‰¹æ®Šå…´è¶£ç»„ï¼ˆSIGï¼‰åä½œé€æ­¥åˆ›å»ºçš„ã€‚</p><h2><b>ç¬¬ä¸€æ¬¡å‚ä¸ Kubernetes </b></h2><ul><li data-pid="wAGONWFY"><a href="https://github.com/kubernetes/community/blob/master/contributors/guide/first-contribution.md#find-something-to-work-on" target="_blank">è¿™ç¯‡æ–‡æ¡£å‘Šè¯‰äº†æˆ‘ä»¬è´¡çŒ®çš„ä¸€äº›æ–¹æ³•</a></li></ul><p data-pid="A058MO5h">ä»¥ä¸‹æ˜¯ä½ ä»Šå¤©å¯ä»¥åšçš„ä¸€äº›äº‹æƒ…ï¼Œä»¥å¼€å§‹è´¡çŒ®ï¼š</p><ul><li data-pid="WpnNUScZ">å¸®åŠ©æ”¹è¿›Kubernetesæ–‡æ¡£</li><li data-pid="m_9e7rg7">é˜æ˜å¯ä»¥é‡å‘½åæˆ–æ³¨é‡Šçš„ä»£ç ã€å˜é‡æˆ–å‡½æ•°</li><li data-pid="0zXkGVXL">å†™æµ‹è¯•è¦†ç›–ç‡</li><li data-pid="ohcgzzYg">å¸®åŠ©åˆ†ç±»é—®é¢˜ï¼ˆå¹¶ä¸ä¸€å®šéœ€è¦æƒé™ï¼Œè€Œæ˜¯é€šè¿‡å‘½ä»¤å’Œæœºå™¨äººï¼‰</li></ul><p data-pid="-1F0Mbgn">å¦‚æœä¸Šé¢çš„å»ºè®®å¯¹ä½ æ²¡æœ‰å¸å¼•åŠ›ï¼Œä½ å¯ä»¥æµè§ˆè¢«æ ‡è®°ä¸º <a href="https://go.k8s.io/good-first-issue" target="_blank">å¥½çš„ç¬¬ä¸€ä¸ªé—®é¢˜</a> çš„é—®é¢˜ï¼Œçœ‹çœ‹è°åœ¨å¯»æ±‚å¸®åŠ©ã€‚é‚£äº›æœ‰å…´è¶£åœ¨ä¸ç¼–å†™ä»£ç çš„æƒ…å†µä¸‹è¿›è¡Œè´¡çŒ®çš„äººä¹Ÿå¯ä»¥åœ¨éä»£ç è´¡çŒ®æŒ‡å—ä¸­æ‰¾åˆ°æƒ³æ³•ã€‚</p><h3><b>ä¿®æ”¹è‡ªå·±çš„ <code>kubectl</code> fork</b></h3><p data-pid="11_xFq8s">ç¡®ä¿ä½ å‡†å¤‡å¥½ç«‹å³å¼€å§‹ä¹‹å‰ï¼Œä½ å£°ç§°ä»»ä½•ä¸€å—çš„å·¥ä½œã€‚</p><ul><li data-pid="IaRcb9hi">è®¾ç½®å¼€å‘ç¯å¢ƒã€‚</li><li data-pid="2DXe2EN1">ç†Ÿæ‚‰ä»£ç ï¼š<br></li><ul><li data-pid="gwDeYYf1"><a href="https://git.k8s.io/kubernetes/cmd/kubectl" target="_blank">kubernetes/cmd/kubectl</a> is the entry point</li><li data-pid="MLf_oe9c"><a href="https://git.k8s.io/kubernetes/pkg/kubectl" target="_blank">kubernetes/pkg/kubectl</a> is the implementation</li><li data-pid="TJy3cSdp">Look at how some of the other commands are implemented</li><li data-pid="H_WCLCGe"><a href="https://youtu.be/eZeCFRh2uGg?t=538" target="_blank">Codebase Tour</a></li></ul><li data-pid="iuSauu41">å°è¯•æ·»åŠ ä¸€ä¸ªæ–°å‘½ä»¤æ¥æ‰§è¡Œä¸€äº›ç®€å•çš„æ“ä½œï¼š<br></li><ul><li data-pid="Zz7EbVgO">æ·»åŠ  <code>kubectl hello-world</code> ï¼šæ‰“å°â€œHello Worldâ€</li><li data-pid="1LsrW4_X">æ·»åŠ  <code>kubectl hello-kubernetes -f file</code> ï¼šæ‰“å° <code>Hello&lt;kind of resource&gt;&lt;name of resource&gt;</code></li><li data-pid="rUz6jkCn">æ·»åŠ  <code>kubectl hello-kubernetes type/name</code> ï¼šæ‰“å° <code>Hello&lt;kind of resource&gt;&lt;name of resource&gt;&lt;creation time&gt;</code> </li></ul></ul><p data-pid="JcPf6z27">æ³¨æ„ï¼šè€ƒè™‘å°†ä½ çš„å‘½ä»¤å‘å¸ƒåˆ°ä¸€ä¸ªforkä¸Šï¼Œè¿™æ ·ç»´æŠ¤äººå‘˜å°±å¯ä»¥æŸ¥çœ‹å®ƒã€‚</p><h3><b>Find a good first topic</b></h3><p data-pid="6lSUZ-_P">Kubernetesç»„ç»‡ä¸­æœ‰å¤šä¸ªå­˜å‚¨åº“ã€‚æ¯ä¸ªå­˜å‚¨åº“éƒ½æœ‰åˆå­¦è€…å‹å¥½çš„é—®é¢˜ï¼Œè¿™æ˜¯å¼€å§‹ä½ çš„è´¡çŒ®è€…ä¹‹æ—…çš„å¥½åœ°æ–¹ã€‚ä¾‹å¦‚ï¼Œkubernetes/kuberneteså¯¹äºä¸éœ€è¦é«˜çº§KubernetesçŸ¥è¯†æ¥è´¡çŒ®çš„é—®é¢˜æœ‰<a href="https://github.com/issues?q=org%3Akubernetes+org%3Akubernetes-sigs+org%3Akubernetes-csi+org%3Akubernetes-client+is%3Aopen+is%3Aissue+label%3A%22help+wanted%22+no%3Aassignee" target="_blank">help wanted</a>å’Œ good first issueæ ‡ç­¾ã€‚ <code>good first issue</code> æ ‡ç­¾è¿˜è¡¨ç¤ºKubernetesæˆå‘˜å·²æ‰¿è¯ºä¸ºæ–°è´¡çŒ®è€…æä¾›é¢å¤–å¸®åŠ©ã€‚å¦ä¸€ç§å¼€å§‹çš„æ–¹æ³•æ˜¯æ‰¾åˆ°ä¸€ä¸ªæ–‡æ¡£æ”¹è¿›ï¼Œæ¯”å¦‚ä¸€ä¸ªä¸¢å¤±/æ–­å¼€çš„é“¾æ¥ï¼Œè¿™å°†ç»™äºˆä½ æ¥è§¦åˆ°ä»£ç æäº¤/å®¡æŸ¥è¿‡ç¨‹ï¼Œè€Œä¸ä¼šå¢åŠ æŠ€æœ¯æ·±åº¦çš„å¤æ‚æ€§ã€‚</p><h3><b>Githubä¸­çš„é—®é¢˜åˆ†é…</b></h3><blockquote data-pid="XjezRFfn">Issue Assignment in Github</blockquote><p data-pid="RAZ8xbxF">å½“ä½ å‘ç°ä¸€ä¸ªé—®é¢˜è¦è§£å†³æ—¶ï¼Œä½ å¯ä»¥å°†å®ƒåˆ†é…ç»™è‡ªå·±ã€‚</p><ul><li data-pid="6SYWon3g">å°±ä½ å¸Œæœ›è§£å†³çš„é—®é¢˜å›å¤ <code>/assign</code> æˆ– <code>/assign @yourself</code></li><li data-pid="OO-qyC2O"><a href="https://github.com/k8s-ci-robot" target="_blank">K8s-ci-robot</a> ä¼šè‡ªåŠ¨å°†é—®é¢˜åˆ†é…ç»™ä½ ã€‚</li><li data-pid="YT4oPEvT">ä½ çš„å§“åå°†åˆ—åœ¨ <code>Assignees</code> ä¸‹ã€‚</li></ul><h3><b>é€‰æ‹©åˆé€‚çš„ sig</b></h3><blockquote data-pid="IfsYMWvU">Find a SIG that is related to your contribution</blockquote><p data-pid="0LjdwsAQ">ä¸ºä½ çš„è´¡çŒ®æ‰¾åˆ°åˆé€‚çš„SIGå¹¶æ·»åŠ SIGæ ‡ç­¾å°†æœ‰åŠ©äºä½ åœ¨æ­£ç¡®çš„ä½ç½®æå‡ºé—®é¢˜ï¼Œå¹¶ç»™äºˆä½ çš„è´¡çŒ®å…·æœ‰æ›´é«˜çš„å¯è§æ€§å’Œæ›´å¿«çš„ç¤¾åŒºå“åº”ã€‚</p><p data-pid="QZyedyDh">å¯¹äºåˆå¹¶è¯·æ±‚ï¼Œè‡ªåŠ¨åˆ†é…çš„å®¡é˜…è€…å°†æ·»åŠ SIGæ ‡ç­¾ï¼ˆå¦‚æœä½ å°šæœªæ·»åŠ ï¼‰ã€‚</p><p data-pid="Tq9_xqeS">å¯¹äºé—®é¢˜ï¼Œè¯·æ³¨æ„ï¼Œç¤¾åŒºæ­£åœ¨å¼€å‘ä¸€ä¸ªæ›´åŠ è‡ªåŠ¨åŒ–çš„å·¥ä½œæµç¨‹ã€‚ç”±äºSIGä¸ç›´æ¥æ˜ å°„åˆ°Kuberneteså­å­˜å‚¨åº“ï¼Œå› æ­¤å¯èƒ½å¾ˆéš¾æ‰¾åˆ°ä½ çš„è´¡çŒ®å±äºå“ªä¸ªSIGã€‚æŸ¥çœ‹ <a href="https://github.com/kubernetes/community/blob/master/sig-list.md" target="_blank">SIGåˆ—è¡¨</a> ä»¥ç¡®å®šå“ªä¸ªSIGæœ€æœ‰å¯èƒ½ä¸ä½ çš„è´¡çŒ®ç›¸å…³ã€‚</p><p data-pid="-nzwZZf3">ä¾‹å¦‚ï¼šå¦‚æœä½ æ­£åœ¨æäº¤ä¸€ä¸ªCNIé—®é¢˜ï¼ˆå³å®¹å™¨ç½‘ç»œæ¥å£ï¼‰ï¼Œä½ å°†é€‰æ‹©<a href="https://github.com/kubernetes/community/tree/master/sig-network" target="_blank">ç½‘ç»œSIG</a>ã€‚åœ¨GitHubä¸Šçš„æ–°è¯„è®ºä¸­æ·»åŠ SIGæ ‡ç­¾ï¼Œæ–¹æ³•æ˜¯é”®å…¥ä»¥ä¸‹å†…å®¹ï¼š</p><div class="highlight"><pre><code class="language-text"> /sig network</code></pre></div><p data-pid="H0HOVwC3">æŒ‰ç…§SIGåç§°åˆ—ä¸­çš„é“¾æ¥è®¿é—®æ¯ä¸ªSIGçš„READMEã€‚</p><p data-pid="m8toSlRQ">å¤§å¤šæ•°SIGéƒ½æœ‰ä¸€ç»„GitHubå›¢é˜Ÿï¼Œè¿™äº›å›¢é˜Ÿçš„æ ‡ç­¾å¯ä»¥åœ¨é—®é¢˜è¯„è®ºå’Œæ‹‰å–è¯·æ±‚ä¸­æåŠï¼Œä»¥è·å¾—æ›´é«˜çš„å¯è§æ€§ã€‚å¦‚æœä½ ä¸ç¡®å®šé—®é¢˜çš„æ­£ç¡®SIGï¼Œå¯ä»¥å°è¯•  <a href="https://github.com/kubernetes/community/blob/master/sig-contributor-experience/README.md" target="_blank">SIG-contributor-experience</a>, or <a href="http://slack.k8s.io/" target="_blank">ask in Slack</a>ã€‚</p><h3><b>SIGä¸“ç”¨è´¡çŒ®æŒ‡å—</b></h3><p data-pid="qBQszAfN">ä¸€äº›SIGæœ‰è‡ªå·±çš„ <code>CONTRIBUTING.md</code> æ–‡ä»¶ï¼Œå…¶ä¸­å¯èƒ½åŒ…å«é™¤äº†è¿™äº›ä¸€èˆ¬ä¿¡æ¯æˆ–æŒ‡å—ä¹‹å¤–çš„é¢å¤–ä¿¡æ¯æˆ–æŒ‡å—ã€‚è¿™äº›ä½äºSIGç‰¹å®šçš„ç¤¾åŒºç›®å½•ä¸­ï¼š</p><ul><li data-pid="oxzijtyH"><code><a href="https://github.com/kubernetes/community/blob/master/sig-apps/CONTRIBUTING.md" target="_blank">/sig-apps/CONTRIBUTING.md</a></code></li><li data-pid="Ji5u1it8"><code><a href="https://github.com/kubernetes/community/blob/master/sig-cli/CONTRIBUTING.md" target="_blank">/sig-cli/CONTRIBUTING.md</a></code></li><li data-pid="6brrfSvN"><code><a href="https://github.com/kubernetes/community/blob/master/sig-multicluster/CONTRIBUTING.md" target="_blank">/sig-multicluster/CONTRIBUTING.md</a></code></li><li data-pid="-bF-PNJo"><code><a href="https://github.com/kubernetes/community/blob/master/sig-storage/CONTRIBUTING.md" target="_blank">/sig-storage/CONTRIBUTING.md</a></code></li><li data-pid="cMbpUIZB"><code><a href="https://github.com/kubernetes/community/blob/master/sig-windows/CONTRIBUTING.md" target="_blank">/sig-windows/CONTRIBUTING.md</a></code> </li></ul><h2><b>Kubernetes åˆ†ç±»æŒ‡å—</b></h2><ul><li data-pid="t2EuTCgV"><a href="https://github.com/kubernetes/community/blob/master/contributors/guide/issue-triage.md" target="_blank"><span class="invisible">https://</span><span class="visible">github.com/kubernetes/c</span><span class="invisible">ommunity/blob/master/contributors/guide/issue-triage.md</span><span class="ellipsis"></span></a></li></ul><p data-pid="WjrBae1f">Issue triageæ˜¯ä¸€ä¸ªSIGæ¥æ”¶å’Œå®¡æŸ¥æ–°çš„GitHubé—®é¢˜å’Œè¯·æ±‚çš„è¿‡ç¨‹ï¼Œå¹¶å°†å…¶ç»„ç»‡èµ·æ¥ï¼Œç”±è‡ªå·±çš„æˆå‘˜æˆ–å…¶ä»–SIGé‡‡å–è¡ŒåŠ¨ã€‚</p><p data-pid="-6ff2Ig8">åˆ†ç±»æ¶‰åŠæ ¹æ®ä¼˜å…ˆçº§/ç´§æ€¥ç¨‹åº¦ã€é—®é¢˜çš„SIGæ‰€æœ‰æƒå’Œé—®é¢˜ç±»å‹ï¼ˆé”™è¯¯ã€åŠŸèƒ½ç­‰ï¼‰ç­‰å› ç´ å¯¹é—®é¢˜å’Œæ‹‰å–è¯·æ±‚è¿›è¡Œåˆ†ç±»ã€‚</p><h3><b>æƒé™å’Œæœºå™¨äºº</b></h3><p data-pid="RVyqEJ4W">æ‰€æœ‰è´¡çŒ®è€…éƒ½å¯ä»¥æ‰“å¼€æ–°é—®é¢˜å¹¶å¯¹å…¶ä»–äººçš„é—®é¢˜å‘è¡¨è¯„è®ºã€‚ä½†æ˜¯ï¼Œåˆ†é…ç‰¹å®šæ ‡ç­¾ï¼ˆå¦‚ <code>triage</code> ï¼‰ã€æ›´æ”¹é‡Œç¨‹ç¢‘æˆ–å…³é—­å…¶ä»–è´¡çŒ®è€…é—®é¢˜çš„æƒé™ä»…æˆäºˆé—®é¢˜çš„ä½œè€…ã€å—è®©äººå’Œç»„ç»‡æˆå‘˜ã€‚å‡ºäºè¿™ä¸ªåŸå› ï¼Œæˆ‘ä»¬ä½¿ç”¨æœºå™¨äººæ¥ç®¡ç†æ ‡ç­¾å’Œåˆ†ç±»ã€‚æœ‰å…³botçš„å‘½ä»¤å’Œæƒé™çš„å®Œæ•´åˆ—è¡¨ï¼Œè¯·<a href="https://prow.k8s.io/command-help" target="_blank">å‚é˜…Prowå‘½ä»¤å‚è€ƒé¡µé¢</a>ã€‚</p><ul><li data-pid="y7JCF0Hl"><a href="https://prow.k8s.io/command-help" target="_blank"><span class="invisible">https://</span><span class="visible">prow.k8s.io/command-hel</span><span class="invisible">p</span><span class="ellipsis"></span></a></li></ul><p data-pid="lrjmnr-V">é™¤äº†æœºå™¨äººï¼ŒKubernetes è¿˜æœ‰ä¸€ä¸ªç‰¹åˆ«æœ‰æ„æ€çš„å·¥å…·ï¼Œå¯ä»¥æ˜¾ç¤ºä½ å½“å‰å“ªäº›pull requestsæ­£åœ¨ç­‰å¾…ä½ çš„åé¦ˆï¼Œå“ªäº›PRæ­£åœ¨ç­‰å¾…è´¡çŒ®è€…å“åº”ã€‚è¯·æ³¨æ„ï¼ŒGubernatoråªæ˜¾ç¤ºpull requestsã€‚ä½ å°†çœ‹ä¸åˆ°åˆ†é…ç»™ä½ çš„é—®é¢˜ã€‚</p><ul><li data-pid="vA8G3UrE"><a href="https://gubernator.k8s.io/pr/cubxxw" target="_blank"><span class="invisible">https://</span><span class="visible">gubernator.k8s.io/pr/cu</span><span class="invisible">bxxw</span><span class="ellipsis"></span></a></li></ul><h3><b>æ ‡ç­¾åˆ†ç±»</b></h3><p data-pid="eGO4A4wI">å¯¹äº Kubernetes æ¥è¯´ï¼Œæ ‡ç­¾åˆ†ç±»å¾ˆå¤æ‚ï¼Œä½†æ˜¯ç¡®å®å¾ˆæœ‰å¿…è¦ï¼Œèƒ½å¤Ÿå¸®åŠ© member å¿«é€Ÿçš„å»å®šä½å’Œè§£å†³é—®é¢˜ã€‚</p><p data-pid="jGONmBir">åœ¨ Kubernetes ä¸­çš„æ ‡ç­¾åˆ—è¡¨å®šä¹‰åœ¨ ï¼š<a href="https://github.com/kubernetes/kubernetes/labels" target="_blank"><span class="invisible">https://</span><span class="visible">github.com/kubernetes/k</span><span class="invisible">ubernetes/labels</span><span class="ellipsis"></span></a></p><p data-pid="HKjW1TJH">æ–°é—®é¢˜å°†è‡ªåŠ¨åˆ†é… <code>needs-triage</code> æ ‡ç­¾ï¼ŒæŒ‡ç¤ºè¿™äº›é—®é¢˜å½“å‰æ­£åœ¨ç­‰å¾…åˆ†ç±»ã€‚åœ¨å¯¹é—®é¢˜è¿›è¡Œåˆ†ç±»åï¼Œæ‹¥æœ‰SIGçš„é—®é¢˜å°†ä½¿ç”¨botå‘½ä»¤ <code>/triage accepted</code> ã€‚æ­¤å‘½ä»¤åˆ é™¤ <code>needs-triage</code> æ ‡ç­¾å¹¶æ·»åŠ  <code>triage/accepted</code> æ ‡ç­¾ã€‚</p><p data-pid="fuW8xBH1">è¯·æ³¨æ„ï¼Œæ·»åŠ æ ‡ç­¾éœ€è¦Kubernetes GitHub orgæˆå‘˜èµ„æ ¼ã€‚å¦‚æœä½ ä¸æ˜¯ç»„ç»‡æˆå‘˜ï¼Œä½ åº”è¯¥æ·»åŠ ä½ çš„åˆ†ç±»ç»“æœä½œä¸ºè¯„è®ºã€‚</p><h3><b>è¿›è¡Œæœç´¢</b></h3><p data-pid="z0M3BhDm">GitHubå…è®¸ä½ è¿‡æ»¤å‡ºé—®é¢˜ç±»å‹å’Œæ‹‰å–è¯·æ±‚ï¼Œè¿™æœ‰åŠ©äºä½ å‘ç°éœ€è¦åˆ†ç±»çš„é¡¹ç›®ã€‚ä¸ºæ–¹ä¾¿èµ·è§ï¼Œæ­¤è¡¨åŒ…æ‹¬ä¸€äº›é¢„å®šçš„æœç´¢ï¼š</p><table data-draft-node="block" data-draft-type="table" data-size="normal" data-row-style="normal"><tbody><tr><th>Search</th><th>What it sorts å®ƒçš„åˆ†ç±»</th></tr><tr><td>created-asc</td><td>æŒ‰å¹´é¾„åˆ†ç±»çš„æœªåˆ†ç±»é—®é¢˜</td></tr><tr><td>needs-sig</td><td>éœ€è¦åˆ†é…ç»™SIGçš„é—®é¢˜</td></tr><tr><td>is:open is:issue</td><td>æœ€æ–°æ”¶åˆ°çš„é—®é¢˜</td></tr><tr><td>comments-desc</td><td>æœ€ç¹å¿™çš„æœªåˆ†ç±»é—®é¢˜ï¼ŒæŒ‰è¯„è®ºæ•°æ’åº</td></tr><tr><td>comments-asc</td><td>éœ€è¦æ›´å¤šå…³æ³¨çš„é—®é¢˜ï¼ŒåŸºäºè¯„è®ºæ•°</td></tr></tbody></table><p data-pid="IhNM0sCG">æˆ‘ä»¬å»ºè®®ä½ å…ˆè¿‡æ»¤æ‰æœ€è€çš„ã€æœªæ ‡è®°çš„é—®é¢˜å’Œpull requestsã€‚</p><h3><b>æŒ‰ç±»å‹åˆ†ç±»é—®é¢˜</b></h3><p data-pid="avV3UbpB">ä½¿ç”¨è¿™äº› <code>triage/</code> å’Œ <code>kind/support</code> æ ‡ç­¾æŸ¥æ‰¾å¯ä»¥å¿«é€Ÿå…³é—­çš„æœªå†³é—®é¢˜ã€‚åˆ†ç±»å·¥ç¨‹å¸ˆå¯ä»¥æ·»åŠ é€‚å½“çš„æ ‡ç­¾ã€‚</p><p data-pid="4XnW_tdx"><code>triage/needs-information</code> æ ‡ç­¾è¡¨ç¤ºé—®é¢˜éœ€è¦æ›´å¤šä¿¡æ¯æ‰èƒ½ç»§ç»­å·¥ä½œ;è¯„è®ºæˆ–å…³é—­å®ƒã€‚</p><h3><b>Help Wanted/Good First Issues </b></h3><p data-pid="9cusPKTN">ä¸ºäº†è¯†åˆ«ä¸“é—¨ä¸ºæ–°è´¡çŒ®è€…å‡†å¤‡çš„é—®é¢˜ï¼Œæˆ‘ä»¬ä½¿ç”¨äº† <a href="https://github.com/kubernetes/kubernetes/issues?q=is%3Aopen+is%3Aissue+label%3A%22help+wanted%22+sort%3Aupdated-desc" target="_blank">help wanted</a> and <a href="https://github.com/kubernetes/kubernetes/issues?q=is%3Aopen+is%3Aissue+label%3A%22good+first+issue%22+sort%3Aupdated-desc" target="_blank">good first issue</a> æ ‡ç­¾ã€‚è¦ä½¿ç”¨è¿™äº›æ ‡ç­¾ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</p><ul><li data-pid="L6_v5Xty">å¦‚æœé—®é¢˜æ»¡è¶³è¿™äº›å‡†åˆ™ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>/help</code> å‘½ä»¤æ·»åŠ  <code>help wanted</code> æ ‡ç­¾ã€‚ä½¿ç”¨ <code>/good-first-issue</code> å‘½ä»¤åˆ›å»º <code>good first issue</code> æ ‡ç­¾ã€‚è¯·æ³¨æ„ï¼Œæ·»åŠ  <code>good first issue</code> æ ‡ç­¾ä¹Ÿä¼šè‡ªåŠ¨æ·»åŠ  <code>help wanted</code> æ ‡ç­¾ã€‚</li><li data-pid="MMtA3v6d">å¦‚æœæŸä¸ªé—®é¢˜æœ‰è¿™äº›æ ‡ç­¾ï¼Œä½†ä¸ç¬¦åˆæŒ‡å¯¼åŸåˆ™ï¼Œè¯·è¯¢é—®è¦æ·»åŠ åˆ°è¯¥é—®é¢˜çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œæˆ–ä½¿ç”¨ <code>/remove-help</code> æˆ– <code>/remove-good-first-issue</code> å‘½ä»¤åˆ é™¤æ ‡ç­¾ã€‚</li></ul><h3><b>Kind Labels</b></h3><p data-pid="Sy3FfiVt">GitHub é»˜è®¤æ˜¯æ²¡æœ‰ <code>Kind</code> ç±»å‹çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸ºäº†æ–¹ä¾¿ç®¡ç†ï¼Œ Kubernetes å¯¹é—®é¢˜ä½¿ç”¨äº† <code>Kind</code> ç±»å‹æ ‡ç­¾ï¼š</p><ul><li data-pid="lW4fHp6D"><a href="https://github.com/kubernetes/kubernetes/labels?q=kind" target="_blank"><span class="invisible">https://</span><span class="visible">github.com/kubernetes/k</span><span class="invisible">ubernetes/labels?q=kind</span><span class="ellipsis"></span></a></li></ul><p data-pid="vYpNIev9">é€šå¸¸ <code>kind</code> æ ‡ç­¾ç”±æäº¤é—®é¢˜çš„äººåº”ç”¨ã€‚é”™è¯¯çš„ <code>kind</code> é—®é¢˜ï¼ˆä¾‹å¦‚ï¼Œæ ‡è®°ä¸ºbugçš„æ”¯æŒè¯·æ±‚ï¼‰å¯ä»¥ç”±åˆ†ç±»çš„äººçº æ­£;åå¤æ£€æŸ¥æ˜¯ä¸ªå¥½åŠæ³•ã€‚æˆ‘ä»¬çš„é—®é¢˜æ¨¡æ¿æ—¨åœ¨å¼•å¯¼äººä»¬é€‰æ‹©æ­£ç¡®çš„ç±»å‹ã€‚</p><ul><li data-pid="eijFtbnc"><a href="https://github.com/kubernetes/kubernetes/issues?q=is%3Aopen+label%3Akind%2Fdocumentation+sort%3Aupdated-desc" target="_blank">kind/documentation</a></li><li data-pid="mTMnPd0J"><a href="https://github.com/kubernetes/kubernetes/issues?q=is%3Aopen+label%3Akind%2Ffeature+sort%3Aupdated-desc" target="_blank">kind/feature</a></li><li data-pid="Eb2fp86M"><a href="https://github.com/kubernetes/kubernetes/issues?q=is%3Aopen+label%3Akind%2Fbug+sort%3Aupdated-desc" target="_blank">kind/bug</a></li><li data-pid="eLZaRc1t"><a href="https://github.com/kubernetes/kubernetes/issues?q=is%3Aopen+label%3Akind%2Fsupport+sort%3Aupdated-desc" target="_blank">kind/support</a></li><li data-pid="ZL-BMq9T"><a href="https://github.com/kubernetes/kubernetes/issues?q=is%3Aopen+label%3Akind%2Fcleanup+sort%3Aupdated-desc" target="_blank">kind/cleanup</a>: Categorizes issue or PR as related to cleaning up code, process, or technical debt.</li></ul><h3><b>Define Priority </b></h3><p data-pid="mtuP7Xzq">æˆ‘ä»¬ä½¿ç”¨GitHubæ ‡ç­¾è¿›è¡Œä¼˜å…ˆçº§æ’åºã€‚å¦‚æœé—®é¢˜ç¼ºå°‘ <code>priority</code> æ ‡ç­¾ï¼Œåˆ™æ„å‘³ç€å°šæœªå¯¹å…¶è¿›è¡Œè¯„å®¡å’Œä¼˜å…ˆçº§æ’åºã€‚</p><p data-pid="wKJkKX05">æˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ•´ä¸ªé¡¹ç›®çš„ä¸€è‡´æ€§ã€‚ä½†æ˜¯ï¼Œå¦‚æœä½ å‘ç°ä½ è®¤ä¸ºä¼˜å…ˆçº§ä¸æ­£ç¡®çš„é—®é¢˜ï¼Œè¯·ç•™ä¸‹è¯„è®ºï¼Œæä¾›ä½ çš„åå»ºè®®ï¼Œæˆ‘ä»¬å°†å¯¹å…¶è¿›è¡Œè¯„ä¼°ã€‚</p><h3><b>æ‰¾åˆ°å¹¶è®¾ç½®æ­£ç¡®çš„SIGæ¥æ‹¥æœ‰é—®é¢˜</b></h3><p data-pid="sMkh4YHG">å„ç»„æˆéƒ¨åˆ†åœ¨ç‰¹æ®Šå…´è¶£å°ç»„ï¼ˆSIGï¼‰ä¹‹é—´è¿›è¡Œåˆ’åˆ†ã€‚ æœºå™¨äººå¸®åŠ©æ‰¾åˆ°åˆé€‚çš„SIGæ¥æ‹¥æœ‰é—®é¢˜ã€‚</p><p data-pid="nui88O4i"> å¦‚æœä½ è®¤ä¸ºå¯ä»¥è§£å†³æ­¤é—®é¢˜ï¼Œè¯·ä»…ä½¿ç”¨ <code>/assign</code> å‘½ä»¤å°†å…¶åˆ†é…ç»™è‡ªå·±ã€‚å¦‚æœä½ ç”±äºæƒé™ç›¸å…³çš„åŸå› æ— æ³•è‡ªè¡Œåˆ†é…ï¼Œè¯·ç•™ä¸‹ä½ æƒ³è¦å£°æ˜çš„è¯„è®ºå¹¶å¼€å§‹å¤„ç†PRã€‚</p><p data-pid="Sm7mKAlC">å¦‚æœé—®é¢˜å·²ç»æœ‰å—ç†äººï¼Œè¯·ä¸è¦å°†å…¶åˆ†é…ç»™ä½ è‡ªå·±ï¼Œä¹Ÿä¸è¦åœ¨æœªä¸ç°æœ‰å—ç†äººäº¤è°ˆæˆ–æœªå®Œæˆæœ¬æ–‡æ¡£ä¸­æ‰€è¿°çš„åç»­æ­¥éª¤ä¹‹å‰åˆ›å»ºPRã€‚å½“å…¶ä»–äººå·²ç»åœ¨å¤„ç†ä¸€ä¸ªé—®é¢˜æ—¶åˆ›å»ºPRä¸æ˜¯ä¸€ä¸ªå¥½çš„åšæ³•ï¼Œä¸é¼“åŠ±è¿™æ ·åšã€‚</p><p data-pid="s43JIQId">å¦‚æœä½ å‘ç°åˆ†é…äº†SIGæ ‡ç­¾çš„é—®é¢˜ï¼Œä½†åœ¨30å¤©å†…æ²¡æœ‰ç§»åŠ¨æˆ–è®¨è®ºçš„è¯æ®ï¼Œé‚£ä¹ˆè¯·è½»è½»åœ°æˆ³SIGå…³äºæ­¤æœªå†³é—®é¢˜ã€‚å¦å¤–ï¼Œè€ƒè™‘å‚åŠ ä»–ä»¬çš„ä¸€æ¬¡ä¼šè®®ï¼Œæå‡ºè¿™ä¸ªé—®é¢˜ã€‚</p><p data-pid="bdrikGMl"> å½“é—®é¢˜90å¤©æ²¡æœ‰æ´»åŠ¨æ—¶ï¼Œk8s-triage-robotä¼šå°† <code>lifecycle/stale</code> æ ‡ç­¾æ·»åŠ åˆ°è¯¥é—®é¢˜ã€‚ä½ å¯ä»¥é€šè¿‡æŠ¢å…ˆåº”ç”¨ <code>/lifecycle frozen</code> æ ‡ç­¾æ¥é˜»æ­¢botï¼Œæˆ–è€…ä½¿ç”¨ <code>/remove-lifecycle stale</code> å‘½ä»¤åˆ é™¤æ ‡ç­¾ã€‚k8s-triage-robotåœ¨é—®é¢˜ä¸­æ·»åŠ äº†è¯„è®ºï¼ŒåŒ…æ‹¬å…¶ä»–ç»†èŠ‚ã€‚å¦‚æœä½ ä¸é‡‡å–ä»»ä½•æ­¥éª¤ï¼Œé—®é¢˜æœ€ç»ˆå°†è‡ªåŠ¨å…³é—­ã€‚</p><p></p></div> </details> 
 <hr /> 

 #### - [é«˜çº§çš„ Githook è®¾è®¡](https://zhuanlan.zhihu.com/p/629617458) 
 <details><summary>ØªÙˆØ¶ÛŒØ­Ø§Øª</summary> <p><img src="https://picx.zhimg.com/v2-4ff73ff11d72de6e14b7a5a79d9d63a5_720w.jpg?source=d16d100b"></p><div><ul><li data-pid="jOLHfQQx"><a href="http://nsddd.top/" target="_blank">author</a></li></ul><h2><b>é«˜çº§çš„ Githook è®¾è®¡</b></h2><blockquote data-pid="qkTUiQI3">â¤ï¸  è®°å½•<a href="https://github.com/3293172751/sealos" target="_blank">sealos</a>å¼€æºé¡¹ç›®çš„å­¦ä¹ è¿‡ç¨‹ã€‚<a href="https://github.com/3293172751/sealos" target="_blank">k8s,dockerå’Œäº‘åŸç”Ÿçš„å­¦ä¹ </a>ã€‚Myblog:<a href="http://nsddd.top/" target="_blank">http://nsddd.top</a></blockquote><h2><b>ç¤¾åŒºä¸è§„èŒƒæ€ä¹ˆåŠ</b></h2><p data-pid="rrhQGarT">ä½œä¸º <a href="https://github.com/OpenIMSDK" target="_blank">OpenIM</a> ç¤¾åŒºé¦–å¸­è¿è¥å®˜ï¼Œå¯¹æ•´ä¸ªç¤¾åŒºçš„ <a href="https://github.com/OpenIMSDK/community" target="_blank">communtiy</a> ä»¥åŠ <a href="https://github.com/OpenIMSDK/.github" target="_blank">GitHub é…ç½®ä»“åº“</a> è¿›è¡Œäº†å…¨é¢çš„é…ç½®ã€‚å¹¶ä¸”å¯¹æ•´ä¸ª OpenIM çš„ <code>Makefile</code> å’Œ <code>CICD</code> æµï¼Œä»¥åŠæ•´ä¸ª OpenIM ä½¿ç”¨çš„æ—¥å¿—åŒ… ã€é”™è¯¯ç ã€ååŒæµã€è´¡çŒ®è€…æ–‡æ¡£ä»¥åŠ ç¤¾åŒºæ–‡æ¡£ è¿›è¡Œæ¶æ„å’Œè®¾è®¡ã€‚</p><p data-pid="NgLuZBJn">åœ¨è¿™ä¸ªæ—¶å€™æ€»ä¼šæœ‰ä¸€äº›é—®é¢˜ï¼Œå³ä½¿ä½ è§‰å¾—è‡ªå·±çš„ <a href="https://github.com/OpenIMSDK/Open-IM-Server/blob/main/CONTRIBUTING.md" target="_blank">è´¡çŒ®è€…æ–‡æ¡£</a> å†™çš„å¾ˆç‰›é€¼äº†ï¼Œå¾ˆå…¨é¢äº†ï¼Œä½†æ˜¯ä¾æ—§å¾ˆå°‘æœ‰äººæ„¿æ„èŠ±å¿ƒæ€å»æŒ‰ç…§ä½ å†™çš„è§„èŒƒå»å­¦ä¹ ã€‚è¿™å¯¹æˆ‘æ‰“é€ é¡¶çº§çš„å¼€æºç¤¾åŒºæ˜¯ä¸€ä¸ªéå¸¸å¤§çš„é˜»ç¢ï¼Œäºæ˜¯å°±æœ‰äº†ä»Šå¤©çš„è¿™ä¸ªæ–‡æ¡£ï¼Œæˆ‘ä¼šå°†å®ƒè®°å½•åœ¨ <a href="https://gist.github.com/cubxxw/126b72104ac0b0ca484c9db09c3e5694" target="_blank">GitHub Gists</a> ä¸Šï¼Œæä¾›æ‹‰å–å’Œä½¿ç”¨çš„è¯´æ˜ã€é“¾æ¥ï¼Œå¹¶ä¸”å®šæœŸçš„ç»´æŠ¤å®ƒã€‚</p><p data-pid="aqDE3RyN">é¦–å…ˆï¼Œæˆ‘æä¾›å…‹éš†çš„é“¾æ¥ï¼š</p><div class="highlight"><pre><code class="language-bash"> git clone https://gist.github.com/cubxxw/126b72104ac0b0ca484c9db09c3e5694</code></pre></div><h2><b>å¦‚ä½•è®¾è®¡</b></h2><p data-pid="rMPb7oNq">é¦–å…ˆæ˜¯é’ˆå¯¹åŸºç¡€çš„åŠŸèƒ½ï¼Œé‚£å°±æ˜¯æˆ‘ä»¬ç†ŸçŸ¥çš„ <code>commit</code> ä¿¡æ¯å’Œ <code>push</code> ä¿¡æ¯ã€‚</p><ul><li data-pid="n5BKdrsf">æˆ‘ä»¬å¯ä»¥å¯¹ <code>commit</code> ä¿¡æ¯çš„æ ¼å¼è¿›è¡Œè®¾ç½®</li><li data-pid="wh-P909W">æˆ‘ä»¬å¯ä»¥å¯¹ <code>push</code> çš„å¤§å°è¿›è¡Œè®¾ç½®</li><li data-pid="YNLMyPun">æˆ‘ä»¬æä¾›äº† <code>actions</code> çš„åŠŸèƒ½</li><li data-pid="xf2WCmo1">æˆ‘ä»¬æä¾›äº† <code>Makefile</code> æ ‡è®°å’Œæ¸…é™¤ <code>Hook</code> çš„èƒ½åŠ›</li></ul><p data-pid="Ko1jG3ih">æˆ‘ä¹‹å‰åœ¨å­¦ä¹  git çš„æ—¶å€™å†™äº†ä¸€ç¯‡å¾ˆå…¨çš„ç¬”è®°ï¼Œå¹¶ä¸”åˆ†äº«åœ¨ GitHub ä¸Šé¢ï¼Œåœ¨è¿™ä¸ª <a href="https://github.com/cubxxw/awesome-cs-course/blob/master/Git/README.md" target="_blank">  é“¾æ¥</a> ä¸Šå¯ä»¥å­¦ä¹ åˆ° git å¾ˆå¤šé«˜çº§ç”¨æ³•ã€‚</p><blockquote data-pid="_sFcy3C5">è¿™ç¯‡æ–‡ç« è®²è§£äº† git æœ‰å“ªäº›è§„èŒƒï¼Œå¯»æ‰¾åˆé€‚çš„ CICD æµï¼š<br>ç»Ÿä¸€æ ¼å¼ï¼š<br> ç»Ÿä¸€æ ¼å¼ï¼šgit commit -m 'type(scope): æè¿°(#issue)'<br>æˆ‘ä»¬åœ¨æäº¤çš„æ—¶å€™å¸¦ä¸Šé‚®ç®±ä¿¡æ¯ <code>-s</code> æ¥ç­¾è¯ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä¹ æƒ¯ã€‚ <br> git commit -s -m "..."<br><code>git commit</code>è‰ºæœ¯ï¼š<br> &lt;ç±»å‹&gt;[å¯é€‰ èŒƒå›´]: &lt;æè¿°&gt;<br> [å¯é€‰ æ­£æ–‡]<br> [å¯é€‰ è„šæ³¨]<br><code>git commit</code>æäº¤ç±»å‹å¯ä»¥æ˜¯å¦‚ä¸‹ï¼š</blockquote><ol><li data-pid="toH1wa6s"><code>feat</code>ï¼šæ–°åŠŸèƒ½ï¼ˆfeatureï¼‰</li><li data-pid="tv7apGIT"><code>fix</code>ï¼šä¿®è¡¥bug</li><li data-pid="H-5CAp-Z"><code>docs</code>ï¼šæ–‡æ¡£ï¼ˆdocumentationï¼‰</li><li data-pid="4siEfJIx"><code>style</code>ï¼š æ ¼å¼ï¼ˆä¸å½±å“ä»£ç è¿è¡Œçš„å˜åŠ¨ï¼‰</li><li data-pid="FXehgkHm"><code>refactor</code>ï¼šé‡æ„ï¼ˆå³ä¸æ˜¯æ–°å¢åŠŸèƒ½ï¼Œä¹Ÿä¸æ˜¯ä¿®æ”¹bugçš„ä»£ç å˜åŠ¨ï¼‰</li><li data-pid="788Mug9m"><code>test</code>ï¼šå¢åŠ æµ‹è¯•</li><li data-pid="ODfG1fHV"><code>chore</code>ï¼šæ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨</li><li data-pid="sKD1XRsW"><code>perf</code>ï¼šæ€§èƒ½ä¼˜åŒ–</li><li data-pid="tuXfHiHT"><code>revert</code>ï¼šå›æ»š</li><li data-pid="ZnbAOZ2i"><code>build</code>ï¼šæ„å»º</li><li data-pid="6eketvro"><code>ci</code>ï¼šæŒç»­é›†æˆ</li></ol><p data-pid="-KN1N-Cn"><b>âš ï¸ ä½¿ç”¨è¿™ä¸ª Git hook åº”è¯¥æ³¨æ„ä»€ä¹ˆï¼Ÿ</b></p><ul><li data-pid="aOZbIA05">è¿™ä¸ª <code>git hook</code> ä¼šåœ¨ä½ ä¸å°å¿ƒä¸Šä¼ å¤§æ–‡ä»¶çš„æ—¶å€™ï¼Œé˜»æ­¢ä½ ï¼Œå¹¶ä¸”è­¦å‘Šä½ ï¼Œè¿™æ˜¯ä¸å¯é€†è½¬çš„</li><li data-pid="v3qgSg1H">è¿™ä¸ª <code>git hook</code> ä¼šåœ¨ä½ æ²¡æœ‰åŠæ³•æ§åˆ¶æäº¤æ ¼å¼çš„æ—¶å€™ï¼Œè®©ä½ å¾ˆç—›è‹¦ã€‚</li></ul><h2><b>å¦‚ä½•ä½¿ç”¨</b></h2><p data-pid="r_ZKUd96"><b>ä½ å¯ä»¥é€‰æ‹©ä¸¤ç§æ–¹å¼æ¥ä½¿ç”¨ Git hook:</b></p><ol><li data-pid="snCF0BEC">ç›´æ¥ä½œä¸º <code>.git/hooks</code>æ–‡ä»¶å¤¹ä¸­çš„ <code>pre-commit</code> é’©å­ã€‚</li><li data-pid="BNOGzEgz">ä½¿ç”¨ Husky æ›´æ–°æ‚¨çš„ <code>package.json</code>ï¼š</li></ol><p data-pid="y_dhl9I8"><a href="https://github.com/cubxxw/awesome-cs-course/blob/master/Git/README.md" target="_blank">Husky</a> ä½¿å¾— git hook å˜çš„æ›´åŠ å®¹æ˜“å’Œæ–¹ä¾¿ï¼š</p><div class="highlight"><pre><code class="language-json"> <span class="s2">"husky"</span><span class="err">:</span> <span class="p">{</span>
     <span class="nt">"hooks"</span><span class="p">:</span> <span class="p">{</span>
       <span class="nt">"pre-commit"</span><span class="p">:</span> <span class="s2">"sh ./some-path/pre-commit-prevent-large-files.sh"</span>
     <span class="p">}</span>
 <span class="p">}</span></code></pre></div><p data-pid="U1zbkr2_">è¿™ä¸ªé’©å­æˆ‘æ˜¯ä¸º <a href="https://github.com/OpenIMSDK/Open-IM-Server/" target="_blank">OpenIM</a> ç¤¾åŒºé¡¹ç›®è®¾è®¡çš„ï¼Œä½†æ˜¯è½¬å¿µä¸€æƒ³ï¼Œåæ­£éƒ½åšæˆå¾ˆæ–¹ä¾¿å’Œé«˜ç«¯çš„ <a href="https://gist.github.com/cubxxw/126b72104ac0b0ca484c9db09c3e5694" target="_blank">Github Gist</a> äº†ï¼Œä¸ºä½•ä¸ç”¨ Gist çš„ç‰¹æ€§æ¥å¯¹ Git Hook åšä¸€ä¸ªè®°å½•å’Œä¿å­˜ï¼ŒåæœŸæä¾›ç»´æŠ¤å’Œä¸‹è½½ï¼Œä¹Ÿæä¾›äº†ä¸€ä¸ªäº¤æµå¹³å°ï¼Œè¿™æ˜¯éå¸¸ perfect çš„ã€‚</p><p data-pid="jPr_nNsc">æ‰€ä»¥æˆ‘ç¬¬ä¸€æ­¥ï¼Œåˆ©ç”¨äº† <a href="https://gist.github.com/cubxxw/126b72104ac0b0ca484c9db09c3e5694" target="_blank">GitHub Gist</a> æä¾›äº†ä¸€ä¸ªä¸‹è½½çš„é€šé“ï¼Œè¿™æ ·ä»¥åæœ‰åˆ«çš„é¡¹ç›®ä¹Ÿå¯ä»¥ç›´æ¥ä¸€é”®ä½¿ç”¨è„šæœ¬æ¥æ‹‰å–åˆ°æœ¬åœ°ã€‚</p><p data-pid="_jFP2RtS">ä¸ä»…ä»…å¦‚æ­¤ï¼Œæˆ‘é’ˆå¯¹æäº¤è®¾è®¡äº†ä¸€ä¸ª<a href="https://gist.githubusercontent.com/cubxxw/126b72104ac0b0ca484c9db09c3e5694/raw/gitsync.sh" target="_blank">è„šæœ¬</a>ï¼Œæˆ‘ä»¬ä½¿ç”¨è„šæœ¬å¯ä»¥ä¸€é”®å¹¶ä¸”è§„èŒƒçš„ push åˆ°è¿œç¨‹ä»“åº“ã€‚</p><div class="highlight"><pre><code class="language-bash"> curl -L https://gist.githubusercontent.com/cubxxw/126b72104ac0b0ca484c9db09c3e5694/raw/gitsync.sh <span class="p">|</span>sh</code></pre></div><p data-pid="9oF4KARI"><b>é»˜è®¤é™åˆ¶ä¸ºæ¯ä¸ªæ–‡ä»¶æœ€å¤§5MBã€‚å¦‚æœä½ è§‰å¾—ä½ çš„æäº¤æ˜¯ä¸€ä¸ªç‰¹ä¾‹ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¦†ç›–è¿™ä¸ªé™åˆ¶ï¼š</b></p><div class="highlight"><pre><code class="language-bash"> <span class="nv">GIT_FILE_SIZE_LIMIT</span><span class="o">=</span><span class="m">50000000</span> git commit -m <span class="s2">"test: this commit is allowed file sizes up to 50MB"</span>
 <span class="c1"># OR</span>
 git commit --no-verify</code></pre></div><p data-pid="CzID83Uh">æˆ‘ä¸å…³å¿ƒä»»ä½•ç‰¹å®šçš„æ–‡ä»¶ï¼Œåªæ˜¯é™åˆ¶æ•´ä¸ªæäº¤æœ¬èº«ï¼Œè¿™è‡³å°‘åº”è¯¥ä½¿å¼€å‘äººå‘˜çš„äº‹æƒ…ä¸¤æ¬¡ä¹‹å‰ï¼Œä»–ä»¬å¯èƒ½ä¼šä½œå‡ºå†³å®š <code>git commit --no-verify</code></p><p data-pid="TeDUTloD"><b>å¯å¤ç”¨è„šæœ¬ä¸€é”®å®‰è£…ï¼š</b></p><div class="highlight"><pre><code class="language-bash"> curl -L https://gist.github.com/cubxxw/126b72104ac0b0ca484c9db09c3e5694/raw/install.sh <span class="p">|</span>bash</code></pre></div><h2><b>Contents</b></h2><ul><li data-pid="k5biEa87"><a href="https://gist.github.com/cubxxw/126b72104ac0b0ca484c9db09c3e5694#file-install-sh" target="_blank">ä½¿ç”¨å®‰è£…è„šæœ¬</a></li><li data-pid="z7wTA9Yl"><a href="https://gist.github.com/cubxxw/126b72104ac0b0ca484c9db09c3e5694#file-commit-msg" target="_blank">commit çš„ä¿¡æ¯</a></li><li data-pid="qgbQUftY"><a href="https://gist.github.com/cubxxw/126b72104ac0b0ca484c9db09c3e5694#file-gitsync-sh" target="_blank">è‡ªåŠ¨ push ä¸€é”®æµè„šæœ¬ gitsync</a></li><li data-pid="q8_EDf_z"><a href="https://gist.github.com/cubxxw/126b72104ac0b0ca484c9db09c3e5694#file-makefile" target="_blank">Makefile</a></li><li data-pid="OLmlaJvt"><a href="https://gist.github.com/cubxxw/126b72104ac0b0ca484c9db09c3e5694#file-pre-commit" target="_blank">é¢„æäº¤ï¼šé’©å­æœ¬èº«: pre-commit</a></li><li data-pid="Dpec6hl6"><a href="https://gist.github.com/cubxxw/126b72104ac0b0ca484c9db09c3e5694#file-pre-push" target="_blank">æäº¤ push å¤„ç†</a></li></ul><blockquote data-pid="johq_Di3"><b>Note</b> ç‚¹å‡»å³ä¸Šè§’ <code>Raw</code> è¿›å…¥è„šæœ¬æ–‡ä»¶</blockquote><h2><b>å¯å¤ç”¨çš„å®‰è£…è„šæœ¬ </b></h2><div class="highlight"><pre><code class="language-bash"> <span class="c1">#!/bin/sh</span>
 <span class="nb">set</span> -e
 <span class="nb">echo</span> <span class="s2">"Starting install script..."</span>
 â€‹
 <span class="nv">SET_GIT_TEMPLATE_DIR</span><span class="o">=</span><span class="nb">false</span>
 <span class="nv">EXISTING_TEMPLATE</span><span class="o">=</span><span class="k">$(</span>git config --global init.templateDir <span class="o">||</span> <span class="nb">echo</span> <span class="s2">""</span><span class="k">)</span>
 <span class="k">if</span> <span class="o">[</span> -z <span class="s2">"</span><span class="nv">$EXISTING_TEMPLATE</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
   <span class="nb">echo</span> <span class="s2">"Creating a new global git template dir at ~/.git_template"</span>
   mkdir ~/.git_template
   <span class="nv">EXISTING_TEMPLATE</span><span class="o">=</span><span class="s2">"</span><span class="k">$(</span><span class="nb">cd</span> ~<span class="p">;</span> <span class="nb">pwd</span> -P<span class="k">)</span><span class="s2">/.git_template"</span>
   <span class="nv">SET_GIT_TEMPLATE_DIR</span><span class="o">=</span><span class="nb">true</span>
 <span class="k">else</span>
   <span class="nv">EXISTING_TEMPLATE</span><span class="o">=</span><span class="s2">"</span><span class="k">$(</span><span class="nb">eval</span> <span class="nb">cd</span> <span class="k">$(</span>dirname <span class="s2">"</span><span class="nv">$EXISTING_TEMPLATE</span><span class="s2">"</span><span class="k">)</span><span class="p">;</span> <span class="nb">pwd</span> -P<span class="k">)</span><span class="s2">/</span><span class="k">$(</span>basename <span class="s2">"</span><span class="nv">$EXISTING_TEMPLATE</span><span class="s2">"</span><span class="k">)</span><span class="s2">"</span>
   <span class="nb">echo</span> <span class="s2">"Using existing git template dir: </span><span class="nv">$EXISTING_TEMPLATE</span><span class="s2">"</span>
 <span class="k">fi</span>
 â€‹
 <span class="nv">HOOKS_DIR</span><span class="o">=</span><span class="s2">"</span><span class="nv">$EXISTING_TEMPLATE</span><span class="s2">/hooks"</span>
 <span class="nv">PRECOMMIT_HOOK</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOOKS_DIR</span><span class="s2">/pre-commit"</span>
 <span class="nb">echo</span> <span class="s2">"Creating hooks dir if it doesn't already exist: </span><span class="nv">$HOOKS_DIR</span><span class="s2">"</span>
 mkdir -p <span class="s2">"</span><span class="nv">$HOOKS_DIR</span><span class="s2">"</span>
 <span class="k">if</span> <span class="o">[</span> -f <span class="s2">"</span><span class="nv">$PRECOMMIT_HOOK</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
   <span class="nb">echo</span> <span class="s2">"Cannot install hook as it's already defined: '</span><span class="nv">$PRECOMMIT_HOOK</span><span class="s2">'"</span> &gt;<span class="p">&amp;</span><span class="m">2</span>
   <span class="nb">exit</span> <span class="m">1</span>
 <span class="k">fi</span>
 â€‹
 <span class="nb">echo</span> <span class="s2">"Downloading the hook to </span><span class="nv">$PRECOMMIT_HOOK</span><span class="s2">"</span>
 curl -L https://gist.github.com/cubxxw/126b72104ac0b0ca484c9db09c3e5694/raw/pre-commit -o <span class="s2">"</span><span class="nv">$PRECOMMIT_HOOK</span><span class="s2">"</span> 2&gt; /dev/null
 curl -L https://gist.github.com/cubxxw/126b72104ac0b0ca484c9db09c3e5694/raw/commit-msg -o <span class="s2">"</span><span class="nv">$PRECOMMIT_HOOK</span><span class="s2">"</span> 2&gt; /dev/null
 curl -L https://gist.github.com/cubxxw/126b72104ac0b0ca484c9db09c3e5694/raw/pre-push -o <span class="s2">"</span><span class="nv">$PRECOMMIT_HOOK</span><span class="s2">"</span> 2&gt; /dev/null
 â€‹
 <span class="nb">echo</span> <span class="s2">"Making it executable"</span>
 chmod +x <span class="s2">"</span><span class="nv">$PRECOMMIT_HOOK</span><span class="s2">"</span>
 â€‹
 <span class="k">if</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$SET_GIT_TEMPLATE_DIR</span><span class="s2">"</span> <span class="o">=</span> <span class="nb">true</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
   <span class="nb">echo</span> <span class="s2">"Defining ~/.git_template as the global git template dir"</span>
   git config --global init.templateDir <span class="s1">'~/.git_template'</span>
 <span class="k">fi</span>
 â€‹
 <span class="nb">echo</span> -e <span class="s2">"\nDone! Any future git repo created in this user profile will contain the hook\n"</span>
 â€‹
 â€‹
 <span class="c1">##################################################</span>
 <span class="nv">GIT_PATH</span><span class="o">=</span><span class="k">$(</span>git rev-parse --show-toplevel<span class="k">)</span>
 <span class="nb">echo</span> <span class="s2">"===&gt; Copying hooks to </span><span class="nv">$GIT_PATH</span><span class="s2">/.git/hooks/"</span>
 mv ~/.git_template/hooks/* <span class="nv">$GIT_PATH</span>/.git/hooks/</code></pre></div><h2><b>git commit è®¾ç½®</b></h2><p data-pid="-4VV3Sb_"><b>pre-commit æ–‡ä»¶:</b></p><div class="highlight"><pre><code class="language-bash"> <span class="c1">#!/usr/bin/env bash</span>
 â€‹
 <span class="c1"># Copyright Â© 2023 OpenIMSDK.</span>
 <span class="c1">#</span>
 <span class="c1"># Licensed under the Apache License, Version 2.0 (the "License");</span>
 <span class="c1"># you may not use this file except in compliance with the License.</span>
 <span class="c1"># You may obtain a copy of the License at</span>
 <span class="c1">#</span>
 <span class="c1">#     http://www.apache.org/licenses/LICENSE-2.0</span>
 <span class="c1">#</span>
 <span class="c1"># Unless required by applicable law or agreed to in writing, software</span>
 <span class="c1"># distributed under the License is distributed on an "AS IS" BASIS,</span>
 <span class="c1"># WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
 <span class="c1"># See the License for the specific language governing permissions and</span>
 <span class="c1"># limitations under the License.</span>
 <span class="c1">#</span>
 <span class="c1"># ==============================================================================</span>
 <span class="c1"># This is a pre-commit hook that ensures attempts to commit files that are</span>
 <span class="c1"># are larger than $limit to your _local_ repo fail, with a helpful error message.</span>
 â€‹
 <span class="c1"># You can override the default limit of 2MB by supplying the environment variable:</span>
 <span class="c1"># GIT_FILE_SIZE_LIMIT=50000000 git commit -m "test: this commit is allowed file sizes up to 50MB"</span>
 <span class="c1">#</span>
 <span class="c1"># ==============================================================================</span>
 â€‹
 â€‹
 <span class="nv">YELLOW</span><span class="o">=</span><span class="s2">"\e[93m"</span>
 <span class="nv">GREEN</span><span class="o">=</span><span class="s2">"\e[32m"</span>
 <span class="nv">RED</span><span class="o">=</span><span class="s2">"\e[31m"</span>
 <span class="nv">ENDCOLOR</span><span class="o">=</span><span class="s2">"\e[0m"</span>
 â€‹
 printMessage<span class="o">()</span> <span class="o">{</span>
    <span class="nb">printf</span> <span class="s2">"</span><span class="si">${</span><span class="nv">YELLOW</span><span class="si">}</span><span class="s2">OpenIM : </span><span class="nv">$1</span><span class="si">${</span><span class="nv">ENDCOLOR</span><span class="si">}</span><span class="s2">\n"</span>
 <span class="o">}</span>
 â€‹
 printSuccess<span class="o">()</span> <span class="o">{</span>
    <span class="nb">printf</span> <span class="s2">"</span><span class="si">${</span><span class="nv">GREEN</span><span class="si">}</span><span class="s2">OpenIM : </span><span class="nv">$1</span><span class="si">${</span><span class="nv">ENDCOLOR</span><span class="si">}</span><span class="s2">\n"</span>
 <span class="o">}</span>
 â€‹
 printError<span class="o">()</span> <span class="o">{</span>
    <span class="nb">printf</span> <span class="s2">"</span><span class="si">${</span><span class="nv">RED</span><span class="si">}</span><span class="s2">OpenIM : </span><span class="nv">$1</span><span class="si">${</span><span class="nv">ENDCOLOR</span><span class="si">}</span><span class="s2">\n"</span>
 <span class="o">}</span>
 â€‹
 printMessage <span class="s2">"Running local OpenIM pre-commit hook."</span>
 â€‹
 <span class="c1"># flutter format .</span>
 <span class="c1"># https://gist.github.com/cubxxw/126b72104ac0b0ca484c9db09c3e5694</span>
 <span class="c1"># TODO! GIT_FILE_SIZE_LIMIT=50000000 git commit -m "test: this commit is allowed file sizes up to 50MB"</span>
 <span class="c1"># Maximum file size limit in bytes</span>
 <span class="nv">limit</span><span class="o">=</span><span class="si">${</span><span class="nv">GIT_FILE_SIZE_LIMIT</span><span class="k">:-</span><span class="nv">2000000</span><span class="si">}</span> <span class="c1"># Default 2MB</span>
 <span class="nv">limitInMB</span><span class="o">=</span><span class="k">$((</span> <span class="nv">$limit</span> <span class="o">/</span> <span class="m">1000000</span> <span class="k">))</span>
 â€‹
 <span class="k">function</span> file_too_large<span class="o">(){</span>
     <span class="nv">filename</span><span class="o">=</span><span class="nv">$0</span>
     <span class="nv">filesize</span><span class="o">=</span><span class="k">$((</span> <span class="nv">$1</span> <span class="o">/</span> <span class="m">2</span><span class="o">**</span><span class="m">20</span> <span class="k">))</span>
 â€‹
     cat <span class="s">&lt;&lt;HEREDOC
</span><span class="s"> â€‹
</span><span class="s">     File $filename is $filesize MB, which is larger than github's maximum
</span><span class="s">         file size (2 MB). We will not be able to push this file to GitHub.
</span><span class="s">     Commit aborted
</span><span class="s"> â€‹
</span><span class="s"> HEREDOC</span>
     git status
 â€‹
 <span class="o">}</span>
 â€‹
 <span class="c1"># Move to the repo root so git files paths make sense</span>
 <span class="nv">repo_root</span><span class="o">=</span><span class="k">$(</span> git rev-parse --show-toplevel <span class="k">)</span>
 <span class="nb">cd</span> <span class="nv">$repo_root</span>
 â€‹
 <span class="nv">empty_tree</span><span class="o">=</span><span class="k">$(</span> git hash-object -t tree /dev/null <span class="k">)</span>
 â€‹
 <span class="k">if</span> git rev-parse --verify HEAD &gt; /dev/null 2&gt;<span class="p">&amp;</span><span class="m">1</span>
 <span class="k">then</span>
     <span class="nv">against</span><span class="o">=</span>HEAD
 <span class="k">else</span>
     <span class="nv">against</span><span class="o">=</span><span class="s2">"</span><span class="nv">$empty_tree</span><span class="s2">"</span>
 <span class="k">fi</span>
 â€‹
 <span class="c1"># Set split so that for loop below can handle spaces in file names by splitting on line breaks</span>
 <span class="nv">IFS</span><span class="o">=</span><span class="s1">'
</span><span class="s1"> '</span>
 â€‹
 <span class="nv">shouldFail</span><span class="o">=</span><span class="nb">false</span>
 <span class="k">for</span> file in <span class="k">$(</span> git diff-index --cached --name-only <span class="nv">$against</span> <span class="k">)</span><span class="p">;</span> <span class="k">do</span>
     <span class="nv">file_size</span><span class="o">=</span><span class="k">$((</span><span class="o">[</span> ! <span class="o">-</span>f <span class="nv">$file</span> <span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="nb">echo</span> <span class="m">0</span><span class="o">)</span> <span class="o">||</span> <span class="o">(</span>ls <span class="o">-</span>la <span class="nv">$file</span> <span class="o">|</span> awk <span class="s1">'{ print $5 }'</span><span class="k">))</span>
     <span class="k">if</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$file_size</span><span class="s2">"</span> -gt  <span class="s2">"</span><span class="nv">$limit</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
         printError <span class="s2">"File </span><span class="nv">$file</span><span class="s2"> is </span><span class="k">$((</span> <span class="nv">$file_size</span> <span class="o">/</span> <span class="m">10</span><span class="o">**</span><span class="m">6</span> <span class="k">))</span><span class="s2"> MB, which is larger than our configured limit of </span><span class="nv">$limitInMB</span><span class="s2"> MB"</span>
         <span class="nv">shouldFail</span><span class="o">=</span><span class="nb">true</span>
     <span class="k">fi</span>
 <span class="k">done</span>
 â€‹
 <span class="k">if</span> <span class="nv">$shouldFail</span>
 <span class="k">then</span>
     printMessage <span class="s2">"If you really need to commit this file, you can override the size limit by setting the GIT_FILE_SIZE_LIMIT environment variable, e.g. GIT_FILE_SIZE_LIMIT=42000000 for 42MB. Or, commit with the --no-verify switch to skip the check entirely."</span>
       printError <span class="s2">"Commit aborted"</span>
     <span class="nb">exit</span> 1<span class="p">;</span>
 <span class="k">fi</span></code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="EfADw5Wk"><b>commit-msg</b></p><div class="highlight"><pre><code class="language-bash"> <span class="c1">#!/usr/bin/env bash</span>
 â€‹
 <span class="c1"># Copyright Â© 2023 OpenIMSDK.</span>
 <span class="c1">#</span>
 <span class="c1"># Licensed under the Apache License, Version 2.0 (the "License");</span>
 <span class="c1"># you may not use this file except in compliance with the License.</span>
 <span class="c1"># You may obtain a copy of the License at</span>
 <span class="c1">#</span>
 <span class="c1">#     http://www.apache.org/licenses/LICENSE-2.0</span>
 <span class="c1">#</span>
 <span class="c1"># Unless required by applicable law or agreed to in writing, software</span>
 <span class="c1"># distributed under the License is distributed on an "AS IS" BASIS,</span>
 <span class="c1"># WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
 <span class="c1"># See the License for the specific language governing permissions and</span>
 <span class="c1"># limitations under the License.</span>
 <span class="c1">#</span>
 <span class="c1"># ==============================================================================</span>
 <span class="c1">#</span>
 <span class="c1"># Store this file as .git/hooks/commit-msg in your repository in order to</span>
 <span class="c1"># enforce checking for proper commit message format before actual commits.</span>
 <span class="c1"># You may need to make the script executable by 'chmod +x .git/hooks/commit-msg'.</span>
 â€‹
 <span class="c1"># commit-msg use go-gitlint tool, install go-gitlint via `go get github.com/llorllale/go-gitlint/cmd/go-gitlint`</span>
 <span class="c1"># go-gitlint --msg-file="$1"</span>
 â€‹
 <span class="c1"># An example hook script to check the commit log message.</span>
 <span class="c1"># Called by "git commit" with one argument, the name of the file</span>
 <span class="c1"># that has the commit message.  The hook should exit with non-zero</span>
 <span class="c1"># status after issuing an appropriate message if it wants to stop the</span>
 <span class="c1"># commit.  The hook is allowed to edit the commit message file.</span>
 â€‹
 <span class="nv">YELLOW</span><span class="o">=</span><span class="s2">"\e[93m"</span>
 <span class="nv">GREEN</span><span class="o">=</span><span class="s2">"\e[32m"</span>
 <span class="nv">RED</span><span class="o">=</span><span class="s2">"\e[31m"</span>
 <span class="nv">ENDCOLOR</span><span class="o">=</span><span class="s2">"\e[0m"</span>
 â€‹
 printMessage<span class="o">()</span> <span class="o">{</span>
    <span class="nb">printf</span> <span class="s2">"</span><span class="si">${</span><span class="nv">YELLOW</span><span class="si">}</span><span class="s2">OpenIM : </span><span class="nv">$1</span><span class="si">${</span><span class="nv">ENDCOLOR</span><span class="si">}</span><span class="s2">\n"</span>
 <span class="o">}</span>
 â€‹
 printSuccess<span class="o">()</span> <span class="o">{</span>
    <span class="nb">printf</span> <span class="s2">"</span><span class="si">${</span><span class="nv">GREEN</span><span class="si">}</span><span class="s2">OpenIM : </span><span class="nv">$1</span><span class="si">${</span><span class="nv">ENDCOLOR</span><span class="si">}</span><span class="s2">\n"</span>
 <span class="o">}</span>
 â€‹
 printError<span class="o">()</span> <span class="o">{</span>
    <span class="nb">printf</span> <span class="s2">"</span><span class="si">${</span><span class="nv">RED</span><span class="si">}</span><span class="s2">OpenIM : </span><span class="nv">$1</span><span class="si">${</span><span class="nv">ENDCOLOR</span><span class="si">}</span><span class="s2">\n"</span>
 <span class="o">}</span>
 â€‹
 printMessage <span class="s2">"Running the OpenIM commit-msg hook."</span>
 â€‹
 <span class="c1"># This example catches duplicate Signed-off-by lines.</span>
 â€‹
 <span class="nb">test</span> <span class="s2">""</span> <span class="o">=</span> <span class="s2">"</span><span class="k">$(</span>grep <span class="s1">'^Signed-off-by: '</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> <span class="p">|</span>
      sort <span class="p">|</span> uniq -c <span class="p">|</span> sed -e <span class="s1">'/^[   ]*1[    ]/d'</span><span class="k">)</span><span class="s2">"</span> <span class="o">||</span> <span class="o">{</span>
     <span class="nb">echo</span> &gt;<span class="p">&amp;</span><span class="m">2</span> Duplicate Signed-off-by lines.
     <span class="nb">exit</span> <span class="m">1</span>
 <span class="o">}</span>
 â€‹
 ./tools/go-gitlint <span class="se">\
</span><span class="se"></span>      --msg-file<span class="o">=</span><span class="nv">$1</span> <span class="se">\
</span><span class="se"></span>      --subject-regex<span class="o">=</span><span class="s2">"^(build|chore|ci|docs|feat|feature|fix|perf|refactor|revert|style|test)(.*)?:\s?.*"</span> <span class="se">\
</span><span class="se"></span>     --subject-maxlen<span class="o">=</span><span class="m">150</span> <span class="se">\
</span><span class="se"></span>     --subject-minlen<span class="o">=</span><span class="m">10</span> <span class="se">\
</span><span class="se"></span>     --body-regex<span class="o">=</span><span class="s2">".*"</span> <span class="se">\
</span><span class="se"></span>     --max-parents<span class="o">=</span><span class="m">1</span>
 â€‹
 <span class="k">if</span> <span class="o">[</span> <span class="nv">$?</span> -ne <span class="m">0</span> <span class="o">]</span>
 <span class="k">then</span>
     printError <span class="s2">"Please fix your commit message to match OpenIM coding standards"</span>
     printError <span class="s2">"https://gist.github.com/cubxxw/126b72104ac0b0ca484c9db09c3e5694"</span>
     <span class="nb">exit</span> <span class="m">1</span>
 <span class="k">fi</span></code></pre></div><p class="ztext-empty-paragraph"><br></p><h2><b>push </b></h2><div class="highlight"><pre><code class="language-bash"> <span class="c1">#!/usr/bin/env bash</span>
 â€‹
 <span class="nv">YELLOW</span><span class="o">=</span><span class="s2">"\e[93m"</span>
 <span class="nv">GREEN</span><span class="o">=</span><span class="s2">"\e[32m"</span>
 <span class="nv">RED</span><span class="o">=</span><span class="s2">"\e[31m"</span>
 <span class="nv">ENDCOLOR</span><span class="o">=</span><span class="s2">"\e[0m"</span>
 â€‹
 printMessage<span class="o">()</span> <span class="o">{</span>
    <span class="nb">printf</span> <span class="s2">"</span><span class="si">${</span><span class="nv">YELLOW</span><span class="si">}</span><span class="s2">OpenIM : </span><span class="nv">$1</span><span class="si">${</span><span class="nv">ENDCOLOR</span><span class="si">}</span><span class="s2">\n"</span>
 <span class="o">}</span>
 â€‹
 printSuccess<span class="o">()</span> <span class="o">{</span>
    <span class="nb">printf</span> <span class="s2">"</span><span class="si">${</span><span class="nv">GREEN</span><span class="si">}</span><span class="s2">OpenIM : </span><span class="nv">$1</span><span class="si">${</span><span class="nv">ENDCOLOR</span><span class="si">}</span><span class="s2">\n"</span>
 <span class="o">}</span>
 â€‹
 printError<span class="o">()</span> <span class="o">{</span>
    <span class="nb">printf</span> <span class="s2">"</span><span class="si">${</span><span class="nv">RED</span><span class="si">}</span><span class="s2">OpenIM : </span><span class="nv">$1</span><span class="si">${</span><span class="nv">ENDCOLOR</span><span class="si">}</span><span class="s2">\n"</span>
 <span class="o">}</span>
 â€‹
 printMessage <span class="s2">"Running local OpenIM pre-push hook."</span>
 â€‹
 <span class="k">if</span> <span class="o">[[</span> <span class="sb">`</span>git status --porcelain<span class="sb">`</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then</span>
   printError <span class="s2">"This script needs to run against committed code only. Please commit or stash you changes."</span>
   <span class="nb">exit</span> <span class="m">1</span>
 <span class="k">fi</span>
 â€‹
 <span class="c1">#</span>
 <span class="c1">#printMessage "Running the Flutter analyzer"</span>
 <span class="c1">#flutter analyze</span>
 <span class="c1">#</span>
 <span class="c1">#if [ $? -ne 0 ]; then</span>
 <span class="c1">#  printError "Flutter analyzer error"</span>
 <span class="c1">#  exit 1</span>
 <span class="c1">#fi</span>
 <span class="c1">#</span>
 <span class="c1">#printMessage "Finished running the Flutter analyzer"</span>
 â€‹</code></pre></div><p class="ztext-empty-paragraph"><br></p><h2><b>actions</b></h2><p data-pid="n5cJvHgj"><code>git-warning.yml</code> æ–‡ä»¶ï¼š</p><div class="highlight"><pre><code class="language-yaml"><span class="w"> </span><span class="c"># This workflow will check for large files being added in PRs</span><span class="w">
</span><span class="w"> </span><span class="c"># and label the PR if one is found that exceeds the configured limit.</span><span class="w">
</span><span class="w"> </span><span class="c">#</span><span class="w">
</span><span class="w"> </span><span class="c"># For more information, see: https://github.com/marketplace/actions/lfs-warning</span><span class="w">
</span><span class="w"> </span><span class="l">â€‹</span><span class="w">
</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Large file size warning</span><span class="w">
</span><span class="w"> </span><span class="l">â€‹</span><span class="w">
</span><span class="w"> </span><span class="nt">on</span><span class="p">:</span><span class="w"> 
</span><span class="w">   </span><span class="nt">pull_request</span><span class="p">:</span><span class="w">
</span><span class="w">     </span><span class="c"># Ignore some files to avoid consuming Actions minutes unnecessarily </span><span class="w">
</span><span class="w">     </span><span class="c"># for file types we're fairly confident we'll never need to worry about</span><span class="w">
</span><span class="w">     </span><span class="nt">paths-ignore</span><span class="p">:</span><span class="w"> 
</span><span class="w">       </span>- <span class="s1">'**.config'</span><span class="w">
</span><span class="w">       </span>- <span class="s1">'**.cs'</span><span class="w">
</span><span class="w">       </span>- <span class="s1">'**.cshtml'</span><span class="w">
</span><span class="w">       </span>- <span class="s1">'**.cs'</span><span class="w">
</span><span class="w">       </span>- <span class="s1">'**.csproj'</span><span class="w">
</span><span class="w">       </span>- <span class="s1">'**.cmd'</span><span class="w">
</span><span class="w">       </span>- <span class="s1">'**.dockerignore'</span><span class="w">
</span><span class="w">       </span>- <span class="s1">'**.gitignore'</span><span class="w">
</span><span class="w">       </span>- <span class="s1">'**.graphql'</span><span class="w">
</span><span class="w">       </span>- <span class="s1">'**.jsx?'</span><span class="w">
</span><span class="w">       </span>- <span class="s1">'**.md'</span><span class="w">
</span><span class="w">       </span>- <span class="s1">'**.props'</span><span class="w">
</span><span class="w">       </span>- <span class="s1">'**.ps1'</span><span class="w">
</span><span class="w">       </span>- <span class="s1">'**.scss'</span><span class="w">
</span><span class="w">       </span>- <span class="s1">'**.sh'</span><span class="w">
</span><span class="w">       </span>- <span class="s1">'**.sln'</span><span class="w">
</span><span class="w">       </span>- <span class="s1">'**.tsx?'</span><span class="w">
</span><span class="w">       </span>- <span class="s1">'**.yml'</span><span class="w">
</span><span class="w">       </span>- <span class="s1">'**/appsettings.*.json'</span><span class="w">
</span><span class="w">       </span>- <span class="s1">'**/Dockerfile'</span><span class="w">
</span><span class="w">       
</span><span class="w"> </span><span class="nt">jobs</span><span class="p">:</span><span class="w">
</span><span class="w">   </span><span class="nt">run-check</span><span class="p">:</span><span class="w">
</span><span class="w">     </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l">ubuntu-latest</span><span class="w">
</span><span class="w">     </span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span><span class="w">     </span>- <span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">actionsdesk/lfs-warning@v2.0</span><span class="w">
</span><span class="w">       </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span><span class="w">         </span><span class="c">#token: ${{ secrets.GITHUB_TOKEN }} # Optional</span><span class="w">
</span><span class="w">         </span><span class="nt">filesizelimit</span><span class="p">:</span><span class="w"> </span><span class="s1">'5242880'</span><span class="w"> </span><span class="c"># 5MB</span></code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="AKdwVv9d"><b>åµŒå…¥åˆ° Makefile åï¼Œæ•´ä¸ªé€»è¾‘å°±æ›´ç®€å•äº†ï¼š</b></p><div class="highlight"><pre><code class="language-text"> # Copy githook scripts when execute makefile
 COPY_GITHOOK:=$(shell cp -f script/githooks/* .git/hooks/; chmod +x .git/hooks/*)</code></pre></div><p></p></div> </details> 
 <hr /> 

 #### - [CloudNative / Kubernetes å­¦ä¹ èµ„æºæ•´ç†](https://zhuanlan.zhihu.com/p/614921043) 
 <details><summary>ØªÙˆØ¶ÛŒØ­Ø§Øª</summary> <p><img src="https://pica.zhimg.com/v2-e9c8f471d1986e0a623b2d51f987d4b5_720w.jpg?source=d16d100b"></p><div><p data-pid="q00arbg7">æˆ‘ä»¬éœ€è¦å¯¹ kubernetes è¿›ä¸€æ­¥çš„å­¦ä¹ å’Œæ·±é€ ï¼Œçœ‹æºç æ˜¯å¿…é¡»çš„é“è·¯ã€‚</p><p data-pid="IjKcyLEh">ä¸å…¶é‡è¦çš„ï¼Œæ˜¯å¯¹ kubernetes èµ„æºçš„æ”¶é›†ã€‚</p><p data-pid="8_DcBCHm"><i><b>âš ï¸ æ‰€æœ‰èµ„æºå‡æ˜¯é‡‡ç”¨å¤–é“¾è¿æ¥ï¼Œä¹¦æœ¬èµ„æºæˆ–ä¸æ”¾è¿æ¥ï¼Œå…¶ä»–å‡ä¸ºè‡ªå·±æ„Ÿå—å’Œæ€»ç»“ã€‚å¦‚æœ‰ä¾µæƒè¯·è”ç³»åˆ é™¤ã€‚</b></i></p><p data-pid="FgxU3B8D">âš ï¸ <b>æ³¨æ„ï¼Œè¿™ç¯‡æ–‡ç« å°†æ°¸ä¹…ä¿å­˜åœ¨ notionï¼Œå°†ä¼šä¸æ–­åœ°æ›´æ–°ä¸‹å»ï¼Œæä¾›äº†å¯å†™é€šé“ï¼Œå¦‚æœä½ æœ‰æ›´å¥½çš„èµ„æºï¼Œæ¬¢è¿è¡¥å……åœ¨notionä¸Šï¼Œåœ°å€æ˜¯ï¼š<a href="https://nsddd.notion.site/CloudNative-2f278e98ed274999829333272415c72d" target="_blank"><span class="invisible">https://</span><span class="visible">nsddd.notion.site/Cloud</span><span class="invisible">Native-2f278e98ed274999829333272415c72d</span><span class="ellipsis"></span></a></b> </p><a href="https://nsddd.notion.site/CloudNative-2f278e98ed274999829333272415c72d" data-draft-node="block" data-draft-type="link-card" target="_blank">Notion æ°¸ä¹…æ›´æ–°è¿æ¥ï¼ˆå¯ç¼–è¾‘æ·»åŠ ï¼‰</a><p data-pid="wjL_L2VF"><b>å…³äºkubernetesï¼š</b></p><ul><li data-pid="e8qdJflm"><a href="https://kubernetes.io/" target="_blank">å®˜ç½‘</a></li><li data-pid="ul98m8q7"><a href="https://github.com/kubernetes/kubernetes" target="_blank">GitHub</a></li><li data-pid="_amP2WF8"><a href="https://github.com/cubxxw/kubernetes" target="_blank">cubxxw - pr</a></li><li data-pid="mMy38lJj"><a href="https://github.com/kubernauts/Kubernetes-Learning-Resources" target="_blank">ç¤¾åŒºç»´æŠ¤çš„ kubernetes å­¦ä¹ èµ„æºåˆé›†</a></li><li data-pid="jZnYdlSy"><a href="https://blog.opskumu.com/borg.html" target="_blank">Kubernetesæºç å¿…è¯»çš„ Google å¤§è§„æ¨¡é›†ç¾¤ç®¡ç†å™¨ Borg</a></li><li data-pid="z4mQtiqn"><a href="https://www.cnblogs.com/sunsky303/p/14371768.html" target="_blank">etcdï¼šä»åº”ç”¨åœºæ™¯åˆ°å®ç°åŸç†çš„å…¨æ–¹ä½è§£è¯»</a> å’Œ <a href="https://blog.51cto.com/nileader/1040007" target="_blank">ZooKeeperå…¸å‹åº”ç”¨åœºæ™¯ä¸€è§ˆ</a></li></ul><p class="ztext-empty-paragraph"><br></p><p data-pid="gtBSLAR6"><b>å…³äº CNCF çš„è´¡çŒ®ï¼Œä½ éœ€è¦ç­¾ç½² CLA </b></p><ul><li data-pid="UrvyZGZv"><a href="https://github.com/kubernetes/community/blob/master/CLA.md" target="_blank">Kubernetes CLA  çš„ç­¾ç½²æµç¨‹</a></li><li data-pid="Ja0XFV_V"><a href="https://github.com/kubernetes/community/tree/master/contributors/devel" target="_blank">å®˜æ–¹å¼€å‘è€…å‘å¯¼ markdown æ–‡ä»¶</a></li><li data-pid="YRPi_IU6"><a href="https://github.com/kubernetes/community/blob/master/contributors/guide/owners.md" target="_blank">Kubernetes ownes æ‰€æœ‰è€…mdä»‹ç»</a></li></ul><p class="ztext-empty-paragraph"><br></p><p data-pid="ez0Z7IXE"><b>è‡ªå·±å†™ä½œçš„ä¸€äº›èµ„æºï¼š</b></p><ul><li data-pid="KfZkO3RL"><a href="https://docker.nsddd.top/" target="_blank">äº‘åŸç”Ÿå­¦ä¹ </a></li><li data-pid="X8DDqO4e"><a href="https://go.nsddd.top/" target="_blank">golang å­¦ä¹ </a></li></ul><blockquote data-pid="nd4CMo9-">éƒ½æ”¶çº³åˆ° awesome ä»“åº“ä¸­ï¼Œè¦†ç›–   èœé¸Ÿæˆé•¿æ‰‹å†Œ  CSç³»åˆ— ã€äº‘åŸç”Ÿç³»åˆ—ã€åŒºå—é“¾ç³»åˆ—ã€web3ç³»åˆ— ã€Golangç³»åˆ— ...... è®¿é—® GitHub  <a href="https://github.com/cubxxw/awesome-cs-cloudnative-blockchain" target="_blank"><span class="invisible">https://</span><span class="visible">github.com/cubxxw/aweso</span><span class="invisible">me-cs-cloudnative-blockchain</span><span class="ellipsis"></span></a></blockquote><h2><b>æœ€å¥½éœ€è¦ä»€ä¹ˆ</b></h2><ol><li data-pid="uVZA3ZJM">å¦‚æœè¯´ç¬¬ä¸€æ­¥çš„è¯ï¼Œé‚£å¿…é¡»è¦äº†è§£ docker å®¹å™¨åº•å±‚åŸç†å’Œ Linux å†…æ ¸åŸºç¡€ç›¸å…³ã€‚</li><li data-pid="v4m98EAF">å…ˆç†è§£ç†è§£å®Œæ¶æ„äº†ï¼Œè¯»èµ·æ¥å°±æ¯”è¾ƒå¿«äº†ã€‚</li><li data-pid="lfldEITy">å­¦ä¼šä½¿ç”¨å®ƒï¼Œä¸ä¼šä½¿ç”¨ï¼Œæ°¸è¿œæ— æ³•ç†è§£å®ƒçš„è®¾è®¡ç†å¿µã€‚</li><li data-pid="ojuGdfGE">è¯»æºç è¿˜å¾—å¸¦ç€é—®é¢˜å»è¯»ï¼Œä¸ç„¶ä¼šå¾ˆæ¯ç‡¥ã€‚ä¸€å®šè¦å¸¦ç€é—®é¢˜å»è¯»ï¼Œä¸ç„¶å°±ä¼šå¾ˆæ¯ç‡¥ï¼Œç„¶åé™·å…¥ç»†èŠ‚ä¸­å»</li><li data-pid="rl9WN7rA">è¯»æºç è¿˜å¾—æœ‰ä¸€å®šç§¯ç´¯é‡ï¼Œæ¯”å¦‚ä½ å·²ç»è¯»è¿‡å¾ˆå¤šåŸºç¡€åŒ…çš„æºç æ¯”å¦‚ net/http grpc-go ç­‰ç­‰</li><li data-pid="s4y-W8Ks">è¦å°è¯•ç€è°ƒè¯•ï¼Œè¦å°è¯•ç€ç»ƒä¹ ï¼Œè¦å°è¯•ç€ç†è§£å’Œåˆ†æäº§å“ç†å¿µï¼Œæ›´è¦å­¦ä¼šè‡ªå·±è®¾è®¡ã€‚</li></ol><h2><b>åŸºç¡€çŸ¥è¯†</b></h2><p data-pid="P4N1V3Jd"><b>åŸºç¡€æ¦‚å¿µï¼š</b></p><p data-pid="L-E_tDU7">æˆ‘ä»¬éœ€è¦çŸ¥é“ kubernetes çš„åŸºç¡€æ¦‚å¿µï¼Œæˆ‘ä»¬æˆ–è®¸åœ¨å‰é¢æœ‰è®²è§£è¿‡ã€‚</p><p data-pid="c7caQIi0">æ¯”å¦‚ Build-in çš„ API Groups å’Œ API Objects æœ‰ä»€ä¹ˆï¼Œåšä»€ä¹ˆç”¨ï¼›</p><p class="ztext-empty-paragraph"><br></p><p data-pid="T62WUZTj"><b>æœ‰ä¸€äº›å¾ˆé‡è¦çš„å·¥å…·åº“ï¼š</b> å¦‚ <b>gengo</b> ï¼ŒåŒ…æ‹¬ informer æœºåˆ¶ï¼›</p><ul><li data-pid="oyb2BhEA">Cobraï¼šå‘½ä»¤è¡Œé˜¿ï¼Œdockerã€Kubernetesã€sealosã€sealerã€ks éƒ½å…·å¤‡çš„~</li><li data-pid="BTHpdVQk"><a href="https://github.com/emicklei/go-restful" target="_blank">go-restful</a>ï¼šREST è¦æ±‚å¼€å‘äººå‘˜ä»¥ä¸åè®®å®šä¹‰ä¸€è‡´çš„æ–¹å¼æ˜¾å¼ä½¿ç”¨ HTTP æ–¹æ³•ã€‚è¿™ä¸ªåŸºæœ¬çš„ REST è®¾è®¡åŸåˆ™åœ¨åˆ›å»ºã€è¯»å–ã€æ›´æ–°å’Œåˆ é™¤ (CRUD) æ“ä½œå’Œ HTTP æ–¹æ³•ä¹‹é—´å»ºç«‹äº†ä¸€å¯¹ä¸€çš„æ˜ å°„ã€‚</li><li data-pid="cj7MY07q">etcdï¼šå’Œ fabric ä¸€æ ·é‡‡ç”¨ raft å…±è¯†æœºåˆ¶çš„æ•°æ®åº“ï¼Œåœ¨ k3s ä¸­å¾ˆæ·±çš„è®²è§£å’Œåº”ç”¨ã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><p data-pid="fAlX53pD"><b>Restful åŸºç¡€ï¼š</b></p><p data-pid="6n2XoFq4">ç®€å•äº†è§£ Restful æ¦‚å¿µï¼Œå¦‚æœåšè¿‡ Restful Service é‚£ä¹ˆæœ€å¥½äº†</p><p class="ztext-empty-paragraph"><br></p><p data-pid="QAYRmGnX"><b>ç†Ÿæ‚‰ä¸€äº›å¸¸è§çš„è®¾è®¡æ¨¡å¼ï¼š</b></p><ul><li data-pid="Y-qFp5vg">å‚è€ƒï¼š<a href="https://www.yuque.com/aceld/lfhu8y/rg6nsf" target="_blank"><span class="invisible">https://www.</span><span class="visible">yuque.com/aceld/lfhu8y/</span><span class="invisible">rg6nsf</span><span class="ellipsis"></span></a></li></ul><p class="ztext-empty-paragraph"><br></p><p data-pid="ntv-elKl"><b>ç†Ÿæ‚‰å¸¸ç”¨çš„ç®—æ³•ï¼Œç†Ÿæ‚‰æ“ä½œç³»ç»Ÿï¼ˆå°¤å…¶æ˜¯ Linux çš„åŸºç¡€çŸ¥è¯†ï¼‰ï¼Œç†Ÿæ‚‰ç½‘ç»œçš„ä¸€äº›åè®®å’ŒåŸç†ã€‚</b></p><blockquote data-pid="U5FFs-cW">Kubernetes æœ‰å¾ˆå¤šå¤æ‚çš„åœ°æ–¹ï¼Œå°¤å…¶æ˜¯ç½‘ç»œå’Œå­˜å‚¨ï¼Œå¸Œæœ›ä»¥åå¯ä»¥æˆä¸º Ã—</blockquote><p class="ztext-empty-paragraph"><br></p><h2><b>é˜…è¯»æ–¹æ³•ï¼ˆå…¶ä»–å¼€æºé¡¹ç›®ç±»ä¼¼ï¼‰</b></h2><ul><li data-pid="cy5oZMTY">å…ˆæ•´ä½“ï¼Œåå±€éƒ¨ï¼ˆä¸é’»ç‰›è§’å°–ï¼‰</li><li data-pid="YNptoq2q">æ·±å…¥å±€éƒ¨ä¸­çš„å­¦ä¹ ä¸­å»</li><li data-pid="lR1oH7QV">è€å¿ƒï¼Œå¤šçœ‹ä»£ç ~</li></ul><p class="ztext-empty-paragraph"><br></p><h2><b>å­¦ä¹ æ–¹æ³•</b></h2><blockquote data-pid="zFRbBHY5">å‚è€ƒ2022GSoC è°·æ­Œå¼€æºä¹‹å¤æ´»åŠ¨ï¼Œå¯¹äºå­¦é™¢çš„è§£ç­”ã€‚<br>æˆ‘æ˜¯opensuseç»„ç»‡çš„GSoC'22è´¡çŒ®è€…ï¼Œæˆ‘æƒ³çŸ¥é“æˆ‘å¯ä»¥å¦‚ä½•å­¦ä¹ å’Œè´¡çŒ®k8sç¤¾åŒºã€‚æˆ‘çŸ¥é“k8sçš„åŸºç¡€çŸ¥è¯†ï¼Œä½†ç°åœ¨æˆ‘æƒ³å­¦ä¹ ä¸€äº›ä¸­çº§å’Œé«˜çº§æ¦‚å¿µï¼Œä»¥ä¾¿æˆ‘å¯ä»¥åœ¨æœªæ¥ä¸ºk8såšå‡ºè´¡çŒ®ã€‚éå¸¸éœ€è¦å¸®åŠ©</blockquote><ol><li data-pid="h5dgOhkW">Start learning each part of k8s.</li><li data-pid="dk7KbYPM">For example, start with Scheduler part.</li><li data-pid="n86un5CT">Go to k8s github and look into the code <a href="https://github.com/kubernetes/kubernetes" target="_blank"><span class="invisible">https://</span><span class="visible">github.com/kubernetes/k</span><span class="invisible">ubernetes</span><span class="ellipsis"></span></a></li><li data-pid="63DiXBLW">It will be the best place to start </li><li data-pid="KdYXAk3n">Read about scheduler and find described logic in the source code.</li><li data-pid="IZLBtDn8">But first i think that you need to learn how each part is communicating and for what it is responsible.</li><li data-pid="rJYwH7Z5">It is great that you wish to contribute. </li><li data-pid="ijTWv-KA">after that, learn everything about different Workloads (StatefulSet, ReplicaSet, DaemonSet etc.)</li><li data-pid="tDS0LK-U">then services and ingress</li><li data-pid="Y8qWF1FB">then pv/pvc</li><li data-pid="pFS3kR_J">then go deeper and learn about Container Runtime Interface (CRI)</li><li data-pid="NHqjrn6z">and about Network Interface (CNI)</li><li data-pid="M-GqslSB">and how they are communicating</li><li data-pid="8f5bXwEo">between themselves and with the host machine</li><li data-pid="zWkXk0ki">i guess that should give you a good grasp of how everything is working internally</li><li data-pid="7n3gSexZ">you can always check kubernetes api specification if you are looking for something what you have not learned yet </li></ol><h3><b>é˜¶æ®µå‹æ–¹æ³•</b></h3><ol><li data-pid="tKZGcJAC"><b>ç¬¬ä¸€é˜¶æ®µ</b> å…ˆäº†è§£k8sï¼Œæ˜¯ä»€ä¹ˆï¼Œèƒ½åšä»€ä¹ˆï¼Œæ¶æ„ï¼Œæ ¸å¿ƒèµ„æºå¯¹è±¡ï¼Œè®¾è®¡ç†å¿µï¼Œå‘å±•å†ç¨‹ç­‰ç­‰</li><li data-pid="cv-DdTr8"><b>ç¬¬äºŒé˜¶æ®µ</b> å¼€å§‹ä½¿ç”¨k8s, è‡ªå·±åˆ›å»ºpod, deploy, jobç­‰èµ„æºã€‚èƒ½å¤ŸåŸºäºk8så¼€å‘ä¸€ä¸‹ç»„ä»¶ï¼Œæ¯”å¦‚å®ç°ä¸€ä¸ªcontrollerç›‘å¬podçš„åˆ›å»ºåˆ é™¤ç­‰ã€‚ã€çœ‹å±±æ˜¯å±±ã€‘</li><li data-pid="MN5WEVnF"><b>ç¬¬ä¸‰é˜¶æ®µ</b> å¼€å§‹é˜…è¯»æºç ï¼Œäº†è§£åº•å±‚å®ç°ã€‚è¿™ä¸ªè¿‡ç¨‹ä¼šå¯¹k8sæœ‰ä¸€ä¸ªæ›´æ·±çš„ç†è§£ã€‚æ¯”å¦‚åˆ›å»ºä¸€ä¸ªpodçš„å®Œæˆå†ç¨‹æ˜¯ä»€ä¹ˆæ ·çš„ï¼Œk8s gc æœºåˆ¶åˆ°åº•æ˜¯æ€ä¹ˆå®ç°çš„ã€‚namespacesåˆ é™¤çš„æ—¶å€™æ€ä¹ˆåšåˆ°åˆ é™¤æ‰€æœ‰èµ„æºååœ¨åˆ é™¤çš„ã€‚ã€çœ‹å±±ä¸æ˜¯å±±ã€‘ è¿™é‡Œæ¨èæºç é˜…è¯»æ–¹å¼ï¼šç†è®º+å®è·µç»“åˆã€‚<br></li><ol><li data-pid="sP5iAvxV">ç†è®ºï¼šé€šè¿‡ ide ä¹‹é—´å„ç§è·³è½¬é˜…è¯»æºç  </li><li data-pid="0F9GmKWz">å®è·µï¼šè‡ªå·±åŠ¨æ‰‹åœ¨[å…³é”®ä»£ç ]å¤„å¢åŠ æ—¥å¿—ï¼Œé€šè¿‡æŸ¥çœ‹æ—¥å¿—è¾“å‡ºç†è§£æºç  ï¼ˆrepoä¹Ÿä»‹ç»äº†å¦‚ä½•äºŒè¿›åˆ¶æ­å»ºä¸€å¥—K8sé›†ç¾¤ï¼‰</li></ol></ol><p class="ztext-empty-paragraph"><br></p><ol><li data-pid="gd71gE1c"><b>ç¬¬å››é˜¶æ®µ</b> å†æ’æŸ¥é—®é¢˜ä¸­è¿›ä¸€æ­¥æ·±å…¥k8sçš„ç†è§£</li></ol><p class="ztext-empty-paragraph"><br></p><h2><b>ä¹¦ç±æ¨è</b></h2><ul><li data-pid="w0I9Q43o">Goè¯­è¨€ç¨‹åºè®¾è®¡è¯­è¨€ ï¼ˆä¹°äº†ï¼Œå»ºè®®æœ‰ä¸€äº›å…¶ä»–è¯­è¨€åŸºç¡€ &amp;&amp; Goè¯­è¨€åŸºç¡€å†çœ‹æœ€å¥½ï¼‰</li><li data-pid="7cX8j8IG">æ·±å…¥è§£åˆ¨ Kubernetes ï¼ˆè¿™ä¸ªæˆ‘ä¹Ÿä¹°äº†ï¼Œemmmï¼Œç‰¹åˆ«å®Œç¾çš„ä¸€æœ¬ä¹¦ï¼Œä½œè€…æœ‰è‡ªå·±çš„è®²è§£ï¼Œæ˜¯ä¸ªå¤§ä½¬ï¼‰</li><li data-pid="nDfMGsHH">kubernetes ç¼–ç¨‹</li><li data-pid="mZCq0a5Q">kubernetes æºç åˆ¨æï¼ˆè¿™ä¸ªæˆ‘ä¹°äº†ï¼ï¼ï¼ï¼ï¼ï¼ï¼Œä¸æ¨èï¼Œcopy å¤šå¹²è´§å°‘ï¼‰</li><li data-pid="TxElHpRH">ç¬¬ä¸€æœ¬ docker ä¹¦</li><li data-pid="-KxzCgV0">æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿ / ç°ä»£æ“ä½œç³»ç»Ÿ</li><li data-pid="P-Hryw61">docker å®¹å™¨ä¸å®¹å™¨äº‘ ï¼ˆè¿˜æ²¡å¼€å§‹çœ‹ï¼‰</li><li data-pid="_AbUEWJ1">Kubernetes æƒå¨æŒ‡å—ï¼ˆç†Ÿç»ƒä½¿ç”¨ã€è´¯ç©¿åœºæ™¯ï¼‰</li><li data-pid="pPC6rAIR">docker å¼€å‘æŒ‡å— ï¼ˆè¿˜æ²¡å¼€å§‹çœ‹ï¼‰</li><li data-pid="CqkukO8P"><a href="https://golang.coding3min.com/" target="_blank">Goè¯­è¨€ç²¾è¿›ä¹‹è·¯</a></li><li data-pid="Fs86c2yL">Istio ï¼ˆæœåŠ¡ç½‘æ ¼ æ¨è <a href="https://academy.tetrate.io/courses/take/istio-fundamentals-zh/lessons/26470007-1-0" target="_blank"><span class="invisible">https://</span><span class="visible">academy.tetrate.io/cour</span><span class="invisible">ses/take/istio-fundamentals-zh/lessons/26470007-1-0</span><span class="ellipsis"></span></a>ï¼‰</li><li data-pid="I9XBCDrD"><a href="https://lib.jimmysong.io/what-is-ebpf/" target="_blank">eBPF</a></li><li data-pid="tu3eQtCO"><a href="https://lib.jimmysong.io/kubernetes-hardening-guidance/" target="_blank">Kubernetes åŠ å›ºæŒ‡å—</a></li><li data-pid="VNsIzk2e"><a href="https://lib.jimmysong.io/cloud-native-infra/" target="_blank">äº‘åŸç”ŸåŸºç¡€æ¶æ„</a></li><li data-pid="VJXko6PW"><a href="https://lib.jimmysong.io/kubernetes-handbook/" target="_blank">Kubernetes åŸºç¡€æ•™ç¨‹</a></li><li data-pid="tOE5evXZ"><a href="https://lib.jimmysong.io/migrating-to-cloud-native-application-architectures/the-rise-of-cloud-native/" target="_blank">è¿ç§»åˆ°äº‘åŸç”Ÿåº”ç”¨ç¨‹åº</a></li><li data-pid="znZ5mRFs"><a href="https://jimmysong.io/kubernetes-handbook/" target="_blank">Kubernetes ä¸­æ–‡æŒ‡å—/äº‘åŸç”Ÿåº”ç”¨æ¶æ„å®æˆ˜æ‰‹å†Œ</a></li></ul><p class="ztext-empty-paragraph"><br></p><h2><b>è§†é¢‘èµ„æº</b></h2><ul><li data-pid="Uy53UOz0"><a href="https://space.bilibili.com/1748865719?share_from=space&amp;share_medium=iphone&amp;share_plat=ios&amp;share_session_id=160FA9F0-624A-411F-AD29-CE83BBBA3D35&amp;share_source=WEIXIN&amp;share_tag=s_i&amp;timestamp=1669727398&amp;unique_k=ulDpC8O" target="_blank">å¼ æµ·é¾™ kubernetes å¼€å‘ä¹‹æ—…</a></li><li data-pid="lFimVAJu"><a href="https://search.bilibili.com/all?keyword=client-go&amp;from_source=webtop_search&amp;spm_id_from=333.999&amp;search_source=5" target="_blank">bilibili æœç´¢ client-go kuberneteså¿…ä¼š</a></li><li data-pid="ux2ezdBu"><a href="https://space.bilibili.com/547971176?share_from=space&amp;share_medium=iphone&amp;share_plat=ios&amp;share_session_id=DE3B8DC0-6E79-4FCC-A128-21D5FB84D251&amp;share_source=WEIXIN&amp;share_tag=s_i&amp;timestamp=1669727447&amp;unique_k=TjDCl4U" target="_blank">æ’åº§ç…¤ç”µ æ·±å…¥ç†è§£ k8s ç½‘ç»œ</a></li><li data-pid="XWoilEqX">æå®¢æ—¶é—´ äº‘åŸç”Ÿ è®­ç»ƒè¥è¯¾ç¨‹ï¼ˆåäº”èŠ‚ï¼‰</li></ul><p class="ztext-empty-paragraph"><br></p><h2><b>ç½‘ç«™èµ„æº</b></h2><ul><li data-pid="93BNMVbU"><a href="https://mp.weixin.qq.com/s/K6ynL_9nSTLCTy0_2xCobg" target="_blank">ä» 0 å®ç°ä¸€ä¸ª k8s çš„ CNI ç½‘ç»œæ’ä»¶</a></li><li data-pid="18992eLK"><a href="https://cloud.redhat.com/blog/kubernetes-deep-dive-code-generation-customresources" target="_blank">Kubernetes Deep Diveï¼šCustomResources çš„ä»£ç ç”Ÿæˆ</a></li></ul><p class="ztext-empty-paragraph"><br></p><h2><b>æ¨èä¹¦ç±</b></h2><ul><li data-pid="5MxzCAqk"><a href="https://zhuanlan.zhihu.com/write">æ·±å…¥å‰–ækubernetes</a></li><li data-pid="jVFhtHsX">Kubernetes æºç è§£æ</li></ul><p class="ztext-empty-paragraph"><br></p><h2><b>youtube ç²¾é€‰è§†é¢‘</b></h2><ul><li data-pid="1HAA4CqJ"><a href="https://www.youtube.com/watch?v=Q91iZywBzew" target="_blank">æ•™ç¨‹ï¼šä»æºä»£ç æ„å»ºå’Œè¿è¡Œ Kubernetes å¹¶æäº¤æ‚¨çš„ç¬¬ä¸€ä¸ª PR</a></li><li data-pid="d1sEmXTy"><a href="https://www.youtube.com/watch?v=Jbm0W9Dd4k4" target="_blank">Kubernetesæºç è§£è¯»: APIServerä¹‹server chain by Daniel Guo</a></li><li data-pid="1Ryrb9kh"><a href="https://www.youtube.com/watch?v=ytbEmcxM4yQ" target="_blank">å¦‚ä½•ç†è§£å¼€æºä¸­çš„å¤§å‹ä»£ç åº“</a></li><li data-pid="llJaaFxn"><a href="https://www.youtube.com/watch?v=kA1T0zDPtQo" target="_blank">å¦‚ä½•ç†è§£å¼€æºä¸­çš„å¤§å‹ä»£ç åº“ï¼Ÿ</a></li><li data-pid="zRAJQmKw"><a href="https://www.youtube.com/watch?v=toIncOqOBTA" target="_blank">Kubernetes æºç é˜…è¯»</a></li></ul><p class="ztext-empty-paragraph"><br></p><h2><b>GitHub ç²¾é€‰ä»“åº“</b></h2><ul><li data-pid="PuiWwm8h"><a href="https://github.com/JackyZhangFuDan/K8sSourceCodeDeepDive/" target="_blank">go å¼€å‘ä¹‹æ—…</a></li><li data-pid="AGUW0D9P"><a href="https://github.com/derekguo001/understanding-kubernetes" target="_blank">kubernetes æºç è§£è¯»</a></li><li data-pid="weTCfPfn"><a href="https://github.com/dtsola/best-practices-for-cloud-native" target="_blank">äº‘åŸç”Ÿï¼ˆCloud Nativeï¼‰ã€å®¹å™¨åŒ–ï¼ˆDockerï¼‰ã€å®¹å™¨ç¼–æ’ï¼ˆk8sï¼‰ã€æœåŠ¡ç½‘æ ¼ï¼ˆIstioï¼‰ã€æ— æœåŠ¡å™¨ï¼ˆServerlessï¼‰ã€å¾®æœåŠ¡ã€CI/CDã€DevOpsç›¸å…³å†…å®¹æ€»ç»“ã€‚</a></li><li data-pid="WD4eEbRM"><a href="https://jimmysong.io/kubernetes-handbook/" target="_blank">Kubernetes ä¸­æ–‡æŒ‡å—/äº‘åŸç”Ÿåº”ç”¨æ¶æ„å®æˆ˜æ‰‹å†Œ</a></li></ul><p class="ztext-empty-paragraph"><br></p><h2><b>æ•°æ®ç»Ÿè®¡å’Œæ”¶é›†</b></h2><h3><b>CNCF æ•°æ®</b></h3><ul><li data-pid="jOOBmG5x">ç½‘ç«™ï¼š<a href="https://kubernetes.io/" target="_blank">kubernetes.io</a></li><li data-pid="uxay2ilj">èµ„æ–™åº“ï¼š<a href="https://github.com/kubernetes/kubernetes" target="_blank">github.com/kubernetes/kubernetes</a> 94,767  </li><li data-pid="GM0wvNjT">Crunchbaseï¼š<a href="https://www.crunchbase.com/organization/cloud-native-computing-foundation" target="_blank">crunchbase.com/organization/cloud-native-computing-foundation</a></li><li data-pid="1Dwjw08v">é¢†è‹±ï¼š<a href="https://www.linkedin.com/company/cloud-native-computing-foundation" target="_blank">linkedin.com/company/cloud-native-computing-foundation</a></li><li data-pid="1kFsfhvL">æ¨ç‰¹ï¼š<a href="https://twitter.com/kubernetesio" target="_blank">@kubernetesio</a></li><li data-pid="bvhm3Ls1">ç¬¬ä¸€æ¬¡æäº¤ï¼š<a href="https://github.com/kubernetes/kubernetes/commit/2c4b3a562ce34cddc3f8218a2c4d11c7310e6d56%22" target="_blank">9å¹´å‰</a></li><li data-pid="_U3GJ507">è´¡çŒ®è€…ï¼š<a href="https://github.com/kubernetes/kubernetes/graphs/contributors" target="_blank">500+</a></li><li data-pid="ouen5yjv">æœ€æ–°æ¨æ–‡ï¼š<a href="https://twitter.com/kubernetesio" target="_blank">2ä¸ªæœˆå‰</a></li><li data-pid="fLsSyWSw">å…¬è®¤: 2016-03-10</li><li data-pid="szyDEKeS">å·²æ¯•ä¸šï¼š2018-03-06</li><li data-pid="3EZ1HMRC">æ€»éƒ¨ï¼š<a href="https://landscape.cncf.io/?grouping=headquarters&amp;headquarters=san-francisco-california" target="_blank">åŠ åˆ©ç¦å°¼äºšå·æ—§é‡‘å±±</a></li><li data-pid="EIOsXv4g">å­µåŒ–ï¼š7 å¹´å‰</li><li data-pid="kf399eGX">å¼€å‘ç»Ÿè®¡ï¼š<a href="https://k8s.devstats.cncf.io/" target="_blank"><span class="invisible">https://</span><span class="visible">k8s.devstats.cncf.io/</span><span class="invisible"></span></a></li><li data-pid="THg2JxSu">è‰ºæœ¯å“ï¼š <a href="https://github.com/cncf/artwork/blob/master/examples/graduated.md#kubernetes-logos" target="_blank"><span class="invisible">https://</span><span class="visible">github.com/cncf/artwork</span><span class="invisible">/blob/master/examples/graduated.md#kubernetes-logos</span><span class="ellipsis"></span></a></li><li data-pid="77ndHz56">stackoverflowï¼š<a href="https://stackoverflow.com/questions/tagged/kubernetes" target="_blank"><span class="invisible">https://</span><span class="visible">stackoverflow.com/quest</span><span class="invisible">ions/tagged/kubernetes</span><span class="ellipsis"></span></a></li><li data-pid="yFowPU0U">åšå®¢ï¼š<a href="http://blog.kubernetes.io/" target="_blank"><span class="invisible">http://</span><span class="visible">blog.kubernetes.io/</span><span class="invisible"></span></a></li><li data-pid="xR5wCAsV">é‚®ä»¶åˆ—è¡¨ï¼š<a href="https://groups.google.com/forum/#!forum/kubernetes-dev" target="_blank"><span class="invisible">https://</span><span class="visible">groups.google.com/forum</span><span class="invisible">/#!forum/kubernetes-dev</span><span class="ellipsis"></span></a></li><li data-pid="Szk0IJrm">slackï¼š<a href="http://slack.k8s.io/" target="_blank"><span class="invisible">http://</span><span class="visible">slack.k8s.io/</span><span class="invisible"></span></a></li><li data-pid="dapFmKz1">YouTubeï¼š <a href="https://www.youtube.com/channel/UCZ2bu0qutTOM0tHYa_jkIwg" target="_blank"><span class="invisible">https://www.</span><span class="visible">youtube.com/channel/UCZ</span><span class="invisible">2bu0qutTOM0tHYa_jkIwg</span><span class="ellipsis"></span></a></li></ul><p class="ztext-empty-paragraph"><br></p><h3><b>æºç ç»Ÿè®¡</b></h3><p data-pid="1QtFcTwJ"><code>Kubernetes</code> ä»£ç ç‰¹åˆ«åºå¤§ï¼Œä½¿ç”¨ cloc ç»Ÿè®¡ <b>ï¼ˆâ±ï¸ 2023-03-17ï¼‰</b>ï¼š</p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-efe55ab3479b2504fba0dbff51755eee_r.jpg" data-caption="" data-size="normal" width="2061" referrerpolicy="no-referrer"></figure><h3><b>å…¶ä»–æºç ç»Ÿè®¡</b></h3><p data-pid="wniSDlJq"><b>âš ï¸ æ•°æ®æˆªæ­¢åˆ° 2023 å¹´ 3 æœˆ 17 æ—¥</b></p><ul><li data-pid="Tp-946C7">Istio :  SUNï¼š514910 ï¼ˆGOï¼š339739ï¼‰</li><li data-pid="dI7W6R1w">Kind : 21060</li><li data-pid="hkJqTPsJ">Minikube:  178446</li><li data-pid="4u6pwkQT">sealos: 116277</li></ul><p></p></div> </details> 
 <hr /> 

 #### - [Istio é«˜çº§æµé‡ç®¡ç†](https://zhuanlan.zhihu.com/p/614775174) 
 <details><summary>ØªÙˆØ¶ÛŒØ­Ø§Øª</summary> <p><img src="https://picx.zhimg.com/v2-a645ece5992a7b2a730cd6a77c282b2c_720w.jpg?source=d16d100b"></p><div><ul><li data-pid="AvTl1sIk"><a href="http://nsddd.top/" target="_blank">author</a></li></ul><h2><b>ç¬¬62èŠ‚ Istio é«˜çº§æµé‡ç®¡ç†</b></h2><p data-pid="ZMl4R7IY">â€‹<a href="https://zhuanlan.zhihu.com/61.md">â¬†ï¸ä¸Šä¸€èŠ‚ </a><a href="https://zhuanlan.zhihu.com/63.md">â¬‡ï¸ä¸‹ä¸€èŠ‚ </a><br>â€‹</p><blockquote data-pid="e1NNoofX">â¤ï¸  æ–°æ—¶ä»£æ‹¥æŠ±äº‘åŸç”Ÿï¼Œäº‘åŸç”Ÿå…·æœ‰ç¯å¢ƒç»Ÿä¸€ã€æŒ‰éœ€ä»˜è´¹ã€å³å¼€å³ç”¨ã€ç¨³å®šæ€§å¼ºç‰¹ç‚¹ã€‚Myblog:<a href="http://nsddd.top/" target="_blank">http://nsddd.top</a></blockquote><a href="https://www.notion.so/nsddd/Istio-a8e419634e7245c3b75eb4b855128e1c?pvs=4" data-draft-node="block" data-draft-type="link-card" target="_blank">æœ¬æ–‡ Notion è¿æ¥</a><p data-pid="d1o3gG_Y"><b>Andressï¼š</b></p><ol><li data-pid="k6CgdUzp"><a href="https://github.com/istio/istio" target="_blank"><span class="invisible">https://</span><span class="visible">github.com/istio/istio</span><span class="invisible"></span></a></li><li data-pid="o-BC_wCy"><a href="https://istio.io/" target="_blank">Istio</a></li></ol><h2><b>Istio é«˜çº§æµé‡ç®¡ç†</b></h2><p data-pid="sUx81JyE">Kubernetesæ˜¯ä¸€ä¸ªå¼ºå¤§çš„å®¹å™¨ç¼–æ’å¹³å°ï¼Œä½†æ˜¯å…¶è‡ªå¸¦çš„æœåŠ¡æ²»ç†åŠŸèƒ½è¾ƒä¸ºåŸºç¡€ï¼Œåªèƒ½å®ç°åŸºæœ¬çš„è´Ÿè½½å‡è¡¡å’ŒæœåŠ¡å‘ç°åŠŸèƒ½ã€‚è€ŒIstioåˆ™æ˜¯ä¸€ä¸ªä¸“æ³¨äºæœåŠ¡ç½‘æ ¼çš„å¼€æºé¡¹ç›®ï¼Œæä¾›äº†å¼ºå¤§çš„é«˜çº§æµé‡ç®¡ç†ï¼Œå¯è§‚å¯Ÿæ€§å’Œå®‰å…¨æ€§åŠŸèƒ½ï¼Œèƒ½å¤Ÿå¸®åŠ©ä¼ä¸šå¿«é€Ÿæ„å»ºé«˜å¯ç”¨ï¼Œé«˜æ€§èƒ½ï¼Œé«˜å®‰å…¨æ€§çš„å¾®æœåŠ¡æ¶æ„ã€‚ä½¿ç”¨Istioå¯ä»¥å®ç°æ›´åŠ çµæ´»å’Œé«˜æ•ˆçš„æœåŠ¡ç®¡ç†å’Œæ²»ç†ã€‚</p><p data-pid="R8Rq3k4N"><b>è¦æƒ³çŸ¥é“ä¸ºä»€ä¹ˆéœ€è¦ Istioï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“å¾®æœåŠ¡ ~</b></p><h3><b>å¾®æœåŠ¡æ¶æ„çš„æ¼”å˜</b></h3><p data-pid="uwkXB9DO">å¾®æœåŠ¡æ¶æ„çš„æ¼”å˜åŒ…æ‹¬å•ä½“åº”ç”¨ã€SOAæ¶æ„ã€å¾®æœåŠ¡æ¶æ„ç­‰ï¼Œéšç€ä¸šåŠ¡çš„å¢é•¿ï¼Œå•ä½“åº”ç”¨å’ŒSOAæ¶æ„é€æ¸æš´éœ²å‡ºè¯¸å¤šé—®é¢˜ï¼Œå¦‚å¯æ‰©å±•æ€§ã€å¯ç»´æŠ¤æ€§ã€æœåŠ¡é—´è€¦åˆåº¦ç­‰ï¼Œè€Œå¾®æœåŠ¡æ¶æ„åˆ™ä»¥å…¶æ¾è€¦åˆã€é«˜å†…èšã€å¯æ‰©å±•ç­‰ç‰¹ç‚¹é€æ¸æˆä¸ºä¸šç•Œå…³æ³¨çš„é‡ç‚¹ã€‚Istioæ˜¯ä¸€ä¸ªä¸“æ³¨äºæœåŠ¡ç½‘æ ¼çš„å¼€æºé¡¹ç›®ï¼Œæä¾›äº†å¼ºå¤§çš„é«˜çº§æµé‡ç®¡ç†ã€å¯è§‚å¯Ÿæ€§å’Œå®‰å…¨æ€§åŠŸèƒ½ï¼Œå¸®åŠ©ä¼ä¸šå¿«é€Ÿæ„å»ºé«˜å¯ç”¨ã€é«˜æ€§èƒ½ã€é«˜å®‰å…¨æ€§çš„å¾®æœåŠ¡æ¶æ„ï¼Œæ˜¯å½“å‰æœ€æµè¡Œçš„æœåŠ¡ç½‘æ ¼ä¹‹ä¸€ã€‚</p><p data-pid="PH9da6Iv">å¾®æœåŠ¡æ¶æ„æ˜¯åˆ†å¸ƒå¼æ¶æ„çš„ä¸€ç§å…·ä½“å®ç°ã€‚åœ¨å¾®æœåŠ¡æ¶æ„ä¸­ï¼Œç³»ç»Ÿè¢«æ‹†åˆ†ä¸ºå¤šä¸ªæœåŠ¡ï¼Œæ¯ä¸ªæœåŠ¡éƒ½æ˜¯ç‹¬ç«‹çš„ã€å¯æ›¿æ¢çš„ã€å¯æ‰©å±•çš„ã€‚æ¯ä¸ªæœåŠ¡éƒ½æœ‰è‡ªå·±çš„ä¸šåŠ¡é€»è¾‘å’Œæ•°æ®åº“ï¼ŒæœåŠ¡ä¹‹é—´é€šè¿‡è½»é‡çº§çš„é€šä¿¡æœºåˆ¶è¿›è¡Œäº¤äº’ï¼Œå¦‚REST APIæˆ–æ¶ˆæ¯é˜Ÿåˆ—ã€‚å¾®æœåŠ¡æ¶æ„å¯ä»¥å¸®åŠ©ä¼ä¸šå¿«é€Ÿæ„å»ºé«˜å¯ç”¨ã€é«˜æ€§èƒ½ã€é«˜å®‰å…¨æ€§çš„ç³»ç»Ÿï¼Œå…·æœ‰æ›´å¥½çš„å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§ã€‚</p><p data-pid="Qp_fK8Oe">æœåŠ¡ç½‘æ ¼åˆ™æ˜¯åˆ†å¸ƒå¼æ¶æ„ä¸­çš„ä¸€ç§åŸºç¡€è®¾æ–½å±‚ï¼Œä¸»è¦ç”¨äºç®¡ç†æœåŠ¡ä¹‹é—´çš„é€šä¿¡ã€‚Istioæ˜¯ä¸€ç§æœåŠ¡ç½‘æ ¼ï¼Œæä¾›äº†å¼ºå¤§çš„é«˜çº§æµé‡ç®¡ç†ã€å¯è§‚å¯Ÿæ€§å’Œå®‰å…¨æ€§åŠŸèƒ½ï¼Œå¯ä»¥å¸®åŠ©ä¼ä¸šå¿«é€Ÿæ„å»ºé«˜å¯ç”¨ã€é«˜æ€§èƒ½ã€é«˜å®‰å…¨æ€§çš„å¾®æœåŠ¡æ¶æ„ã€‚Istioçš„æµé‡ç®¡ç†åŠŸèƒ½å¯ä»¥å®ç°ç°åº¦å‘å¸ƒã€æµé‡æ§åˆ¶ã€æ•…éšœæ³¨å…¥ã€æµé‡é•œåƒç­‰é«˜çº§æµé‡ç®¡ç†åŠŸèƒ½ï¼›Istioçš„å¯è§‚å¯Ÿæ€§åŠŸèƒ½å¯ä»¥å®ç°å¯¹æœåŠ¡çš„æµé‡ç›‘æ§ã€æ—¥å¿—æ”¶é›†ã€åˆ†å¸ƒå¼è¿½è¸ªç­‰åŠŸèƒ½ï¼›Istioçš„å®‰å…¨æ€§åŠŸèƒ½å¯ä»¥å®ç°æœåŠ¡é—´çš„è®¤è¯ã€æˆæƒã€åŠ å¯†ç­‰åŠŸèƒ½ã€‚</p><p data-pid="rlTeDaz4">å› æ­¤ï¼Œå¾®æœåŠ¡æ¶æ„å’ŒæœåŠ¡ç½‘æ ¼æ˜¯åˆ†å¸ƒå¼æ¶æ„ä¸­çš„ä¸¤ä¸ªé‡è¦æ¦‚å¿µï¼Œå¯ä»¥å¸®åŠ©ä¼ä¸šæ„å»ºé«˜å¯ç”¨ã€é«˜æ€§èƒ½ã€é«˜å®‰å…¨æ€§çš„ç³»ç»Ÿã€‚</p><table data-draft-node="block" data-draft-type="table" data-size="normal" data-row-style="normal"><tbody><tr><th>æ¶æ„</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th><th>é€‚ç”¨åœºæ™¯</th><th>æ¡ˆä¾‹</th></tr><tr><td>å•ä½“åº”ç”¨</td><td>ç®€å•æ˜“æ‡‚ï¼Œæ˜“äºå¼€å‘</td><td>å¯æ‰©å±•æ€§å’Œå¯ç»´æŠ¤æ€§å·®</td><td>å°å‹é¡¹ç›®ï¼Œå°å›¢é˜Ÿ</td><td>å•ä½“åº”ç”¨çš„Webåº”ç”¨ç¨‹åº</td></tr><tr><td>SOAæ¶æ„</td><td>æ¾è€¦åˆï¼Œåˆ†å¸ƒå¼</td><td>å¤æ‚æ€§é«˜ï¼Œå­¦ä¹ æ›²çº¿é™¡å³­</td><td>å¤§è§„æ¨¡é¡¹ç›®ï¼Œå¤§å›¢é˜Ÿ</td><td>Amazonï¼ŒeBay</td></tr><tr><td>å¾®æœåŠ¡æ¶æ„</td><td>æ¾è€¦åˆï¼Œå¯æ‰©å±•ï¼Œæ¨¡å—åŒ–ï¼Œæ˜“äºç»´æŠ¤</td><td>éƒ¨ç½²å’Œè¿ç»´å¤æ‚</td><td>å¤§è§„æ¨¡é¡¹ç›®ï¼Œå¤§å›¢é˜Ÿ</td><td>Netflixï¼ŒUber</td></tr><tr><td>æ— æœåŠ¡å™¨æ¶æ„</td><td>é«˜åº¦çµæ´»ï¼Œæ— éœ€ç®¡ç†æœåŠ¡å™¨</td><td>å¯èƒ½å­˜åœ¨æ€§èƒ½é—®é¢˜</td><td>é€‚ç”¨äºçŸ­æœŸã€ä½æµé‡çš„ä»»åŠ¡</td><td>AWS Lambda</td></tr><tr><td>äº‹ä»¶é©±åŠ¨æ¶æ„</td><td>å¼‚æ­¥å¤„ç†ï¼Œå¯æ‰©å±•æ€§å¼º</td><td>å¤„ç†å¤æ‚æ€§é«˜</td><td>é«˜å¹¶å‘ï¼Œå¤§æ•°æ®é‡ã€å®æ—¶æ€§è¦æ±‚é«˜</td><td>Apache Kafka</td></tr><tr><td>CQRSæ¶æ„</td><td>è¯»å†™åˆ†ç¦»ï¼Œå¯æ‰©å±•</td><td>å¢åŠ å¼€å‘å¤æ‚æ€§</td><td>å¤§å‹å¤æ‚ç³»ç»Ÿï¼Œé«˜å¹¶å‘è¯»å†™åœºæ™¯</td><td>Microsoft</td></tr><tr><td>æœåŠ¡å™¨ç«¯æ¸²æŸ“æ¶æ„</td><td>é¦–å±åŠ è½½å¿«ï¼ŒSEOå‹å¥½</td><td>ä»£ç å¤æ‚åº¦é«˜</td><td>å¯¹é¦–å±åŠ è½½é€Ÿåº¦å’ŒSEOè¦æ±‚é«˜</td><td>Airbnb</td></tr></tbody></table><p data-pid="R3kRhUtr">é™¤äº†å•ä½“åº”ç”¨ã€SOAæ¶æ„å’Œå¾®æœåŠ¡æ¶æ„ä¹‹å¤–ï¼Œè¿˜æœ‰æ— æœåŠ¡å™¨æ¶æ„ï¼Œäº‹ä»¶é©±åŠ¨æ¶æ„ï¼ŒCQRSæ¶æ„å’ŒæœåŠ¡å™¨ç«¯æ¸²æŸ“æ¶æ„ç­‰ã€‚</p><p data-pid="V04AtJjV">æ— æœåŠ¡å™¨æ¶æ„æ˜¯ä¸€ç§æ–°å…´çš„æ¶æ„ï¼Œå¯ä»¥å®ç°é«˜åº¦çµæ´»å’Œæ— éœ€ç®¡ç†æœåŠ¡å™¨çš„ç›®æ ‡ï¼Œé€‚ç”¨äºçŸ­æœŸã€ä½æµé‡çš„ä»»åŠ¡ã€‚äº‹ä»¶é©±åŠ¨æ¶æ„é€šè¿‡å¼‚æ­¥å¤„ç†å’Œå¯æ‰©å±•æ€§å¼ºï¼Œé€‚ç”¨äºé«˜å¹¶å‘ã€å¤§æ•°æ®é‡ã€å®æ—¶æ€§è¦æ±‚é«˜çš„åœºæ™¯ã€‚CQRSæ¶æ„é€šè¿‡è¯»å†™åˆ†ç¦»å’Œå¯æ‰©å±•æ€§ï¼Œé€‚ç”¨äºå¤§å‹å¤æ‚ç³»ç»Ÿã€é«˜å¹¶å‘è¯»å†™åœºæ™¯ã€‚æœåŠ¡å™¨ç«¯æ¸²æŸ“æ¶æ„é€šè¿‡é¦–å±åŠ è½½å¿«å’ŒSEOå‹å¥½ç‰¹ç‚¹ï¼Œé€‚ç”¨äºå¯¹é¦–å±åŠ è½½é€Ÿåº¦å’ŒSEOè¦æ±‚é«˜çš„åœºæ™¯ã€‚</p><p data-pid="uzvv8eOC">æ¯ç§æ¶æ„éƒ½æœ‰å…¶ä¼˜ç‚¹å’Œç¼ºç‚¹ï¼Œé€‰æ‹©é€‚åˆè‡ªå·±ä¸šåŠ¡åœºæ™¯çš„æ¶æ„æ˜¯éå¸¸é‡è¦çš„ã€‚</p><p data-pid="DD07-KtS">â€‹  å¾®æœåŠ¡æ¶æ„é€‚ç”¨äºå¤§è§„æ¨¡é¡¹ç›®å’Œå¤§å›¢é˜Ÿï¼Œå…·æœ‰ä»¥ä¸‹å…¸å‹ä¸šåŠ¡åœºæ™¯ï¼š<br>â€‹</p><ul><li data-pid="Nl5VcHhJ">é«˜å¯ç”¨æ€§è¦æ±‚ï¼šå¾®æœåŠ¡æ¶æ„å¯ä»¥å°†ç³»ç»Ÿæ‹†åˆ†ä¸ºå¤šä¸ªæœåŠ¡ï¼Œæ¯ä¸ªæœåŠ¡éƒ½æ˜¯ç‹¬ç«‹çš„ã€å¯æ›¿æ¢çš„ã€å¯æ‰©å±•çš„ï¼Œå¯ä»¥å®ç°æœåŠ¡çš„é«˜å¯ç”¨æ€§ã€‚</li><li data-pid="IKWX-wNA">é«˜æ€§èƒ½è¦æ±‚ï¼šå¾®æœåŠ¡æ¶æ„å¯ä»¥å°†ç³»ç»Ÿæ‹†åˆ†ä¸ºå¤šä¸ªæœåŠ¡ï¼Œæ¯ä¸ªæœåŠ¡éƒ½æœ‰è‡ªå·±çš„ä¸šåŠ¡é€»è¾‘å’Œæ•°æ®åº“ï¼ŒæœåŠ¡ä¹‹é—´é€šè¿‡è½»é‡çº§çš„é€šä¿¡æœºåˆ¶è¿›è¡Œäº¤äº’ï¼Œå¦‚REST APIæˆ–æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå¯ä»¥å®ç°é«˜æ€§èƒ½çš„æœåŠ¡è°ƒç”¨ã€‚</li><li data-pid="vR3Qj29O">é«˜å¯æ‰©å±•æ€§è¦æ±‚ï¼šå¾®æœåŠ¡æ¶æ„å¯ä»¥å°†ç³»ç»Ÿæ‹†åˆ†ä¸ºå¤šä¸ªæœåŠ¡ï¼Œæ¯ä¸ªæœåŠ¡éƒ½æ˜¯ç‹¬ç«‹çš„ã€å¯æ›¿æ¢çš„ã€å¯æ‰©å±•çš„ï¼Œå¯ä»¥å®ç°æœåŠ¡çš„é«˜å¯æ‰©å±•æ€§ã€‚</li><li data-pid="bR26594w">å¤šå›¢é˜Ÿåä½œå¼€å‘ï¼šå¾®æœåŠ¡æ¶æ„å¯ä»¥å°†ç³»ç»Ÿæ‹†åˆ†ä¸ºå¤šä¸ªæœåŠ¡ï¼Œæ¯ä¸ªæœåŠ¡éƒ½æœ‰è‡ªå·±çš„ä¸šåŠ¡é€»è¾‘å’Œæ•°æ®åº“ï¼Œä¸åŒçš„å›¢é˜Ÿå¯ä»¥åˆ†åˆ«å¼€å‘å’Œç»´æŠ¤ä¸åŒçš„æœåŠ¡ï¼Œå¯ä»¥å®ç°å¤šå›¢é˜Ÿåä½œå¼€å‘ã€‚</li><li data-pid="ENsvto4r">æŒç»­äº¤ä»˜å’Œéƒ¨ç½²ï¼šå¾®æœåŠ¡æ¶æ„å¯ä»¥å°†ç³»ç»Ÿæ‹†åˆ†ä¸ºå¤šä¸ªæœåŠ¡ï¼Œæ¯ä¸ªæœåŠ¡éƒ½æ˜¯ç‹¬ç«‹çš„ã€å¯æ›¿æ¢çš„ã€å¯æ‰©å±•çš„ï¼Œå¯ä»¥å®ç°æœåŠ¡çš„ç‹¬ç«‹éƒ¨ç½²å’ŒæŒç»­äº¤ä»˜ã€‚ &lt;/aside&gt;</li></ul><h3><b>æ€ç»´å¯¼å›¾</b></h3><div class="highlight"><pre><code class="language-text">HTTP/RESTgRPCKafkaService AService BService C
</code></pre></div><blockquote data-pid="PfNECtbJ">ä¸Šé¢çš„å›¾æ˜¯ä¸€ä¸ªç®€å•çš„æœåŠ¡ç½‘æ ¼çš„ç¤ºä¾‹ã€‚å®ƒåŒ…å«ä¸‰ä¸ªæœåŠ¡ï¼šAï¼ŒBå’ŒCã€‚æœåŠ¡Aé€šè¿‡HTTP/RESTåè®®ä¸æœåŠ¡Bé€šä¿¡ï¼ŒæœåŠ¡Aé€šè¿‡gRPCåè®®ä¸æœåŠ¡Cé€šä¿¡ï¼ŒæœåŠ¡Bé€šè¿‡Kafkaä¸æœåŠ¡Cé€šä¿¡ã€‚æœåŠ¡ç½‘æ ¼é€šè¿‡ä»£ç†æ¨¡å¼å®ç°å¯¹æœåŠ¡çš„æµé‡ç®¡ç†å’Œå®‰å…¨ç®¡ç†ï¼ŒåŒæ—¶æä¾›å¯¹æœåŠ¡çš„å¯è§‚å¯Ÿæ€§ç›‘æ§ã€‚åœ¨ä¸Šé¢çš„å›¾ä¸­ï¼ŒæœåŠ¡ç½‘æ ¼é€šè¿‡ <code>Envoy</code> ä»£ç†å®ç°å¯¹æœåŠ¡çš„æµé‡ç®¡ç†å’Œå®‰å…¨ç®¡ç†ã€‚æœåŠ¡Açš„è¯·æ±‚é€šè¿‡ <code>Envoy</code> ä»£ç†è·¯ç”±åˆ°æœåŠ¡Bæˆ–æœåŠ¡Cï¼ŒæœåŠ¡Bçš„å“åº”é€šè¿‡Envoyä»£ç†è¿”å›ç»™æœåŠ¡Aã€‚æœåŠ¡Cçš„å“åº”ä¹Ÿé€šè¿‡Envoyä»£ç†è¿”å›ç»™æœåŠ¡Aã€‚æœåŠ¡ç½‘æ ¼é€šè¿‡Envoyä»£ç†å®ç°å¯¹æœåŠ¡çš„æµé‡è·¯ç”±å’Œæµé‡æ§åˆ¶ï¼Œä»¥ä¾¿å¯¹æœåŠ¡è¿›è¡Œç°åº¦å‘å¸ƒã€æµé‡æ§åˆ¶ã€æ•…éšœæ³¨å…¥ç­‰é«˜çº§æµé‡ç®¡ç†åŠŸèƒ½ã€‚</blockquote><h3><b>SpringCloudå’ŒIstioçš„åŒºåˆ«</b></h3><p data-pid="5DcHKrN4">SpringCloudæ˜¯ä¸€ç»„ç”¨äºæ„å»ºä¼ä¸šçº§åº”ç”¨ç¨‹åºçš„æ¡†æ¶å’Œå·¥å…·ã€‚å®ƒæä¾›äº†å¾ˆå¤šè§£å†³æ–¹æ¡ˆï¼Œå¦‚æœåŠ¡å‘ç°ã€é…ç½®ç®¡ç†ã€è´Ÿè½½å‡è¡¡ã€æ–­è·¯å™¨ã€ç½‘å…³ç­‰ï¼Œé€šè¿‡è¿™äº›è§£å†³æ–¹æ¡ˆå¯ä»¥å¿«é€Ÿæ„å»ºå¾®æœåŠ¡åº”ç”¨ç¨‹åºã€‚SpringCloudæ˜¯ä¸€ä¸ªåŸºäºJavaçš„æ¡†æ¶ï¼Œå®ƒä½¿ç”¨Spring Bootæ¥ç®€åŒ–å¾®æœåŠ¡å¼€å‘æµç¨‹ã€‚</p><p data-pid="1-NI93jk">Istioæ˜¯ä¸€ä¸ªå¼€æºæœåŠ¡ç½‘æ ¼å¹³å°ï¼Œå®ƒæä¾›äº†æµé‡ç®¡ç†ã€å®‰å…¨æ€§å’Œå¯è§‚å¯Ÿæ€§åŠŸèƒ½ã€‚Istioä½¿ç”¨Envoyä»£ç†æ¥ç®¡ç†ç½‘ç»œæµé‡ï¼Œå¹¶é€šè¿‡æ§åˆ¶Envoyçš„æµé‡è·¯ç”±è§„åˆ™æ¥å®ç°ç°åº¦å‘å¸ƒã€æµé‡æ§åˆ¶ã€æ•…éšœæ³¨å…¥ç­‰é«˜çº§æµé‡ç®¡ç†åŠŸèƒ½ã€‚Istioæ˜¯ä¸Kubernetesé›†æˆçš„ï¼Œå› æ­¤å¯ä»¥å¾ˆå®¹æ˜“åœ°éƒ¨ç½²å’Œç®¡ç†åœ¨Kubernetesä¸Šè¿è¡Œçš„å¾®æœåŠ¡åº”ç”¨ç¨‹åºã€‚</p><p data-pid="fzFpT4bQ">SpringCloudå’ŒIstioéƒ½ç”¨äºæ„å»ºå¾®æœåŠ¡åº”ç”¨ç¨‹åºï¼Œä½†æ˜¯å®ƒä»¬åœ¨å®ç°å¾®æœåŠ¡æ²»ç†æ–¹é¢æœ‰äº›è®¸ä¸åŒã€‚SpringCloudæ˜¯ä¸€ç»„åŸºäºJavaçš„æ¡†æ¶å’Œå·¥å…·ï¼Œé€‚ç”¨äºæ„å»ºJavaåº”ç”¨ç¨‹åºã€‚å®ƒçš„ä¼˜åŠ¿åœ¨äºå¼€å‘äººå‘˜å¯ä»¥ä½¿ç”¨ç†Ÿæ‚‰çš„JavaæŠ€æœ¯æ ˆæ¥æ„å»ºå¾®æœåŠ¡åº”ç”¨ç¨‹åºï¼Œè¿™æ„å‘³ç€å¼€å‘äººå‘˜å¯ä»¥æ›´å¿«åœ°ä¸Šæ‰‹ã€‚è€ŒIstioæ˜¯ä¸€ä¸ªåŸºäºEnvoyä»£ç†çš„æœåŠ¡ç½‘æ ¼å¹³å°ï¼Œé€‚ç”¨äºæ„å»ºä»»ä½•è¯­è¨€çš„åº”ç”¨ç¨‹åºï¼Œä½†æ˜¯åœ¨éƒ¨ç½²å’Œç®¡ç†æ–¹é¢éœ€è¦å¯¹Kubernetesæœ‰ä¸€å®šçš„äº†è§£ã€‚Istioçš„ä¼˜åŠ¿åœ¨äºå®ƒæä¾›äº†å¾ˆå¤šé«˜çº§çš„æµé‡ç®¡ç†å’Œå®‰å…¨æ€§åŠŸèƒ½ï¼Œè¿™äº›åŠŸèƒ½åœ¨SpringCloudä¸­å¯èƒ½éœ€è¦å¼€å‘äººå‘˜è‡ªå·±æ¥å®ç°ã€‚</p><h3><b>ä¸ºä»€ä¹ˆä¸é€‰æ‹©SpringCloud</b></h3><p data-pid="o5A-lLo7">å°½ç®¡SpringCloudæ˜¯ä¸€ä¸ªä¼˜ç§€çš„å¾®æœåŠ¡æ¡†æ¶ï¼Œä½†æ˜¯å®ƒä¹Ÿå­˜åœ¨ä¸€äº›é—®é¢˜ã€‚é¦–å…ˆï¼ŒSpringCloudæ˜¯ä¸€ä¸ªåŸºäºJavaçš„æ¡†æ¶ï¼Œå› æ­¤åªé€‚ç”¨äºæ„å»ºJavaåº”ç”¨ç¨‹åºã€‚å¦‚æœä½ çš„å›¢é˜Ÿä½¿ç”¨çš„æ˜¯å…¶ä»–è¯­è¨€ï¼Œé‚£ä¹ˆSpringCloudå¯èƒ½ä¸æ˜¯æœ€ä½³é€‰æ‹©ã€‚å…¶æ¬¡ï¼ŒSpringCloudçš„å­¦ä¹ æ›²çº¿ç›¸å¯¹è¾ƒé™¡å³­ï¼Œéœ€è¦å¼€å‘äººå‘˜æŒæ¡å¾ˆå¤šæ¦‚å¿µå’ŒæŠ€æœ¯ã€‚æœ€åï¼ŒSpringCloudçš„æ€§èƒ½å¯èƒ½æ¯”Istioç•¥å·®ï¼Œå› ä¸ºå®ƒä½¿ç”¨äº†æ›´å¤šçš„Javaä»£ç æ¥å®ç°å¾®æœåŠ¡æ²»ç†åŠŸèƒ½ã€‚</p><div class="highlight"><pre><code class="language-text">HTTP/RESTHTTP/RESTHTTP/RESTHTTP/RESTHTTP/RESTgRPCgRPCgRPCgRPCå®¢æˆ·ç«¯Spring Cloud Gatewayå¾®æœåŠ¡ Aå¾®æœåŠ¡ Bå¾®æœåŠ¡ Cå®¢æˆ·ç«¯Istio Ingress GatewayEnvoy Proxyå¾®æœåŠ¡ Aå¾®æœåŠ¡ Bå¾®æœåŠ¡ C
</code></pre></div><p data-pid="kxC-9cre">ä¸Šé¢çš„å›¾åˆ†åˆ«ä½“ç°äº† Spring Cloud å’Œ Istio çš„æ¶æ„å›¾ã€‚åœ¨ Spring Cloud æ¶æ„ä¸­ï¼Œå®¢æˆ·ç«¯é€šè¿‡ HTTP/REST åè®®ä¸ Spring Cloud Gateway é€šä¿¡ï¼ŒSpring Cloud Gateway è´Ÿè´£è·¯ç”±è¯·æ±‚å¹¶å°†è¯·æ±‚å‘é€åˆ°å¯¹åº”çš„å¾®æœåŠ¡ä¸Šã€‚åœ¨ Istio æ¶æ„ä¸­ï¼Œå®¢æˆ·ç«¯é€šè¿‡ HTTP/REST åè®®ä¸ Istio Ingress Gateway é€šä¿¡ï¼ŒIstio Ingress Gateway è´Ÿè´£è·¯ç”±è¯·æ±‚å¹¶å°†è¯·æ±‚å‘é€åˆ° Envoy Proxyï¼ŒEnvoy Proxy è´Ÿè´£å°†è¯·æ±‚è½¬å‘åˆ°å¯¹åº”çš„å¾®æœåŠ¡ä¸Šã€‚</p><p data-pid="JM7vhPiT">åœ¨ Spring Cloud æ¶æ„ä¸­ï¼ŒSpring Cloud Gateway æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ç»„ä»¶ï¼Œéœ€è¦è‡ªå·±éƒ¨ç½²å’Œè¿ç»´ï¼›è€Œåœ¨ Istio æ¶æ„ä¸­ï¼ŒIstio Ingress Gateway æ˜¯ Istio çš„ä¸€éƒ¨åˆ†ï¼Œç”± Istio è‡ªåŠ¨éƒ¨ç½²å’Œè¿ç»´ã€‚æ­¤å¤–ï¼Œåœ¨ Istio æ¶æ„ä¸­ï¼ŒEnvoy Proxy ä»£ç†å¯ä»¥å®ç°æ›´å¤šçš„æµé‡ç®¡ç†å’Œå®‰å…¨æ€§åŠŸèƒ½ï¼Œä¾‹å¦‚ç°åº¦å‘å¸ƒã€æµé‡æ§åˆ¶ã€æ•…éšœæ³¨å…¥ç­‰é«˜çº§æµé‡ç®¡ç†åŠŸèƒ½ã€‚å› æ­¤ï¼Œåœ¨æµé‡ç®¡ç†å’Œå®‰å…¨æ€§æ–¹é¢ï¼ŒIstio æ¯” Spring Cloud æ›´åŠ å¼ºå¤§å’Œçµæ´»ã€‚</p><p data-pid="WOIBLXtR">ç„¶è€Œï¼ŒSpring Cloud ä½œä¸ºä¸€ä¸ªåŸºäº Java çš„å¾®æœåŠ¡æ¡†æ¶ï¼Œå¯ä»¥è½»æ¾åœ°ä¸ Spring Boot æ¡†æ¶é›†æˆï¼Œå› æ­¤å¯ä»¥å¿«é€Ÿæ„å»º Java å¾®æœåŠ¡åº”ç”¨ç¨‹åºã€‚è€Œ Istio å¯ä»¥æ”¯æŒå¤šç§è¯­è¨€ï¼Œä½†éœ€è¦å¯¹ Kubernetes æœ‰ä¸€å®šçš„äº†è§£ï¼Œå› æ­¤åœ¨éƒ¨ç½²å’Œç®¡ç†æ–¹é¢éœ€è¦ä¸€å®šçš„å­¦ä¹ æˆæœ¬ã€‚</p><h2><b>ä»€ä¹ˆæ˜¯ Service Meshï¼ˆæœåŠ¡ç½‘æ ¼ï¼‰ï¼Ÿ</b></h2><p data-pid="qDluFBzy">æœåŠ¡ç½‘æ ¼ï¼ˆService Meshï¼‰æ˜¯ä¸€ç§åŸºç¡€è®¾æ–½å±‚ï¼Œç”¨äºç®¡ç†æœåŠ¡ä¹‹é—´çš„é€šä¿¡ã€‚å®ƒé€šè¿‡åœ¨æœåŠ¡ä¹‹é—´æ’å…¥ä»£ç†æ¥å®ç°æµé‡ç®¡ç†ã€å®‰å…¨æ€§å’Œå¯è§‚å¯Ÿæ€§ã€‚æœåŠ¡ç½‘æ ¼é€šå¸¸ç”±ä¸€ä¸ªæ§åˆ¶å¹³é¢å’Œä¸€ä¸ªæ•°æ®å¹³é¢ç»„æˆï¼Œå…¶ä¸­æ§åˆ¶å¹³é¢è´Ÿè´£é…ç½®å’Œç®¡ç†ä»£ç†ï¼Œæ•°æ®å¹³é¢è´Ÿè´£å¤„ç†æµé‡ã€‚æœåŠ¡ç½‘æ ¼å¯ä»¥æä¾›å¾ˆå¤šé«˜çº§åŠŸèƒ½ï¼Œä¾‹å¦‚æµé‡è·¯ç”±ã€æ•…éšœæ³¨å…¥ã€æµé‡æ§åˆ¶ã€ç°åº¦å‘å¸ƒã€å¯è§‚å¯Ÿæ€§ç­‰ã€‚Istioæ˜¯ä¸€ä¸ªå¼€æºçš„æœåŠ¡ç½‘æ ¼å¹³å°ï¼Œå®ƒä½¿ç”¨Envoyä»£ç†æ¥å®ç°æµé‡ç®¡ç†ã€å®‰å…¨æ€§å’Œå¯è§‚å¯Ÿæ€§åŠŸèƒ½ã€‚</p><table data-draft-node="block" data-draft-type="table" data-size="normal" data-row-style="normal"><tbody><tr><th>åŠŸèƒ½</th><th>é€‚åº”æ€§</th><th>æœåŠ¡å‘ç°</th><th>å®‰å…¨å’Œè®¿é—®æ§åˆ¶</th><th>å¯è§‚æµ‹æ€§</th><th>éƒ¨ç½²å’Œé€šè®¯</th></tr><tr><td>Spring Cloud</td><td>é€‚ç”¨äºæ„å»ºJavaåº”ç”¨ç¨‹åº</td><td>æ”¯æŒå¤šç§æœåŠ¡å‘ç°æ–¹å¼</td><td>å¯ä»¥ä½¿ç”¨Spring Securityç­‰æ¡†æ¶å®ç°å®‰å…¨æ€§å’Œè®¿é—®æ§åˆ¶</td><td>æä¾›äº†Spring Boot Actuatorç­‰å·¥å…·æ¥å®ç°å¯è§‚æµ‹æ€§</td><td>å¯ä»¥ä½¿ç”¨HTTP/RESTåè®®æˆ–å…¶ä»–åè®®è¿›è¡Œé€šè®¯</td></tr><tr><td>Istio</td><td>é€‚ç”¨äºæ„å»ºä»»ä½•è¯­è¨€çš„åº”ç”¨ç¨‹åº</td><td>æ”¯æŒå¤šç§æœåŠ¡å‘ç°æ–¹å¼</td><td>ä½¿ç”¨Envoyä»£ç†å®ç°å®‰å…¨æ€§å’Œè®¿é—®æ§åˆ¶</td><td>æä¾›äº†Istio Mixerç­‰ç»„ä»¶æ¥å®ç°å¯è§‚æµ‹æ€§</td><td>å¯ä»¥ä½¿ç”¨HTTP/RESTåè®®ã€gRPCåè®®ç­‰åè®®è¿›è¡Œé€šè®¯</td></tr></tbody></table><p data-pid="NiOu2j7_">å½“å‰è¯´çš„ Service Mesh ä¸€èˆ¬å°±æ˜¯æŒ‡ Istioã€‚</p><ul><li data-pid="D3hmGMUa">HTTPã€gRPCã€WebSocket å’ŒTCPæµé‡çš„è‡ªåŠ¨è´Ÿè½½å‡è¡¡ã€‚</li><li data-pid="sqrFi0Hv">é€šè¿‡ä¸°å¯Œçš„è·¯ç”±è§„åˆ™ã€é‡è¯•ã€æ•…éšœè½¬ç§»å’Œæ•…éšœæ³¨å…¥ï¼Œå¯ä»¥å¯¹æµé‡è¡Œä¸ºè¿›è¡Œç»†ç²’åº¦æ§åˆ¶ã€‚</li><li data-pid="zWFugycU">å¯æ’å…¥çš„ç­–ç•¥å±‚å’Œé…ç½®APIï¼Œæ”¯æŒè®¿é—®æ§åˆ¶ã€é€Ÿç‡é™åˆ¶å’Œé…é¢ã€‚</li><li data-pid="UNPSplnZ">å¯¹å‡ºå…¥é›†ç¾¤å…¥å£å’Œå‡ºå£ä¸­æ‰€æœ‰æµé‡çš„è‡ªåŠ¨åº¦é‡æŒ‡æ ‡ã€æ—¥å¿—è®°å½•å’Œè·Ÿè¸ªã€‚</li><li data-pid="sFnB0oeB">é€šè¿‡å¼ºå¤§çš„åŸºäºèº«ä»½çš„éªŒè¯å’Œæˆæƒï¼Œåœ¨é›†ç¾¤ä¸­å®ç°å®‰å…¨çš„æœåŠ¡é—´é€šä¿¡ã€‚</li></ul><p data-pid="_jWaEeyP">é€»è¾‘å›¾ï¼š</p><div class="highlight"><pre><code class="language-text">HTTP/RESTgRPCgRPCgRPCgRPCå®¢æˆ·ç«¯Istio Ingress GatewayEnvoy Proxyå¾®æœåŠ¡ Aå¾®æœåŠ¡ Bå¾®æœåŠ¡ CRedisPrometheusGrafanaJaegerElasticsearchKibana
</code></pre></div><p data-pid="_8Qt2wVr">ä¸Šé¢çš„å›¾å±•ç¤ºäº† Service Mesh çš„æ¶æ„ï¼Œå…¶ä¸­å®¢æˆ·ç«¯é€šè¿‡ HTTP/REST åè®®ä¸ Istio Ingress Gateway é€šä¿¡ï¼ŒIstio Ingress Gateway è´Ÿè´£è·¯ç”±è¯·æ±‚å¹¶å°†è¯·æ±‚å‘é€åˆ° Envoy Proxyï¼ŒEnvoy Proxy è´Ÿè´£å°†è¯·æ±‚è½¬å‘åˆ°å¯¹åº”çš„å¾®æœåŠ¡ä¸Šã€‚åŒæ—¶ï¼ŒEnvoy Proxy é€šè¿‡ Sidecar æ¨¡å¼ä¸ Jaegerã€Prometheusã€Grafana ç­‰ç›‘æ§å·¥å…·è¿›è¡Œé€šä¿¡ï¼Œå®ç°å¯¹æœåŠ¡çš„å¯è§‚å¯Ÿæ€§ç›‘æ§ã€‚æ­¤å¤–ï¼Œå¾®æœåŠ¡ Aã€Bã€C è¿˜é€šè¿‡ Redis è¿›è¡Œæ•°æ®å…±äº«ï¼ŒEnvoy Proxy å¯ä»¥é€šè¿‡ Redis è¿›è¡Œæµé‡æ§åˆ¶å’Œæ•…éšœæ³¨å…¥ç­‰é«˜çº§æµé‡ç®¡ç†åŠŸèƒ½ã€‚</p><p data-pid="t9cjp5Du">â€‹  Sidecar<br>â€‹</p><p data-pid="O4iX-ckd">Sidecar æ˜¯ä¸€ä¸ªæ¨¡å¼ï¼Œå®ƒå°†ä¸€ä¸ªè¾…åŠ©å®¹å™¨ä½œä¸ºä¸»å®¹å™¨çš„ä¸€ä¸ªè¾…åŠ©è¿›ç¨‹æ¥è¿è¡Œã€‚åœ¨å¾®æœåŠ¡æ¶æ„ä¸­ï¼Œä½¿ç”¨ Sidecar æ¨¡å¼å¯ä»¥å°†ä»£ç†ä½œä¸ºè¾…åŠ©å®¹å™¨ä¸æ¯ä¸ªå¾®æœåŠ¡å®ä¾‹ä¸€èµ·è¿è¡Œï¼Œä»¥ä¾¿å®ç°æµé‡ç®¡ç†ã€å®‰å…¨ç®¡ç†å’Œå¯è§‚å¯Ÿæ€§ç­‰åŠŸèƒ½ã€‚Sidecar æ¨¡å¼è¿˜å¯ä»¥å°†ç›‘æ§ã€æ—¥å¿—è®°å½•å’Œè·Ÿè¸ªå·¥å…·ä½œä¸ºè¾…åŠ©å®¹å™¨ä¸ä¸»å®¹å™¨ä¸€èµ·è¿è¡Œï¼Œä»¥ä¾¿å¯¹å¾®æœåŠ¡è¿›è¡Œå¯è§‚å¯Ÿæ€§ç›‘æ§ã€‚Istio æœåŠ¡ç½‘æ ¼ä½¿ç”¨ Sidecar æ¨¡å¼æ¥ç®¡ç†ç½‘ç»œæµé‡ï¼Œå¹¶ä½¿ç”¨ Envoy ä»£ç†ä½œä¸ºè¾…åŠ©å®¹å™¨è¿›è¡Œæµé‡ç®¡ç†å’Œå®‰å…¨ç®¡ç†ã€‚</p><p data-pid="tW8eT5Q9">&lt;/aside&gt;</p><p data-pid="hvyJAw43">Service Mesh æŠŠè®¤è¯é‰´æƒã€æœåŠ¡å‘ç°ã€è´Ÿè½½å‡è¡¡ã€ç†”æ–­ç­‰é€šç”¨èƒ½åŠ›æ•´åˆåˆ° Sidecar é‡Œï¼Œè®©ä¸šåŠ¡ä¸“æ³¨äºä¸šåŠ¡æœ¬èº«ã€‚</p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-fa32fa74ff28fdc1083beab4ae4ff137_r.jpg" data-caption="" data-size="normal" width="1726" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>æœåŠ¡ç½‘æ ¼å¯é€‰æ–¹æ¡ˆ</b></h3><p data-pid="7Q1uhz9E">åœ¨ Istio ä¹‹å‰ï¼Œå·²ç»æœ‰äº†ä¸€äº›æœåŠ¡ç½‘æ ¼çš„è§£å†³æ–¹æ¡ˆã€‚ä¸‹é¢æ˜¯ä¸€äº›å¯é€‰æ–¹æ¡ˆï¼š</p><ul><li data-pid="OGx7WkNu"><b>Linkerd</b>ï¼šLinkerd æ˜¯ä¸€ä¸ªå¼€æºçš„æœåŠ¡ç½‘æ ¼ï¼Œå®ƒä½¿ç”¨ä»£ç†æ¨¡å¼æ¥å®ç°æµé‡ç®¡ç†å’Œå®‰å…¨ç®¡ç†ã€‚Linkerd ä½¿ç”¨ Finagle ä½œä¸ºä»£ç†ï¼Œå¯ä»¥æ”¯æŒå¤šç§è¯­è¨€çš„åº”ç”¨ç¨‹åºã€‚</li><li data-pid="6w-Aro7B"><b>Consul Connect</b>ï¼šConsul Connect æ˜¯ HashiCorp å…¬å¸å¼€å‘çš„æœåŠ¡ç½‘æ ¼è§£å†³æ–¹æ¡ˆã€‚å®ƒä½¿ç”¨ Envoy ä»£ç†æ¥å®ç°æµé‡ç®¡ç†å’Œå®‰å…¨ç®¡ç†ï¼ŒåŒæ—¶æä¾›äº†æœåŠ¡å‘ç°ã€é…ç½®ç®¡ç†ç­‰åŠŸèƒ½ã€‚</li><li data-pid="QT-_ARfb"><b>AWS App Mesh</b>ï¼šAWS App Mesh æ˜¯ Amazon Web Services å…¬å¸å¼€å‘çš„æœåŠ¡ç½‘æ ¼è§£å†³æ–¹æ¡ˆã€‚å®ƒä½¿ç”¨ Envoy ä»£ç†æ¥å®ç°æµé‡ç®¡ç†å’Œå®‰å…¨ç®¡ç†ï¼ŒåŒæ—¶æä¾›äº†æœåŠ¡å‘ç°ã€é…ç½®ç®¡ç†ç­‰åŠŸèƒ½ã€‚AWS App Mesh å¯ä»¥ä¸ AWS ä¸Šçš„å…¶ä»–æœåŠ¡é›†æˆï¼Œä¾‹å¦‚ Amazon ECS å’Œ Amazon EKSã€‚</li><li data-pid="cMBcvNdC"><b>Kuma</b>ï¼šKuma æ˜¯ä¸€ä¸ªå¼€æºçš„æœåŠ¡ç½‘æ ¼ï¼Œå®ƒä½¿ç”¨ Envoy ä»£ç†æ¥å®ç°æµé‡ç®¡ç†å’Œå®‰å…¨ç®¡ç†ã€‚Kuma æ”¯æŒå¤šç§æ•°æ®å¹³é¢å’Œæ§åˆ¶å¹³é¢ï¼Œå¯ä»¥çµæ´»åœ°é€‚åº”ä¸åŒçš„åº”ç”¨åœºæ™¯ã€‚</li></ul><p data-pid="OE79Dqlf">â€‹  æˆ‘ä»¬æœ€ååœ¨æè¿°ä¸€ä¸‹ Service Meshï¼š æœåŠ¡ç½‘æ ¼ï¼ˆService Meshï¼‰è¿™ä¸ªæœ¯è¯­é€šå¸¸ç”¨æ¥æè¿°æ„æˆè¿™äº›åº”ç”¨ç¨‹åºçš„å¾®æœåŠ¡ç½‘æ ¼ä»¥åŠåº”ç”¨ä¹‹é—´çš„äº¤äº’ã€‚éšç€è§„æ¨¡å’Œå¤æ‚æ€§çš„å¢é•¿ï¼ŒæœåŠ¡ç½‘æ ¼è¶Šæ¥è¶Šéš¾ä»¥ç†è§£å’Œç®¡ç†ã€‚<br>â€‹</p><p data-pid="rMSinFq4">&lt;/aside&gt;</p><h2><b>æµé‡ç®¡ç†</b></h2><p data-pid="4JFrK9On">Istioé€šè¿‡Envoyä»£ç†å®ç°æµé‡ç®¡ç†ï¼Œé€šè¿‡æ§åˆ¶Envoyçš„æµé‡è·¯ç”±è§„åˆ™ï¼Œå¯ä»¥å®ç°ç°åº¦å‘å¸ƒï¼Œæµé‡æ§åˆ¶ï¼Œæ•…éšœæ³¨å…¥ç­‰é«˜çº§æµé‡ç®¡ç†åŠŸèƒ½ã€‚</p><div class="highlight"><pre><code class="language-text">HTTP/RESTgRPCgRPCgRPCgRPCå®¢æˆ·ç«¯Istio Ingress GatewayEnvoy Proxyå¾®æœåŠ¡ Aå¾®æœåŠ¡ Bå¾®æœåŠ¡ CRedisPrometheusGrafanaJaegerElasticsearchKibana
</code></pre></div><p data-pid="OkGQ__cX">ä¸Šé¢çš„å›¾å±•ç¤ºäº†Istioçš„å®Œæ•´æ¶æ„ï¼Œå…¶ä¸­å®¢æˆ·ç«¯é€šè¿‡HTTP/RESTåè®®ä¸Istio Ingress Gatewayé€šä¿¡ï¼ŒIstio Ingress Gatewayè´Ÿè´£è·¯ç”±è¯·æ±‚å¹¶å°†è¯·æ±‚å‘é€åˆ°Envoy Proxyï¼ŒEnvoy Proxyè´Ÿè´£å°†è¯·æ±‚è½¬å‘åˆ°å¯¹åº”çš„å¾®æœåŠ¡ä¸Šã€‚åŒæ—¶ï¼ŒEnvoy Proxyé€šè¿‡sidecaræ¨¡å¼ä¸Jaegerã€Prometheusã€Grafanaç­‰ç›‘æ§å·¥å…·è¿›è¡Œé€šä¿¡ï¼Œå®ç°å¯¹æœåŠ¡çš„å¯è§‚å¯Ÿæ€§ç›‘æ§ã€‚æ­¤å¤–ï¼Œå¾®æœåŠ¡Aã€Bã€Cè¿˜é€šè¿‡Redisè¿›è¡Œæ•°æ®å…±äº«ï¼ŒEnvoy Proxyå¯ä»¥é€šè¿‡Redisè¿›è¡Œæµé‡æ§åˆ¶å’Œæ•…éšœæ³¨å…¥ç­‰é«˜çº§æµé‡ç®¡ç†åŠŸèƒ½ã€‚</p><h3><b>ç°åº¦å‘å¸ƒ</b></h3><p data-pid="bEreax6O">ç°åº¦å‘å¸ƒæ˜¯ä¸€ç§é€æ­¥å°†æ–°ç‰ˆæœ¬æœåŠ¡å¼•å…¥ç”Ÿäº§ç¯å¢ƒçš„æ–¹å¼ã€‚åœ¨ç°åº¦å‘å¸ƒä¸­ï¼Œå¯ä»¥å°†éƒ¨åˆ†æµé‡å¼•å¯¼åˆ°æ–°ç‰ˆæœ¬æœåŠ¡ï¼Œé€æ­¥éªŒè¯æ–°ç‰ˆæœ¬çš„ç¨³å®šæ€§å’Œå¯ç”¨æ€§ã€‚æœ€ç»ˆå®ç°å…¨é‡å‡çº§ã€‚Istioæ”¯æŒåŸºäºç”¨æˆ·IDï¼ŒæºIPï¼ŒHTTPå¤´ç­‰å¤šç§æ–¹å¼è¿›è¡Œæµé‡è·¯ç”±ã€‚è¿™äº›æµé‡è§„åˆ™å¯ä»¥é€šè¿‡Istioçš„æµé‡ç®¡ç†åŠŸèƒ½è¿›è¡Œé…ç½®å’Œç®¡ç†ã€‚</p><h3><b>æµé‡æ§åˆ¶</b></h3><p data-pid="aGEkzT_S">Istioæ”¯æŒå¯¹æœåŠ¡çš„æµé‡è¿›è¡Œæ§åˆ¶ï¼ŒåŒ…æ‹¬é™æµï¼Œè¶…æ—¶æ§åˆ¶ï¼Œé‡è¯•ç­‰åŠŸèƒ½ã€‚å¯ä»¥é€šè¿‡Istioçš„æµé‡è§„åˆ™ï¼Œå¯¹ä¸åŒçš„æœåŠ¡è¿›è¡Œä¸åŒçš„æµé‡æ§åˆ¶ç­–ç•¥ï¼Œä»¥ä¿éšœæœåŠ¡çš„ç¨³å®šæ€§å’Œå¯ç”¨æ€§ã€‚é€šè¿‡Istioçš„æµé‡æ§åˆ¶åŠŸèƒ½ï¼Œå¯ä»¥å¸®åŠ©ä¼ä¸šå¿«é€Ÿæ„å»ºé«˜å¯ç”¨ï¼Œé«˜æ€§èƒ½çš„å¾®æœåŠ¡æ¶æ„ã€‚</p><h3><b>æ•…éšœæ³¨å…¥</b></h3><p data-pid="7iL3ss5f">Istioå¯ä»¥é€šè¿‡æµé‡è§„åˆ™ï¼Œæ¨¡æ‹ŸæœåŠ¡æ•…éšœï¼Œä»¥ä¾¿æµ‹è¯•æœåŠ¡çš„å®¹é”™æ€§å’Œå¯ç”¨æ€§ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥é€šè¿‡Istioå°†ä¸€å®šæ¯”ä¾‹çš„æµé‡å¼•å¯¼åˆ°æ•…éšœæœåŠ¡ä¸Šï¼ŒéªŒè¯æœåŠ¡çš„é™çº§å’Œè‡ªæ„ˆèƒ½åŠ›ã€‚è¿™äº›æµé‡è§„åˆ™å¯ä»¥é€šè¿‡Istioçš„æµé‡ç®¡ç†åŠŸèƒ½è¿›è¡Œé…ç½®å’Œç®¡ç†ã€‚</p><h3><b>æµé‡é•œåƒ</b></h3><p data-pid="I4XhqzIP">Istioæ”¯æŒæµé‡é•œåƒåŠŸèƒ½ï¼Œå°†ä¸€éƒ¨åˆ†æµé‡é•œåƒåˆ°å¦ä¸€ä¸ªæœåŠ¡ä¸­ï¼Œä»¥ä¾¿æµ‹è¯•æ–°æœåŠ¡çš„æ€§èƒ½å’Œå¯ç”¨æ€§ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥å°†ä¸€å®šæ¯”ä¾‹çš„æµé‡é•œåƒåˆ°æ–°æœåŠ¡ä¸­ï¼Œå¯¹æ–°æœåŠ¡è¿›è¡ŒéªŒè¯å’Œæµ‹è¯•ã€‚è¿™äº›æµé‡é•œåƒè§„åˆ™ä¹Ÿå¯ä»¥é€šè¿‡Istioçš„æµé‡ç®¡ç†åŠŸèƒ½è¿›è¡Œé…ç½®å’Œç®¡ç†ã€‚</p><h2><b>å¯è§‚å¯Ÿæ€§</b></h2><p data-pid="wM-UibJr">Istioé€šè¿‡Envoyä»£ç†å®ç°å¯¹æœåŠ¡çš„æµé‡ç›‘æ§ï¼Œå¯ä»¥å®æ—¶æ”¶é›†æœåŠ¡çš„æµé‡æ•°æ®ï¼ŒåŒ…æ‹¬è¯·æ±‚é‡ï¼ŒæˆåŠŸç‡ï¼Œå“åº”æ—¶é—´ç­‰æŒ‡æ ‡ï¼Œä»¥ä¾¿è¿›è¡Œæ€§èƒ½å’Œå®¹é‡è§„åˆ’ã€‚åŒæ—¶ï¼ŒIstioæ”¯æŒå¯¹æœåŠ¡çš„è¯·æ±‚è¿›è¡Œè¿½è¸ªå’Œåˆ†æï¼Œä»¥ä¾¿å¿«é€Ÿå®šä½å’Œè§£å†³é—®é¢˜ã€‚è¿™äº›ç›‘æ§å’Œè¯Šæ–­åŠŸèƒ½å¯ä»¥é€šè¿‡Istioçš„å¯è§‚å¯Ÿæ€§ç®¡ç†åŠŸèƒ½è¿›è¡Œé…ç½®å’Œç®¡ç†ã€‚</p><p data-pid="9RPFabB8">è°ˆè®ºåˆ°å¯è§‚å¯Ÿæ€§ï¼Œæ°¸è¿œéƒ½æ˜¯è¿™ä¹ˆå‡ ä¸ªï¼Œç›‘æ§æŒ‡æ ‡ã€æ—¥å¿—ä»¥åŠåˆ†å¸ƒå¼è¿½è¸ªã€‚</p><h3><b>ç›‘æ§æŒ‡æ ‡</b></h3><p data-pid="Q9mbTeE-">lstio åŸºäº4ä¸ªç›‘æ§çš„é»„é‡‘æ ‡è¯†(å»¶è¿Ÿã€æµé‡ã€é”™è¯¯ã€é¥±å’Œ)ç”Ÿæˆäº†ä¸€ç³»åˆ—æœåŠ¡æŒ‡æ ‡ã€‚Istioè¿˜ä¸ºç½‘æ ¼æ§åˆ¶å¹³é¢æä¾›äº†æ›´è¯¦ç»†çš„æŒ‡æ ‡ã€‚é™¤æ­¤ä»¥å¤–è¿˜æä¾›äº†- -ç»„é»˜è®¤çš„åŸºäºè¿™äº›æŒ‡æ ‡çš„ç½‘æ ¼ç›‘æ§ä»ªè¡¨æ¿ </p><p data-pid="IDY2RMHh">Istioé€šè¿‡Prometheuså®ç°å¯¹æœåŠ¡çš„ç›‘æ§ï¼Œå¯ä»¥å®æ—¶æ”¶é›†æœåŠ¡çš„æµé‡æ•°æ®ï¼ŒåŒ…æ‹¬è¯·æ±‚é‡ï¼ŒæˆåŠŸç‡ï¼Œå“åº”æ—¶é—´ç­‰æŒ‡æ ‡ã€‚å¯ä»¥é€šè¿‡Istioçš„ç›‘æ§ç®¡ç†åŠŸèƒ½è¿›è¡Œé…ç½®å’Œç®¡ç†ã€‚</p><h3><b>æ—¥å¿—</b></h3><p data-pid="8X3SlQVJ">Istioé€šè¿‡Envoyä»£ç†å®ç°å¯¹æœåŠ¡çš„æ—¥å¿—æ”¶é›†ï¼Œå¯ä»¥æ”¶é›†æœåŠ¡çš„è¯·æ±‚å’Œå“åº”ä¿¡æ¯ï¼Œä»¥ä¾¿è¿›è¡Œè¿½è¸ªå’Œåˆ†æã€‚å¯ä»¥é€šè¿‡Istioçš„æ—¥å¿—ç®¡ç†åŠŸèƒ½è¿›è¡Œé…ç½®å’Œç®¡ç†ã€‚</p><p data-pid="tVvw1CBO">å½“æµé‡æµå…¥ç½‘æ ¼ä¸­çš„æœåŠ¡æ—¶ï¼ŒIstio å¯ä»¥ç”Ÿæˆæ¯ä¸ªè¯·æ±‚çš„å®Œæ•´è®°å½•,åŒ…æ‹¬æºå’Œç›®æ ‡çš„å…ƒæ•°æ®ã€‚æ­¤ä¿¡æ¯ä½¿è¿ç»´äººå‘˜èƒ½å¤Ÿå°†æœåŠ¡è¡Œä¸ºçš„å®¡æŸ¥æ§åˆ¶åˆ°å•ä¸ªå·¥ä½œè´Ÿè½½å®ä¾‹çš„çº§åˆ«ã€‚</p><h3><b>åˆ†å¸ƒå¼è¿½è¸ª</b></h3><p data-pid="vPVxLice">Istio ä¸ºæ¯ä¸ªæœåŠ¡ç”Ÿæˆåˆ†å¸ƒå¼è¿½è¸ªspan,è¿ç»´äººå‘˜å¯ä»¥ç†è§£ç½‘æ ¼å†…æœåŠ¡çš„ä¾èµ–å’Œè°ƒç”¨æµç¨‹ã€‚</p><p data-pid="wPOgEy7X">Istioé€šè¿‡Jaegerå®ç°å¯¹æœåŠ¡çš„åˆ†å¸ƒå¼è¿½è¸ªï¼Œå¯ä»¥è¿½è¸ªæœåŠ¡çš„è¯·æ±‚é“¾è·¯ï¼Œä»¥ä¾¿å¿«é€Ÿå®šä½å’Œè§£å†³é—®é¢˜ã€‚å¯ä»¥é€šè¿‡Istioçš„è¿½è¸ªç®¡ç†åŠŸèƒ½è¿›è¡Œé…ç½®å’Œç®¡ç†ã€‚</p><h2><b>Istio æ¶æ„æ¼”è¿›</b></h2><p data-pid="NDmcDp7v">æ•°æ®å¹³é¢:</p><ul><li data-pid="C3yHqLYO">ç”±ä¸€ç»„ä»¥Sidecaræ–¹å¼éƒ¨ç½²çš„æ™ºèƒ½ä»£ç†(Envoy) ç»„æˆã€‚è¿™äº›ä»£ç†å¯ä»¥è°ƒèŠ‚å’Œæ§åˆ¶å¾®æœåŠ¡åŠMixerä¹‹é—´æ‰€æœ‰çš„ç½‘ç»œé€šä¿¡ã€‚</li></ul><p data-pid="VAQ9qWAm">æ§åˆ¶å¹³é¢:</p><ul><li data-pid="xFbH69Vt">è´Ÿè´£ç®¡ç†å’Œé…ç½®ä»£ç†æ¥è·¯ç”±æµé‡ã€‚æ­¤å¤–æ§åˆ¶å¹³é¢é…ç½®Mixerä»¥å®æ–½ç­–ç•¥å’Œæ”¶é›†é¥æµ‹æ•°æ®ã€‚</li></ul><p data-pid="j36AfFKy">æ¶æ„æ¼”è¿›:</p><ul><li data-pid="_uQvIodb">ä»å¾®æœåŠ¡å›å½’å•ä½“</li></ul><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-6fc3febf6c31768a681c6f36c8ad61c1_r.jpg" data-caption="" data-size="normal" width="1614" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p data-pid="ETZgDFZ6">Istioæœ‰ä¸‰ä¸ªæ§åˆ¶å¹³é¢ç»„ä»¶ï¼šPilotã€Mixerå’ŒCitadelã€‚</p><ul><li data-pid="kNPc3q1J"><b>Pilot</b>ï¼šè´Ÿè´£æµé‡ç®¡ç†ï¼ŒåŒ…æ‹¬æµé‡è·¯ç”±ã€æµé‡è½¬ç§»ã€è¯·æ±‚é‡è¯•ã€æ•…éšœæ³¨å…¥ã€æµé‡é•œåƒç­‰åŠŸèƒ½ã€‚Pilotå°†æµé‡ç®¡ç†è§„åˆ™ä¸‹å‘åˆ°Envoyä»£ç†ï¼Œæ§åˆ¶æµé‡çš„è½¬å‘å’Œç­–ç•¥çš„æ‰§è¡Œã€‚</li><li data-pid="29okTWbC"><b>Mixer</b>ï¼šè´Ÿè´£ç­–ç•¥å’Œé¥æµ‹æ•°æ®æ”¶é›†ã€‚Mixeræä¾›äº†ä¸€ä¸ªæ’ä»¶æ¡†æ¶ï¼Œå¯ä»¥ä½¿ç”¨æ’ä»¶æ¥å®ç°ç­–ç•¥åŠŸèƒ½ï¼Œå¦‚è¯·æ±‚è®¤è¯ã€è®¿é—®æ§åˆ¶ã€é…é¢ç®¡ç†ç­‰ã€‚åŒæ—¶ï¼ŒMixerè¿˜è´Ÿè´£æ”¶é›†æœåŠ¡çš„é¥æµ‹æ•°æ®ï¼Œå¦‚è¯·æ±‚é‡ã€é”™è¯¯ç‡ã€å»¶è¿Ÿç­‰æŒ‡æ ‡ã€‚</li><li data-pid="Fh7dAx5t"><b>Citadel</b>ï¼šè´Ÿè´£æœåŠ¡ä¹‹é—´çš„è®¤è¯å’Œæˆæƒã€‚Citadelä¸ºæ¯ä¸ªæœåŠ¡ç”Ÿæˆè¯ä¹¦ï¼Œå¹¶å°†è¯ä¹¦ä¸‹å‘åˆ°æœåŠ¡çš„Sidecarä»£ç†ä¸­ã€‚Sidecarä»£ç†ä½¿ç”¨è¯ä¹¦æ¥è¿›è¡ŒæœåŠ¡ä¹‹é—´çš„å®‰å…¨é€šä¿¡ï¼ŒåŒæ—¶Citadelè¿˜æä¾›äº†ä¸€ä¸ªAPIï¼Œç”¨äºç®¡ç†è¯ä¹¦å’Œå¯†é’¥ã€‚</li></ul><p data-pid="MgfQEb_V">ä»¥ä¸Šä¸‰ä¸ªæ§åˆ¶å¹³é¢ç»„ä»¶ååŒå·¥ä½œï¼Œå®ç°äº†Istioçš„é«˜çº§æµé‡ç®¡ç†å’Œå®‰å…¨åŠŸèƒ½ã€‚</p><p data-pid="WwzCgB7s">â€‹  æ‰€ä»¥æˆ‘ä»¬åœ¨åšæ¶æ„æ¼”è¿›çš„æ—¶å€™ï¼Œå¯èƒ½ç»å¸¸éœ€è¦å»å¤ç›˜è¿™ä¸ªæ¶æ„åˆ°åº•æ˜¯ä¸æ˜¯å’Œï¼Œç»å¸¸åæ€ã€‚ æœ€å¼€å§‹å¯èƒ½é‡å¿ƒå¾ˆå¤§ï¼Œåé¢å¸Œæœ›åšæ›´å¯æ§çš„äº‹æƒ…ã€‚<br>â€‹</p><p data-pid="jn1ErLBu">&lt;/aside&gt;</p><h2><b>è®¾è®¡ç›®æ ‡</b></h2><p data-pid="BmK22l-h">Istio çš„è®¾è®¡ç†å¿µæ˜¯å°†æœåŠ¡ç½‘æ ¼ä»åº”ç”¨ç¨‹åºä¸­è§£è€¦å‡ºæ¥ï¼Œä»¥ä¾¿å°†æµé‡ç®¡ç†ã€ç­–ç•¥æ‰§è¡Œã€å®‰å…¨æ€§å’Œå¯è§‚å¯Ÿæ€§ä¸åº”ç”¨ç¨‹åºä»£ç åˆ†ç¦»ã€‚è¿™ç§è§£è€¦å…è®¸å¼€å‘äººå‘˜ä¸“æ³¨äºåº”ç”¨ç¨‹åºçš„æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼Œè€Œä¸æ˜¯æµé‡ç®¡ç†å’Œå®‰å…¨æ€§ã€‚Istio çš„è®¾è®¡ç›®æ ‡æ˜¯æä¾›ä¸€ç§çµæ´»çš„ã€å¯æ‰©å±•çš„ã€æ˜“äºéƒ¨ç½²å’Œç»´æŠ¤çš„æœåŠ¡ç½‘æ ¼è§£å†³æ–¹æ¡ˆï¼Œå¯ä»¥é€‚åº”å„ç§ä¸åŒçš„åº”ç”¨åœºæ™¯ã€‚Istio è¿˜æä¾›äº†ä¸°å¯Œçš„æµé‡ç®¡ç†å’Œå®‰å…¨åŠŸèƒ½ï¼ŒåŒ…æ‹¬æµé‡è·¯ç”±ã€æµé‡æ§åˆ¶ã€æ•…éšœæ³¨å…¥ã€ç°åº¦å‘å¸ƒã€æµé‡é•œåƒã€è®¤è¯å’Œæˆæƒç­‰åŠŸèƒ½ã€‚åŒæ—¶ï¼ŒIstio è¿˜æä¾›äº†å¼ºå¤§çš„ç›‘æ§å’Œè¯Šæ–­åŠŸèƒ½ï¼Œå¯ä»¥å¸®åŠ©ä¼ä¸šå¿«é€Ÿå‘ç°å’Œè§£å†³é—®é¢˜ï¼Œæé«˜æœåŠ¡çš„å¯ç”¨æ€§å’Œå¯é æ€§ã€‚</p><h3><b>ç­–ç•¥ä¸€è‡´æ€§</b></h3><p data-pid="BzC_iKrh">Istio çš„ç­–ç•¥ä¸€è‡´æ€§æŒ‡çš„æ˜¯ï¼Œä¸€æ—¦åˆ¶å®šäº†ç­–ç•¥ï¼Œå°±ä¼šåœ¨æ•´ä¸ªæœåŠ¡ç½‘æ ¼ä¸­å¾—åˆ°å¼ºåˆ¶æ‰§è¡Œï¼Œæ— è®ºåœ¨å“ªä¸ªæ•°æ®å¹³é¢ä¸­è¿è¡Œã€‚è¿™ç§ä¸€è‡´æ€§å¯ä»¥ç¡®ä¿æœåŠ¡ç½‘æ ¼ä¸­çš„æ‰€æœ‰æœåŠ¡éƒ½éµå¾ªç›¸åŒçš„ç­–ç•¥ï¼Œä»è€Œæé«˜æœåŠ¡çš„å®‰å…¨æ€§å’Œå¯é æ€§ã€‚Istio é€šè¿‡æ§åˆ¶å¹³é¢ä¸­çš„ Mixer ç»„ä»¶æ¥å®ç°ç­–ç•¥ä¸€è‡´æ€§ï¼ŒMixer è´Ÿè´£æ”¶é›†é¥æµ‹æ•°æ®å’Œå®æ–½ç­–ç•¥ï¼Œå¯ä»¥ä¸ºæ•´ä¸ªæœåŠ¡ç½‘æ ¼æä¾›ä¸€è‡´çš„ç­–ç•¥æ‰§è¡Œã€‚</p><h3><b>å¯ç§»æ¤æ€§</b></h3><p data-pid="rdpFBltR">Istio çš„å¯ç§»æ¤æ€§æŒ‡çš„æ˜¯ï¼Œå¯ä»¥åœ¨ä¸åŒçš„æ•°æ®å¹³é¢ä¸Šè¿è¡Œ Istioï¼Œè€Œä¸éœ€è¦é‡æ–°ç¼–å†™æˆ–ä¿®æ”¹åº”ç”¨ç¨‹åºä»£ç ã€‚è¿™ç§å¯ç§»æ¤æ€§å¯ä»¥å¸®åŠ©ä¼ä¸šå¿«é€Ÿéƒ¨ç½²å’Œæ‰©å±•æœåŠ¡ç½‘æ ¼ï¼ŒåŒæ—¶é™ä½ç»´æŠ¤æˆæœ¬ã€‚Istio ä½¿ç”¨ Envoy ä½œä¸ºæ•°æ®å¹³é¢ï¼ŒEnvoy æ˜¯ä¸€ä¸ªé€šç”¨çš„ä»£ç†ï¼Œå¯ä»¥ä¸å¤šç§è¯­è¨€å’Œæ¡†æ¶è¿›è¡Œäº¤äº’ï¼Œä»è€Œå®ç° Istio çš„å¯ç§»æ¤æ€§ã€‚æ­¤å¤–ï¼ŒIstio è¿˜æä¾›äº†ä¸°å¯Œçš„ API å’Œæ’ä»¶ï¼Œå¯ä»¥ä¸ä¸åŒçš„æ•°æ®å¹³é¢é›†æˆï¼Œä»è€Œå®ç° Istio çš„å¯æ‰©å±•æ€§å’Œå¯å®šåˆ¶æ€§ã€‚</p><h2><b>å®‰å…¨æ€§</b></h2><p data-pid="9dO7hMDS">Istioé€šè¿‡Envoyä»£ç†å®ç°å¯¹æœåŠ¡çš„å®‰å…¨æ€§ç®¡ç†ï¼ŒåŒ…æ‹¬æœåŠ¡é—´çš„è®¤è¯ï¼Œæˆæƒï¼ŒåŠ å¯†ç­‰åŠŸèƒ½ã€‚å¯ä»¥é€šè¿‡Istioçš„å®‰å…¨è§„åˆ™ï¼Œå¯¹ä¸åŒçš„æœåŠ¡è¿›è¡Œä¸åŒçš„å®‰å…¨ç­–ç•¥ï¼Œä»¥ä¿éšœæœåŠ¡çš„å®‰å…¨æ€§ã€‚Istioçš„å®‰å…¨æ€§ç®¡ç†åŠŸèƒ½å¯ä»¥å¸®åŠ©ä¼ä¸šå¿«é€Ÿæ„å»ºé«˜å®‰å…¨æ€§çš„å¾®æœåŠ¡æ¶æ„ã€‚</p><p data-pid="CJ4NZEIM">â€‹  Istioæ”¯æŒæœåŠ¡é—´çš„è®¤è¯åŠŸèƒ½ï¼Œå¯ä»¥å¯¹æœåŠ¡è¿›è¡Œèº«ä»½éªŒè¯ï¼Œä»¥ä¿éšœæœåŠ¡é—´çš„å®‰å…¨æ€§ã€‚å¯ä»¥é€šè¿‡Istioçš„è®¤è¯ç®¡ç†åŠŸèƒ½è¿›è¡Œé…ç½®å’Œç®¡ç†ã€‚<br>â€‹</p><p data-pid="FG2SWc4B">&lt;/aside&gt;</p><p data-pid="LtyVqUrQ">â€‹  Istioæ”¯æŒå¯¹æœåŠ¡çš„æˆæƒåŠŸèƒ½ï¼Œå¯ä»¥æ§åˆ¶æœåŠ¡çš„è®¿é—®æƒé™ï¼Œä»¥ä¿éšœæœåŠ¡çš„å®‰å…¨æ€§ã€‚å¯ä»¥é€šè¿‡Istioçš„æˆæƒç®¡ç†åŠŸèƒ½è¿›è¡Œé…ç½®å’Œç®¡ç†ã€‚<br>â€‹</p><p data-pid="VAyMDR2E">&lt;/aside&gt;</p><p data-pid="8YR2MsFe">â€‹  Istioæ”¯æŒå¯¹æœåŠ¡çš„åŠ å¯†åŠŸèƒ½ï¼Œå¯ä»¥å¯¹æœåŠ¡é—´çš„é€šä¿¡è¿›è¡ŒåŠ å¯†ï¼Œä»¥ä¿éšœæœåŠ¡é—´çš„æ•°æ®å®‰å…¨æ€§ã€‚å¯ä»¥é€šè¿‡Istioçš„åŠ å¯†ç®¡ç†åŠŸèƒ½è¿›è¡Œé…ç½®å’Œç®¡ç†ã€‚<br>â€‹</p><p data-pid="VtCiOHTJ">&lt;/aside&gt;</p><h2><b>æ•°æ®å¹³é¢ Envoy</b></h2><table data-draft-node="block" data-draft-type="table" data-size="normal" data-row-style="normal"><tbody><tr><th>ä»£ç†åç§°</th><th>å¼€å‘è¯­è¨€</th><th>åŠŸèƒ½ç‰¹ç‚¹</th><th>æ”¯æŒçš„ç‰¹æ€§</th><th>GitHubåœ°å€</th></tr><tr><td>HAProxy</td><td>C</td><td>é«˜æ€§èƒ½ã€ç¨³å®šæ€§å¥½</td><td>HTTP2ã€Rate Limitã€ACLã€Connection draining</td><td><a href="https://github.com/haproxy/haproxy" target="_blank"><span class="invisible">https://</span><span class="visible">github.com/haproxy/hapr</span><span class="invisible">oxy</span><span class="ellipsis"></span></a></td></tr><tr><td>Nginx</td><td>C</td><td>é«˜æ€§èƒ½ã€æ”¯æŒåå‘ä»£ç†å’Œè´Ÿè½½å‡è¡¡</td><td>HTTP2ã€Rate Limitã€ACLã€Connection draining</td><td><a href="https://github.com/nginx/nginx" target="_blank"><span class="invisible">https://</span><span class="visible">github.com/nginx/nginx</span><span class="invisible"></span></a></td></tr><tr><td>Apache</td><td>C</td><td>æ”¯æŒå¤šç§ä»£ç†æ¨¡å¼ï¼Œå¦‚æ­£å‘ä»£ç†ã€åå‘ä»£ç†ç­‰</td><td>HTTP2ã€Rate Limitã€ACL</td><td><a href="https://github.com/apache/httpd" target="_blank"><span class="invisible">https://</span><span class="visible">github.com/apache/httpd</span><span class="invisible"></span></a></td></tr><tr><td>Envoy</td><td>C++</td><td>æ”¯æŒå¤šç§åè®®ã€å¤šç§è¯­è¨€ï¼Œå¯æ‰©å±•ã€æ˜“äºç®¡ç†</td><td>HTTP2ã€Rate Limitã€ACLã€Connection draining</td><td><a href="https://github.com/envoyproxy/envoy" target="_blank"><span class="invisible">https://</span><span class="visible">github.com/envoyproxy/e</span><span class="invisible">nvoy</span><span class="ellipsis"></span></a></td></tr><tr><td>Traefik</td><td>Go</td><td>æ”¯æŒå¤šç§åç«¯æœåŠ¡ã€è‡ªåŠ¨å‘ç°ã€åŠ¨æ€é…ç½®</td><td>HTTP2ã€Rate Limitã€ACLã€Connection draining</td><td><a href="https://github.com/traefik/traefik" target="_blank"><span class="invisible">https://</span><span class="visible">github.com/traefik/trae</span><span class="invisible">fik</span><span class="ellipsis"></span></a></td></tr><tr><td>Linkerd</td><td>Scala</td><td>é¢å‘æœåŠ¡ç½‘æ ¼ï¼Œæ”¯æŒå¤šç§åè®®ã€è´Ÿè½½å‡è¡¡ã€æµé‡æ§åˆ¶</td><td>HTTP2ã€Rate Limitã€ACLã€Connection draining</td><td><a href="https://github.com/linkerd/linkerd" target="_blank"><span class="invisible">https://</span><span class="visible">github.com/linkerd/link</span><span class="invisible">erd</span><span class="ellipsis"></span></a></td></tr><tr><td>Kong</td><td>Lua</td><td>åŸºäºNginxï¼Œæ”¯æŒå¤šç§åè®®ã€æ’ä»¶å¯æ‰©å±•</td><td>HTTP2ã€Rate Limitã€ACLã€Connection draining</td><td><a href="https://github.com/Kong/kong" target="_blank"><span class="invisible">https://</span><span class="visible">github.com/Kong/kong</span><span class="invisible"></span></a></td></tr></tbody></table><p data-pid="ZxSK0UBc">å„è‡ªä¼˜åŠ¿å’Œç¼ºç‚¹ï¼š</p><ul><li data-pid="g4PAdFBc">HAProxyï¼šé«˜æ€§èƒ½ã€ä½å»¶è¿Ÿã€æ”¯æŒå¤šç§è´Ÿè½½å‡è¡¡ç®—æ³•ï¼Œä½†ç¼ºä¹æµé‡æ§åˆ¶åŠŸèƒ½ã€‚</li><li data-pid="oj1zVFvj">Nginxï¼šé«˜æ€§èƒ½ã€ç¨³å®šæ€§å¥½ã€æ”¯æŒåå‘ä»£ç†å’Œè´Ÿè½½å‡è¡¡ï¼Œä½†ç¼ºä¹æµé‡æ§åˆ¶åŠŸèƒ½ã€‚</li><li data-pid="mQbA6qg6">Apacheï¼šæ”¯æŒå¤šç§ä»£ç†æ¨¡å¼ï¼Œå¦‚æ­£å‘ä»£ç†ã€åå‘ä»£ç†ç­‰ï¼Œä½†ä¸é€‚åˆé«˜å¹¶å‘åœºæ™¯ã€‚</li><li data-pid="6pO5bV_t">Envoyï¼šæ”¯æŒå¤šç§åè®®ã€å¤šç§è¯­è¨€ï¼Œå¯æ‰©å±•ã€æ˜“äºç®¡ç†ï¼Œæ”¯æŒæµé‡æ§åˆ¶ã€æ•…éšœæ³¨å…¥ã€ç°åº¦å‘å¸ƒç­‰é«˜çº§åŠŸèƒ½ã€‚</li><li data-pid="tJSr01g3">Traefikï¼šæ”¯æŒå¤šç§åç«¯æœåŠ¡ã€è‡ªåŠ¨å‘ç°ã€åŠ¨æ€é…ç½®ï¼Œæ˜“äºä½¿ç”¨ï¼Œä½†ç¼ºä¹çµæ´»æ€§ã€‚</li><li data-pid="meCEutqY">Linkerdï¼šé¢å‘æœåŠ¡ç½‘æ ¼ï¼Œæ”¯æŒå¤šç§åè®®ã€è´Ÿè½½å‡è¡¡ã€æµé‡æ§åˆ¶ï¼Œå…·æœ‰è‰¯å¥½çš„å¯è§‚å¯Ÿæ€§ï¼Œä½†æ€§èƒ½å¯èƒ½ä¸å¦‚å…¶ä»–ä»£ç†ã€‚</li><li data-pid="Lz0qxeMa">Kongï¼šåŸºäºNginxï¼Œæ”¯æŒå¤šç§åè®®ã€æ’ä»¶å¯æ‰©å±•ï¼Œå…·æœ‰è‰¯å¥½çš„å¯æ‰©å±•æ€§å’Œå¯é…ç½®æ€§ï¼Œä½†ä¸å¤ªé€‚åˆå¤§è§„æ¨¡éƒ¨ç½²ã€‚</li></ul><table data-draft-node="block" data-draft-type="table" data-size="normal" data-row-style="normal"><tbody><tr><th>Envoy</th><th>Ngnix</th><th>HA Proxy</th></tr><tr><td>HTTP/2</td><td>å¯¹HTTP/2æœ‰æœ€å®Œæ•´çš„æ”¯æŒï¼ŒåŒæ—¶upstreamå’Œdownstream HTTP/2</td><td>ä»1.9.5å¼€å§‹æœ‰é™æ”¯æŒHTTP/2ï¼Œåªåœ¨ upstream æ”¯æŒ HTTP/2,downstream ä¾ç„¶æ˜¯ HTTP/1.1</td></tr><tr><td>Rate Limit</td><td>é€šè¿‡æ’ä»¶æ”¯æŒé™æµ</td><td>æ”¯æŒåŸºäºé…ç½®çš„é™æµï¼Œåªæ”¯æŒåŸºäºæºIPçš„é™æµ</td></tr><tr><td>ACL</td><td>åŸºäºæ’ä»¶å®ç°å››å±‚ACL</td><td>åŸºäºæº/ç›®æ ‡åœ°å€å®ç°ACL</td></tr><tr><td>Connection draining</td><td>æ”¯æŒ hot reload,å¹¶ä¸”é€šè¿‡ share memory å®ç° connection draining çš„åŠŸèƒ½</td><td>Nginx Plusæ”¶è´¹ç‰ˆæ”¯æŒconnection draining</td></tr></tbody></table><h3><b>Envoy çš„ä¼˜åŠ¿</b></h3><ul><li data-pid="7iIdDivd"><a href="https://github.com/envoyproxy/envoy" target="_blank"><span class="invisible">https://</span><span class="visible">github.com/envoyproxy/e</span><span class="invisible">nvoy</span><span class="ellipsis"></span></a></li></ul><p data-pid="X-gOpX8L">Envoy ä½œä¸º Istio çš„æ•°æ®å¹³é¢ä»£ç†ï¼Œå…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š</p><ul><li data-pid="7k1NYqlq">é«˜æ€§èƒ½ï¼šEnvoy é‡‡ç”¨äº†å¤šç§æŠ€æœ¯ï¼Œå¦‚å¼‚æ­¥ I/Oã€çº¿ç¨‹æ± å’Œå†…å­˜æ± ç­‰æŠ€æœ¯ï¼Œå¯ä»¥å¤„ç†é«˜å¹¶å‘çš„è¯·æ±‚ï¼ŒåŒæ—¶å‡å°‘ CPU å’Œå†…å­˜çš„ä½¿ç”¨ã€‚</li><li data-pid="qZiDqp3z">å¯æ‰©å±•æ€§ï¼šEnvoy æ”¯æŒå¤šç§åè®®ã€å¤šç§è¯­è¨€å’Œå¯æ‰©å±•çš„æ’ä»¶æœºåˆ¶ï¼Œå¯ä»¥æ»¡è¶³ä¸åŒæœåŠ¡çš„éœ€æ±‚ï¼Œä»è€Œå®ç° Istio çš„é«˜çº§æµé‡ç®¡ç†å’Œå®‰å…¨åŠŸèƒ½ã€‚</li><li data-pid="ePehOuop">API å¯é…ç½®æ€§ï¼šEnvoy æä¾›äº†ä¸°å¯Œçš„ API å’Œé…ç½®é€‰é¡¹ï¼Œå¯ä»¥æ ¹æ®ä¸šåŠ¡éœ€æ±‚è¿›è¡Œçµæ´»çš„é…ç½®å’Œç®¡ç†ï¼Œä¾‹å¦‚å¯ä»¥è¿›è¡Œæµé‡æ§åˆ¶ã€æ•…éšœæ³¨å…¥ã€å®‰å…¨ç­–ç•¥ç­‰ã€‚</li></ul><p data-pid="5GHgawt7">é™¤æ­¤ä¹‹å¤–ï¼ŒEnvoy è¿˜å…·æœ‰æ˜“äºç®¡ç†ã€å¯ç§»æ¤æ€§å¼ºç­‰ä¼˜åŠ¿ï¼Œå¯ä»¥ä¸å¤šç§è¯­è¨€å’Œæ¡†æ¶è¿›è¡Œäº¤äº’ï¼Œä»è€Œå®ç° Istio çš„å¯ç§»æ¤æ€§å’Œå¯æ‰©å±•æ€§ã€‚ä¼ä¸šå¯ä»¥é€šè¿‡ Istio çš„ç®¡ç†å¹³å°é…ç½®å’Œç®¡ç† Envoy çš„è¿™äº›ä¼˜åŠ¿ï¼Œä½¿å¾—ä¼ä¸šèƒ½å¤Ÿæ›´åŠ çµæ´»å’Œé«˜æ•ˆåœ°ç®¡ç†è‡ªå·±çš„å¾®æœåŠ¡æ¶æ„ã€‚éšç€ä¼ä¸šå¯¹å¾®æœåŠ¡æ¶æ„çš„éœ€æ±‚ä¸æ–­å¢é•¿ï¼ŒEnvoy çš„ä¼˜åŠ¿å°†æˆä¸ºä¼ä¸šæ„å»ºå¾®æœåŠ¡æ¶æ„çš„é‡è¦é€‰æ‹©ä¹‹ä¸€ã€‚</p><div class="highlight"><pre><code class="language-text">EnvoyNetwork FiltersEnvoyHTTP Connection ManagerTCP ProxyAccess LoggingStats LoggingTracingCluster ManagerSDS/ADSSecret Discovery ServiceRate LimitingHTTP FiltersTCP FiltersRoutesVirtual HostsFiltersLoad BalancerHealth CheckingCircuit BreakingOutlier Detection
</code></pre></div><h3><b>Envoy çš„çº¿ç¨‹æ¨¡å¼</b></h3><p data-pid="8vK6k1lS">Envoy é‡‡ç”¨äº† <b>å•è¿›ç¨‹å¤šçº¿ç¨‹</b> çš„è®¾è®¡ï¼Œå¯ä»¥å……åˆ†åˆ©ç”¨ç°ä»£ CPU çš„å¤šæ ¸ä¼˜åŠ¿ï¼ŒåŒæ—¶é¿å…äº†å•çº¿ç¨‹çš„æ€§èƒ½ç“¶é¢ˆã€‚Envoy çš„çº¿ç¨‹æ¨¡å¼åŒ…æ‹¬ä»¥ä¸‹å‡ ç§ï¼š</p><ul><li data-pid="OL70o17e">Main çº¿ç¨‹ï¼šè´Ÿè´£ Envoy çš„å¯åŠ¨å’Œé…ç½®ï¼Œä»¥åŠç®¡ç†å…¶ä»–çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸã€‚</li><li data-pid="FIcjsN-N">Listener çº¿ç¨‹ï¼šè´Ÿè´£å¤„ç†ç½‘ç»œè¿æ¥çš„ I/O æ“ä½œï¼ŒåŒ…æ‹¬ç›‘å¬ç«¯å£ã€æ¥æ”¶è¿æ¥ã€è¯»å†™æ•°æ®ç­‰ã€‚</li><li data-pid="2D_QbM8o">Worker çº¿ç¨‹ï¼šè´Ÿè´£å¤„ç†å…·ä½“çš„è¯·æ±‚å’Œå“åº”ï¼ŒåŒ…æ‹¬è·¯ç”±ã€è¿‡æ»¤å™¨ã€è´Ÿè½½å‡è¡¡ç­‰åŠŸèƒ½ã€‚</li><li data-pid="hIQtnLMl">File çº¿ç¨‹ï¼šè´Ÿè´£å¤„ç†æ–‡ä»¶ I/O æ“ä½œï¼Œå¦‚æ—¥å¿—å†™å…¥ã€TLS è¯ä¹¦åŠ è½½ç­‰ã€‚</li><li data-pid="M0KSmjwL">Admin çº¿ç¨‹ï¼šè´Ÿè´£å¤„ç† Envoy çš„ç®¡ç†å‘½ä»¤ï¼Œå¦‚æŸ¥çœ‹çŠ¶æ€ã€ä¿®æ”¹é…ç½®ç­‰ã€‚</li></ul><p data-pid="VROe9bQf">Envoy çš„çº¿ç¨‹æ¨¡å¼å¯ä»¥æ ¹æ®ä¸šåŠ¡éœ€æ±‚è¿›è¡Œçµæ´»çš„é…ç½®å’Œè°ƒæ•´ï¼Œä»è€Œå®ç°æ›´å¥½çš„æ€§èƒ½å’Œèµ„æºåˆ©ç”¨ç‡ã€‚åŒæ—¶ï¼ŒEnvoy è¿˜æä¾›äº†ä¸°å¯Œçš„ API å’Œæ’ä»¶æœºåˆ¶ï¼Œå¯ä»¥æ‰©å±•çº¿ç¨‹æ¨¡å¼ï¼Œå®ç°æ›´å¤æ‚çš„åŠŸèƒ½å’Œåœºæ™¯ã€‚ä¼ä¸šå¯ä»¥é€šè¿‡ Istio çš„ç®¡ç†å¹³å°é…ç½®å’Œç®¡ç† Envoy çš„çº¿ç¨‹æ¨¡å¼ï¼Œä½¿å¾—ä¼ä¸šèƒ½å¤Ÿæ›´åŠ çµæ´»å’Œé«˜æ•ˆåœ°ç®¡ç†è‡ªå·±çš„å¾®æœåŠ¡æ¶æ„ã€‚</p><p data-pid="yqXPbkOm">å½“æŸä¸ªè¿æ¥è¢«ç›‘æ§å™¨æ¥æ”¶ï¼Œé‚£ä¹ˆè¯¥è¿æ¥çš„å…¨éƒ¨ç”Ÿå‘½å‘¨æœŸä¼šä¸æŸçº¿ç¨‹ç»‘å®šã€‚</p><h3><b>Envoy åŸºäºéé˜»å¡æ¨¡å¼ ï¼ˆEpoll)</b></h3><p data-pid="lxPw5cbm">Epoll æ˜¯ä¸€ç§é«˜æ€§èƒ½çš„ I/O å¤šè·¯å¤ç”¨æœºåˆ¶ï¼Œç”¨äºå¤„ç†å¤§é‡è¿æ¥çš„é«˜å¹¶å‘åœºæ™¯ã€‚åœ¨ä¼ ç»Ÿçš„ select å’Œ poll æœºåˆ¶ä¸­ï¼Œæ¯æ¬¡éœ€è¦éå†æ•´ä¸ªæ–‡ä»¶æè¿°ç¬¦é›†åˆæ¥å¯»æ‰¾æœ‰äº‹ä»¶å‘ç”Ÿçš„æè¿°ç¬¦ï¼Œè¿™æ ·ä¼šé€ æˆæ•ˆç‡ä½ä¸‹å’Œèµ„æºæµªè´¹ã€‚è€Œ Epoll é‡‡ç”¨äº†äº‹ä»¶é€šçŸ¥çš„æ–¹å¼ï¼Œåªæœ‰åœ¨æœ‰äº‹ä»¶å‘ç”Ÿæ—¶æ‰ä¼šé€šçŸ¥ç”¨æˆ·ç¨‹åºï¼Œä»è€Œå¤§å¤§æé«˜äº†æ•ˆç‡å’Œæ€§èƒ½ã€‚</p><p data-pid="VMcwlTlU">Epoll çš„æ ¸å¿ƒæ˜¯ä¸€ä¸ªäº‹ä»¶è¡¨ï¼Œç”¨äºå­˜æ”¾æ‰€æœ‰è¦ç›‘æ§çš„æ–‡ä»¶æè¿°ç¬¦å’Œå¯¹åº”çš„äº‹ä»¶ç±»å‹ã€‚å®ƒåŒ…æ‹¬ä¸‰ä¸ª API å‡½æ•°ï¼šepoll_createã€epoll_ctl å’Œ epoll_waitã€‚å…¶ä¸­ï¼Œepoll_create ç”¨äºåˆ›å»ºä¸€ä¸ªæ–°çš„ epoll å®ä¾‹ï¼Œepoll_ctl ç”¨äºæ·»åŠ /ä¿®æ”¹/åˆ é™¤ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦åˆ° epoll å®ä¾‹ä¸­ï¼Œepoll_wait ç”¨äºç­‰å¾…æ–‡ä»¶æè¿°ç¬¦ä¸Šçš„ I/O äº‹ä»¶ï¼Œå¹¶è¿”å›å°±ç»ªçš„æ–‡ä»¶æè¿°ç¬¦åˆ—è¡¨ã€‚</p><p data-pid="7u4QYTHL"><b>ä¸ä¼ ç»Ÿçš„ select å’Œ poll ç›¸æ¯”ï¼ŒEpoll å…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š</b></p><ol><li data-pid="u84EO21h">é«˜æ•ˆæ€§ï¼šEpoll é‡‡ç”¨äº†äº‹ä»¶é€šçŸ¥çš„æ–¹å¼ï¼Œåªæœ‰åœ¨æœ‰äº‹ä»¶å‘ç”Ÿæ—¶æ‰ä¼šé€šçŸ¥ç”¨æˆ·ç¨‹åºï¼Œä»è€Œé¿å…äº†è½®è¯¢æ•´ä¸ªæ–‡ä»¶æè¿°ç¬¦é›†åˆçš„å¼€é”€ï¼ŒåŒæ—¶ä¹Ÿå‡å°‘äº†å†…æ ¸å’Œç”¨æˆ·ç¨‹åºä¹‹é—´çš„ä¸Šä¸‹æ–‡åˆ‡æ¢æ¬¡æ•°ï¼Œä»è€Œæé«˜äº†æ•ˆç‡å’Œæ€§èƒ½ã€‚</li><li data-pid="L4B5U76w">å¯æ‰©å±•æ€§ï¼šEpoll å¯ä»¥æ”¯æŒæ•°åä¸‡ä¸ªè¿æ¥å¹¶å‘å¤„ç†ï¼Œé€šè¿‡ä¿®æ”¹äº‹ä»¶è¡¨çš„å¤§å°å’Œè°ƒæ•´å†…éƒ¨æ•°æ®ç»“æ„å¯ä»¥å®ç°æ›´é«˜çš„æ‰©å±•æ€§å’Œçµæ´»æ€§ã€‚</li><li data-pid="H9cw3t3f">æ›´åŠ çµæ´»ï¼šEpoll æ”¯æŒå¤šç§äº‹ä»¶ç±»å‹ï¼ŒåŒ…æ‹¬è¯»ã€å†™ã€å¼‚å¸¸å’Œä¼˜å…ˆçº§äº‹ä»¶ç­‰ï¼Œå¯ä»¥æ»¡è¶³ä¸åŒçš„åº”ç”¨åœºæ™¯å’Œéœ€æ±‚ã€‚</li><li data-pid="Dz00Er78">è‰¯å¥½çš„å…¼å®¹æ€§ï¼šEpoll æ˜¯ Linux å†…æ ¸ä¸­å®ç°çš„ä¸€ç§ I/O å¤šè·¯å¤ç”¨æœºåˆ¶ï¼Œå¯ä»¥ä¸å…¶ä»– Linux ç³»ç»Ÿè°ƒç”¨å’Œåº“å‡½æ•°è¿›è¡Œå…¼å®¹ã€‚</li></ol><p data-pid="Ml2bsY2L">Epoll åœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹å…·æœ‰é‡è¦çš„åº”ç”¨ä»·å€¼ï¼Œå¯ä»¥ç”¨äºä¼˜åŒ– Web æœåŠ¡å™¨ã€æ¶ˆæ¯é˜Ÿåˆ—ã€æ•°æ®åº“ç­‰åº”ç”¨ç¨‹åºçš„æ€§èƒ½å’Œæ•ˆç‡ã€‚åœ¨ç°ä»£çš„ç½‘ç»œåº”ç”¨ä¸­ï¼ŒEpoll å·²ç»æˆä¸ºäº†ä¸€ç§ä¸å¯æˆ–ç¼ºçš„æŠ€æœ¯ï¼Œå€¼å¾—æˆ‘ä»¬æ·±å…¥å­¦ä¹ å’Œç ”ç©¶ã€‚</p><div class="highlight"><pre><code class="language-text">HardwareWirespeedNetwork CardKernelEvent SourceEpollEvent SourceEvent SourceUsersSocketApplication
</code></pre></div><h2><b>Istio å¤šé›†ç¾¤</b></h2><p data-pid="DJkqBk52">æ¶æ„å¸ˆè¦å­¦ä¼šåšå–èˆï¼Œé€‰æ‹©åˆé€‚çš„ï¼Œç¬¦åˆåœºæ™¯çš„æ–¹æ¡ˆã€‚</p><div class="highlight"><pre><code class="language-text">Podå®¹å™¨1Pod1å®¹å™¨2åº”ç”¨1åº”ç”¨2åº”ç”¨3LocalLBæœåŠ¡ç«¯1æœ¬åœ°è´Ÿè½½å‡è¡¡å™¨æœåŠ¡ç«¯2æœåŠ¡ç«¯3Pod1Pod2Pod3Pod4DataCenter2æœåŠ¡ç«¯1è·¨æ•°æ®ä¸­å¿ƒè´Ÿè½½å‡è¡¡å™¨æœåŠ¡ç«¯2æœåŠ¡ç«¯3Pod1Pod2Pod3Pod4DataCenter1æœåŠ¡ç«¯1è·¨æ•°æ®ä¸­å¿ƒè´Ÿè½½å‡è¡¡å™¨æœåŠ¡ç«¯2æœåŠ¡ç«¯3Pod1Pod2Pod3Pod4SmartDNSCDNèŠ‚ç‚¹Smart DNSæœ¬åœ°DNSæœåŠ¡å™¨æ—¥å¿—æœåŠ¡å™¨
</code></pre></div><p data-pid="w0LZvRPm">è¯¥æ¶æ„å›¾åŒ…æ‹¬ä»¥ä¸‹è¦ç´ ï¼š</p><ul><li data-pid="oK_QtYeN">SmartDNSï¼šæ™ºèƒ½ DNS æœåŠ¡å™¨ï¼Œç”¨äºè§£æåŸŸåå’Œåœ°å€æ˜ å°„ã€‚</li><li data-pid="dn0_6ZjC">CDNèŠ‚ç‚¹ï¼šå†…å®¹åˆ†å‘ç½‘ç»œèŠ‚ç‚¹ï¼Œç”¨äºåŠ é€Ÿæ•°æ®ä¼ è¾“ã€‚</li><li data-pid="cDO-QMb0">æœ¬åœ°DNSæœåŠ¡å™¨ï¼šæœ¬åœ° DNS æœåŠ¡å™¨ï¼Œç”¨äºç¼“å­˜ DNS è§£æç»“æœã€‚</li><li data-pid="fwg1WI-a">æ—¥å¿—æœåŠ¡å™¨ï¼šç”¨äºæ”¶é›†å’Œå­˜å‚¨ç³»ç»Ÿæ—¥å¿—å’Œç»Ÿè®¡æ•°æ®ã€‚</li><li data-pid="_8gDDH49">è·¨æ•°æ®ä¸­å¿ƒè´Ÿè½½å‡è¡¡å™¨ï¼šç”¨äºè·¨æ•°æ®ä¸­å¿ƒçš„è´Ÿè½½å‡è¡¡å’Œæµé‡æ§åˆ¶ã€‚</li><li data-pid="sODpEXaD">æœåŠ¡ç«¯ï¼šç”¨äºå¤„ç†ä¸šåŠ¡é€»è¾‘å’Œæä¾›æœåŠ¡çš„æœåŠ¡å™¨ã€‚</li><li data-pid="Y_OxkzEn">Podï¼šKubernetes ä¸­æœ€å°çš„å¯éƒ¨ç½²çš„è®¡ç®—å•å…ƒï¼ŒåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨ã€‚</li><li data-pid="8dMDQpbU">å®¹å™¨ï¼šç”¨äºå°è£…åº”ç”¨ç¨‹åºå’Œå…¶ä¾èµ–é¡¹çš„è½»é‡çº§è¿è¡Œç¯å¢ƒã€‚</li><li data-pid="zWKUQ9LU">åº”ç”¨ç¨‹åºï¼šè¿è¡Œåœ¨å®¹å™¨å†…éƒ¨çš„ä¸šåŠ¡é€»è¾‘ï¼Œæä¾›æœåŠ¡å’Œå¤„ç†è¯·æ±‚ã€‚</li><li data-pid="yQNIGVVw">æœ¬åœ°è´Ÿè½½å‡è¡¡å™¨ï¼šç”¨äºæœ¬åœ°çš„è´Ÿè½½å‡è¡¡å’Œæµé‡æ§åˆ¶ã€‚</li></ul><p data-pid="9UmUZcu3">åœ¨è¯¥æ¶æ„ä¸­ï¼ŒSmartDNSã€CDNèŠ‚ç‚¹å’Œæœ¬åœ°DNSæœåŠ¡å™¨ååŒå·¥ä½œï¼Œé€šè¿‡ç¼“å­˜ã€è´Ÿè½½å‡è¡¡å’Œæ™ºèƒ½è·¯ç”±ç­‰æŠ€æœ¯ï¼Œå®ç°äº†é«˜æ•ˆçš„åŸŸåè§£æå’Œåœ°å€æ˜ å°„ã€‚è·¨æ•°æ®ä¸­å¿ƒè´Ÿè½½å‡è¡¡å™¨ã€æœ¬åœ°è´Ÿè½½å‡è¡¡å™¨å’Œ Pod ä¹‹é—´çš„åä½œï¼Œå¯ä»¥å®ç°è·¨æ•°æ®ä¸­å¿ƒå’Œæœ¬åœ°çš„è´Ÿè½½å‡è¡¡ã€æµé‡æ§åˆ¶å’ŒæœåŠ¡å‘ç°ï¼Œä»è€Œæé«˜äº†ç³»ç»Ÿçš„å¯ç”¨æ€§ã€å¯ä¼¸ç¼©æ€§å’Œæ€§èƒ½ã€‚åŒæ—¶ï¼Œæ—¥å¿—æœåŠ¡å™¨å¯ä»¥æ”¶é›†å’Œå­˜å‚¨ç³»ç»Ÿçš„æ—¥å¿—å’Œç»Ÿè®¡æ•°æ®ï¼Œå¸®åŠ©ç®¡ç†å‘˜å’Œå¼€å‘äººå‘˜ç›‘æ§å’Œè°ƒè¯•ç³»ç»Ÿï¼Œæé«˜ç³»ç»Ÿçš„å¯ç®¡ç†æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</p><h2><b>é›†ç¾¤è”é‚¦</b></h2><p data-pid="3KkYsYB6"><a href="https://jimmysong.io/kubernetes-handbook/practice/federation.html" target="_blank">é›†ç¾¤è”é‚¦ï¼ˆCluster Federationï¼‰ Â· Kubernetes ä¸­æ–‡æŒ‡å—â€”â€”äº‘åŸç”Ÿåº”ç”¨æ¶æ„å®æˆ˜æ‰‹å†Œ</a></p><blockquote data-pid="_Cs-wBgj">Kubernetes ä» 1.8 ç‰ˆæœ¬èµ·å°±å£°ç§°å•é›†ç¾¤æœ€å¤šå¯æ”¯æŒ 5000 ä¸ªèŠ‚ç‚¹å’Œ 15 ä¸‡ä¸ª Podï¼Œæˆ‘ç›¸ä¿¡å¾ˆå°‘æœ‰å…¬å¸ä¼šéƒ¨ç½²å¦‚æ­¤åºå¤§çš„ä¸€ä¸ªå•é›†ç¾¤ï¼Œæ€»æœ‰å¾ˆå¤šæƒ…å†µä¸‹å› ä¸ºå„ç§å„æ ·çš„åŸå› æˆ‘ä»¬å¯èƒ½ä¼šéƒ¨ç½²å¤šä¸ªé›†ç¾¤ï¼Œä½†æ˜¯æœ‰æ—¶å€™æœ‰æƒ³å°†ä»–ä»¬ç»Ÿä¸€èµ·æ¥ç®¡ç†ï¼Œè¿™æ—¶å€™å°±éœ€è¦ç”¨åˆ°é›†ç¾¤è”é‚¦ï¼ˆFederationï¼‰ã€‚</blockquote><p data-pid="RSiFcshb">é›†ç¾¤è”é‚¦ï¼ˆCluster Federationï¼‰æ˜¯ä¸€ç§å°†å¤šä¸ª Kubernetes é›†ç¾¤è¿æ¥èµ·æ¥ï¼Œå®ç°è·¨é›†ç¾¤èµ„æºç®¡ç†å’ŒæœåŠ¡å‘ç°çš„æŠ€æœ¯ã€‚é€šè¿‡é›†ç¾¤è”é‚¦ï¼Œä¼ä¸šå¯ä»¥å®ç°è·¨æ•°æ®ä¸­å¿ƒã€è·¨å¯ç”¨åŒºçš„èµ„æºç®¡ç†å’Œè´Ÿè½½å‡è¡¡ï¼Œä»è€Œæé«˜ç³»ç»Ÿçš„å¯ç”¨æ€§ã€å¯ä¼¸ç¼©æ€§å’Œæ€§èƒ½ã€‚</p><p data-pid="SC9bWcQ_"><a href="https://kubernetes.io/blog/2018/12/12/kubernetes-federation-evolution/" target="_blank">Kubernetes å®˜æ–¹åšå®¢çš„æ–‡ç« </a>ä¸­ä»‹ç»äº† Kubernetes é›†ç¾¤è”é‚¦çš„æ¼”è¿›ï¼Œè¯¥é¡¹ç›®æ˜¯åœ¨ SIG Multicluster ä¸­è¿›è¡Œçš„ï¼ŒFederation æ˜¯ Kubernetes çš„ä¸€ä¸ªå­é¡¹ç›®ï¼Œç¤¾åŒºå¯¹è¿™ä¸ªé¡¹ç›®çš„å…´è¶£å¾ˆæµ“ï¼Œè¯¥é¡¹ç›®æœ€åˆé‡ç”¨ Kubernetes APIï¼Œä»¥æ¶ˆé™¤ç°æœ‰ Kubernetes ç”¨æˆ·çš„ä»»ä½•é™„åŠ ä½¿ç”¨å¤æ‚æ€§ã€‚ä½†ç”±äºä»¥ä¸‹åŸå› ï¼Œæ­¤æ–¹å¼è¡Œä¸é€šï¼š</p><ul><li data-pid="yK0Xcjtn">åœ¨é›†ç¾¤å±‚é¢é‡æ–°å®æ–½ Kubernetes API çš„å›°éš¾ï¼Œå› ä¸º Federation çš„ç‰¹å®šæ‰©å±•å­˜å‚¨åœ¨æ³¨é‡Šä¸­ã€‚</li><li data-pid="BigkSJdT">ç”±äº Kubernetes API çš„1:1ä»¿çœŸï¼ŒFederation ç±»å‹ã€æ”¾ç½®ï¼ˆplacementï¼‰å’Œè°ƒèŠ‚ï¼ˆreconciliationï¼‰çš„çµæ´»æ€§æœ‰é™ã€‚</li><li data-pid="bCWkM4G-">æ²¡æœ‰å›ºå®šçš„ GA è·¯å¾„ï¼ŒAPI æˆç†Ÿåº¦æ™®éæ··ä¹±ï¼›ä¾‹å¦‚ï¼ŒDeployment åœ¨Kubernetes ä¸­æ˜¯ GAï¼Œä½†åœ¨ Federation v1 ä¸­ç”šè‡³ä¸æ˜¯Betaã€‚</li></ul><p data-pid="JWnlyxss">éšç€ Federation ç‰¹å®šçš„ API æ¶æ„å’Œç¤¾åŒºçš„åŠªåŠ›ï¼Œè¿™äº›æƒ³æ³•æœ‰äº†è¿›ä¸€æ­¥çš„å‘å±•ï¼Œæ”¹è¿›ä¸º Federation v2ã€‚è¯·æ³¨æ„ï¼ŒFederation V1 ç‰ˆæœ¬å·²ç»å½’æ¡£ä¸å†ç»´æŠ¤å’Œæ›´æ–°ï¼Œä¸”å®˜æ–¹ä¹Ÿä¸å†æ¨èç»§ç»­ä½¿ç”¨ã€‚å¦‚æœéœ€è¦äº†è§£æ›´å¤šçš„ Federation èµ„æ–™ï¼Œè¯·å‚è€ƒï¼š<a href="https://github.com/kubernetes-sigs/kubefed" target="_blank">Kubernetes Federation v2</a>ã€‚</p><p data-pid="hIKoy7W8"><b>é›†ç¾¤è”é‚¦åŒ…æ‹¬ä»¥ä¸‹è¦ç´ ï¼š</b></p><ul><li data-pid="HKydXl1z">Kubernetes é›†ç¾¤ï¼šåˆ†å¸ƒåœ¨ä¸åŒæ•°æ®ä¸­å¿ƒæˆ–å¯ç”¨åŒºä¸­çš„ Kubernetes é›†ç¾¤ï¼Œå¯ä»¥ä½¿ç”¨ä¸åŒçš„äº‘æœåŠ¡æä¾›å•†æˆ–ç§æœ‰æ•°æ®ä¸­å¿ƒã€‚</li><li data-pid="N1XUlZae">é›†ç¾¤è”é‚¦æ§åˆ¶å¹³é¢ï¼šç”¨äºç®¡ç†å’Œæ§åˆ¶é›†ç¾¤è”é‚¦çš„æ ¸å¿ƒç»„ä»¶ï¼ŒåŒ…æ‹¬ API Serverã€Controller Managerã€Scheduler ç­‰ã€‚</li><li data-pid="P8WoT7rw">é›†ç¾¤è”é‚¦ APIï¼šç”¨äºå®šä¹‰å’Œç®¡ç†è·¨é›†ç¾¤çš„èµ„æºå’ŒæœåŠ¡ï¼ŒåŒ…æ‹¬ Endpointã€Serviceã€Namespace ç­‰ã€‚</li><li data-pid="hUXGkmpe">é›†ç¾¤è”é‚¦ DNSï¼šç”¨äºè§£æè·¨é›†ç¾¤çš„æœåŠ¡å’ŒåŸŸåï¼ŒåŒ…æ‹¬ External DNS å’Œ CoreDNS ç­‰ã€‚</li><li data-pid="ssoyxatE">é›†ç¾¤è”é‚¦ Ingressï¼šç”¨äºç®¡ç†å’Œé…ç½®è·¨é›†ç¾¤çš„ Ingress è·¯ç”±å’Œè´Ÿè½½å‡è¡¡ï¼ŒåŒ…æ‹¬ Istio Gateway å’Œ Traefik ç­‰ã€‚</li><li data-pid="CPjxGJHj">é›†ç¾¤è”é‚¦ç½‘ç»œï¼šç”¨äºå®ç°è·¨é›†ç¾¤çš„ç½‘ç»œäº’é€šå’Œå®‰å…¨éš”ç¦»ï¼ŒåŒ…æ‹¬ Calicoã€Flannelã€Weave Net ç­‰ã€‚</li></ul><p data-pid="Agf0lNYA">åœ¨é›†ç¾¤è”é‚¦ä¸­ï¼ŒIstio ä½œä¸ºä¸€ç§æœåŠ¡ç½‘æ ¼æŠ€æœ¯ï¼Œå¯ä»¥ä¸ºè·¨é›†ç¾¤çš„æœåŠ¡æä¾›æµé‡ç®¡ç†ã€å®‰å…¨ç­–ç•¥ã€å¯è§‚æµ‹æ€§ç­‰åŠŸèƒ½ã€‚é€šè¿‡ Istio ä¸­çš„é›†ç¾¤è”é‚¦æ”¯æŒï¼Œä¼ä¸šå¯ä»¥å®ç°è·¨æ•°æ®ä¸­å¿ƒã€è·¨å¯ç”¨åŒºçš„æœåŠ¡å‘ç°å’Œæµé‡ç®¡ç†ï¼Œä»è€Œæé«˜ç³»ç»Ÿçš„å¯ç”¨æ€§å’Œæ€§èƒ½ã€‚</p><div class="highlight"><pre><code class="language-text">Data Center 2Zone 1Control PlaneKubernetes Cluster 3Worker NodesZone 2Control PlaneKubernetes Cluster 4Worker NodesData Center 1Zone 1Control PlaneKubernetes Cluster 1Worker NodesZone 2Control PlaneKubernetes Cluster 2Worker NodesIstio PrimaryService MeshData Center 1 Zone 1Data Center 1 Zone 2Data Center 2 Zone 1Data Center 2 Zone 2
</code></pre></div><p data-pid="KQBmdsEQ">ä»¥ä¸Šæ˜¯é›†ç¾¤è”é‚¦çš„æ¶æ„å›¾ï¼ŒåŒ…æ‹¬ä¸¤ä¸ªæ•°æ®ä¸­å¿ƒã€å››ä¸ªå¯ç”¨åŒºå’Œä¸€ä¸ª Istio Primaryã€‚åœ¨æ¯ä¸ªå¯ç”¨åŒºä¸­ï¼Œéƒ½æœ‰ä¸€ä¸ª Kubernetes é›†ç¾¤å’Œä¸€ä¸ª Istio Service Meshã€‚Istio Primary ä½œä¸ºé›†ç¾¤è”é‚¦çš„æ ¸å¿ƒç»„ä»¶ï¼Œå¯ä»¥ç®¡ç†å’Œæ§åˆ¶æ‰€æœ‰çš„ Istio Service Meshï¼Œå®ç°è·¨æ•°æ®ä¸­å¿ƒå’Œå¯ç”¨åŒºçš„æµé‡ç®¡ç†ã€å®‰å…¨ç­–ç•¥å’Œå¯è§‚æµ‹æ€§ç­‰åŠŸèƒ½ã€‚</p><p data-pid="Sxflo9gY">åœ¨è¯¥æ¶æ„ä¸­ï¼ŒKubernetes é›†ç¾¤å¯ä»¥ä½¿ç”¨ä¸åŒçš„äº‘æœåŠ¡æä¾›å•†æˆ–ç§æœ‰æ•°æ®ä¸­å¿ƒï¼Œä»è€Œå®ç°è·¨å¹³å°çš„èµ„æºç®¡ç†å’Œè´Ÿè½½å‡è¡¡ã€‚é›†ç¾¤è”é‚¦æ§åˆ¶å¹³é¢å¯ä»¥ç®¡ç†å’Œæ§åˆ¶æ‰€æœ‰çš„ Kubernetes é›†ç¾¤å’Œ Istio Service Meshï¼Œå®ç°è·¨é›†ç¾¤çš„èµ„æºè°ƒåº¦å’ŒæœåŠ¡å‘ç°ã€‚é›†ç¾¤è”é‚¦ DNS å’Œ Ingress å¯ä»¥è§£æå’Œè´Ÿè½½å‡è¡¡è·¨é›†ç¾¤çš„æœåŠ¡å’ŒåŸŸåï¼Œä»è€Œå®ç°è·¨æ•°æ®ä¸­å¿ƒå’Œå¯ç”¨åŒºçš„æµé‡ç®¡ç†å’Œå®‰å…¨ç­–ç•¥ã€‚é›†ç¾¤è”é‚¦ç½‘ç»œå¯ä»¥å®ç°è·¨é›†ç¾¤çš„ç½‘ç»œäº’é€šå’Œå®‰å…¨éš”ç¦»ï¼Œä»è€Œä¿éšœç³»ç»Ÿçš„å¯ç”¨æ€§å’Œå®‰å…¨æ€§ã€‚</p><h3><b>é›†ç¾¤è”é‚¦ç®¡ç†çš„å¯¹è±¡</b></h3><p data-pid="R-_czojB">æˆå‘˜é›†ç¾¤æ˜¯è”é‚¦çš„åŸºæœ¬ç®¡ç†å•ä½ï¼Œæ‰€æœ‰å¾…ç®¡ç†é›†ç¾¤å‡éœ€è¦æ³¨å†Œåˆ°é›†ç¾¤è”é‚¦ã€‚</p><p data-pid="7AhbftQ_">é›†ç¾¤è”é‚¦ V2 æä¾›äº†ç»Ÿä¸€çš„å·¥å…·é›† <code>kubefedctl</code> ï¼Œå…è®¸ç”¨æˆ·å¯¹å•ä¸ªå¯¹è±¡åŠ¨æ€çš„åˆ›å»ºè”é‚¦å¯¹è±¡ã€‚</p><p data-pid="7cwcq2tM">åŠ¨æ€å¯¹è±¡ç”ŸæˆåŸºäº CRDã€‚</p><table data-draft-node="block" data-draft-type="table" data-size="normal" data-row-style="normal"><tbody><tr><th>ç‰¹å¾</th><th>Kubernetes é›†ç¾¤</th><th>Kubernetes é›†ç¾¤è”é‚¦</th></tr><tr><td>è®¡ç®—èµ„æº</td><td>å¯ä»¥ç‹¬ç«‹ç®¡ç†å’Œè°ƒåº¦ï¼Œä½†æ˜¯æ— æ³•è·¨é›†ç¾¤è°ƒåº¦</td><td>å¯ä»¥é€šè¿‡è”é‚¦æ§åˆ¶å¹³é¢è¿›è¡Œè·¨é›†ç¾¤è°ƒåº¦å’Œèµ„æºç®¡ç†</td></tr><tr><td>éƒ¨ç½²</td><td>ç‹¬ç«‹éƒ¨ç½²ï¼Œéœ€è¦å•ç‹¬ç®¡ç†</td><td>é›†ç¾¤è”é‚¦æ§åˆ¶å¹³é¢å¯ä»¥ç®¡ç†å’Œæ§åˆ¶æ‰€æœ‰çš„æˆå‘˜é›†ç¾¤</td></tr><tr><td>é…ç½®</td><td>æ¯ä¸ªé›†ç¾¤éœ€è¦å•ç‹¬é…ç½®å’Œç®¡ç†</td><td>å¯ä»¥é€šè¿‡é›†ç¾¤è”é‚¦ API ç»Ÿä¸€ç®¡ç†å’Œè°ƒåº¦</td></tr><tr><td>å¯†é’¥</td><td>æ¯ä¸ªé›†ç¾¤éœ€è¦å•ç‹¬ç®¡ç†å’Œåˆ†å‘</td><td>å¯ä»¥é€šè¿‡é›†ç¾¤è”é‚¦æ§åˆ¶å¹³é¢è¿›è¡Œè·¨é›†ç¾¤çš„å¯†é’¥ç®¡ç†å’Œåˆ†å‘</td></tr><tr><td>å…¶ä»– Kubernetes å¯¹è±¡</td><td>æ¯ä¸ªé›†ç¾¤éœ€è¦å•ç‹¬é…ç½®å’Œç®¡ç†</td><td>å¯ä»¥é€šè¿‡é›†ç¾¤è”é‚¦ API ç»Ÿä¸€ç®¡ç†å’Œè°ƒåº¦</td></tr><tr><td>ä¼˜ç‚¹</td><td>ç‹¬ç«‹æ€§å¼ºï¼Œå¯ä»¥æ ¹æ®éœ€æ±‚è¿›è¡Œçµæ´»é…ç½®</td><td>å¯ä»¥å®ç°è·¨æ•°æ®ä¸­å¿ƒå’Œå¯ç”¨åŒºçš„è´Ÿè½½å‡è¡¡å’ŒæœåŠ¡å‘ç°</td></tr><tr><td>ç¼ºç‚¹</td><td>æ— æ³•å®ç°è·¨é›†ç¾¤çš„è´Ÿè½½å‡è¡¡å’ŒæœåŠ¡å‘ç°</td><td>éœ€è¦é¢å¤–çš„ç®¡ç†å’Œé…ç½®å·¥ä½œï¼Œå¯èƒ½ä¼šå¢åŠ å¤æ‚æ€§å’Œé£é™©</td></tr></tbody></table><p data-pid="zP2JcR-0">Kubernetes Cluster Federation åˆå KubeFed æˆ– Federation v2ï¼Œv2 æ¶æ„åœ¨ Federation v1 åŸºç¡€ä¹‹ä¸Šï¼Œç®€åŒ–æ‰©å±• Federated API è¿‡ç¨‹ï¼Œå¹¶åŠ å¼ºè·¨é›†ç¾¤æœåŠ¡å‘ç°ä¸ç¼–æ’çš„åŠŸèƒ½ã€‚å¦å¤– KubeFed åœ¨è®¾è®¡ä¹‹åˆï¼Œæœ‰ä¸¤ä¸ªæœ€é‡è¦æ ¸å¿ƒç†å¿µæ˜¯ KubeFed å¸Œæœ›å®ç°çš„ï¼Œåˆ†åˆ«ä¸º Modularizationï¼ˆæ¨¡å—åŒ–ï¼‰ä¸ Customizable (å®šåˆ¶åŒ–)ï¼Œè¿™ä¸¤ä¸ªç†å¿µå¤§æ¦‚æ˜¯å¸Œæœ› KubeFed èƒ½å¤Ÿè·Ÿéšç€ Kubernetes ç”Ÿæ€å‘å±•ï¼Œå¹¶æŒç»­ä¿æŒç›¸å®¹æ€§ä¸æ‰©å±•æ€§ã€‚</p><p data-pid="TZ0kHGKy">ç”±äº Federation è¯•å›¾è§£å†³ä¸€ç³»åˆ—å¤æ‚çš„é—®é¢˜ï¼Œå› æ­¤éœ€è¦å°†è¿™äº›é—®é¢˜çš„ä¸åŒéƒ¨åˆ†åˆ†è§£å¼€æ¥ã€‚Federation ä¸­æ¶‰åŠçš„æ¦‚å¿µå’Œæ¶æ„å›¾å¦‚ä¸‹æ‰€ç¤ºã€‚</p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-1e2153970bc1ee23b0179ea8a6ee535b_r.jpg" data-caption="" data-size="normal" width="1686" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><h3><b>é›†ç¾¤çš„æ³¨å†Œä¸­å¿ƒ</b></h3><p data-pid="-uN_F6K7">é›†ç¾¤æ³¨å†Œä¸­å¿ƒ ï¼ˆClusterRegistry) æä¾›äº†æ‰€æœ‰è”é‚¦ä¸‹çš„é›†ç¾¤æ¸…å•ï¼Œä»¥åŠæ¯ä¸€ä¸ªé›†ç¾¤çš„è®¤è¯ä¿¡æ¯ã€çŠ¶æ€ä¿¡æ¯ã€‚</p><h2><b>Kind æ­å»ºé›†ç¾¤è”é‚¦</b></h2><p data-pid="4sk53vSl">åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ kindï¼ˆKubernetes IN Dockerï¼‰æ­å»ºä¸€ä¸ªç®€å•çš„é›†ç¾¤è”é‚¦ï¼ŒåŒ…æ‹¬å®‰è£…é›†ç¾¤è”é‚¦ã€‚è¯¥è”é‚¦å°†åŒ…æ‹¬ä¸¤ä¸ª Kubernetes é›†ç¾¤å’Œä¸€ä¸ª Istio Service Meshã€‚æ¯ä¸ª Kubernetes é›†ç¾¤å°†åŒ…å«ä¸€ä¸ªæ§åˆ¶å¹³é¢èŠ‚ç‚¹å’Œä¸€ä¸ªå·¥ä½œèŠ‚ç‚¹ã€‚</p><blockquote data-pid="yJ85O74A">æˆ‘ä»¬åœ¨ä¹‹å‰å­¦ä¹  Kind çš„æ—¶å€™ï¼ŒçŸ¥é“äº† Kind ç‰¹åˆ«é€‚åˆ é›†ç¾¤è”é‚¦çš„æ­å»ºã€‚</blockquote><h3><b>å®‰è£…é›†ç¾¤è”é‚¦</b></h3><p data-pid="_KSo3AlQ">ä¸‹è½½ä»£ç ï¼š</p><div class="highlight"><pre><code class="language-yaml"><span class="w"> </span><span class="l">git clone https://github.com/kubernetes-sigs/kubefed.git</span></code></pre></div><p data-pid="D-5C5C57">make:</p><div class="highlight"><pre><code class="language-yaml"><span class="w"> </span><span class="l">make deploy.kind</span><span class="w">
</span><span class="w"> </span><span class="l">kubectl -n kube-federation-system get kubefedcluster -oyaml</span></code></pre></div><h3><b>æ­¥éª¤ 1ï¼šå®‰è£… kind</b></h3><p data-pid="xH4Oejeb">è¦ä½¿ç”¨ kind æ­å»ºé›†ç¾¤è”é‚¦ï¼Œæˆ‘ä»¬éœ€è¦å…ˆå®‰è£… kindã€‚å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤åœ¨ Linux æˆ– macOS ç³»ç»Ÿä¸Šå®‰è£… kindã€‚</p><div class="highlight"><pre><code class="language-bash"> <span class="c1"># ä¸‹è½½ kind</span>
 curl -Lo ./kind &lt;https://kind.sigs.k8s.io/dl/v0.10.0/kind-<span class="k">$(</span>uname<span class="k">)</span>-amd64&gt;
 chmod +x ./kind
 â€‹
 <span class="c1"># å°† kind å¯æ‰§è¡Œæ–‡ä»¶ç§»åŠ¨åˆ° PATH ä¸­</span>
 sudo mv ./kind /usr/local/bin/kind
 â€‹
 <span class="c1"># éªŒè¯ kind æ˜¯å¦å®‰è£…æˆåŠŸ</span>
 kind version
 â€‹</code></pre></div><h3><b>æ­¥éª¤ 2ï¼šåˆ›å»º Kubernetes é›†ç¾¤</b></h3><p data-pid="2S0UlBJM">ä½¿ç”¨ kind å‘½ä»¤åˆ›å»º Kubernetes é›†ç¾¤ã€‚åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸¤ä¸ª Kubernetes é›†ç¾¤ï¼Œåˆ†åˆ«ä»£è¡¨ä¸¤ä¸ªæ•°æ®ä¸­å¿ƒã€‚</p><div class="highlight"><pre><code class="language-bash"> <span class="c1"># åˆ›å»ºç¬¬ä¸€ä¸ª Kubernetes é›†ç¾¤</span>
 kind create cluster --name<span class="o">=</span>dc1 --config<span class="o">=</span>./dc1-config.yaml
 â€‹
 <span class="c1"># åˆ›å»ºç¬¬äºŒä¸ª Kubernetes é›†ç¾¤</span>
 kind create cluster --name<span class="o">=</span>dc2 --config<span class="o">=</span>./dc2-config.yaml</code></pre></div><p data-pid="c9JmXATN">ä»¥ä¸‹æ˜¯ <code>dc1-config.yaml</code> çš„ç¤ºä¾‹æ–‡ä»¶å†…å®¹ï¼š</p><div class="highlight"><pre><code class="language-text"> kind: Cluster
 apiVersion: kind.x-k8s.io/v1alpha4
 nodes:
 - role: control-plane
 - role: worker
 â€‹</code></pre></div><p data-pid="_086sL5l">ä»¥ä¸‹æ˜¯ <code>dc2-config.yaml</code> çš„ç¤ºä¾‹æ–‡ä»¶å†…å®¹ï¼š</p><div class="highlight"><pre><code class="language-text"> kind: Cluster
 apiVersion: kind.x-k8s.io/v1alpha4
 nodes:
 - role: control-plane
 - role: worker</code></pre></div><p data-pid="W6Zle3hD">Kubectl å¯ä»¥é€šè¿‡ <code>kubectl config use-context [context-name]</code> å‘½ä»¤æ¥é€‰æ‹©å½“å‰è¦ä½¿ç”¨çš„é›†ç¾¤ã€‚åœ¨ kind é›†ç¾¤è”é‚¦ä¸­ï¼Œæ¯ä¸ª Kubernetes é›†ç¾¤éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„ context åç§°ï¼Œæ ¼å¼ä¸º <code>kind-[cluster-name]</code>ã€‚ä¾‹å¦‚ï¼Œè¦ä½¿ç”¨åä¸º <code>dc1</code> çš„ Kubernetes é›†ç¾¤ï¼Œå¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><div class="highlight"><pre><code class="language-text"> kubectl config use-context kind-dc1</code></pre></div><p data-pid="uei8WWsi">ç„¶åï¼Œæ‚¨å°±å¯ä»¥åœ¨ <code>dc1</code> é›†ç¾¤ä¸Šè¿è¡Œ <code>kubectl</code> å‘½ä»¤äº†ã€‚</p><h3><b>æ­¥éª¤ 3ï¼šå®‰è£… Istio</b></h3><p data-pid="80mL3n_d"><a href="https://istio.io/latest/docs/setup/getting-started/" target="_blank">Getting Started</a></p><p data-pid="ZNVYioBg">åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ Istio ä½œä¸ºæœåŠ¡ç½‘æ ¼æŠ€æœ¯ã€‚å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤å®‰è£… Istioã€‚</p><div class="highlight"><pre><code class="language-yaml"><span class="w"> </span><span class="c"># ä¸‹è½½ Istio</span><span class="w">
</span><span class="w"> </span><span class="l">curl -L https://istio.io/downloadIstio | sh -</span><span class="w">
</span><span class="w"> </span><span class="l">â€‹</span><span class="w">
</span><span class="w"> </span><span class="c"># å°† Istio å¯æ‰§è¡Œæ–‡ä»¶ç§»åŠ¨åˆ° PATH ä¸­</span><span class="w">
</span><span class="w"> </span><span class="l">cd istio-1.17.1</span><span class="w">
</span><span class="w"> </span><span class="l">export PATH=$PWD/bin:$PATH</span><span class="w">
</span><span class="w"> </span><span class="l">â€‹</span><span class="w">
</span><span class="w"> </span><span class="c"># å®‰è£… Istio</span><span class="w">
</span><span class="w"> </span><span class="l">istioctl install --set profile=default -y</span><span class="w">
</span><span class="w"> </span><span class="l">â€‹</span><span class="w">
</span><span class="w"> </span><span class="c"># éªŒè¯ Istio æ˜¯å¦å®‰è£…æˆåŠŸ</span><span class="w">
</span><span class="w"> </span><span class="l">kubectl get pods -n istio-system</span></code></pre></div><p data-pid="sk2JcoJA"><b>å®‰è£…ç›®å½•åŒ…å«ï¼š</b></p><ul><li data-pid="627hVCAA"><b><code>samples/</code> ä¸­çš„ç¤ºä¾‹åº”ç”¨ç¨‹åº</b></li><li data-pid="VEIv1I12"><b><code>bin/</code> ç›®å½•ä¸­çš„ <code>istioctl</code> å®¢æˆ·ç«¯äºŒè¿›åˆ¶æ–‡ä»¶</b></li></ul><p data-pid="RvpgMsFC">è¿˜å¯ä»¥é€‰æ‹©ï¼š</p><p data-pid="ydWCmxaM"><b>æ·»åŠ å‘½åç©ºé—´æ ‡ç­¾ä»¥æŒ‡ç¤ºIstioåœ¨æ‚¨ç¨åéƒ¨ç½²åº”ç”¨æ—¶è‡ªåŠ¨æ³¨å…¥Envoy sidecarä»£ç†ï¼š</b></p><div class="highlight"><pre><code class="language-yaml"><span class="w"> </span><span class="l">kubectl label namespace default istio-injection=enabled</span></code></pre></div><h3><b>æ­¥éª¤ 4ï¼šé…ç½®é›†ç¾¤è”é‚¦</b></h3><p data-pid="EfqfldkJ">åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ Istio ä½œä¸ºé›†ç¾¤è”é‚¦çš„æ ¸å¿ƒç»„ä»¶ã€‚å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤é…ç½®é›†ç¾¤è”é‚¦ã€‚</p><div class="highlight"><pre><code class="language-yaml"><span class="w"> </span><span class="c"># åˆ›å»º Istio Primary</span><span class="w">
</span><span class="w"> </span><span class="l">kind create cluster --name=istio-primary --config=./istio-primary-config.yaml</span><span class="w">
</span><span class="w"> </span><span class="l">â€‹</span><span class="w">
</span><span class="w"> </span><span class="c"># éƒ¨ç½² Istio</span><span class="w">
</span><span class="w"> </span><span class="l">istioctl manifest generate --set profile=default | kubectl apply -f -</span><span class="w">
</span><span class="w"> </span><span class="l">â€‹</span><span class="w">
</span><span class="w"> </span><span class="c"># åˆ›å»º Istio Service Mesh</span><span class="w">
</span><span class="w"> </span><span class="l">istioctl mesh create --config=./istio-primary.yaml --name=istio-primary</span><span class="w">
</span><span class="w"> </span><span class="l">â€‹</span><span class="w">
</span><span class="w"> </span><span class="c"># å°† Istio Service Mesh æ³¨å†Œåˆ°é›†ç¾¤è”é‚¦</span><span class="w">
</span><span class="w"> </span><span class="l">kubefedctl join istio-primary --cluster-context=istio-primary --v=2</span><span class="w">
</span><span class="w"> </span><span class="l">â€‹</span></code></pre></div><p data-pid="Aj18sHHJ">åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ä¸‰ä¸ªä¸åŒçš„é…ç½®æ–‡ä»¶æ¥åˆ›å»º Istio Primary å’Œ Istio Service Meshã€‚ä½ å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€è¦è‡ªå®šä¹‰é…ç½®æ–‡ä»¶ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„é…ç½®æ–‡ä»¶ç¤ºä¾‹ï¼Œç”¨äºåˆ›å»º <code>Istio Primary</code>ã€‚</p><div class="highlight"><pre><code class="language-text"> kind: Cluster
 apiVersion: kind.x-k8s.io/v1alpha4
 nodes:
 - role: control-plane
 â€‹</code></pre></div><p data-pid="hzm6dND5">ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„é…ç½®æ–‡ä»¶ç¤ºä¾‹ï¼Œç”¨äºåˆ›å»º <code>Istio Service Mesh</code>ã€‚</p><div class="highlight"><pre><code class="language-text"> apiVersion: install.istio.io/v1alpha1
 kind: IstioOperator
 spec:
   profile: default
   components:
     ingressGateways:
     - name: istio-ingressgateway
       enabled: true
 â€‹</code></pre></div><p data-pid="kmmt4Cxv">åœ¨é›†ç¾¤è”é‚¦ä¸­ï¼ŒIstio Service Mesh å°†å……å½“è·¨é›†ç¾¤çš„æµé‡ç®¡ç†å’Œå®‰å…¨ç­–ç•¥çš„æ ¸å¿ƒç»„ä»¶ã€‚é€šè¿‡ Istio ä¸­çš„é›†ç¾¤è”é‚¦æ”¯æŒï¼Œä¼ä¸šå¯ä»¥å®ç°è·¨æ•°æ®ä¸­å¿ƒã€è·¨å¯ç”¨åŒºçš„æœåŠ¡å‘ç°å’Œæµé‡ç®¡ç†ï¼Œä»è€Œæé«˜ç³»ç»Ÿçš„å¯ç”¨æ€§å’Œæ€§èƒ½ã€‚</p><h3><b>æ­¥éª¤ 5ï¼šéªŒè¯é›†ç¾¤è”é‚¦</b></h3><p data-pid="Kfq4qGkh">åœ¨å®Œæˆé›†ç¾¤è”é‚¦çš„é…ç½®åï¼Œå¯ä»¥ä½¿ç”¨ kubefedctl å‘½ä»¤éªŒè¯é›†ç¾¤è”é‚¦æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚</p><div class="highlight"><pre><code class="language-bash"> <span class="c1"># æŸ¥çœ‹æˆå‘˜é›†ç¾¤</span>
 kubefedctl get clusters
 â€‹
 <span class="c1"># æŸ¥çœ‹è·¨é›†ç¾¤çš„ Service</span>
 kubefedctl get services --all-namespaces
 â€‹
 <span class="c1"># æŸ¥çœ‹è·¨é›†ç¾¤çš„ Deployment</span>
 kubefedctl get deployments --all-namespaces
 â€‹</code></pre></div><p data-pid="MmsYhG_i">åœ¨æˆ‘ä»¬ä½¿ç”¨äº† kubefedctl å‘½ä»¤æ¥ç®¡ç†é›†ç¾¤è”é‚¦ã€‚ä½ å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€è¦ä½¿ç”¨å…¶ä»–å·¥å…·æ¥ç®¡ç†é›†ç¾¤è”é‚¦ã€‚</p><p data-pid="qfwKb-1e">å¦‚æœæ²¡æœ‰ <code>kubefedctl</code> å‘½ä»¤ï¼Œæ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹æ­¥éª¤å®‰è£…å®ƒï¼š</p><ol><li data-pid="200GbINn">ä¸‹è½½æœ€æ–°çš„ kubefedctl å‘å¸ƒåŒ…ï¼š</li></ol><div class="highlight"><pre><code class="language-text"> curl -LO &lt;https://github.com/kubernetes-sigs/kubefed/releases/latest/download/kubefedctl-$(uname)-$(arch)&gt;
 chmod +x kubefedctl-$(uname)-$(arch)</code></pre></div><ol><li data-pid="NxwgqqOj">ç§»åŠ¨ kubefedctl å¯æ‰§è¡Œæ–‡ä»¶åˆ° PATH ä¸­ã€‚</li></ol><div class="highlight"><pre><code class="language-text"> sudo mv kubefedctl-$(uname)-$(arch) /usr/local/bin/kubefedctl</code></pre></div><ol><li data-pid="IWyuvaZq">éªŒè¯ kubefedctl æ˜¯å¦å·²å®‰è£…æˆåŠŸã€‚</li></ol><div class="highlight"><pre><code class="language-text"> kubefedctl version</code></pre></div><h3><b>è”é‚¦å¯¹è±¡çš„ç»„æˆ</b></h3><p data-pid="dQiqt52z">è”é‚¦å¯¹è±¡åŒ…æ‹¬ templateã€placementã€overrides ä¸‰ä¸ªéƒ¨åˆ†ã€‚ä¸‹é¢æ˜¯ä¸€äº›æ›´è¯¦ç»†çš„è§£é‡Šã€‚</p><ul><li data-pid="qN3qXbZC"><b>Template</b>: æ˜¯è”é‚¦å¯¹è±¡çš„æ¨¡æ¿ï¼Œç”¨äºå®šä¹‰è”é‚¦å¯¹è±¡çš„è§„èŒƒã€‚ä»»ä½•åˆ›å»ºçš„è”é‚¦å¯¹è±¡éƒ½å¿…é¡»ç¬¦åˆæ­¤æ¨¡æ¿ã€‚æ¨¡æ¿åŒ…æ‹¬ API ç‰ˆæœ¬ã€Kindã€metadata ç­‰ä¿¡æ¯ã€‚é€šè¿‡æ¨¡æ¿ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰è”é‚¦å¯¹è±¡çš„ç±»å‹å’Œå±æ€§ï¼Œå¹¶ç¡®ä¿æ‰€æœ‰çš„è”é‚¦å¯¹è±¡éƒ½å…·æœ‰ç›¸åŒçš„å±æ€§å’Œè¡Œä¸ºã€‚</li><li data-pid="W32opVgQ"><b>Placement</b>: æ˜¯è”é‚¦å¯¹è±¡çš„æ”¾ç½®è§„åˆ™ï¼Œç”¨äºæŒ‡å®šè”é‚¦å¯¹è±¡åœ¨å“ªäº›æˆå‘˜é›†ç¾¤ä¸­åˆ›å»ºã€‚é€šè¿‡æ”¾ç½®è§„åˆ™ï¼Œæˆ‘ä»¬å¯ä»¥æ§åˆ¶è”é‚¦å¯¹è±¡çš„å‰¯æœ¬æ•°é‡ã€åˆ†å¸ƒæƒ…å†µå’Œä¼˜å…ˆçº§ç­‰å±æ€§ã€‚æ”¾ç½®è§„åˆ™å¯ä»¥åŸºäºæ ‡ç­¾ã€åç§°ã€å‘½åç©ºé—´ç­‰æ¡ä»¶è¿›è¡Œå®šä¹‰ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰çš„é€‰æ‹©å™¨è¿›è¡Œå®šä¹‰ã€‚</li><li data-pid="yip6W2u3"><b>Overrides</b>: æ˜¯è”é‚¦å¯¹è±¡çš„è¦†ç›–è§„åˆ™ï¼Œç”¨äºè¦†ç›–è”é‚¦å¯¹è±¡åœ¨æˆå‘˜é›†ç¾¤ä¸­çš„å±æ€§å’Œè¡Œä¸ºã€‚é€šè¿‡è¦†ç›–è§„åˆ™ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®éœ€è¦ä¿®æ”¹è”é‚¦å¯¹è±¡çš„å±æ€§å’Œè¡Œä¸ºï¼Œä»è€Œå®ç°æ›´çµæ´»å’Œä¸ªæ€§åŒ–çš„ç®¡ç†ã€‚è¦†ç›–è§„åˆ™å¯ä»¥é’ˆå¯¹ä¸åŒçš„æˆå‘˜é›†ç¾¤è¿›è¡Œå®šä¹‰ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰çš„é€‰æ‹©å™¨è¿›è¡Œå®šä¹‰ã€‚</li></ul><h2><b>ç»“è®º</b></h2><p data-pid="FmB7hdT4">Istioæä¾›äº†å¼ºå¤§çš„é«˜çº§æµé‡ç®¡ç†ï¼Œå¯è§‚å¯Ÿæ€§å’Œå®‰å…¨æ€§åŠŸèƒ½ï¼Œå¯ä»¥å¸®åŠ©ä¼ä¸šå¿«é€Ÿæ„å»ºé«˜å¯ç”¨ï¼Œé«˜æ€§èƒ½ï¼Œé«˜å®‰å…¨æ€§çš„å¾®æœåŠ¡æ¶æ„ï¼Œæ˜¯å½“å‰æœ€æµè¡Œçš„æœåŠ¡ç½‘æ ¼ä¹‹ä¸€ã€‚Istioçš„æµé‡ç®¡ç†ï¼Œå¯è§‚å¯Ÿæ€§å’Œå®‰å…¨æ€§åŠŸèƒ½å‡å¯é€šè¿‡Istioçš„ç®¡ç†å¹³å°è¿›è¡Œé…ç½®å’Œç®¡ç†ï¼Œä½¿å¾—ä¼ä¸šèƒ½å¤Ÿæ›´åŠ çµæ´»å’Œé«˜æ•ˆåœ°ç®¡ç†è‡ªå·±çš„å¾®æœåŠ¡æ¶æ„ã€‚éšç€ä¼ä¸šå¯¹å¾®æœåŠ¡æ¶æ„çš„éœ€æ±‚ä¸æ–­å¢é•¿ï¼ŒIstioçš„æœåŠ¡ç½‘æ ¼å°†æˆä¸ºä¼ä¸šæ„å»ºå¾®æœåŠ¡æ¶æ„çš„é‡è¦é€‰æ‹©ã€‚</p><p class="ztext-empty-paragraph"><br></p><h2><b>END é“¾æ¥</b></h2><p data-pid="xTUgWl6o">â€‹</p><ul><li data-pid="S7o2hBbG"><a href="https://zhuanlan.zhihu.com/61.md">â¬†ï¸ä¸Šä¸€èŠ‚ </a><a href="https://zhuanlan.zhihu.com/63.md">ï¸ä¸‹ä¸€èŠ‚ </a></li></ul><p data-pid="jx5DOg-X"><br>â€‹</p><ul><li data-pid="GjwpytuI"><a href="typora://app/README.md" target="_blank">â“‚ï¸å›åˆ°ç›®å½• </a></li><li data-pid="GXnGmC7j"><b><a href="https://nsddd.top/archives/contributors" target="_blank"> å‚ä¸è´¡çŒ® â¤ï¸â€  </a></b>)</li><li data-pid="IuV11b48">âœ´ï¸ç‰ˆæƒå£°æ˜ Â© ï¼šæœ¬ä¹¦æ‰€æœ‰å†…å®¹éµå¾ª<a href="http://zh.wikipedia.org/wiki/Wikipedia:CC-by-sa-3.0%E5%8D%8F%E8%AE%AE%E6%96%87%E6%9C%AC" target="_blank">CC-BY-SA 3.0åè®®ï¼ˆç½²å-ç›¸åŒæ–¹å¼å…±äº«ï¼‰Â©</a> </li></ul><p></p></div> </details> 
 <hr /> 

 #### - [Kubernetes æ¦‚å¿µä»¥åŠæ¶æ„](https://zhuanlan.zhihu.com/p/611169064) 
 <details><summary>ØªÙˆØ¶ÛŒØ­Ø§Øª</summary> <p><img src="https://picx.zhimg.com/v2-ca77d94d86f76a72c2e70ff0a65303c3_720w.jpg?source=d16d100b"></p><div><ul><li data-pid="_hpd0NK-"><a href="http://nsddd.top/" target="_blank">author</a></li></ul><h2><b>ç¬¬47èŠ‚ Kubernetes æ¦‚å¿µä»¥åŠæ¶æ„</b><br></h2><blockquote data-pid="GfnR8AFq">â¤ï¸  æ–°æ—¶ä»£æ‹¥æŠ±äº‘åŸç”Ÿï¼Œäº‘åŸç”Ÿå…·æœ‰ç¯å¢ƒç»Ÿä¸€ã€æŒ‰éœ€ä»˜è´¹ã€å³å¼€å³ç”¨ã€ç¨³å®šæ€§å¼ºç‰¹ç‚¹ã€‚Myblog:<a href="http://nsddd.top/" target="_blank">http://nsddd.top</a></blockquote><h2><b>å‰è¨€</b></h2><p data-pid="192kbGr-"><b>äº‘è®¡ç®—ï¼š å‚è€ƒä¸Šä¸€èŠ‚å­¦ä¹ ï¼šäº‘è®¡ç®—æ˜¯å¯¹æ‰€æœ‰ å­˜å‚¨èµ„æºã€ç½‘ç»œèµ„æºã€è®¡ç®—èµ„æºçš„æŠ½è±¡</b></p><blockquote data-pid="EAwabYpI">æ§åˆ¶å¹³é¢å°†å¤§é‡çš„èŠ‚ç‚¹æŠ½è±¡å‡ºæ¥ï¼š<br></blockquote><ul><li data-pid="WLUrjUzc">è°èƒ½å‚ä¸è®¡ç®—</li><li data-pid="pAo7s9q2">å…±æœ‰å¤šå°‘ CPU </li><li data-pid="D6U8LjkJ">å…±æœ‰å¤šå°‘å†…å­˜</li><li data-pid="7Nxjy9X8">ä¸šåŠ¡ä¸éœ€è¦åœ¨ä¹æˆ‘çš„ç¨‹åºè·‘åœ¨å“ªä¸ªèŠ‚ç‚¹</li></ul><p class="ztext-empty-paragraph"><br></p><p data-pid="2WNq7m12"><b>è¿‡å»è¿™æ®µæ—¶é—´é‡Œï¼Œä½œä¸šç®¡ç†å¹³å°ä¸»è¦æ˜¯2ä¸ªæ–¹å‘ï¼š</b></p><p data-pid="0TGJUwrZ">ä»¥Openstackä¸ºå…¸å‹çš„è™šæ‹ŸåŒ–å¹³å°ï¼š</p><blockquote data-pid="Bm9DVcms">è¿™ç§è™šæ‹ŸåŒ–å¹³å°å¯ä»¥è®¤ä¸ºæ˜¯åœ¨å¾ˆå¤šå°ç‰©ç†æœºä¸Šéƒ½å®‰è£…Hypervisorï¼Œåœ¨Hypervisorä¸Šå¯åŠ¨å¾ˆå¤šä¸ªè™šæ‹Ÿæœºï¼Œå†æŠŠè¿™äº›è™šæ‹Ÿæœºç»„æˆä¸€ä¸ªå¤§çš„äº‘å¹³å°ã€‚<br>æœ€ç»ˆäº¤ä»˜çš„äº§å“å½¢æ€ï¼šä¸€ä¸ªä¸ªçš„OSã€‚åœ¨è¿™ä¸ªOSä¸Šå»éƒ¨ç½²åº”ç”¨å› æ­¤åç»­å·¥ä½œ(åº”ç”¨éƒ¨ç½²ã€åº”ç”¨å‡çº§ã€åº”ç”¨ç®¡ç†)ä¸åº•å±‚çš„åŸºç¡€äº‘å¹³å°æœ‰ç€ç›¸å¯¹æ¯”è¾ƒæ˜æ˜¾çš„ç•Œé™ï¼š</blockquote><ul><li data-pid="CY3XPZ2T">IaaS:Infrastructure as a Service</li><li data-pid="4bjcSoTm">PaaS:Platform as a Service</li><li data-pid="ygONRucc">SaaS:Software as a Service</li></ul><p data-pid="qY_fOcqy">è™šæ‹Ÿæœºæ„å»ºå’Œä¸šåŠ¡ä»£ç éƒ¨ç½²æ˜¯åˆ†ç¦»çš„.è¿™ç§å¯å˜çš„åŸºç¡€æ¶æ„ä½¿åç»­ç»´æŠ¤é£é™©å˜å¤§ã€‚</p><p class="ztext-empty-paragraph"><br></p><p data-pid="VcUZu2_g"><b>ä»¥è°·æ­ŒBorgä¸ºå…¸å‹çš„åŸºäºè¿›ç¨‹çš„ä½œä¸šè°ƒåº¦å¹³å°ï¼š</b></p><blockquote data-pid="C9IwlxIq">google èµ°çš„æ˜¯å¦ä¸€æ¡è·¯ï¼Œäº‹å®è¯æ˜ç°åœ¨æ˜¯å¯¹çš„ã€‚</blockquote><p class="ztext-empty-paragraph"><br></p><h2><b>è°·æ­ŒBorgäº‘è®¡ç®—å¹³å°</b></h2><p data-pid="QuvIRcHz">[[Borg]]æ˜¯Googleå†…éƒ¨ç”¨äºç®¡ç†å…¬å¸å†…éƒ¨æ‰€æœ‰ä½œä¸šçš„ä¸€ä¸ªä½œä¸šç®¡ç†å¹³å°ã€‚Kubernetesçš„å‰èº«å³ä¸ºBorgã€‚</p><p data-pid="xUmyeXd8"><b>Borg</b> is a <a href="https://en.wikipedia.org/wiki/Cluster_manager" target="_blank">cluster manager</a> used by <a href="https://en.wikipedia.org/wiki/Google" target="_blank">Google</a>.[<a href="https://en.wikipedia.org/wiki/Borg_(cluster_manager)#cite_note-1" target="_blank">1]</a>[<a href="https://en.wikipedia.org/wiki/Borg_(cluster_manager)#cite_note-2" target="_blank">2]</a> It led to widespread use of similar approaches such as <a href="https://en.wikipedia.org/wiki/Docker_(software)" target="_blank">Docker</a> and <a href="https://en.wikipedia.org/wiki/Kubernetes" target="_blank">Kubernetes</a>.[<a href="https://en.wikipedia.org/wiki/Borg_(cluster_manager)#cite_note-3" target="_blank">3]</a></p><blockquote data-pid="3ANdn-Er"><a href="https://github.com/prometheus/prometheus" target="_blank">pormetheus ä¹Ÿæ˜¯ç±»ä¼¼</a><br><a href="https://blog.opskumu.com/borg.html" target="_blank">å¼ºçƒˆæ¨èé˜…è¯» Borg è®ºæ–‡ï¼Œäº‘è®¡ç®—é¢†åŸŸè®ºæ–‡ä¸å¤šï¼Œå¸Œæœ›æœ‰æœºä¼šä¹Ÿèƒ½å‘ä¸€ç¯‡</a></blockquote><p data-pid="zNlSpUHn">Borgå¹¶æ²¡æœ‰ä½¿ç”¨è™šæ‹ŸåŒ–æŠ€æœ¯ã€‚å®ƒçš„ä¸»è¦å®ç°æ–¹å¼æ˜¯ä½¿ç”¨è½»é‡çº§çš„ä½œä¸šè°ƒåº¦ã€‚ä¹Ÿå°±æ˜¯è¯´Borgè°ƒåº¦çš„æ˜¯è¿›ç¨‹ã€‚</p><p class="ztext-empty-paragraph"><br></p><p data-pid="ltvlx2Bu"><b>Borgæœ¬èº«åˆ©ç”¨äº†ä¸€äº›å®¹å™¨æŠ€æœ¯ï¼š</b></p><ul><li data-pid="8NOH2EmC">CgroupæŠ€æœ¯å°±æ˜¯Googleå¼€æºç»™Linuxçš„</li><li data-pid="Q2RBdWUv">Namespaceçš„å‰èº«ï¼š<code>chroot</code>å’Œ<code>jail</code> ä½†è¿™ä¹Ÿå¸¦æ¥äº†ä¸€äº›ç¼ºç‚¹ï¼š<br></li><ul><li data-pid="kuXgMkif">å¯¹è±¡ä¹‹é—´çš„å¼ºä¾èµ–jobå’Œtaskæ˜¯å¼ºåŒ…å«å…³ç³»,ä¸åˆ©äºé‡ç»„</li><li data-pid="iDriRxOI">æ‰€æœ‰å®¹å™¨å…±äº«IPï¼Œä¼šå¯¼è‡´ç«¯å£å†²çª,éš”ç¦»å›°éš¾ç­‰é—®é¢˜</li><li data-pid="h_d2nAr5">ä¸ºè¶…çº§ç”¨æˆ·æ·»åŠ å¤æ‚é€»è¾‘ï¼Œå¯¼è‡´ç³»ç»Ÿè¿‡äºå¤æ‚</li></ul></ul><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>Borgä¸»è¦æ”¯æŒçš„ä¸šåŠ¡</b></h3><p data-pid="YbMHn5od"><b>ä¸»è¦æ”¯æŒçš„ä¸šåŠ¡ï¼š</b></p><ol><li data-pid="X2UPXKKv"><b>Production Workloadï¼ˆç”Ÿäº§ä¸šåŠ¡ï¼‰</b>ï¼šè¿™ç±»ä¸šåŠ¡åŒ…æ‹¬Gmailã€Google Docsã€Web Searchç­‰æœåŠ¡</li><li data-pid="RyJ70rtZ"><b>Non-prod Workloadï¼ˆç¦»çº¿ä½œä¸šï¼‰</b>ï¼šæ¯”å¦‚AIæ–¹å‘ã€å¤§æ•°æ®æ–¹å‘çš„æ‰¹å¤„ç†ä½œä¸š</li></ol><p class="ztext-empty-paragraph"><br></p><p data-pid="qu__XPe_"><b>Production Workload å’Œ Non-prod Workloadçš„åŒºåˆ«ï¼š</b></p><ul><li data-pid="kKQkPW93"><b>Production Workload</b> è¦æ±‚é«˜å¯ç”¨ï¼Œè¦æ±‚æ°¸è¿œåœ¨çº¿ã€‚å®ƒå¯¹èµ„æºçš„å¼€é”€å¯èƒ½å¹¶ä¸æ˜¯ç‰¹åˆ«å¤§ï¼Œä¹Ÿä¸æ˜¯å¤§é‡åœ°æ¶ˆè€—è®¡ç®—èµ„æºçš„æœåŠ¡(é™¤éè´Ÿè½½ç‰¹åˆ«é«˜ï¼Œä½†è´Ÿè½½ä¸€èˆ¬ä¹Ÿæ˜¯æœ‰æ³¢å³°æ³¢è°·çš„ï¼Œä¸æ˜¯ä¸€ç›´é«˜è´Ÿè½½çš„)</li><li data-pid="x4omdtPS"><b>Non-prod Workload</b> ä¸€èˆ¬ç”¨äºæ‰¹å¤„ç†ä½œä¸šã€‚å¯¹èµ„æºå¼€é”€çš„è¦æ±‚ä¼šæ¯”è¾ƒé«˜(æ¯”å¦‚å¯åŠ¨ä¸€ä¸ªAIè®­ç»ƒæ—¶ï¼Œä¼šç–¯ç‹‚çš„åƒCPU/GPU)ã€‚ä½†Non-prod Workloadå¯¹å¯ç”¨æ€§çš„è¦æ±‚æ¯”Production Workloadä½ã€‚æ›´ç›´è§‚çš„è¯´ï¼Œå½“ä½ å‘èµ·ä¸€ä¸ªæ‰¹å¤„ç†ä½œä¸šæ—¶ï¼Œä½ ä¸èƒ½è¦æ±‚è¯¥ä½œä¸šé©¬ä¸Šè¿”å›ç»“æœï¼Œå› ä¸ºè¿™ä¸ªæ‰¹å¤„ç†ä½œä¸šæœ¬èº«éœ€è¦æ—¶é—´(æœ‰å¯èƒ½æ˜¯å‡ åˆ†é’Ÿï¼Œå‡ å°æ—¶ï¼Œå‡ å¤©ç”šè‡³å‡ ä¸ªæœˆ)ã€‚å¯¹äºNon-prod Workloadçš„æ—¶æ•ˆæ€§è¦æ±‚è¾ƒä½ã€‚</li></ul><p data-pid="goiKm-T-"><b>Googleé€šè¿‡æŠŠåœ¨çº¿ä¸šåŠ¡å’Œç¦»çº¿ä¸šåŠ¡æ··åˆéƒ¨ç½²çš„æ–¹å¼ï¼Œä½¿å¾—æ•´ä¸ªæ•°æ®ä¸­å¿ƒçš„èµ„æºåˆ©ç”¨ç‡æœ‰äº†ä¸€ä¸ªæœ¬è´¨æå‡ã€‚</b></p><p class="ztext-empty-paragraph"><br></p><p data-pid="UfM-5PuB">Borg <b>æä¾›ä¸‰ä¸ªå¥½å¤„</b>ï¼š</p><ol><li data-pid="CCiUABON">å‘ç”¨æˆ·éšè—èµ„æºç®¡ç†å’Œæ•…éšœå¤„ç†çš„ç»†èŠ‚ï¼Œç”¨æˆ·åªéœ€ä¸“æ³¨äºåº”ç”¨ç¨‹åºå¼€å‘</li><li data-pid="K7GrQwGe">é«˜å¯é æ€§å’Œé«˜å¯ç”¨æ€§çš„æ“ä½œï¼ŒåŒæ—¶æ”¯æŒåº”ç”¨ç¨‹åºç›¸å…³ç‰¹æ€§</li><li data-pid="TSTsYOeR">æœ‰æ•ˆçš„åœ¨æ•°ä»¥ä¸‡è®¡çš„æœºå™¨ä¸Šè¿è¡Œå·¥ä½œè´Ÿè½½</li></ol><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-3f41654b47b8ee51cf6b33f26b33704b_r.jpg" data-caption="" data-size="normal" width="1008" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h2><b>æ¦‚å¿µ</b></h2><p data-pid="BGvGtOU9">Borg çš„é¢å‘ç”¨æˆ·ä¸ºè¿è¡Œ Google åº”ç”¨ç¨‹åºå’ŒæœåŠ¡çš„ Google å¼€å‘è€…å’Œç³»ç»Ÿç®¡ç†å‘˜ï¼ˆGoogle å†…éƒ¨ç§°ä¸ºç½‘ç«™é«˜å¯ç”¨å·¥ç¨‹å¸ˆæˆ–è€…ç®€å†™ SREï¼‰ã€‚ç”¨æˆ·å‘ Borg ä»¥ä½œä¸šï¼ˆ <code>jobs</code> ï¼‰çš„æ–¹å¼æäº¤å·¥ä½œï¼Œæ¯ä¸ª job ç”±åŒ…å«ç€ç›¸åŒç¨‹åºçš„ä¸€ä¸ªæˆ–å¤šä¸ªä»»åŠ¡ï¼ˆ <code>tasks</code> ï¼‰ç»„æˆã€‚æ¯ä¸ª job è¿è¡Œåœ¨ä¸€ä¸ª Borg <code>cell</code> (ä¸€ç»„æœºå™¨é›†åˆç®¡ç†å•å…ƒ) ä¸Šã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>The workload</b></h3><p data-pid="ldlkjdSh">Borg cells åŒ…æ‹¬ä¸¤ç§ç±»å‹çš„ workloadã€‚ç¬¬ä¸€ç§æ˜¯é‚£äº›é•¿æ—¶é—´è¿è¡Œçš„æœåŠ¡ï¼Œå¹¶ä¸”å¯¹è¯·æ±‚å»¶è¿Ÿæ•æ„Ÿï¼ˆå‡ å¾®ç§’åˆ°å‡ ç™¾æ¯«ç§’ä¹‹é—´ï¼‰ã€‚è¿™ç±»æœåŠ¡ä¸€èˆ¬æ˜¯ç›´æ¥é¢å‘ç»ˆç«¯ç”¨æˆ·çš„äº§å“ï¼Œå¦‚ Gmailã€Google Docs å’Œ Web æœç´¢ä»¥åŠå†…éƒ¨åŸºç¡€è®¾æ–½æœåŠ¡ï¼ˆå¦‚ BigTableï¼‰ã€‚å¦å¤–ä¸€ç§æ˜¯é‚£äº›è¿è¡Œå‡ ç§’æˆ–è€…å‡ å¤©å³å¯å®Œæˆçš„æ‰¹å¤„ç†ä½œä¸šï¼Œè¿™ç±»æœåŠ¡å¯¹çŸ­æœŸæ€§èƒ½æ³¢åŠ¨ä¸æ•æ„Ÿã€‚</p><p data-pid="RDCOD02K">ä¸€ä¸ªå…¸å‹çš„ cellï¼Œä¸€èˆ¬åˆ†é… 70% CPU èµ„æºï¼Œå®é™…ä½¿ç”¨ä¸º 60%ï¼Œåˆ†é… 55% çš„å†…å­˜èµ„æºï¼Œå®é™…ä½¿ç”¨ä¸º 85%ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>Clusters and cells</b></h3><p data-pid="NVuhPs0r">1ä¸ªCellä¸Šè·‘1ä¸ªé›†ç¾¤ç®¡ç†ç³»ç»ŸBorg</p><blockquote data-pid="YStwCZ-z">æˆ‘ç†è§£Cellå°±æ˜¯Kubernetesä¸­çš„Clusterã€‚<br>é€šè¿‡å®šä¹‰Cellå¯ä»¥è®©Borgå¯¹æœåŠ¡å™¨èµ„æºè¿›è¡Œç»Ÿä¸€æŠ½è±¡ï¼Œä½œä¸ºç”¨æˆ·å°±æ— éœ€çŸ¥é“è‡ªå·±çš„åº”ç”¨è·‘åœ¨å“ªå°æœºå™¨ä¸Šï¼Œä¹Ÿä¸ç”¨å…³å¿ƒèµ„æºåˆ†é…ã€ç¨‹åºå®‰è£…ã€ä¾èµ–ç®¡ç†ã€å¥åº·æ£€æŸ¥åŠæ•…éšœæ¢å¤ç­‰</blockquote><p data-pid="-g3cFfg2">ä¸€ä¸ª cell çš„æœºå™¨éƒ½å½’å±äºå•ä¸ªé›†ç¾¤ï¼Œé€šè¿‡é«˜æ€§èƒ½çš„æ•°æ®ä¸­å¿ƒçº§åˆ«çš„å…‰çº¤ç½‘ç»œè¿æ¥ã€‚ä¸€ä¸ªé›†ç¾¤éƒ¨ç½²åœ¨ä¸€ä¸ªç‹¬ç«‹çš„æ•°æ®ä¸­å¿ƒå»ºç­‘ä¸­ï¼Œå¤šä¸ªæ•°æ®ä¸­å¿ƒå»ºç­‘æ„æˆä¸€ä¸ª <code>site</code> ã€‚ä¸€ä¸ªé›†ç¾¤é€šå¸¸åŒ…æ‹¬ä¸€ä¸ªå¤§è§„æ¨¡çš„ cell å’Œè®¸å¤šå°è§„æ¨¡çš„æµ‹è¯•æˆ–è€…ç‰¹æ®Šç›®çš„çš„ cellsã€‚å°½é‡é¿å…å•ç‚¹æ•…éšœã€‚</p><p data-pid="-GTCMq3-">æ’é™¤æµ‹è¯• cellsï¼Œä¸€ä¸ªä¸­ç­‰è§„æ¨¡çš„ cell ä¸€èˆ¬ç”± 10k æœºå™¨ç»„æˆã€‚ä¸€ä¸ª cell ä¸­çš„æœºå™¨è§„æ ¼æ˜¯ä¸åŒçš„ï¼Œè¯¸å¦‚é…ç½®ï¼ˆCPUã€RAMã€ç£ç›˜ã€ç½‘ç»œï¼‰ï¼Œå¤„ç†å™¨å‹å·ï¼Œæ€§èƒ½ç­‰æ–¹é¢ã€‚ç”¨æˆ·æ— éœ€å…³å¿ƒè¿™äº›å·®å¼‚ï¼ŒBorg ç¡®å®šåœ¨å“ªä¸ª cell ä¸Šè¿è¡Œä»»åŠ¡ï¼Œåˆ†é…èµ„æºï¼Œå®‰è£…ç¨‹åºå’Œä¾èµ–é¡¹ï¼Œå¹¶ç›‘æ§åº”ç”¨è¿è¡ŒçŠ¶å†µä»¥åŠåœ¨è¿è¡Œå¤±è´¥æ—¶é‡å¯ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>Jobs and tasks</b></h3><p data-pid="1afKrRhB">Taskå³ä¸ºè¿›ç¨‹ã€‚å¤šä¸ªTaskç»„æˆ1ä¸ªJobã€‚</p><blockquote data-pid="2ajAPbsm">æˆ‘ç†è§£Jobå°±æ˜¯Kubernetesä¸­çš„Podï¼›Taskå°±æ˜¯Kubernetesä¸­çš„Container</blockquote><p data-pid="qdJyAsN1">ä¸€ä¸ª Borg job çš„å±æ€§åŒ…æ‹¬åå­—ã€å±ä¸»ä»¥åŠ tasks æ•°é‡ã€‚é€šè¿‡ä¸€äº›çº¦æŸï¼Œå¯ä»¥å¼ºåˆ¶ Job çš„ tasks åœ¨å…·æœ‰ç‰¹å®šå±æ€§çš„æœºå™¨ä¸Šè¿è¡Œï¼Œä¾‹å¦‚å¤„ç†å™¨æ¶æ„ã€æ“ä½œç³»ç»Ÿç‰ˆæœ¬ï¼Œæˆ–è€…é¢å¤–çš„ IP åœ°å€ã€‚çº¦æŸæ˜¯åˆ†è½¯é™åˆ¶å’Œå¼ºé™åˆ¶ã€‚å¯ä»¥æŒ‡å®š job è¿è¡Œé¡ºåºï¼Œå¦‚ä¸€ä¸ª job åœ¨å¦å¤–ä¸€ä¸ª job è¿è¡Œä¹‹åå†å¯åŠ¨ã€‚ä¸€ä¸ª job åªèƒ½è¿è¡Œåœ¨ä¸€ä¸ª cell ä¸Šã€‚</p><p data-pid="diC7TjIN">æ¯ä¸ª task æ˜ å°„æˆä¸€ç»„ Linux è¿›ç¨‹è¿è¡Œåœ¨ä¸€å°æœºå™¨çš„ä¸€ä¸ªå®¹å™¨ä¸­ã€‚å¤§éƒ¨åˆ†çš„ Borg workload éƒ½ä¸æ˜¯è¿è¡Œåœ¨è™šæ‹Ÿæœºä¸­ï¼Œä¸æƒ³åœ¨è™šæ‹ŸåŒ–ä¸ŠèŠ±è´¹ç²¾åŠ›æ˜¯ä¸€æ–¹é¢ã€‚å¦å¤–ï¼Œè®¾è®¡ Borg çš„æ—¶å€™è¿˜æ²¡æœ‰å‡ºç°ç¡¬ä»¶è™šæ‹ŸåŒ–ã€‚task ä¹Ÿæœ‰æ‹¥æœ‰å±æ€§ï¼Œä¾‹å¦‚èµ„æºéœ€æ±‚ç­‰ã€‚å¤§å¤šæ•°çš„ task å±æ€§åŒå®ƒä»¬çš„ job ä¸€æ ·ï¼Œä¸è¿‡ä¹Ÿå¯ä»¥è¢«è¦†ç›–ã€‚å¦‚æä¾› task ä¸“ç”¨çš„å‘½ä»¤è¡Œå‚æ•°ï¼Œä»¥åŠ CPUã€å†…å­˜ã€ç£ç›˜ç©ºé—´ã€ç£ç›˜ IO å¤§å°ã€TCP ç«¯å£ç­‰éƒ½å¯ä»¥åˆ†é…è®¾ç½®ã€‚ç”¨æˆ·é€šè¿‡ RPC ä¸ Borg äº¤äº’æ¥æ“ä½œ jobï¼Œå¤§å¤šæ•°æ˜¯é€šè¿‡å‘½ä»¤è¡Œå·¥å…·å®Œæˆçš„ï¼Œå…¶å®ƒçš„åˆ™é€šè¿‡ç›‘æ§ç³»ç»Ÿã€‚å¤§éƒ¨åˆ† job æè¿°æ–‡ä»¶æ˜¯ç”¨å£°æ˜å¼é…ç½®è¯­è¨€ BCL (GCL å˜ä½“) ç¼–å†™çš„ã€‚</p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-0b09fbd38548234a3437cfc84976e5b6_r.jpg" data-caption="" data-size="normal" width="503" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p data-pid="OSNku0f7">ç”¨æˆ·å¯ä»¥ä¿®æ”¹ä¸€ä¸ªè¿è¡Œä¸­çš„ job å±æ€§å€¼å¹¶å‘å¸ƒåˆ° Borgï¼Œç„¶å Borg æŒ‰ç…§æ–°çš„ job é…ç½®æ¥æ›´æ–° tasksã€‚æ›´æ–°é€šå¸¸æ˜¯ä»¥æ»šåŠ¨æ–¹å¼å®Œæˆï¼Œå¹¶ä¸”å¯ä»¥å¯¹æ›´æ–°å¯¼è‡´çš„ä»»åŠ¡ä¸­æ–­ï¼ˆé‡æ–°è°ƒåº¦æˆ–è€…æŠ¢å ï¼‰çš„æ•°é‡è¿›è¡Œé™åˆ¶ï¼Œä»»ä½•å¯¼è‡´æ›´å¤šä¸­æ–­çš„æ›´æ”¹éƒ½ä¼šè¢«è·³è¿‡ã€‚</p><p data-pid="TdVe4GC6">tasks éœ€è¦èƒ½å¤Ÿå¤„ç† Unix <code>SIGTERM</code> ä¿¡å·ï¼Œ ä»¥ä¾¿åœ¨è¢«å¼ºåˆ¶å‘é€ <code>SIGKILL</code> ä¹‹å‰ï¼Œå¯ä»¥æœ‰æ—¶é—´è¿›è¡Œæ¸…ç†ï¼Œä¿å­˜çŠ¶æ€ï¼Œå®Œæˆå½“å‰æ‰§è¡Œè¯·æ±‚ï¼Œæ‹’ç»æ–°çš„è¯·æ±‚ã€‚åœ¨å®è·µä¸­ï¼Œè§„å®šæ—¶é—´æœ‰ 80% çš„å¯ä»¥æ­£å¸¸å¤„ç†ä¿¡å·ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>Allocsï¼ˆallocationï¼‰</b></h3><p data-pid="w4OmKMcj">Borg <code>alloc</code> æ˜¯å¯ä»¥è¿è¡Œåœ¨ä¸€ä¸ªæˆ–å¤šä¸ª tasks çš„æœºå™¨ä¸Šçš„ä¸€ç»„é¢„ç•™èµ„æºã€‚æ— è®ºèµ„æºæ˜¯å¦ä½¿ç”¨ï¼Œèµ„æºä»åˆ†é…ã€‚Allocs å¯ä»¥è¢«ç”¨äºå°†æ¥çš„ tasks èµ„æºä½¿ç”¨ï¼Œåœ¨åœæ­¢å’Œå¯åŠ¨ task ä¹‹é—´ä¿ç•™èµ„æºï¼Œå¹¶ä¸”å¯ä»¥å°†ä¸åŒ jobs çš„ tasks èšé›†åˆ°åŒä¸€å°æœºå™¨ä¸Šã€‚ä¸€ä¸ª alloc çš„èµ„æºå’Œæœºå™¨ä¸Šèµ„æºç±»ä¼¼çš„æ–¹å¼å¤„ç†ï¼Œå¤šä¸ª tasks è¿è¡Œåœ¨ alloc ä¸Šæ˜¯å…±äº«èµ„æºçš„ï¼Œå¦‚æœä¸€ä¸ª alloc å¿…é¡»é‡æ–°åˆ†é…åˆ°å¦å¤–ä¸€å°ä¸»æœºï¼Œå®ƒçš„ tasks ä¹Ÿä¼šåŒå®ƒä¸€èµ·é‡æ–°è¢«è°ƒåº¦ã€‚</p><p data-pid="ftXXnO2W">ä¸€ä¸ª <code>alloc</code> é›†åˆå’Œ job å¾ˆåƒï¼Œå®ƒæ˜¯ä¸€ç»„åˆ†é…åœ¨å¤šå°æœºå™¨ä¸Šçš„é¢„ç•™èµ„æºã€‚ä¸€æ—¦åˆ›å»ºä¸€ä¸ª alloc é›†åˆï¼Œå°±å¯ä»¥æäº¤ä¸€ä¸ªæˆ–å¤šä¸ª jobs è¿è¡Œåœ¨å…¶ä¸­ã€‚ä¸ºç®€æ´èµ·è§ï¼Œé€šå¸¸ä½¿ç”¨ "task" å¼•ç”¨ alloc æˆ–è€…ä¸€ä¸ªé¡¶çº§çš„ task(alloc ä¹‹å¤–çš„ task) å’Œ "job" æ¥å¼•ç”¨ä¸€ä¸ª job æˆ–è€… alloc é›†åˆã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>Priority, quota, and adminssion control</b></h3><p data-pid="Mtmuh7eP">ä¼˜å…ˆçº§å’Œé…é¢ç”¨äºé˜²æ­¢è¿è¡Œçš„æ¯”å®é™…èƒ½å®¹çº³å¤šçš„è¿™ç§è´Ÿè½½æƒ…å†µã€‚æ¯ä¸ª job éƒ½æœ‰ä¸€ä¸ª <code>priority</code> ä¼˜å…ˆçº§ï¼Œä¸€ä¸ªå°çš„æ­£æ•´æ•°ã€‚é«˜ä¼˜å…ˆçº§çš„ task å¯ä»¥åœ¨ç‰ºç‰²è¾ƒä½ä¼˜å…ˆçº§çš„ task æ¥è·å–èµ„æºï¼Œç”šè‡³æ˜¯ä»¥æŠ¢å æ–¹å¼ã€‚ Borg ä¸ºä¸åŒç”¨é€”å®šä¹‰ä¸åŒçš„ä¼˜å…ˆçº§ï¼šç›‘æ§ã€ç”Ÿäº§ã€æ‰¹å¤„ç†å’Œ best effortã€‚</p><p data-pid="NRxWakPp">é’ˆå¯¹ç”Ÿäº§çº§åˆ«çš„ jobs æ˜¯ç¦æ­¢ task äº’ç›¸æŠ¢å çš„ã€‚ä¼˜å…ˆçº§å†³å®š jobs åœ¨ cell ä¸­å¤„äºè¿è¡Œè¿˜æ˜¯ç­‰å¾…çŠ¶æ€ã€‚ <code>Quota</code> é…é¢è¢«ç”¨äºç¡®å®šè°ƒåº¦å“ªäº› jobsã€‚é…é¢è¡¨ç¤ºä¸ºä¸€æ®µæ—¶é—´å†…ï¼ˆé€šå¸¸ä¸ºå‡ ä¸ªæœˆï¼‰ç»™å®šä¼˜å…ˆçº§çš„èµ„æºé‡ï¼ˆCPUã€RAMã€ç£ç›˜ç­‰ï¼‰ã€‚è¿™äº›å€¼æŒ‡å®šäº†ç”¨æˆ·çš„ job åœ¨è¯·æ±‚æ—¶é—´æ®µå†…å¯ä»¥ä½¿ç”¨çš„æœ€å¤§èµ„æºé‡ã€‚é…é¢æ£€æŸ¥æ˜¯å‡†å…¥æ§åˆ¶çš„ä¸€éƒ¨åˆ†ï¼Œé…é¢ä¸è¶³æƒ…å†µä¸‹ï¼Œjob ä¼šè¢«æ‹’ç»è°ƒåº¦ã€‚</p><p data-pid="BUprI4QB">é«˜ä¼˜å…ˆçº§çš„é…é¢æˆæœ¬æ¯”ä½ä¼˜å…ˆçº§è¦é«˜ã€‚ç”Ÿäº§çº§åˆ«çš„é…é¢ä»…é™äº cell ä¸­å®é™…å¯ç”¨èµ„æºï¼Œå› æ­¤ç”¨æˆ·æäº¤æ»¡è¶³ç”Ÿäº§çº§åˆ« job è¿è¡Œé¢„æœŸçš„èµ„æºé…é¢ã€‚è™½ç„¶ä¸å»ºè®®ç”¨æˆ·é…ç½®è¶…ä¹°ï¼Œä½†æ˜¯å¾ˆå¤šç”¨æˆ·éƒ½ä¼šæ¯”å®é™…çš„éœ€è¦é…é¢è¦å¤§ï¼Œä»¥é˜²æ­¢åç»­ç”¨æˆ·å¢é•¿å¯èƒ½é€ æˆçš„èµ„æºçŸ­ç¼ºã€‚å¯¹äºè¶…ä¹°ï¼Œåº”å¯¹æ–¹æ¡ˆå°±æ˜¯è¶…å–ã€‚</p><p data-pid="rL0dBQZm">é…é¢åˆ†é…çš„ä½¿ç”¨åœ¨ Borg ä¹‹å¤–è¿›è¡Œå¤„ç†ï¼Œå’Œç‰©ç†å®¹é‡è®¾è®¡å¯†åˆ‡ç›¸å…³ï¼Œç»“æœåæ˜ åœ¨ä¸åŒæ•°æ®ä¸­å¿ƒçš„é…é¢ä»·æ ¼å’Œå¯ç”¨æ€§ä¸Šã€‚Borg é€šè¿‡ capability ç³»ç»Ÿï¼Œç»™äºˆæŸäº›ç”¨æˆ·ç‰¹æ®Šæƒé™ï¼Œå¦‚å…è®¸ç®¡ç†å‘˜åˆ é™¤æˆ–è€…ä¿®æ”¹ä»»æ„ cell ä¸­çš„ jobï¼Œæˆ–è€…è¿è¡Œç”¨æˆ·è®¿é—®å—é™çš„å†…æ ¸åŠŸèƒ½æˆ–è€… Borg æ“ä½œï¼Œå¦‚ç¦ç”¨å…¶ jobs é¢„ç®—ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>Naming and monitoring</b></h3><p data-pid="PQuULXKj">Borgçš„æœåŠ¡å‘ç°é€šè¿‡BNS(Borg Name Service)æ¥å®ç°ã€‚</p><p data-pid="leH36gyR">ä¾‹: <code>50.jfoo.ubar.cc.borg.google.com</code></p><ul><li data-pid="jibhCqww"><code>cc</code>: è¡¨ç¤ºCellå</li><li data-pid="qnw3uGRH"><code>ubar</code>: è¡¨ç¤ºç”¨æˆ·å</li><li data-pid="v33JJeeY"><code>jfoo</code>: è¡¨ç¤ºJobå</li><li data-pid="NL5IVJGK"><code>50</code>: è¡¨ç¤ºå½“å‰æœåŠ¡æ˜¯Jobä¸­çš„ç¬¬å‡ ä¸ªTask</li></ul><p data-pid="UN9ZRZx8"><b>æˆ‘ç†è§£Namingå°±æ˜¯Kubernetesä¸­çš„Serviceã€‚</b></p><p data-pid="5shXoH6w">åœ¨Borgä¸Šè¿è¡Œçš„æ¯ä¸€ä¸ªæœåŠ¡ï¼Œéƒ½å¯ä»¥é€šè¿‡NamingæœåŠ¡æ¥æš´éœ²å…¶åŸŸåï¼Œä»¥ä¾¿é›†ç¾¤å¤–éƒ¨çš„æµé‡æ¥è®¿é—®è¯¥æœåŠ¡ã€‚åœ¨å¾®æœåŠ¡æ¶æ„ä¸‹ï¼ŒMicro Service Aå’ŒMicro Service Bä¹‹é—´ï¼Œå°±å¯ä»¥é€šè¿‡è¿™ç§Naming Serviceæ¥å®Œæˆå¾®æœåŠ¡ä¹‹é—´çš„è°ƒç”¨ã€‚</p><p data-pid="Gp2rwcUZ">ç»¼ä¸Šæ‰€è¿°ï¼ŒBorgå…¶å®éšå«äº†3å±‚å«ä¹‰: </p><ol><li data-pid="4v822qun">é›†ç¾¤(è®¡ç®—èµ„æº)ç®¡ç†çš„æ¦‚å¿µã€‚éœ€è¦æŠŠå¤šå°æœºå™¨ç»„æˆä¸€ä¸ªé›†ç¾¤(Cell)ï¼Œç„¶åäº¤ç»™Borgçš„æ§åˆ¶å¹³é¢å»ç®¡ç†</li><li data-pid="c8EEtLBx">ä½œä¸šçš„æè¿°å’Œè°ƒåº¦çš„æ¦‚å¿µã€‚å› æ­¤Borgæ˜¯ä¸€ä¸ªä½œä¸šè°ƒåº¦å¹³å°</li><li data-pid="Wjh_03U0">æœåŠ¡å‘ç°çš„æ¦‚å¿µã€‚Namingçš„å­˜åœ¨æ˜¯ä¸ºäº†è§£å†³å¾®æœåŠ¡ä¹‹é—´çš„è°ƒç”¨é—®é¢˜ï¼Œå› æ­¤Borgæ˜¯ä¸€ä¸ªæœåŠ¡å‘ç°å¹³å°</li></ol><p data-pid="S3FE1n0S">åªæ˜¯æä¾›åˆ›å»ºå’Œè¿è¡Œæ˜¯ä¸å¤Ÿçš„ï¼ŒæœåŠ¡å®¢æˆ·ç«¯å’Œç›¸å…³ç³»ç»Ÿéœ€è¦èƒ½å¤Ÿè®¿é—®åˆ°å¯¹åº”çš„æœåŠ¡ï¼Œå³ä½¿è¢«é‡æ–°è°ƒåº¦åˆ°æ–°çš„æœºå™¨ä¸Šã€‚å› æ­¤ï¼ŒBorg é’ˆå¯¹æ¯ä¸ª task åˆ›å»ºä¸€ä¸ªç¨³å®šçš„ "Borg name service" (BNS)ï¼ŒåŒ…æ‹¬ cell åï¼Œjob åå’Œ task æ•°é‡ã€‚Borg ç”¨è¿™ä¸ªåå­—å°† task çš„ä¸»æœºåå’Œç«¯å£å†™å…¥åˆ° Chubby ä¸€è‡´ä¸”é«˜å¯ç”¨çš„æ–‡ä»¶ä¸­ï¼Œè¯¥æ–‡ä»¶ç”¨äº RPC ç³»ç»ŸæŸ¥æ‰¾ task ç«¯ã€‚BNS åä¹Ÿç”¨äº task DNS åæ„æˆåŸºç¡€ï¼Œå¦‚ç”¨æˆ· ubar åœ¨ cell cc ä¸Šæ‰§è¡Œçš„ job jfoo ç¬¬ 50 ä¸ª taskï¼Œå¯ä»¥é€šè¿‡ <code>50.jfoo.ubar.cc.borg.google.com</code> è®¿é—®ã€‚Borg è¿˜ä¼šåœ¨å‘ç”Ÿå˜åŒ–çš„æ—¶å€™æŠŠ job å¤§å°å’Œ task å¥åº·ä¿¡æ¯å†™å…¥åˆ° Chubbyï¼Œä»¥ä½¿å¾—è´Ÿè½½å‡è¡¡å™¨å¯ä»¥è·å–åˆ°è¯·æ±‚è·¯ç”±æŒ‡å‘ã€‚</p><p data-pid="wsFBC6oo">å‡ ä¹æ‰€æœ‰è¿è¡Œåœ¨ Borg ä¸Šçš„ task éƒ½åŒ…å«ä¸€ä¸ªå†…å»ºçš„ HTTP serverï¼Œç”¨äºå‘å¸ƒ task çš„å¥åº·ä¿¡æ¯å’Œæ•°åƒä¸ªæ€§èƒ½æŒ‡æ ‡ï¼ˆå¦‚ RPC å»¶è¿Ÿï¼‰ã€‚Borg ç›‘æ§å¥åº·æ£€æµ‹ URL å¹¶ä¸”åœ¨ tasks æ— å“åº”æˆ–è€…è¿”å›é”™è¯¯çš„ HTTP ç æ—¶é‡å¯ã€‚å…¶å®ƒçš„æ•°æ®ä¼šè¢«ç›‘æ§å·¥å…·è¿½è¸ªå±•ç¤ºåœ¨ Dashboards ä¸Šå¹¶ä¸”åœ¨æœåŠ¡çº§åˆ«ï¼ˆSLOï¼‰é—®é¢˜æ—¶å‘Šè­¦ã€‚</p><p data-pid="h-7O6qj_">ç”¨æˆ·å¯ä»¥é€šè¿‡ä¸€ä¸ªåå« Sigma æä¾›çš„ Web ç”¨æˆ·ç•Œé¢ä¸Šï¼Œæ£€æŸ¥ jobs çš„çŠ¶æ€ï¼ŒæŸ¥çœ‹ç‰¹å®šçš„ cellï¼Œæˆ–è€…æ·±å…¥æŸ¥çœ‹å„ä¸ª jobs å’Œ tasksï¼Œæ£€æµ‹å®ƒä»¬çš„èµ„æºå ç”¨ï¼Œè¯¦ç»†çš„æ—¥å¿—å’Œæ‰§è¡Œå†å²ï¼Œä»¥åŠæœ€ç»ˆçš„å®¿å‘½ã€‚åº”ç”¨ç¨‹åºä¼šäº§ç”Ÿå¤§é‡çš„æ—¥å¿—ï¼Œé€šè¿‡æ—¥å¿—è½®è½¬é¿å…ç£ç›˜ç©ºé—´ä¸è¶³ï¼Œå¹¶ä¸”åœ¨ä»»åŠ¡é€€å‡ºåä¿ç•™ä¸€æ®µæ—¶é—´ä»¥ååŠ©è¿›è¡Œè°ƒè¯•ã€‚å¦‚æœä¸€é¡¹å·¥ä½œæ²¡æœ‰è¿è¡Œï¼ŒBorg ä¼šæä¾›ä¸€ä¸ª "æœ‰å¾…å¤„ç†çš„" æ³¨é‡Šï¼Œä»¥åŠå¦‚ä½•ä¿®æ”¹ job èµ„æºè¯·æ±‚ç”¨ä»¥æ›´å¥½çš„é€‚é… cellã€‚</p><p data-pid="LF7cpxdh">Borg è®°å½•æ‰€æœ‰ job æäº¤å’Œ task äº‹ä»¶ï¼Œè¯¦ç»†åˆ°æ¯ä¸ª task èµ„æºä½¿ç”¨ä¿¡æ¯è®°å½•åœ¨åŸºç¡€è®¾æ–½å­˜å‚¨ã€‚è¿™æ˜¯ä¸€ä¸ªå¯ä¼¸ç¼©çš„åªè¯»æ•°æ®å­˜å‚¨ï¼Œå¹¶ä¸”ç”± Dremelï¼ˆGoogle äº¤äº’å¼æ•°æ®åˆ†æç³»ç»Ÿï¼‰æä¾›ç±» SQL æ–¹å¼è¿›è¡Œäº¤äº’ã€‚æ•°æ®è¢«ç”¨äºè®¡è´¹ï¼Œè°ƒè¯• job å’Œç³»ç»Ÿæ•…éšœä»¥åŠé•¿æœŸçš„å®¹é‡è§„åˆ’ã€‚å®ƒä¹Ÿæä¾› Google é›†ç¾¤å·¥ä½œè´Ÿè½½è·Ÿè¸ªæ•°æ®ã€‚</p><p data-pid="zy18SFua">æ‰€æœ‰çš„è¿™äº›ç‰¹æ€§å¸®åŠ©ç”¨æˆ·ç†è§£å’Œè°ƒè¯• Borg ä»¥åŠä»–ä»¬çš„ jobsï¼Œå¹¶ä¸”å¸®åŠ©æˆ‘ä»¬çš„ SREs æ¯äººç®¡ç†æ•°ä¸‡å°ä¸»æœºã€‚</p><p class="ztext-empty-paragraph"><br></p><h2><b>åº”ç”¨é«˜å¯ç”¨</b></h2><p data-pid="E2MZL4m0">é«˜å¯ç”¨æ˜¯åœ¨çº¿ä¸šåŠ¡çš„å‘½ã€‚å¦‚æœä¸€ä¸ªåº”ç”¨å¤±å»äº†é«˜å¯ç”¨æ€§ï¼Œé‚£å®ƒå°±å®Œå…¨æ²¡æœ‰åŠæ³•æä¾›ç¨³å®šçš„åœ¨çº¿æœåŠ¡ï¼Œè¿™ä¸ªåæœæ˜¯ä¸å¯æ‰¿å—çš„ã€‚ç°åœ¨äººä»¬ä¹‹æ‰€ä»¥ç”¨Kuberneteså¹³å°ï¼Œå°±æ˜¯å› ä¸ºå®ƒå¯¹é«˜å¯ç”¨çš„åœºæ™¯åšäº†å¾ˆä¸°å¯Œçš„æ”¯æŒã€‚</p><p data-pid="IvXU3-Rz">è¢«æŠ¢å çš„non-prodä»»åŠ¡æ”¾å›pending queueï¼Œç­‰å¾…é‡æ–°è°ƒåº¦</p><p data-pid="cwiYBZm3">åœ¨çº¿ä¸šåŠ¡åº”è¯¥æ°¸è¿œä¿è¯å…¶é«˜å¯ç”¨ï¼Œè¿™æ˜¯ç¬¬ä¸€ç›®æ ‡ã€‚å› æ­¤å½“åœ¨çº¿ä¸šåŠ¡å¯¹èµ„æºæœ‰éœ€æ±‚æ—¶ï¼Œè¿™ç§éœ€æ±‚åº”è¯¥ä¼˜å…ˆä¿è¯ã€‚æ‰€ä»¥Borgåœ¨è¿™æ–¹é¢åšäº†ä¸€äº›äº‹æƒ…: <b>å½“åœ¨çº¿ä¸šåŠ¡æœ‰èµ„æºéœ€æ±‚æ—¶(ä¾‹å¦‚è¦éƒ¨ç½²ä¸€ä¸ªåœ¨çº¿ä¸šåŠ¡ï¼Œæˆ–è€…è¦æ‰©å®¹ä¸€ä¸ªåœ¨çº¿ä¸šåŠ¡)ï¼ŒBorgå°±ä¼šä¸ºè¿™ä¸ªåœ¨çº¿ä¸šåŠ¡åšè°ƒåº¦ã€‚</b> å‡è®¾è°ƒåº¦æ—¶ï¼Œ<b>é›†ç¾¤ä¸­å·²ç»æ²¡æœ‰å¯ç”¨èµ„æºäº†ï¼ŒBorgä¼šå»æ€ç¦»çº¿ä¸šåŠ¡ã€‚ä¹Ÿå°±æ˜¯æŠŠç¦»çº¿ä¸šåŠ¡çš„èµ„æºæŠ¢è¿‡æ¥ç»™åœ¨çº¿ä¸šåŠ¡ï¼Œè®©åœ¨çº¿ä¸šåŠ¡å…ˆè·‘ã€‚</b></p><blockquote data-pid="Nj3foiip">ä½†æ˜¯ç¦»çº¿ä¸šåŠ¡ä¹Ÿæ²¡æœ‰ç›´æ¥ä¸¢å¼ƒï¼Œè€Œæ˜¯æŠŠè¿™ä¸ªç¦»çº¿ä¸šåŠ¡æ”¾å›pending queueä¸­ï¼Œç­‰åˆ°æœ‰èµ„æºæ—¶å†é‡æ–°è·‘ã€‚</blockquote><p data-pid="aWjoO0mF">è¿™æ ·æ—¢ä¿è¯äº†åœ¨çº¿ä¸šåŠ¡çš„é«˜å¯ç”¨ï¼Œåˆä¿è¯äº†ç¦»çº¿ä¸šåŠ¡çš„ä½œä¸šä¸ä¼šä¸¢å¤±ï¼Œä¸ä¼šå¤„äºå¼‚å¸¸çŠ¶æ€ã€‚</p><p data-pid="D1zs9G7K">å¤šå‰¯æœ¬åº”ç”¨è·¨æ•…éšœåŸŸéƒ¨ç½²ã€‚æ‰€è°“æ•…éšœåŸŸæœ‰å¤§æœ‰å°ï¼Œæ¯”å¦‚ç›¸åŒæœºå™¨ã€ç›¸åŒæœºæ¶æˆ–è€…ç›¸åŒç”µæºæ’åº§ç­‰ï¼Œä¸€æŒ‚å…¨æŒ‚</p><p data-pid="2DzNjlPr">Borg æä¾›äº†ä¸€äº›èƒ½åŠ›ï¼Œæ¥æ”¯æŒè·¨åœ°åŸŸçš„ã€è·¨æ•…éšœåŸŸçš„éƒ¨ç½²ã€‚é«˜å¯ç”¨å¾€å¾€é€šè¿‡å†—ä½™éƒ¨ç½²æ¥å®ç°ã€‚</p><blockquote data-pid="eTxfNu_R">ä¸¾ä¸ªä¾‹å­ï¼Œå¸¸æ€ä¸‹1ä¸ªæœåŠ¡åªæœ‰1ä¸ªå‰¯æœ¬ã€‚å½“è¿™ä¸ªå‰¯æœ¬å‡ºç°æ•…éšœæ—¶ï¼Œå°±æ„å‘³ç€è¿™ä¸ªæœåŠ¡ä¸å¯ç”¨äº†ã€‚æƒ³è¦ä¿æŒè¿™ä¸ªæœåŠ¡é«˜å¯ç”¨ï¼Œå¤šéƒ¨ç½²å‡ ä»½ï¼Œåœ¨è¿™å‡ ä»½å‰é¢é…ä¸ªè´Ÿè½½å‡è¡¡å³å¯ã€‚<br>10ä¸‡å°æœºå™¨ï¼Œå¦‚æœè¢«åˆ†æˆ10ä¸ªCellï¼Œé‚£å°±æ˜¯10ä¸ªé›†ç¾¤ï¼Œæ¯ä¸ªé›†ç¾¤1ä¸‡ä¸ªèŠ‚ç‚¹ã€‚è¿™æ ·çš„è¯å°±æŠŠæ•´ä¸ªæ•°æ®ä¸­å¿ƒåˆ‡å‰²æˆäº†ä¸åŒçš„æ•…éšœåŸŸã€‚å‡è®¾å…¶ä¸­1ä¸ªCellå‡ºç°æ•…éšœï¼Œå…¶ä»–Cellä¸å—å½±å“</blockquote><p data-pid="qx1G-QcJ">å‡è®¾æ‰€æœ‰çš„å†—ä½™éƒ½éƒ¨ç½²åœ¨äº†åŒä¸€å°æœºå™¨ä¸Šï¼Œé‚£ä¹ˆå½“è¿™å°æœºå™¨å‡ºç°æ•…éšœæ—¶ï¼Œå†—ä½™éƒ¨ç½²å°±å¤±å»äº†æ„ä¹‰ã€‚å› æ­¤Borgæä¾›äº†ä¸€ä¸ª <b>è·¨æ•…éšœåŸŸ(åŒ…æ‹¬è·¨èŠ‚ç‚¹ã€è·¨æœºæ¶ã€è·¨å¯ç”¨åŒºã€è·¨æ•°æ®ä¸­å¿ƒç­‰)çš„å¤šå‰¯æœ¬éƒ¨ç½²èƒ½åŠ›ã€‚</b></p><p data-pid="zGS0Pas_">å¯¹äºç±»ä¼¼æœåŠ¡å™¨æˆ–æ“ä½œç³»ç»Ÿå‡çº§çš„ç»´æŠ¤æ“ä½œï¼Œé¿å…å¤§é‡æœåŠ¡å™¨åŒæ—¶è¿›è¡Œ</p><p data-pid="41gAH5SA"><b>æ”¯æŒå¹‚ç­‰æ€§ï¼Œæ”¯æŒå®¢æˆ·ç«¯é‡å¤æ“ä½œã€‚</b></p><blockquote data-pid="0e6RIweg"><b>å¹‚ç­‰</b>: é’ˆå¯¹ä¸€ä¸ªç¨‹åºï¼Œç»™å®šå…¶åŒæ ·çš„è¾“å…¥ï¼Œè®©è¯¥ç¨‹åºè¿è¡ŒNæ¬¡ï¼Œè¯¥ç¨‹åºè¿”å›çš„Nä¸ªç»“æœæ˜¯ä¸€æ ·çš„ï¼Œåˆ™ç§°è¯¥ç¨‹åºæ˜¯å¹‚ç­‰çš„; è‹¥è¿”å›ç»“æœä¸åŒï¼Œåˆ™è¯¥ç¨‹åºå°±ä¸æ˜¯å¹‚ç­‰çš„ã€‚<br><b>è§£å†³å¹‚ç­‰çš„æ–¹å¼å°±æ˜¯å£°æ˜å¼ï¼Œè®©æœºå™¨è‡ªå·±å»æ‰¾æœ€ä¼˜è§£ï¼ˆå»é‡ï¼‰ã€‚</b></blockquote><p data-pid="l4YcimqS"><b>é‚£å¦‚ä½•ä¿è¯å¹‚ç­‰ï¼š</b></p><ol><li data-pid="_v7MfXJp">è¦æœ‰ä¸€ä¸ªç”¨äºå¤„ç†è¾“å…¥çš„é€»è¾‘</li><li data-pid="sX5eRn6g">è¾“å…¥å°½å¯èƒ½æ˜¯ä¸€ä¸ªå£°æ˜å¼çš„è¾“å…¥ã€‚æ‰€è°“å£°æ˜å¼çš„è¾“å…¥ï¼ŒæŒ‡çš„æ˜¯å°½å¯èƒ½åœ°å£°æ˜å®ƒæ˜¯ä»€ä¹ˆï¼Œè€Œéè¾“å…¥æŒ‡ä»¤ã€åŠ¨ä½œã€‚å› ä¸ºæŒ‡ä»¤ã€åŠ¨ä½œæœ‰å¯èƒ½ä¸æ˜¯å¹‚ç­‰çš„</li></ol><p data-pid="bm0NYZq2"><b>Borgæ”¯æŒå£°æ˜å¼çš„è¾“å…¥ã€‚</b> ä¾‹å¦‚: å£°æ˜ä¸€ä¸ªä½œä¸šï¼Œå£°æ˜æ—¶å®šä¹‰å¥½è¯¥ä½œä¸šéœ€è¦çš„èµ„æºã€è¦è¿è¡Œçš„åº”ç”¨ç­‰ä¿¡æ¯ã€‚é‚£ä¹ˆè¿™æ ·çš„ä¸€ä¸ªå£°æ˜å¼æŒ‡ä»¤æ— è®ºå‘é€å¤šå°‘æ¬¡ï¼Œå…¶æœ€ç»ˆæ‰§è¡Œçš„ç»“æœéƒ½æ˜¯ä¸€æ ·çš„ã€‚</p><p data-pid="UTbDtNNP">å½“æœåŠ¡å™¨çŠ¶æ€å˜ä¸ºä¸å¯ç”¨æ—¶ï¼Œè¦æ§åˆ¶é‡æ–°è°ƒåº¦ä»»åŠ¡çš„é€Ÿç‡ã€‚å› ä¸ºBorgæ— æ³•åŒºåˆ†æ˜¯èŠ‚ç‚¹æ•…éšœè¿˜æ˜¯å‡ºç°äº†çŸ­æš‚çš„ç½‘ç»œåˆ†åŒºã€‚å¦‚æœæ˜¯ç½‘ç»œåˆ†åŒºï¼Œåˆ™ç­‰å¾…ç½‘ç»œæ¢å¤æ›´åˆ©äºä¿éšœæœåŠ¡çš„å¯ç”¨æ€§</p><p data-pid="GctBJjCn">å½“æŸç§ <code>ä»»åŠ¡@æœåŠ¡å™¨</code> çš„ç»„åˆå‡ºç°æ•…éšœæ—¶ï¼Œä¸‹æ¬¡é‡æ–°è°ƒåº¦æ—¶ï¼Œé¿å…è¿™ç§ç»„åˆå†æ¬¡å‡ºç°ï¼Œå› ä¸ºæå¤§å¯èƒ½ä¼šå†æ¬¡å‡ºç°ç›¸åŒçš„æ•…éšœ</p><p data-pid="X_sz9Uk8">è®°å½•è¯¦ç»†çš„å†…éƒ¨ä¿¡æ¯ï¼Œä¾¿äºæ•…éšœæ’æŸ¥å’Œåˆ†æ</p><blockquote data-pid="NfG3qZFs">ä¿éšœåº”ç”¨é«˜å¯ç”¨çš„å…³é”®æ€§è®¾è®¡åŸåˆ™: æ— è®ºä½•ç§åŸå› ï¼Œå³ä½¿Borgmasteræˆ–è€…BorgletæŒ‚æ‰ã€å¤±è”ï¼Œéƒ½ä¸èƒ½æ€æ‰æ­£åœ¨è¿è¡Œçš„æœåŠ¡(Task)</blockquote><p class="ztext-empty-paragraph"><br></p><h3><b>Borgç³»ç»Ÿè‡ªèº«é«˜å¯ç”¨</b></h3><ul><li data-pid="Cc0EKRWf">Borgmasterç»„ä»¶å¤šå‰¯æœ¬è®¾è®¡<br>Borgmasterç»„ä»¶å¤šå‰¯æœ¬æ˜¯ä¸ºäº†ä¿éšœBorgè‡ªèº«çš„é«˜å¯ç”¨ã€‚æ— è®ºæ˜¯æ•°æ®å­˜å‚¨çš„é«˜å¯ç”¨ï¼Œè¿˜æ˜¯Borgmasterè¿™ä¸ªæ§åˆ¶å¹³é¢çš„é«˜å¯ç”¨ï¼ŒBorgéƒ½è¦ä¿è¯ã€‚</li><li data-pid="uDx-RPVx">é‡‡ç”¨ä¸€äº›ç®€å•å’Œåº•å±‚(low-level)çš„å·¥å…·æ¥éƒ¨ç½²Borgç³»ç»Ÿå®ä¾‹ï¼Œé¿å…å¼•å…¥è¿‡å¤šçš„å¤–éƒ¨ä¾èµ–</li><li data-pid="_W0zeKve">æ¯ä¸ª<code>Cell</code>çš„<code>Borg</code>å‡ç‹¬ç«‹éƒ¨ç½²ï¼Œé¿å…ä¸åŒBorgç³»ç»Ÿç›¸äº’å½±å“<br>æ¯ä¸ªCellç‹¬ç«‹éƒ¨ç½²ï¼Œè¿™æ ·ä¿è¯äº†æ•´ä¸ªæ•°æ®ä¸­å¿ƒçš„é«˜å¯ç”¨ã€‚1ä¸ªCellåäº†å…¶ä»–çš„Cellè¿˜æ´»ç€ï¼Œè¿™æ ·æ•…éšœçš„Cellå°±æˆä¸ºäº†ä¸€ä¸ªå±€éƒ¨çš„æ•…éšœã€‚è¿™ä¸ªæ•…éšœä¹Ÿåªå½±å“åˆ°äº†åæ‰çš„Cellæ‰€ç®¡ç†çš„èŠ‚ç‚¹ã€‚æ¢è¨€ä¹‹å°±æ˜¯é€šè¿‡Cellå°†æ•´ä¸ªæ•°æ®ä¸­å¿ƒåˆ’åˆ†æˆäº†ä¸åŒçš„æ•…éšœåŸŸ</li></ul><p class="ztext-empty-paragraph"><br></p><h3><b>èµ„æºåˆ©ç”¨ç‡</b></h3><p data-pid="JHFfLx2i">é€šè¿‡å°†åœ¨çº¿ä»»åŠ¡(prod)å’Œç¦»çº¿ä»»åŠ¡(non-prod Batch)æ··åˆéƒ¨ç½²ï¼š</p><ul><li data-pid="hmtM5eFS">ç©ºé—²æ—¶ç¦»çº¿ä»»åŠ¡å¯ä»¥å……åˆ†åˆ©ç”¨è®¡ç®—èµ„æº</li><li data-pid="Xyt1ZY1b">ç¹å¿™æ—¶åœ¨çº¿ä»»åŠ¡é€šè¿‡æŠ¢å çš„æ–¹å¼ä¿è¯ä¼˜å…ˆå¾—åˆ°æ‰§è¡Œï¼Œåˆç†åœ°åˆ©ç”¨èµ„æºï¼ˆæˆ‘ç†è§£çš„æ˜¯ Kubernetes çš„è°ƒåº¦ï¼‰</li></ul><p class="ztext-empty-paragraph"><br></p><h3><b>Borgçš„è°ƒåº¦åŸç†</b></h3><p data-pid="9ME4uUhW">å¾ˆå¤šäººç”¨äº‘å¹³å°ï¼Œéƒ½ä¼šæœ‰ä¸€ä¸ªç†æƒ³åŒ–çš„ã€å…ˆå…¥ä¸ºä¸»çš„éœ€æ±‚ã€‚æ¯”å¦‚ä¸€ä¸ªä¸šåŠ¡å¼€å‘äººå‘˜ï¼Œä»–çš„ä¸»è¦ç›®æ ‡é™¤äº†å†™å¥½ä¸šåŠ¡é€»è¾‘å¤–ï¼Œæ ¹æœ¬çš„æ ¸å¿ƒéœ€æ±‚å°±æ˜¯ä¸šåŠ¡çš„é«˜å¯ç”¨ã€‚</p><p data-pid="cytFpxLr">æƒ³è¦è¾¾åˆ°è¿™ä¸ªç›®æ ‡ï¼Œ</p><ul><li data-pid="E683ygwx">ç¬¬ä¸€ï¼šä»£ç è¦è¶³å¤Ÿå¥å£®</li><li data-pid="8GsUHgWb">ç¬¬äºŒï¼Œè¦ä¸ºæœåŠ¡é¢„ç•™è¶³å¤Ÿçš„èµ„æºã€‚è‡³äºåˆ°åº•é¢„ç•™å¤šå°‘æ‰ç®—æ˜¯é¢„ç•™äº†"è¶³å¤Ÿ"çš„èµ„æºï¼Œè¿™å°±æ˜¯ä¸€ä¸ªå¯ä»¥æ·±å…¥è®¨è®ºçš„ç‚¹äº†ã€‚</li></ul><p data-pid="O02ztqj1">ä¸€èˆ¬çš„åšæ³•å¯ä»¥å…ˆåšä¸ªå‹æµ‹ã€‚å…ˆé™ç½‘ï¼ŒTPS(Transactions Per Secondï¼Œæ¯ç§’ä¼ è¾“çš„äº‹åŠ¡å¤„ç†ä¸ªæ•°ï¼Œå³æœåŠ¡å™¨æ¯ç§’å¤„ç†çš„äº‹åŠ¡æ•°)ä¸º10ï¼Œå‹æµ‹100æ¬¡ï¼ŒæŸ¥çœ‹èµ„æºçš„ä½¿ç”¨æƒ…å†µã€‚é‚£ä¹ˆè¿™ä¸ªèµ„æºä½¿ç”¨æƒ…å†µå°±å·²ç»æ˜¯åŸºäº10å€çš„è¯·æ±‚é‡å¾—å‡ºçš„ç»“æœäº†ã€‚</p><p data-pid="mE8Dtww9">ä¹‹ååœ¨ç”³è¯·èµ„æºæ—¶ï¼ŒæŒ‰ç…§è¿™ä¸ªç»“æœç”³è¯·èµ„æºã€‚å› ä¸ºä¸šåŠ¡é«˜å³°æœŸæ—¶è¦ä¿è¯èµ„æºæ˜¯è¶³å¤Ÿçš„ï¼Œæ‰€ä»¥å¼€å‘äººå‘˜éƒ½ä¼šå°½å¯èƒ½å¤šåœ°å»ç”³è¯·èµ„æºã€‚å¤šç”³è¯·èµ„æºå°±ä¼šå¤šå ç”¨èµ„æºï¼Œä½†å¸¸æ€ä¸‹ä¸šåŠ¡åˆè¾¾ä¸åˆ°å¾ˆé«˜çš„èµ„æºåˆ©ç”¨ç‡ï¼Œæœ€ç»ˆå¾ˆæœ‰å¯èƒ½çš„ç»“æœæ˜¯ï¼š90%çš„èµ„æºéƒ½æµªè´¹æ‰äº†ã€‚</p><p class="ztext-empty-paragraph"><br></p><p data-pid="MHGJaSgX">Borgå®ç°äº†ä¸€ç§æœºåˆ¶ï¼šå…è®¸ç”¨æˆ·ç”³è¯·èµ„æºï¼Œä½†æ˜¯åœ¨ä»»åŠ¡å¯åŠ¨åä¼šä¸åœåœ°ç›‘æ§ä½œä¸šï¼Œç¡®è®¤ä½œä¸šçœŸæ­£ä½¿ç”¨çš„èµ„æºæ•°é‡ã€‚å¦‚æœBorgå‘ç°ä½œä¸šç”¨åˆ°çš„èµ„æºè¿œè¿œå°äºç”³è¯·æ—¶çš„èµ„æºï¼Œå°±ä¼šè¿›è¡Œå›æ”¶ã€‚</p><p data-pid="BYJE89Dq"><code>ä¿ç•™çš„èµ„æºæ•°é‡ = (1 + é˜ˆå€¼) * ä½œä¸šçœŸå®ä½¿ç”¨çš„èµ„æº</code></p><p data-pid="nOq_Noim">å°†å‰©ä½™çš„éƒ¨åˆ†(å³<code>ç”³è¯·çš„èµ„æºæ•°é‡ - ä¿ç•™çš„èµ„æºæ•°é‡</code>)å…¨éƒ½å›æ”¶æ‰ã€‚è¿™æ ·å°±æœ‰æ•ˆæå‡äº†æ•´ä¸ªé›†ç¾¤çš„èµ„æºåˆ©ç”¨ç‡ã€‚</p><p data-pid="rxkQbIYL">æ¢è¨€ä¹‹ï¼Œç”¨æˆ·å¯ä»¥å£°æ˜å¾ˆå¤šçš„èµ„æºï¼Œä½†æ˜¯å½“ç”¨æˆ·æäº¤çš„ä½œä¸šè¾¾ä¸åˆ°ä¸€å®šçš„åˆ©ç”¨ç‡æ—¶ï¼ŒBorgä¼šæŠŠç”¨æˆ·å£°æ˜çš„èµ„æºä¸­çš„ä¸€éƒ¨åˆ†å›æ”¶èµ°ï¼Œäº¤ç»™å…¶ä»–ä½œä¸šä½¿ç”¨ã€‚è¿™æ ·æ•´ä¸ªé›†ç¾¤çš„èµ„æºåˆ©ç”¨ç‡å°±æé«˜äº†ã€‚</p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-780f20897f6192b4a6dd8b8ca1ca11e5_r.jpg" data-caption="" data-size="normal" width="2024" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>éš”ç¦»æ€§</b></h3><p data-pid="yNkkVmiO">å®‰å…¨æ€§éš”ç¦»: </p><blockquote data-pid="F2hWp_k-">æ—©æœŸä½¿ç”¨<code>chroot</code>ã€<code>jail</code>ï¼ŒåæœŸç‰ˆæœ¬åŸºäºNamespace<br>æ—©æœŸçš„iPhoneè¶Šç‹±ï¼Œå…¶å®å°±æ˜¯<code>chroot</code>å’Œ<code>jail</code></blockquote><p data-pid="NtZFLHmH"><b>æ€§èƒ½éš”ç¦»:</b> </p><ul><li data-pid="tLvUsAju">é‡‡ç”¨åŸºäºCgroupçš„å®¹å™¨æŠ€æœ¯å®ç°</li><li data-pid="mxhTJW_a"><b>åœ¨çº¿ä»»åŠ¡(prod)æ˜¯å»¶æ—¶æ•æ„Ÿ(latency-sensitive)å‹çš„ï¼Œä¼˜å…ˆçº§é«˜ï¼Œè€Œç¦»çº¿ä»»åŠ¡(non-prodã€Batch)ä¼˜å…ˆçº§ä½ã€‚ï¼ˆç¡®å®šäº†è°ƒåº¦ç­–ç•¥ï¼‰</b></li><li data-pid="SwAd3U32">Borgé€šè¿‡ä¸åŒä¼˜å…ˆçº§ä¹‹é—´çš„æŠ¢å å¼è°ƒåº¦æ¥ä¼˜å…ˆä¿éšœåœ¨çº¿ä»»åŠ¡çš„æ€§èƒ½ï¼Œç‰ºç‰²ç¦»çº¿ä»»åŠ¡ã€‚<br></li></ul><p data-pid="0f2mEfWk"><b>Borgå°†èµ„æºåˆ†æˆä¸¤ç±»:</b> </p><ul><li data-pid="_L9jzYuv"><code>compressible</code>: å¯å‹æ¦¨çš„ï¼ŒCPUæ˜¯å¯å‹æ¦¨èµ„æºï¼Œèµ„æºè€—å°½ä¸ä¼šå¯¼è‡´è¿›ç¨‹ç»ˆæ­¢<br>CPUæ˜¯ä¸€ä¸ªåˆ†æ—¶å¤ç”¨çš„èµ„æºï¼Œå¯¹äºä¸€ä¸ªç»™å®šå‹å·çš„CPUï¼Œå®ƒçš„CPUæ—¶é—´ç‰‡æ•°é‡æ˜¯å›ºå®šçš„ã€‚CPUæ—¶é—´ç‰‡æŒ‰ç…§è°ƒåº¦å™¨çš„ç­–ç•¥åˆ†é…ï¼Œæ¯ä¸ªè¿›ç¨‹æœ€ç»ˆéƒ½ä¼šåˆ†åˆ°ä¸€äº›æ—¶é—´ç‰‡ã€‚å½“ç«äº‰è¾ƒå¤§çš„æ—¶å€™ï¼Œæ‰€æœ‰è¿›ç¨‹éƒ½æŒ‰ç…§é¢„å…ˆåˆ†é…çš„æ¯”ç‡ï¼Œå°‘åˆ†é…ä¸€äº›æ—¶é—´ç‰‡ã€‚è¿™æ ·çš„ç»“æœæ˜¯: è¿›ç¨‹çš„æ€§èƒ½ä¼šæ…¢ä¸€äº›ï¼Œä½†æ•´ä¸ªç¨‹åºä¸ä¼šé€€å‡ºã€‚</li><li data-pid="FnYlhggo"><code>non-compressible</code>: ä¸å¯å‹æ¦¨çš„ï¼Œå†…å­˜æ˜¯ä¸å¯å‹æ¦¨èµ„æºï¼Œèµ„æºè€—å°½ä¼šå¯¼è‡´è¿›ç¨‹è¢«ç»ˆæ­¢<br>1å°æœºå™¨çš„å†…å­˜å¤§å°æ˜¯å›ºå®šçš„(æ­¤å¤„å‡è®¾ä¸»æ¿ä¸Šæ‰€æœ‰çš„å†…å­˜æ§½éƒ½æ’æ»¡äº†)ï¼Œå¦‚æœæ‰€æœ‰è¿›ç¨‹éƒ½åœ¨ç–¯ç‹‚å ç”¨å†…å­˜ï¼Œé‚£æœ€ç»ˆçš„ç»“æœåªèƒ½æ˜¯: æ²¡æœ‰å¯ä»¥åˆ†é…çš„å†…å­˜äº†ã€‚ç£ç›˜ä¹Ÿå±äºä¸å¯å‹æ¦¨èµ„æºã€‚ä¸å¯å‹æ¦¨èµ„æºåœ¨åˆ©ç”¨ç‡ä¸Šä¸€æ—¦åˆ°è¾¾äº†è¾¹ç•Œï¼ŒOSå°±åªèƒ½ç»ˆæ­¢è¿›ç¨‹ã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><h2><b>ä»€ä¹ˆæ˜¯ Kubernetes</b></h2><p data-pid="fZreyjWI">Kubernetesæ˜¯è°·æ­Œå¼€æºçš„å®¹å™¨é›†ç¾¤ç®¡ç†ç³»ç»Ÿï¼Œæ˜¯è°·æ­Œå¤šå¹´å¤§è§„æ¨¡å®¹å™¨ç®¡ç†æŠ€æœ¯Borgçš„å¼€æºç‰ˆæœ¬ï¼Œä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š</p><ul><li data-pid="-PLGjTTl">åŸºäºå®¹å™¨çš„åº”ç”¨éƒ¨ç½²ã€ç»´æŠ¤å’Œæ»šåŠ¨å‡çº§</li><li data-pid="v9jrYhth">è´Ÿè½½å‡è¡¡å’ŒæœåŠ¡å‘ç°</li><li data-pid="FZv_NZbo">è·¨æœºå™¨å’Œè·¨åœ°åŒºçš„é›†ç¾¤è°ƒåº¦</li><li data-pid="3vXO9nd1">è‡ªåŠ¨ä¼¸ç¼©</li><li data-pid="hjLoR-tD"><b>æ— çŠ¶æ€æœåŠ¡</b> å’Œ <b>æœ‰çŠ¶æ€æœåŠ¡</b></li><li data-pid="bobwTDON">æ’ä»¶æœºåˆ¶ä¿è¯æ‰©å±•æ€§</li></ul><p data-pid="CZmXzcYN"><b>âš ï¸ æ·±å…¥å‰–æ Kubernetes ä¹¦ä¸­ï¼Œæˆ‘ä»¬çŸ¥é“ æœ‰çŠ¶æ€åº”ç”¨éƒ¨ç½²è¦æ±‚å¾ˆé«˜ã€‚</b></p><blockquote data-pid="9y_xo_Jo">æ— çŠ¶æ€åº”ç”¨å¯ä»¥æœ‰ç›¸åŒçš„è§£å†³æ–¹æ¡ˆï¼Œä½†æ˜¯æœ‰çŠ¶æ€åº”ç”¨åº”è¯¥æå‰éƒ¨ç½²å’Œè®¾è®¡ï¼Œå¹¶ä¸”ä¸“ä¸šçš„äººå»ç»´æŠ¤ã€‚<br>Kubernetes å¤§éƒ¨åˆ†éƒ½æ˜¯æ— çŠ¶æ€åº”ç”¨ã€‚å› ä¸ºæœ‰çŠ¶æ€åº”ç”¨å¯èƒ½éœ€è¦é¢†åŸŸä¸“å®¶å»ç»´æŠ¤å’Œè®¾è®¡ï¼Œæˆæœ¬å¾ˆé«˜ã€‚</blockquote><p class="ztext-empty-paragraph"><br></p><h2><b>Kubernetes æ¦‚å¿µ</b></h2><p data-pid="5GBT8kZG">Kunberneteséµå¾ªäº†å£°æ˜å¼ç³»ç»Ÿçš„åŸåˆ™ã€‚Kunbernetesæ˜¯æ„å»ºä¸å£°æ˜å¼ç³»ç»Ÿä¹‹ä¸Šçš„ä¸€ä¸ªäº‘ç®¡ç†å¹³å°ã€‚Kunbernetesä¸­æ‰€æœ‰ä»£ç®¡çš„å¯¹è±¡(è®¡ç®—èŠ‚ç‚¹ã€æœåŠ¡ã€ä½œä¸šç­‰)å…¨éƒ¨æŠ½è±¡æˆäº†æ ‡å‡†APIã€‚è¿™ä¹‹åï¼Œå°±æŠŠè¿™äº›APIä½œä¸ºç»Ÿä¸€çš„è§„èŒƒï¼Œå’Œä¸€äº›å¤§å‚è”åˆèƒŒä¹¦ï¼Œè®©å¤§å®¶éƒ½éµå¾ªåŒæ ·çš„è§„åˆ™ä¸‹åœºç©æ¸¸æˆã€‚è¿™æ ·ä¸€æ¥ï¼Œè¿™å¥—APIå°±æˆäº†äº‹å®æ ‡å‡†ã€‚è¿™æ„å‘³ç€æ‰€æœ‰ä¸‹åœºç©æ¸¸æˆçš„ç©å®¶ï¼Œéƒ½åªèƒ½å‘è¿™å¥—æ ‡å‡†é æ‹¢ã€‚æŠŠç›®å…‰çœ‹å‘æœªæ¥ï¼Œæ ‡å‡†å·²ç„¶å­˜åœ¨ï¼Œæ ‡å‡†å¯ä»¥æ¼”è¿›ï¼Œä½†æ ‡å‡†å¾ˆéš¾è¢«å–ä»£ã€‚å–ä»£ä¸€ä¸ªå·²å­˜åœ¨çš„æ ‡å‡†ï¼Œè¿™ä»¶äº‹å¯ä»¥ç§°ä¹‹ä¸º"é©å‘½"ã€‚</p><p class="ztext-empty-paragraph"><br></p><h2><b>å‘½ä»¤å¼(Imperative) VS å£°æ˜å¼(Declarative)</b></h2><p data-pid="ge57vCgD"><b>æœ€æœ€æœ€ç†Ÿæ‚‰çš„è«è¿‡äº å‘½ä»¤å¼ï¼š</b></p><p data-pid="qK9gMK19">åœ¨è½¯ä»¶å·¥ç¨‹é¢†åŸŸï¼Œå‘½ä»¤å¼ç³»ç»Ÿæ˜¯å†™å‡ºè§£å†³æŸä¸ªé—®é¢˜ã€å®ŒæˆæŸä¸ªä»»åŠ¡æˆ–è€…è¾¾åˆ°æŸä¸ªç›®æ ‡çš„æ˜ç¡®æ­¥éª¤ã€‚æ­¤æ–¹æ³•æ˜ç¡®å†™å‡ºç³»ç»Ÿåº”è¯¥æ‰§è¡ŒæŸæŒ‡ä»¤ï¼Œå¹¶ä¸”æœŸå¾…ç³»ç»Ÿè¿”å›æœŸæœ›ç»“æœ</p><p data-pid="lRwtnyf6">å‘½ä»¤å¼ç³»ç»Ÿé€šå¸¸æ˜¯å¾®ç®¡ç†çš„ç³»ç»Ÿï¼Œå› ä¸ºè¦éšæ—¶è§‚å¯Ÿç›®æ ‡çš„å˜åŒ–ã€‚å‘ä¸€æ¡æŒ‡ä»¤ç»™ç›®æ ‡ï¼Œè®©ç›®æ ‡æŒ‰ç…§æŒ‡ä»¤å»åšã€‚ç›®æ ‡æŒ‰ç…§æŒ‡ä»¤åšå®Œäº†ä¹‹åå†è¿”å›ï¼Œä¹‹åå†å‘ä¸‹ä¸€æ¡æŒ‡ä»¤ç»™ç›®æ ‡ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p><p data-pid="7ZIUJenR">è¿™ç§ç³»ç»Ÿçš„ç‰¹æ€§æ˜¯è¿”å›è¾ƒå¿«ã€‚å¯ä»¥åŸºäºä¸Šä¸€æ¬¡è¿”å›çš„ç»“æœåˆ¤æ–­ä¸‹ä¸€æ¬¡åšå‡ºä½•ç§æŒ‡ç¤ºã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>å£°æ˜å¼ç³»ç»Ÿè¯¥åšä»€ä¹ˆ</b></h3><p data-pid="3YBHo2bh">åœ¨è½¯ä»¶å·¥ç¨‹é¢†åŸŸï¼Œ<b>å£°æ˜å¼ç³»ç»ŸæŒ‡ç¨‹åºä»£ç æè¿°ç³»ç»Ÿåº”è¯¥åšä»€ä¹ˆè€Œä¸æ˜¯æ€ä¹ˆåšã€‚</b> ä»…é™äºæè¿°è¦è¾¾æˆä»€ä¹ˆç›®çš„ï¼Œè‡³äºå¦‚ä½•è¾¾æˆè¿™ä¸ªç›®çš„ï¼Œäº¤ç»™ç³»ç»Ÿè§£å†³</p><p data-pid="1Bm_LZzn">å£°æ˜å¼ç³»ç»Ÿä¸­é—´æœ‰ä¸€ä¸ªè¿è½¬çš„è¿‡ç¨‹ã€‚è°ƒç”¨è€…(ç”¨æˆ·)åªèƒ½å‘ŠçŸ¥ç³»ç»Ÿè‡ªå·±æƒ³è¦è¾¾åˆ°çš„ç›®æ ‡ï¼Œå¯¹äºä¸­é—´æ‰§è¡Œçš„è¿‡ç¨‹ï¼Œè°ƒç”¨è€…ä¸åŠ å¹²æ¶‰ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>å£°æ˜å¼ç³»ç»Ÿè§„èŒƒ</b></h3><p data-pid="tNYkGUoT"><b>å‘½ä»¤å¼</b>: </p><ul><li data-pid="x6FIGfTD">æˆ‘è¦ä½ åšä»€ä¹ˆï¼Œæ€ä¹ˆåšï¼Œè¯·ä¸¥æ ¼æŒ‰ç…§æˆ‘è¯´çš„åš</li></ul><p data-pid="AuEQMUui"><b>å£°æ˜å¼</b>: </p><ul><li data-pid="7rLWaiZL">æˆ‘éœ€è¦ä½ å¸®æˆ‘åšç‚¹äº‹ï¼Œä½†æ˜¯æˆ‘åªå‘Šè¯‰ä½ æˆ‘éœ€è¦ä½ åšä»€ä¹ˆï¼Œè€Œéä½ åº”è¯¥å¦‚ä½•åš</li><li data-pid="N3Zrs8KW">ç›´æ¥å£°æ˜: æˆ‘ç›´æ¥å‘Šè¯‰ä½ æˆ‘éœ€è¦ä»€ä¹ˆ</li><li data-pid="OjzbTCAs">é—´æ¥å£°æ˜: æˆ‘ä¸ç›´æ¥å‘Šè¯‰ä½ æˆ‘çš„éœ€æ±‚ï¼Œæˆ‘ä¼šæŠŠæˆ‘çš„éœ€æ±‚æ”¾åœ¨ç‰¹å®šçš„åœ°æ–¹ï¼Œè¯·åœ¨æ–¹ä¾¿çš„æ—¶å€™æ‹¿å‡ºæ¥å¤„ç†</li></ul><p data-pid="s1ezQ-BO"><b>å¹‚ç­‰æ€§</b>: </p><ul><li data-pid="aaSO_l0C">çŠ¶æ€å›ºå®šï¼Œæ¯æ¬¡æˆ‘è¦ä½ åšçš„äº‹ï¼Œè¯·ç»™æˆ‘è¿”å›ç›¸åŒçš„ç»“æœ</li></ul><p data-pid="F2Ey8KcB"><b>é¢å‘å¯¹è±¡çš„</b>: </p><ul><li data-pid="7hA4rOGF">æŠŠä¸€åˆ‡æŠ½è±¡æˆå¯¹è±¡</li></ul><p data-pid="uttCcWQO">å£°æ˜å¼ç³»ç»Ÿé€‚ç”¨äºå¾®æœåŠ¡æ¶æ„ã€‚å¾ˆå¤šæ—¶å€™è°ƒç”¨è€…å‘é€ä¸€ä¸ªè¯·æ±‚ç»™Serverç«¯æ—¶ï¼Œè°ƒç”¨è€…æ˜¯ä¸çŸ¥é“ä¸€ä¸ªServerç«¯åˆ°åº•è¦é’ˆå¯¹è¿™ä¸ªè¯·æ±‚å¤„ç†å¤šä¹…çš„ã€‚å¦‚æœæŒ‰ç…§äº¤äº’å¼çš„ç³»ç»Ÿï¼Œé‚£ä¹ˆå®¢æˆ·ç«¯å°±é˜»å¡åœ¨å‘é€è¯·æ±‚ä¹‹åäº†ã€‚æ•´ä¸ªç³»ç»Ÿçš„å¹¶å‘èƒ½åŠ›å°±ä¼šå¾ˆå·®ã€‚</p><p class="ztext-empty-paragraph"><br></p><h2><b>Kubernetes æ¶æ„</b></h2><ul><li data-pid="X3Q8ShwP"><a href="https://docker.nsddd.top/Cloud-Native-k8s/" target="_blank">Kubernetes çš„æ¶æ„è¯·çœ‹è¿™ç¯‡æ–‡ç« </a></li></ul><p data-pid="BdYIsgZt"><b>æˆ‘ä»¬å›è¿‡å¤´çœ‹ Kubernetes å’Œ Borg ç±»ä¼¼çš„æ¶æ„ï¼š</b></p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-05faa4985c0a9f4c856f3fc7dd0f664a_r.jpg" data-caption="" data-size="normal" width="3719" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-e8c46c182be631a1c3e2936d3d923e84_r.jpg" data-caption="" data-size="normal" width="5565" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h2><b>Kubernetes çš„ä¸»èŠ‚ç‚¹</b></h2><p data-pid="Q3BL3jcL">å’ŒBorgä¸€æ ·ï¼Œå‡è®¾é›†ç¾¤ä¸­æœ‰5000ä¸ªèŠ‚ç‚¹ï¼Œé€‰2~3å°èŠ‚ç‚¹ä½œä¸ºç®¡ç†èŠ‚ç‚¹å³å¯ã€‚ç®¡ç†èŠ‚ç‚¹ä¸Šè¿è¡Œçš„å°±æ˜¯æ§åˆ¶å¹³é¢çš„ç»„ä»¶ã€‚</p><blockquote data-pid="eUYOwSE8">etcd åŸºäº raft ç®—æ³•ï¼Œä¿è¯æœ€ä¼˜ 3 ä¸ªèŠ‚ç‚¹ï¼Œå¹¶ä¸”æ˜¯ <b>å¥‡æ•°èŠ‚ç‚¹</b><br>etcdæ˜¯CoreOSåŸºäºRaftå¼€å‘çš„åˆ†å¸ƒå¼key-valueå­˜å‚¨ï¼Œå¯ç”¨äºæœåŠ¡å‘ç°ã€å…±äº«é…ç½®ä»¥åŠä¸€è‡´æ€§ä¿éšœ(å¦‚æ•°æ®åº“é€‰ä¸»ã€åˆ†å¸ƒå¼é”ç­‰)</blockquote><ul><li data-pid="09n5v7c4">åŸºæœ¬çš„key-valueå­˜å‚¨</li><li data-pid="1wqWuBG-">ç›‘å¬æœºåˆ¶</li><li data-pid="L0OcDJZW">keyçš„è¿‡æœŸä»¥åŠç»­çº¦æœºåˆ¶ï¼Œç”¨äºç›‘æ§å’ŒæœåŠ¡å‘ç°</li><li data-pid="8XPu_W8b">åŸå­CASå’ŒCADï¼Œç”¨äºåˆ†å¸ƒå¼é”å’Œleaderé€‰ä¸¾</li></ul><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>API Server(APIæœåŠ¡å™¨)</b></h3><p data-pid="5gqGmEJP">è¿™æ˜¯Kubernetesæ§åˆ¶é¢æ¿ä¸­å”¯ä¸€å¸¦æœ‰ç”¨æˆ·å¯è®¿é—®APIä»¥åŠç”¨æˆ·å¯äº¤äº’çš„ç»„ä»¶ã€‚API Serverä¼šæš´éœ²ä¸€ä¸ªRESTfulçš„Kubernetes APIå¹¶ä½¿ç”¨JSONæ ¼å¼çš„æ¸…å•æ–‡ä»¶(manifest files)</p><p class="ztext-empty-paragraph"><br></p><h3><b>Cluster Data Store(é›†ç¾¤çš„æ•°æ®å­˜å‚¨)</b></h3><p data-pid="X6Ck8BBI">Kubernetesä½¿ç”¨etcdå­˜å‚¨æ•°æ®ã€‚è¿™æ˜¯ä¸€ä¸ªå¼ºå¤§çš„ã€ç¨³å®šçš„ã€é«˜å¯ç”¨çš„é”®å€¼å­˜å‚¨ï¼Œè¢«Kubernetesç”¨äºé•¿ä¹…å‚¨å­˜æ‰€æœ‰çš„APIå¯¹è±¡</p><p class="ztext-empty-paragraph"><br></p><h3><b>Scheduler(è°ƒåº¦å™¨)</b></h3><p data-pid="YPd6AQcC">è°ƒåº¦å™¨ä¼šç›‘æ§æ–°å»ºçš„pods(ä¸€ç»„æˆ–ä¸€ä¸ªå®¹å™¨)å¹¶å°†å…¶åˆ†é…ç»™èŠ‚ç‚¹</p><p data-pid="eN2xszWM">å…¶å®Schedulerå’ŒControlleræ²¡æœ‰æœ¬è´¨åŒºåˆ«ï¼Œåªæ˜¯å®ƒä¸“èŒåšè°ƒåº¦ã€‚</p><p class="ztext-empty-paragraph"><br></p><h2><b>Kubernetes å·¥ä½œèŠ‚ç‚¹</b></h2><h3><b>kubelet</b></h3><p data-pid="iirtzCT0">è´Ÿè´£è°ƒåº¦åˆ°å¯¹åº”èŠ‚ç‚¹çš„Podçš„ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼Œæ‰§è¡Œä»»åŠ¡å¹¶å°†PodçŠ¶æ€æŠ¥å‘Šç»™ä¸»èŠ‚ç‚¹çš„æ¸ é“ï¼Œé€šè¿‡å®¹å™¨è¿è¡Œæ—¶(æ‹‰å–é•œåƒã€å¯åŠ¨å’Œåœæ­¢å®¹å™¨ç­‰)æ¥è¿è¡Œè¿™äº›å®¹å™¨ã€‚å®ƒè¿˜ä¼šå®šæœŸæ‰§è¡Œè¢«è¯·æ±‚çš„å®¹å™¨çš„å¥åº·æ¢æµ‹ç¨‹åº</p><p class="ztext-empty-paragraph"><br></p><h3><b>kube-proxy</b></h3><p data-pid="WAzLOt2w">è´Ÿè´£èŠ‚ç‚¹çš„ç½‘ç»œï¼Œåœ¨ä¸»æœºä¸Šç»´æŠ¤ç½‘ç»œè§„åˆ™å¹¶æ‰§è¡Œè¿æ¥è½¬å‘ã€‚å®ƒè¿˜è´Ÿè´£å¯¹æ­£åœ¨æœåŠ¡çš„podsè¿›è¡Œè´Ÿè½½å‡è¡¡ã€‚</p><p class="ztext-empty-paragraph"><br></p><p data-pid="KhS5NfLi"><b>ä¸ç®¡æ˜¯ master èŠ‚ç‚¹ï¼Œæˆ–è€…æ˜¯ worker èŠ‚ç‚¹ï¼Œæ¯ä¸€ä¸ªç»„ä»¶éƒ½æ˜¯éå¸¸éå¸¸å¤æ‚çš„ã€‚</b></p><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h2><b>ETCD</b></h2><p data-pid="bOsghpqJ">ETCD çš„å­¦ä¹ ç¬”è®°ï¼Œä¹‹å‰åšçš„æ¯”è¾ƒå…¨é¢äº†ï¼Œç›´æ¥å‚è€ƒ <a href="https://docker.nsddd.top/Cloud-Native-k8s/24.html" target="_blank">è¿™ä¸€ç¯‡ç¬”è®°~</a></p><p class="ztext-empty-paragraph"><br></p><h2><b>API Server</b></h2><p data-pid="Wjw_krUf">Kube-APIServeræ˜¯Kubernetesæœ€é‡è¦çš„æ ¸å¿ƒç»„ä»¶ä¹‹ä¸€ã€‚API Serveræœ¬èº«æ˜¯ä¸€ä¸ªREST Serverï¼Œå› æ­¤å®ƒçš„æ‰©å±•æ¯”è¾ƒç®€å•ã€‚</p><p data-pid="zadkn4i_">å’Œetcdä¸åŒã€‚<b>etcdæ˜¯ä¸€ä¸ªæœ‰çŠ¶æ€åº”ç”¨çš„é›†ç¾¤ã€‚å¯¹äºè¿™ç§æœ‰çŠ¶æ€åº”ç”¨ï¼ŒåŠ å‡memberæˆ–æ›¿æ¢memberè¿˜æ˜¯æœ‰äº›å¤æ‚çš„ã€‚</b> åƒetcdå°±éœ€è¦èŠ±ä¸€äº›æ—¶é—´åšé…ç½®ã€‚å› ä¸ºåœ¨æœ‰çŠ¶æ€åº”ç”¨çš„é›†ç¾¤ä¸­ï¼Œæ¯ä¸€ä¸ªmemberéƒ½æ˜¯æœ‰æ„ä¹‰çš„ã€‚æ¯”å¦‚å‘é›†ç¾¤(å‡è®¾æ­¤æ—¶é›†ç¾¤ä¸­æœ‰nä¸ªmember)ä¸­æ·»åŠ ä¸€ä¸ªmemberï¼Œé‚£ä¹ˆæ‰€æœ‰memberçš„åå•†å¯¹è±¡å°±ä¼šå‘ç”Ÿæ”¹å˜ã€‚åŸæ¥æœ‰nä¸ªmemeberå‚ä¸åå•†ï¼Œæ·»åŠ åæœ‰n+1ä¸ªmemberå‚ä¸ï¼Œæ‰€ä»¥etcdè¦å»æ›´æ”¹æ‰€æœ‰memeberçš„åå•†å¯¹è±¡ï¼Œä¿®æ”¹åå•†å¯¹è±¡çš„ä¸€äº›é…ç½®æ–‡ä»¶ã€‚</p><p data-pid="Zkov8UZa">ä½†å¯¹äºåƒAPI Serverè¿™ç§æ— çŠ¶æ€åº”ç”¨çš„é›†ç¾¤ï¼Œæ¨ªå‘æ‰©å±•æ¯”è¾ƒç®€å•ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>æä¾›é›†ç¾¤ç®¡ç†çš„REST APIæ¥å£</b></h3><p data-pid="hpyBEe3a">åŒ…æ‹¬ä»¥ä¸‹çš„åŠŸèƒ½ï¼š</p><ul><li data-pid="G1_aT9pE">è®¤è¯(Authentication)</li><li data-pid="bPTCyTvf">æˆæƒ(Authorization)</li><li data-pid="OAJknPp5">å‡†å…¥(Admission)</li></ul><p class="ztext-empty-paragraph"><br></p><p data-pid="8yOnfaoY"><b>å‡†å…¥(Admission) åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼š</b></p><p data-pid="4aE9Xgkb"><b>ï¼ˆ1ï¼‰Mutating</b></p><p data-pid="bjgoIS4P">å½“ç”¨æˆ·è¦åˆ›å»ºä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œåˆ›å»ºè¯·æ±‚å‘é€åˆ°äº†API Serverã€‚ä½†ä»é›†ç¾¤çš„è§†è§’çœ‹è¿™ä¸ªå¯¹è±¡ï¼Œè¿˜éœ€è¦ç»™è¿™ä¸ªå¯¹è±¡åšä¸€äº›å˜å½¢(æ¯”å¦‚: å¢åŠ ä¸€äº›å±æ€§;ä¿®æ”¹è¯¥å¯¹è±¡çš„æŸäº›å€¼ç­‰æ“ä½œ)ã€‚ è¿™äº›æ“ä½œåœ¨å‡†å…¥çš„Mutatingé˜¶æ®µå®Œæˆã€‚åœ¨API Serveræ¥æ”¶åˆ°è¯·æ±‚ä¹‹åï¼Œç›´åˆ°è¯¥è¯·æ±‚å­˜å‚¨è‡³etcdçš„è·¯å¾„è¿‡ç¨‹ä¸­ï¼Œå‘åŸå§‹çš„éœ€æ±‚ä¸­æ·»åŠ ä¸€äº›å…¶ä»–çš„å±æ€§ã€‚æ·»åŠ è¿™äº›å±æ€§æ˜¯ä¸ºäº†åç»­æ–¹ä¾¿åšä¸€äº›å¹³å°å±‚é¢çš„æ“ä½œã€‚</p><p data-pid="KrC1yAsx"><b>ï¼ˆ2ï¼‰Validating</b></p><p data-pid="p15uFq2c">Validatingé˜¶æ®µä¹‹å‰æ˜¯Mutatingé˜¶æ®µã€‚å½“ä¸€ä¸ªè¯·æ±‚å¯¹è±¡ç»å†äº†Mutatingé˜¶æ®µåï¼Œå‘ç”Ÿäº†å˜å½¢ã€‚ä½†å˜å½¢åçš„è¯·æ±‚å¯¹è±¡ä¸ä¸€å®šè¿˜æ˜¯ä¸€ä¸ªåˆæ³•å¯¹è±¡ã€‚Validatingé˜¶æ®µå°±æ˜¯è´Ÿè´£å¯¹å˜å½¢åçš„è¯·æ±‚åšæ ¡éªŒçš„ã€‚</p><blockquote data-pid="qbBRmF2j"><b>å‡†å…¥é˜¶æ®µä¸é€šè¿‡ï¼Œåˆ™æ•´ä¸ªè¯·æ±‚ä¸ä¼šè¢«å­˜å‚¨è‡³etcdã€‚</b></blockquote><p data-pid="S-4pNXwD"><b>ç»“æ„å›¾</b></p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-d88bc861b6a062e017b4cff8b9c3fd10_r.jpg" data-caption="" data-size="normal" width="4932" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p data-pid="oCw00nNJ">å…¶ä»–æ¨¡å—é€šè¿‡APIServeræŸ¥è¯¢æˆ–ä¿®æ”¹æ•°æ®ï¼Œåªæœ‰APIServeræ‰èƒ½æ“ä½œetcd</p><p class="ztext-empty-paragraph"><br></p><h3><b>æä¾›æ•°æ®çš„ç¼“å­˜</b></h3><p data-pid="GaLFewsF"><b>æä¾›etcdæ•°æ®ç¼“å­˜ä»¥å‡å°‘é›†ç¾¤å¯¹etcdçš„è®¿é—®</b></p><blockquote data-pid="cR9qFNF4">API Serveræœ¬èº«è¿˜æ˜¯ä¸ªç¼“å­˜ã€‚</blockquote><p data-pid="uJpq0uZk">API Serveræ˜¯å”¯ä¸€å’Œetcdé€šä¿¡çš„ç»„ä»¶ã€‚etcdæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼K-Vå­˜å‚¨æœåŠ¡ã€‚ç”±äºæ˜¯åˆ†å¸ƒå¼å­˜å‚¨æœåŠ¡ï¼Œæ‰€ä»¥æ€§èƒ½å¹¶ä¸ä¼šç‰¹åˆ«å¥½ã€‚å¦‚æœè¯·æ±‚æ˜¯æµ·é‡çš„ï¼Œé‚£ä¹ˆetcdä¸€å®šæ˜¯æ— æ³•åŠæ—¶å¤„ç†çš„ã€‚</p><p data-pid="qNt54vfE"><b>å› æ­¤API Serverä¸­ç»´æŠ¤äº†ä¸€ä»½æ•°æ®ç¼“å­˜ã€‚</b> API Serveræœ¬èº«å°±ä¼šç¼“å†²å®¢æˆ·ç«¯å¯¹etcdçš„å‹åŠ›ã€‚å¯¹è¯»æ“ä½œè€Œè¨€ï¼ŒAPI Serverä¹Ÿæœ‰ç¼“å­˜ã€‚å¦‚æœå®¢æˆ·ç«¯è®¤åŒç¼“å­˜ä¸­çš„å†…å®¹ï¼Œåˆ™è¿™ä¸ªè¯»è¯·æ±‚å°±ä¸ä¼šå‘é€è‡³etcdã€‚</p><p class="ztext-empty-paragraph"><br></p><h2><b>Controller Manager</b></h2><p data-pid="Hz6lJlZJ"><i>æ§åˆ¶å™¨çš„æ¦‚å¿µé‚£å¯å¤ªå¤šäº†~</i></p><p data-pid="wQaPCzEN">Controller Manageræ˜¯é›†ç¾¤çš„å¤§è„‘ï¼Œæ˜¯ç¡®ä¿æ•´ä¸ªé›†ç¾¤åŠ¨èµ·æ¥çš„å…³é”®</p><p data-pid="YUFmOR5W">Controller Managerçš„ä½œç”¨æ˜¯ç¡®ä¿Kuberneteséµå¾ªå£°æ˜å¼ç³»ç»Ÿè§„èŒƒï¼Œç¡®ä¿ç³»ç»Ÿçš„çœŸå®çŠ¶æ€(Actual State)ä¸ç”¨æˆ·å®šä¹‰çš„æœŸæœ›çŠ¶æ€(Desired State)ä¸€è‡´</p><blockquote data-pid="4fTU0WOp">å…¶å®æ‰€æœ‰çš„æ§åˆ¶å™¨éƒ½éµå¾ªäº†åŒæ ·çš„è§„èŒƒã€‚å…ˆè¯»å–ç”¨æˆ·è¯·æ±‚ä¸­çš„æŠ½è±¡å¯¹è±¡ï¼Œè¿™ä¸ªæŠ½è±¡å¯¹è±¡ä¸­æœ‰ç”¨æˆ·çš„æœŸæœ›çŠ¶æ€(Desired State)ã€‚è¯»å–åˆ°Desired Stateåï¼Œæ§åˆ¶å™¨å°±è¦å»åšçœŸå®çš„é…ç½®äº†ã€‚æ§åˆ¶å™¨è¦ç¡®ä¿ç³»ç»Ÿçš„çœŸå®çŠ¶æ€(Actual State)å’Œç”¨æˆ·çš„æœŸæœ›çŠ¶æ€ä¿æŒä¸€è‡´ã€‚</blockquote><p data-pid="BTI2YRS7">Controller Manageræ˜¯å¤šä¸ªæ§åˆ¶å™¨çš„ç»„åˆï¼Œæ¯ä¸ªControlleräº‹å®ä¸Šéƒ½æ˜¯ä¸€ä¸ªcontrol loopï¼Œè´Ÿè´£ä¾¦å¬å…¶ç®¡æ§çš„å¯¹è±¡ï¼Œå½“å¯¹è±¡å‘ç”Ÿå˜æ›´æ—¶å®Œæˆé…ç½®</p><p data-pid="O-IUIfPD">Controller é…ç½®å¤±è´¥é€šå¸¸ä¼šè§¦å‘è‡ªåŠ¨é‡è¯•ï¼Œæ•´ä¸ªé›†ç¾¤ä¼šåœ¨æ§åˆ¶å™¨ä¸æ–­é‡è¯•çš„æœºåˆ¶ä¸‹ç¡®ä¿ <b>æœ€ç»ˆä¸€è‡´æ€§(Eventual Consisitency)</b></p><p data-pid="FZpH5JbQ">å¦‚æœé…ç½®å‡ºç°äº†é”™è¯¯ï¼Œæ§åˆ¶å™¨è¦è‡ªåŠ¨é‡è¯•ï¼Œç›´åˆ°æ‰€æœ‰çš„è¯·æ±‚éƒ½è¢«æ»¡è¶³ï¼Œæ‰æ”¾å¼ƒé‡è¯•ã€‚<b>è¿™ç§ä¸æ–­é‡è¯•çš„æœºåˆ¶æœ€ç»ˆè¦è¾¾åˆ°çš„ç›®çš„æ˜¯: æœ€ç»ˆä¸€è‡´æ€§(Eventual Consisitency)</b></p><blockquote data-pid="-3y_VZws"><b>ä¾‹:</b>  ç”¨æˆ·æäº¤äº†ä¸€ä¸ªåˆ›å»ºPodçš„è¯·æ±‚ã€‚åœ¨è¯¥è¯·æ±‚ä¸­ï¼Œç”¨æˆ·æè¿°è¯¥Podéœ€è¦4ä¸ªCPUã€‚ä½†å½“å‰é›†ç¾¤ä¸­å·²ç»æ²¡æœ‰ä»»ä½•èŠ‚ç‚¹èƒ½å¤Ÿæ»¡è¶³è¯¥éœ€æ±‚äº†ï¼Œæ­¤æ—¶è¯¥Podå¤„äºPendingçš„çŠ¶æ€ã€‚å³: å› ä¸ºæ²¡æœ‰é€‚åˆçš„èŠ‚ç‚¹ï¼Œæ‰€ä»¥è°ƒåº¦ä¸æˆåŠŸã€‚ä½†è¿™ä¸ªè°ƒåº¦åç»­è¿˜ä¼šä¸æ–­é‡è¯•ï¼Œç›´åˆ°èƒ½å¤Ÿæ»¡è¶³è¯¥è¯·æ±‚çš„éœ€æ±‚(å¯èƒ½æ˜¯åˆ«çš„èµ„æºæ¶ˆå¤±(é€€å‡º)ï¼Œé‡Šæ”¾äº†è¶³å¤Ÿå¤šçš„èµ„æº; ä¹Ÿå¯èƒ½æ˜¯å½“å‰é›†ç¾¤ä¸­æœ‰æ–°çš„èŠ‚ç‚¹åŠ å…¥è¿›æ¥)ï¼Œè°ƒåº¦å™¨ä¼šè‡ªåŠ¨è°ƒç”¨è¿™ä¸ªå¤„äºPendingçŠ¶æ€çš„Podï¼Œæœ€ç»ˆæŠŠè¿™ä¸ªPodå¯åŠ¨èµ·æ¥ã€‚</blockquote><p data-pid="B3SiVXuz">æ‰€è°“ <b>Eventual Consisitency</b>ï¼Œå³ä»ç”¨æˆ·çš„è§†è§’çœ‹ï¼Œ<b>ä¸éœ€è¦æ˜æ˜¾çš„é‡è¯•ï¼Œåªéœ€å‘ŠçŸ¥å¹³å°ç”¨æˆ·çš„æœŸæœ›ï¼Œå…¶ä»–çš„å·¥ä½œç”±å¹³å°æ¥å®Œæˆã€‚</b></p><p data-pid="PLHTPSM4">ä½†æ˜¯ä»åŸæœ‰ç³»ç»Ÿåˆ‡åˆ°Kubernetesçš„æƒ…å†µä¸‹ï¼Œå¾€å¾€ä¼šå‡ºç°å¾ˆå¤š <b>ä¸é€‚åº”æ€§</b>ã€‚</p><blockquote data-pid="ZNYz5ho5">ä¾‹å¦‚: åŸæœ‰ç³»ç»Ÿä¸­ï¼ŒæŸæœåŠ¡è¦æ±‚3ä¸ªå®ä¾‹ã€‚è¿ç§»åˆ°Kubernetesæ—¶ï¼ŒKubernetesä¼šå»åˆ›å»ºPod(å®é™…ä¸Šæ˜¯1ä¸ªPodçš„3ä¸ªå‰¯æœ¬)ï¼Œä½†Kuberneteså¹¶ä¸ä¿è¯ä¸€å®šèƒ½åˆ›å»ºå‡º3ä¸ªèƒ½å¤Ÿè¿è¡Œçš„(å¤„äºRunning)çŠ¶æ€çš„Podã€‚ä½†åœ¨åŸæœ‰ç³»ç»Ÿä¸­ï¼Œå¯¹äºç”³è¯·èµ„æºæ˜¯æœ‰å…¶è‡ªå·±çš„å¤±è´¥æœºåˆ¶çš„(æ¯”å¦‚æäº¤ç”³è¯·åæ‹¿ä¸åˆ°3ä¸ªå®ä¾‹åˆ™åˆ¤å®šä¸ºç”³è¯·å¤±è´¥)ã€‚ç›´ç™½ä¸€ç‚¹çš„è¯´æ³•å°±æ˜¯: åŸæœ‰ç³»ç»Ÿæœ‰å…¶è‡ªå·±çš„ç”³è¯·å¤±è´¥æœºåˆ¶ï¼Œå’ŒKubernetesä¸ºç¡®ä¿Eventual Consisitencyçš„é‡è¯•æœºåˆ¶ç›¸å†²çª</blockquote><p data-pid="gJyPNs1b">å› æ­¤è¿™ç§æœ€ç»ˆä¸€è‡´æ€§çš„é€‚åº”æ€§æ˜¯éœ€è¦å»ç†è§£çš„ã€‚</p><blockquote data-pid="0lUnObxo">åœ¨æœ¬ä¾‹ä¸­ï¼Œå°±å¯ä»¥ä½¿ç”¨è¶…æ—¶æ§åˆ¶çš„æ€è·¯æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ä¸ºè¯¥æ¬¡ç”³è¯·è®¾ç½®ä¸€ä¸ªè¶…æ—¶æ—¶é—´(å‡è®¾è¶…æ—¶æ—¶é—´ä¸ºTå°æ—¶)ï¼Œè‹¥æäº¤ç”³è¯·åçš„Tå°æ—¶å½“Kubernetesè¿˜æ²¡æœ‰ä¸ºè¯¥ç”³è¯·æˆåŠŸåˆ›å»ºå‡º3ä¸ªå¤„äºRunningçŠ¶æ€çš„Podï¼Œåˆ™æŠ¥é”™ã€‚æŠ¥é”™åå°±å¯ä»¥ä½¿ç”¨åŸæœ‰ç³»ç»Ÿçš„ç”³è¯·å¤±è´¥æœºåˆ¶æ¥å¤„ç†äº†ã€‚è¿™æ ·å°±å¯ä»¥ä¸åŸæœ‰ç³»ç»Ÿé€‚é…äº†ã€‚</blockquote><p class="ztext-empty-paragraph"><br></p><h3><b>å·¥ä½œæµç¨‹</b></h3><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-31f7973f7e642969988c3adad3cfd18b_r.jpg" data-caption="" data-size="normal" width="3222" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>Informer å†…éƒ¨æœºåˆ¶</b></h3><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-f9352857109ae7970da2e1c8514a6c6a_r.jpg" data-caption="" data-size="normal" width="3828" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p data-pid="f3OAHg-8">Kubernetes ä¸­ä½¿ç”¨ http è¿›è¡Œé€šä¿¡ï¼Œ<b>å¦‚ä½•ä¸ä¾èµ–ä¸­é—´ä»¶çš„æƒ…å†µä¸‹ä¿è¯æ¶ˆæ¯çš„å®æ—¶æ€§ï¼Œå¯é æ€§å’Œé¡ºåºæ€§ç­‰å‘¢</b>ï¼Ÿç­”æ¡ˆå°±æ˜¯åˆ©ç”¨äº† Informer æœºåˆ¶ã€‚Informer çš„æœºåˆ¶ï¼Œé™ä½äº†äº† Kubernetes å„ä¸ªç»„ä»¶è·Ÿ Etcd ä¸ Kubernetes API Server çš„é€šä¿¡å‹åŠ›ã€‚</p><blockquote data-pid="ZWHBVt6j">è¿™ä¹ˆä¸€è¯´ï¼Œå¯èƒ½è¿˜æ˜¯ä¸ç†è§£ï¼Œé›€æ°ï¼Œæˆ‘å‚è€ƒæ”¶é›†äº†ä¹¦ç±å’Œæ–‡æ¡£ï¼Œå½’çº³å¦‚ä¸‹ï¼š<br>è®¾è®¡ Kubernetes çš„æ¶æ„æ˜¯ç‰¹åˆ«å¤æ‚çš„ï¼Œè¿™äº›äººä¹Ÿéƒ½æ˜¯Linuxç‰¹åˆ«ç‰›çš„äººæ‰ã€‚<br>æˆ‘ä»¬éƒ½çŸ¥é“ Kubernetes ä¸­æœ‰å¾ˆå¤š API å¯¹è±¡ï¼Œæˆ‘ä»¬å®šä¹‰è¿™äº›å¯¹è±¡çš„æ—¶å€™ï¼Œåªéœ€è¦å»å®šä¹‰ä»–ä»¬çš„æ•°æ®ç»“æ„ã€‚<br>æ•°æ®ç»“æ„åˆ›å»ºå¥½åï¼Œä¼šé€šè¿‡ API Server å‘å¸ƒï¼Œ ç„¶åæˆ‘ä»¬å°±å¯ä»¥æŸ¥çœ‹äº†ã€‚<br>Kubernetes ä¸­æ‰€æœ‰å¯¹è±¡çš„ è®¿é—® éƒ½æ˜¯é€šè¿‡ API Server å»åšçš„~<br>Informer å°±æ˜¯ä¼šæä¾› <code>List &amp; Watch</code> æœºåˆ¶ï¼Œå¯åŠ¨åä¼šå‘é€ä¸€ä¸ªé•¿è¿æ¥åˆ° API Serverã€‚å…ˆ list ä¸€ä¸‹ï¼Œå watch ä¸€ä¸‹ã€‚<br>Reflector é€šè¿‡åå°„æœºåˆ¶è§£æ keyï¼Œï¼ˆswagger.jsonï¼‰ï¼Œå°†åºåˆ—åŒ– å¯¹è±¡ è½¬åŒ–ä¸º Goè¯­è¨€ å¯¹è±¡ï¼Œæ”¾å…¥ mapã€‚<br>åé¢æ˜¯ä¸€ä¸ªç¯çŠ¶æ•°æ®ç»“æ„ï¼Œç„¶åæˆ‘ä»¬å¾€å…¶ä¸­å†™å…¥æ•°æ®ï¼Œæ•°æ®æ»¡äº†å°±å¼¹å‡ºè€å¯¹è±¡ã€‚æ”¾å…¥ informer ä¸­ï¼Œç„¶åå°±åƒå›¾ä¸­è¯´çš„ï¼Œæ·»åŠ å¯¹è±¡ï¼ŒåŒæ—¶åˆ†é… Event åˆ° Handlerâ€¦â€¦<br>å¯¹è±¡çš„ä¿¡æ¯ ä¼š å­˜å‚¨åœ¨æœ¬åœ°ç¼“å­˜ï¼Œæ‰€ä»¥æˆ‘ä»¬åé¢è¯»å–å¯¹è±¡çš„æ—¶å€™åº”è¯¥å» <code>Therad Safe Store</code> è¯»å–ï¼Œè€Œä¸æ˜¯å» API Server ä¸­è¯»å–ã€‚<br>å½“æˆ‘ä»¬éœ€è¦æ›´æ–°å¯¹è±¡çš„æ—¶å€™ï¼Œéœ€è¦å» API Server ä¸­ã€‚<br>è¿™æ ·ä¾èµ– informerï¼Œé™ä½äº†äº† Kubernetes å„ä¸ªç»„ä»¶è·Ÿ Etcd ä¸ Kubernetes API Server çš„é€šä¿¡å‹åŠ›ã€‚</blockquote><p class="ztext-empty-paragraph"><br></p><p data-pid="_4-KID6s"><b>ç›¸å…³æ–‡ç« ï¼š</b></p><ul><li data-pid="AHsPO5fb"><a href="https://cloudnative.to/blog/client-go-informer-source-code/" target="_blank">æ·±å…¥äº†è§£ Kubernetes Informer</a></li><li data-pid="idKhqz92"><a href="https://github.com/huweihuang/kubernetes-notes" target="_blank">Kubernetes å­¦ä¹ ç¬”è®°</a></li></ul><p data-pid="1bchA3u_"><b>è¿™é‡Œéœ€è¦å¯¹åº” Kubernetes çš„ä»£ç å»çœ‹ã€‚è¯¥éƒ¨åˆ†çš„ä»£ç ä¸»è¦ä½äº<code>client-go</code>è¿™ä¸ªç¬¬ä¸‰æ–¹åŒ…ä¸­ã€‚</b></p><ul><li data-pid="dP-8Xili"><a href="https://github.com/kubernetes/kubernetes/tree/master/staging/src/k8s.io/client-go/tools/cache" target="_blank"><span class="invisible">https://</span><span class="visible">github.com/kubernetes/k</span><span class="invisible">ubernetes/tree/master/staging/src/k8s.io/client-go/tools/cache</span><span class="ellipsis"></span></a></li></ul><blockquote data-pid="1zGrEvMm">æ­¤éƒ¨åˆ†çš„é€»è¾‘ä¸»è¦ä½äº<code>/vendor/k8s.io/client-go/tools/cache</code>åŒ…ä¸­ï¼Œä»£ç ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</blockquote><div class="highlight"><pre><code class="language-bash"> cache
 â”œâ”€â”€ controller.go  <span class="c1"># åŒ…å«ï¼šConfigã€Runã€processLoopã€NewInformerã€NewIndexerInformer</span>
 â”œâ”€â”€ delta_fifo.go  <span class="c1"># åŒ…å«ï¼šNewDeltaFIFOã€DeltaFIFOã€AddIfNotPresent</span>
 â”œâ”€â”€ expiration_cache.go
 â”œâ”€â”€ expiration_cache_fakes.go
 â”œâ”€â”€ fake_custom_store.go
 â”œâ”€â”€ fifo.go   <span class="c1"># åŒ…å«ï¼šQueueã€FIFOã€NewFIFO</span>
 â”œâ”€â”€ heap.go
 â”œâ”€â”€ index.go    <span class="c1"># åŒ…å«ï¼šIndexerã€MetaNamespaceIndexFunc</span>
 â”œâ”€â”€ listers.go
 â”œâ”€â”€ listwatch.go   <span class="c1"># åŒ…å«ï¼šListerWatcherã€ListWatchã€Listã€Watch</span>
 â”œâ”€â”€ mutation_cache.go
 â”œâ”€â”€ mutation_detector.go
 â”œâ”€â”€ reflector.go   <span class="c1"># åŒ…å«ï¼šReflectorã€NewReflectorã€Runã€ListAndWatch</span>
 â”œâ”€â”€ reflector_metrics.go
 â”œâ”€â”€ shared_informer.go  <span class="c1"># åŒ…å«ï¼šNewSharedInformerã€WaitForCacheSyncã€Runã€HasSynced</span>
 â”œâ”€â”€ store.go  <span class="c1"># åŒ…å«ï¼šStoreã€MetaNamespaceKeyFuncã€SplitMetaNamespaceKey</span>
 â”œâ”€â”€ testing
 â”‚   â”œâ”€â”€ fake_controller_source.go
 â”œâ”€â”€ thread_safe_store.go  <span class="c1"># åŒ…å«ï¼šThreadSafeStoreã€threadSafeMap</span>
 â”œâ”€â”€ undelta_store.go</code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="-N_nekl7"><b>æ¶æ„è®¾è®¡ï¼š</b></p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-359a50597b155b9778664849b1482de7_r.jpg" data-caption="" data-size="normal" width="1875" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p data-pid="5mY6RNCC">âš ï¸ è¿™å¼ å›¾åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œé»„è‰²å›¾æ ‡æ˜¯å¼€å‘è€…éœ€è¦è‡ªè¡Œå¼€å‘çš„éƒ¨åˆ†ï¼Œè€Œå…¶å®ƒçš„éƒ¨åˆ†æ˜¯ client-go å·²ç»æä¾›çš„ï¼Œç›´æ¥ä½¿ç”¨å³å¯ã€‚</p><ol><li data-pid="-2iA2you"><b>Reflector</b>ï¼šç”¨äº Watch æŒ‡å®šçš„ Kubernetes èµ„æºï¼Œå½“ watch çš„èµ„æºå‘ç”Ÿå˜åŒ–æ—¶ï¼Œè§¦å‘å˜æ›´çš„äº‹ä»¶ï¼Œæ¯”å¦‚ Addedï¼ŒUpdated å’Œ Deleted äº‹ä»¶ï¼Œå¹¶å°†èµ„æºå¯¹è±¡å­˜æ”¾åˆ°æœ¬åœ°ç¼“å­˜ DeltaFIFOï¼›</li><li data-pid="E2A2eUzg"><b>DeltaFIFO</b>ï¼šæ‹†å¼€ç†è§£ï¼ŒFIFO å°±æ˜¯ä¸€ä¸ªé˜Ÿåˆ—ï¼Œæ‹¥æœ‰é˜Ÿåˆ—åŸºæœ¬æ–¹æ³•ï¼ˆADDï¼ŒUPDATEï¼ŒDELETEï¼ŒLISTï¼ŒPOPï¼ŒCLOSE ç­‰ï¼‰ï¼ŒDelta æ˜¯ä¸€ä¸ªèµ„æºå¯¹è±¡å­˜å‚¨ï¼Œä¿å­˜å­˜å‚¨å¯¹è±¡çš„æ¶ˆè´¹ç±»å‹ï¼Œæ¯”å¦‚ Addedï¼ŒUpdatedï¼ŒDeletedï¼ŒSync ç­‰ï¼›</li><li data-pid="74PT8cMQ"><b>Indexer</b>ï¼šClient-go ç”¨æ¥å­˜å‚¨èµ„æºå¯¹è±¡å¹¶è‡ªå¸¦ç´¢å¼•åŠŸèƒ½çš„æœ¬åœ°å­˜å‚¨ï¼ŒReflector ä» DeltaFIFO ä¸­å°†æ¶ˆè´¹å‡ºæ¥çš„èµ„æºå¯¹è±¡å­˜å‚¨åˆ° Indexerï¼ŒIndexer ä¸ Etcd é›†ç¾¤ä¸­çš„æ•°æ®å®Œå…¨ä¿æŒä¸€è‡´ã€‚ä»è€Œ client-go å¯ä»¥æœ¬åœ°è¯»å–ï¼Œå‡å°‘ Kubernetes API å’Œ Etcd é›†ç¾¤çš„å‹åŠ›ã€‚</li></ol><p class="ztext-empty-paragraph"><br></p><p data-pid="2RKpaw1c">çœ‹ä¹¦æœ¬ä¸Šçš„ä¸€ä¸ªä¾‹å­ï¼Œæƒ³ä½¿ç”¨ Informer çš„å…³é”®æµç¨‹å¦‚ä¸‹ï¼š</p><div class="highlight"><pre><code class="language-go"> <span class="nx">clientset</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">kubernetes</span><span class="p">.</span><span class="nf">NewForConfig</span><span class="p">(</span><span class="nx">config</span><span class="p">)</span>
 <span class="nx">stopCh</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">chan</span> <span class="kd">struct</span><span class="p">{})</span>
 <span class="k">defer</span> <span class="nb">close</span><span class="p">(</span><span class="nx">stopch</span><span class="p">)</span>
 <span class="nx">sharedInformers</span> <span class="o">:=</span> <span class="nx">informers</span><span class="p">.</span><span class="nf">NewSharedInformerFactory</span><span class="p">(</span><span class="nx">clientset</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Minute</span><span class="p">)</span>
 <span class="nx">informer</span> <span class="o">:=</span> <span class="nx">sharedInformer</span><span class="p">.</span><span class="nf">Core</span><span class="p">().</span><span class="nf">V1</span><span class="p">().</span><span class="nf">Pods</span><span class="p">().</span><span class="nf">Informer</span><span class="p">()</span>
 <span class="nx">informer</span><span class="p">.</span><span class="nf">AddEventHandler</span><span class="p">(</span><span class="nx">cache</span><span class="p">.</span><span class="nx">ResourceEventHandlerFuncs</span><span class="p">{</span>
   <span class="nx">AddFunc</span><span class="p">:</span> <span class="kd">func</span><span class="p">(</span><span class="nx">obj</span> <span class="kd">interface</span><span class="p">{}</span> <span class="p">{</span>
     <span class="c1">// ...
</span><span class="c1"></span>   <span class="p">},</span>
   <span class="nx">UpdateFunc</span><span class="p">:</span> <span class="kd">func</span><span class="p">(</span><span class="nx">obj</span> <span class="kd">interface</span><span class="p">{}</span> <span class="p">{</span>
     <span class="c1">// ...
</span><span class="c1"></span>   <span class="p">},</span>
   <span class="nx">DeleteFunc</span>  <span class="p">:</span> <span class="kd">func</span><span class="p">(</span><span class="nx">obj</span> <span class="kd">interface</span><span class="p">{}</span> <span class="p">{</span>
     <span class="c1">// ...
</span><span class="c1"></span>   <span class="p">})</span>
   <span class="nx">informer</span><span class="p">.</span><span class="nf">Run</span><span class="p">(</span><span class="nx">stopCh</span><span class="p">)</span>
 <span class="p">})</span>
</code></pre></div><p class="ztext-empty-paragraph"><br></p><h3><b>Deployment ååŒå·¥ä½œåŸç†</b></h3><p data-pid="4yJFlj7A"><b>å…ˆå®‰è£…é›†ç¾¤ï¼š</b></p><div class="highlight"><pre><code class="language-bash"> /root/workspces/sealer/_output/bin/sealer/linux_amd64/sealer run docker.io/sealerio/kubernetes:v1.22.15 --masters  192.168.137.133 --nodes 192.168.137.134 192.168.137.135 --user root --passwd <span class="m">123456</span></code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="7bqq1ws7"><b>åœ¨ master èŠ‚ç‚¹ä¸Šåˆ›å»ºæ–‡ä»¶ <code>nginx-deploy.yaml</code></b></p><div class="highlight"><pre><code class="language-yaml"><span class="w">  </span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l">apps/v1</span><span class="w">
</span><span class="w">  </span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l">Deployment</span><span class="w">
</span><span class="w">  </span><span class="nt">metadata</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">nginx-deployment</span><span class="w">
</span><span class="w">  </span><span class="nt">spec</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">replicas</span><span class="p">:</span><span class="w"> </span><span class="m">1</span><span class="w">
</span><span class="w">    </span><span class="nt">selector</span><span class="p">:</span><span class="w">
</span><span class="w">      </span><span class="nt">matchLabels</span><span class="p">:</span><span class="w">
</span><span class="w">        </span><span class="nt">app</span><span class="p">:</span><span class="w"> </span><span class="l">nginx</span><span class="w">
</span><span class="w">    </span><span class="nt">template</span><span class="p">:</span><span class="w">
</span><span class="w">      </span><span class="nt">metadata</span><span class="p">:</span><span class="w">
</span><span class="w">        </span><span class="nt">labels</span><span class="p">:</span><span class="w">
</span><span class="w">          </span><span class="nt">app</span><span class="p">:</span><span class="w"> </span><span class="l">nginx</span><span class="w">
</span><span class="w">      </span><span class="nt">spec</span><span class="p">:</span><span class="w">
</span><span class="w">        </span><span class="nt">containers</span><span class="p">:</span><span class="w">
</span><span class="w">          </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">nginx</span><span class="w">
</span><span class="w">            </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l">nginx</span></code></pre></div><p data-pid="rQX9MPRO">Deploymentå¯¹è±¡ç”¨äºæè¿°ä¸€ä¸ªæ— çŠ¶æ€åº”ç”¨éƒ¨ç½²çš„å¯¹è±¡ã€‚</p><p data-pid="tkiMwBKC">åœ¨è¿™ä¸ªyamlæ–‡ä»¶ä¸­ï¼Œtemplateéƒ¨åˆ†æ˜¯ä¸€ä¸ªæ¨¡æ¿ã€‚ç”¨æˆ·å¸Œæœ›åœ¨Kubernetesä¸Šéƒ¨ç½²ä¸€ä¸ªåº”ç”¨ã€‚åº”ç”¨åœ¨Kubernetesé›†ç¾¤å†…éƒ¨ï¼Œå°±æ˜¯ä¸€ä¸ªPod.æ­¤å¤„ç”¨æˆ·æŒ‡å®š:</p><ul><li data-pid="Ov6z7v2C">åœ¨è¯¥Podä¸­ä½¿ç”¨nginxé•œåƒ(<code>spec.template.spec.containers.image</code>)</li><li data-pid="SNZ-qiMO">æŒ‡å®šè¯¥Podçš„å‰¯æœ¬æ•°ä¸º1(<code>spec.replicas</code>)</li></ul><p class="ztext-empty-paragraph"><br></p><p data-pid="q4ZRsvX5"><b>åˆ›å»ºDeploymentå¯¹è±¡</b></p><div class="highlight"><pre><code class="language-bash"> kubectl create -f nginx-deploy.yaml -v <span class="m">9</span></code></pre></div><ul><li data-pid="_dz_oUsX">æ­¤å¤„é€‰é¡¹<code>-v 9</code>è¡¨ç¤ºæŸ¥çœ‹åˆ›å»ºæ—¶çš„æ—¥å¿—ä¿¡æ¯.</li></ul><p class="ztext-empty-paragraph"><br></p><p data-pid="-gSBZYOH"><b>è¯»å–é…ç½®æ–‡ä»¶</b></p><div class="highlight"><pre><code class="language-bash"> I0216 15:53:28.032360 <span class="m">1045972</span> loader.go:372<span class="o">]</span> Config loaded from file:  /home/soap/.kube/config</code></pre></div><blockquote data-pid="SkSoDD4w"><code>/home/soap/.kube/config</code>å³kubectlé»˜è®¤è¯»å–çš„é…ç½®æ–‡ä»¶.<br> soap@k8s-master:~$ cat /home/soap/.kube/config<br> apiVersion: v1<br> clusters:<br> - cluster:<br>     certificate-authority-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUMvakNDQWVhZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKY201bGRHVnpNQjRYRFRJeU1ESXdPVEE0TXpBek5Wb1hEVE15TURJd056QTRNekF6TlZvd0ZURVRNQkVHQTFVRQpBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTndnCmd3S1owUTlCcFBZTXJtSXYwK21yaEZuUWg1WDJhencyV1kxbUcxWnBNM3hLVXpsYnd1eGJZTkd5MWRWMXVOVDYKZTBMdFZqckNOZHBRWGhqYUI3UHJqbDRSR1RoT1FjQkFKMTNWclMva0hFVTFpWkdiOFhsdUJsa1JFRW1ZcEttdAo0R3dLbUJNdERYcENQdXdLVW5Ya05OamV4QlByWWF1bEcya0crL1oza2dGZnhIR2JBQjNjb25TamgxZTVlSzl5CkVUZXR2REE1cVBUS0hYRWlSdy91Uy9zdkQyWXBxVGpDOHRCeENNeGhGeXh2eXpIVVdQYlFjdTg0TG9pY0d0L2UKVUFDT1N3VUpiMTlndGlWSzlVWlZnb2V1bFZaS0Y2UHh2ZzkvRHhqc01ZQ1hZTXJCWXY3bUVIRU1DbVRBMWsvMApLY2FaOEo1dmVZWWlDVXUxM3FVQ0F3RUFBYU5aTUZjd0RnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCCi93UUZNQU1CQWY4d0hRWURWUjBPQkJZRUZNR0IrQUw4UGFZbVIwM1ZDNEJZUmsyNG5zT3hNQlVHQTFVZEVRUU8KTUF5Q0NtdDFZbVZ5Ym1WMFpYTXdEUVlKS29aSWh2Y05BUUVMQlFBRGdnRUJBR1dGd3YyT0EzV3lxemlRQXRPUQpKeEY2emFGL2pTQnJoSGc3WGV0NjdhcEZuRkFDaDZFbklTam9xd3ZEQ2MyQ0U1aHBtblNiT0luNUpxaThpeE5QCitKSGYxeXFmaHVrSWc0RjVUL0VjWnJGQXBPYWNHcVhlbTMzbWlLc0k1ZU5CUUY1WXFSeHVFai82bWt4WXlSUEcKMGNhd3VWeUlRMm01VTZPa3RnUW5neUtrS3BrQk5BcWcranJRTi9CdVoxTGRZcElvVXVpMVZxbHJhSmRTbG00RQplOWk3ekhIM3VOajdEdTJTdERreXdkOWF2VGMzRjBTRXI2TXd5cTZrdVgraFB3a2ZZeHNzNTlDc1E1alp3cGFhCkp0Skw2Ni9xaDFieTREbjNZOE5UaDlNZnRlMWRoc1pXaGVkYmZta3ErWVY2TlowTWJlRC9ZZ2lmNFJKM1U5V3cKNnVFPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==<br>     server: <a href="https://192.168.0.154:6443" target="_blank"><span class="invisible">https://</span><span class="visible">192.168.0.154:6443</span><span class="invisible"></span></a><br>   name: kubernetes<br> contexts:<br> - context:<br>     cluster: kubernetes<br>     user: kubernetes-admin<br>   name: kubernetes-admin@kubernetes<br> current-context: kubernetes-admin@kubernetes<br> kind: Config<br> preferences: {}<br> users:<br> - name: kubernetes-admin<br>   user:<br>     client-certificate-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURJVENDQWdtZ0F3SUJBZ0lJR3dSdXh4ZFFjbzR3RFFZSktvWklodmNOQVFFTEJRQXdGVEVUTUJFR0ExVUUKQXhNS2EzVmlaWEp1WlhSbGN6QWVGdzB5TWpBeU1Ea3dPRE13TXpWYUZ3MHlNekF5TURrd09ETXdNemRhTURReApGekFWQmdOVkJBb1REbk41YzNSbGJUcHRZWE4wWlhKek1Sa3dGd1lEVlFRREV4QnJkV0psY201bGRHVnpMV0ZrCmJXbHVNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQTZVenhRY1BBNUowcFJTc3UKcklOMkZKNFMwZUpwOFZkRmRidXM4Q0syQzk3Snl0eG9WRXJ2c0g1U1BUWU1kdWJRdFFkRkl2UzZYTHVnNmYzZQpaa0NVNmd5bit2bEIyNDRKQU15RFlPOG1GbU5RM3dKQUhRYXhsUTBITTdkUFhBZDJqOFVoZzZNRlRheGgxMmtNCjV4OXNJdndRM0c3LzFOZ240MnhoeWpZZDhlaGNkMFduNTJkY3VhNXcwU1FPN09mY0FkMU02TkU4dG1qMHZRejQKYU10MDFteXU5R0VKQU5nRFAxZXZZeTVLYTFDd0lGbEM0UVVVRXBSc3hud3EybW04amdEN3p1RXV1TDE2eEJocgphc1ZHWXhjcEMxQUxUNjFhbGU1TURBblc3RFZXL1R4cEgxZ3ROOENhOTVONTNITVAvc0NpMGh2bjlDM1FOaXc1CkQzc2ZMd0lEQVFBQm8xWXdWREFPQmdOVkhROEJBZjhFQkFNQ0JhQXdFd1lEVlIwbEJBd3dDZ1lJS3dZQkJRVUgKQXdJd0RBWURWUjBUQVFIL0JBSXdBREFmQmdOVkhTTUVHREFXZ0JUQmdmZ0MvRDJtSmtkTjFRdUFXRVpOdUo3RApzVEFOQmdrcWhraUc5dzBCQVFzRkFBT0NBUUVBeUhwaWdjdFpOVzd5ZStIc3Z2OWF1b0JQU05DdEJKZU8wbGtPClM3YmNwcTRSaFRQdVo0VzhtK3BzNGF5QndaQUtOTDQ5MXdYbVZqWE5ETG1IQ0FXb3dObldyVGNrZHR4UGtXeTUKNmFpSHdYaVUxK2dPRFlFQzdDTGlKR3RIRHZ4dkRvM2xRb2FBZEVpNnF5TVUvUmJIajRPTmduQ1VYSHNpMFB1WQppSHNZQWUxT2VTVmlKeVhBK1RjZ3RZZlc1N0xubnJ0WThsaWJYNzZHU1RaVHBlUUtiOUcyU3ZESitkQVpWYVhPCkUrZE1rays1Q0V4d1BTZEVDNnVEcjlkMVliSGNabEE2VlRpRnYrakpHWDdYZEd2ODI1bWhmUmRKc21LVGpmTjcKSHZiVEI4SFhyNkJIQ1d3emZmOXA0OXNnWUNVRHpLRmcwaWhmdStNQVZjeGtUMHlLRVE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==<br>     client-key-data: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFb3dJQkFBS0NBUUVBNlV6eFFjUEE1SjBwUlNzdXJJTjJGSjRTMGVKcDhWZEZkYnVzOENLMkM5N0p5dHhvClZFcnZzSDVTUFRZTWR1YlF0UWRGSXZTNlhMdWc2ZjNlWmtDVTZneW4rdmxCMjQ0SkFNeURZTzhtRm1OUTN3SkEKSFFheGxRMEhNN2RQWEFkMmo4VWhnNk1GVGF4aDEya001eDlzSXZ3UTNHNy8xTmduNDJ4aHlqWWQ4ZWhjZDBXbgo1MmRjdWE1dzBTUU83T2ZjQWQxTTZORTh0bWowdlF6NGFNdDAxbXl1OUdFSkFOZ0RQMWV2WXk1S2ExQ3dJRmxDCjRRVVVFcFJzeG53cTJtbThqZ0Q3enVFdXVMMTZ4QmhyYXNWR1l4Y3BDMUFMVDYxYWxlNU1EQW5XN0RWVy9UeHAKSDFndE44Q2E5NU41M0hNUC9zQ2kwaHZuOUMzUU5pdzVEM3NmTHdJREFRQUJBb0lCQURwamFWWCtPZjU5WHVEUwp4K0doSFNKWDFYbjE0bkhtVjVuNW1IU1pHMXFwTFhPNTZkcCt6cklyUzBYS2l5QU84RmorTXMxbTFtVnpCL2pICjhxdEFxb1JSR3BGelpJb2dhQnh0RXN4bHpmQjRkcnI1Z3paQWdKMC9IM2hQL21xWDY1SmIwZUZ5SVZlcE51dUUKZlJnekF3dFdicG5jcGVhTkdwNk9kNEwyUEZSWVNxaXZIZWQrYTFmT3hOeVNOUkQ0TkVXMzB1M2Q4OGk4c1pSUApsRlFuWTRlVytqaUc2Vmx1RzduUHNobDdGdzdIM09IOUZJMjFCbURMbmt6alI5SExNZTJhYllnSS96RWFtOGJXCkZObjFSVnpIVXNHYnRYZmpMTy8zT2lmVTY4MUdHZ1FSbU5GZ09NK1NrTjh4VEs4Rzd4QjBMdExVQ2RMVDVuTW0KZndtQ3VRRUNnWUVBNmF6MHQ2UEdOR0JEUXJoNHdWNGNZNlNuOTMzWDc3bEdEcmVhWWNDOVBnRHBJUGxkSUVJQwp1UThTaHNTOFRUSWsya05MK1FyWlorZUNRVmE5MEFXbHY4S0NiRXg3NzFkcS9BUDM4YkVsOXZ5eS9sZktXQjNlCng4OVFVNjlQUWdialJXaGF5VTJTS0ZtRzVlRE9iaVcxMEt5SWNmSXNCZ0hpUzJSR1hsdlpKY0VDZ1lFQS81YlEKVWhXc3lic2ZRTVlPUXkwQjVCYzRvZWF5K2ltc2RoRHF1azhZWFQ3TDZtTUNJYjF2MmhnZVErb1A5cU9LUEtpOApKbnoyY3N2czhZWUJ4UXFZeWc2U1JXMWhDNmQza00xRldKckhmdERiZXdFMS9VNlQ1L29XMWVJd3ZTRTVtMDEzClFqQTNURUwzM2RSSEQ2UlQ5Skd4V2JCcHpReTFNZno5OHl5NDRPOENnWUE3RjRiSERiNW9ybE0wQXl4ZVVldEIKODNpYWFKTjd4dEdGbFQ2UUs4cHZiSkdIeWllWHFibkFqS1ExdW5pWDJPOWkxcFBXeGJ5V3Z2KzhnQy85OC8rbgpUNHZsMFMyaUord2hFT3ZaamQrNDVzeG83MUIzR2c2bFhyTEVodGUzTGNDNVk1dFp2cWtRVlJ0ODlHMmZneC9JClJtazJ6M1A4ak90cC8xQ2dPZi9ld1FLQmdRRGxoYVM4SWhUUjhBVm40TFFNSlUzT2JBQUNmQzc3c2hMYXorUksKdlI3UEZjWi9UTHdzV25jb3JvSDNVU2xXdnBRMFZ2N252VTUvMXB1SVpXUVBjNjJ6dmhRaTNzL0liSEpXQ2RDZAplaGx1eTlaZGhyL2FJd2QxeWNOWi9VN3hlUFhIZm5CN2N0c2wwL25OTG9WR0NiY1BLUXJQMVRtZDF5eWNvR25aClI2OGE1d0tCZ0dmUmdqSEUzTWdKZkIrL09BR1lNYlhSMzZuQmYvVWozNktTZ1JYK2ZQRnRpWndDNXpIZ1FydHYKejI4N0lEWERIWlVxeEhrZkVJN1k2eld4aHpLVStwdnFpOFB5NzhRb3FmbkprdDBpVDM2bFRic0dUZHJvZW56Kwp2VEhYUjJEbk9yUDRjNHZYVEFGRzNiUUNsS0w1SUxaMHI1YjlmZGozRGJDRlJzNktBU1JJCi0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tCg== <br>å¯ä»¥çœ‹åˆ°é…ç½®æ–‡ä»¶ä¸­æœ‰APIServerçš„åœ°å€å’Œç”¨äºç”¨æˆ·è®¤è¯çš„èº«ä»½ä¿¡æ¯</blockquote><p data-pid="h4KmoaiG">æœ‰äº†è¿™äº›ä¿¡æ¯ä¹‹å,kubectlå°±æŠŠè¯·æ±‚å‘é€åˆ°äº†APIServerçš„åœ°å€</p><div class="highlight"><pre><code class="language-bash"> I0216 15:53:28.033943 <span class="m">1045972</span> round_trippers.go:466<span class="o">]</span> curl -v -XGET  -H <span class="s2">"Accept: application/com.github.proto-openapi.spec.v2@v1.0+protobuf"</span> -H <span class="s2">"User-Agent: kubectl/v1.23.3 (linux/amd64) kubernetes/816c97a"</span> <span class="s1">'https://192.168.0.154:6443/openapi/v2?timeout=32s'</span>
 soap@k8s-master:~$ kubectl get rs
 NAME                          DESIRED   CURRENT   READY   AGE
 ...
 nginx-deployment-6799fc88d8   <span class="m">1</span>         <span class="m">1</span>         <span class="m">1</span>       20m
 ...</code></pre></div><p class="ztext-empty-paragraph"><br></p><h3><b>æ§åˆ¶å™¨å·¥ä½œ</b></h3><p data-pid="U6l25Z1R">APIServeråœ¨å®Œæˆè®¤è¯ã€é‰´æƒã€å‡†å…¥çš„æ­¥éª¤åï¼Œå°†è¯·æ±‚å­˜å‚¨è‡³etcdã€‚å­˜å‚¨å®Œæ¯•åæ§åˆ¶å™¨å¼€å§‹å·¥ä½œã€‚</p><p data-pid="PoQcnQuP">æœ¬ä¾‹ä¸­æˆ‘ä»¬åˆ›å»ºçš„æ˜¯ä¸€ä¸ª Deployment å¯¹è±¡ï¼Œå› æ­¤æ˜¯ç”± Deployment Controlleræ¥å®Œæˆè¿™é¡¹å·¥ä½œ.ã€‚Deploymentå¯¹è±¡æœ‰å…¶è¯­ä¹‰ï¼ŒDeploymentå¯¹è±¡è¡¨ç¤ºç”¨æˆ·å¸Œæœ›åˆ›å»ºä¸€ä¸ªPod(æœ¬ä¾‹ä¸­åˆ›å»ºçš„æ˜¯åªæœ‰1ä¸ªå‰¯æœ¬çš„Pod).</p><p data-pid="kW8CG4n6">Deployment Controllerä¼šå»è§£æDeploymentå¯¹è±¡ï¼Œå¹¶åˆ›å»ºReplicaSetå¯¹è±¡(å‰¯æœ¬é›†å¯¹è±¡)ã€‚ç›¸å½“äºDeployment Controllerå‘ŠçŸ¥APIServerï¼šDeployment Controllerè¦åˆ›å»ºä¸€ä¸ªReplicaSetå¯¹è±¡ï¼Œå¹¶å°†æ¨¡æ¿(yamlæ–‡ä»¶ä¸­çš„templateéƒ¨åˆ†)å‘é€ç»™APIServer.</p><p data-pid="rg0t7Nd6">ReplicaSetå¯¹è±¡åŒæ ·ç»è¿‡è®¤è¯ã€é‰´æƒã€å‡†å…¥çš„æ­¥éª¤åï¼Œè¢«å­˜å‚¨è‡³äº†etcd.ä¹‹åReplicaSet Controllerä¼šWatch APIServer,ç›‘å¬ReplicaSetå¯¹è±¡ã€‚å½“ReplicaSet Controllerç›‘å¬åˆ°ReplicaSetå¯¹è±¡è¢«åˆ›å»ºåï¼ŒåŒæ ·ä¼šå»è§£æè¯¥ReplicaSetå¯¹è±¡ã€‚é€šè¿‡è§£æå¾—çŸ¥å‰¯æœ¬æ•°é‡ã€Podæ¨¡æ¿ç­‰ä¿¡æ¯åï¼ŒReplicaSet Controllerå°±å¯ä»¥å®ŒæˆPodçš„åˆ›å»ºäº†ã€‚</p><p data-pid="VjxaVx7F">åˆ›å»ºPodè¿™ä¸€æ“ä½œåŒæ ·ä¹Ÿä½œä¸ºä¸€ä¸ªè¯·æ±‚è¢«å‘é€åˆ°äº†APIServerã€‚è¯¥Podåœ¨åˆ›å»ºæ—¶æ²¡æœ‰ç»è¿‡è°ƒåº¦ã€‚</p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-003bcecbdaeebfb717c36304aae114f4_r.jpg" data-caption="" data-size="normal" width="2024" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><blockquote data-pid="xOZMaNsQ"><b>å¯ä»¥çœ‹åˆ° deployment å¹¶ä¸æ˜¯ç›´æ¥æ§åˆ¶ pod ï¼Œè€Œæ˜¯ é€šè¿‡ åˆ›å»º ReplicaSer é—´æ¥çš„æ§åˆ¶ / åˆ›å»º Pod ï¼Œä½†æ˜¯ deployment åªæ˜¯è´Ÿè´£æ°´å¹³è¿ç§»ã€‚æ‰€ä»¥æ˜¯ä¸€ä¸ª åŒå±‚æ§åˆ¶å™¨ å®ç°æ•…éšœè½¬ç§»å’Œ HAï¼ˆé€šè¿‡æ»šåŠ¨å‡çº§å®ç°ï¼‰~</b></blockquote><p data-pid="WAq4Yep6"><b>æœ€åèŠ‚ç‚¹çš„ kubelet å°±å¼€å§‹å¹²æ´»äº†ï¼Œkubelet ç›‘å¬ç»‘å®šè‡³æœ¬èŠ‚ç‚¹çš„ podï¼Œç„¶åå»æŸ¥ä¸€æŸ¥ï¼Œè¿™ä¸ª pod æœ‰æ²¡æœ‰ runã€‚</b></p><p data-pid="dkGuOLxf">init pod actionsï¼š</p><p data-pid="nuwOlR2D">Kubernetes åœ¨å¯åŠ¨ docker çš„æ—¶å€™ï¼Œåªæ˜¯å¯åŠ¨ runtimeï¼Œç„¶åè°ƒç”¨ ç½‘ç»œæ’ä»¶ CNIã€‚</p><p data-pid="4u_swhNY">å¦‚æœéœ€è¦å­˜å‚¨ï¼Œå°±æœ‰ CSIã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>Scheduler</b></h3><p data-pid="JnJJEI0m">ç‰¹æ®Šçš„Controllerï¼Œå·¥ä½œåŸç†ä¸å…¶ä»–æ§åˆ¶å™¨å¹¶æ— å·®åˆ«ã€‚</p><p data-pid="gpnhjUB7">Schedulerçš„ç‰¹æ®ŠèŒè´£ï¼šç›‘æ§å½“å‰é›†ç¾¤ä¸­æ‰€æœ‰æœªè°ƒåº¦çš„Podï¼Œå¹¶ä¸”è·å–å½“å‰é›†ç¾¤æ‰€æœ‰èŠ‚ç‚¹çš„å¥åº·çŠ¶å†µå’Œèµ„æºä½¿ç”¨æƒ…å†µï¼Œä¸ºå¾…è°ƒåº¦çš„Podé€‰æ‹©æœ€ä½³è®¡ç®—èŠ‚ç‚¹ï¼Œå®Œæˆè°ƒåº¦ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>è°ƒåº¦é˜¶æ®µ</b></h3><ul><li data-pid="-_pMP0tg">Predict<br>è¿‡æ»¤ä¸èƒ½æ»¡è¶³ä¸šåŠ¡éœ€æ±‚çš„èŠ‚ç‚¹ï¼Œå¦‚èµ„æºä¸è¶³ã€ç«¯å£å†²çªç­‰ã€‚</li><li data-pid="2azztExd">Priority<br>æŒ‰æ—¢å®šè¦ç´ å°†æ»¡è¶³è°ƒåº¦éœ€æ±‚çš„èŠ‚ç‚¹è¯„åˆ†ï¼Œé€‰æ‹©æœ€ä½³èŠ‚ç‚¹ï¼ˆè°ƒåº¦ç®—æ³•ï¼‰ã€‚</li><li data-pid="bEs5p6mN">Bind<br>å°†è®¡ç®—èŠ‚ç‚¹ä¸Podç»‘å®šï¼Œå®Œæˆè°ƒåº¦ã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-63ed846df4ccabf68872915163495435_r.jpg" data-caption="" data-size="normal" width="1266" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>Kubelet</b></h3><p data-pid="ouk3QZrS">Kubernetesçš„åˆå§‹åŒ–ç³»ç»Ÿ(init system)</p><p data-pid="cRvjLbJb">å¾ˆé‡è¦çš„ç»„ä»¶ï¼Œè´Ÿè´£å¯åŠ¨ podï¼ŒèŒè´£ä¹Ÿæ˜¯éå¸¸å¤æ‚çš„ã€‚</p><p data-pid="BqWyv4nn">ä»ä¸åŒæºè·å–Podæ¸…å•ï¼Œå¹¶æŒ‰éœ€æ±‚å¯åœPodæ ¸å¿ƒç»„ä»¶</p><ul><li data-pid="I0sDtD9Y">Podæ¸…å•å¯ä»¥ä»æœ¬åœ°æ–‡ä»¶ç›®å½•ã€ç»™å®šçš„HTTPServerã€Kuber-APIServerç­‰æºå¤´è·å–</li><li data-pid="uMRL275h">Kubeletå°†è¿è¡Œæ—¶ï¼ˆruntimeï¼‰ï¼Œç½‘ç»œå’Œå­˜å‚¨æŠ½è±¡æˆäº†CRIã€CNIå’ŒCSI</li></ul><p data-pid="tI5WbWDr"><b>è´Ÿè´£æ±‡æŠ¥å½“å‰èŠ‚ç‚¹çš„èµ„æºä¿¡æ¯å’Œå¥åº·çŠ¶æ€</b></p><p data-pid="4khkLnV8">è´Ÿè´£Podçš„å¥åº·æ£€æŸ¥å’ŒçŠ¶æ€æ±‡æŠ¥ã€‚</p><blockquote data-pid="LvOdcGtp">è°ƒåº¦é˜¶æ®µå®Œæˆåï¼Œç›®æ ‡èŠ‚ç‚¹ä¸Šçš„kubeletä¼šå‘ç°è¯¥Podå’Œå½“å‰èŠ‚ç‚¹å­˜åœ¨ç»‘å®šå…³ç³»ï¼Œkubeletä¼šè°ƒç”¨CRIã€CNIå’ŒCSIæ¥å¯åŠ¨è¿™ä¸ªå®¹å™¨ã€‚</blockquote><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-c6b58fe0c71bf4619eb1d994e7bf00e5_r.jpg" data-caption="" data-size="normal" width="1645" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>Kube-proxy</b></h3><p data-pid="ZnCMwzQF">kube-proxy ä¹Ÿæ˜¯åœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸Šéƒ½è¿è¡Œçš„ã€‚å®ƒæ˜¯å®ç°Kubernetes Service æœºåˆ¶çš„é‡è¦ç»„ä»¶ã€‚æ¯«æ— æ„å¤–ï¼Œkube-proxy ä¹Ÿæ˜¯ä¸€ä¸ªâ€œæ§åˆ¶å™¨â€ã€‚<b>å®ƒä¹Ÿä»API Server ç›‘å¬Service å’ŒEndpointå¯¹è±¡çš„å˜åŒ–ï¼Œå¹¶æ ¹æ®Endpoint å¯¹è±¡çš„ä¿¡æ¯è®¾ç½®Service åˆ°åç«¯Pod çš„è·¯ç”±ï¼Œç»´æŠ¤ç½‘ç»œè§„åˆ™ï¼Œæ‰§è¡ŒTCPã€UDP å’ŒSCTP æµè½¬å‘ã€‚</b></p><p data-pid="n-iNUkJc">ç›‘æ§é›†ç¾¤ä¸­ç”¨æˆ·å‘å¸ƒçš„æœåŠ¡ï¼Œå¹¶å®Œæˆ<b>è´Ÿè½½å‡è¡¡</b>çš„é…ç½®ã€‚</p><p data-pid="X54q6NTJ">æ¯ä¸ªèŠ‚ç‚¹çš„ Kube-proxy éƒ½ä¼šé…ç½®ç›¸åŒçš„è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼Œä½¿å¾—æ•´ä¸ªé›†ç¾¤çš„æœåŠ¡å‘ç°å»ºç«‹åœ¨åˆ†å¸ƒå¼è´Ÿè½½å‡è¡¡å™¨ä¹‹ä¸Šï¼ŒæœåŠ¡è°ƒç”¨æ— éœ€ç»è¿‡é¢å¤–çš„ç½‘ç»œè·³è½¬(Network Hop)</p><p data-pid="lSdACcao">è´Ÿè½½å‡è¡¡é…ç½®åŸºäºä¸åŒçš„æ’ä»¶å®ç° userspace</p><p data-pid="TA8PNqgC">OSç½‘ç»œåè®®æ ˆä¸åŒçš„Hooksç‚¹å’Œæ’ä»¶:</p><ul><li data-pid="T4x8_Eye">iptabes</li><li data-pid="w2vm4M31">ipvs</li></ul><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-a14e91d0a9fe0e7511ea53aa4052ee75_r.jpg" data-caption="" data-size="normal" width="2208" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h2><b>Add-ons</b></h2><p data-pid="kCPog0Lf">ä»¥ä¸Šéƒ½æ˜¯Kubernetesçš„æ ¸å¿ƒç»„ä»¶ï¼ŒKubernetesè¿˜æœ‰ä¸€äº› Add-on.</p><blockquote data-pid="gPZv_C7F">ä»¥ä¸‹æœåŠ¡ä¹‹æ‰€ä»¥ä»¥<code>Add-on</code>çš„å½¢å¼æä¾›åº”ç”¨ï¼Œæ˜¯å› ä¸ºæ²¡æœ‰ä»¥ä¸Šæ‰€è®²çš„æ ¸å¿ƒç»„ä»¶ï¼Œæ•´ä¸ªé›†ç¾¤æ˜¯è·‘ä¸èµ·æ¥çš„ã€‚ä½†é›†ç¾¤èƒ½å¤Ÿè·‘èµ·æ¥äº†(æ¢è¨€ä¹‹æ ¸å¿ƒç»„ä»¶éƒ½æœ‰äº†)å‰©ä¸‹çš„åº”ç”¨å°±å¯ä»¥ä»¥é™„ä»¶çš„å½¢å¼(æˆ–è€…è¯´ä»¥æ™®é€šç”¨æˆ·ï¼ˆnon root \ rootless)çš„å½¢å¼)ï¼Œåˆ›å»ºä¸€ä¸ªPodæ¥æ­è½½åº”ç”¨ã€‚</blockquote><p class="ztext-empty-paragraph"><br></p><p data-pid="gPxdUC39"><b>å½“ç„¶ï¼Œæ ¸å¿ƒçš„ç»„ä»¶ï¼Œå’Œ Add-ons çš„è£…æ³•æ˜¯ä¸ä¸€æ ·çš„ï¼Œæ ¸å¿ƒç»„ä»¶æ˜¯é€šè¿‡äºŒè¿›åˆ¶æ–¹å¼ï¼Œå¯åŠ¨ã€‚ </b></p><p class="ztext-empty-paragraph"><br></p><h3><b>æ¨èçš„ Add-ons</b></h3><ul><li data-pid="fmbEBYZI">kube-dnsï¼šè´Ÿè´£ä¸ºæ•´ä¸ªé›†ç¾¤æä¾› DNS æœåŠ¡ï¼›</li><li data-pid="4ylYDC41">Ingress Controllerï¼šä¸ºæœåŠ¡æä¾›å¤–ç½‘å…¥å£ï¼›</li><li data-pid="v2cUQsqx">MetricsServerï¼šæä¾›èµ„æºç›‘æ§ï¼›</li><li data-pid="EEA6aZ19">Dashboardï¼šæä¾› GUIï¼›</li><li data-pid="d1wJAtsW">Fluentd-Elasticsearchï¼šæä¾›é›†ç¾¤æ—¥å¿—é‡‡é›†ã€å­˜å‚¨ä¸æŸ¥è¯¢ã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><h2><b>äº†è§£ Kubectl</b></h2><h3><b>Kubectl å’Œ Kubeconfig</b></h3><p data-pid="wLCk8kbO">kubectl æ˜¯ä¸€ä¸ª Kubernetes çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œå®ƒå…è®¸Kubernetes ç”¨æˆ·ä»¥å‘½ä»¤è¡Œçš„æ–¹å¼ä¸ Kubernetes äº¤äº’ï¼Œå…¶é»˜è®¤è¯»å–é…ç½®æ–‡ä»¶ <code>~/.kube/config</code>ã€‚</p><ul><li data-pid="g7VAr9Nv">kubectl ä¼šå°†æ¥æ”¶åˆ°çš„ç”¨æˆ·è¯·æ±‚è½¬åŒ–ä¸º rest è°ƒç”¨ä»¥ rest client çš„å½¢å¼ä¸ apiserver é€šè®¯ã€‚</li><li data-pid="Dt1vfxHx">apiserver çš„åœ°å€ï¼Œç”¨æˆ·ä¿¡æ¯ç­‰é…ç½®åœ¨ kubeconfigã€‚</li></ul><p data-pid="G6-B6-_5">é€šè¿‡ <code>-v</code> å‚æ•°æ‰“å°æ—¥å¿—ä»¥æŸ¥çœ‹ <code>kubectl</code> å…·ä½“æ‰§è¡Œæµç¨‹ï¼š</p><div class="highlight"><pre><code class="language-bash">â¯ kubectl get po -v <span class="m">9</span>
I0303 09:04:45.314593  <span class="m">137729</span> loader.go:372<span class="o">]</span> Config loaded from file:  /root/.kube/config
I0303 09:04:45.360723  <span class="m">137729</span> round_trippers.go:435<span class="o">]</span> curl -v -XGET  -H <span class="s2">"Accept: application/json;as=Table;v=v1;g=meta.k8s.io,application/json;as=Table;v=v1beta1;g=meta.k8s.io,application/json"</span> -H <span class="s2">"User-Agent: kubectl/v1.22.15 (linux/amd64) kubernetes/1d79bc3"</span> <span class="s1">'https://apiserver.cluster.local:6443/api/v1/namespaces/default/pods?limit=500'</span>
I0303 09:04:45.393763  <span class="m">137729</span> round_trippers.go:454<span class="o">]</span> GET https://apiserver.cluster.local:6443/api/v1/namespaces/default/pods?limit<span class="o">=</span><span class="m">500</span> <span class="m">200</span> OK in <span class="m">32</span> milliseconds
....</code></pre></div><p data-pid="UCJQzkke"><b>å¯ä»¥çœ‹åˆ° kubectl æ˜¯å¯¹ API çš„å°è£…ã€‚</b></p><p data-pid="0ZocybS9">æˆ‘ä»¬çœ‹ä¸€ä¸‹é…ç½®æ–‡ä»¶æœ‰ä»€ä¹ˆï¼š</p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-d1c81f0e169ce976fab5524be04f11dc_r.jpg" data-caption="" data-size="normal" width="2323" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p data-pid="JPXbdsYD">æˆ‘ä»¬å¯ä»¥çœ‹ä¸€ä¸‹æ‰€æœ‰çš„å‘½ä»¤éƒ½ä¼šè¯»å– kubectl é…ç½®æ–‡ä»¶</p><ul><li data-pid="PLyzPz2K">contextsï¼šæˆ‘ä»¬ç”¨å“ªä¸ªç”¨æˆ·å»é“¾æ¥</li><li data-pid="lpGnQ7pT">current-contextï¼šå¦‚æœæˆ‘ä»¬ä¸æŒ‡å®š contextï¼Œé‚£ä¹ˆä½¿ç”¨çš„æ˜¯å“ªä¸ªï¼ˆé»˜è®¤ï¼‰</li><li data-pid="YZbYkYgp">ç”¨æˆ·çš„ Key å’Œ Secret</li></ul><p class="ztext-empty-paragraph"><br></p><h3><b>å¸¸ç”¨å‘½ä»¤</b></h3><div class="highlight"><pre><code class="language-bash">kubectl get po â€“o yaml -w</code></pre></div><ul><li data-pid="uZOmVHLO"><code>-o yaml</code> ï¼šè¾“å‡ºè¯¦ç»†ä¿¡æ¯ä¸º yaml æ ¼å¼ã€‚</li><li data-pid="_Wn67IRu"><code>-w</code> ï¼šwatch è¯¥å¯¹è±¡çš„åç»­å˜åŒ–ã€‚</li><li data-pid="Tt3Tqpnh"><code>-o wide</code> ï¼šä»¥è¯¦ç»†åˆ—è¡¨çš„æ ¼å¼æŸ¥çœ‹å¯¹è±¡ã€‚</li></ul><blockquote data-pid="VRJK6mia"><code>-o yaml</code> ä¸æ˜¯å¾ˆå¸¸ç”¨ï¼Œæˆ‘ä»¬æ›´å¤šçš„æ—¶å€™å¯ä»¥ç”¨ <code>kubectl get po -owide</code> å¤šè¾“å‡ºå‡ ä¸ªå­—æ®µã€‚</blockquote><p data-pid="zWNn8j-a"><code>kubectl describe</code> å±•ç¤ºèµ„æºçš„è¯¦ç»†ä¿¡æ¯å’Œç›¸å…³ Event</p><p data-pid="HLXqnyaa"><code>kubectl exec</code> æä¾›è¿›å…¥è¿è¡Œå®¹å™¨çš„é€šé“ï¼Œå¯ä»¥è¿›å…¥å®¹å™¨è¿›è¡Œ debug æ“ä½œã€‚</p><p data-pid="NZbYfutm"><code>kubectl logs</code> å¯æŸ¥çœ‹ pod çš„æ ‡å‡†è¾“å…¥ï¼ˆstdout, stderrï¼‰ï¼Œä¸ tail ç”¨æ³•ç±»ä¼¼</p><p data-pid="WQZN3fZQ"><code>kubectl api-resources</code> å¯ä»¥æŸ¥çœ‹ Kubernetes ä¸ºæˆ‘ä»¬æä¾›çš„å¯¹è±¡ï¼Œæœ‰é•¿åå’ŒçŸ­åå­—ã€‚</p><p class="ztext-empty-paragraph"><br></p><p data-pid="M6E6tH4V"><b>è·å–å‘½åç©ºé—´ï¼š</b></p><div class="highlight"><pre><code class="language-bash">â¯ k get ns
NAME              STATUS   AGE
default           Active   10m
kube-node-lease   Active   10m
kube-public       Active   10m
kube-system       Active   10m</code></pre></div><p class="ztext-empty-paragraph"><br></p><h2><b>K8s è®¾è®¡ç†å¿µ</b></h2><p data-pid="qAKMoyST"><b>å¯æ‰©å±•æ€§ï¼š</b></p><ul><li data-pid="96ADtcKx">åŸºäºCRDçš„æ‰©å±•</li><li data-pid="PRBfeD4x">æ’ä»¶åŒ–çš„ç”Ÿæ€ç³»ç»Ÿ</li></ul><p data-pid="Wo576RRv"><b>é«˜å¯ç”¨ï¼š</b></p><ul><li data-pid="0TqYGtnb">åŸºäº replicasetï¼Œstatefulset çš„åº”ç”¨é«˜å¯ç”¨</li><li data-pid="Er1gNb9i">Kubernetes ç»„ä»¶æœ¬èº«é«˜å¯ç”¨</li></ul><p data-pid="yFMvvWZI"><b>å¯ç§»æ¤æ€§ï¼š</b></p><ul><li data-pid="F6N7y4Hi">å¤šç§ host Os é€‰æ‹©</li><li data-pid="4iUMwNtw">å¤šç§åŸºç¡€æ¶æ„çš„é€‰æ‹©</li><li data-pid="3RAQPLXz">å¤šäº‘å’Œæ··åˆäº‘</li></ul><p data-pid="Nox7fbn4"><b>å®‰å…¨ï¼š</b></p><ul><li data-pid="pQq4S6Nu">åŸºäº TLS æä¾›æœåŠ¡</li><li data-pid="c9VyNdvp">Serviceaccount å’Œ user</li><li data-pid="LlIwK1Zg">åŸºäº Namespace çš„éš”ç¦»</li><li data-pid="pKkwL2H-">secret</li><li data-pid="CYK3_zeV">Taintsï¼Œpspï¼Œ networkpolicy</li></ul><p class="ztext-empty-paragraph"><br></p><h3><b>åˆ†å±‚æ¶æ„</b></h3><p data-pid="WCX-j1Tf"><b>æ ¸å¿ƒå±‚</b>ï¼šKubernetes æœ€æ ¸å¿ƒçš„åŠŸèƒ½ï¼Œå¯¹å¤–æä¾› API æ„å»ºé«˜å±‚çš„åº”ç”¨ï¼Œå¯¹å†…æä¾›æ’ä»¶å¼åº”ç”¨æ‰§è¡Œç¯å¢ƒã€‚</p><p data-pid="nsq1H72r"><b>åº”ç”¨å±‚</b>ï¼šéƒ¨ç½²ï¼ˆæ— çŠ¶æ€åº”ç”¨ã€æœ‰çŠ¶æ€åº”ç”¨ã€æ‰¹å¤„ç†ä»»åŠ¡ã€é›†ç¾¤åº”ç”¨ç­‰ï¼‰å’Œè·¯ç”±ï¼ˆæœåŠ¡å‘ç°ã€DNS è§£æç­‰ï¼‰ã€‚</p><p data-pid="MwRLPvUd"><b>ç®¡ç†å±‚</b>ï¼šç³»ç»Ÿåº¦é‡ï¼ˆå¦‚åŸºç¡€è®¾æ–½ã€å®¹å™¨å’Œç½‘ç»œçš„åº¦é‡ï¼‰ã€è‡ªåŠ¨åŒ–ï¼ˆå¦‚è‡ªåŠ¨æ‰©å±•ã€åŠ¨æ€ Provision ç­‰ï¼‰ã€ç­–ç•¥ç®¡ç†ï¼ˆRBACã€Quotaã€PSPã€NetworkPolicy ç­‰ï¼‰ã€‚</p><p data-pid="5SSLYsFj"><b>æ¥å£å±‚</b>ï¼šKubectl å‘½ä»¤è¡Œå·¥å…·ã€å®¢æˆ·ç«¯ SDK ä»¥åŠé›†ç¾¤è”é‚¦ã€‚</p><p data-pid="XClGHhMF"><b>ç”Ÿæ€ç³»ç»Ÿ</b>ï¼šåœ¨æ¥å£å±‚ä¹‹ä¸Šçš„åºå¤§å®¹å™¨é›†ç¾¤ç®¡ç†è°ƒåº¦çš„ç”Ÿæ€ç³»ç»Ÿï¼Œå¯ä»¥åˆ’åˆ†ä¸ºä¸¤ä¸ªèŒƒç•´ï¼š</p><ul><li data-pid="cdmnxI2v"><b>Kubernetes å¤–éƒ¨</b>ï¼šæ—¥å¿—ã€ç›‘æ§ã€é…ç½®ç®¡ç†ã€CIã€CDã€Workflowã€FaaSã€OTS åº”ç”¨ã€ChatOps ç­‰ï¼›</li><li data-pid="ihepHav8"><b>Kubernetes å†…éƒ¨</b>ï¼šCRIã€CNIã€CVIã€é•œåƒä»“åº“ã€Cloud Providerã€é›†ç¾¤è‡ªèº«çš„é…ç½®å’Œç®¡ç†ç­‰ã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-898016461b4740c31cc58599d38845b1_r.jpg" data-caption="" data-size="normal" width="1634" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-033c208307b3978dd2a2e78f0e23e985_r.jpg" data-caption="" data-size="normal" width="2024" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><blockquote data-pid="39oR5zXH">å¦‚æœä½ ä¸€å®šè¦åˆ†ç±»çš„è¯ï¼ŒKubernetes å’Œ docker æ˜¯å’Œ paas ç›¸å…³çš„ã€‚</blockquote><p data-pid="VWCVhbvO"><b>åˆ†ä¸ºä¸¤ä¸ªè§†è§’ï¼šåˆ†åˆ«æ˜¯é›†ç¾¤ç®¡ç†å‘˜çš„è§†è§’å’Œåº”ç”¨å¼€å‘è€…çš„è§†è§’ï¼š</b></p><p data-pid="FpGXXjSr"><b>åŒæ ·çš„åˆ†ä¸ºä¸¤ä¸ªå¹³é¢ï¼š</b></p><ul><li data-pid="ZY0qftQ_">æ•°æ®å¹³é¢ï¼š podã€PVCã€Serviceã€Ingress</li><li data-pid="LWZNVTq4">æ§åˆ¶å¹³é¢ï¼šæ ¸å¿ƒç»„ä»¶ã€æ’ä»¶ã€ç”¨æˆ·ç©ºé—´æ§åˆ¶å™¨ã€Assertion</li></ul><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-71b08635a05b537de611e82080a27cca_r.jpg" data-caption="" data-size="normal" width="720" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><blockquote data-pid="l2Cg44J6">Kubernetes æœ¬èº«ä¹Ÿæ˜¯æœ‰åˆ†å±‚æ¶æ„ï¼Œè¿™ä¿è¯äº†ä»–çš„å¯æ‰©å±•æ€§ã€‚</blockquote><p class="ztext-empty-paragraph"><br></p><h2><b>API è®¾è®¡ç†å¿µ</b></h2><p data-pid="Stci9X0A"><b>æ‰€æœ‰ API éƒ½åº”æ˜¯å£°æ˜å¼çš„ï¼š</b></p><ul><li data-pid="DP9TwAte">ç›¸å¯¹äºå‘½ä»¤å¼æ“ä½œï¼Œå£°æ˜å¼æ“ä½œå¯¹äºé‡å¤æ“ä½œçš„æ•ˆæœæ˜¯ç¨³å®šçš„ï¼Œè¿™å¯¹äºå®¹æ˜“å‡ºç°æ•°æ®ä¸¢å¤±æˆ–é‡å¤çš„åˆ†å¸ƒå¼ç¯å¢ƒæ¥è¯´æ˜¯å¾ˆé‡è¦çš„ã€‚</li><li data-pid="PA7ndJF-">å£°æ˜å¼æ“ä½œæ›´æ˜“è¢«ç”¨æˆ·ä½¿ç”¨ï¼Œå¯ä»¥ä½¿ç³»ç»Ÿå‘ç”¨æˆ·éšè—å®ç°çš„ç»†èŠ‚ï¼ŒåŒæ—¶ä¹Ÿä¿ç•™äº†ç³»ç»Ÿæœªæ¥æŒç»­ä¼˜åŒ–çš„å¯èƒ½æ€§ã€‚</li><li data-pid="VZjtoSTW">æ­¤å¤–ï¼Œå£°æ˜å¼çš„ API è¿˜éšå«äº†æ‰€æœ‰çš„ API å¯¹è±¡éƒ½æ˜¯åè¯æ€§è´¨çš„ï¼Œä¾‹å¦‚ Serviceã€Volume è¿™äº› API éƒ½æ˜¯åè¯ï¼Œè¿™äº›åè¯æè¿°äº†ç”¨æˆ·æ‰€æœŸæœ›å¾—åˆ°çš„ä¸€ä¸ªç›®æ ‡å¯¹è±¡ã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><p data-pid="BrZYbt_J"><b>API å¯¹è±¡æ˜¯å½¼æ­¤äº’è¡¥è€Œä¸”å¯ç»„åˆçš„ï¼š</b></p><ul><li data-pid="Pq4McObC">è¿™å®é™…ä¸Šé¼“åŠ± API å¯¹è±¡å°½é‡å®ç°é¢å‘å¯¹è±¡è®¾è®¡æ—¶çš„è¦æ±‚ï¼Œå³â€œé«˜å†…èšï¼Œæ¾è€¦åˆâ€ï¼Œå¯¹ä¸šåŠ¡ç›¸å…³çš„æ¦‚å¿µæœ‰ä¸€ä¸ªåˆé€‚çš„åˆ†è§£ï¼Œæé«˜åˆ†è§£å‡ºæ¥çš„å¯¹è±¡çš„å¯é‡ç”¨æ€§ã€‚</li></ul><blockquote data-pid="941snfuJ"><b>è¦åœ¨äº‘åŸç”ŸåŸºç¡€ä¸Šå®ç°åŠŸèƒ½ï¼Œå…ˆæŠ½è±¡å‡º APIï¼Œå³å¯¹è±¡è®¾è®¡ã€‚</b></blockquote><p class="ztext-empty-paragraph"><br></p><p data-pid="JpYlxHtR"><b>é«˜å±‚ API ä»¥æ“ä½œæ„å›¾ä¸ºåŸºç¡€è®¾è®¡ï¼š</b></p><ul><li data-pid="qu90LCsB">å¦‚ä½•èƒ½å¤Ÿè®¾è®¡å¥½ APIï¼Œè·Ÿå¦‚ä½•èƒ½ç”¨é¢å‘å¯¹è±¡çš„æ–¹æ³•è®¾è®¡å¥½åº”ç”¨ç³»ç»Ÿæœ‰ç›¸é€šçš„åœ°æ–¹ï¼Œé«˜å±‚è®¾è®¡ä¸€å®šæ˜¯ä»ä¸šåŠ¡å‡ºå‘ï¼Œè€Œä¸æ˜¯è¿‡æ—©çš„ä»æŠ€æœ¯å®ç°å‡ºå‘ã€‚</li><li data-pid="DEf2Zea-">å› æ­¤ï¼Œé’ˆå¯¹ Kubernetes çš„é«˜å±‚ API è®¾è®¡ï¼Œä¸€å®šæ˜¯ä»¥ Kubernetes çš„ä¸šåŠ¡ä¸ºåŸºç¡€å‡ºå‘ï¼Œä¹Ÿå°±æ˜¯ä»¥ç³»ç»Ÿè°ƒåº¦ç®¡ç†å®¹å™¨çš„æ“ä½œæ„å›¾ä¸ºåŸºç¡€è®¾è®¡ã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><p data-pid="Qf89u7aP"><b>ä½å±‚ API æ ¹æ®é«˜å±‚ API çš„æ§åˆ¶éœ€è¦è®¾è®¡ï¼š</b></p><ul><li data-pid="xHwM51ql">è®¾è®¡å®ç°ä½å±‚ API çš„ç›®çš„ï¼Œæ˜¯ä¸ºäº†è¢«é«˜å±‚ API ä½¿ç”¨ï¼Œè€ƒè™‘å‡å°‘å†—ä½™ã€æé«˜é‡ç”¨æ€§çš„ç›®çš„ï¼Œä½å±‚ API çš„è®¾è®¡ä¹Ÿè¦ä»¥éœ€æ±‚ä¸ºåŸºç¡€ï¼Œè¦å°½é‡æŠµæŠ—å—æŠ€æœ¯å®ç°å½±å“çš„è¯±æƒ‘ã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><p data-pid="fURZft8a"><b>å°½é‡é¿å…ç®€å•å°è£…ï¼Œä¸è¦æœ‰åœ¨å¤–éƒ¨ API æ— æ³•æ˜¾å¼çŸ¥é“çš„å†…éƒ¨éšè—çš„æœºåˆ¶ï¼š</b></p><ul><li data-pid="6PY8-5vm">ç®€å•çš„å°è£…ï¼Œå®é™…æ²¡æœ‰æä¾›æ–°çš„åŠŸèƒ½ï¼Œåè€Œå¢åŠ äº†å¯¹æ‰€å°è£… API çš„ä¾èµ–æ€§ã€‚</li><li data-pid="-2aZZHxH">ä¾‹å¦‚ StatefulSet å’Œ ReplicaSetï¼Œæœ¬æ¥å°±æ˜¯ä¸¤ç§ Pod é›†åˆï¼Œé‚£ä¹ˆ Kubernetes å°±ç”¨ä¸åŒ API å¯¹è±¡æ¥å®šä¹‰å®ƒä»¬ï¼Œè€Œä¸ä¼šè¯´åªç”¨åŒä¸€ä¸ª ReplicaSetï¼Œå†…éƒ¨é€šè¿‡ç‰¹æ®Šçš„ç®—æ³•å†æ¥åŒºåˆ†è¿™ä¸ª ReplicaSet æ˜¯æœ‰çŠ¶æ€çš„è¿˜æ˜¯æ— çŠ¶æ€ã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><p data-pid="WhuVpnx-"><b>API æ“ä½œå¤æ‚åº¦ä¸å¯¹è±¡æ•°é‡æˆæ­£æ¯”ï¼š</b></p><ul><li data-pid="r0oqSy28">API çš„æ“ä½œå¤æ‚åº¦ä¸èƒ½è¶…è¿‡ O(N)ï¼Œå¦åˆ™ç³»ç»Ÿå°±ä¸å…·å¤‡æ°´å¹³ä¼¸ç¼©æ€§äº†ã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><p data-pid="G92O90aF"><b>API å¯¹è±¡çŠ¶æ€ä¸èƒ½ä¾èµ–äºç½‘ç»œè¿æ¥çŠ¶æ€ï¼š</b></p><ul><li data-pid="SqE1ZNck">ç”±äºä¼—æ‰€å‘¨çŸ¥ï¼Œåœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸‹ï¼Œç½‘ç»œè¿æ¥æ–­å¼€æ˜¯ç»å¸¸å‘ç”Ÿçš„äº‹æƒ…ï¼Œå› æ­¤è¦ä¿è¯ API å¯¹è±¡çŠ¶æ€èƒ½åº”å¯¹ç½‘ç»œçš„ä¸ç¨³å®šï¼ŒAPI å¯¹è±¡çš„çŠ¶æ€å°±ä¸èƒ½ä¾èµ–äºç½‘ç»œè¿æ¥çŠ¶æ€ã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><p data-pid="HV1ml412"><b>å°½é‡é¿å…è®©æ“ä½œæœºåˆ¶ä¾èµ–äºå…¨å±€çŠ¶æ€ï¼š</b></p><ul><li data-pid="RMKtqbMp">å› ä¸ºåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­è¦ä¿è¯å…¨å±€çŠ¶æ€çš„åŒæ­¥æ˜¯éå¸¸å›°éš¾çš„ã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><h3><b>Kubernetes å¦‚ä½•é€šè¿‡å¯¹è±¡çš„ç»„åˆå®Œæˆä¸šåŠ¡æè¿°</b></h3><p data-pid="TA_9Hz27"><b>æˆ‘ä»¬çŸ¥é“ Kubernetes ä¸­ç»„åˆä¹Ÿæ˜¯å¾ˆé‡è¦çš„ï¼ŒKubernetes æ˜¯å¦‚ä½•ä½¿ç”¨ç»„åˆçš„ï¼š</b></p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-9121f0d91a1270dab25ed8b63480a56a_r.jpg" data-caption="" data-size="normal" width="1608" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p data-pid="bwHoyGNe">é€šè¿‡ä¸€ä¸ª<code>deployment</code>åˆ›å»ºä¸€æ¬¡ä¸šåŠ¡éƒ¨ç½²è¿™æ ·çš„å¯¹è±¡ï¼Œ<code>deployment control</code>ä¼šå»å»º<code>replicaset</code>ï¼Œ<code>replicaset</code>ä¼šå»å»º<code>pod</code>ï¼Œ<code>pod</code>ä¼šè¢«è°ƒåº¦å™¨äº§ç”Ÿç»‘å®šå…³ç³»ï¼Œè¿™æ˜¯ä¸šåŠ¡éƒ¨ç½²æè¿°çš„éƒ¨åˆ†ï¼Œè¿˜æœ‰æ¶‰åŠçš„å¯¹è±¡å°±æ˜¯ä¸šåŠ¡è¦å‘å¸ƒçš„æ—¶å€™ï¼Œæˆ‘è¦å»å®šä¹‰ä¸€ä¸ª<code>service</code>ï¼Œ<code>service</code>åˆ›å»ºä¹‹å<code>kube-proxy</code>ä¼šä¸ºå®ƒé…ç½®å„ç§è´Ÿè½½å‡è¡¡çš„é…ç½®ä»¥åŠ<code>dns</code>ä¼šä¸ºå®ƒé…ç½®åŸŸåæœåŠ¡ï¼Œè¦å°†æœåŠ¡å‘å¸ƒå‡ºå»æˆ‘è¦å»å®šä¹‰ä¸€ä¸ª<code>service</code>å¯¹è±¡ï¼Œ<b><code>service</code>åˆå¯ä»¥é€šè¿‡<code>ingress</code>ä¸€ä¸ªæµé‡å…¥å£æ¥å‘å¸ƒåˆ°æ•´ä¸ªé›†ç¾¤æ•°æ®é¢APIç½‘å…³é‡Œé¢ã€‚</b></p><p data-pid="eEh2SaSK">æ‰€ä»¥é€šè¿‡å„ç§å¯¹è±¡çš„ç»„åˆæ¥å®Œæˆæ•´ä¸ªä¸šåŠ¡éƒ¨ç½²çš„æè¿°ã€‚</p><blockquote data-pid="RGtTYPs5">æ³¨æ„<a href="https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names/" target="_blank">å‘½åè§„èŒƒ</a>çš„ä¸šåŠ¡é€»è¾‘å’ŒåŸºäºæ ‡ç­¾çš„ä¸šåŠ¡é€»è¾‘ã€‚<br><b>deployment æ˜¯æ ¹æ® HASH å†³å®šåˆ›å»ºçš„ Replicaset çš„åå­—ï¼Œå¦‚æœæˆ‘ä»¬ç¨‹åºçš„ bug å¯¼è‡´Hash ç®—æ³•å˜äº†ï¼Œé‚£ä¹ˆå°±ä¼šäº§ç”Ÿä¸¥é‡çš„ç¨‹åºæ¼æ´ã€‚</b></blockquote><p data-pid="oJaxKFk_">é›†ç¾¤ä¸­çš„æ¯ä¸€ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ª<b><a href="https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names/#names" target="_blank">åç§°</a></b>æ¥æ ‡è¯†åœ¨åŒç±»èµ„æºä¸­çš„å”¯ä¸€æ€§ã€‚</p><p data-pid="JryvpE7_">æ¯ä¸ª Kubernetes å¯¹è±¡ä¹Ÿæœ‰ä¸€ä¸ª <b><a href="https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names/#uids" target="_blank">UID</a></b> æ¥æ ‡è¯†åœ¨æ•´ä¸ªé›†ç¾¤ä¸­çš„å”¯ä¸€æ€§ã€‚</p><p data-pid="Km1GxpV7">æ¯”å¦‚ï¼Œåœ¨åŒä¸€ä¸ª<a href="https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/namespaces/" target="_blank">åå­—ç©ºé—´</a> ä¸­åªèƒ½æœ‰ä¸€ä¸ªåä¸º <code>myapp-1234</code> çš„ Podï¼Œä½†æ˜¯å¯ä»¥å‘½åä¸€ä¸ª Pod å’Œä¸€ä¸ª Deployment åŒä¸º <code>myapp-1234</code>ã€‚</p><p data-pid="q3u8wSGK">å¯¹äºç”¨æˆ·æä¾›çš„éå”¯ä¸€æ€§çš„å±æ€§ï¼ŒKubernetes æä¾›äº†<a href="https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/labels/" target="_blank">æ ‡ç­¾ï¼ˆLabelï¼‰</a>å’Œ <a href="https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/annotations/" target="_blank">æ³¨è§£ï¼ˆAnnotationï¼‰</a>æœºåˆ¶ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>æ¶æ„è®¾è®¡åŸåˆ™</b></h3><ul><li data-pid="ScDKWxrn">åªæœ‰ APIServer å¯ä»¥ç›´æ¥è®¿é—® etcd å­˜å‚¨ï¼Œå…¶ä»–æœåŠ¡å¿…é¡»é€šè¿‡ Kubernetes API æ¥è®¿é—®é›†ç¾¤çŠ¶æ€ï¼›</li><li data-pid="0fDf7zrq">å•èŠ‚ç‚¹æ•…éšœä¸åº”è¯¥å½±å“é›†ç¾¤çš„çŠ¶æ€ï¼›</li><li data-pid="RNd-UEzV">åœ¨æ²¡æœ‰æ–°è¯·æ±‚çš„æƒ…å†µä¸‹ï¼Œæ‰€æœ‰ç»„ä»¶åº”è¯¥åœ¨æ•…éšœæ¢å¤åç»§ç»­æ‰§è¡Œä¸Šæ¬¡æœ€åæ”¶åˆ°çš„è¯·æ±‚ï¼ˆæ¯”å¦‚ç½‘ç»œåˆ†åŒºæˆ–æœåŠ¡é‡å¯ç­‰ï¼‰ï¼›</li><li data-pid="ppNOkgL8">æ‰€æœ‰ç»„ä»¶éƒ½åº”è¯¥åœ¨å†…å­˜ä¸­ä¿æŒæ‰€éœ€è¦çš„çŠ¶æ€ï¼ŒAPIServer å°†çŠ¶æ€å†™å…¥ etcd å­˜å‚¨ï¼Œè€Œå…¶ä»–ç»„ä»¶åˆ™é€šè¿‡ APIServer æ›´æ–°å¹¶ç›‘å¬æ‰€æœ‰çš„å˜åŒ–ï¼›</li><li data-pid="11IFRGxG">ä¼˜å…ˆä½¿ç”¨äº‹ä»¶ç›‘å¬è€Œä¸æ˜¯è½®è¯¢ã€‚</li></ul><blockquote data-pid="KTdNCfz0"><b>é€šä¿—æ˜“æ‡‚è§£é‡Šè½®è¯¢ï¼Œä¾¦å¬å’Œå›è°ƒåŒºåˆ«ï¼š</b></blockquote><ul><li data-pid="751im5fe"><b>è½®è¯¢</b>ï¼šè¿‡10åˆ†é’Ÿå°±åˆ°å¥³æœ‹å‹å®¿èˆå‰é¢å»çœ‹å¥¹æœ‰æ²¡æœ‰å›æ¥ã€æ²¡å›æ¥æˆ‘å°±å†å»æ‰“æ¸¸æˆã€‚</li><li data-pid="RFzod0b1"><b>ç›‘å¬</b>ï¼šæˆ‘æ¬ä¸ªå‡³å­ååˆ°å¥¹å®¿èˆå‰ã€ç›´åˆ°å¥¹å›æ¥ã€‚</li><li data-pid="_RTyB86g"><b>å›è°ƒ</b>ï¼šåœ¨å¥¹é—¨å£è´´ä¸ªæ¡å­ï¼šå›æ¥åè¯·æ‰“ç”µè¯è‡³011 ã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>å¼•å¯¼ï¼ˆBootstrappingï¼‰åŸåˆ™</b></h3><blockquote data-pid="WZsYrMR5">k8s å®‰è£…ã€å¼•å¯¼åŸåˆ™</blockquote><ul><li data-pid="47KcvqBU"><code>Self-hosting</code> æ˜¯ç›®æ ‡ã€‚</li><li data-pid="EqQfM6-F">å‡å°‘ä¾èµ–ï¼Œç‰¹åˆ«æ˜¯ç¨³æ€è¿è¡Œçš„ä¾èµ–ã€‚</li><li data-pid="0SUanN4g">é€šè¿‡åˆ†å±‚çš„åŸåˆ™ç®¡ç†ä¾èµ–ã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><p data-pid="tmSaDoEP"><b>Self-hostingï¼š</b></p><blockquote data-pid="4HMIRlxN">Kubernetes å¯ç”¨æ€§æ˜¯ç¬¬ä¸€åŸåˆ™ï¼ŒHAã€‚<br>ç¬¬äºŒä¿è¯æ§åˆ¶å¹³é¢ä¹Ÿæ˜¯é«˜å¯ç”¨çš„ï¼Œå¦‚æœæˆ‘ä»¬æŠŠ Kubernetes çš„æ§åˆ¶å¹³é¢ç»„ä»¶ä¹Ÿå®¹å™¨åŒ–äº†ï¼Œé‚£ä¹ˆæ˜¯ä¸æ˜¯å¯ä»¥è®© Kubernetes è‡ªå·±ç®¡è‡ªå·±äº†ã€‚</blockquote><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-46a232798f6c42a7344db7e796f0943d_r.jpg" data-caption="" data-size="normal" width="1761" referrerpolicy="no-referrer"></figure><p data-pid="XxthakI_">ï¼Œä½†æ˜¯æ²¡æœ‰<code>kebelet</code>ï¼Œå› ä¸º <code>kubelet</code> éœ€è¦å¯åŠ¨ pod æ˜¯ Kubernetes çš„åˆå§‹åŒ–ï¼ˆinit) ç³»ç»Ÿï¼Œæ‰€ä»¥ä¸æ˜¯ä»¥å®¹å™¨çš„å½¢å¼ã€‚</p><p class="ztext-empty-paragraph"><br></p><p data-pid="OK4E7WWD"><b>Kubelet æ‹‰å–æœºåˆ¶ï¼š</b></p><p data-pid="OOcQsShd">ç›‘å¬ API Server~</p><p data-pid="xVy4reot">æŸ¥çœ‹ Kubelet é…ç½®ï¼š</p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-83b54cb772bbda2abf6bde050de5cc4c_r.jpg" data-caption="" data-size="normal" width="2345" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><div class="highlight"><pre><code class="language-bash">cat /var/lib/kubelet/config.yaml</code></pre></div><blockquote data-pid="wZeobI1G">å¯ä»¥å‘ç°æœ‰ä¸€ä¸ª <code>staticPodPath</code> ï¼Œkubelet ä¼šä¸€ç›´æ‰«æ staticPodPath ç›®å½•ä¸­çš„æ–‡ä»¶ï¼Œåªè¦æˆ‘ä»¬æŠŠä»»æ„ä¸€ä¸ª pod ä¸¢è¿›å»ï¼Œ kubelet å°±è®¤ä¸ºä½ ä¼šå¯åŠ¨è¿™ä¸ªã€‚<br>â¯ ls /etc/kubernetes/manifests<br>etcd.yaml  kube-apiserver.yaml  kube-controller-manager.yaml  kube-scheduler.yaml<br>â¯ cat /etc/kubernetes/manifests/kube-scheduler.yaml<br><b>kubelet  æ˜¯ä¸€ä¸ª æ™®é€šçš„è¿›ç¨‹~</b></blockquote><p class="ztext-empty-paragraph"><br></p><p data-pid="3vOlXCyB"><b>å¾ªç¯ä¾èµ–é—®é¢˜çš„åŸåˆ™</b>ï¼š</p><ul><li data-pid="cBoBCFZi">åŒæ—¶è¿˜æ¥å—å…¶ä»–æ–¹å¼çš„æ•°æ®è¾“å…¥ï¼ˆæ¯”å¦‚æœ¬åœ°æ–‡ä»¶ç­‰ï¼‰ï¼Œè¿™æ ·åœ¨å…¶ä»–æœåŠ¡ä¸å¯ç”¨æ—¶è¿˜å¯ä»¥æ‰‹åŠ¨é…ç½®å¼•å¯¼æœåŠ¡ï¼›</li><li data-pid="NjDMKTr0">çŠ¶æ€åº”è¯¥æ˜¯å¯æ¢å¤æˆ–å¯é‡æ–°å‘ç°çš„ï¼›</li><li data-pid="BCPKK4hd">æ”¯æŒç®€å•çš„å¯åŠ¨ä¸´æ—¶å®ä¾‹æ¥åˆ›å»ºç¨³æ€è¿è¡Œæ‰€éœ€è¦çš„çŠ¶æ€ï¼Œä½¿ç”¨åˆ†å¸ƒå¼é”æˆ–æ–‡ä»¶é”ç­‰æ¥åè°ƒä¸åŒçŠ¶æ€çš„åˆ‡æ¢ï¼ˆé€šå¸¸ç§°ä¸º pivoting æŠ€æœ¯ï¼‰ï¼›</li><li data-pid="iYvpjF7Z">è‡ªåŠ¨é‡å¯å¼‚å¸¸é€€å‡ºçš„æœåŠ¡ï¼Œæ¯”å¦‚å‰¯æœ¬æˆ–è€…è¿›ç¨‹ç®¡ç†å™¨ç­‰ã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><h3><b>æ ¸å¿ƒæŠ€æœ¯æ¦‚å¿µå’Œ API å¯¹è±¡</b></h3><blockquote data-pid="lt5s9cnV">äº‘è®¡ç®—ç›¸å…³æ ‡å‡†(æŠ½è±¡)çš„å®šä¹‰ï¼Œä¿è¯äº† k8s å¤„äºä¸è´¥ä¹‹åœ°ã€‚<br>å› ä¸ºå½“å‰æ‰€æœ‰äº‘å‚å•†éƒ½è®¤å¯äº† k8s è¿™å¥—æ ‡å‡†ï¼Œåç»­å°±ç®—æœ‰æ–°çš„æŠ€æœ¯å‡ºç°ä¹Ÿå¿…å®šéµå¾ªè¿™å¥—æ ‡å‡†ï¼Œå¦åˆ™äº‘å‚å•†è‚¯å®šä¸ä¼šè®¤å¯ã€‚</blockquote><p data-pid="LbNmRpss">API å¯¹è±¡æ˜¯ Kubernetes é›†ç¾¤ä¸­çš„ç®¡ç†æ“ä½œå•å…ƒã€‚</p><p data-pid="bhb8U5vL">Kubernetes é›†ç¾¤ç³»ç»Ÿæ¯æ”¯æŒä¸€é¡¹æ–°åŠŸèƒ½ï¼Œå¼•å…¥ä¸€é¡¹æ–°æŠ€æœ¯ï¼Œä¸€å®šä¼šæ–°å¼•å…¥å¯¹åº”çš„ API å¯¹è±¡ï¼Œæ”¯æŒå¯¹è¯¥åŠŸèƒ½çš„ç®¡ç†æ“ä½œã€‚</p><p data-pid="RoVSj2LN">æ¯ä¸ª API å¯¹è±¡éƒ½æœ‰å››å¤§ç±»å±æ€§ï¼š</p><ul><li data-pid="bsxWrPSm">TypeMetaï¼šå®šä¹‰çš„å¯¹è±¡æ˜¯ä»€ä¹ˆ</li><li data-pid="sX2W0OMj">MetaDataï¼šå®šä¹‰çš„å¯¹è±¡åå­—å’Œæ ‡ç­¾ç­‰åŸºç¡€å±æ€§</li><li data-pid="NYnfeJjZ">Specï¼šç”¨æˆ·çš„æœŸæœ›å€¼æ˜¯ä»€ä¹ˆ</li><li data-pid="165TFWrm">Statusï¼šç”±ç³»ç»Ÿçš„æ§åˆ¶å™¨å®ç°çš„ï¼Œç”¨æˆ·æ— éœ€å…³å¿ƒï¼ˆé»˜è®¤ï¼‰</li></ul><p class="ztext-empty-paragraph"><br></p><h3><b>TypeMeta</b></h3><p data-pid="6d24ShjU">Kuberneteså¯¹è±¡çš„æœ€åŸºæœ¬å®šä¹‰ï¼Œå®ƒé€šè¿‡å¼•å…¥<b>GKVï¼ˆGroupï¼ŒKindï¼ŒVersionï¼‰</b>æ¨¡å‹å®šä¹‰äº†ä¸€ä¸ªå¯¹è±¡çš„ç±»å‹ã€‚</p><p data-pid="WlHlkAiP"><b>1. Group</b></p><p data-pid="TKt5n20A">Kubernetes å®šä¹‰äº†éå¸¸å¤šçš„å¯¹è±¡ï¼Œå¦‚ä½•å°†è¿™äº›å¯¹è±¡è¿›è¡Œå½’ç±»æ˜¯ä¸€é—¨å­¦é—®ï¼Œ<b>å°†å¯¹è±¡ä¾æ®å…¶åŠŸèƒ½èŒƒå›´å½’å…¥ä¸åŒçš„åˆ†ç»„ï¼Œæ¯”å¦‚æŠŠæ”¯æ’‘æœ€åŸºæœ¬åŠŸèƒ½çš„å¯¹è±¡å½’å…¥ core ç»„ï¼ŒæŠŠä¸åº”ç”¨éƒ¨ç½²æœ‰å…³çš„å¯¹è±¡å½’å…¥ apps ç»„</b>ï¼Œä¼šä½¿è¿™äº›å¯¹è±¡çš„å¯ç»´æŠ¤æ€§å’Œå¯ç†è§£æ€§æ›´é«˜ã€‚</p><p data-pid="gxeSghP8"><b>2. Kind</b></p><p data-pid="jZvCzsGf">å®šä¹‰ä¸€ä¸ªå¯¹è±¡çš„åŸºæœ¬ç±»å‹ï¼Œæ¯”å¦‚ Nodeã€Podã€Deployment ç­‰ã€‚</p><p data-pid="GlyTB9D6"><b>3. Version</b></p><p data-pid="T8JvnQEH">ç¤¾åŒºæ¯ä¸ªå­£åº¦ä¼šæ¨å‡ºä¸€ä¸ª Kubernetes ç‰ˆæœ¬ï¼Œéšç€ Kubernetes ç‰ˆæœ¬çš„æ¼”è¿›ï¼Œå¯¹è±¡ä»åˆ›å»ºä¹‹åˆåˆ°èƒ½å¤Ÿå®Œå…¨ç”Ÿäº§åŒ–å°±ç»ªçš„ç‰ˆæœ¬æ˜¯ä¸æ–­å˜åŒ–çš„ã€‚ä¸è½¯ä»¶ç‰ˆæœ¬ç±»ä¼¼ï¼Œé€šå¸¸ç¤¾åŒºæå‡ºä¸€ä¸ªæ¨¡å‹å®šä¹‰ä»¥åï¼Œéšç€è¯¥å¯¹è±¡ä¸æ–­æˆç†Ÿï¼Œå…¶ç‰ˆæœ¬å¯èƒ½ä¼šä» v1alpha1 åˆ° v1alpha2ï¼Œæˆ–è€…åˆ° v1beta1ï¼Œæœ€ç»ˆå˜æˆç”Ÿäº§å°±ç»ªç‰ˆæœ¬ v1ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>MetaData</b></h3><p data-pid="5Z2hbHAo">Metadata ä¸­æœ‰ä¸¤ä¸ªæœ€é‡è¦çš„å±æ€§ï¼š<b>Namespaceå’ŒName</b>ï¼Œåˆ†åˆ«å®šä¹‰äº†å¯¹è±¡çš„Namespace å½’å±åŠåå­—ï¼Œ<b>è¿™ä¸¤ä¸ªå±æ€§å”¯ä¸€å®šä¹‰äº†æŸä¸ªå¯¹è±¡å®ä¾‹</b>ã€‚</p><p class="ztext-empty-paragraph"><br></p><p data-pid="-7RFNF5w"><b>1. Label</b></p><p data-pid="lwfiMh48">é¡¾åæ€ä¹‰å°±æ˜¯ç»™å¯¹è±¡æ‰“æ ‡ç­¾ï¼Œ<b>ä¸€ä¸ªå¯¹è±¡å¯ä»¥æœ‰ä»»æ„å¯¹æ ‡ç­¾ï¼Œå…¶å­˜åœ¨å½¢å¼æ˜¯é”®å€¼å¯¹</b>ã€‚Label å®šä¹‰äº†å¯¹è±¡çš„å¯è¯†åˆ«å±æ€§ï¼ŒKubernetes API æ”¯æŒä»¥ Label ä½œä¸ºè¿‡æ»¤æ¡ä»¶æŸ¥è¯¢å¯¹è±¡ã€‚</p><ul><li data-pid="Dc_0Acc6">Label æ˜¯è¯†åˆ« Kubernetes å¯¹è±¡çš„æ ‡ç­¾ï¼Œä»¥ key/value çš„æ–¹å¼é™„åŠ åˆ°å¯¹è±¡ä¸Šã€‚</li><li data-pid="GFQj9OoH">key æœ€é•¿ä¸èƒ½è¶…è¿‡ 63 å­—èŠ‚ï¼Œvalue å¯ä»¥ä¸ºç©ºï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸è¶…è¿‡ 253 å­—èŠ‚çš„å­—ç¬¦ä¸²ã€‚</li><li data-pid="4aCaFACe">Label ä¸æä¾›å”¯ä¸€æ€§ï¼Œå¹¶ä¸”å®é™…ä¸Šç»å¸¸æ˜¯å¾ˆå¤šå¯¹è±¡ï¼ˆå¦‚ Podsï¼‰éƒ½ä½¿ç”¨ç›¸åŒçš„ label æ¥æ ‡å¿—å…·ä½“çš„åº”ç”¨ã€‚</li><li data-pid="BFclEZKB">Label å®šä¹‰å¥½åå…¶ä»–å¯¹è±¡å¯ä»¥ä½¿ç”¨ Label Selector æ¥é€‰æ‹©ä¸€ç»„ç›¸åŒ label çš„å¯¹è±¡</li><li data-pid="GTDj-A3x">Label Selector æ”¯æŒä»¥ä¸‹å‡ ç§æ–¹å¼ï¼š<br></li><ul><li data-pid="zooD14iB">ç­‰å¼ï¼Œå¦‚ app=nginx å’Œ env!=productionï¼›</li><li data-pid="9qfnP_PI">é›†åˆï¼Œå¦‚ env in (production, qa)ï¼›</li><li data-pid="NeuZQ97f">å¤šä¸ª labelï¼ˆå®ƒä»¬ä¹‹é—´æ˜¯ AND å…³ç³»ï¼‰ï¼Œå¦‚ app=nginx,env=testã€‚</li></ul></ul><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><p data-pid="2K-HaUCj"><b>2. Annotation</b></p><p data-pid="F1LiJ41U">Annotation ä¸ Label ä¸€æ ·ç”¨é”®å€¼å¯¹æ¥å®šä¹‰ï¼Œä½† Annotation æ˜¯ä½œä¸ºå±æ€§æ‰©å±•ï¼Œæ›´å¤šé¢å‘äºç³»ç»Ÿç®¡ç†å‘˜å’Œå¼€å‘äººå‘˜ï¼Œå› æ­¤éœ€è¦åƒå…¶ä»–å±æ€§ä¸€æ ·åšåˆç†å½’ç±»ã€‚</p><ul><li data-pid="wkiHtGnX">Annotations æ˜¯ key/value å½¢å¼é™„åŠ äºå¯¹è±¡çš„æ³¨è§£ã€‚</li><li data-pid="EMRMjXca">ä¸åŒäº Labels ç”¨äºæ ‡å¿—å’Œé€‰æ‹©å¯¹è±¡ï¼ŒAnnotations åˆ™æ˜¯ç”¨æ¥è®°å½•ä¸€äº›é™„åŠ ä¿¡æ¯ï¼Œç”¨æ¥è¾…åŠ©åº”ç”¨éƒ¨ç½²ã€å®‰å…¨ç­–ç•¥ä»¥åŠè°ƒåº¦ç­–ç•¥ç­‰ã€‚</li><li data-pid="g1JyZvcw">æ¯”å¦‚ deployment ä½¿ç”¨ annotations æ¥è®°å½• rolling update çš„çŠ¶æ€ã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><p data-pid="rgzvrj1b"><b>3. Finalizer</b></p><p data-pid="e5l5vY0n">Finalizer æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªèµ„æºé”ï¼ŒKubernetes åœ¨æ¥æ”¶æŸå¯¹è±¡çš„åˆ é™¤è¯·æ±‚æ—¶ï¼Œä¼šæ£€æŸ¥ Finalizer æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ä¸ºç©ºåˆ™åªå¯¹å…¶åšé€»è¾‘åˆ é™¤ï¼Œå³åªä¼šæ›´æ–°å¯¹è±¡ä¸­çš„ <code>metadata.deletionTimestamp</code> å­—æ®µã€‚</p><p class="ztext-empty-paragraph"><br></p><p data-pid="R96g0kOk"><b>4. ResourceVersion</b></p><p data-pid="aX8bUGCO"><b>ResourceVersion å¯ä»¥è¢«çœ‹ä½œä¸€ç§ä¹è§‚é”</b>ï¼Œæ¯ä¸ªå¯¹è±¡åœ¨ä»»æ„æ—¶åˆ»éƒ½æœ‰å…¶ ResourceVersionï¼Œå½“ Kubernetes å¯¹è±¡è¢«å®¢æˆ·ç«¯è¯»å–ä»¥åï¼ŒResourceVersion ä¿¡æ¯ä¹Ÿè¢«ä¸€å¹¶è¯»å–ã€‚æ­¤æœºåˆ¶ç¡®ä¿äº†åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ä»»æ„å¤šçº¿ç¨‹èƒ½å¤Ÿæ— é”å¹¶å‘è®¿é—®å¯¹è±¡ï¼Œæå¤§æå‡äº†ç³»ç»Ÿçš„æ•´ä½“æ•ˆç‡ã€‚</p><div class="highlight"><pre><code class="language-bash"> <span class="o">[</span>root@dev ~<span class="o">]</span><span class="c1"># kubectl get ns kube-system -oyaml</span>
 apiVersion: v1
 kind: Namespace
 metadata:
   creationTimestamp: <span class="s2">"2023-03-03T11:44:55Z"</span>
   labels:
     kubernetes.io/metadata.name: kube-system
   name: kube-system
   resourceVersion: <span class="s2">"5"</span>
   uid: d0c7cf7a-7430-4d7f-a9fe-5fb2e66e0e0a
 spec:
   finalizers:
   - kubernetes
 status:
   phase: Active</code></pre></div><p class="ztext-empty-paragraph"><br></p><h3><b>Spec å’Œ Status</b></h3><p data-pid="Nj8Ghc9v">Spec å’Œ Status æ‰æ˜¯å¯¹è±¡çš„æ ¸å¿ƒã€‚</p><ul><li data-pid="YaPcuKpb">Spec æ˜¯ç”¨æˆ·çš„æœŸæœ›çŠ¶æ€ï¼Œç”±åˆ›å»ºå¯¹è±¡çš„ç”¨æˆ·ç«¯æ¥å®šä¹‰ã€‚</li><li data-pid="6eZAk1Te">Status æ˜¯å¯¹è±¡çš„å®é™…çŠ¶æ€ï¼Œç”±å¯¹åº”çš„æ§åˆ¶å™¨æ”¶é›†å®é™…çŠ¶æ€å¹¶æ›´æ–°ã€‚</li><li data-pid="qMHrERGr">ä¸ TypeMeta å’Œ Metadata ç­‰é€šç”¨å±æ€§ä¸åŒï¼ŒSpec å’Œ Status æ˜¯æ¯ä¸ªå¯¹è±¡ç‹¬æœ‰çš„ã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><h3><b>å¸¸ç”¨å¯¹è±¡åŠå…¶åˆ†ç»„</b></h3><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-b1ba78dfcffbcfe1a8c2c451787a9ea0_r.jpg" data-caption="" data-size="normal" width="706" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>æ ¸å¿ƒå¯¹è±¡æ¦‚è§ˆ</b></h3><h3><b>Node</b></h3><ul><li data-pid="XTF_JBJF">Node æ˜¯ Pod çœŸæ­£è¿è¡Œçš„ä¸»æœºï¼Œå¯ä»¥ç‰©ç†æœºï¼Œä¹Ÿå¯ä»¥æ˜¯è™šæ‹Ÿæœºã€‚</li><li data-pid="ThfGv-Ku">ä¸ºäº†ç®¡ç† Podï¼Œæ¯ä¸ª Node èŠ‚ç‚¹ä¸Šè‡³å°‘è¦è¿è¡Œ container runtimeï¼ˆæ¯”å¦‚ Docker æˆ–è€… Rktï¼‰ã€Kubelet å’Œ Kube-proxy æœåŠ¡ã€‚</li><li data-pid="3j8QUnHX">æ˜¯ä¸€ä¸ªè®¡ç®—èŠ‚ç‚¹çš„å¯¹è±¡</li></ul><p class="ztext-empty-paragraph"><br></p><h3><b>Namespace</b></h3><p data-pid="TzxKqQh6"><b>Namespace æ˜¯å¯¹ä¸€ç»„èµ„æºå’Œå¯¹è±¡çš„æŠ½è±¡é›†åˆ</b>ï¼Œæ¯”å¦‚å¯ä»¥ç”¨æ¥å°†ç³»ç»Ÿå†…éƒ¨çš„å¯¹è±¡åˆ’åˆ†ä¸ºä¸åŒçš„é¡¹ç›®ç»„æˆ–ç”¨æˆ·ç»„ã€‚</p><blockquote data-pid="iH38fXLc">docker ä¸­ä¹Ÿæåˆ°è¿‡ï¼Œæˆ‘ä»¬å¯ä»¥å»ºä¸åŒä¸ª è™šæ‹Ÿç›®å½• ç„¶åå°†ä¸åŒé¡¹ç›®å’Œä¸åŒç»„ç»‡é¡¹ç›®æ”¾åœ¨ä¸€èµ·ã€‚</blockquote><p data-pid="yDgsAjFI">å¸¸è§çš„ <code>pods</code>, <code>services</code>, <code>replication</code> <code>controllers</code> å’Œ <code>deployments</code> ç­‰éƒ½æ˜¯å±äºæŸä¸€ä¸ª Namespace çš„ï¼ˆé»˜è®¤æ˜¯ defaultï¼‰ï¼Œè€Œ <code>Node</code>, <code>persistentVolumes</code>ç­‰åˆ™ä¸å±äºä»»ä½• Namespaceã€‚</p><blockquote data-pid="TRVkJ53o">åˆ›å»ºçš„æ—¶å€™ä¸åŠ  namespaceï¼Œé‚£ä¹ˆé»˜è®¤æ˜¯ï¼šdefault<br> kubectl create -f nginx-deploy.yaml --namespace kube-system<br><b>ç›¸åŒåç§°çš„å¯¹è±¡å¯ä»¥æ”¾å…¥åˆ°ä¸åŒçš„namespacesï¼ŒåŒåæ–‡ä»¶å¯ä»¥æ”¾å…¥ä¸åŒç›®å½•ã€‚</b></blockquote><p class="ztext-empty-paragraph"><br></p><h3><b>Pod</b></h3><ul><li data-pid="qV8IfD4V">Pod æ˜¯ä¸€ç»„ç´§å¯†å…³è”çš„å®¹å™¨é›†åˆï¼Œå®ƒä»¬å…±äº« PIDã€IPCã€Network å’Œ UTS namespaceï¼Œ<b>æ˜¯ Kubernetes è°ƒåº¦çš„åŸºæœ¬å•ä½ã€‚</b></li><li data-pid="7DMvvDhQ">Pod çš„è®¾è®¡ç†å¿µæ˜¯æ”¯æŒå¤šä¸ªå®¹å™¨åœ¨ä¸€ä¸ª Pod ä¸­å…±äº«ç½‘ç»œå’Œæ–‡ä»¶ç³»ç»Ÿï¼Œå¯ä»¥é€šè¿‡è¿›ç¨‹é—´é€šä¿¡å’Œæ–‡ä»¶å…±äº«è¿™ç§ç®€å•é«˜æ•ˆçš„æ–¹å¼ç»„åˆå®ŒæˆæœåŠ¡ã€‚</li><li data-pid="1npCwHuh">åŒä¸€ä¸ª Pod ä¸­çš„ä¸åŒå®¹å™¨å¯å…±äº«èµ„æºï¼š<br></li><ul><li data-pid="knYFTjh6">å…±äº«ç½‘ç»œ <code>Namespace</code>ï¼›</li><li data-pid="xZGDH3E4">å¯é€šè¿‡æŒ‚è½½å­˜å‚¨å·å…±äº«å­˜å‚¨ï¼›</li><li data-pid="8X5k8NjE">å…±äº« Security Contextã€‚</li></ul></ul><p class="ztext-empty-paragraph"><br></p><p data-pid="C_94BlsL"><b>å­˜å‚¨å·</b></p><p data-pid="U01dugO7">é€šè¿‡å­˜å‚¨å·å¯ä»¥å°†å¤–æŒ‚å­˜å‚¨æŒ‚è½½åˆ° Pod å†…éƒ¨ä½¿ç”¨ã€‚</p><p data-pid="ffgSAKD7">å­˜å‚¨å·å®šä¹‰åŒ…æ‹¬ä¸¤ä¸ªéƒ¨åˆ†: Volume å’Œ VolumeMountsã€‚</p><ul><li data-pid="NEtqnVA4">Volumeï¼šå®šä¹‰ Pod å¯ä»¥ä½¿ç”¨çš„å­˜å‚¨å·æ¥æºï¼›</li><li data-pid="rSfQRJFD">VolumeMountsï¼šå®šä¹‰å­˜å‚¨å·å¦‚ä½• Mount åˆ°å®¹å™¨å†…éƒ¨</li></ul><p class="ztext-empty-paragraph"><br></p><p data-pid="rm2PCHYT"><b>Pod ç½‘ç»œ</b></p><p data-pid="uGHdcIGs">Podçš„å¤šä¸ªå®¹å™¨æ˜¯å…±äº«ç½‘ç»œ Namespace çš„ï¼Œè¿™æ„å‘³ç€ï¼š</p><ul><li data-pid="rpSArstx">åŒä¸€ä¸ª Pod ä¸­çš„ä¸åŒå®¹å™¨å¯ä»¥å½¼æ­¤é€šè¿‡ Loopback åœ°å€è®¿é—®ï¼š<br></li><ul><li data-pid="miGKLpuM">åœ¨ç¬¬ä¸€ä¸ªå®¹å™¨ä¸­èµ·äº†ä¸€ä¸ªæœåŠ¡ <a href="http://127.0.0.1/" target="_blank">http://127.0.0.1</a> ã€‚</li><li data-pid="rHe4t1_N">åœ¨ç¬¬äºŒä¸ªå®¹å™¨å†…ï¼Œæ˜¯å¯ä»¥é€šè¿‡ <code>http Get http://172.0.0.1</code>è®¿é—®åˆ°è¯¥åœ°å€çš„ã€‚</li></ul></ul><p class="ztext-empty-paragraph"><br></p><ul><li data-pid="rlLfKpze">è¿™ç§æ–¹æ³•å¸¸ç”¨äºä¸åŒå®¹å™¨çš„äº’ç›¸åä½œã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><h3><b>èµ„æºé™åˆ¶</b></h3><p data-pid="V5hyRPeg">Kubernetes é€šè¿‡ Cgroups æä¾›å®¹å™¨èµ„æºç®¡ç†çš„åŠŸèƒ½ï¼Œå¯ä»¥é™åˆ¶æ¯ä¸ªå®¹å™¨çš„ CPU å’Œå†…å­˜ä½¿ç”¨ï¼Œæ¯”å¦‚å¯¹äºåˆšæ‰åˆ›å»ºçš„ deploymentï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤é™åˆ¶nginx å®¹å™¨æœ€å¤šåªç”¨ 50% çš„ CPU å’Œ 128MB çš„å†…å­˜ï¼š</p><div class="highlight"><pre><code class="language-bash"> $ kubectl <span class="nb">set</span> resources deployment nginx-app -c<span class="o">=</span>nginx --limits<span class="o">=</span><span class="nv">cpu</span><span class="o">=</span>500m,memory<span class="o">=</span>128Mi 
 â€‹
 deployment <span class="s2">"nginx"</span> resource requirements updated</code></pre></div><p data-pid="a0kkPAMC">ç­‰åŒäºåœ¨æ¯ä¸ª Pod ä¸­è®¾ç½® resources limitsã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>å¥åº·æ£€æŸ¥</b></h3><p data-pid="eD5Cvpu_">Kubernetes ä½œä¸ºä¸€ä¸ªé¢å‘åº”ç”¨çš„é›†ç¾¤ç®¡ç†å·¥å…·ï¼Œéœ€è¦ç¡®ä¿å®¹å™¨åœ¨éƒ¨ç½²åç¡®å®å¤„åœ¨æ­£å¸¸çš„è¿è¡ŒçŠ¶æ€ã€‚</p><p data-pid="BnwrDoJF"><b>1. æ¢é’ˆç±»å‹ï¼š</b></p><ul><li data-pid="iBk7UVTM">LivenessProbe<br></li><ul><li data-pid="_CxyiGc-">æ¢æµ‹åº”ç”¨æ˜¯å¦å¤„äºå¥åº·çŠ¶æ€ï¼Œå¦‚æœä¸å¥åº·åˆ™åˆ é™¤å¹¶é‡æ–°åˆ›å»ºå®¹å™¨ã€‚</li></ul></ul><p class="ztext-empty-paragraph"><br></p><ul><li data-pid="51qG12nY">ReadinessProbe<br></li><ul><li data-pid="PA-rIN_T">æ¢æµ‹åº”ç”¨æ˜¯å¦å°±ç»ªå¹¶ä¸”å¤„äºæ­£å¸¸æœåŠ¡çŠ¶æ€ï¼Œå¦‚æœä¸æ­£å¸¸åˆ™ä¸ä¼šæ¥æ”¶æ¥è‡ª Kubernetes Service çš„æµé‡ã€‚</li></ul></ul><p class="ztext-empty-paragraph"><br></p><ul><li data-pid="E5WPX0u_">StartupProbe<br></li><ul><li data-pid="h4A395yx">æ¢æµ‹åº”ç”¨æ˜¯å¦å¯åŠ¨å®Œæˆï¼Œå¦‚æœåœ¨ <code>failureThreshold*periodSeconds</code> å‘¨æœŸå†…æœªå°±ç»ªï¼Œåˆ™ä¼šåº”ç”¨è¿›ç¨‹ä¼šè¢«é‡å¯ã€‚</li></ul></ul><p class="ztext-empty-paragraph"><br></p><p data-pid="KEHDrNjR"><b>2. æ¢æ´»æ–¹å¼ï¼š</b></p><ul><li data-pid="fzD4jqW3">Exec</li><li data-pid="bHDHXzpb">TCP socket</li><li data-pid="1qgKmKqK">HTTP</li></ul><p class="ztext-empty-paragraph"><br></p><h3><b>ConfigMap</b></h3><ul><li data-pid="bJwOKqfc">ConfigMap ç”¨æ¥å°†éæœºå¯†æ€§çš„æ•°æ®ä¿å­˜åˆ°é”®å€¼å¯¹ä¸­ã€‚</li><li data-pid="UWnV_GPq">ä½¿ç”¨æ—¶ï¼Œ Pods å¯ä»¥å°†å…¶ç”¨ä½œç¯å¢ƒå˜é‡ã€å‘½ä»¤è¡Œå‚æ•°æˆ–è€…å­˜å‚¨å·ä¸­çš„é…ç½®æ–‡ä»¶ã€‚</li><li data-pid="VyEnZ-DK">ConfigMap å°†ç¯å¢ƒé…ç½®ä¿¡æ¯å’Œ å®¹å™¨é•œåƒè§£è€¦ï¼Œä¾¿äºåº”ç”¨é…ç½®çš„ä¿®æ”¹ã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><h3><b>Secret</b></h3><ul><li data-pid="Gz8bB474">Secret æ˜¯ç”¨æ¥ä¿å­˜å’Œä¼ é€’å¯†ç ã€å¯†é’¥ã€è®¤è¯å‡­è¯è¿™äº›æ•æ„Ÿä¿¡æ¯çš„å¯¹è±¡ã€‚</li><li data-pid="J8Ep0jvv">ä½¿ç”¨ Secret çš„å¥½å¤„æ˜¯å¯ä»¥é¿å…æŠŠæ•æ„Ÿä¿¡æ¯æ˜æ–‡å†™åœ¨é…ç½®æ–‡ä»¶é‡Œã€‚</li><li data-pid="XA7D8TWy">Kubernetes é›†ç¾¤ä¸­é…ç½®å’Œä½¿ç”¨æœåŠ¡ä¸å¯é¿å…çš„è¦ç”¨åˆ°å„ç§æ•æ„Ÿä¿¡æ¯å®ç°ç™»å½•ã€è®¤è¯ç­‰åŠŸèƒ½ï¼Œä¾‹å¦‚è®¿é—® AWS å­˜å‚¨çš„ç”¨æˆ·åå¯†ç ã€‚</li><li data-pid="SxC7I8Q1">ä¸ºäº†é¿å…å°†ç±»ä¼¼çš„æ•æ„Ÿä¿¡æ¯æ˜æ–‡å†™åœ¨æ‰€æœ‰éœ€è¦ä½¿ç”¨çš„é…ç½®æ–‡ä»¶ä¸­ï¼Œå¯ä»¥å°†è¿™äº›ä¿¡æ¯å­˜å…¥ä¸€ä¸ª Secret å¯¹è±¡ï¼Œè€Œåœ¨é…ç½®æ–‡ä»¶ä¸­é€šè¿‡ Secret å¯¹è±¡å¼•ç”¨è¿™äº›æ•æ„Ÿä¿¡æ¯ã€‚</li><li data-pid="SUcX0U5u">è¿™ç§æ–¹å¼çš„å¥½å¤„åŒ…æ‹¬ï¼šæ„å›¾æ˜ç¡®ï¼Œé¿å…é‡å¤ï¼Œå‡å°‘æš´æ¼æœºä¼šã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><h3><b>ç”¨æˆ·ï¼ˆUser Accountï¼‰&amp; æœåŠ¡å¸æˆ·ï¼ˆService Accountï¼‰</b></h3><p data-pid="S4vJ9hNE">é¡¾åæ€ä¹‰ï¼Œç”¨æˆ·å¸æˆ·ä¸ºäººæä¾›è´¦æˆ·æ ‡è¯†ï¼Œè€ŒæœåŠ¡è´¦æˆ·ä¸ºè®¡ç®—æœºè¿›ç¨‹å’Œ Kubernetes é›†ç¾¤ä¸­è¿è¡Œçš„ Pod æä¾›è´¦æˆ·æ ‡è¯†ã€‚</p><p data-pid="xGIS4hut"><b>ç”¨æˆ·å¸æˆ·å’ŒæœåŠ¡å¸æˆ·çš„ä¸€ä¸ªåŒºåˆ«æ˜¯ä½œç”¨èŒƒå›´</b>ï¼š</p><ul><li data-pid="qJkc9yBs"><b>ç”¨æˆ·å¸æˆ·å¯¹åº”çš„æ˜¯äººçš„èº«ä»½ï¼Œäººçš„èº«ä»½ä¸æœåŠ¡çš„ Namespace æ— å…³ï¼Œæ‰€ä»¥ç”¨æˆ·è´¦æˆ·æ˜¯è·¨ Namespace çš„ï¼›</b></li><li data-pid="RwDGXp8k">è€ŒæœåŠ¡å¸æˆ·å¯¹åº”çš„æ˜¯ä¸€ä¸ªè¿è¡Œä¸­ç¨‹åºçš„èº«ä»½ï¼Œä¸ç‰¹å®š Namespace æ˜¯ç›¸å…³çš„ã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><h3><b>Service</b></h3><p data-pid="Ps052I7I">Service æ˜¯åº”ç”¨æœåŠ¡çš„æŠ½è±¡ï¼Œé€šè¿‡ labels ä¸ºåº”ç”¨æä¾›è´Ÿè½½å‡è¡¡å’ŒæœåŠ¡å‘ç°ã€‚åŒ¹ é… labels çš„ Pod IP å’Œç«¯å£åˆ—è¡¨ç»„æˆ endpointsï¼Œç”± Kube-proxy è´Ÿè´£å°†æœåŠ¡IP è´Ÿè½½å‡è¡¡åˆ°è¿™äº› endpoints ä¸Šã€‚</p><p data-pid="l_8cYy9C">æ¯ä¸ª Service éƒ½ä¼šè‡ªåŠ¨åˆ†é…ä¸€ä¸ª cluster IPï¼ˆä»…åœ¨é›†ç¾¤å†…éƒ¨å¯è®¿é—®çš„è™šæ‹Ÿåœ°å€ï¼‰ å’Œ DNS åï¼Œå…¶ä»–å®¹å™¨å¯ä»¥é€šè¿‡è¯¥åœ°å€æˆ– DNS æ¥è®¿é—®æœåŠ¡ï¼Œè€Œä¸éœ€è¦äº†è§£åç«¯å®¹å™¨çš„è¿è¡Œã€‚</p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-6847a4145833016ea0c1a34e7645e2a9_r.jpg" data-caption="" data-size="normal" width="2044" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>Replica Set</b></h3><ul><li data-pid="zpyTck-M">Pod åªæ˜¯å•ä¸ªåº”ç”¨å®ä¾‹çš„æŠ½è±¡ï¼Œè¦æ„å»ºé«˜å¯ç”¨åº”ç”¨ï¼Œé€šå¸¸éœ€è¦æ„å»ºå¤šä¸ªåŒæ ·çš„å‰¯æœ¬ï¼Œæä¾›åŒä¸€ä¸ªæœåŠ¡ã€‚</li><li data-pid="9s6MOZYy">Kubernetes ä¸ºæ­¤æŠ½è±¡å‡ºå‰¯æœ¬é›† ReplicaSetï¼Œå…¶å…è®¸ç”¨æˆ·å®šä¹‰ Pod çš„å‰¯æœ¬æ•°ï¼Œæ¯ä¸€ä¸ª Pod éƒ½ä¼šè¢«å½“ä½œä¸€ä¸ªæ— çŠ¶æ€çš„æˆå‘˜è¿›è¡Œç®¡ç†ï¼ŒKubernetes ä¿è¯æ€»æ˜¯æœ‰ç”¨æˆ·æœŸæœ›çš„æ•°é‡çš„ Pod æ­£å¸¸è¿è¡Œã€‚</li><li data-pid="-CIymyHH">å½“æŸä¸ªå‰¯æœ¬å®•æœºä»¥åï¼Œæ§åˆ¶å™¨å°†ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å‰¯æœ¬ã€‚</li><li data-pid="s10Z_22G">å½“å› ä¸šåŠ¡è´Ÿè½½å‘ç”Ÿå˜æ›´è€Œéœ€è¦è°ƒæ•´æ‰©ç¼©å®¹æ—¶ï¼Œå¯ä»¥æ–¹ä¾¿åœ°è°ƒæ•´å‰¯æœ¬æ•°é‡ã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><h3><b>Deployment</b></h3><ul><li data-pid="Ji5UOQ0T">éƒ¨ç½²è¡¨ç¤ºç”¨æˆ·å¯¹ Kubernetes é›†ç¾¤çš„ä¸€æ¬¡æ›´æ–°æ“ä½œã€‚</li><li data-pid="r_gPd9FV">éƒ¨ç½²æ˜¯ä¸€ä¸ªæ¯” RS åº”ç”¨æ¨¡å¼æ›´å¹¿çš„ API å¯¹è±¡ï¼Œå¯ä»¥æ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„æœåŠ¡ï¼Œæ›´æ–°ä¸€ä¸ªæ–°çš„æœåŠ¡ï¼Œä¹Ÿå¯ä»¥æ˜¯æ»šåŠ¨å‡çº§ä¸€ä¸ªæœåŠ¡ã€‚</li><li data-pid="xmOCoiuJ">æ»šåŠ¨å‡çº§ä¸€ä¸ªæœåŠ¡ï¼Œå®é™…æ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„ RSï¼Œç„¶åé€æ¸å°†æ–° RS ä¸­å‰¯æœ¬æ•°å¢åŠ åˆ°ç†æƒ³çŠ¶æ€ï¼Œå°†æ—§ RS ä¸­çš„å‰¯æœ¬æ•°å‡å°åˆ° 0 çš„å¤åˆæ“ä½œã€‚</li><li data-pid="KFGNdbCY">è¿™æ ·ä¸€ä¸ªå¤åˆæ“ä½œç”¨ä¸€ä¸ª RS æ˜¯ä¸å¤ªå¥½æè¿°çš„ï¼Œæ‰€ä»¥ç”¨ä¸€ä¸ªæ›´é€šç”¨çš„ Deployment æ¥æè¿°ã€‚</li><li data-pid="j2OVXtV7">ä»¥ Kubernetes çš„å‘å±•æ–¹å‘ï¼Œæœªæ¥å¯¹æ‰€æœ‰é•¿æœŸä¼ºæœå‹çš„çš„ä¸šåŠ¡çš„ç®¡ç†ï¼Œéƒ½ä¼šé€šè¿‡ Deployment æ¥ç®¡ç†ã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><h3><b>StatefulSetï¼ˆæœ‰çŠ¶æ€æœåŠ¡é›†ï¼‰</b></h3><ul><li data-pid="UK5-_1w0">å¯¹äº StatefulSet ä¸­çš„ Podï¼Œæ¯ä¸ª Pod æŒ‚è½½è‡ªå·±ç‹¬ç«‹çš„å­˜å‚¨ï¼Œå¦‚æœä¸€ä¸ª Pod å‡ºç°æ•…éšœï¼Œä»å…¶ä»–èŠ‚ç‚¹å¯åŠ¨ä¸€ä¸ªåŒæ ·åå­—çš„Podï¼Œè¦æŒ‚è½½ä¸ŠåŸæ¥ Pod çš„å­˜å‚¨ç»§ç»­ä»¥å®ƒçš„çŠ¶æ€æä¾›æœåŠ¡ã€‚</li><li data-pid="CkM-vULj">é€‚åˆäº StatefulSet çš„ä¸šåŠ¡åŒ…æ‹¬æ•°æ®åº“æœåŠ¡ MySQL å’Œ PostgreSQLï¼Œé›†ç¾¤åŒ–ç®¡ç†æœåŠ¡ ZooKeeperã€etcd ç­‰æœ‰çŠ¶æ€æœåŠ¡ã€‚</li><li data-pid="HOA2xM7v">ä½¿ç”¨ StatefulSetï¼ŒPod ä»ç„¶å¯ä»¥é€šè¿‡æ¼‚ç§»åˆ°ä¸åŒèŠ‚ç‚¹æä¾›é«˜å¯ç”¨ï¼Œè€Œå­˜å‚¨ä¹Ÿå¯ä»¥é€šè¿‡å¤–æŒ‚çš„å­˜å‚¨æ¥æä¾›é«˜å¯é æ€§ï¼ŒStatefulSet åšçš„åªæ˜¯å°†ç¡®å®šçš„ Pod ä¸ç¡®å®šçš„å­˜å‚¨å…³è”èµ·æ¥ä¿è¯çŠ¶æ€çš„è¿ç»­æ€§ã€‚</li></ul><blockquote data-pid="MXX7IBr9">æœ‰çŠ¶æ€æœåŠ¡æ¯”è¾ƒå¤æ‚~</blockquote><p class="ztext-empty-paragraph"><br></p><p data-pid="7el9_kJI"><b>Statefulset ä¸ Deployment çš„å·®å¼‚</b></p><p data-pid="NzHRIj-t">èº«ä»½æ ‡è¯†</p><ul><li data-pid="sl3-MT3W">StatefulSet Controller ä¸ºæ¯ä¸ª Pod ç¼–å·ï¼Œåºå·ä»0å¼€å§‹ã€‚</li></ul><p data-pid="BbI0FPjC">æ•°æ®å­˜å‚¨</p><ul><li data-pid="R97kV4Nb">StatefulSet å…è®¸ç”¨æˆ·å®šä¹‰ volumeClaimTemplatesï¼ŒPod è¢«åˆ›å»ºçš„åŒæ—¶ï¼ŒKubernetes ä¼šä»¥volumeClaimTemplates ä¸­å®šä¹‰çš„æ¨¡æ¿åˆ›å»ºå­˜å‚¨å·ï¼Œå¹¶æŒ‚è½½ç»™ Podã€‚</li></ul><p data-pid="yx1swaIm"><b>StatefulSet çš„å‡çº§ç­–ç•¥ä¸åŒï¼š</b></p><ul><li data-pid="y7_c8mg_">onDelete</li><li data-pid="8RSROfEu">æ»šåŠ¨å‡çº§</li><li data-pid="ef5FBkb1">åˆ†ç‰‡å‡çº§</li></ul><p class="ztext-empty-paragraph"><br></p><h3><b>Job</b></h3><ul><li data-pid="pu-o_mc9">Job æ˜¯ Kubernetes ç”¨æ¥æ§åˆ¶æ‰¹å¤„ç†å‹ä»»åŠ¡çš„ API å¯¹è±¡ã€‚</li><li data-pid="QlV-2QO1">Job ç®¡ç†çš„ Pod æ ¹æ®ç”¨æˆ·çš„è®¾ç½®æŠŠä»»åŠ¡æˆåŠŸå®Œæˆåå°±è‡ªåŠ¨é€€å‡ºã€‚</li><li data-pid="Ek36ar7Y">æˆåŠŸå®Œæˆçš„æ ‡å¿—æ ¹æ®ä¸åŒçš„ spec.completions ç­–ç•¥è€Œä¸åŒï¼š<br></li><ul><li data-pid="BIdVHsFH">å• Pod å‹ä»»åŠ¡æœ‰ä¸€ä¸ª Pod æˆåŠŸå°±æ ‡å¿—å®Œæˆï¼›</li><li data-pid="Ew4ecVtt">å®šæ•°æˆåŠŸå‹ä»»åŠ¡ä¿è¯æœ‰ N ä¸ªä»»åŠ¡å…¨éƒ¨æˆåŠŸï¼›</li><li data-pid="YGApAfUe">å·¥ä½œé˜Ÿåˆ—å‹ä»»åŠ¡æ ¹æ®åº”ç”¨ç¡®è®¤çš„å…¨å±€æˆåŠŸè€Œæ ‡å¿—æˆåŠŸã€‚</li></ul></ul><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>DaemonSet</b></h3><ul><li data-pid="O33DXJXb">é•¿æœŸä¼ºæœå‹å’Œæ‰¹å¤„ç†å‹æœåŠ¡çš„æ ¸å¿ƒåœ¨ä¸šåŠ¡åº”ç”¨ï¼Œå¯èƒ½æœ‰äº›èŠ‚ç‚¹è¿è¡Œå¤šä¸ªåŒç±»ä¸šåŠ¡çš„ Podï¼Œæœ‰äº›èŠ‚ç‚¹ä¸Šåˆæ²¡æœ‰è¿™ç±» Pod è¿è¡Œï¼›</li><li data-pid="j5te2W6u">è€Œåå°æ”¯æ’‘å‹æœåŠ¡çš„æ ¸å¿ƒå…³æ³¨ç‚¹åœ¨ Kubernetes é›†ç¾¤ä¸­çš„èŠ‚ç‚¹ï¼ˆç‰©ç†æœºæˆ–è™šæ‹Ÿæœºï¼‰ï¼Œè¦ä¿è¯æ¯ä¸ªèŠ‚ç‚¹ä¸Šéƒ½æœ‰ä¸€ä¸ªæ­¤ç±» Pod è¿è¡Œã€‚</li><li data-pid="Qjr52XDo">èŠ‚ç‚¹å¯èƒ½æ˜¯æ‰€æœ‰é›†ç¾¤èŠ‚ç‚¹ä¹Ÿå¯èƒ½æ˜¯é€šè¿‡ nodeSelector é€‰å®šçš„ä¸€äº›ç‰¹å®šèŠ‚ç‚¹ã€‚</li><li data-pid="DjAF4N2L">å…¸å‹çš„åå°æ”¯æ’‘å‹æœåŠ¡åŒ…æ‹¬å­˜å‚¨ã€æ—¥å¿—å’Œç›‘æ§ç­‰åœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸Šæ”¯æ’‘ Kubernetes é›†ç¾¤è¿è¡Œçš„æœåŠ¡ã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><h3><b>å­˜å‚¨ PV å’Œ PVC</b></h3><ul><li data-pid="ezKcTzf9">PersistentVolumeï¼ˆPVï¼‰æ˜¯é›†ç¾¤ä¸­çš„ä¸€å—å­˜å‚¨å·ï¼Œå¯ä»¥ç”±ç®¡ç†å‘˜æ‰‹åŠ¨è®¾ç½®ï¼Œæˆ–å½“ç”¨æˆ·åˆ›å»º PersistentVolumeClaimï¼ˆPVCï¼‰æ—¶æ ¹æ® StorageClass åŠ¨æ€è®¾ç½®ã€‚</li><li data-pid="RqcUXgQO">PV å’Œ PVC ä¸ Pod ç”Ÿå‘½å‘¨æœŸæ— å…³ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ Pod ä¸­çš„å®¹å™¨é‡æ–°å¯åŠ¨ã€Pod é‡æ–°è°ƒåº¦æˆ–è€…åˆ é™¤æ—¶ï¼ŒPV å’Œ PVC ä¸ä¼šå—åˆ°å½±å“ï¼ŒPod å­˜å‚¨äº PV é‡Œçš„æ•°æ®å¾—ä»¥ä¿ç•™ã€‚</li><li data-pid="ihNyxjdW">å¯¹äºä¸åŒçš„ä½¿ç”¨åœºæ™¯ï¼Œç”¨æˆ·é€šå¸¸éœ€è¦ä¸åŒå±æ€§ï¼ˆä¾‹å¦‚æ€§èƒ½ã€è®¿é—®æ¨¡å¼ç­‰ï¼‰çš„ PVã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><h3><b>CustomResourceDefinition</b></h3><ul><li data-pid="xF-1IHAO">CRD å°±åƒæ•°æ®åº“çš„å¼€æ”¾å¼è¡¨ç»“æ„ï¼Œå…è®¸ç”¨æˆ·è‡ªå®šä¹‰ Schemaã€‚</li><li data-pid="Px5fR_8r">æœ‰äº†è¿™ç§å¼€æ”¾å¼è®¾è®¡ï¼Œç”¨æˆ·å¯ä»¥åŸºäº CRD å®šä¹‰ä¸€åˆ‡éœ€è¦çš„æ¨¡å‹ï¼Œæ»¡è¶³ä¸åŒä¸šåŠ¡çš„éœ€æ±‚ã€‚</li><li data-pid="2M7plTdI">ç¤¾åŒºé¼“åŠ±åŸºäº CRD çš„ä¸šåŠ¡æŠ½è±¡ï¼Œä¼—å¤šä¸»æµçš„æ‰©å±•åº”ç”¨éƒ½æ˜¯åŸºäº CRD æ„å»ºçš„ï¼Œæ¯”å¦‚ Istioã€Knativeã€‚</li><li data-pid="umPlb8ac">ç”šè‡³åŸºäº CRD æ¨å‡ºäº† Operator Mode å’Œ Operator SDKï¼Œå¯ä»¥ä»¥æä½çš„å¼€å‘æˆæœ¬å®šä¹‰æ–°å¯¹è±¡ï¼Œå¹¶æ„å»ºæ–°å¯¹è±¡çš„æ§åˆ¶å™¨ã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><h2><b>END é“¾æ¥</b>â€‹</h2><ul><li data-pid="XsSlJ7IB"><a href="typora://app/README.md" target="_blank">â“‚ï¸å›åˆ°ç›®å½• </a></li><li data-pid="u4b4shVo"><b><a href="https://nsddd.top/archives/contributors" target="_blank"> å‚ä¸è´¡çŒ® â¤ï¸â€  </a></b>)</li><li data-pid="9BfxtdS7">âœ´ï¸ç‰ˆæƒå£°æ˜ Â© ï¼šæœ¬ä¹¦æ‰€æœ‰å†…å®¹éµå¾ª<a href="http://zh.wikipedia.org/wiki/Wikipedia:CC-by-sa-3.0%E5%8D%8F%E8%AE%AE%E6%96%87%E6%9C%AC" target="_blank">CC-BY-SA 3.0åè®®ï¼ˆç½²å-ç›¸åŒæ–¹å¼å…±äº«ï¼‰Â©</a> </li></ul><p></p></div> </details> 
 <hr /> 

 #### - [æ·±å…¥å‰–æ Docker åº•å±‚ï¼ˆå…¨ï¼‰](https://zhuanlan.zhihu.com/p/610939386) 
 <details><summary>ØªÙˆØ¶ÛŒØ­Ø§Øª</summary> <p><img src="https://picx.zhimg.com/v2-bf90afb98f714c1a3aa29e0e04f7fd37_720w.jpg?source=d16d100b"></p><div><ul><li data-pid="8LZZyIBI"><a href="https://github.com/cubxxw" target="_blank">author</a></li></ul><h2><b>ç¬¬46èŠ‚ æ·±æŒ–å®¹å™¨åº•å±‚æŠ€æœ¯</b></h2><blockquote data-pid="K962ub2t">â¤ï¸  æ–°æ—¶ä»£æ‹¥æŠ±äº‘åŸç”Ÿï¼Œäº‘åŸç”Ÿå…·æœ‰ç¯å¢ƒç»Ÿä¸€ã€æŒ‰éœ€ä»˜è´¹ã€å³å¼€å³ç”¨ã€ç¨³å®šæ€§å¼ºç‰¹ç‚¹ã€‚Myblog: <a href="http://nsddd.top/" target="_blank">https://nsddd.top</a></blockquote><h2><b>linux kernel ä¸­ namespace çš„å®ç°</b></h2><ul><li data-pid="2LzXCWlT"><a href="https://github.com/torvalds/linux/tree/master/kernel" target="_blank">Linux kernel source code address for github</a></li></ul><p class="ztext-empty-paragraph"><br></p><h3><b>è¿›ç¨‹æ•°æ®ç»“æ„</b></h3><div class="highlight"><pre><code class="language-c"> <span class="k">struct</span> <span class="n">task_struct</span> <span class="p">{</span>
     <span class="p">...</span>
     <span class="o">/</span> <span class="o">*</span> <span class="n">namespaces</span> <span class="err">*/</span>
     <span class="k">struct</span> <span class="n">nsproxy</span> <span class="o">*</span><span class="n">nsproxy</span><span class="p">;</span>
     <span class="p">...</span>
 <span class="p">}</span></code></pre></div><p data-pid="gFH7Xt6Y"><b>Linux Namespce æ˜¯ä¸€ç§ Linux Kernel æä¾›çš„èµ„æºéš”ç¦»æ–¹æ¡ˆï¼š</b></p><ul><li data-pid="p3wYmD38">ç³»ç»Ÿå¯ä»¥ä¸ºä¸åŒè¿›ç¨‹åˆ†é…ä¸åŒçš„ Namespace</li><li data-pid="LpPzIYb5">ç³»ç»Ÿå¯ä»¥ä¿è¯ä¸åŒçš„ Namespaces èµ„æºç‹¬ç«‹åˆ†é…ï¼Œè¿›ç¨‹å½¼æ­¤éš”ç¦»ï¼Œå³ä¸åŒçš„ Namespace ä¸‹è¿›ç¨‹äº’ä¸å¹²æ‰°ã€‚</li></ul><p data-pid="8chGvwlO"><b>å³ä½¿æ˜¯åœ¨ Kubernetes ä¸­ï¼Œä»»ä½•è¿›ç¨‹è¿è¡Œéƒ½æ˜¯éœ€è¦ä¸€ä¸ª namespaces</b></p><p class="ztext-empty-paragraph"><br></p><h3><b>namespace æ•°æ®ç»“æ„</b></h3><ul><li data-pid="eu61t8t9"><a href="https://github.com/torvalds/linux/blob/master/include/linux/sched.h#L737" target="_blank"><span class="invisible">https://</span><span class="visible">github.com/torvalds/lin</span><span class="invisible">ux/blob/master/include/linux/sched.h#L737</span><span class="ellipsis"></span></a></li></ul><p class="ztext-empty-paragraph"><br></p><p data-pid="DiRdG3pJ"><b>å…·ä½“ç»†èŠ‚ä¸å±•å¼€ï¼Œä¹‹å‰å†™è¿‡å¾ˆå¤šå…³äº namespces çš„æ–‡ç« ï¼ˆ<a href="https://docker.nsddd.top/" target="_blank">https://docker.nsddd.top</a>)</b></p><div class="highlight"><pre><code class="language-c"> <span class="cm">/*
</span><span class="cm">  * A structure to contain pointers to all per-process
</span><span class="cm">  * namespaces - fs (mount), uts, network, sysvipc, etc.
</span><span class="cm">  *
</span><span class="cm">  * The pid namespace is an exception -- it's accessed using
</span><span class="cm">  * task_active_pid_ns.  The pid namespace here is the
</span><span class="cm">  * namespace that children will use.
</span><span class="cm">  *
</span><span class="cm">  * 'count' is the number of tasks holding a reference.
</span><span class="cm">  * The count for each namespace, then, will be the number
</span><span class="cm">  * of nsproxies pointing to it, not the number of tasks.
</span><span class="cm">  *
</span><span class="cm">  * The nsproxy is shared by tasks which share all namespaces.
</span><span class="cm">  * As soon as a single namespace is cloned or unshared, the
</span><span class="cm">  * nsproxy is copied.
</span><span class="cm">  */</span>
 <span class="k">struct</span> <span class="n">nsproxy</span> <span class="p">{</span>
     <span class="n">atomic_t</span> <span class="n">count</span><span class="p">;</span>
     <span class="k">struct</span> <span class="n">uts_namespace</span> <span class="o">*</span><span class="n">uts_ns</span><span class="p">;</span>
     <span class="k">struct</span> <span class="n">ipc_namespace</span> <span class="o">*</span><span class="n">ipc_ns</span><span class="p">;</span>
     <span class="k">struct</span> <span class="n">mnt_namespace</span> <span class="o">*</span><span class="n">mnt_ns</span><span class="p">;</span>
     <span class="k">struct</span> <span class="n">pid_namespace</span> <span class="o">*</span><span class="n">pid_ns_for_children</span><span class="p">;</span>
     <span class="k">struct</span> <span class="n">net</span>       <span class="o">*</span><span class="n">net_ns</span><span class="p">;</span>
     <span class="k">struct</span> <span class="n">time_namespace</span> <span class="o">*</span><span class="n">time_ns</span><span class="p">;</span>
     <span class="k">struct</span> <span class="n">time_namespace</span> <span class="o">*</span><span class="n">time_ns_for_children</span><span class="p">;</span>
     <span class="k">struct</span> <span class="n">cgroup_namespace</span> <span class="o">*</span><span class="n">cgroup_ns</span><span class="p">;</span>
 <span class="p">};</span>
 <span class="k">extern</span> <span class="k">struct</span> <span class="n">nsproxy</span> <span class="n">init_nsproxy</span><span class="p">;</span></code></pre></div><p data-pid="N5CqZ2Bc"><b>æˆ‘ä»¬ä¼šä»¥ namespces ä¸ºä¾‹ï¼Œå³ä½¿æ˜¯å…¶ä»–çš„ï¼Œæ¯”å¦‚è¯´ è”åˆæ–‡ä»¶ç³»ç»Ÿï¼Œæˆ‘ä»¬ä¹‹å‰å†™è¿‡ä¸€ç¯‡æ–‡ç« è®²è¿‡ï¼Œ<a href="https://docker.nsddd.top/markdown/50.html" target="_blank">å¯ä»¥å‚è€ƒé‚£ç¯‡æ–‡ç« </a></b></p><p class="ztext-empty-paragraph"><br></p><p data-pid="o2eNQhYk"><b>æˆ‘åœ¨ç½‘ä¸Šæ‰¾åˆ°äº†ä¸åŒ kernel ç‰ˆæœ¬å¯¹åº”çš„ namespace ï¼Œä½œä¸ºå‚è€ƒ</b></p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-8904e7714904b72f21c05c398a131cf7_r.jpg" data-caption="" data-size="normal" width="2001" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>æŸ¥çœ‹å’Œæ“æ§ä¸»æœºçš„  Namespace</b></h3><p data-pid="5VdW2VVE"><b>æŸ¥çœ‹å½“å‰ç³»ç»Ÿçš„ namespaceï¼š</b></p><div class="highlight"><pre><code class="language-bash"> lsns -t &lt;type&gt;</code></pre></div><ul><li data-pid="6lgG-De8"><code>-t</code>é€‰é¡¹:åªæŸ¥çœ‹ç»™å®šç±»å‹çš„Namespace</li></ul><p class="ztext-empty-paragraph"><br></p><p data-pid="xYf1DVtg"><b>æŸ¥çœ‹æŸä¸€ä¸ªè¿›ç¨‹çš„ namespaceï¼š</b></p><div class="highlight"><pre><code class="language-bash"> ls -al /proc/&lt;pid&gt;/ns/</code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="69b3nrYQ"><b>è¿›å…¥æŸä¸€ä¸ª namespace è¿è¡Œå‘½ä»¤ï¼š</b></p><div class="highlight"><pre><code class="language-bash"> nsenter -t &lt;pid&gt; -n ip addr</code></pre></div><ul><li data-pid="mEM9GTdh"><code>nsenter</code>:å¯ä»¥åœ¨æŒ‡å®šè¿›ç¨‹çš„Namespaceä¸‹è¿è¡ŒæŒ‡å®šç¨‹åºçš„å‘½ä»¤</li><li data-pid="ilpAlUwW"><code>-t</code>é€‰é¡¹:æŒ‡å®šè¢«è¿›å…¥å‘½åç©ºé—´çš„ç›®æ ‡è¿›ç¨‹çš„pid</li><li data-pid="VyknHdZ2"><code>-m</code>é€‰é¡¹:è¿›å…¥mnt Namespace</li><li data-pid="pfbzrqXz"><code>-u</code>é€‰é¡¹:è¿›å…¥uts Namespace</li><li data-pid="Phn5hQnp"><code>-i</code>é€‰é¡¹:è¿›å…¥ipc Namespace</li><li data-pid="oBcbicbN"><code>-n</code>é€‰é¡¹:è¿›å…¥net Namespace</li><li data-pid="w6WLCZ3H"><code>-p</code>é€‰é¡¹:è¿›å…¥pid Namespace</li><li data-pid="lfWaiL4g"><code>-U</code>é€‰é¡¹:è¿›å…¥user Namespace</li><li data-pid="VnXt5VPo"><code>-G</code>é€‰é¡¹:è®¾ç½®è¿è¡Œç¨‹åºçš„gid</li><li data-pid="J6U5ArP9"><code>-S</code>é€‰é¡¹:è®¾ç½®è¿è¡Œç¨‹åºçš„uid</li><li data-pid="PmGqpYH0"><code>-r</code>é€‰é¡¹:è®¾ç½®æ ¹ç›®å½•</li><li data-pid="X47y89KD"><code>-w</code>é€‰é¡¹:è®¾ç½®å·¥ä½œç›®å½•</li></ul><p class="ztext-empty-paragraph"><br></p><p data-pid="iWU_s3LA"><a href="https://github.com/torvalds/linux/blob/master/tools/perf/util/setns.c#L7:5" target="_blank">setns</a></p><div class="highlight"><pre><code class="language-text">  int setns(int fd, int nstype)</code></pre></div><p data-pid="gf4P5E9f">è¯¥ç³»ç»Ÿè°ƒç”¨å¯ä»¥è®©è°ƒç”¨è¿›ç¨‹åŠ å…¥æŸä¸ªå·²ç»å­˜åœ¨çš„Namespaceä¸­.</p><p class="ztext-empty-paragraph"><br></p><p data-pid="NjI-GS0z"><b><code>setns</code>å¯ä»¥è°ƒæ•´ä¸€ä¸ªå·²ç»å­˜åœ¨çš„è¿›ç¨‹,å°†è¯¥è¿›ç¨‹åˆ‡æ¢åˆ°å¦ä¸€ä¸ªNamespaceä¸­.</b></p><ul><li data-pid="ZpycBNYw">unshare<br>è¯¥ç³»ç»Ÿè°ƒç”¨å¯ä»¥å°†è°ƒç”¨è¿›ç¨‹ç§»åŠ¨åˆ°æ–°çš„Namespaceä¸‹:<br>  int unshare(int flags)</li></ul><p class="ztext-empty-paragraph"><br></p><h3><b>æ¡ˆä¾‹</b></h3><p data-pid="BcfvDDIK">æŸ¥æ‰¾ ä¸»è¿›ç¨‹ çš„ namespaceï¼š</p><div class="highlight"><pre><code class="language-bash"> â¯ lsns -t net
         NS TYPE NPROCS PID USER    NETNSID NSFS                      COMMAND
 <span class="m">4026531992</span> net     <span class="m">270</span>   <span class="m">1</span> root unassigned /run/docker/netns/default /sbin/init text
 â¯ ls -al /proc/1/ns
 total <span class="m">0</span>
 dr-x--x--x <span class="m">2</span> root root <span class="m">0</span> Mar  <span class="m">2</span> 07:47 .
 dr-xr-xr-x <span class="m">9</span> root root <span class="m">0</span> Feb <span class="m">26</span> 05:15 ..
 lrwxrwxrwx <span class="m">1</span> root root <span class="m">0</span> Mar  <span class="m">2</span> 08:06 cgroup -&gt; <span class="s1">'cgroup:[4026531835]'</span>
 lrwxrwxrwx <span class="m">1</span> root root <span class="m">0</span> Mar  <span class="m">2</span> 08:06 ipc -&gt; <span class="s1">'ipc:[4026531839]'</span>
 lrwxrwxrwx <span class="m">1</span> root root <span class="m">0</span> Mar  <span class="m">2</span> 08:06 mnt -&gt; <span class="s1">'mnt:[4026531840]'</span>
 lrwxrwxrwx <span class="m">1</span> root root <span class="m">0</span> Mar  <span class="m">2</span> 08:06 net -&gt; <span class="s1">'net:[4026531992]'</span>
 lrwxrwxrwx <span class="m">1</span> root root <span class="m">0</span> Mar  <span class="m">2</span> 07:47 pid -&gt; <span class="s1">'pid:[4026531836]'</span>
 lrwxrwxrwx <span class="m">1</span> root root <span class="m">0</span> Mar  <span class="m">2</span> 08:06 pid_for_children -&gt; <span class="s1">'pid:[4026531836]'</span>
 lrwxrwxrwx <span class="m">1</span> root root <span class="m">0</span> Mar  <span class="m">2</span> 08:06 user -&gt; <span class="s1">'user:[4026531837]'</span>
 lrwxrwxrwx <span class="m">1</span> root root <span class="m">0</span> Mar  <span class="m">2</span> 08:06 uts -&gt; <span class="s1">'uts:[4026531838]'</span></code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="GCeI8Fp1"><b>åœ¨æˆ‘ä»¬ä½¿ç”¨ docker çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ docker run / exec è¿›å…¥ä¸€ä¸ªå®¹å™¨ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç”¨ nsenterï¼Œä¸è¿‡æˆ‘ä»¬ç”¨çš„æ˜¯ PID(0ï¼‰ system init ä¸»è¿›ç¨‹æµ‹è¯•çš„ï¼š</b></p><blockquote data-pid="U5Lm5DYh">èªæ˜çš„ä½ åº”è¯¥çŒœåˆ°äº†ï¼Œä¸»è¿›ç¨‹çš„è¯ï¼Œé‚£å¿…ç„¶ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼ˆå› ä¸ºæˆ‘å¹³å¸¸ä¸ç”¨ docker äº†ï¼Œæ‰€ä»¥åªæ˜¯å°† docker ä½œä¸º runtimeï¼‰ï¼Œå¦‚ä¸‹ï¼š</blockquote><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-e205c5a0163e6e9afc61787cc219a94b_r.jpg" data-caption="" data-size="normal" width="1757" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><p data-pid="wg8kROfS"><b>è¿™å’Œæˆ‘ä»¬è¿›å…¥ å®¹å™¨ ä¸­ï¼Œåœ¨è¾“å…¥ <code>ip addr</code> ç»“æœæ˜¯ä¸€æ ·çš„ï¼Œç½‘ç»œéš”ç¦»çš„æ•ˆæœä¸€æ ·ã€‚</b></p><p data-pid="0wN9h7vx">æˆ‘ä»¬åé¢ Kubernetes è°ƒè¯•å®¹å™¨ä¹Ÿæ˜¯ç»å¸¸ç”¨åˆ°çš„ã€‚</p><p class="ztext-empty-paragraph"><br></p><p data-pid="_lA8o2C0"><b>æˆ‘ä»¥ç½‘ç»œä¸ºä¾‹ï¼Œå…¶ä»–çš„ namespace ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼š</b></p><ul><li data-pid="7x_5xOFe"><code>ipc Namespace</code><br></li><ul><li data-pid="ebfPJ8_r">å®¹å™¨ä¸­è¿›ç¨‹äº¤äº’è¿˜æ˜¯é‡‡ç”¨Linuxå¸¸è§çš„è¿›ç¨‹é—´äº¤äº’(interprocess communication - IPC)æ–¹æ³•,åŒ…æ‹¬å¸¸è§çš„ä¿¡å·é‡ã€æ¶ˆæ¯é˜Ÿåˆ—å’Œå…±äº«å†…å­˜</li><li data-pid="E2tnvA4c">å®¹å™¨çš„è¿›ç¨‹é—´äº¤äº’,å®é™…ä¸Šè¿˜æ˜¯å®¿ä¸»æœºä¸Šåœ¨åŒä¸€ä¸ªPid namespaceä¸­çš„è¿›ç¨‹é—´äº¤äº’,å› æ­¤éœ€è¦åœ¨IPCèµ„æºç”³è¯·æ—¶åŠ å…¥namespaceä¿¡æ¯.æ¯ä¸ªIPCèµ„æºæœ‰ä¸€ä¸ªå”¯ä¸€çš„32ä½ID</li></ul></ul><p data-pid="HJZbgC3I">å¦‚æœéœ€è¦è¿›ç¨‹é—´é€šä¿¡(æ¯”å¦‚è¦å‘é€ä¿¡å·é‡ã€è¦å…±äº«å†…å­˜),è¿™ç§åœºæ™¯å°±éœ€è¦é€šè¿‡IPCé€šä¿¡æ¥å®Œæˆ.2ä¸ªè¿›ç¨‹æƒ³è¦è¿›è¡ŒIPCé€šä¿¡,å¿…é¡»å¤„äºåŒä¸€ä¸ªipc namespaceä¸­.</p><ul><li data-pid="hZNZt5Wd"><code>mnt Namespace</code><br></li><ul><li data-pid="8_G7NEdc">mnt Namespaceå…è®¸ä¸åŒnamespaceçš„è¿›ç¨‹çœ‹åˆ°ä¸åŒçš„æ–‡ä»¶ç»“æ„,è¿™æ ·æ¯ä¸ªnamespaceä¸­çš„è¿›ç¨‹æ‰€çœ‹åˆ°çš„æ–‡ä»¶ç›®å½•å°±è¢«éš”ç¦»å¼€äº†</li></ul></ul><p data-pid="TZZheZdl">æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰è‡ªå·±çš„æ–‡ä»¶ç³»ç»Ÿ.ä»ä»£ç çš„è§’åº¦æ¥çœ‹,ç»“æ„ä½“<code>task_struct</code>ä¸­æœ‰å¦‚ä¸‹å‡ ä¸ªå­—æ®µ:<br></p><ul><ul><li data-pid="-hix_C_Y"><code>struct mm_struct *mm, *active_mm;</code></li><li data-pid="NkcmNaZl"><code>struct fs_struct *fs;</code>(æ–‡ä»¶ç³»ç»Ÿä¿¡æ¯)</li><li data-pid="7f7u0blx"><code>struct files_struct *files;</code>(æ‰“å¼€æ–‡ä»¶ä¿¡æ¯)</li><li data-pid="_MECjpAK"><code>struct signal_struct *signal</code>(ä¿¡å·é‡ä¿¡æ¯)</li><li data-pid="xlqe_XLk"><code>struct sighand_struct *sighand;</code>(ä¿¡å·å¤„ç†å¯¹è±¡)</li></ul></ul><p data-pid="SMqLjITE">mnt Namespaceå†³å®šäº†<code>task_struct</code>çš„å®ä¾‹(ä¹Ÿå°±æ˜¯1ä¸ªè¿›ç¨‹)èƒ½å¤Ÿçœ‹åˆ°çš„æ–‡ä»¶ç³»ç»Ÿ.å› æ­¤æ¯ä¸ªè¿›ç¨‹èƒ½å¤Ÿçœ‹åˆ°çš„æ–‡ä»¶ç³»ç»Ÿä¹Ÿæ˜¯ä¸åŒçš„.</p><ul><li data-pid="JDBcUInp"><code>UTS Namespace</code><br></li><ul><li data-pid="WkfcRZH6">UTS(UNIX Time-sharing System) Namespaceå…è®¸æ¯ä¸ªå®¹å™¨æ‹¥æœ‰ç‹¬ç«‹çš„hostnameå’Œdomain name,ä½¿å…¶åœ¨ç½‘ç»œä¸Šå¯ä»¥è¢«è§†ä½œä¸€ä¸ªç‹¬ç«‹çš„èŠ‚ç‚¹,è€Œéå®¿ä¸»æœºä¸Šçš„ä¸€ä¸ªè¿›ç¨‹.</li></ul></ul><p data-pid="ystGjBfP">UTS Namespaceå†³å®šäº†æ¯ä¸ªè¿›ç¨‹å¯ä»¥æœ‰å…¶ä¸“å±çš„ä¸»æœºåŸŸå.é…åˆnet Namespace,æ¯ä¸ªè¿›ç¨‹å°±æ‹¥æœ‰äº†è‡ªå·±ç‹¬ç«‹çš„ä¸»æœºåŸŸåå’ŒIPåœ°å€</p><ul><li data-pid="iMB_rbN0"><code>user Namespace</code><br></li><ul><li data-pid="d_sVZQ9C">æ¯ä¸ªå®¹å™¨å¯ä»¥æœ‰ä¸åŒçš„userå’Œgroup id,ä¹Ÿå°±æ˜¯è¯´å¯ä»¥åœ¨å®¹å™¨å†…éƒ¨,ä»¥å®¹å™¨å†…éƒ¨ç”¨æˆ·çš„è§’è‰²æ‰§è¡Œç¨‹åº.è€Œéä»¥å®¿ä¸»æœºä¸Šçš„ç”¨æˆ·è§’è‰²æ¥æ‰§è¡Œå®¹å™¨å†…çš„ç¨‹åº.</li></ul></ul><p data-pid="OIFNMrhq">user Namespaceç”¨äºè®©æ¯ä¸ªè¿›ç¨‹å¯ä»¥æœ‰è‡ªå·±çš„ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ.</p><blockquote data-pid="0zAG_Mh0">âš ï¸ æˆ‘è¿˜æ˜¯æƒ³æé†’ä¸€ä¸‹ï¼Œæˆ–è®¸ä½ çœ‹è¿‡æˆ‘çš„æ–‡ç« ï¼Œæˆ–è®¸ä½ å¯ä»¥å» Wiki ä¸Šé¢çœ‹ï¼Œå› ä¸º namespace å‡ºç°æ—¶é—´ä¸ä¸€æ ·ï¼Œæ‰€ä»¥ä¸èƒ½ä¸€æ¦‚è€Œè®ºã€‚</blockquote><p class="ztext-empty-paragraph"><br></p><h3><b>unshare</b></h3><p data-pid="uB3AAJF-">å¥½ç†Ÿæ‚‰çš„åœ°æ–¹ä¸æ˜¯å—ï¼Œæˆ–è®¸ä½ çœ‹è¿‡æˆ‘<a href="https://docker.nsddd.top/Cloud-Native/27.html" target="_blank">ä»¥å‰çš„æ–‡ç« ï¼Œé‡Œé¢æåˆ°è¿‡</a></p><ul><li data-pid="pWA7WulU"><code>unshare</code>: unshare å…è®¸è¿›ç¨‹åœ¨è¿è¡Œæ—¶åˆ›å»ºå’Œéš”ç¦»æ–°çš„å‘½åç©ºé—´ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨ unshare åˆ›å»ºä¸€ä¸ªæ–°çš„ PID å‘½åç©ºé—´ï¼Œä»è€Œä½¿ä¸€ä¸ªè¿›ç¨‹åœ¨æ–°çš„å‘½åç©ºé—´ä¸­è¿è¡Œï¼Œå¹¶ä¸”ä¸åŸæ¥çš„å‘½åç©ºé—´éš”ç¦»ã€‚</li><li data-pid="CI71wOnY"><code>newuidmap</code>: newuidmap å·¥å…·ç”¨äºåœ¨å®¹å™¨ä¸­æ§åˆ¶ç”¨æˆ· ID æ˜ å°„ï¼Œè¿™æ˜¯å®ç°å®¹å™¨çš„å¿…è¦æ­¥éª¤ã€‚åœ¨å®¹å™¨ä¸­ï¼Œéœ€è¦åœ¨ä¸»æœºå’Œå®¹å™¨é—´è¿›è¡Œç”¨æˆ· ID çš„æ˜ å°„ï¼Œä»¥ä¾¿ä½¿å®¹å™¨ä¸­çš„è¿›ç¨‹å…·æœ‰è®¿é—®æ–‡ä»¶ç³»ç»Ÿçš„æƒé™ã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><p data-pid="KY9nhAjT"><b>create a new PID:</b></p><p data-pid="ue_fjnke">ä¹Ÿå°±æ˜¯è¯´è¿™æ¡å‘½ä»¤çš„å«ä¹‰æ˜¯:å¯åŠ¨ä¸€ä¸ªè¿›ç¨‹<code>sleep</code>,å¹¶åˆ‡æ¢è¯¥è¿›ç¨‹çš„net Namespace</p><div class="highlight"><pre><code class="language-bash"> â¯ unshare -fn sleep <span class="m">60</span></code></pre></div><p data-pid="Mhab6-3h"><b>test:</b></p><div class="highlight"><pre><code class="language-bash"> unshare -U bash</code></pre></div><ul><li data-pid="_W0TatbV"><code>-f</code>:åˆ‡æ¢Namespace</li><li data-pid="QffSvGLX"><code>-n</code>:æŒ‡å®šåˆ‡æ¢net Namespace</li></ul><p class="ztext-empty-paragraph"><br></p><p data-pid="Ov6fKfVm"><b>okï¼Œæˆ‘ä»¬æ¥æµ‹è¯•ä¸€ä¸‹è¿™ä¸ª ç®€å•çš„ä¸€ä¸ªæ¡ˆä¾‹å¦‚ä¸‹ï¼š</b></p><div class="highlight"><pre><code class="language-bash"> â¯ unshare -n bash
 root@cubmaster01:/# lsns -t net
         NS TYPE NPROCS    PID USER    NETNSID NSFS                      COMMAND
 <span class="m">4026531992</span> net     <span class="m">266</span>      <span class="m">1</span> root unassigned /run/docker/netns/default /sbin/init text
 <span class="m">4026532657</span> net       <span class="m">2</span> <span class="m">948916</span> root unassigned                           bash
 root@cubmaster01:/# ls -al /proc/948916/ns
 total <span class="m">0</span>
 dr-x--x--x <span class="m">2</span> root root <span class="m">0</span> Mar  <span class="m">2</span> 08:16 .
 dr-xr-xr-x <span class="m">9</span> root root <span class="m">0</span> Mar  <span class="m">2</span> 08:16 ..
 lrwxrwxrwx <span class="m">1</span> root root <span class="m">0</span> Mar  <span class="m">2</span> 08:16 cgroup -&gt; <span class="s1">'cgroup:[4026531835]'</span>
 lrwxrwxrwx <span class="m">1</span> root root <span class="m">0</span> Mar  <span class="m">2</span> 08:16 ipc -&gt; <span class="s1">'ipc:[4026531839]'</span>
 lrwxrwxrwx <span class="m">1</span> root root <span class="m">0</span> Mar  <span class="m">2</span> 08:16 mnt -&gt; <span class="s1">'mnt:[4026531840]'</span>
 lrwxrwxrwx <span class="m">1</span> root root <span class="m">0</span> Mar  <span class="m">2</span> 08:16 net -&gt; <span class="s1">'net:[4026532657]'</span>
 lrwxrwxrwx <span class="m">1</span> root root <span class="m">0</span> Mar  <span class="m">2</span> 08:16 pid -&gt; <span class="s1">'pid:[4026531836]'</span>
 lrwxrwxrwx <span class="m">1</span> root root <span class="m">0</span> Mar  <span class="m">2</span> 08:16 pid_for_children -&gt; <span class="s1">'pid:[4026531836]'</span>
 lrwxrwxrwx <span class="m">1</span> root root <span class="m">0</span> Mar  <span class="m">2</span> 08:16 user -&gt; <span class="s1">'user:[4026531837]'</span>
 lrwxrwxrwx <span class="m">1</span> root root <span class="m">0</span> Mar  <span class="m">2</span> 08:16 uts -&gt; <span class="s1">'uts:[4026531838]'</span>
 root@cubmaster01:/# ns
 nscd      nsenter   nslookup  nstat     nsupdate  
 root@cubmaster01:/# nsenter -t <span class="m">948916</span> -n ip a
 1: lo: &lt;LOOPBACK&gt; mtu <span class="m">65536</span> qdisc noop state DOWN group default qlen <span class="m">1000</span>
     link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
 root@cubmaster01:/# ip a
 1: lo: &lt;LOOPBACK&gt; mtu <span class="m">65536</span> qdisc noop state DOWN group default qlen <span class="m">1000</span>
     link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
 â€‹
 root@cubmaster01:/# <span class="nb">exit</span>
 <span class="nb">exit</span>
 â€‹
 root@cubmaster01 / 2m 15s                                                                                         08:18:01
 â¯ </code></pre></div><blockquote data-pid="0Q5rEe0R"> âš ï¸ <b>å…³äºKubernetes namespace çš„é€šä¿¡é—®é¢˜ä»¥åŠ Linux namespace é€šä¿¡é—®é¢˜ï¼Œæˆ‘å†™è¿‡ä¸€ç¯‡æ–‡ç« ï¼Œ<a href="https://docker.nsddd.top/Cloud-Native-k8s/45.html" target="_blank">è¯·ç§»æ­¥åˆ°è¿™é‡Œ</a></b></blockquote><p class="ztext-empty-paragraph"><br></p><h2><b>Cgroups</b></h2><ul><li data-pid="_xJmkAYz"><a href="https://docker.nsddd.top/markdown/47.html#control-groups" target="_blank">æˆ‘ä»¬åœ¨è¿™ç¯‡æ–‡ç« ä¸­ä¹Ÿå†™è¿‡</a></li></ul><p data-pid="JePwkRyp"><b>ä½†æ˜¯æˆ‘ä»¬ä»Šå¤©è¿›ä¸€æ­¥å­¦ä¹ ï¼Œåˆ¨æå®ƒçš„åº•å±‚å®ç°ï¼š</b></p><ul><li data-pid="hq1cA7Ek">Cgroups(Control Groups)æ˜¯Linuxä¸‹ç”¨äºå¯¹ä¸€ä¸ªæˆ–ä¸€ç»„è¿›ç¨‹è¿›è¡Œèµ„æºæ§åˆ¶å’Œç›‘æ§çš„æœºåˆ¶</li><li data-pid="Qewi2yv4">å¯ä»¥å¯¹è¯¸å¦‚CPUä½¿ç”¨æ—¶é—´ã€å†…å­˜ã€ç£ç›˜I/Oç­‰è¿›ç¨‹æ‰€éœ€èµ„æºè¿›è¡Œé™åˆ¶</li><li data-pid="BD-lGWfF">ä¸åŒèµ„æºçš„å…·ä½“ç®¡ç†å·¥ä½œç”±ç›¸åº”çš„Cgroupå­ç³»ç»Ÿ(Subsystem)æ¥å®ç°</li><li data-pid="Z3zL5aeM">é’ˆå¯¹ä¸åŒç±»å‹çš„èµ„æºé™åˆ¶,åªè¦å°†é™åˆ¶ç­–ç•¥åœ¨ä¸åŒçš„å­ç³»ç»Ÿä¸Šè¿›è¡Œå…³è”å³å¯</li><li data-pid="UgeyJmZu">Cgroupsåœ¨ä¸åŒçš„ç³»ç»Ÿèµ„æºç®¡ç†å­ç³»ç»Ÿä¸­,ä»¥å±‚çº§æ ‘(Hierarchy)çš„æ–¹å¼æ¥ç»„ç»‡ç®¡ç†:æ¯ä¸ªCgroupéƒ½å¯ä»¥åŒ…å«å…¶ä»–çš„å­Cgroup,å› æ­¤å­Cgroupèƒ½ä½¿ç”¨çš„èµ„æºé™¤äº†å—æœ¬Cgroupé…ç½®çš„èµ„æºå‚æ•°é™åˆ¶å¤–,è¿˜å—åˆ°çˆ¶Cgroupè®¾ç½®çš„èµ„æºé™åˆ¶</li></ul><p data-pid="r4uGUHJU">Cgroupsç”¨äºå¯¹Linuxä¸­çš„è¿›ç¨‹åšç»Ÿä¸€çš„ç›‘æ§å’Œèµ„æºç®¡ç†.</p><p data-pid="ol9cSXAI">Cgroupsä¹Ÿåˆ†ä¸ºä¸åŒçš„å­ç³»ç»Ÿ,ä¸åŒçš„å­ç³»ç»Ÿä¼šæ§åˆ¶ä¸åŒçš„èµ„æº.ä¸€ä¸ªè¿›ç¨‹æ‰€éœ€çš„èµ„æºå¤§çº¦å¯ä»¥åˆ†ä¸º:CPUã€å†…å­˜ã€Disk I/O.è¿™äº›èµ„æºéƒ½å¯ä»¥è¢«Cgroupsç®¡ç†èµ·æ¥.è¿™äº›èµ„æºåœ¨Cgroupsä¸­è¢«ç§°ä¸ºSubsystem.</p><p data-pid="CLErBS8z">è¿›ç¨‹æ˜¯ä¸€ä¸ªæ ‘çŠ¶ç»“æ„.Cgroupsä¹Ÿé‡‡ç”¨äº†ç±»ä¼¼çš„ç»“æ„,å«åšHierarchy.</p><p class="ztext-empty-paragraph"><br></p><h3><b>è¿›ç¨‹æ•°æ®ç»“æ„</b></h3><ul><li data-pid="vRJnYPJ1"><a href="https://github.com/torvalds/linux/blob/master/include/linux/sched.h#L1208" target="_blank">è¿›ç¨‹æ•°æ®ç»“æ„</a></li></ul><div class="highlight"><pre><code class="language-c"> <span class="k">struct</span> <span class="n">task_struct</span> <span class="p">{</span>
     <span class="p">...</span>
 <span class="cp">#ifdef CONFIG_CGROUPS
</span><span class="cp"></span>     <span class="cm">/* Control Group info protected by css_set_lock: */</span>
     <span class="k">struct</span> <span class="n">css_set</span> <span class="n">__rcu</span>        <span class="o">*</span><span class="n">cgroups</span><span class="p">;</span>
     <span class="cm">/* cg_list protected by css_set_lock and tsk-&gt;alloc_lock: */</span>
     <span class="k">struct</span> <span class="n">list_head</span>        <span class="n">cg_list</span><span class="p">;</span>
 <span class="cp">#endif
</span><span class="cp"></span>     <span class="p">...</span>
 <span class="p">}</span></code></pre></div><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>css_set æ•°æ®ç»“æ„</b></h3><ul><li data-pid="wnb95sYX"><a href="https://github.com/torvalds/linux/blob/master/include/linux/cgroup-defs.h#L212" target="_blank"><span class="invisible">https://</span><span class="visible">github.com/torvalds/lin</span><span class="invisible">ux/blob/master/include/linux/cgroup-defs.h#L212</span><span class="ellipsis"></span></a></li></ul><p data-pid="uS7O8Iwe"><b>css_set æ˜¯ cgroup_subsys_state å¯¹è±¡çš„é›†åˆæ•°æ®ç»“æ„</b></p><div class="highlight"><pre><code class="language-c"> <span class="cm">/*
</span><span class="cm">  * A css_set is a structure holding pointers to a set of
</span><span class="cm">  * cgroup_subsys_state objects. This saves space in the task struct
</span><span class="cm">  * object and speeds up fork()/exit(), since a single inc/dec and a
</span><span class="cm">  * list_add()/del() can bump the reference count on the entire cgroup
</span><span class="cm">  * set for a task.
</span><span class="cm">  */</span>
 <span class="k">struct</span> <span class="n">css_set</span> <span class="p">{</span>
     <span class="cm">/*
</span><span class="cm">      * Set of subsystem states, one for each subsystem. This array is
</span><span class="cm">      * immutable after creation apart from the init_css_set during
</span><span class="cm">      * subsystem registration (at boot time).
</span><span class="cm">      */</span>
     <span class="k">struct</span> <span class="n">cgroup_subsys_state</span> <span class="o">*</span><span class="n">subsys</span><span class="p">[</span><span class="n">CGROUP_SUBSYS_COUNT</span><span class="p">];</span>
 <span class="err">â€‹</span>
     <span class="cm">/* reference count */</span>
     <span class="n">refcount_t</span> <span class="n">refcount</span><span class="p">;</span>
 <span class="err">â€‹</span>
     <span class="cm">/*
</span><span class="cm">      * For a domain cgroup, the following points to self.  If threaded,
</span><span class="cm">      * to the matching cset of the nearest domain ancestor.  The
</span><span class="cm">      * dom_cset provides access to the domain cgroup and its csses to
</span><span class="cm">      * which domain level resource consumptions should be charged.
</span><span class="cm">      */</span>
     <span class="k">struct</span> <span class="n">css_set</span> <span class="o">*</span><span class="n">dom_cset</span><span class="p">;</span>
 <span class="err">â€‹</span>
     <span class="cm">/* the default cgroup associated with this css_set */</span>
     <span class="k">struct</span> <span class="n">cgroup</span> <span class="o">*</span><span class="n">dfl_cgrp</span><span class="p">;</span>
 <span class="err">â€‹</span>
     <span class="cm">/* internal task count, protected by css_set_lock */</span>
     <span class="kt">int</span> <span class="n">nr_tasks</span><span class="p">;</span>
 <span class="err">â€‹</span>
     <span class="cm">/*
</span><span class="cm">      * Lists running through all tasks using this cgroup group.
</span><span class="cm">      * mg_tasks lists tasks which belong to this cset but are in the
</span><span class="cm">      * process of being migrated out or in.  Protected by
</span><span class="cm">      * css_set_rwsem, but, during migration, once tasks are moved to
</span><span class="cm">      * mg_tasks, it can be read safely while holding cgroup_mutex.
</span><span class="cm">      */</span>
     <span class="k">struct</span> <span class="n">list_head</span> <span class="n">tasks</span><span class="p">;</span>
     <span class="k">struct</span> <span class="n">list_head</span> <span class="n">mg_tasks</span><span class="p">;</span>
     <span class="k">struct</span> <span class="n">list_head</span> <span class="n">dying_tasks</span><span class="p">;</span>
 <span class="err">â€‹</span>
     <span class="cm">/* all css_task_iters currently walking this cset */</span>
     <span class="k">struct</span> <span class="n">list_head</span> <span class="n">task_iters</span><span class="p">;</span>
 <span class="err">â€‹</span>
     <span class="cm">/*
</span><span class="cm">      * On the default hierarchy, -&gt;subsys[ssid] may point to a css
</span><span class="cm">      * attached to an ancestor instead of the cgroup this css_set is
</span><span class="cm">      * associated with.  The following node is anchored at
</span><span class="cm">      * -&gt;subsys[ssid]-&gt;cgroup-&gt;e_csets[ssid] and provides a way to
</span><span class="cm">      * iterate through all css's attached to a given cgroup.
</span><span class="cm">      */</span>
     <span class="k">struct</span> <span class="n">list_head</span> <span class="n">e_cset_node</span><span class="p">[</span><span class="n">CGROUP_SUBSYS_COUNT</span><span class="p">];</span>
 <span class="err">â€‹</span>
     <span class="cm">/* all threaded csets whose -&gt;dom_cset points to this cset */</span>
     <span class="k">struct</span> <span class="n">list_head</span> <span class="n">threaded_csets</span><span class="p">;</span>
     <span class="k">struct</span> <span class="n">list_head</span> <span class="n">threaded_csets_node</span><span class="p">;</span>
 <span class="err">â€‹</span>
     <span class="cm">/*
</span><span class="cm">      * List running through all cgroup groups in the same hash
</span><span class="cm">      * slot. Protected by css_set_lock
</span><span class="cm">      */</span>
     <span class="k">struct</span> <span class="n">hlist_node</span> <span class="n">hlist</span><span class="p">;</span>
 <span class="err">â€‹</span>
     <span class="cm">/*
</span><span class="cm">      * List of cgrp_cset_links pointing at cgroups referenced from this
</span><span class="cm">      * css_set.  Protected by css_set_lock.
</span><span class="cm">      */</span>
     <span class="k">struct</span> <span class="n">list_head</span> <span class="n">cgrp_links</span><span class="p">;</span>
 <span class="err">â€‹</span>
     <span class="cm">/*
</span><span class="cm">      * List of csets participating in the on-going migration either as
</span><span class="cm">      * source or destination.  Protected by cgroup_mutex.
</span><span class="cm">      */</span>
     <span class="k">struct</span> <span class="n">list_head</span> <span class="n">mg_src_preload_node</span><span class="p">;</span>
     <span class="k">struct</span> <span class="n">list_head</span> <span class="n">mg_dst_preload_node</span><span class="p">;</span>
     <span class="k">struct</span> <span class="n">list_head</span> <span class="n">mg_node</span><span class="p">;</span>
 <span class="err">â€‹</span>
     <span class="cm">/*
</span><span class="cm">      * If this cset is acting as the source of migration the following
</span><span class="cm">      * two fields are set.  mg_src_cgrp and mg_dst_cgrp are
</span><span class="cm">      * respectively the source and destination cgroups of the on-going
</span><span class="cm">      * migration.  mg_dst_cset is the destination cset the target tasks
</span><span class="cm">      * on this cset should be migrated to.  Protected by cgroup_mutex.
</span><span class="cm">      */</span>
     <span class="k">struct</span> <span class="n">cgroup</span> <span class="o">*</span><span class="n">mg_src_cgrp</span><span class="p">;</span>
     <span class="k">struct</span> <span class="n">cgroup</span> <span class="o">*</span><span class="n">mg_dst_cgrp</span><span class="p">;</span>
     <span class="k">struct</span> <span class="n">css_set</span> <span class="o">*</span><span class="n">mg_dst_cset</span><span class="p">;</span>
 <span class="err">â€‹</span>
     <span class="cm">/* dead and being drained, ignore for migration */</span>
     <span class="kt">bool</span> <span class="n">dead</span><span class="p">;</span>
 <span class="err">â€‹</span>
     <span class="cm">/* For RCU-protected deletion */</span>
     <span class="k">struct</span> <span class="n">rcu_head</span> <span class="n">rcu_head</span><span class="p">;</span>
 <span class="p">};</span></code></pre></div><p data-pid="HHKYvb1W">Tipï¼š</p><blockquote data-pid="9mW38h1S">cgroup ä¸»è¦éš”ç¦»çš„æ˜¯ CPU èµ„æºï¼Œæˆ‘ä»¬çŸ¥é“å³ä½¿æ˜¯åœ¨ Kubernetes ä¸­ï¼Œå‚è€ƒ ã€Šæ·±å…¥å‰–ækubernetesã€‹ è¿™æœ¬ä¹¦çš„ L 314 <br>Kubernetes å¯¹ CPU å’Œ å†…å­˜èµ„æºé™é¢çš„è®¾è®¡ï¼Œä¹Ÿæ˜¯å‚è€ƒäº† Borg åŠ¨æ€èµ„æºå®šä¹‰ è°ƒåº¦çš„ã€‚ä½¿ç”¨ requests + limits åšæ³•ã€‚</blockquote><p class="ztext-empty-paragraph"><br></p><h3><b>cgroupså®ç°äº†å¯¹èµ„æºçš„é…é¢å’Œåº¦é‡</b></h3><ul><li data-pid="qCv_uILB">blkio:è¯¥å­ç³»ç»Ÿç”¨äºé™åˆ¶æ¯ä¸ªå—è®¾å¤‡çš„è¾“å…¥è¾“å‡ºæ§åˆ¶.å¦‚:ç£ç›˜ã€å…‰ç›˜ä»¥åŠUSBç­‰</li><li data-pid="e8lG5Oka">cpu:è¯¥å­ç³»ç»Ÿé€šè¿‡è°ƒåº¦ç¨‹åºä¸ºcgroupä»»åŠ¡æä¾›CPUè®¿é—®</li><li data-pid="pu9KI8sE">cpuacct:äº§ç”Ÿcgroupä»»åŠ¡çš„CPUèµ„æºæŠ¥å‘Š</li><li data-pid="kxdyS282">cpuset:å¦‚æœæ˜¯å¤šæ ¸å¿ƒçš„CPU,è¯¥å­ç³»ç»Ÿä¸ºcgroupä»»åŠ¡åˆ†é…å•ç‹¬çš„CPUå’Œå†…å­˜</li><li data-pid="7Tga7ywP">divices:å…è®¸æˆ–æ‹’ç»cgroupä»»åŠ¡å¯¹è®¾å¤‡çš„è®¿é—®</li><li data-pid="fuAgSlqp">freezer:æš‚åœå’Œæ¢å¤cgroupä»»åŠ¡</li><li data-pid="N1f4NndO">memory:è®¾ç½®æ¯ä¸ªcgroupçš„å†…å­˜é™åˆ¶ä»¥åŠäº§ç”Ÿå†…å­˜èµ„æºæŠ¥å‘Š</li><li data-pid="lquoN4El">net_cls:æ ‡è®°æ¯ä¸ªç½‘ç»œåŒ…ä»¥ä¾›cgroupæ–¹ä¾¿ä½¿ç”¨</li><li data-pid="SPXX7I9G">ns:å‘½åç©ºé—´å­ç³»ç»Ÿ</li><li data-pid="qqdTgYQj">pid:è¿›ç¨‹æ ‡è¯†å­ç³»ç»Ÿ</li></ul><p data-pid="ERXadWgY">blkio:å³block IO.è¯¥å­ç³»ç»Ÿç”¨äºæ§åˆ¶è¯»å†™ç£ç›˜çš„é€Ÿåº¦</p><p data-pid="CmDzffae">cpu:è®¾ç½®ä¸ºè¯¥è¿›ç¨‹åˆ†é…å¤šå°‘CPUçš„æ—¶é—´ç‰‡</p><p data-pid="7IJllWk8">cpuacct:ç”¨äºæ±‡æŠ¥CPUçš„çŠ¶æ€</p><p data-pid="XvaIjaza">cpuset:ç”¨äºåœ¨å¤šCPUåœºæ™¯ä¸‹,å°†æŸä¸ªè¿›ç¨‹ç»‘å®šåœ¨æŸä¸ªCPUæ ¸å¿ƒä¸Š.å…¶ç›®çš„æ˜¯ä¸ºäº†é«˜æ•ˆ.1ä¸ªè¿›ç¨‹çš„ç”Ÿå‘½å‘¨æœŸå°±å’Œ1ä¸ªCPUæ ¸å¿ƒç»‘å®š,å¯¹äºCPUæ ¸å¿ƒæ¥è®²ä¸éœ€è¦åšè¿›ç¨‹åˆ‡æ¢,æé«˜æ•ˆç‡(æ¯”å¦‚CPUæœ¬åœ°çš„cache,TLBè¡¨ç­‰éƒ½æ˜¯å¯ä»¥å¤ç”¨çš„,å‡å°‘è¿›ç¨‹åˆ‡æ¢çš„å¼€é”€).</p><p data-pid="cXDxRbTU">memory:æ§åˆ¶ä¸€ä¸ªè¿›ç¨‹å¯ä½¿ç”¨çš„å†…å­˜å¤§å°</p><blockquote data-pid="ty0y_OAE"><a href="https://github.com/rayallen20/cloudNativeExercise/blob/master/note/module3-Docker%20core%20technology/class3-Docker%E7%9A%84%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF(%E4%B8%80)/class3-Docker%E7%9A%84%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF(%E4%B8%80).md#L583" target="_blank">æ›´å¤šè¯¦ç»†çš„å‚è€ƒè¿™ç¯‡æ–‡ç« ~</a></blockquote><p class="ztext-empty-paragraph"><br></p><h3><b>CPU å­ç³»ç»Ÿ</b></h3><ul><li data-pid="RMxXhgJZ"><code>cpu.shares</code>:å¯å‡ºè®©çš„èƒ½è·å¾—CPUä½¿ç”¨æ—¶é—´çš„ç›¸å¯¹å€¼</li><li data-pid="pDCqVKeL"><code>cpu.cfs_period_us</code>:<code>cfs_period_us</code>ç”¨äºé…ç½®æ—¶é—´å‘¨æœŸé•¿åº¦,å•ä½ä¸ºÎ¼s(å¾®ç§’)</li><li data-pid="83cbsrNC"><code>cpu.cfs_quota_us</code>:<code>cfs_quota_us</code>ç”¨äºé…ç½®å½“å‰Cgroupåœ¨<code>cfs_period_us</code>æ—¶é—´å†…æœ€å¤šèƒ½ä½¿ç”¨çš„CPUæ—¶é—´æ•°,å•ä½ä¸ºÎ¼s(å¾®ç§’)</li><li data-pid="VWa--vof"><code>cpu.stat</code>:Cgroupå†…çš„è¿›ç¨‹ä½¿ç”¨çš„CPUæ—¶é—´ç»Ÿè®¡</li><li data-pid="8td7vHrl"><code>nr_periods</code>:ç»è¿‡<code>cpu.cfs_period_us</code>çš„æ—¶é—´å‘¨æœŸæ•°é‡</li><li data-pid="JTVUQv_B"><code>nr_throttled</code>:åœ¨ç»è¿‡çš„å‘¨æœŸå†…,æœ‰å¤šå°‘æ¬¡å› ä¸ºè¿›ç¨‹åœ¨æŒ‡å®šçš„æ—¶é—´å‘¨æœŸå†…ç”¨å…‰äº†é…é¢æ—¶é—´è€Œå—åˆ°é™åˆ¶</li><li data-pid="7-bSHvzm"><code>throttled_time</code>:Cgroupä¸­çš„è¿›ç¨‹è¢«é™åˆ¶ä½¿ç”¨CPUçš„æ€»ç”¨æ—¶,å•ä½ä¸ºns(çº³ç§’)</li></ul><p data-pid="fYKllH1w">CPUå­ç³»ç»Ÿç”¨äºæ§åˆ¶1ä¸ªè¿›ç¨‹èƒ½å ç”¨å¤šå°‘CPU.é€šè¿‡2ç§æ‰‹æ®µæ§åˆ¶:</p><ol><li data-pid="e2SB88M_"><code>cpu.shares</code>:ç›¸å¯¹æ—¶é—´</li><li data-pid="LFAENS_1"><code>cpu.cfs_period_us</code>:ç»å¯¹æ—¶é—´</li></ol><p data-pid="9h0Cf6Nw">ç”¨äºæ§åˆ¶è¿›ç¨‹å ç”¨CPUçš„æ–‡ä»¶:</p><div class="highlight"><pre><code class="language-bash"> â¯  tree -L <span class="m">1</span> /sys/fs/cgroup/cpu
 /sys/fs/cgroup/cpu
 â”œâ”€â”€ cgroup.clone_children
 â”œâ”€â”€ cgroup.procs
 â”œâ”€â”€ cgroup.sane_behavior
 â”œâ”€â”€ cpuacct.stat
 â”œâ”€â”€ cpuacct.usage
 â”œâ”€â”€ cpuacct.usage_all
 â”œâ”€â”€ cpuacct.usage_percpu
 â”œâ”€â”€ cpuacct.usage_percpu_sys
 â”œâ”€â”€ cpuacct.usage_percpu_user
 â”œâ”€â”€ cpuacct.usage_sys
 â”œâ”€â”€ cpuacct.usage_user
 â”œâ”€â”€ cpu.cfs_period_us
 â”œâ”€â”€ cpu.cfs_quota_us
 â”œâ”€â”€ cpudemo
 â”œâ”€â”€ cpu.shares
 â”œâ”€â”€ cpu.stat
 â”œâ”€â”€ init.scope
 â”œâ”€â”€ kubepods.slice
 â”œâ”€â”€ notify_on_release
 â”œâ”€â”€ release_agent
 â”œâ”€â”€ system.slice
 â”œâ”€â”€ tasks
 â””â”€â”€ user.slice
 â€‹
 <span class="m">5</span> directories, <span class="m">18</span> files</code></pre></div><p class="ztext-empty-paragraph"><br></p><h3><b><code>cpu.shares</code></b></h3><p data-pid="aWtc-7Fr"><b>sharesé¡¾åæ€ä¹‰å°±æ˜¯å æ¯”,æ˜¯ä¸€ä¸ªç›¸å¯¹å€¼</b>ã€‚</p><p data-pid="jLdZLHjs">è®¾ç°æœ‰3ä¸ªCPUï¼Œ2ä¸ªCGroup(æˆ‘ä»¬å°†å®ƒå‘½åä¸ºCgroup1å’ŒCgroup2)ï¼Œ2ä¸ªè¿›ç¨‹(æˆ‘ä»¬å°†å®ƒå‘½åä¸ºè¿›ç¨‹Aå’Œè¿›ç¨‹B).</p><p data-pid="o3_Du5IB">å°†è¿›ç¨‹Aæ”¾åœ¨CGroup1ä¸­ï¼Œå°†è¿›ç¨‹Bæ”¾åœ¨CGroup2ä¸­ï¼Œæ­¤æ—¶è¿›ç¨‹å’ŒCGroupå°±äº§ç”Ÿå…³è”å…³ç³»äº†.</p><p data-pid="KP-b-g4f">å°†CGroup1çš„<code>cpu.shares</code>è®¾ç½®ä¸º512,å°†CGroup2çš„<code>cpu.shares</code>è®¾ç½®ä¸º<code>1024.512:1024=1:2.</code>è¿™è¡¨ç¤ºOSåœ¨è°ƒç”¨è¿™2ä¸ªè¿›ç¨‹æ—¶,ä¼šæŒ‰ç…§1:2çš„æ¯”ä¾‹åˆ†é…CPUæ—¶é—´ç‰‡.å› æ­¤è¯´sharesæ˜¯ä¸€ä¸ªç›¸å¯¹å€¼.</p><p class="ztext-empty-paragraph"><br></p><h3><b><code>cpu.cfs_periods_us</code></b></h3><p data-pid="BS1upfue">è¿™ç§æ–¹å¼æ˜¯æ§åˆ¶è¿›ç¨‹å¯¹CPUå ç”¨çš„ç»å¯¹æ—¶é—´.éœ€è¦2ä¸ªæ–‡ä»¶æ¥æ§åˆ¶.</p><ol><li data-pid="WigFHzJq"><code>cpu.cfs_periods_us</code>:é…ç½®æ—¶é—´å‘¨æœŸçš„é•¿åº¦.</li><li data-pid="mKTS3KC_"><code>cpu.cfs_quota_us</code>:é…ç½®åœ¨<code>cpu.cfs_periods_us</code>æ‰€å®šä¹‰çš„æ—¶é—´é•¿åº¦å†…,è¿›ç¨‹æœ€å¤šå¯ä»¥å ç”¨CPUçš„æ—¶é•¿.</li></ol><p class="ztext-empty-paragraph"><br></p><h3><b>äºŒè€…åŒºåˆ«</b></h3><p data-pid="WjfNPvvS"><code>cpu.shares</code>å®šä¹‰çš„æ˜¯ä¸€ä¸ªç›¸å¯¹å€¼.å¦‚æœåœ¨å¤šä¸ªè¿›ç¨‹ç«äº‰CPUèµ„æºçš„åœºæ™¯ä¸‹,æŒ‰ç…§å…¶å®šä¹‰çš„ç™¾åˆ†æ¯”åˆ’åˆ†CPUå ç”¨æ—¶é•¿.å¦‚æœæ²¡æœ‰ç«äº‰,åˆ™è¯¥è¿›ç¨‹å¯ä»¥ä¸€ç›´å ç”¨CPU.</p><p data-pid="9yhbweK6"><code>cpu.cfs_periods_us</code>æ˜¯ç»å¯¹æ—¶é—´.æ— è®ºæ˜¯å¦å­˜åœ¨å…¶ä»–è¿›ç¨‹ä¸è¯¥è¿›ç¨‹ç«äº‰CPUèµ„æº,æŒ‰ç…§ä¸Šæ–‡ä¸¾çš„ä¾‹å­æ¥è®²,æ¯100000Î¼sä¸­,è¯¥è¿›ç¨‹éƒ½åªèƒ½å ç”¨40000Î¼sçš„CPU.</p><p class="ztext-empty-paragraph"><br></p><h3><b>Linux è°ƒåº¦å™¨</b></h3><p data-pid="dZUgh9xQ">å†…æ ¸é»˜è®¤æä¾›äº† 5 ä¸ªè°ƒåº¦å™¨ï¼ŒLinux å†…æ ¸ä½¿ç”¨ <code>struct sched_class</code> æ¥å¯¹è°ƒåº¦å™¨è¿›è¡ŒæŠ½è±¡ï¼Œå…³äº Linux å†…æ ¸è°ƒåº¦å™¨çš„ç ”ç©¶ï¼Œæˆ‘ä¹Ÿæ›¾ç» <a href="https://github.com/cubxxw/awesome-cs-course/blob/master/excerpt/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Linux%20Kernel%E8%B0%83%E5%BA%A6%E5%99%A8%E7%9A%84%E8%BA%AB%E4%B8%96%E4%B9%8B%E8%B0%9C%20-%20%E6%96%87%E7%AB%A0%E8%AF%A6%E6%83%85.md" target="_blank">æ‘˜æŠ„è¿‡ä¸€ç¯‡æ–‡ç« </a></p><ul><li data-pid="fJf-dJRG">Stopè°ƒåº¦å™¨,<code>stop_sched_class</code>:ä¼˜å…ˆçº§æœ€é«˜çš„è°ƒåº¦ç±»,å¯ä»¥æŠ¢å å…¶ä»–æ‰€æœ‰è¿›ç¨‹,ä¸èƒ½è¢«å…¶ä»–è¿›ç¨‹æŠ¢å </li><li data-pid="Zrguz_Yt">Deadlineè°ƒåº¦å™¨,<code>dl_sched_class</code>:ä½¿ç”¨çº¢é»‘æ ‘,æŠŠè¿›ç¨‹æŒ‰ç…§ç»å¯¹æˆªæ­¢æœŸé™è¿›è¡Œæ’åº,é€‰æ‹©æœ€å°è¿›ç¨‹è¿›è¡Œè°ƒåº¦è¿è¡Œ</li><li data-pid="N5ObDh2b">RTè°ƒåº¦å™¨,<code>rt_sched_class</code>:å®æ—¶è°ƒåº¦å™¨,ä¸ºæ¯ä¸ªä¼˜å…ˆçº§ç»´æŠ¤ä¸€ä¸ªé˜Ÿåˆ—</li><li data-pid="VhpUTcMp">CFSè°ƒåº¦å™¨,<code>cfs_sched_class</code>:å®Œå…¨å…¬å¹³è°ƒåº¦å™¨,é‡‡ç”¨å®Œå…¨å…¬å¹³è°ƒåº¦ç®—æ³•,å¼•å…¥è™šæ‹Ÿè¿è¡Œæ—¶é—´çš„æ¦‚å¿µ</li><li data-pid="Ci7vDCOa">IDLE-Taskè°ƒåº¦å™¨,<code>idle_sched_class</code>:ç©ºé—²è°ƒåº¦å™¨,æ¯ä¸ªCPUéƒ½ä¼šæœ‰1ä¸ªidleçº¿ç¨‹,å½“æ²¡æœ‰å…¶ä»–è¿›ç¨‹å¯ä»¥è°ƒåº¦æ—¶,è°ƒåº¦è¿è¡Œidleçº¿ç¨‹</li></ul><p data-pid="3PnFXdo4">Linuxä¸­æä¾›å¤šä¸ªè°ƒåº¦å™¨.æœ€é«˜ä¼˜å…ˆçº§çš„æ˜¯RT(Real Time)è°ƒåº¦å™¨.è¿™ä¸ªè°ƒåº¦å™¨æ˜¯è½®è¯¢çš„.å‡è®¾æœ‰å¤šä¸ªè¿›ç¨‹ä½¿ç”¨RTè°ƒåº¦å™¨æ¥è°ƒåº¦,é‚£ä¹ˆRTè°ƒåº¦å™¨å°†ä½¿ç”¨è½®è¯¢çš„ç­–ç•¥æ¥è°ƒåº¦è¿™äº›è¿›ç¨‹.è¿™æ ·æ˜¯ä¸ºäº†ä¿è¯æ—¶æ•ˆæ€§</p><p data-pid="pjAIArRC">ä¼˜å…ˆçº§ä¸Šå…¶æ¬¡æ˜¯CFS(Completely Fair Scheduler,å®Œå…¨å…¬å¹³è°ƒåº¦å™¨)è°ƒåº¦å™¨.é€šå¸¸æ™®é€šç”¨æˆ·è¿›ç¨‹éƒ½æ˜¯ä½¿ç”¨CFSè°ƒåº¦å™¨æ¥è°ƒåº¦çš„.CFSå¼•å…¥äº†ä¸€ä¸ªvruntime(è™šæ‹Ÿè¿è¡Œæ—¶é—´)çš„æ¦‚å¿µ,æ˜¯å¹³æ—¶é‡åˆ°çš„æœ€å¤šçš„è°ƒåº¦å™¨</p><p data-pid="Jkq6qn6t">å…¶ä¸­ï¼ŒCFS è°ƒåº¦å™¨ï¼Œ å¯¹åº” <code>cfs_sched_class</code> : å®Œå…¨å…¬å¹³è°ƒåº¦å™¨ï¼Œé‡‡ç”¨å®Œå…¨å…¬å¹³è°ƒåº¦ç®—æ³•ï¼Œ<b>å¼•å…¥è™šæ‹Ÿè¿è¡Œæ—¶é—´æ¦‚å¿µï¼ˆvruntime)</b></p><p data-pid="TmZwHNWs"><b>CFS è°ƒåº¦æ²¡æœ‰å°†è¿›ç¨‹ç»´æŠ¤åœ¨è¿è¡Œ</b></p><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>CFSè°ƒåº¦å™¨åŸç†</b></h3><ul><li data-pid="hBhi0VP9">CFSæ˜¯Completely Fair Schedulerçš„ç®€å†™,å³å®Œå…¨å…¬å¹³è°ƒåº¦å™¨</li><li data-pid="EAMj3YFw">CFSå®ç°çš„ä¸»è¦æ€æƒ³æ˜¯ç»´æŠ¤ä¸ºä»»åŠ¡æä¾›å¤„ç†å™¨æ—¶é—´æ–¹é¢çš„å¹³è¡¡,è¿™æ„å‘³ç€åº”è¯¥ç»™è¿›ç¨‹åˆ†é…ç›¸å½“æ•°é‡çš„å¤„ç†å™¨</li><li data-pid="9TBJCthm">åˆ†ç»™æŸä¸ªä»»åŠ¡çš„æ—¶é—´å¤±å»å¹³è¡¡æ—¶,åº”è¯¥ç»™å¤±å»å¹³è¡¡çš„ä»»åŠ¡åˆ†é…æ—¶é—´,ä»¥ä¾¿è®©è¯¥ä»»åŠ¡æ‰§è¡Œ</li><li data-pid="hwKmKMnG">CFSé€šè¿‡vruntime(è™šæ‹Ÿè¿è¡Œæ—¶é—´)æ¥å®ç°å¹³è¡¡,ç»´æŠ¤æä¾›ç»™æŸä¸ªä»»åŠ¡çš„æ—¶é—´é‡<br></li><ul><li data-pid="D7mbQrNt">vruntime = å®é™…è¿è¡Œæ—¶é—´ * 1024 / è¿›ç¨‹æƒé‡</li></ul></ul><p class="ztext-empty-paragraph"><br></p><ul><li data-pid="RWui9i8s">è¿›ç¨‹æŒ‰ç…§å„è‡ªä¸åŒçš„é€Ÿç‡åœ¨ç‰©ç†æ—¶é’ŸèŠ‚æ‹å†…å‰è¿›,ä¼˜å…ˆçº§é«˜åˆ™æƒé‡å¤§,å…¶è™šæ‹Ÿæ—¶é’Ÿæ¯”çœŸå®æ—¶é’Ÿè·‘å¾—æ…¢,ä½†è·å¾—æ¯”è¾ƒå¤šçš„è¿è¡Œæ—¶é—´</li></ul><p data-pid="Gja7Aaza">ä¹Ÿå°±æ˜¯è¯´,ä¸€ä¸ªè¿›ç¨‹çš„æƒé‡è¶Šå¤§,é‚£ä¹ˆè¯¥è¿›ç¨‹çš„è™šæ‹Ÿæ—¶é’Ÿ(vruntime)è·‘çš„è¶Šæ…¢,å°±èƒ½å¤Ÿè·å¾—è¶Šé•¿çš„è¿è¡Œæ—¶é—´.</p><p class="ztext-empty-paragraph"><br></p><h3><b>runtimeçº¢é»‘æ ‘</b></h3><p data-pid="Lo0w6oqB">CFSè°ƒåº¦å™¨å¹¶æ²¡æœ‰å°†è¿›ç¨‹ç»´æŠ¤åœ¨è¿è¡Œé˜Ÿåˆ—ä¸­,è€Œæ˜¯ç»´æŠ¤äº†ä¸€ä¸ªä»¥è™šæ‹Ÿè¿è¡Œæ—¶é—´ä¸ºé¡ºåºçš„çº¢é»‘æ ‘.çº¢é»‘æ ‘çš„ä¸»è¦æŒæœ‰ç‚¹æœ‰:</p><ol><li data-pid="yOHEMO2h">è‡ªå¹³è¡¡,æ ‘ä¸Šæ²¡æœ‰ä»»ä½•ä¸€æ¡è·¯å¾„,ä¼šæ¯”å…¶ä»–è·¯å¾„é•¿å‡º2å€</li><li data-pid="wCs-vtBT">O(log n)æ—¶é—´å¤æ‚åº¦,èƒ½å¤Ÿåœ¨æ ‘ä¸Šè¿›è¡Œå¿«è¯»é«˜æ•ˆåœ°æ’å…¥æˆ–åˆ é™¤æ“ä½œ</li></ol><p class="ztext-empty-paragraph"><br></p><h3><b>CFSè¿›ç¨‹è°ƒåº¦</b></h3><ul><li data-pid="cFNDHpby">åœ¨æ—¶é’Ÿå‘¨æœŸå¼€å§‹æ—¶,è°ƒåº¦å™¨ç”¨<code>__schedule()</code>å‡½æ•°æ¥å¼€å§‹è°ƒåº¦çš„è¿è¡Œ</li><li data-pid="LVrQNWfT"><code>__schedule()</code>å‡½æ•°è°ƒç”¨<code>pick_next_task()</code>è®©è¿›ç¨‹è°ƒåº¦å™¨ä»å°±ç»ªé˜Ÿåˆ—ä¸­é€‰æ‹©ä¸€ä¸ªæœ€åˆé€‚çš„è¿›ç¨‹<code>next</code>,å³çº¢é»‘æ ‘æœ€å·¦è¾¹çš„èŠ‚ç‚¹(ä¹Ÿå°±æ˜¯vruntimeæœ€å°çš„è¿›ç¨‹)</li><li data-pid="GcMtQ6Vc">é€šè¿‡<code>context_switch()</code>åˆ‡æ¢åˆ°æ–°çš„åœ°å€ç©ºé—´,ä»è€Œä¿è¯è®©<code>next</code>è¿›ç¨‹è¿è¡Œ</li><li data-pid="JPbDQkyr">åœ¨æ—¶é’Ÿå‘¨æœŸç»“æŸæ—¶,è°ƒåº¦å™¨è°ƒç”¨<br> entity_tick()<br>å‡½æ•°æ¥æ›´æ–°è¿›ç¨‹è´Ÿè½½ã€è¿›ç¨‹çŠ¶æ€ä»¥åŠvruntime(å½“å‰vruntime + è¯¥æ—¶é’Ÿå‘¨æœŸå†…è¿è¡Œçš„æ—¶é—´)<br></li><ul><li data-pid="x2e-Wniq">åœ¨è¿™ä¸ªæ—¶é’Ÿå‘¨æœŸå†…,æœ‰çš„è¿›ç¨‹è¿è¡Œäº†,è€Œæœ‰çš„è¿›ç¨‹æ²¡æœ‰è¿è¡Œ.é‚£æ­¤æ—¶éœ€è¦æ›´æ–°vruntime,ç„¶åæ ¹æ®æ›´æ–°åçš„vruntimeåšä¸€ä¸ªé¡ºåºä¸Šçš„è°ƒæ•´(ä¹Ÿå°±æ˜¯çº¢é»‘æ ‘é€šè¿‡æ’å…¥å’Œåè½¬ç­‰æ“ä½œè¿›è¡Œé‡æ–°æ’åº),è°ƒæ•´åä¼šæŠŠä¸€ä¸ªæ›´ç´§è¿«çš„è¿›ç¨‹æ”¾åœ¨çº¢é»‘æ ‘çš„æœ€å·¦ä¾§.</li><li data-pid="e_k-PVRs">è¿›ç¨‹ä¼˜å…ˆçº§è¶Šé«˜çš„è¿›ç¨‹,æŒ‰ç…§å…¬å¼<code>vruntime = å®é™…è¿è¡Œæ—¶é—´ * 1024 / è¿›ç¨‹æƒé‡</code>,å…¶vruntimeå€¼è¶Šå°.vruntimeå€¼è¶Šå°è¯´æ˜è¯¥è¿›ç¨‹è¶Šç´§è¿«,å³è¯¥è¿›ç¨‹å¯ä»¥å ç”¨æ›´å¤šçš„æ—¶é—´.è¿™æ ·vruntimeå’Œ<code>cpu.shares</code>å°±äº§ç”Ÿäº†ä¸€ä¸ªå…³è”å…³ç³»:<code>cpu.shares</code>å æ¯”è¶Šå¤§çš„è¿›ç¨‹,èƒ½å æœ‰CPUçš„æ—¶é—´å°±è¶Šé•¿</li></ul></ul><p class="ztext-empty-paragraph"><br></p><ul><li data-pid="rjh8e6og">æœ€åå°†è¯¥è¿›ç¨‹çš„è™šæ‹Ÿæ—¶é—´ä¸å°±ç»ªé˜Ÿåˆ—çº¢é»‘æ ‘æœ€å·¦è¾¹çš„è°ƒåº¦å®ä½“çš„è™šæ‹Ÿæ—¶é—´ä½œæ¯”è¾ƒ,å¦‚æœå°äºæœ€å·¦è¾¹çš„æ—¶é—´,åˆ™ä¸ç”¨è§¦å‘è°ƒåº¦,ç»§ç»­è°ƒåº¦å½“å‰è°ƒåº¦å®ä½“</li></ul><p data-pid="v_l4slbS">â€¦â€¦</p><blockquote data-pid="ESBYmeYt">æ›´å¤šçš„ï¼Œæˆ‘ä»¬å¯ä»¥æ·±æŒ– Kubernetes è°ƒåº¦å™¨ï¼Œä»¥åŠ Linux è°ƒåº¦å™¨é—®é¢˜ï¼Œæˆ‘ä»¬ä»‹ç»è¡¨é¢å±‚ã€‚<br></blockquote><ul><li data-pid="rZvUTBZs">å…³äº æ·±æŒ– Linux  CPU è°ƒåº¦å™¨ï¼Œæˆ‘<a href="https://github.com/cubxxw/awesome-cs-course/blob/master/excerpt/%E4%B8%87%E5%AD%97%E9%95%BF%E6%96%87%EF%BC%8C%E9%94%A4%E5%AE%83%EF%BC%81%E6%8F%AD%E7%A7%98Linux%E8%BF%9B%E7%A8%8B%E8%B0%83%E5%BA%A6%E5%99%A8-51CTO.COM.md" target="_blank">ä¹Ÿæ‘˜æŠ„è¿‡ä¸€ç¯‡æ–‡ç« </a></li></ul><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>æ¡ˆä¾‹</b></h3><p data-pid="f6jMqNXo">åœ¨<code>/sys/fs/cgroup/cpu</code>ä¸‹,åˆ›å»ºç›®å½•<code>cpudemo</code>å¹¶è¿›å…¥ï¼š</p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-0916aa6b8d168e66ecc99a0776c68255_r.jpg" data-caption="" data-size="normal" width="1969" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><blockquote data-pid="2wPN03x6">æƒŠè®¶çš„å‘ç°ï¼šå¯ä»¥çœ‹åˆ°æ§åˆ¶æ–‡ä»¶è¢«è‡ªåŠ¨åˆ›å»ºå‡ºæ¥äº†</blockquote><p class="ztext-empty-paragraph"><br></p><p data-pid="jtHuL92Y">æˆ‘ä»¬ç»§ç»­ï¼šåˆ›å»ºä¸€ä¸ª<code>go</code>æ–‡ä»¶,åœ¨è¯¥<code>go</code>æ–‡ä»¶ä¸­,å¯åŠ¨2ä¸ªæ­»å¾ªç¯,1ä¸ªæ­»å¾ªç¯è·‘åœ¨ä¸»çº¿ç¨‹ä¸Š,å¦ä¸€ä¸ªè·‘åœ¨å­çº¿ç¨‹ä¸Š</p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-d2474d1e868e333fae1109a11f3c10d6_r.jpg" data-caption="" data-size="normal" width="1557" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><p data-pid="3cWqKFiC">ç»§ç»­ï¼šç¼–è¯‘å¹¶è¿è¡Œè¯¥ç¨‹åº.è¿è¡Œçš„åŒæ—¶å†èµ·ä¸€ä¸ªè¿æ¥æ‰§è¡Œ<code>top</code>å‘½ä»¤</p><div class="highlight"><pre><code class="language-go"> <span class="err">â¯</span> <span class="k">go</span> <span class="nx">build</span> <span class="nx">busyloop</span><span class="p">.</span><span class="k">go</span>
 <span class="err">â¯</span> <span class="p">.</span><span class="o">/</span><span class="nx">busyloop</span>
</code></pre></div><blockquote data-pid="l_7mMe8D">å¯ä»¥ ç”¨ top çœ‹åˆ°æˆ‘ä»¬çš„èµ„æºéƒ½è¢«å ç”¨äº†<br></blockquote><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-9988e98a852558402bdf1f8441400a18_r.jpg" data-caption="" data-size="normal" width="1697" referrerpolicy="no-referrer"></figure><p data-pid="UKDmfo0e"><br>å¯ä»¥çœ‹åˆ°<code>busyloop</code>è¿›ç¨‹åƒæ»¡äº†2ä¸ªCPUï¼Œè®°ä½PIDä¸º<code>978527</code><br> </p><p data-pid="Rar1eo9a">ç»§ç»­ï¼šå°†è¯¥è¿›ç¨‹åŠ å…¥åˆ°CGroupsçš„ç®¡ç†ä¸­</p><div class="highlight"><pre><code class="language-bash"> â¯ <span class="nb">cd</span> /sys/fs/cgroup/cpu/cpudemo/<span class="p">;</span> 
 <span class="nb">echo</span> <span class="m">978527</span> &gt; cgroup.procs<span class="p">;</span>ls<span class="p">;</span>
 cat cgroup.procs</code></pre></div><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-4ffd75c1ef174a027f6caabd5ab2f713_r.jpg" data-caption="" data-size="normal" width="1801" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p data-pid="B_dByUZ3">æ­¤æ—¶è¿˜æ²¡æ”¹,åªæ˜¯çº³å…¥ç®¡ç†.æ‰€ä»¥<code>top</code>æŸ¥çœ‹è¿˜æ˜¯200%</p><p data-pid="wvTG39Hr">ç»§ç»­: æŸ¥çœ‹<code>cpu.shares</code>å’Œ<code>cpu.cfs_period_us</code> <code>cpu.cfs_quota_us</code>ï¼š</p><div class="highlight"><pre><code class="language-bash"> â¯ cat cpu.shares<span class="p">;</span>cat cpu.cfs_period_us <span class="p">;</span>cat cpu.cfs_quota_us
 <span class="m">1024</span>
 <span class="m">100000</span>
 -1</code></pre></div><p data-pid="uUu2PIgF">æ­¤å¤„<code>-1</code>è¡¨ç¤ºä¸é™åˆ¶ï¼Œæˆ‘ä»¬éœ€è¦æ”¹å®ƒé˜¿ï¼š</p><p data-pid="ivjrO7mc">é€šè¿‡ä¿®æ”¹ç»å¯¹æ—¶é—´,æ§åˆ¶è¯¥è¿›ç¨‹å¯¹CPUçš„å ç”¨æ—¶é•¿</p><div class="highlight"><pre><code class="language-bash"> â¯ <span class="nb">echo</span> <span class="m">100000</span> &gt; cpu.cfs_quota_us <span class="o">&amp;&amp;</span> cat cpu.cfs_quota_us
 <span class="m">100000</span></code></pre></div><p data-pid="n7Hxd6Gz">æ­¤æ—¶<code>quota</code>å€¼å’Œ<code>period</code>å€¼æ˜¯ç›¸åŒçš„.è¯´æ˜åªèƒ½ç»™è¯¥è¿›ç¨‹1ä¸ªCPU.</p><p class="ztext-empty-paragraph"><br></p><p data-pid="_RJza5A-">æœ€åï¼šæˆ‘ä»¬å¯ä»¥æ‰§è¡Œ<code>top</code>å‘½ä»¤æŸ¥çœ‹ï¼š</p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-b0ceb3e7227bf814f7d43fc9792d3d79_r.jpg" data-caption="" data-size="normal" width="1745" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><blockquote data-pid="lIPyvdxY">å¯ä»¥çœ‹åˆ°è¯¥è¿›ç¨‹ç°åœ¨åªèƒ½å ç”¨1ä¸ªCPUäº†.</blockquote><p class="ztext-empty-paragraph"><br></p><p data-pid="VE6Smt3V">è¡¥å……ï¼šå°†<code>quota</code>é™åˆ¶ä¸º50000,å†<code>top</code>æŸ¥çœ‹</p><div class="highlight"><pre><code class="language-bash"> â¯ <span class="nb">echo</span> <span class="m">50000</span> &gt; cpu.cfs_quota_us <span class="p">;</span>cat cpu.cfs_quota_us
 <span class="m">50000</span></code></pre></div><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-4e1dd705d76d724f4e376530ada0e8cc_r.jpg" data-caption="" data-size="normal" width="1619" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><blockquote data-pid="vGcTgUgp">åˆ™æ­¤æ—¶åªèƒ½å ç”¨1ä¸ªCPUçš„50%äº†.</blockquote><p class="ztext-empty-paragraph"><br></p><h3><b>cpuacctå­ç³»ç»Ÿ</b></h3><p data-pid="1FCHJpH-">ç”¨äºç»Ÿè®¡CgroupåŠå…¶å­Cgroupä¸‹è¿›ç¨‹çš„CPUä½¿ç”¨æƒ…å†µ</p><ul><li data-pid="fbmaFati"><code>cpuacct.usage</code><br></li><ul><li data-pid="N0zsbIcx">åŒ…å«è¯¥CgroupåŠå…¶å­Cgroupä¸‹è¿›ç¨‹ä½¿ç”¨CPUæ—¶é—´,å•ä½æ˜¯ns(çº³ç§’)</li></ul></ul><p class="ztext-empty-paragraph"><br></p><ul><li data-pid="tH4kcoms"><code>cpuacct.stat</code><br></li><ul><li data-pid="XWvXlIBJ">åŒ…å«è¯¥CgroupåŠå…¶å­Cgroupä¸‹è¿›ç¨‹ä½¿ç”¨CPUæ—¶é—´,ä»¥åŠç”¨æˆ·æ€å’Œå†…æ ¸æ€çš„æ—¶é—´</li></ul></ul><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b> Memoryå­ç³»ç»Ÿ</b></h3><ul><li data-pid="bY487v6g"><code>memory.usage_in_bytes</code><br></li><ul><li data-pid="gaDwJki4">cgoupä¸‹è¿›ç¨‹ä½¿ç”¨çš„å†…å­˜,åŒ…å«cgroupåŠå…¶å­cgroupä¸‹çš„è¿›ç¨‹ä½¿ç”¨çš„å†…å­˜</li></ul></ul><p class="ztext-empty-paragraph"><br></p><ul><li data-pid="8Cl5ql1k"><code>memory.max_usage_in_bytes</code><br></li><ul><li data-pid="aSi6pOSm">cgroupä¸‹è¿›ç¨‹ä½¿ç”¨å†…å­˜çš„æœ€å¤§å€¼,åŒ…å«å­cgroupçš„å†…å­˜ä½¿ç”¨é‡</li></ul></ul><p class="ztext-empty-paragraph"><br></p><ul><li data-pid="rrbRVYtP"><code>memory.limit_in_bytes</code><br></li><ul><li data-pid="CCbKasfJ">è®¾ç½®cgroupä¸‹è¿›ç¨‹æœ€å¤šèƒ½ä½¿ç”¨çš„å†…å­˜.å¦‚æœè®¾ç½®ä¸º-1,è¡¨ç¤ºå¯¹è¯¥cgroupçš„å†…å­˜ä½¿ç”¨ä¸åšé™åˆ¶</li></ul></ul><p class="ztext-empty-paragraph"><br></p><ul><li data-pid="6VIVnMqb"><code>memory.oom_control</code><br></li><ul><li data-pid="wxeeZ-fP">è®¾ç½®æ˜¯å¦åœ¨cgroupä¸­ä½¿ç”¨OOM(Out of Memory) Killer,é»˜è®¤ä¸ºä½¿ç”¨.å½“å±äºè¯¥cgroupçš„è¿›ç¨‹ä½¿ç”¨çš„å†…å­˜è¶…è¿‡æœ€å¤§é™å®šå€¼(<code>memory.max_usage_in_bytes</code>)æ—¶,ä¼šç«‹åˆ»è¢«OOM Killerå¤„ç†</li></ul></ul><p class="ztext-empty-paragraph"><br></p><p data-pid="uC_ACsU7"><code>memory.limit_in_bytes</code>:ç›¸å½“äºæ§åˆ¶è¿›ç¨‹å¯ä»¥ç”¨å¤šå°‘å†…å­˜å¼€é”€çš„é™åˆ¶.<code>-1</code>è¡¨ç¤ºä¸é™åˆ¶</p><p data-pid="sf9i_14Q">å¯å‹ç¼©èµ„æº:æ¯”å¦‚CPU.å‹åˆ¶ä¸€ä¸ªè¿›ç¨‹å¯ä½¿ç”¨çš„CPUèµ„æº,ä¸ä¼šå¯¼è‡´è¯¥è¿›ç¨‹çš„æ­»äº¡,åªæ˜¯ä¼šè®©è¿™ä¸ªè¿›ç¨‹è¿è¡Œé€Ÿåº¦å˜æ…¢.</p><p data-pid="f7W649ov">ä½†å†…å­˜ä¸å±äºå¯å‹ç¼©èµ„æº.å› ä¸ºå†…å­˜ä¸€æ—¦è¢«é™åˆ¶,å°±ä¸èƒ½å†ç”³è¯·æ–°çš„å†…å­˜äº†.æ­¤æ—¶OSå°±ä¼škillæ‰è¿™ä¸ªè¿›ç¨‹.</p><p class="ztext-empty-paragraph"><br></p><h3><b>Cgroup dirver</b></h3><ul><li data-pid="DM8wgIZS">å½“OSä½¿ç”¨systemdä½œä¸ºinit systemæ—¶,åˆå§‹åŒ–è¿›ç¨‹ç”Ÿæˆä¸€ä¸ªæ ¹cgroupç›®å½•ç»“æ„å¹¶ä½œä¸ºcgroupç®¡ç†å™¨</li><li data-pid="yzerqZGZ">systemdä¸cgroupç´§å¯†ç»“åˆ,å¹¶ä¸”ä¸ºæ¯ä¸ªsystemd unitåˆ†é…cgroup</li><li data-pid="4JcHOHFd">cgroupfs<br></li><ul><li data-pid="xnY7FnXp">dockeré»˜è®¤ç”¨cgroupfsä½œä¸ºcgroupé©±åŠ¨</li></ul></ul><p class="ztext-empty-paragraph"><br></p><p data-pid="Gsg2kceF"><b>å­˜åœ¨é—®é¢˜:</b></p><ul><li data-pid="kBMc_Y6c">å› æ­¤,åœ¨systemdä½œä¸ºinit systemçš„ç³»ç»Ÿä¸­,é»˜è®¤å¹¶å­˜ç€2å¥—groupdriver</li><li data-pid="rNlScBcl">è¿™ä¼šä½¿å¾—ç³»ç»Ÿä¸­dockerå’Œkubeletç®¡ç†çš„è¿›ç¨‹è¢«cgroupfsç®¡ç†;è€Œsystemdæ‹‰èµ·çš„æœåŠ¡ç”±systemdé©±åŠ¨ç®¡ç†.è®©cgroupç®¡ç†æ··ä¹±ä¸”å®¹æ˜“åœ¨èµ„æºç´§å¼ æ—¶å¼•å‘é—®é¢˜</li><li data-pid="TzfOxNu2"><b>å› æ­¤kubeletä¼šé»˜è®¤<code>--cgroup-dirver=systemd</code>,è‹¥è¿è¡Œæ—¶cgroupä¸ä¸€è‡´,kubeletä¼šæŠ¥é”™</b></li></ul><p class="ztext-empty-paragraph"><br></p><h2><b>Memoryå­ç³»ç»Ÿæ¡ˆä¾‹</b></h2><p data-pid="2CXlMaKw">ç°æœ‰ä¸€ä¸ªGOç¨‹åºå¦‚ä¸‹:</p><div class="highlight"><pre><code class="language-bash"> â¯ <span class="nb">cd</span> /tmp<span class="p">;</span> mkdir memory<span class="p">;</span><span class="nb">cd</span> memory<span class="p">;</span>touch malloc.go malloc.c Makefile<span class="p">;</span>ls
 Makefile  malloc.c  malloc.go
 â€‹
 â¯ go mod init memory<span class="p">;</span>tree
 go: creating new go.mod: module memory
 go: to add module requirements and sums:
         go mod tidy
 .
 â”œâ”€â”€ go.mod
 â”œâ”€â”€ Makefile
 â”œâ”€â”€ malloc.c
 â””â”€â”€ malloc.go
 â€‹
 <span class="m">0</span> directories, <span class="m">4</span> files</code></pre></div><p data-pid="duU0cc-H"><b>æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</b></p><div class="highlight"><pre><code class="language-bash"> â¯ cat Makefile malloc.c malloc.go</code></pre></div><p data-pid="GR8yvgNv"><b>Makefile:</b></p><div class="highlight"><pre><code class="language-text"> â¯ cat Makefile
 build:
         CGO_ENABLED=1 GOOS=linux CGO_LDFLAGS="-static" go build</code></pre></div><p data-pid="5dKs6ahb"><b>malloc.c:</b></p><div class="highlight"><pre><code class="language-c"> <span class="err">â¯</span> <span class="n">cat</span> <span class="n">malloc</span><span class="p">.</span><span class="n">c</span>
 <span class="cp">#include</span> <span class="cpf">&lt;stdlib.h&gt;</span><span class="cp">
</span><span class="cp"></span> <span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span><span class="cp"></span> <span class="cp">#include</span> <span class="cpf">&lt;string.h&gt;</span><span class="cp">
</span><span class="cp"></span> <span class="err">â€‹</span>
 <span class="cp">#define BLOCK_SIZE (100*1024*1024)
</span><span class="cp"></span> <span class="kt">char</span><span class="o">*</span> <span class="n">allocMemory</span><span class="p">()</span> <span class="p">{</span>
     <span class="kt">char</span><span class="o">*</span> <span class="n">out</span> <span class="o">=</span> <span class="p">(</span><span class="kt">char</span><span class="o">*</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="n">BLOCK_SIZE</span><span class="p">);</span>
     <span class="n">memset</span><span class="p">(</span><span class="n">out</span><span class="p">,</span> <span class="sc">'A'</span><span class="p">,</span> <span class="n">BLOCK_SIZE</span><span class="p">);</span>
     <span class="k">return</span> <span class="n">out</span><span class="p">;</span>
 <span class="p">}</span></code></pre></div><p data-pid="tL5_Fj2R"><b>malloc.go:</b></p><div class="highlight"><pre><code class="language-go"> <span class="err">â¯</span> <span class="nx">cat</span> <span class="nx">malloc</span><span class="p">.</span><span class="k">go</span>
 <span class="kn">package</span> <span class="nx">main</span>
 <span class="err">â€‹</span>
 <span class="c1">//#cgo LDFLAGS:
</span><span class="c1"></span> <span class="c1">//char* allocMemory();
</span><span class="c1"></span> <span class="kn">import</span> <span class="s">"C"</span>
 <span class="kn">import</span> <span class="p">(</span>
         <span class="s">"fmt"</span>
         <span class="s">"time"</span>
 <span class="p">)</span>
 <span class="err">â€‹</span>
 <span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
         <span class="c1">// only loop 10 times to avoid exhausting the host memory
</span><span class="c1"></span>         <span class="nx">holder</span> <span class="o">:=</span> <span class="p">[]</span><span class="o">*</span><span class="nx">C</span><span class="p">.</span><span class="nx">char</span><span class="p">{}</span>
         <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
                 <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">"Allocating %dMb memory, raw memory is %d\n"</span><span class="p">,</span> <span class="nx">i</span><span class="o">*</span><span class="mi">100</span><span class="p">,</span> <span class="nx">i</span><span class="o">*</span><span class="mi">100</span><span class="o">*</span><span class="mi">1024</span><span class="o">*</span><span class="mi">1025</span><span class="p">)</span>
                 <span class="c1">// hold the memory, otherwise it will be freed by GC
</span><span class="c1"></span>                 <span class="nx">holder</span> <span class="p">=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">holder</span><span class="p">,</span> <span class="p">(</span><span class="o">*</span><span class="nx">C</span><span class="p">.</span><span class="nx">char</span><span class="p">)(</span><span class="nx">C</span><span class="p">.</span><span class="nf">allocMemory</span><span class="p">()))</span>
                 <span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nx">Minute</span><span class="p">)</span>
         <span class="p">}</span>
 <span class="p">}</span>
</code></pre></div><p class="ztext-empty-paragraph"><br></p><h3><b>ç¼–è¯‘ &amp; è¿è¡Œ</b></h3><p data-pid="I-4qOPSu">  ç¼–è¯‘ç»“æœå¦‚ä¸‹ï¼š</p><div class="highlight"><pre><code class="language-text"> â¯ make build
 CGO_ENABLED=1 GOOS=linux CGO_LDFLAGS="-static" go build
 â¯ 
 â¯ tree ./
 ./
 â”œâ”€â”€ go.mod
 â”œâ”€â”€ Makefile
 â”œâ”€â”€ malloc.c
 â”œâ”€â”€ malloc.go
 â””â”€â”€ memory
 â€‹
 0 directories, 5 files</code></pre></div><p data-pid="EtPPKaMl">è¿è¡Œï¼š</p><div class="highlight"><pre><code class="language-text"> â¯ ./memory
 Allocating 100Mb memory, raw memory is 104960000
 â€‹</code></pre></div><blockquote data-pid="DUIyGAEi">æ³¨æ„:æ­¤æ—¶æ—¶hangåœ¨è¿™çš„</blockquote><p class="ztext-empty-paragraph"><br></p><p data-pid="Ny5BDOR2"><b>å†èµ·ä¸€ä¸ªçª—å£,æŸ¥çœ‹è¯¥è¿›ç¨‹çš„å†…å­˜å ç”¨æƒ…å†µ</b></p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-31640d4672dccb8d042d0e5349ec307f_r.jpg" data-caption="" data-size="normal" width="1994" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><p data-pid="3LiVIGtL"><b>åœ¨<code>/sys/fs/cgroup/memory/</code>ä¸‹åˆ›å»ºç›®å½•<code>memorydemo1</code></b></p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-50d4f9ac3d522ad1ca54b7b8045cbf71_r.jpg" data-caption="" data-size="normal" width="1988" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><p data-pid="fcfZb8n6"><b>æŸ¥çœ‹<code>memory</code>è¿›ç¨‹çš„PID</b></p><div class="highlight"><pre><code class="language-text"> â¯ ps -ef|grep memory|grep -v grep|awk '{print $2}'
 992008</code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="ijad6V8Y"><b>å°†è¿›ç¨‹æ·»åŠ åˆ°cgroupé…ç½®ç»„</b></p><div class="highlight"><pre><code class="language-bash"> â¯  <span class="nb">echo</span> <span class="m">992008</span> &gt; cgroup.procs <span class="p">|</span> cat
 <span class="m">992008</span></code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="LINYlgiI"><b>endï¼šè®¾ç½®<code>memory.limit_in_bytes</code></b></p><div class="highlight"><pre><code class="language-bash"> â¯  <span class="nb">echo</span> <span class="m">104960000</span> &gt; memory.limit_in_bytes <span class="p">|</span> cat
 <span class="m">104960000</span></code></pre></div><blockquote data-pid="EHxetPJf">æ­¤æ—¶è¿è¡Œ<code>memory</code>ç¨‹åºçš„çª—å£ä¸­,è¯¥è¿›ç¨‹å·²ç»è¢«killäº†.</blockquote><p class="ztext-empty-paragraph"><br></p><h2><b>æ–‡ä»¶ç³»ç»Ÿ</b></h2><ul><li data-pid="8vUEVlj4"><a href="https://docker.nsddd.top/markdown/50.html" target="_blank">ä¹‹å‰åšçš„ä¸€äº›å…³äº Union FS ç¬”è®°</a></li></ul><p class="ztext-empty-paragraph"><br></p><h3><b>Union FS</b></h3><p data-pid="6EvFA5JX">  dockerä¸­namespaceæ˜¯åˆ›æ–°ç‚¹å˜›ï¼Œä¸æ˜¯çš„ï¼Œ<b>dockerçš„åˆ›æ–°ç‚¹å‡†ç¡®æ¥è¯´æ˜¯å¹¶ä¸æ˜¯ runtimeï¼Œè€Œæ˜¯åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­(Union FS)ã€‚</b></p><ul><li data-pid="LOglYhKv">å°†ä¸åŒç›®å½•æŒ‚è½½åˆ°åŒä¸€ä¸ªè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿä¸‹çš„æ–‡ä»¶ç³»ç»Ÿ(unite several directories into a single virtual filesystem)</li><li data-pid="NwBG6ebi">æ”¯æŒä¸ºæ¯ä¸€ä¸ªæˆå‘˜ç›®å½•(ç±»ä¼¼Git Branch)è®¾å®š<code>readonly</code>ã€<code>readwirte</code>å’Œ<code>write-able</code>æƒé™</li><li data-pid="NjjqlC8b">æ–‡ä»¶ç³»ç»Ÿåˆ†å±‚,å¯¹readonlyæƒé™çš„branchå¯ä»¥é€»è¾‘ä¸Šè¿›è¡Œä¿®æ”¹(å¢é‡åœ°,ä¸å½±å“readonlyéƒ¨åˆ†çš„)</li><li data-pid="u1Nj40mO">é€šå¸¸Union FSæœ‰2ä¸ªç”¨é€”:<br></li><ul><li data-pid="EDXYuD5y">å¯ä»¥å°†å¤šä¸ªdiskæŒ‚åˆ°åŒä¸€ä¸ªç›®å½•ä¸‹</li><li data-pid="TnnE5Ih9">å°†ä¸€ä¸ªreadonlyçš„branchå’Œä¸€ä¸ªwriteableçš„branchè”åˆåœ¨ä¸€èµ·</li></ul></ul><p class="ztext-empty-paragraph"><br></p><p data-pid="klSEjE0n">Union FS:é€šè¿‡ä¸€äº›æŠ€æœ¯æ‰‹æ®µ,å°†ä¸åŒçš„ç›®å½•mountåˆ°åŒä¸€ä¸ªè™šæ‹Ÿç›®å½•ä¸­.æ¯ä¸ªç›®å½•åœ¨è™šæ‹Ÿç›®å½•ä¸­å¯ä»¥æœ‰ç‹¬ç«‹çš„æƒé™(readonlyã€readwirteã€write-able).</p><p data-pid="CkyDOEgo">é€šè¿‡è¿™ç§æ–¹å¼,å¯ä»¥å°†å¤šä¸ªä¸åŒæ¥æºçš„å­ç›®å½•æ¨¡æ‹Ÿæˆä¸€ä¸ªå®Œæ•´çš„OS.</p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-010b817ad76dd506586e810f1d2b5a7b_r.jpg" data-caption="" data-size="normal" width="2372" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p data-pid="3jpy2QCh">  <b>å¯¹ä¸Šé¢çš„è§£é‡Š</b>ï¼š</p><p data-pid="v4rg_QAm">æˆ‘ä»¬å¯ä»¥çœ‹åˆ° ä¸¤ä¸ª dockerfile æ˜¯ä¸ä¸€æ ·çš„ï¼Œä½†æ˜¯å‰ä¸¤æ¡æŒ‡ä»¤æ˜¯ä¸€æ ·çš„ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨ä¸€ä¸ªå±‚ã€‚</p><p data-pid="Fg97i645">ä½†æ˜¯åé¢ä¸¤ä¸ªå±‚æ˜¯ä¸ä¸€æ ·çš„ï¼Œæ‰€ä»¥è¯´åé¢ä¸¤ä¸ª å°±å¼€å§‹åˆ¤æ–­ã€‚</p><p data-pid="E6NWeXZQ"><b>æ‰€ä»¥è¿™äº›åœ°æ–¹æ˜¯å¤ç”¨çš„ã€‚</b></p><p data-pid="BmFA5nwj">docker pull çš„æ—¶å€™ä¼šæ‹‰å–å¹¶ä¸”åˆ¤æ–­ï¼Œä¸Šé¢çš„è¯åŸºç¡€å±‚æ˜¯ä¸€æ ·çš„ï¼Œä¹Ÿå°±ä¸ä¼šé‡å¤ã€‚</p><blockquote data-pid="c7H1-rvP"><b>æˆ‘ä»¬ä¹‹å‰çš„å­¦ä¹  å¤§è‡´ æ­¢æ­¥äºåŸç†ä¸Šï¼Œä½†æ˜¯åº•å±‚å’Œæºç å®ç°è¿˜æ˜¯ç¼ºå°‘ä¸€éƒ¨åˆ†çš„ã€‚</b></blockquote><p class="ztext-empty-paragraph"><br></p><h3><b>docker æ–‡ä»¶ç³»ç»Ÿ</b></h3><p data-pid="GxObzdhr">ä¸€èˆ¬1ä¸ªLinuxä¼šåˆ†ä¸º2ä¸ªä¸»è¦ç»„æˆéƒ¨åˆ†:</p><ol><li data-pid="aUm8HJJR">Bootfs(boot file system)<br></li></ol><ul><li data-pid="FVvk0non"><code>Bootloader</code>:å¼•å¯¼åŠ è½½kernel</li><li data-pid="EAarRMS9"><code>Kernel</code>:å½“kernelè¢«åŠ è½½åˆ°å†…å­˜ä¸­å,umount bootfs</li></ul><p class="ztext-empty-paragraph"><br></p><ol><li data-pid="nMdWiSdd">rootfs(root file system)<br></li></ol><ul><li data-pid="Gts_qiCk"><code>/dev</code>,<code>/proc</code>,<code>/bin</code>,<code>/etc</code>ç­‰æ ‡å‡†ç›®å½•å’Œæ–‡ä»¶</li><li data-pid="8vCyj5A1">å¯¹äºä¸åŒçš„Linuxå‘è¡Œç‰ˆ,bootfsåŸºæœ¬æ˜¯ä¸€è‡´çš„,ä½†rootfsä¼šæœ‰å·®åˆ«</li></ul><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>Dockerçš„å¯åŠ¨</b></h3><p data-pid="8BZAL6gg"><b>Linuxçš„å¯åŠ¨:</b></p><ul><li data-pid="rlv0X4WY">åœ¨å¯åŠ¨å,é¦–å…ˆå°†rootfsè®¾ç½®ä¸º<code>readonly</code> ï¼ˆåªè¯»å±‚ï¼‰,è¿›è¡Œä¸€ç³»åˆ—æ£€æŸ¥,ç„¶åå°†å…¶åˆ‡æ¢ä¸º"readwrite"ä¾›ç”¨æˆ·ä½¿ç”¨</li></ul><p data-pid="v_k12s_O"><b>Dockerçš„å¯åŠ¨:</b></p><ul><li data-pid="VOxy8mEn">åˆå§‹åŒ–æ—¶ä¹Ÿæ˜¯å°†rootfsä»¥<code>readonly</code>æ–¹å¼åŠ è½½å¹¶æ£€æŸ¥,ä½†æ¥ä¸‹æ¥ä½¿ç”¨<code>union mount</code>çš„æ–¹å¼å°†ä¸€ä¸ª<code>readwrite</code>çš„æ–‡ä»¶ç³»ç»ŸæŒ‚è½½åœ¨<code>readonly</code>çš„rootfsä¹‹ä¸Š</li><li data-pid="q727BpDv">å…è®¸å†æ¬¡å°†ä¸‹å±‚çš„<code>FS(file system)</code>è®¾å®šä¸º<code>readonly</code>å¹¶ä¸”å‘ä¸Šå åŠ </li><li data-pid="PXYWHHIi">è¿™æ ·ä¸€ç»„<code>readonly</code>å’Œä¸€ä¸ª<code>writeable</code>çš„ç»“æ„ï¼Œæ„æˆäº†ä¸€ä¸ª<code>container</code>çš„è¿è¡Œæ—¶æ€,æ¯ä¸€ä¸ªFSè¢«ç§°ä¸ºä¸€ä¸ªFSå±‚</li></ul><p data-pid="tVJyH-4K">æœ€ä¸Šæ–¹çš„ä¸€å±‚ä¸º<code>readwrite</code>,åœ¨å®ƒä¹‹ä¸‹çš„å±‚éƒ½æ˜¯<code>readonly</code>ã€‚æ‰€æœ‰ç”¨æˆ·çš„ä¿®æ”¹éƒ½è¢«è®°å½•åœ¨äº†é¡¶å±‚(å³ <code>readwrite</code>çš„å±‚)ä¸­,ä¸ä¼šæ¶‰åŠåˆ°ä¸‹æ–¹çš„å±‚.</p><p class="ztext-empty-paragraph"><br></p><h3><b>å†™æ“ä½œ</b></h3><p data-pid="Ij7fq4gl">ç”±äºé•œåƒå…·æœ‰å…±äº«ç‰¹æ€§,æ‰€ä»¥å¯¹å®¹å™¨çš„å¯å†™å±‚çš„æ“ä½œéœ€è¦ä¾èµ–å­˜å‚¨é©±åŠ¨æä¾›çš„ <b>å†™æ—¶å¤åˆ¶å’Œç”¨æ—¶åˆ†é…æœºåˆ¶</b>ï¼Œä»¥æ­¤æ¥æ”¯æŒå¯¹å®¹å™¨å¯å†™å±‚çš„ä¿®æ”¹,è¿›è€Œæé«˜å¯¹å­˜å‚¨å’Œå†…å­˜èµ„æºçš„åˆ©ç”¨ç‡ã€‚</p><h3><b>å†™æ—¶å¤åˆ¶</b></h3><p data-pid="ZgbPxeCH"><b>å†™æ—¶å¤åˆ¶</b>ï¼šå³<code>Copy-on-Write</code> ã€‚1ä¸ªé•œåƒå¯ä»¥è¢«å¤šä¸ªå®¹å™¨ä½¿ç”¨,ä½†æ˜¯ä¸éœ€è¦åœ¨å†…å­˜å’Œç£ç›˜ä¸Šåšå¤šæ‹·è´ï¼Œåœ¨éœ€è¦å¯¹é•œåƒæä¾›çš„æ–‡ä»¶è¿›è¡Œä¿®æ”¹æ—¶ã€‚è¯¥æ–‡ä»¶æ‰ä¼šä»é•œåƒçš„æ–‡ä»¶ç³»ç»Ÿè¢«å¤åˆ¶åˆ°å®¹å™¨çš„å¯å†™å±‚æ–‡ä»¶ç³»ç»Ÿ,ç„¶åè¿›è¡Œä¿®æ”¹ã€‚è€Œé•œåƒä¸­çš„æ–‡ä»¶ä¸ä¼šæ”¹å˜ã€‚ä¸åŒå®¹å™¨å¯¹æ–‡ä»¶çš„ä¿®æ”¹éƒ½ç›¸äº’ç‹¬ç«‹ã€äº’ä¸å½±å“ã€‚</p><p data-pid="d71MbJgr">1ä¸ªé•œåƒæ˜¯å¯ä»¥è¢«ä¸åŒçš„å®¹å™¨ä½¿ç”¨çš„ 1 ä¸ªé•œåƒä¸­çš„ä¸åŒå±‚ä¹Ÿæ˜¯è¢«å¤šä¸ªé•œåƒå…±äº«çš„ã€‚å› æ­¤æœ‰äº†å†™æ—¶å¤åˆ¶æŠ€æœ¯ï¼Œå°±å¯ä»¥ç¡®ä¿ä¸‹æ–¹çš„åŸºç¡€é•œåƒå±‚ä¸ä¼šè¢«ä¿®æ”¹.æ— è®ºé€šè¿‡è¯¥åŸºç¡€é•œåƒå¯åŠ¨äº†å¤šå°‘ä¸ªå®¹å™¨,è¿™äº›å®¹å™¨çš„åº•å±‚åŸºç¡€é•œåƒéƒ½æ˜¯ä¸€è‡´çš„ã€‚æ¢è¨€ä¹‹ï¼ŒNä¸ªä½¿ç”¨äº†åŒä¸€ä¸ªåŸºç¡€é•œåƒçš„å®¹å™¨,æ˜¯å…±äº«äº†1ä¸ªåŸºç¡€é•œåƒå±‚çš„æ–‡ä»¶,è€Œéæ¯ä¸ªå®¹å™¨å„æŒæœ‰ä¸€ä»½åŸºç¡€é•œåƒå±‚æ–‡ä»¶çš„æ‹·è´ã€‚</p><p data-pid="4JmYtOqy">å½“éœ€è¦ä¿®æ”¹åŸºç¡€é•œåƒå±‚æ—¶,æ˜¯åœ¨ä½äºè¯¥å±‚ä¸Šæ–¹çš„å¯å†™å±‚ä¸­å¯¹åŸºç¡€å±‚çš„æ–‡ä»¶åšä¿®æ”¹,æœ€ç»ˆç»“æœç›¸å½“äºåœ¨ä¸Šæ–¹çš„æ–‡ä»¶å±‚ä¸­å¯¹ä¸‹æ–¹çš„åŸºç¡€å±‚åšè¦†ç›–çš„æ“ä½œã€‚</p><h3><b>ç”¨æ—¶åˆ†é…</b></h3><p data-pid="ev74HUGM">æŒ‰éœ€åˆ†é…ç©ºé—´,è€Œéæå‰åˆ†é…,å³å½“ä¸€ä¸ªæ–‡ä»¶è¢«åˆ›å»ºå‡ºæ¥å,æ‰ä¼šåˆ†é…ç©ºé—´</p><p class="ztext-empty-paragraph"><br></p><h3><b>å®¹å™¨å­˜å‚¨é©±åŠ¨ä¼˜ç¼ºç‚¹æ¯”è¾ƒä»¥åŠåº”ç”¨</b></h3><p data-pid="3Vj4KN_B">å†™æ—¶å¤åˆ¶çš„è¡Œä¸ºéœ€è¦å®¹å™¨çš„å­˜å‚¨é©±åŠ¨æ¥æ”¯æŒï¼š</p><table data-draft-node="block" data-draft-type="table" data-size="normal" data-row-style="normal"><tbody><tr><th>å­˜å‚¨é©±åŠ¨</th><th>Docker</th><th>Containerd</th></tr><tr><td>AUFS</td><td>åœ¨Ubuntuæˆ–Debianä¸Šæ”¯æŒ</td><td>ä¸æ”¯æŒ</td></tr><tr><td>OverlayFS</td><td>æ”¯æŒ</td><td>æ”¯æŒ</td></tr><tr><td>Device Mapper</td><td>æ”¯æŒ</td><td>æ”¯æŒ</td></tr><tr><td>BtrFS</td><td>ç¤¾åŒºç‰ˆæœ¬åœ¨Ubuntuæˆ–Debianä¸Šæ”¯æŒ,ä¼ä¸šç‰ˆæœ¬åœ¨SLESä¸Šæ”¯æŒ</td><td>æ”¯æŒ</td></tr><tr><td>ZFS</td><td>æ”¯æŒ</td><td>ä¸æ”¯æŒ</td></tr></tbody></table><p data-pid="joPt-_HJ">ä¸ºä»€ä¹ˆç”¨ OverlayFS</p><table data-draft-node="block" data-draft-type="table" data-size="normal" data-row-style="normal"><tbody><tr><th>å­˜å‚¨é©±åŠ¨</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th><th>åº”ç”¨åœºæ™¯</th></tr><tr><td>AUFS</td><td>Dockeræœ€æ—©æ”¯æŒçš„é©±åŠ¨ç±»å‹,ç¨³å®šæ€§é«˜</td><td>å¹¶æœªè¿›å…¥ä¸»çº¿çš„å†…æ ¸,å› æ­¤åªèƒ½åœ¨æœ‰é™çš„åœºåˆä¸‹ä½¿ç”¨.å¦å¤–åœ¨å®ç°ä¸Šå…·æœ‰å¤šå±‚ç»“æ„,åœ¨å±‚æ¯”è¾ƒå¤šçš„åœºæ™¯ä¸‹,åšå†™æ—¶å¤åˆ¶æœ‰æ—¶ä¼šéœ€è¦æ¯”è¾ƒé•¿çš„æ—¶é—´</td><td>å°‘I/Oçš„åœºæ™¯</td></tr><tr><td>OverlayFS</td><td>å¹¶å…¥ä¸»çº¿å†…æ ¸,å¯ä»¥åœ¨ç›®å‰å‡ ä¹æ‰€æœ‰å‘è¡Œç‰ˆæœ¬ä¸Šä½¿ç”¨.å®ç°åªæœ‰2å±‚,å› æ­¤æ€§èƒ½æ¯”AUFSé«˜</td><td>å†™æ—¶å¤åˆ¶æœºåˆ¶éœ€è¦å¤åˆ¶æ•´ä¸ªæ–‡ä»¶,è€Œä¸èƒ½åªé’ˆå¯¹ä¿®æ”¹çš„éƒ¨åˆ†è¿›è¡Œå¤åˆ¶,å› æ­¤å¤§æ–‡ä»¶æ“ä½œä¼šéœ€è¦æ¯”è¾ƒé•¿çš„æ—¶é—´.å…¶ä¸­Overlayåœ¨Dockerçš„åç»­ç‰ˆæœ¬ä¸­è¢«ç§»é™¤</td><td>å°‘I/Oçš„åœºæ™¯</td></tr><tr><td>Device Mapper</td><td>å¹¶å…¥ä¸»çº¿å†…æ ¸,é’ˆå¯¹å—æ“ä½œ,æ€§èƒ½æ¯”è¾ƒé«˜.ä¿®æ”¹æ–‡ä»¶æ—¶åªéœ€å¤åˆ¶éœ€è¦ä¿®æ”¹çš„å—,æ•ˆç‡é«˜</td><td>ä¸åŒå®¹å™¨ä¹‹é—´ä¸èƒ½å…±äº«ç¼“å­˜ã€‚åœ¨Dokcerçš„åç»­ç‰ˆæœ¬ä¸­ä¼šè¢«ç§»é™¤</td><td>I/Oå¯†é›†åœºæ™¯</td></tr><tr><td>BtrFS</td><td>å¹¶å…¥ä¸»çº¿å†…æ ¸,è™½ç„¶æ˜¯æ–‡ä»¶çº§æ“ä½œç³»ç»Ÿ,ä½†æ˜¯å¯ä»¥å¯¹å—è¿›è¡Œæ“ä½œ</td><td>éœ€è¦æ¶ˆè€—æ¯”è¾ƒå¤šçš„å†…å­˜,ç¨³å®šæ€§ç›¸å¯¹æ¯”è¾ƒå·®</td><td>éœ€è¦æ”¯æŒSnapshotç­‰æ¯”è¾ƒç‰¹æ®Šçš„åœºæ™¯</td></tr><tr><td>ZFS</td><td>ä¸åŒçš„å®¹å™¨ä¹‹é—´å¯ä»¥å…±äº«ç¼“å­˜,å¤šä¸ªå®¹å™¨è®¿é—®ç›¸åŒçš„æ–‡ä»¶èƒ½å¤Ÿå…±äº«ä¸€ä¸ªå•ä¸€çš„Page Cache</td><td>åœ¨é¢‘ç¹å†™æ“ä½œçš„åœºæ™¯ä¸‹,ä¼šäº§ç”Ÿæ¯”è¾ƒä¸¥é‡çš„ç£ç›˜ç¢ç‰‡.éœ€è¦æ¶ˆè€—æ¯”è¾ƒå¤šçš„å†…å­˜,å¦å¤–ç¨³å®šæ€§ç›¸å¯¹æ¯”è¾ƒå·®</td><td>å®¹å™¨é«˜å¯†åº¦éƒ¨ç½²çš„åœºæ™¯</td></tr></tbody></table><p class="ztext-empty-paragraph"><br></p><h3><b>OverlayFS</b></h3><p data-pid="xRfjzoyN">OverlayFS ä¹Ÿæ˜¯ä¸€ç§ä¸AUFSç±»ä¼¼çš„è”åˆæ–‡ä»¶ç³»ç»Ÿï¼ŒåŒæ ·å±äºæ–‡ä»¶çº§çš„å­˜å‚¨é©±åŠ¨ï¼ŒåŒ…å«äº†æœ€åˆçš„Overlayå’Œæ›´æ–°æ›´ç¨³å®šçš„ OverlayFS2.</p><p data-pid="PUVrrFip"><b>Overlayåªæœ‰2å±‚ï¼šupperå±‚å’Œlowerå±‚</b></p><ul><li data-pid="EvT7ka-F"><code>lower</code>å±‚ä»£è¡¨é•œåƒå±‚</li><li data-pid="MsDdPEq4"><code>upper</code>å±‚ä»£è¡¨å®¹å™¨å¯å†™å±‚</li></ul><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-4ff0b9ca727262e4c84c041c670eadd5_r.jpg" data-caption="" data-size="normal" width="1809" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><p data-pid="VJeJtAzx"><b>ç”±æ­¤å¯è§ï¼Œå¦‚æœä¸€ä¸ªæ–‡ä»¶åœ¨ä¸Šå±‚æˆ–è€…æ˜¯åœ¨ä¸‹å±‚ï¼Œé‚£ä¹ˆä»–ä»¬åœ¨åˆå¹¶å±‚æ˜¯å¯è§çš„ã€‚</b></p><p data-pid="KD95RprQ"><b>å¦‚æœä¸€ä¸ªæ–‡ä»¶åœ¨ä¸Šä¸‹å±‚éƒ½å­˜åœ¨ï¼Œé‚£ä¹ˆå°±ä¼šå‡ºç°åœ¨ä¸Šå±‚ã€‚</b></p><p data-pid="K24R_ipy">æ‰€ä»¥åŸºç¡€é•œåƒæ˜¯ä¸‹å±‚ï¼Œæ¯ä¸€æ¬¡éƒ½å åŠ ä¸€æ¬¡ï¼Œæœ€ç»ˆçœ‹åˆ°çš„æ“ä½œç³»ç»Ÿå°±æ˜¯ä¸Šå±‚çš„ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>OverlayFSæ–‡ä»¶ç³»ç»Ÿæ¼”ç¤º</b></h3><p data-pid="GStuU-gf"><b>ä¹‹å‰æˆ‘ä»¬ä¸€ç›´éƒ½æ²¡åšé•œåƒï¼Œæˆ‘ç”¨ centos é•œåƒæµ‹è¯•ï¼š</b></p><div class="highlight"><pre><code class="language-bash"> docker run -it --name centos2 centos
 docker <span class="nb">exec</span> -it daddac4c0706 bash</code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="3EoOkKkj"><b>åœ¨å®¹å™¨å†…åˆ›å»ºç›®å½•ï¼š</b></p><div class="highlight"><pre><code class="language-bash"> <span class="o">[</span>root@daddac4c0706 /<span class="o">]</span><span class="c1"># ls </span>
 bin  dev  etc  home  lib  lib64  lost+found  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var
 <span class="o">[</span>root@daddac4c0706 /<span class="o">]</span><span class="c1"># mkdir upper lower merged work;ls</span>
 bin  etc   lib    lost+found  media   mnt  proc  run   srv  tmp    usr  work
 dev  home  lib64  lower       merged  opt  root  sbin  sys  upper  var</code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="koiOEw92"><b>åˆ†åˆ«åˆ›å»ºä¸åŒçš„æ–‡ä»¶ï¼š</b></p><div class="highlight"><pre><code class="language-bash"> <span class="nb">echo</span> <span class="s2">"from lower"</span> &gt; lower/in_lower.txt
 <span class="nb">echo</span> <span class="s2">"from upper"</span> &gt; upper/in_upper.txt
 <span class="nb">echo</span> <span class="s2">"from lower"</span> &gt; lower/in_both.txt
 <span class="nb">echo</span> <span class="s2">"from upper"</span> &gt; upper/in_both.txt</code></pre></div><blockquote data-pid="lU9qsgyg">æ¥ä¸‹æ¥è¦æ¼”ç¤ºçš„æ˜¯:å°†<code>upper</code>ç›®å½•å’Œ<code>lower</code>ç›®å½•æ•´åˆåˆ°ä¸€èµ·å,æ–‡ä»¶çš„å†…å®¹ä¼šæœ‰ä»€ä¹ˆæ ·çš„</blockquote><p class="ztext-empty-paragraph"><br></p><p data-pid="ehqUSl2Z"><b>æŒ‚è½½ä¸€ä¸ªOverlayFSæ–‡ä»¶ç³»ç»Ÿï¼š</b></p><div class="highlight"><pre><code class="language-bash"> <span class="o">[</span>root@daddac4c0706 /<span class="o">]</span><span class="c1"># exit</span>
 <span class="nb">exit</span>
 <span class="o">[</span>root@dev workspces<span class="o">]</span><span class="c1"># mkdir -p /tmp/overlayfs; cd /tmp/overlayfs</span>
 <span class="o">[</span>root@dev overlayfs<span class="o">]</span><span class="c1">#  mkdir upper lower merged work;ls</span>
 lower  merged  upper  work
 <span class="o">[</span>root@dev overlayfs<span class="o">]</span><span class="c1"># echo "from lower" &gt; lower/in_lower.txt</span>
 <span class="o">[</span>root@dev overlayfs<span class="o">]</span><span class="c1"># echo "from upper" &gt; upper/in_upper.txt</span>
 <span class="o">[</span>root@dev overlayfs<span class="o">]</span><span class="c1"># echo "from lower" &gt; lower/in_both.txt</span>
 <span class="o">[</span>root@dev overlayfs<span class="o">]</span><span class="c1"># echo "from upper" &gt; upper/in_both.txt</span>
 <span class="o">[</span>root@dev overlayfs<span class="o">]</span><span class="c1"># sudo mount -t overlay overlay -o lowerdir=`pwd`/lower,upperdir=`pwd`/upper,workdir=`pwd`/work `pwd`/merged</span></code></pre></div><p data-pid="x-7VSiFX"><b>ç›®å½•ç»“æ„ï¼š</b></p><div class="highlight"><pre><code class="language-bash"> <span class="o">[</span>root@dev overlayfs2<span class="o">]</span><span class="c1"># tree</span>
 .
 â”œâ”€â”€ lower
 â”‚   â”œâ”€â”€ in_both.txt
 â”‚   â””â”€â”€ in_lower.txt
 â”œâ”€â”€ merged
 â”‚   â”œâ”€â”€ in_both.txt    <span class="c1"># delete</span>
 â”‚   â”œâ”€â”€ in_lower.txt
 â”‚   â””â”€â”€ in_upper.txt
 â”œâ”€â”€ upper
 â”‚   â”œâ”€â”€ in_both.txt
 â”‚   â””â”€â”€ in_upper.txt
 â””â”€â”€ work
     â””â”€â”€ work</code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="D-XAZnGc"><b>æŒ‚è½½æŒ‡ä»¤è§£æï¼š</b></p><div class="highlight"><pre><code class="language-bash"> sudo mount -t overlay overlay -o <span class="nv">lowerdir</span><span class="o">=</span><span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span>/lower,upperdir<span class="o">=</span><span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span>/upper,workdir<span class="o">=</span><span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span>/work <span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span>/merged</code></pre></div><ul><li data-pid="ijLUcLCA"><code>-t</code>:æŒ‡å®šæ–‡ä»¶ç³»ç»Ÿç±»å‹</li><li data-pid="8YRmudvL"><code>lowerdir</code>:æŒ‡å®šç”¨æˆ·è¦æŒ‚è½½çš„lowerå±‚ç›®å½•</li><li data-pid="Xo_ltWVy"><code>upperdir</code>:æŒ‡å®šç”¨æˆ·è¦æŒ‚è½½çš„upperå±‚ç›®å½•</li><li data-pid="Pgtd1zgA"><code>workdir</code>:æŒ‡å®šæ–‡ä»¶ç³»ç»Ÿçš„å·¥ä½œåŸºç¡€ç›®å½•.æŒ‚è½½åè¯¥ç›®å½•ä¼šè¢«æ¸…ç©º,ä¸”åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­å…¶å†…å®¹å¯¹ç”¨æˆ·ä¸å¯è§</li><li data-pid="Xz1_C2HQ"><code>pwd/merged</code>:è¿™å¹¶ä¸æ˜¯å‚æ•°,è€Œæ˜¯æŒ‡å®šæœ€ç»ˆæŒ‚è½½çš„ç›®å½•</li></ul><p class="ztext-empty-paragraph"><br></p><p data-pid="uSBPUyTC"><b>æŸ¥çœ‹<code>./merged</code>ç›®å½•ä¸­çš„å†…å®¹</b></p><div class="highlight"><pre><code class="language-bash"> <span class="o">[</span>root@dev overlayfs2<span class="o">]</span><span class="c1"># cd merged/</span>
 <span class="o">[</span>root@dev merged<span class="o">]</span><span class="c1"># cat in_both.txt in_lower.txt in_upper.txt</span>
 from upper
 from lower
 from upper</code></pre></div><blockquote data-pid="ejmlmv2E">è¿™æ˜¯åˆå¹¶åçš„å±‚</blockquote><p data-pid="vOPYDw3w">å¯ä»¥çœ‹åˆ°ï¼Œå½“æŠŠ2(å¤š)ä¸ªç›®å½•é€šè¿‡<code>overlay</code>çš„å½¢å¼<code>mount</code>åˆ°ä¸€ä¸ªè™šæ‹Ÿç›®å½•æ—¶ï¼Œåœ¨è¿™ä¸ªæ–°çš„è™šæ‹Ÿç›®å½•ä¸­ï¼Œä¼šæ•´åˆæ¥è‡ªä¸Šå±‚å’Œä¸‹å±‚çš„æ–‡ä»¶ã€‚æœ€ç»ˆè¿™ä¸ªè™šæ‹Ÿç›®å½•ä¸­ä¼šæ•´åˆå¤šä¸ªç›®å½•ä¸­çš„æ–‡ä»¶ï¼Œå¦‚æœé‡åˆ°åŒåæ–‡ä»¶ï¼Œåˆ™ä¸Šå±‚çš„æ–‡ä»¶ä¼šè¦†ç›–ä¸‹å±‚çš„æ–‡ä»¶ã€‚</p><p data-pid="QJaeSDmG">å›åˆ°å®¹å™¨é•œåƒä¸Šï¼ŒåŸºç¡€é•œåƒå±‚å°±ç›¸å½“äºæ¼”ç¤ºä¸­çš„lowerå±‚ã€‚</p><p data-pid="W_BJXGW5">è‹¥éœ€è¦åœ¨è¿™ä¸ªåŸºç¡€é•œåƒå±‚ä¸­æ·»åŠ ä¸€äº›å†…å®¹ï¼Œåˆ™åœ¨è¿™ä¸ªåŸºç¡€é•œåƒå±‚ä¸Šå†åŠ ä¸€ä¸ªæ–°çš„å®¹å™¨å±‚,ç„¶åé€šè¿‡<code>overlayFS</code>çš„å½¢å¼å°†è¿™ä¸ªæ–°çš„å®¹å™¨å±‚<code>mount</code>è¿›å»å³å¯.</p><p data-pid="Ki9PCH9d">è‹¥éœ€è¦åœ¨è¿™ä¸ªåŸºç¡€é•œåƒå±‚ä¸­åšä¸€äº›ä¿®æ”¹,ä¹Ÿä¸éœ€è¦å»ä¿®æ”¹lowerå±‚,åªéœ€åœ¨ä¸Šæ–¹å †å ä¸€ä¸ªåŒåæ–‡ä»¶å³å¯ã€‚æ–°çš„æ–‡ä»¶ä¼šè¦†ç›–æ‰ä¸‹å±‚ä¸­å·²å­˜åœ¨çš„æ–‡ä»¶.</p><p data-pid="XKjO_iCm"><b>åœ¨<code>./merged</code>ä¸­åˆ é™¤æ–‡ä»¶ï¼š</b></p><div class="highlight"><pre><code class="language-bash"> <span class="o">[</span>root@dev merged<span class="o">]</span><span class="c1">#  rm -f ./in_both.txt;tree ../</span>
 ../
 â”œâ”€â”€ lower
 â”‚   â”œâ”€â”€ in_both.txt
 â”‚   â””â”€â”€ in_lower.txt
 â”œâ”€â”€ merged
 â”‚   â”œâ”€â”€ in_lower.txt
 â”‚   â””â”€â”€ in_upper.txt
 â”œâ”€â”€ upper
 â”‚   â”œâ”€â”€ in_both.txt
 â”‚   â””â”€â”€ in_upper.txt
 â””â”€â”€ work
     â””â”€â”€ work
 â€‹</code></pre></div><p data-pid="A0suQQLX">æˆ‘ä»¬åˆ é™¤æ‰äº† åˆå¹¶å±‚ <code>in_both.txt</code> æ–‡ä»¶ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰å½±å“åˆ° </p><div class="highlight"><pre><code class="language-bash"> <span class="o">[</span>root@dev merged<span class="o">]</span><span class="c1"># cat ../upper/in_both.txt</span>
 cat: ../upper/in_both.txt: No such device or address
 <span class="o">[</span>root@dev merged<span class="o">]</span><span class="c1"># cat ../lower/in_both.txt </span>
 from lower</code></pre></div><p data-pid="gj5iYisQ"> å¯ä»¥çœ‹åˆ°ï¼Œ<code>upper/in_both.txt</code>è¢«åˆ é™¤äº†ã€‚ä½†<code>lower/in_both.txt</code>æ²¡æœ‰å—åˆ°åˆ é™¤æ“ä½œçš„å½±å“ã€‚</p><blockquote data-pid="jsSn1ZOb">å¯¹æ¯”åˆ° docker ï¼Œå®¹å™¨å±‚è¢«åˆ é™¤äº†ï¼Œä½†æ˜¯ é•œåƒï¼ˆåªè¯»å±‚æ²¡å˜åŒ–ï¼‰</blockquote><p data-pid="TfVMZDlh"><b>åˆ é™¤<code>in_lower.txt</code>ï¼ˆé•œåƒï¼‰</b></p><div class="highlight"><pre><code class="language-bash"> <span class="o">[</span>root@dev merged<span class="o">]</span><span class="c1"># rm -f ./in_lower.txt;tree ../</span>
 ../
 â”œâ”€â”€ lower
 â”‚   â”œâ”€â”€ in_both.txt
 â”‚   â””â”€â”€ in_lower.txt
 â”œâ”€â”€ merged
 â”‚   â””â”€â”€ in_upper.txt
 â”œâ”€â”€ upper
 â”‚   â”œâ”€â”€ in_both.txt
 â”‚   â”œâ”€â”€ in_lower.txt
 â”‚   â””â”€â”€ in_upper.txt
 â””â”€â”€ work
     â””â”€â”€ work
 â€‹
 <span class="m">5</span> directories, <span class="m">6</span> files
 â€‹
 <span class="o">[</span>root@dev merged<span class="o">]</span><span class="c1"># cat ../upper/in_lower.txt </span>
 cat: ../upper/in_lower.txt: No such device or address
 â€‹
 <span class="o">[</span>root@dev merged<span class="o">]</span><span class="c1"># cat ../lower/in_lower.txt </span>
 from lower</code></pre></div><p data-pid="QtduTkap">å¯ä»¥çœ‹åˆ°ï¼Œ<code>upper/</code>ç›®å½•ä¸­å¤šäº†ä¸€ä¸ªæ–‡ä»¶<code>in_lower.txt</code>ã€‚ä½†è¿™ä¸ªæ–‡ä»¶æ˜¯ä¸å­˜åœ¨çš„ã€‚ä½†<code>lower/in_lower.txt</code>æ²¡æœ‰å—åˆ°åˆ é™¤æ“ä½œçš„å½±å“.</p><div class="highlight"><pre><code class="language-bash"> <span class="o">[</span>root@dev merged<span class="o">]</span><span class="c1"># cd ..;ls -al upper</span>
 total <span class="m">12</span>
 drwxr-xr-x <span class="m">2</span> root root <span class="m">4096</span> Mar  <span class="m">2</span> 20:16 .
 drwxr-xr-x <span class="m">6</span> root root <span class="m">4096</span> Mar  <span class="m">2</span> 20:06 ..
 c--------- <span class="m">1</span> root root 0, <span class="m">0</span> Mar  <span class="m">2</span> 20:11 in_both.txt
 c--------- <span class="m">1</span> root root 0, <span class="m">0</span> Mar  <span class="m">2</span> 20:16 in_lower.txt
 -rw-r--r-- <span class="m">1</span> root root   <span class="m">11</span> Mar  <span class="m">2</span> 20:06 in_upper.txt</code></pre></div><blockquote data-pid="GEuKnc1u">æ³¨:<code>c---------</code>ä¸­çš„<code>c</code>è¡¨ç¤ºå­—ç¬¦è®¾å¤‡æ–‡ä»¶</blockquote><p class="ztext-empty-paragraph"><br></p><p data-pid="s7rPqw_f"><b>åˆ é™¤<code>in_upper.txt</code></b></p><div class="highlight"><pre><code class="language-text"> [root@dev overlayfs2]# rm ./merged/in_upper.txt -f
 [root@dev overlayfs2]# tree
 .
 â”œâ”€â”€ lower
 â”‚   â”œâ”€â”€ in_both.txt
 â”‚   â””â”€â”€ in_lower.txt
 â”œâ”€â”€ merged
 â”œâ”€â”€ upper
 â”‚   â”œâ”€â”€ in_both.txt
 â”‚   â””â”€â”€ in_lower.txt
 â””â”€â”€ work
     â””â”€â”€ work
 â€‹</code></pre></div><p data-pid="4_0zc8YZ">å¯ä»¥çœ‹åˆ°ï¼š <code>upper/in_upper.txt</code>ç¡®å®è¢«åˆ é™¤äº†.</p><p class="ztext-empty-paragraph"><br></p><h3><b>inspect</b></h3><div class="highlight"><pre><code class="language-text"> # docker inspect daddac4c0706
 â€‹
 ```bash
         "Image": "sha256:5d0da3dc976460b72c77d94c8a1ad043720b0416bfc16c52c45d4847e53fadb6",
         "ResolvConfPath": "/var/lib/docker/containers/daddac4c07067978995724d650ed8a6f0f8d8edfc979f13c9883f1a6971b904a/resolv.conf",
         "HostnamePath": "/var/lib/docker/containers/daddac4c07067978995724d650ed8a6f0f8d8edfc979f13c9883f1a6971b904a/hostname",
         "HostsPath": "/var/lib/docker/containers/daddac4c07067978995724d650ed8a6f0f8d8edfc979f13c9883f1a6971b904a/hosts",
         "LogPath": "",
 ```</code></pre></div><p class="ztext-empty-paragraph"><br></p><h3><b>docker å¼•æ“æ¶æ„</b></h3><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-9a48d78b39b9d4b8939ea5e983fbd6a1_r.jpg" data-caption="" data-size="normal" width="2024" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><ul><li data-pid="_PdrSgqc"><code>Docker daemon</code>ï¼šDockeråå°çš„æœåŠ¡ç«¯ï¼Œäº‹å®ä¸Šæ˜¯ä¸€å¥— REST API</li><li data-pid="EMCSV_FR"><code>Docker command</code>ï¼šå‘½ä»¤è¡Œ.å¯ä»¥æŠŠdockerçš„å‘½ä»¤ä½œä¸ºä¸€ä¸ªè¯·æ±‚å‘é€ç»™ Docker daemon</li><li data-pid="Kji4D1q2"><code>containerd</code>ï¼šç”¨äºæ§åˆ¶è¿è¡Œæ—¶è¿›ç¨‹çš„ç»„ä»¶ï¼ŒDocker daemonæ¥æ”¶åˆ°è¯¥è¯·æ±‚åï¼Œé€šè¿‡GRPCçš„è°ƒç”¨ï¼ŒæŠŠè¯·æ±‚è½¬å‘åˆ°<code>containerd</code>ä¸Š</li><li data-pid="jJVFGArX"><code>shim</code>è¿›ç¨‹ï¼š<code>containerd</code>æ”¶åˆ°è¯·æ±‚åï¼Œå¯åŠ¨ä¸€ä¸ª<code>shim</code>è¿›ç¨‹ã€‚<code>shim</code>è¿›ç¨‹é€šè¿‡<code>runc</code>(åº•å±‚è¿è¡Œæ—¶çš„ä¸€ä¸ªæ¥å£)å¯åŠ¨å®¹å™¨è¿›ç¨‹</li></ul><p data-pid="4Hr_H3pR"><b>shimçš„ä½œç”¨</b>ï¼šåœ¨æ—©æœŸ,containerdå’Œshimæ˜¯ä¸å­˜åœ¨çš„.é‚£ä¸ªæ—¶ä»£,å½“ä½ é€šè¿‡dockerå‘½ä»¤å»è¿è¡Œä¸€ä¸ªå®¹å™¨è¿›ç¨‹æ—¶,è¿™ä¸ªå®¹å™¨è¿›ç¨‹æ˜¯ç”±docker daemonç›´æ¥æ‹‰èµ·çš„ã€‚</p><p data-pid="ajcjABih"><b>è¿™æ ·è®¾è®¡çš„é—®é¢˜</b>ï¼šdocker daemonæˆä¸ºäº†æ‰€æœ‰å®¹å™¨è¿›ç¨‹çš„çˆ¶è¿›ç¨‹.å½“ä½ å‡çº§æˆ–é‡å¯dockeræ—¶,çˆ¶è¿›ç¨‹å°±ä¸å­˜åœ¨äº†ï¼Œå­è¿›ç¨‹ä¹Ÿä¼šè¢«é‡å¯.è¿™å¯¼è‡´çš„é—®é¢˜æ˜¯:ä½ æ— æ³•è½»æ˜“å‡çº§docker.å¯¹äºæ—©æœŸçš„dockeræ¥è®²,è¿™æ˜¯ä¸€ä¸ªè‡´å‘½é—®é¢˜ã€‚</p><p data-pid="xhhdNtmn"><code>containerd</code>å¯åŠ¨äº†ä¸€ä¸ª<code>shim</code>è¿›ç¨‹åï¼Œä¼šå°†è¯¥shimäº¤ç»™OSçš„<code>init system</code>(æ¯”å¦‚systemd)ã€‚è¿™æ · containerdä¸‹é¢æ˜¯ä¸æŒ‚ä»»ä½•è¿›ç¨‹çš„ï¼Œå¯ä»¥éšæ„å‡çº§æˆ–é‡å¯ã€‚å³ï¼š<b>æŠŠæ§åˆ¶ç»„ä»¶å’Œæ•°æ®é¢ç»„ä»¶åˆ†ç¦»</b></p><blockquote data-pid="fwK_U_Lo">docker ç»“æ„å›¾ æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œæˆ‘ä»¬å¼€å§‹å­¦ docker çš„æ—¶å€™ç¬¬ä¸€ä»¶äº‹å°±æ˜¯çœ‹æ¶æ„ï¼Œä¸ç®¡ä»€ä¹ˆé¡¹ç›®ï¼Œå§‹äºæ¶æ„ï¼Œä¹Ÿå¿ äºæ¶æ„ã€‚<br></blockquote><ul><li data-pid="YQiCW-Da"><a href="https://docker.nsddd.top/markdown/2.html" target="_blank">docker ç³»ç»Ÿæ¶æ„ç¬”è®°</a></li></ul><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h2><b>ç½‘ç»œ</b></h2><p data-pid="48tXJ6_G"><b>  ç»ˆäºåˆ°äº† ç½‘ç»œ éƒ¨åˆ†äº†ï¼Œdocker ç½‘ç»œæ˜¯å¯ä»¥æœ‰ ç‹¬ç«‹çš„ namespace ï¼Œä½†æ˜¯ä¹Ÿå¹¶ä¸æ˜¯è¿™ä¹ˆç®€å•çš„ï¼Œæ¥ä¸‹æ¥è¯¥å¥½å¥½ç ”ç©¶ç½‘ç»œäº†ã€‚</b></p><ul><li data-pid="RZTGfRXQ"><a href="https://docker.nsddd.top/markdown/30.html" target="_blank">å…³äº docker ç½‘ç»œçš„åŸºç¡€ï¼Œå…¥é—¨çº§åˆ«ä½¿ç”¨ç¯‡ï¼Œè¯·çœ‹è¿™ä¸€ç¯‡æˆ‘å†™çš„ç¬”è®°</a></li></ul><p class="ztext-empty-paragraph"><br></p><p data-pid="cx2qXHv6"><b>dockerç½‘ç»œçš„å‡ ç§æ¨¡å¼ï¼š</b></p><ul><li data-pid="Y9DxWe9Q">bridgeæ¨¡å¼ï¼ˆé»˜è®¤ï¼‰ï¼šä½¿ç”¨<code>--network bridge</code>æŒ‡å®šï¼Œé»˜è®¤ä½¿ç”¨<code>docker0</code></li><li data-pid="v4TkTaf-">hostæ¨¡å¼ï¼šä½¿ç”¨<code>--network host</code>æŒ‡å®š</li><li data-pid="uSvZxQQd">noneæ¨¡å¼ï¼šä½¿ç”¨<code>--network none</code>æŒ‡å®šï¼ˆKuberneteséœ€è¦ï¼‰</li><li data-pid="WCmoqSXq">containeræ¨¡å¼ï¼šä½¿ç”¨<code>--network container:NAME</code>æˆ–è€…å®¹å™¨IDæŒ‡å®šï¼ˆå¤ç”¨å…¶ä»–å®¹å™¨çš„ç½‘ç»œï¼‰</li></ul><p data-pid="UoaR5k21">çœ‹åˆ° docker0 å°±æœ‰ä¸€ç§ç¥ç§˜çš„äº²åˆ‡æ„Ÿï¼ŒKubernetes çš„ç½‘ç»œè®¾è®¡ä¹Ÿæ˜¯å‚è€ƒ docker~</p><blockquote data-pid="Rza0KbLA">ä½ å¯ä»¥æŠŠ docker0 ç†è§£ä¸ºä¸€ä¸ªäº¤æ¢æœº~<br>å¦‚æœä¸Šå±‚æœ‰Kubernetesè¿™ç§ç¼–æ’ç³»ç»Ÿ,Kuberneteså¸Œæœ›é€šè¿‡è‡ªå·±çš„ç½‘ç»œæ’ä»¶æ¥é…ç½®ç½‘ç»œ,æ­¤æ—¶å°±åº”è¯¥ä½¿ç”¨Nullæ¨¡å¼æ¥åˆ›å»ºä¸€ä¸ªé•œåƒ<br>âš ï¸ æ³¨æ„ï¼Œè™½ç„¶ä»€ä¹ˆéƒ½ä¸åšï¼Œä½†æ˜¯ç”¨æˆ·å¸Œæœ›å…¨æƒå¤„ç†å®¹å™¨çš„ç½‘ç»œé…ç½®æ—¶ä½¿ç”¨ nonoï¼ŒDockerä¸ä¸ºç”¨æˆ·åšä»»ä½•é…ç½®ï¼Œä½†æ˜¯ä¼šä¸ºç”¨æˆ·æŠŠç½‘ç»œçš„namespaceåˆ›å»ºå‡ºæ¥.</blockquote><p class="ztext-empty-paragraph"><br></p><h3><b>è·¨ä¸»æœºçš„ç½‘ç»œæ¨¡å¼</b></h3><p data-pid="Xka1Ss9b"><b>Remote(work with remote dirvers)</b></p><ul><li data-pid="99x_1a9t"><code>Underlay</code>:<br></li><ul><li data-pid="6q-qSk34">ä½¿ç”¨ç°æœ‰åº•å±‚ç½‘ç»œï¼Œä¸ºæ¯ä¸€ä¸ªå®¹å™¨é…ç½®å¯è·¯ç”±çš„ç½‘ç»œIP</li><li data-pid="9FvtqRlA">è¿™ç§æ¨¡å¼å®¹å™¨ç½‘ç»œå’Œä¸»æœºç½‘ç»œæ˜¯ä¸€æ ·çš„.å®¹å™¨çš„IPæ®µåœ¨ä¸»æœºå±‚é¢çŸ¥é“å¦‚ä½•è·¯ç”±.è¿™æ ·ä¸€æ¥å®¹å™¨çš„æ•°æ®åŒ…å°±å¯ä»¥è‡ªç”±ä¼ è¾“.</li><li data-pid="I-njQ1G-">è¿™ç§æ¨¡å¼çš„å±€é™æ€§:å®¹å™¨ç½‘ç»œå’Œä¸»æœºç½‘ç»œå…±ç”¨,ä½†å®¹å™¨ç½‘ç»œå¯¹IPçš„æ¶ˆè€—æ˜¯å·¨å¤§çš„.æ‰€ä»¥å¦‚æœé‡‡ç”¨è¿™ç§æ¨¡å¼å®ç°è·¨ä¸»æœºçš„å®¹å™¨é—´é€šä¿¡,éœ€è¦æå‰è§„åˆ’å¥½ç½‘æ®µ(æ¯”å¦‚æœ‰å¤šå¤§çš„ç½‘æ®µåˆ†ç»™å®¹å™¨,æœ‰å¤šå¤§çš„ç½‘æ®µåˆ†ç»™åŸºç¡€æ¶æ„)</li></ul></ul><p class="ztext-empty-paragraph"><br></p><ul><li data-pid="-xP5MRps"><code>Overlay</code>:<br></li><ul><li data-pid="IJNMay9A">é€šè¿‡ç½‘ç»œå°åŒ…å®ç°</li><li data-pid="ENpPqZ15">é€šå¸¸å®¹å™¨ç½‘ç»œå’Œåº•å±‚åŸºç¡€æ¶æ„ç½‘ç»œæ˜¯ä¸¤å¥—ç½‘ç»œã€‚å®¹å™¨æœ‰è‡ªå·±çš„å­ç½‘ï¼Œè¿™ä¸ªå­ç½‘åœ¨åº•å±‚ç½‘ç»œä¸­æ˜¯ä¸èƒ½è·¯ç”±çš„ã€‚ä¹Ÿå°±æ˜¯è¯´,å®¹å™¨ç½‘ç»œä¸­çš„ç½‘ç»œè¯·æ±‚æ˜¯ä¸èƒ½åœ¨åŸºç¡€ç½‘ç»œä¸­ä¼ è¾“çš„,æ•°æ®åŒ…æ˜¯ä¼ ä¸è¿‡å»çš„ã€‚</li><li data-pid="C-6SkzI1">æƒ³è¦å®ç°è·¨ä¸»æœºçš„å®¹å™¨é—´äº’è”äº’é€šï¼Œå°±éœ€è¦åŸºäºOverlayæŠ€æœ¯ã€‚å½“å®¹å™¨å‘å‡ºçš„æ•°æ®åŒ…è¦é€šè¿‡ä¸»æœºå‘å¤–ä¼ è¾“æ—¶ï¼Œåœ¨ä¸»æœºå±‚é¢å†å°è£…ä¸€å±‚ã€‚åœ¨åŸå§‹æ•°æ®åŒ…çš„åŸºç¡€ä¸Šé€šè¿‡å„ç§åè®®å†åŠ ä¸€å±‚åŒ…å¤´ï¼Œè¿™ä¸ªåŒ…å¤´ä¼šæŠŠå½“å‰ä¸»æœºåœ°å€ä½œä¸ºåŸåœ°å€ï¼ŒæŠŠå¯¹ç«¯ä¸»æœºåœ°å€ä½œä¸ºç›®æ ‡åœ°å€ã€‚å°è£…å¥½çš„æ•°æ®åŒ…å°±å¯ä»¥åœ¨åŸºç¡€æ¶æ„ç½‘ç»œä¸­ä¼ è¾“äº†</li><li data-pid="TmseG6Bx">æ•°æ®åŒ…åˆ°è¾¾å¯¹ç«¯ä¸»æœºåï¼Œå¯¹ç«¯ä¸»æœºè§£åŒ….è§£å¼€ä¸»æœºä¸€å±‚åŒ…å¤´å,å‰©ä¸‹çš„å°±æ˜¯å®¹å™¨çš„æ•°æ®åŒ…å¤´ã€‚è¿™æ ·ä¸€æ¥æ•°æ®åŒ…å°±å¯ä»¥åˆ°è¾¾å¯¹ç«¯ä¸»æœºä¸Šçš„å®¹å™¨äº†</li></ul></ul><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>å•èŠ‚ç‚¹çš„å®¹å™¨ç½‘ç»œæ¨¡å¼</b></h3><p data-pid="nOKhNQ-3"><b>æˆ‘ä»¬ä¸Šé¢è¯´è¿‡ NONO æ˜¯ä¸€ä¸ªç©ºå®ç°</b></p><ul><li data-pid="Tswa8VqP">Nullæ¨¡å¼æ˜¯ä¸€ä¸ªç©ºå®ç°</li><li data-pid="MehA07hm">å¯ä»¥é€šè¿‡Nullæ¨¡å¼å¯åŠ¨å®¹å™¨å¹¶åœ¨å®¿ä¸»æœºä¸Šé€šè¿‡å‘½ä»¤ä¸ºå®¹å™¨é…ç½®ç½‘ç»œ</li></ul><p class="ztext-empty-paragraph"><br></p><h3><b>æ¡ˆä¾‹</b></h3><p data-pid="Grim56Sb">åˆ›å»ºä¸€ä¸ªç½‘ç»œæ¨¡å¼ä¸ºNullçš„å®¹å™¨,å¹¶ä¸ºè¯¥å®¹å™¨é…ç½®ç½‘ç»œ</p><p class="ztext-empty-paragraph"><br></p><p data-pid="32NJaCMh"><b>è¿è¡Œä¸€ä¸ªnginxçš„å®¹å™¨,å¹¶ä¸”å°†ç½‘ç»œæ¨¡å¼è®¾ç½®æˆNull</b></p><div class="highlight"><pre><code class="language-bash"> <span class="o">[</span>root@dev workspces<span class="o">]</span><span class="c1"># docker run --network=none -d nginx</span>
 9dcdea440a927d7b7c60c0df3dab06b2b3cd3258507b07de339b31bd10c92d92
 â€‹
 <span class="o">[</span>root@dev workspces<span class="o">]</span><span class="c1"># docker ps</span>
 CONTAINER ID        IMAGE                          COMMAND                  CREATED              STATUS                       PORTS                    NAMES
 9dcdea440a92        nginx                          <span class="s2">"/docker-entrypoin..."</span>   About a minute ago   Up <span class="m">57</span> seconds                                         loving_nightingale</code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="NDW_hDNZ"><b>æ£€æŸ¥è¯¥å®¹å™¨è¿›ç¨‹çš„pidï¼š</b></p><div class="highlight"><pre><code class="language-bash"> <span class="o">[</span>root@dev workspces<span class="o">]</span><span class="c1"># docker inspect 9dcde|grep -i pid</span>
             <span class="s2">"Pid"</span>: 9737,
             <span class="s2">"PidMode"</span>: <span class="s2">""</span>,
             <span class="s2">"PidsLimit"</span>: 0,</code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="YyYgSNTe"><b>åœ¨å®¿ä¸»æœºä¸ŠæŸ¥çœ‹å®¹å™¨è¿›ç¨‹çš„ç½‘ç»œæƒ…å†µ</b></p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-ce20c8b476b856e3d62b285adc43d41d_r.jpg" data-caption="" data-size="normal" width="1535" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p data-pid="ySgN0Rux">å¯ä»¥çœ‹åˆ°åªæœ‰loopbackåœ°å€,æ²¡æœ‰å…¶ä»–ç½‘ç»œé…ç½®ã€‚ä¹Ÿå°±æ˜¯è¯´ç°åœ¨æ˜¯æ— æ³•é€šè¿‡å¤–éƒ¨çš„ç½‘ç»œè°ƒç”¨æ¥è®¿é—®è¿™ä¸ªæœåŠ¡çš„ï¼Œä½†æ˜¯è¯¥è¿›ç¨‹çš„ <code>network namespace</code> æ˜¯å·²ç»è¢«å»ºç«‹äº†.</p><p data-pid="4wEC0Td4"><b>åˆ›å»ºå®¹å™¨è¿›ç¨‹çš„network namespace</b></p><div class="highlight"><pre><code class="language-bash"> <span class="o">[</span>root@dev workspces<span class="o">]</span><span class="c1"># mkdir -p /var/run/netns</span>
 <span class="o">[</span>root@dev workspces<span class="o">]</span><span class="c1"># export pid=9737</span>
 <span class="o">[</span>root@dev workspces<span class="o">]</span><span class="c1"># ln -s /proc/$pid/ns/net /var/run/netns/$pid</span></code></pre></div><p data-pid="jHke1S0V">æ­¤å¤„åˆ›å»ºç›®å½•çš„ç›®çš„ï¼š<b>å½“æˆ‘ä»¬å¸Œæœ›æŠŠä¸€ä¸ªè¿›ç¨‹å…³è”åˆ°ä¸€ä¸ª<code>network namespace</code>ä¸Šæ—¶ï¼Œå°±éœ€è¦æœ‰ä¸€ä¸ªåœ°æ–¹æ¥ä¿å­˜network namespaceçš„ç›¸å…³ä¿¡æ¯</b>(å¦‚ï¼šæœ‰å“ªäº›network namespaceã€è¿™äº›network namespaceå…³è”äº†å“ªäº›è¿›ç¨‹ç­‰ä¿¡æ¯)ã€‚è¿™ä¸ªåœ°æ–¹å°±æ˜¯<code>/var/run/netns/</code>.</p><p data-pid="yW67A1H6">æ­¤å¤„åˆ›å»ºè½¯è¿æ¥çš„ç›®çš„:<code>/proc/$pid/ns/net</code>æ˜¯å®¹å™¨è¿›ç¨‹çš„network namespaceä¿¡æ¯ ï¼Œ<code>/var/run/netns/$pid</code>æ˜¯æˆ‘ä»¬è‡ªå·±åˆ›å»ºçš„,ç”¨äºä¿å­˜å®¹å™¨è¿›ç¨‹çš„network namespaceçš„ç›®å½•.æ­¤å¤„å»ºç«‹è½¯è¿æ¥æ˜¯ä¸ºäº†åç»­æ“ä½œï¼Œåœ¨åˆ›å»ºäº†é“¾è·¯ä¹‹å,è¿æ¥å®¹å™¨è¿›ç¨‹çš„network namespaceå’Œä¸»æœºçš„network namespaceç”¨ã€‚</p><blockquote data-pid="0EMp4fJ0">âš ï¸ <b>æ³¨:æŸäº›ç¨‹åºå¯åŠ¨æœåŠ¡å,ä¼šå°†å®ƒä»¬PIDæ”¾ç½®åœ¨<code>/var/run/</code>ç›®å½•ä¸‹</b></blockquote><p class="ztext-empty-paragraph"><br></p><p data-pid="YABQBt7K"><b>æ£€æŸ¥å®¹å™¨è¿›ç¨‹çš„network namespaceæ˜¯å¦èƒ½åœ¨ä¸»æœºä¸Šè¢«æŸ¥çœ‹åˆ°</b></p><div class="highlight"><pre><code class="language-bash"> <span class="o">[</span>root@dev workspces<span class="o">]</span><span class="c1"># ip netns list</span>
 <span class="m">9737</span></code></pre></div><ul><li data-pid="vdJmVD0e"><code>ip netns</code>ï¼šç”¨äºç®¡ç†network namespaceã€‚å®ƒå¯ä»¥åˆ›å»ºå‘½åçš„ network namespace,ç„¶åé€šè¿‡åå­—æ¥å¼•ç”¨network namespace</li><li data-pid="uOlUxz8m"><code>ip netns list</code>ï¼šæ˜¾ç¤ºæ‰€æœ‰å‘½åçš„network namesapceï¼Œå…¶<b>å®å°±æ˜¯æ˜¾ç¤º<code>/var/run/netns</code>ç›®å½•ä¸‹çš„æ‰€æœ‰network namespaceå¯¹è±¡</b></li></ul><p class="ztext-empty-paragraph"><br></p><p data-pid="aZ5yBFcD"><b>æŸ¥çœ‹Dockerçš„ç½‘æ¡¥è®¾å¤‡ï¼š</b></p><div class="highlight"><pre><code class="language-bash"> <span class="o">[</span>root@dev workspces<span class="o">]</span><span class="c1"># if bridge-utils;then bridge;else yum install bridge-utils; fi</span>
 â€‹
 <span class="o">[</span>root@dev workspces<span class="o">]</span><span class="c1"># brctl show</span>
 bridge name bridge id       STP enabled interfaces
 docker0     8000.02420bb43568   no</code></pre></div><p data-pid="_6vsshH2">å½“å®‰è£…å®ŒDockeråï¼ŒDockeré»˜è®¤åœ¨ä¸»æœºä¸Šä¼šå®‰è£…ä¸€ä¸ªBridge(æ¡¥æ¥è®¾å¤‡,å¯ä»¥ç†è§£ä¸ºæ˜¯ä¸€ä¸ªé›†çº¿å™¨,è¯¥é›†çº¿å™¨ä¸Šæœ‰å¾ˆå¤šç½‘å£ã€‚å½“å¤šå°ä¸»æœºçš„ç½‘çº¿éƒ½è¿æ¥åˆ°è¯¥Bridgeè®¾å¤‡åï¼Œè¿™äº›ä¸»æœºä¹‹é—´å°±å¯ä»¥äº’é€šäº†)ï¼Œè¯¥è®¾å¤‡ç”¨äºè¿æ¥å½“å‰ä¸»æœºä¸Šçš„æ‰€æœ‰å®¹å™¨ã€‚</p><p class="ztext-empty-paragraph"><br></p><p data-pid="XIuiqJND"><b>æœ‰äº†ç½‘æ¡¥è®¾å¤‡ï¼Œæƒ³è¦è®©å®¹å™¨å†…çš„ç½‘ç»œå’Œä¸»æœºäº’é€š,å°±æ¯”è¾ƒå®¹æ˜“äº†ï¼Œå…¶å®åªéœ€è¦åš2ä»¶äº‹:</b></p><ol><li data-pid="Ov0mods4">ä¸ºå®¹å™¨è¿›ç¨‹é…ç½®ç½‘ç»œ</li><li data-pid="lwYS6HGt">ä»å®¹å™¨çš„ç½‘ç»œä¸­ç‰µä¸€æ ¹ç½‘çº¿åˆ°ä¸»æœºçš„namespace,å¹¶ä¸”æ’åœ¨docker0çš„Bridgeä¸Š</li></ol><p data-pid="dhJcd8iV">è¿™æ ·ä¸»æœºç½‘ç»œå’Œå®¹å™¨ç½‘ç»œå°±å¯ä»¥äº’é€šäº†</p><p class="ztext-empty-paragraph"><br></p><h3><b>é»˜è®¤æ¨¡å¼â€“ç½‘æ¡¥å’ŒNAT</b></h3><p data-pid="JFhamqzm">Dockerç½‘ç»œçš„é»˜è®¤æ¨¡å¼å°±æ˜¯æ¡¥æ¥ã€‚æ¡¥æ¥å…¶å®å°±æ˜¯åˆšæ‰æ¼”ç¤ºä¸­çš„é‚£äº›æ­¥éª¤.</p><p data-pid="_r0f84cg">ä¸æŒ‡å®šç½‘ç»œæ¨¡å¼æ—¶ï¼Œdockeråœ¨ç½‘ç»œè¿æ¥æ–¹é¢åšçš„å·¥ä½œï¼Œå’Œæˆ‘ä»¬åˆšæ‰æ¼”ç¤ºçš„æ˜¯ä¸€æ ·çš„ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>æ¡ˆä¾‹</b></h3><p data-pid="sxdKzhEf"><b>ä¸æŒ‡å®šç½‘ç»œæ¨¡å¼ï¼Œå¯åŠ¨ä¸€ä¸ªnginxå®¹å™¨</b></p><div class="highlight"><pre><code class="language-bash"> <span class="o">[</span>root@dev workspces<span class="o">]</span><span class="c1"># docker run -d nginx;docker ps</span>
 9f27121bb2f4ea27809830be982a705852430c7ed324b810ee2658452f289758</code></pre></div><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-33c864ded3497cda7c99642e07176d0d_r.jpg" data-caption="" data-size="normal" width="2301" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><p data-pid="-W4Yobi9"><b>æŸ¥çœ‹è¯¥å®¹å™¨çš„ç½‘ç»œè®¾å¤‡æƒ…å†µ</b></p><div class="highlight"><pre><code class="language-bash"> <span class="o">[</span>root@dev workspces<span class="o">]</span><span class="c1"># docker inspect 9f|grep -i pid</span>
             <span class="s2">"Pid"</span>: 19942,
             <span class="s2">"PidMode"</span>: <span class="s2">""</span>,
             <span class="s2">"PidsLimit"</span>: 0,</code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="OKdGzpqN"><b>æŸ¥çœ‹å®¹å™¨ç½‘ç»œï¼š</b></p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-d0f5a2a826abd1ac9f640b7c05fb107f_r.jpg" data-caption="" data-size="normal" width="1705" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><blockquote data-pid="Wg0pOrp6">å¯ä»¥çœ‹åˆ°,è¯¥å®¹å™¨çš„IPåœ°å€ä¸º:<code>172.17.0.5</code>ï¼Œè¿˜å¯ä»¥è¿™æ ·ï¼š<br> [root@dev workspces]# docker inspect 9f | grep -i ip<br>  "IpcMode": "",<br>  "LinkLocalIPv6Address": "",<br>  "LinkLocalIPv6PrefixLen": 0,<br>  "SecondaryIPAddresses": null,<br>  "SecondaryIPv6Addresses": null,<br>  "GlobalIPv6Address": "",<br>  "GlobalIPv6PrefixLen": 0,<br>  "IPAddress": "172.17.0.5",<br>  "IPPrefixLen": 16,<br>  "IPv6Gateway": "",<br>  "IPAMConfig": null,<br>  "IPAddress": "172.17.0.5",<br>  "IPPrefixLen": 16,<br>  "IPv6Gateway": "",<br>  "GlobalIPv6Address": "",<br>  "GlobalIPv6PrefixLen": 0,</blockquote><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>ç«¯å£æ˜ å°„</b></h3><p data-pid="2I2pIktD"><b>è‹¥æƒ³è¦æŠŠå®¹å™¨å†…éƒ¨çš„æœåŠ¡å‘å¸ƒåˆ°ä¸»æœºä¸Š,è¯¥æ€ä¹ˆåš?</b></p><div class="highlight"><pre><code class="language-bash"> docker run -d --name nginx -p 8080:80 nginx</code></pre></div><p data-pid="_cldRT0g"><b>å…¶åº•å±‚é€»è¾‘ä¸º:</b>  Dockerä»¥æ ‡å‡†æ¨¡å¼é…ç½®ç½‘ç»œ</p><ul><li data-pid="mfjJU4nk">åˆ›å»ºveth pair</li><li data-pid="UIUxJ92g">å°†veth pairçš„ä¸€ç«¯è¿æ¥åˆ°docker0ç½‘æ¡¥</li><li data-pid="ZSKD-19W">veth pairçš„å¦ä¸€ç«¯è®¾ç½®ä¸ºå®¹å™¨network namespaceçš„eth0</li><li data-pid="gGSOBCMv">ä¸ºå®¹å™¨network namespaceçš„eth0åˆ†é…ip</li><li data-pid="BCgLZzI7">ä¸»æœºä¸Šçš„iptablesè§„åˆ™:<code>PREROUTING -A DOCKER ! -i docker0 -p tcp -m tcp -dport 2333 -j DNAT --to-destination 172.17.0.2:22</code><br> å®é™…ä¸Šå°±æ˜¯é€šè¿‡ä¸»æœºçš„iptableåšäº†ä¸€ä¸ªç«¯å£è½¬å‘.</li></ul><p class="ztext-empty-paragraph"><br></p><h3><b>å¤šèŠ‚ç‚¹çš„å®¹å™¨ç½‘ç»œæ¨¡å¼</b></h3><p class="ztext-empty-paragraph"><br></p><h3><b>Underlay</b></h3><p data-pid="KCDuvLh5">ä»å®ç°ä¸Šæœ€å®¹æ˜“çš„å°±æ˜¯Underlayæ¨¡å¼.</p><ul><li data-pid="iXEhRE7T">é‡‡ç”¨Linuxç½‘æ¡¥è®¾å¤‡(sbrctl),é€šè¿‡ç‰©ç†ç½‘ç»œè¿é€šå®¹å™¨</li><li data-pid="5dUKK2Qz">åˆ›å»ºæ–°çš„ç½‘æ¡¥è®¾å¤‡mydr0</li><li data-pid="uWdtoWfG">å°†ä¸»æœºç½‘å¡åŠ å…¥ç½‘æ¡¥</li><li data-pid="n4ImlYcg">æŠŠä¸»æœºç½‘å¡çš„åœ°å€é…ç½®åˆ°ç½‘æ¡¥,å¹¶æŠŠé»˜è®¤è·¯ç”±è§„åˆ™è½¬ç§»åˆ°ç½‘æ¡¥mydr0</li><li data-pid="pXp2KUZu">å¯åŠ¨å®¹å™¨</li><li data-pid="fB3gYd6M">åˆ›å»ºveth pair,æŠŠä¸€ä¸ªpeeræ·»åŠ åˆ°ç½‘æ¡¥mydr0</li><li data-pid="aOUwKyRh">é…ç½®å®¹å™¨æŠŠvethçš„å¦ä¸€ä¸ªpeeråˆ†é…ç»™å®¹å™¨ç½‘å¡</li></ul><p data-pid="aEgzWYOv">ä¹Ÿå°±æ˜¯è¯´,Underlayæ¨¡å¼æ˜¯ä¸åˆ’åˆ†ç‹¬ç«‹çš„å®¹å™¨ç½‘ç»œ,è€Œæ˜¯å®¹å™¨ç½‘ç»œèå…¥åˆ°åŸºç¡€æ¶æ„ç½‘ç»œä¸­.</p><ul><li data-pid="pLn3J1oV">ä¼˜ç‚¹:æ–¹æ¡ˆç®€å•</li><li data-pid="V1Dfarzy">ç¼ºç‚¹:éœ€è¦è¾ƒå¼ºçš„ç½‘æ®µè§„åˆ’èƒ½åŠ›.å› ä¸ºå®¹å™¨å¯¹IPçš„éœ€æ±‚å¾ˆå¤§,æ‰€ä»¥è¦äº‹å…ˆè§„åˆ’å¥½æ‰€æœ‰IPçš„åˆ†é…,é¿å…é€ æˆIPçš„æµªè´¹.</li></ul><p class="ztext-empty-paragraph"><br></p><h3><b>Docker Libnetwork Overlay</b></h3><ul><li data-pid="S7By6Dou">Docker overlayç½‘ç»œé©±åŠ¨åŸç”Ÿæ”¯æŒå¤šä¸»æœºç½‘ç»œ</li><li data-pid="EUEbYY6W">Libnetworkæ˜¯ä¸€ä¸ªå†…ç½®çš„åŸºäºVXLANçš„ç½‘ç»œé©±åŠ¨</li></ul><p data-pid="q0SaHIwQ">VXLANæ˜¯Overlayç½‘ç»œä¸­æœ€å¸¸ç”¨çš„ä¸€ç§æ¨¡å¼.</p><blockquote data-pid="z9FwGj01">Kubernetesä¸­çš„ç½‘ç»œæ’ä»¶Flannelæ”¯æŒOverlayæ¨¡å¼<br></blockquote><ul><li data-pid="L9Kb5Dv2">åŒä¸€ä¸»æœºå†…çš„Podå¯ä»¥ä½¿ç”¨ç½‘æ¡¥è¿›è¡Œé€šä¿¡</li><li data-pid="PIaLS9Lf">ä¸åŒä¸»æœºä¸Šçš„Podå°†é€šè¿‡flanneldå°†å…¶æµé‡å°è£…åœ¨UDPæ•°æ®åŒ…ä¸­</li></ul><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h2><b>Dockerbuild</b></h2><ul><li data-pid="BHR635H0"><a href="https://docker.nsddd.top/markdown/24.html" target="_blank">å¦‚æœä½ å¯¹ dockerfile åŸºç¡€ä¸æ˜¯å¾ˆäº†è§£ï¼Œè¯·çœ‹æˆ‘å†™çš„è¿™ç¯‡æ–‡ç« ~</a></li></ul><p data-pid="W0tC3tfl">Dockerfileï¼šç”¨æ¥æ„å»ºé•œåƒçš„æ–‡æ¡£ï¼Œæ–‡æ¡£å†…å®¹åŒ…å«äº†ä¸€æ¡æ„å»ºé•œåƒæ‰€éœ€è¦çš„å‘½ä»¤å’Œè¯´æ˜ã€‚å¯ä»¥è®¤ä¸ºæ˜¯åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿæœºæ—¶ï¼Œå¯¹æ“ä½œçš„ä¸€ä¸ªã€‚</p><p data-pid="N4vwDOs0">å¯ä»¥åŸºäºDockerfileæ¥å®šä¹‰æ•´ä¸ªå®¹å™¨é•œåƒã€‚åŒ…æ‹¬å®¹å™¨çš„åŸºç¡€é•œåƒã€ä¸­é—´ä»¶ã€å¯è¿è¡Œçš„æ–‡ä»¶ç­‰ã€‚</p><p data-pid="JDS7a9uM"><code>docker build</code>å‘½ä»¤ä¼šä¾æ¬¡è¯»å–å¹¶è¿è¡Œ Dockerfile ä¸­çš„å‘½ä»¤ï¼ŒæŠŠè¿™äº›å‘½ä»¤è½¬æ¢æˆä¸€ä¸ªçœŸå®çš„å®¹å™¨é•œåƒã€‚</p><p data-pid="lzbRP8UW"><b>é€šå¸¸ä¸€ä¸ªå®¹å™¨é•œåƒåˆ†ä¸º2éƒ¨åˆ†ï¼š</b></p><ol><li data-pid="JyDzocEz">æè¿°æ–‡ä»¶ï¼ˆå…ƒæ•°æ®ï¼‰</li><li data-pid="XujBaHil">äºŒè¿›åˆ¶æ–‡ä»¶</li></ol><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>ç†è§£æ„å»ºä¸Šä¸‹æ–‡ (build context)</b></h3><p data-pid="lwsVTENF">æˆ‘ä»¬åœ¨é˜…è¯»æºç çš„æ—¶å€™ï¼Œç»å¸¸çœ‹åˆ° build contextï¼Œä¸ç®¡æ˜¯ sealerã€sealosã€Kubernetesã€k3sâ€¦â€¦</p><ul><li data-pid="ya04YgEz">å½“è¿<code>docker build</code>å‘½ä»¤æ—¶ï¼Œ<b>å½“å‰å·¥ä½œç›®å½•è¢«ç§°ä¸ºæ„å»ºä¸Šä¸‹æ–‡</b></li><li data-pid="UEKryFjG"><code>docker build</code>é»˜è®¤æŸ¥æ‰¾å½“å‰ç›®å½•çš„<code>Dockerfile</code>ä½œæ„é€ è¾“å…¥ï¼Œä¹Ÿå¯ä»¥é€šè¿‡<code>-f</code>å‚æ•°æŒ‡å®š<code>Dockerfile</code><br> docker build -f ./Dockerfile</li><li data-pid="bwZ2VceH">å½“<code>docker build</code>è¿è¡Œæ—¶ï¼Œé¦–å…ˆä¼šæŠŠæ„å»ºä¸Šä¸‹æ–‡ä¼ ç»™docker daemonï¼ŒæŠŠæ²¡æœ‰ç”¨çš„æ–‡ä»¶åŒ…åŒ…å«åœ¨æ„å»ºä¸Šä¸‹æ–‡ä¸­ï¼Œä¼šå¯¼è‡´ä¼ æ’­æ—¶é—´é•¿ï¼Œæ„å»ºéœ€è¦çš„èµ„æºæ¶æ„å‡ºé„é²§<br></li><ul><li data-pid="Nmv-y2uY">å¯ä»¥é€šè¿‡<code>.dockerignore</code>æ–‡ä»¶ä»æ„å»ºä¸Šä¸‹æ–‡ä¸­æ’é™¤æŸäº›æ–‡ä»¶</li></ul></ul><p class="ztext-empty-paragraph"><br></p><ul><li data-pid="MyeIeyvv">å› æ­¤éœ€è¦ç¡®ä¿æ„å»ºä¸Šæ–‡æ¸…æ™°ï¼Œæ¯”å¦‚åˆ›å»ºä¸€ä¸ªä¸“é—¨çš„ç›®å½•æ”¾Dockerfileï¼Œå¹¶åœ¨ç›®å½•ä¸­è¿è¡Œ<code>docker build</code></li></ul><p class="ztext-empty-paragraph"><br></p><h3><b>æ„å»ºç¼“å­˜(Build Cache)</b></h3><p data-pid="NPrVzTP6">é•œåƒæ„å»ºæ—¥å¿—ï¼šä½¿ç”¨<code>docker build</code>å‘½ä»¤æ„å»ºé•œåƒæ—¶ï¼Œæ‰“å°æ¯ä¸€æ­¥(æ¯ä¸€å±‚æˆ–Dockerfileä¸­çš„æ¯ä¸€æ¡æŒ‡ä»¤)æ‰§è¡Œè¿‡ç¨‹çš„è¾“å‡ºå†…å®¹ã€‚é€šè¿‡æ—¥å¿—å¯ä»¥çŸ¥é“æ„å»ºçš„æ¯ä¸€ä¸ªæ­¥éª¤.</p><p data-pid="ZRysTjJP">æ³¨æ„æ—¥å¿—ä¸­çš„<code>Using cache</code>çš„éƒ¨åˆ†ï¼Œå³æ„å»ºç¼“å­˜ã€‚</p><div class="highlight"><pre><code class="language-bash"> <span class="c1"># docker build $GOPATH/src/httpServer</span>
 Sending build context to Docker daemon  7.228MB
 Step 1/9 : FROM ubuntu
  ---&gt; ba6acccedd29
 Step 2/9 : ENV <span class="nv">MY_SERVICE_PORT</span><span class="o">=</span><span class="m">80</span>
  ---&gt; Using cache
  ---&gt; 08b186233bb0
 ......</code></pre></div><p data-pid="ZmTZXO9z">Docker <b>ä»ä¸Šå¾€ä¸‹è¯»å–æŒ‡ä»¤å</b>ï¼Œä¼šå…ˆåˆ¤åˆ«å­˜å‚¨ä¸­æ˜¯å¦æœ‰å¯ç”¨çš„å·²å­˜å‚¨é•œåƒï¼Œåªæœ‰å·²å­˜å‚¨é•œåƒä¸å­˜åœ¨æ—¶ï¼Œæ‰ä¼šé‡æ–°æ„å»ºã€‚å¦åˆ™é‡å¤ä½¿ç”¨(reuse)å·²å­˜å‚¨é•œåƒã€‚</p><ul><li data-pid="j0Gtvyls">é€šå¸¸Dockerç®€å•åˆ¤å®šDockerfileä¸­çš„å‘½ä»¤ä¸é•œåƒ</li><li data-pid="rafO3TTD">æŒ‡é’ˆ<code>ADD</code>å’Œ<code>COPY</code>å‘½ä»¤ï¼ŒDockeråˆ¤æ–­åº”è¯¥é•œåƒå±‚æ¯ä¸ªè¢«å¤åˆ¶çš„æ–‡ä»¶çš„å†…å®¹å¹¶ç”Ÿæˆä¸€ä¸ªchecksumï¼ˆæ ¡éªŒå’Œï¼‰ï¼Œä¸ç°æœ‰é•œåƒæ¯”è¾ƒæ—¶ï¼Œæ¯”è¾ƒçš„æ˜¯äºŒæ–¹çš„æ ¡éªŒå’Œ</li><li data-pid="BDFm16df">å…¶ä»–æŒ‡ä»¤ï¼Œæ¯”å¦‚<code>RUN apt-get -y update</code>ï¼ŒDockerç®€å•æ¯”è¾ƒä¸ç°æœ‰é•œåƒä¸­çš„æŒ‡ä»¤å­—ç¬¦ä¸²æ˜¯å¦ä¸€è‡´</li><li data-pid="uAUPOkpM">å½“æŸä¸€å±‚cacheå¤±æ•ˆåï¼Œæ‰€æœ‰å±‚çº§çš„cacheå‡ä¸€å¹¶å¤±æ•ˆï¼Œåç»­æŒ‡ä»¤éƒ½é‡æ–°æ„å»ºé•œåƒ<br>å› æ­¤ï¼Œåœ¨æ„å»ºé•œåƒæ—¶ï¼Œåº”è¯¥å°½é‡æŠŠ<b>å¾ˆä¹…æ‰æ›´æ–°ä¸€æ¬¡çš„(æˆ–è€…å¯ä»¥è¯´ä¸åŠ¨çš„)å±‚æ”¾åœ¨ä¸‹é¢ï¼ŒæŠŠé¢‘ç¹æ›´æ–°çš„å±‚æ”¾åœ¨ä¸Šé¢</b>ã€‚ç”¨äºé˜²æ­¢ä¸€ä¸ªå±‚ç¼“å­˜å¤±æ•ˆåï¼Œè¯¥å±‚ä¹‹ä¸Šæ‰€æœ‰çš„å±‚éƒ½ç¼“å­˜å¤±æ•ˆçš„é—®é¢˜ã€‚<br>âš ï¸ å†å¤šè§£é‡Šä¸€ä¸‹ï¼Œå°±æ˜¯é‚£äº› ä¸ç¨³å®š çš„å‘½ä»¤å†™åœ¨å‰é¢ï¼ˆåœ¨ä¸‹å±‚ï¼‰ï¼Œé‚£äº› ç¨³å½“ çš„å†™åœ¨åé¢ï¼ˆåœ¨ä¸Šå±‚ï¼‰ï¼Œç¬¦åˆæ„å»ºç­–ç•¥~</li></ul><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>å¤šæ®µæ„å»º(Multi-stage build)</b></h3><p data-pid="YJRFkfxi">æœ‰ä¸€ç§åœºæ™¯ï¼Œæˆ‘æ¥æè¿°ä¸€ä¸‹ï¼š</p><blockquote data-pid="uUnMA860">æˆ‘ä»¬æ„å»ºä¸€ä¸ªä¸šåŠ¡ï¼Œéœ€è¦å¾ˆå¤šä¾èµ–åŒ…ï¼Œæ­£å¸¸æƒ…å†µä¸‹ æˆ‘ä»¬ å»æ‹‰å–ã€æ„å»ºã€ä½†æ˜¯æˆ‘ä»¬å¯èƒ½åªéœ€è¦æœ€åä¸€ä¸ªå†…å®¹æˆ–è€…æ–‡ä»¶ï¼Œæ‰€ä»¥ä¸­é—´å¾ˆå¤šä¾èµ–æˆ‘ä»¬å¯èƒ½éœ€è¦å»æ¸…ç†ã€åˆ é™¤ã€‚<br><b>åœºæ™¯</b>ï¼šæ­¤æ—¶éœ€ç¼–è¯‘ä¸€ä¸ªå®¹å™¨é•œåƒï¼Œè¯¥å®¹å™¨é•œåƒä¸­è¿è¡Œä¸€ä¸ªGOè¯­è¨€ç¼–å†™çš„è¿›ç¨‹ï¼Œè¯·ä»¥æœ€ç»ˆè¿è¡Œè¯¥è¿›ç¨‹çš„é•œåƒä½“ç§¯å°½å¯èƒ½å°ä¸ºç›®æ ‡ï¼Œç¼–è¯‘å®¹å™¨é•œåƒã€‚<br>GOè¯­è¨€çš„é¡¹ç›®é€šå¸¸æœ‰<code>vendor/</code>ç›®å½•ï¼Œå› æ­¤ç¼–è¯‘æ—¶éœ€è¦æ‹‰å–ç¬¬ä¸‰æ–¹ä¾èµ–åŒ…ã€‚éœ€è¦æ³¨æ„çš„æ˜¯,æ­¤æ—¶æ‹‰å–çš„æ˜¯ç¬¬ä¸‰æ–¹åŒ…çš„æºä»£ç ï¼Œæ‹‰å–ä¹‹åæ‰èƒ½å®Œæˆé¡¹ç›®çš„ç¼–è¯‘å·¥ä½œ/ä½†æœ€ç»ˆå®¹å™¨é•œåƒéœ€è¦çš„å¹¶ä¸æ˜¯è¿™äº›æºç ï¼Œä»…ä»…æ˜¯ç¼–è¯‘ä¹‹åçš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå¯æ˜¯ç¼–è¯‘çš„è¿‡ç¨‹åˆä¼šæŠŠæºä»£ç æ‹‰å–åˆ°æœ¬åœ°,è¿™äº›æºä»£ç ä¼šå½±å“æœ€ç»ˆç¼–è¯‘å‡ºæ¥çš„é•œåƒçš„ä½“ç§¯ã€‚å› æ­¤éœ€è¦å¤šæ®µæ„å»º~<br><b>å¤šæ®µæ„å»º</b>: åœ¨1ä¸ªDockerfileä¸­ï¼ŒæŒ‡å®šå¤šä¸ªè¦æ„å»ºçš„é•œåƒã€‚å…¶ä¸­ä¸€ä¸ªé•œåƒ(ä¸ºæ–¹ä¾¿æè¿°ç§°è¯¥é•œåƒä¸ºé•œåƒA)ç”¨äºç¼–è¯‘é¡¹ç›®ï¼Œå°†ç¼–è¯‘å¥½çš„äºŒè¿›åˆ¶æ–‡ä»¶æ”¾åˆ°æŒ‡å®šçš„ç›®å½•ï¼›å¦ä¸€ä¸ªé•œåƒç”¨äºè¿è¡Œè¯¥äºŒè¿›åˆ¶æ–‡ä»¶(ä¸ºæ–¹ä¾¿æè¿°ç§°è¯¥é•œåƒä¸ºé•œåƒB)ã€‚é•œåƒBä»é•œåƒAæŒ‡å®šçš„ç›®å½•ä¸­å°†äºŒè¿›åˆ¶æ–‡ä»¶å¤åˆ¶åˆ°é•œåƒBä¸­ï¼Œå¹¶è¿è¡Œè¯¥äºŒè¿›åˆ¶æ–‡ä»¶ã€‚<br>æ‰€ä»¥ä¸­é—´æœ‰å¾ˆå¤šæ²¡å¿…è¦çš„ä¾èµ–åŒ…ï¼Œæ¯”å¦‚è¯´æˆ‘ä»¬åªéœ€è¦æœ€åçš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚æ‰€ä»¥ docker æä¾›å¤šæ®µæ„å»ºï¼Œåˆ†æˆå¤šä¸ªéƒ¨åˆ†ï¼š<br> root@docker-test:/home/roach/dockerGoImg# cat Dockerfile <br> # ç¼–è¯‘ç”¨é•œåƒ<br> ARG GO_VERSION=1.17.6<br> # å‘½åç¼–è¯‘ç”¨é•œåƒä¸ºbuilder<br> FROM golang:${GO_VERSION} as builder<br> RUN mkdir -p /go/src/test<br> WORKDIR /go/src/test<br> COPY main.go .<br> RUN go mod init testGoProject<br> RUN CGO_ENABLED=0 GOOS=linux go build -o app .<br> â€‹<br> # è¿è¡Œç”¨é•œåƒ<br> FROM alpine:latest<br> RUN apk --no-cache add ca-certificates<br> WORKDIR /root/<br> # ä»é•œåƒbuilderå¤„å¤åˆ¶æ–‡ä»¶<br> COPY --from=builder /go/src/test/app .<br> CMD ["./app"]<br><b>æˆ‘ä»¬æŠŠä¸´æ—¶çš„ éƒ½æ”¾åœ¨ æ—©æœŸ <code>golang:${GO_VERSION} as builder</code></b><br><b>çœŸæ­£éœ€è¦çš„æ”¾åœ¨ <code>app</code> äºŒè¿›åˆ¶æ–‡ä»¶æ”¾åœ¨åé¢ ~</b></blockquote><p class="ztext-empty-paragraph"><br></p><h3><b>Dockerfile æœ€ä½³å®è·µå»ºè®®</b></h3><ul><li data-pid="RJXhrBnP">ä¸è¦å®‰è£…æ— æ•ˆè½¯ä»¶åŒ…</li><li data-pid="J_eo2wBw">åº”ç®€åŒ–é•œåƒä¸­åŒæ—¶è¿è¡Œçš„è¿›ç¨‹æ•°ï¼Œç†æƒ³çŠ¶å†µä¸‹ï¼Œæ¯ä¸ªé•œåƒåº”è¯¥åªæœ‰1ä¸ªè¿›ç¨‹<br></li><ul><li data-pid="8rLv15yF">è¿™æ ·åˆ©äºç®¡ç†å®¹å™¨ï¼šå½“æŠŠä¸€ä¸ªä¼ ç»Ÿå·¨çŸ³æ¶æ„çš„åº”ç”¨ç§»æ¤åˆ°å®¹å™¨å¹³å°æ—¶ï¼Œæƒ³è¦ä¸€ä¸‹å°±æˆä¸ºè¿™ç§1ä¸ªå®¹å™¨è¿è¡Œ1ä¸ªè¿›ç¨‹çš„æ¶æ„æ˜¯æ¯”è¾ƒå›°éš¾çš„ã€‚ç»å¸¸ä¼šæœ‰ä¸€äº›ä¼´ç”Ÿçš„è¿›ç¨‹ï¼Œæ‰€ä»¥è¿™åªæ˜¯æŒ‡å¯¼åŸåˆ™ï¼Œå½“åšä¸åˆ°çš„æ—¶å€™ï¼Œä¹Ÿä¼šæŠŠå¤šä¸ªè¿›ç¨‹æ”¾åœ¨åŒä¸€ä¸ªå®¹å™¨ä¸­ï¼Œè¿™æ—¶å°±è¦é€‰æ‹©åˆç†çš„åˆå§‹åŒ–è¿›ç¨‹.</li></ul></ul><p class="ztext-empty-paragraph"><br></p><ul><li data-pid="N50d8r4E">å½“æ— æ³•é¿å…åŒä¸€é•œåƒè¿è¡Œå¤šè¿›ç¨‹æ—¶ï¼Œåº”é€‰æ‹©åˆç†çš„åˆå§‹åŒ–è¿›ç¨‹(init process)</li><li data-pid="ondiUZJl">æœ€å°åŒ–å±‚çº§æ•°<br></li><ul><li data-pid="kwtIQHrG">æœ€æ–°çš„dockeråªæœ‰<code>RUN</code>ã€<code>COPY</code>ã€<code>ADD</code>æŒ‡ä»¤ä¼šåˆ›å»ºæ–°çš„å±‚ï¼Œå…¶ä»–æŒ‡ä»¤åˆ›å»ºçš„æ˜¯ä¸´æ—¶å±‚ï¼Œä¸ä¼šå½±å“æœ€ç»ˆé•œåƒçš„å¤§å°<br></li><ul><li data-pid="tCNYvtbn">æ¯”å¦‚<code>EXPOSE</code>æŒ‡ä»¤å°±ä¸ä¼šç”Ÿæˆæ–°çš„å±‚</li></ul></ul></ul><p class="ztext-empty-paragraph"><br></p><ul><ul><li data-pid="x75hbQ9H">é€šè¿‡å¤šæ®µæ„å»ºå‡å°‘é•œåƒå±‚æ•°</li><li data-pid="Xd9PBOSf">å°†å‘½ä»¤ç”¨<code>&amp;&amp;</code>è¿æ¥èµ·æ¥ï¼Œä»…æ‰§è¡Œ1æ¡<code>RUN</code>æŒ‡ä»¤ï¼Œå¯ä»¥å‡å°‘å±‚æ•°</li></ul></ul><p class="ztext-empty-paragraph"><br></p><ul><li data-pid="RtWDd-kK">æŠŠå¤šè¡Œå‚æ•°æŒ‰å­—æ¯æ’åºï¼Œå¯ä»¥å‡å°‘å¯èƒ½å‡ºç°çš„é‡å¤å‚æ•°ï¼Œå¹¶ä¸”æé«˜å¯è¯»æ€§</li><li data-pid="HmoDVU5O">ç¼–å†™Dockerfileæ—¶ï¼Œåº”è¯¥æŠŠå˜æ›´é¢‘ç‡ä½çš„ç¼–è¯‘æŒ‡ä»¤ä¼˜å…ˆæ„å»ºï¼Œä»¥ä¾¿æ”¾åœ¨é•œåƒåº•å±‚ï¼Œè¿™æ ·èƒ½å¤Ÿæœ‰æ•ˆåˆ©ç”¨æ„å»ºç¼“å­˜(build cache)</li><li data-pid="smxXuT04">å¤åˆ¶æ–‡ä»¶æ—¶ï¼Œæ¯ä¸ªæ–‡ä»¶åº”ç‹¬ç«‹å¤åˆ¶ï¼Œè¿™ç¡®ä¿æŸä¸ªæ–‡ä»¶å˜æ›´æ—¶ï¼Œåªå½±å“æ–‡ä»¶å¯¹åº”çš„ç¼“å­˜</li></ul><p data-pid="no-zW4-i"><b>ç›®æ ‡:æ˜“ç®¡ç†ã€å°‘æ¼æ´ã€é•œåƒå°ã€å±‚çº§å°‘ã€åˆ©ç”¨ç¼“å­˜</b></p><p class="ztext-empty-paragraph"><br></p><h3><b>å¤šè¿›ç¨‹çš„å®¹å™¨é•œåƒ</b></h3><p data-pid="bT3yZuNh">ä¸€èˆ¬æ¥è¯´ï¼Œéƒ½æ˜¯æ¨èå•è¿›ç¨‹çš„ï¼Œæ¯•ç«Ÿæ ¹æ® namespace åŸç†ï¼Œä¸€ä¸ªè¿›ç¨‹å¯¹åº”ä¸€ä¸ª appã€‚</p><p data-pid="1oZr_3Qq">ä½†æ˜¯æ€»ä¼šæœ‰ä¾èµ–çš„ï¼Œä¹Ÿå°±æ˜¯å¤šè¿›ç¨‹ã€‚</p><p data-pid="ZjDo0wXT">æ¨èåº”è¯¥é€‰æ‹©é€‚å½“çš„initè¿›ç¨‹</p><ul><li data-pid="WU0sLfcc">éœ€è¦æ•è·SIGTERMä¿¡å·å¹¶å®Œæˆå­è¿›ç¨‹çš„ä¼˜é›…ç»ˆæ­¢</li><li data-pid="R_sR6wQH">è´Ÿè´£æ¸…ç†é€€å‡ºçš„å­è¿›ç¨‹ä»¥é¿å…åƒµå°¸è¿›ç¨‹</li></ul><p data-pid="hmJ1Pcvv">è¿™æ–¹é¢ä¸Šå¦‚æœåšçš„ä¸å¥½,å°±ä¼šå‡ºç°å¾ˆå¤§é—®é¢˜:</p><p data-pid="zYUuOjWR">å½“Kubernetesè¦å»ç»ˆæ­¢ä¸€ä¸ªè¿›ç¨‹æ—¶ï¼Œä¼šå‘é€ä¸€ä¸ªSIGTERMç»ˆæ­¢ä¿¡å·ç»™å®¹å™¨ï¼Œä»¥ä¾¿å®¹å™¨èƒ½å¤Ÿä¼˜é›…é€€å‡ºã€‚ä½†å¦‚æœå®¹å™¨è¿™ä¸€ä¾§åšçš„ä¸å¤Ÿå¥½ï¼Œå°±ä¼šå‡ºç°é—®é¢˜ã€‚</p><p data-pid="lx3PdUaM">æ¯”å¦‚å®¹å™¨ä¸­æœ‰ä¸€ä¸ªåˆå§‹åŒ–è¿›ç¨‹ï¼ˆinitï¼‰ï¼Œç”¨äºæ‹‰èµ·ä¸»è¿›ç¨‹ã€‚åˆ™æ¥è‡ªKubernetesçš„SIGTERMä¿¡å·å‘é€åˆ°åˆå§‹åŒ–è¿›ç¨‹æ—¶ï¼Œåˆå§‹åŒ–è¿›ç¨‹å¹¶æ²¡æœ‰æŠŠä¿¡å·ä¼ é€’ç»™ä¸»è¿›ç¨‹ï¼Œè€Œæ˜¯ç›´æ¥æŠŠè¿™ä¸ªä¿¡å·ç»™æ— è§†äº†ã€‚è¿™æ ·åº”ç”¨å°±å¤±å»äº†ä¼˜é›…ç»ˆæ­¢çš„å¯èƒ½æ€§ï¼Œæœ€ç»ˆåº”ç”¨åªèƒ½è¢«<code>kill -9</code>ï¼Œæœ‰å¯èƒ½å¯¼è‡´ä¸šåŠ¡æ•…éšœã€‚</p><p data-pid="2BsZN2rM">æˆ–è®¸è¿™æ—¶å€™ä½ åº”è¯¥éœ€è¦ <a href="https://github.com/krallin/tini" target="_blank">Tini</a> - å°å·§ä½†é€‚ç”¨<code>init</code>äºå®¹å™¨ï¼Œ<code>init</code>Tini æ˜¯æ‚¨èƒ½æƒ³åˆ°çš„æœ€ç®€å•çš„ã€‚</p><p data-pid="M4V0LB_V">Tini æ‰€åšçš„åªæ˜¯ç”Ÿæˆä¸€ä¸ªå­è¿›ç¨‹ï¼ˆTini åº”è¯¥åœ¨å®¹å™¨ä¸­è¿è¡Œï¼‰ï¼Œå¹¶ç­‰å¾…å®ƒé€€å‡ºï¼ŒåŒæ—¶æ”¶å‰²åƒµå°¸å¹¶æ‰§è¡Œä¿¡å·è½¬å‘ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>docker tag ä¸ GitHub çš„ç‰ˆæœ¬ç®¡ç†</b></h3><p data-pid="UuNAj6gY"><b>ä»¥Kuberbetesä¸ºä¾‹ï¼š</b></p><ul><li data-pid="MZdcpClE">å¼€å‘åˆ†æ”¯<br></li><ul><li data-pid="ej-gPtXl"><code>git checkout master</code></li></ul></ul><p class="ztext-empty-paragraph"><br></p><ul><li data-pid="3BFpieOe">Releaseåˆ†æ”¯<br></li><ul><li data-pid="bIO2xEbj"><code>git checkout -b release-1.21</code></li></ul></ul><p class="ztext-empty-paragraph"><br></p><ul><li data-pid="i4jpYevy">åœ¨å¹¶è¡ŒæœŸï¼Œæ‰€æœ‰å˜æ›´åŒæ—¶è¿›<code>master</code>å’Œ<code>release branch</code></li><li data-pid="387JAQdL">ç‰ˆæœ¬å‘å¸ƒ<br></li><ul><li data-pid="dWDBNzZ9">ä»¥ <code>release branch</code>ä¸ºåŸºç¡€æ„å»ºé•œåƒ,å¹¶ä¸ºé•œåƒæ ‡è®°ç‰ˆæœ¬ä¿¡æ¯</li><li data-pid="vMHKwBZN"><code>docker tag 93b6fb6b8635 k8s.io/kubernetes.apiserver:v1.21</code></li></ul></ul><p class="ztext-empty-paragraph"><br></p><ul><li data-pid="V9Pp27cW">åœ¨githubä¸­ä¿å­˜<code>release</code>ä»£ç å¿«ç…§<br></li><ul><li data-pid="dFIrdBne"><code>git tag v1.21</code></li></ul></ul><p class="ztext-empty-paragraph"><br></p><blockquote data-pid="8OUtJeLN">æ­¤æ—¶ æ ‡ç­¾ å°±å¯¹ä¸Šäº†</blockquote><p class="ztext-empty-paragraph"><br></p><h3><b>docker ç§æœ‰ä»“åº“</b></h3><p data-pid="J9AEZkyZ">å¦‚ä»Šç§æœ‰ä»“åº“å‡ ä¹æ˜¯ä¼ä¸šå¿…å¤‡çš„éœ€æ±‚ï¼Œè€Œä¸”ä»¥å‰ docker åŸºç¡€æé«˜è¿‡ï¼š</p><p data-pid="HngIqzmI">åœ¨ <a href="https://docker.nsddd.top/Cloud-Native-k8s/15.html#%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93" target="_blank">k3s æ•™ç¨‹ä¸­</a> æˆ‘ä»¬è¡¥å……è¿‡ Kubernetes ã€ k3s ç§æœ‰æ³¨å†Œè¡¨çš„é…ç½®ï¼Œæˆ‘ä»¬å†æä¸€æï¼š</p><ul><li data-pid="o2HT20u8">docker hub : <a href="https://hub.docker.com/" target="_blank">https://hub.docker.com</a></li></ul><blockquote data-pid="8NmCwrWl">docker å®˜æ–¹é•œåƒæœ‰ <a href="https://docker.nsddd.top/" target="_blank">æ–‡æ¡£ï¼Œä¹‹å‰åšè¿‡ç¬”è®°</a>  å°±ä¸æäº†</blockquote><p data-pid="TT9jMVMX"><b>æŸ¥çœ‹ registry ç§æœ‰é•œåƒä»“åº“ï¼š</b></p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-10a6065bb1f380658215c405edc70a87_r.jpg" data-caption="" data-size="normal" width="2196" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p data-pid="B4YM-_5o"><b>ä½¿ç”¨registryé•œåƒåˆ›å»ºç§æœ‰ä»“åº“ï¼š</b></p><div class="highlight"><pre><code class="language-bash"> docker run -d -p å®¿ä¸»æœºç«¯å£:å®¹å™¨ç«¯å£ registry:TAG</code></pre></div><p data-pid="ZYNRfXA-">è¿è¡Œå®˜æ–¹æä¾›çš„<code>registry</code>é•œåƒã€‚(æ³¨ï¼šå®˜æ–¹å»ºè®®<code>TAG</code>ä¸º2)ï¼Œä½ è¿˜éœ€è¦çš„å‚æ•°ï¼š</p><ul><li data-pid="898XVgbG"><code>-v</code>ï¼Œ<code>--volume</code>ï¼šæŒ‚è½½å®¿ä¸»æœºä¸Šçš„æ–‡ä»¶å·åˆ°å®¹å™¨å†…ã€‚ä»“åº“é»˜è®¤è¢«åˆ›å»ºåœ¨å®¹å™¨çš„<code>/var/lib/registry</code>ç›®å½•ä¸‹ã€‚å¯ä½¿ç”¨è¯¥å‚æ•°æŒ‡å®šé•œåƒæ–‡ä»¶å­˜æ”¾çš„è·¯å¾„.</li></ul><p class="ztext-empty-paragraph"><br></p><h3><b>æ¡ˆä¾‹</b></h3><div class="highlight"><pre><code class="language-bash"> â¯ <span class="nb">export</span> <span class="nv">REG</span><span class="o">=</span><span class="s2">"/opt/data/registry"</span>
 â¯ mkdir -p <span class="nv">$REG</span><span class="p">;</span><span class="nb">cd</span> <span class="nv">$REG</span>
 â¯ docker run -d -p 5003:5000 -v <span class="nv">$REG</span>:/var/lib/registry registry:2
 30c6d0d0ac384d60f72c04e6fb479fab6baeb20fe64790248896b139b591e20a</code></pre></div><p data-pid="cSGtOblu"><b>æŸ¥çœ‹ç»“æœï¼š</b></p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-376934c717b5b5cf14445139b92c97e3_r.jpg" data-caption="" data-size="normal" width="2330" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>ç®¡ç†ç§æœ‰ä»“åº“</b></h3><p data-pid="pfEV0HXe">æˆ‘å½“å‰çš„ç¯å¢ƒï¼š</p><ul><li data-pid="v3gk6BUy">æ­å»ºç§æœ‰ä»“åº“è™šæ‹Ÿæœº Ubuntu-master01ï¼š<code>192.168.137.133</code></li><li data-pid="o6fJZQVw">ç§æœ‰ä»“åº“ç«¯å£å¦‚ä¸Šï¼š<code>5003</code></li><li data-pid="iDt5tBs-">å¦ä¸€å°å®¢æˆ·æœºï¼Œè™šæ‹Ÿæœºåœ°å€ï¼š<code>192.168.137.134</code></li></ul><p class="ztext-empty-paragraph"><br></p><p data-pid="nIyZsjWP"><b>åœ¨å®¢æˆ·æœºä¸Šæ‹‰å–é•œåƒ<code>ubuntu:18.04</code></b></p><div class="highlight"><pre><code class="language-bash"> <span class="c1"># docker pull ubuntu:18.04</span></code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="VqJG-vQT"><b>åœ¨å®¢æˆ·æœºä¸Šä½¿ç”¨<code>docker tag</code>å‘½ä»¤,å°†è¯¥é•œåƒæ ‡è®°ä¸º<code>192.168.137.133:5003/test</code></b></p><div class="highlight"><pre><code class="language-bash"> <span class="c1"># docker tag ubuntu:18.04 192.168.137.133:5003/test</span></code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="N96S68zw"><b>åœ¨å®¢æˆ·æœºä¸Šæ·»åŠ ä¿¡ä»»çš„ç§æœ‰ä»“åº“åˆ—è¡¨</b></p><div class="highlight"><pre><code class="language-bash"> <span class="c1"># cat /etc/docker/daemon.json </span>
 <span class="o">{</span>
     <span class="s2">"registry-mirrors"</span>: <span class="o">[</span><span class="s2">"https://sb6xpp51.mirror.aliyuncs.com"</span><span class="o">]</span>,
     <span class="s2">"insecure-registries"</span>: <span class="o">[</span>
         <span class="s2">"192.168.137.133:5003"</span>
     <span class="o">]</span>
 <span class="o">}</span></code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="EKXQqBON"><b>åœ¨å®¢æˆ·æœºä¸Šä½¿ç”¨<code>docker push</code>ä¸Šä¼ æ ‡è®°çš„é•œåƒ</b></p><div class="highlight"><pre><code class="language-bash"> <span class="c1"># docker push 192.168.137.133:5003/test</span></code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="qeLZE151"><b>åœ¨å®¢æˆ·æœºä¸Šä½¿ç”¨<code>curl</code>æŸ¥çœ‹ä»“åº“<code>192.168.0.152:5000</code>ä¸­çš„é•œåƒ</b></p><div class="highlight"><pre><code class="language-bash"> <span class="c1"># curl -XGET http://192.168.137.133:5003/v2/_catalog</span>
 <span class="o">{</span><span class="s2">"repositories"</span>:<span class="o">[</span><span class="s2">"test"</span><span class="o">]}</span></code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="qOx1olbi"><b>åœ¨å®¢æˆ·æœºä¸Šåˆ é™¤æ‰“è¿‡TAGçš„é•œåƒ,ä»¥ä¾¿åç»­æµ‹è¯•æ‹‰å–</b></p><div class="highlight"><pre><code class="language-bash"> <span class="c1"># docker images</span>
 <span class="c1"># docker rmi 192.168.137.133:5003/test</span>
 <span class="c1"># docker images</span>
 â€‹
 <span class="c1"># docker pull 192.168.137.133:5003/test</span>
 <span class="c1"># docker images</span></code></pre></div><p class="ztext-empty-paragraph"><br></p><h2><b>END é“¾æ¥</b></h2><ul><li data-pid="7zFiBQpB"><a href="typora://app/README.md" target="_blank">â“‚ï¸å›åˆ°ç›®å½• </a></li><li data-pid="XX2iA18P"><b><a href="https://nsddd.top/archives/contributors" target="_blank"> å‚ä¸è´¡çŒ® â¤ï¸â€  </a></b>)</li><li data-pid="XAeNb2mT">âœ´ï¸ç‰ˆæƒå£°æ˜ Â© ï¼šæœ¬ä¹¦æ‰€æœ‰å†…å®¹éµå¾ª<a href="http://zh.wikipedia.org/wiki/Wikipedia:CC-by-sa-3.0%E5%8D%8F%E8%AE%AE%E6%96%87%E6%9C%AC" target="_blank">CC-BY-SA 3.0åè®®ï¼ˆç½²å-ç›¸åŒæ–¹å¼å…±äº«ï¼‰Â©</a> </li></ul><p></p></div> </details> 
 <hr /> 

 #### - [Go è¯­è¨€çš„ Makefile æŒ‡å—](https://zhuanlan.zhihu.com/p/607940899) 
 <details><summary>ØªÙˆØ¶ÛŒØ­Ø§Øª</summary> <p><img src="https://picx.zhimg.com/v2-4958b319ed9a86053ff64b2cfd7f5632_720w.jpg?source=d16d100b"></p><div><ul><li data-pid="fiPV0jmO"><a href="https://github.com/cubxxw/iam" target="_blank">  å¼€æºåœ°å€</a></li></ul><h2><b>ç¬¬7èŠ‚ é«˜è´¨é‡çš„Makefile</b></h2><blockquote data-pid="pDL3hfQ5">â¤ï¸  During the winter vacation, I followed up and learned two projects: tiktok project and IAM project, and summarized and practiced the CloudNative project and Go language. I learned a lot in the process.Myblog:<a href="http://nsddd.top/" target="_blank">http://nsddd.top</a></blockquote><h2><b>ä½è´¨é‡çš„makefile</b></h2><p data-pid="S6RQdQlP">ä½è´¨é‡çš„ Makefile æ–‡ä»¶æ˜¯ä»€ä¹ˆæ ·çš„;</p><div class="highlight"><pre><code class="language-text"> â€‹
 build: clean vet
   @mkdir -p ./Role
   @export GOOS=linux &amp;&amp; go build -v .
 â€‹
 vet:
   go vet ./...
 â€‹
 fmt:
   go fmt ./...
 â€‹
 clean:
   rm -rf dashboard</code></pre></div><p data-pid="4-Av-3CE">ä¸Šé¢è¿™ä¸ª Makefile å­˜åœ¨ä¸å°‘é—®é¢˜ã€‚ä¾‹å¦‚ï¼šåŠŸèƒ½ç®€å•ï¼Œåªèƒ½å®Œæˆæœ€åŸºæœ¬çš„ç¼–è¯‘ã€æ ¼å¼åŒ–ç­‰æ“ä½œï¼Œåƒæ„å»ºé•œåƒã€è‡ªåŠ¨ç”Ÿæˆä»£ç ç­‰ä¸€äº›é«˜é˜¶çš„åŠŸèƒ½éƒ½æ²¡æœ‰ï¼›æ‰©å±•æ€§å·®ï¼Œæ²¡æ³•ç¼–è¯‘å‡ºå¯åœ¨ Mac ä¸‹è¿è¡Œçš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼›æ²¡æœ‰ Help åŠŸèƒ½ï¼Œä½¿ç”¨éš¾åº¦é«˜ï¼›å• Makefile æ–‡ä»¶ï¼Œç»“æ„å•ä¸€ï¼Œä¸é€‚åˆæ·»åŠ ä¸€äº›å¤æ‚çš„ç®¡ç†åŠŸèƒ½ã€‚</p><p data-pid="ilb9Y8za">æ‰€ä»¥ï¼Œæˆ‘ä»¬ä¸å…‰è¦ç¼–å†™ Makefileï¼Œè¿˜è¦ç¼–å†™é«˜è´¨é‡çš„ Makefileã€‚é‚£ä¹ˆå¦‚ä½•ç¼–å†™ä¸€ä¸ªé«˜è´¨é‡çš„ Makefile å‘¢ï¼Ÿæˆ‘è§‰å¾—ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹ 4 ä¸ªæ–¹æ³•æ¥å®ç°ï¼š</p><ul><li data-pid="t_q4uHDU">æ‰“å¥½åŸºç¡€ï¼Œä¹Ÿå°±æ˜¯ç†Ÿç»ƒæŒæ¡ <code>Makefile</code> çš„è¯­æ³•ã€‚</li><li data-pid="rDi2DQE9">åšå¥½å‡†å¤‡å·¥ä½œï¼Œä¹Ÿå°±æ˜¯æå‰è§„åˆ’ <code>Makefile</code> è¦å®ç°çš„åŠŸèƒ½ã€‚</li><li data-pid="igHAaUnH">è¿›è¡Œè§„åˆ’ï¼Œè®¾è®¡ä¸€ä¸ªåˆç†çš„ <code>Makefile</code> ç»“æ„ã€‚</li><li data-pid="0buN8nEy">æŒæ¡æ–¹æ³•ï¼Œç”¨å¥½ <code>Makefile</code> çš„ç¼–å†™æŠ€å·§ã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><h2><b>makefile å¦‚ä½•å·¥ä½œ</b></h2><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-eeb128713961264aca17ebb0ff296744_r.jpg" data-caption="" data-size="normal" width="1344" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><p data-pid="0EI3qKPv"><b>makefileè§„åˆ™ï¼š</b></p><div class="highlight"><pre><code class="language-bash"> target ... : prerequisites ...
     <span class="nb">command</span>
     ...
     ...</code></pre></div><ul><li data-pid="Y7xRbjLF"><b>target</b><br></li><ul><li data-pid="w8H1Tuo-">å¯ä»¥æ˜¯ä¸€ä¸ªobject fileï¼ˆç›®æ ‡æ–‡ä»¶ï¼‰ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªæ‰§è¡Œæ–‡ä»¶ï¼Œè¿˜å¯ä»¥æ˜¯ä¸€ä¸ªæ ‡ç­¾ï¼ˆlabelï¼‰ã€‚å¯¹äºæ ‡ç­¾è¿™ç§ç‰¹æ€§ï¼Œåœ¨åç»­çš„â€œä¼ªç›®æ ‡â€ç« èŠ‚ä¸­ä¼šæœ‰å™è¿°ã€‚</li></ul></ul><p class="ztext-empty-paragraph"><br></p><ul><li data-pid="CPhVxgmf"><b>prereqisites</b><br></li><ul><li data-pid="bzizLq4R">ç”Ÿæˆè¯¥targetæ‰€ä¾èµ–çš„æ–‡ä»¶å’Œ/æˆ–target</li></ul></ul><p class="ztext-empty-paragraph"><br></p><ul><li data-pid="nAHdMmmg"><b>command</b><br></li><ul><li data-pid="uORF_cRM">è¯¥targetè¦æ‰§è¡Œçš„å‘½ä»¤ï¼ˆä»»æ„çš„shellå‘½ä»¤ï¼‰</li></ul></ul><p class="ztext-empty-paragraph"><br></p><blockquote data-pid="rqdWyqsM">prerequisitesä¸­å¦‚æœæœ‰ä¸€ä¸ªä»¥ä¸Šçš„æ–‡ä»¶æ¯”targetæ–‡ä»¶è¦æ–°çš„è¯ï¼Œcommandæ‰€å®šä¹‰çš„å‘½ä»¤å°±ä¼šè¢«æ‰§è¡Œã€‚</blockquote><p class="ztext-empty-paragraph"><br></p><h3><b>Build and Run</b></h3><p data-pid="EwTjYDgX"><b>é¦–å…ˆä¸¤ä¸ªç‰¹åˆ«é¢‘ç¹çš„æŒ‡ä»¤åŠ è¿›å»ï¼š</b></p><div class="highlight"><pre><code class="language-bash"> build: 
     go build -o stringifier main.go
 â€‹
 run:
     go run -race main.gobuild: </code></pre></div><p data-pid="uLhECrjh">æˆ‘åœ¨è¿è¡Œå‘½ä»¤ä¸­æ·»åŠ äº†<code>-race</code>æ ‡å¿—ï¼Œæ–¹ä¾¿å®ƒåœ¨è¿è¡Œæ—¶åœ¨Goä»£ç ä¸­æ£€æµ‹åˆ°<code>race</code>æƒ…å†µã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>Cleaning and DRYing</b></h3><p data-pid="ECF1Y7In">æ„å»ºäºŒè¿›åˆ¶æ–‡ä»¶å¹¶è¿è¡Œåº”ç”¨ç¨‹åºåï¼Œä¸€åˆ‡æ­£å¸¸, ç¡®ä¿æˆ‘ä»¬åœ¨æ‰§è¡Œå…¶ä»–ä»»ä½•æ“ä½œä¹‹å‰å…ˆæ¸…ç†äºŒè¿›åˆ¶æ–‡ä»¶ã€‚æˆ‘ä»¬æ›´æ–°<code>Makefile</code>åº”è¯¥çœ‹èµ·æ¥åƒè¿™æ ·ï¼š</p><div class="highlight"><pre><code class="language-go"> <span class="nx">clean</span><span class="p">:</span>
     <span class="k">go</span> <span class="nx">clean</span><span class="p">:</span>
</code></pre></div><p data-pid="Z35yoEq3"><b>æˆ‘ä»¬æœ‰ä¸¤ç‚¹å¯ä»¥æ”¹è¿›</b>:</p><ol><li data-pid="Y3yQ30VM">æˆ‘ä»¬æ˜ç¡®åœ°é‡ç”¨äº†æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå, å¾ˆè‡ªç„¶æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºåç§°å°†åœ¨æ•´ä¸ª<code>Makefile</code>ä¸­çš„è®¸å¤šåœ°æ–¹ä½¿ç”¨ã€‚</li><li data-pid="Lljt60Kq">æ¯æ¬¡æ„å»ºåº”ç”¨ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆæ‰§è¡Œ<code>clean</code>çš„è§„åˆ™ã€‚</li></ol><p data-pid="7s7kyQKq"><b>æ”¹è¿›åçš„<code>Makefile</code></b></p><div class="highlight"><pre><code class="language-text"> APP=stringifier
 â€‹
 build: clean
     go build -o ${APP} main.go
 â€‹
 run:
     go run -race main.go
 â€‹
 clean:
     go clean</code></pre></div><p data-pid="L1L0fLzo"><b>æ›´æ–°</b>: è¿™ä¸ªä¾‹å­ä¹‹å‰ä½¿ç”¨çš„<code>rm -r ${APP}</code>ï¼Œç°åœ¨ä½¿ç”¨<code>go clean</code>ã€‚</p><p data-pid="l-D09IZU">åœ¨é¡¶éƒ¨å®šä¹‰<code>Makefile</code>å˜é‡ï¼Œå½“æ‚¨è°ƒç”¨<code>make</code>å‘½ä»¤æ—¶makeå°†è‡ªåŠ¨å¼•ç”¨å®ƒä»¬ï¼Œè¿™æ ·<code>Makefile</code>çœ‹èµ·æ¥å°±æ›´æ•´æ´ã€è§„èŒƒäº†ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>PHONY targets</b></h3><p data-pid="ISFQmuEH">åœ¨ Makefile ä¸­ï¼Œ<code>.PHONY</code> æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ç›®æ ‡ï¼ˆtargetï¼‰ï¼Œå®ƒç”¨äºå®šä¹‰é‚£äº›ä¸è¡¨ç¤ºå®é™…æ–‡ä»¶çš„ä¼ªç›®æ ‡ï¼ˆphony targetï¼‰ã€‚</p><p data-pid="kqAFuSza">å½“ Makefile æ‰§è¡Œæ—¶ï¼Œå®ƒä¼šæ£€æŸ¥å®šä¹‰çš„ç›®æ ‡æ˜¯å¦å·²ç»å­˜åœ¨æˆ–æ˜¯å¦éœ€è¦æ›´æ–°ã€‚å¯¹äºä¼ªç›®æ ‡ï¼Œç”±äºå®ƒä»¬ä¸è¡¨ç¤ºä»»ä½•å®é™…æ–‡ä»¶ï¼Œå› æ­¤ Makefile æ— æ³•æ£€æŸ¥å®ƒä»¬æ˜¯å¦å·²ç»å­˜åœ¨æˆ–æ˜¯å¦éœ€è¦æ›´æ–°ã€‚ä¸ºäº†é¿å…è¯¯åˆ¤ï¼Œ<b>å¯ä»¥ä½¿ç”¨ <code>.PHONY</code> æ¥æ˜ç¡®å‘Šè¯‰ Makefile å“ªäº›ç›®æ ‡æ˜¯ä¼ªç›®æ ‡ï¼Œä»¥ä¾¿åœ¨æ‰§è¡Œæ—¶è·³è¿‡å¯¹è¿™äº›ç›®æ ‡çš„æ£€æŸ¥ã€‚</b></p><p data-pid="VHVqXYIv">ä¾‹å¦‚ï¼Œå‡è®¾ Makefile ä¸­å®šä¹‰äº†ä¸€ä¸ª clean ç›®æ ‡ç”¨äºåˆ é™¤ç”Ÿæˆçš„æ–‡ä»¶ï¼Œä½†æ˜¯ clean å¹¶ä¸è¡¨ç¤ºä»»ä½•å®é™…çš„æ–‡ä»¶ï¼Œåªæ˜¯ä¸€ä¸ªä¼ªç›®æ ‡ã€‚é‚£ä¹ˆï¼Œä¸ºäº†ç¡®ä¿ Makefile åœ¨æ‰§è¡Œæ—¶ä¸ä¼šå°† clean å½“æˆä¸€ä¸ªæ–‡ä»¶æ¥æ£€æŸ¥ï¼Œå¯ä»¥åœ¨ Makefile ä¸­æ·»åŠ å¦‚ä¸‹å£°æ˜ï¼š</p><div class="highlight"><pre><code class="language-text"> .PHONY: clean
 â€‹
 clean:
     rm -f *.o myprogram</code></pre></div><blockquote data-pid="FoeR5CQk">è¿™æ ·ï¼Œå½“æ‰§è¡Œ "make clean" å‘½ä»¤æ—¶ï¼ŒMakefile ä¼šè·³è¿‡å¯¹ clean ç›®æ ‡çš„æ–‡ä»¶æ£€æŸ¥ï¼Œç›´æ¥æ‰§è¡Œæ¸…ç†å‘½ä»¤ã€‚åŒæ—¶ï¼Œå¦‚æœæˆ‘ä»¬åœ¨ Makefile ä¸­å®šä¹‰äº†ä¸€ä¸ªä¸ clean ç›¸åŒåå­—çš„æ–‡ä»¶ï¼ŒMakefile ä¹Ÿä¸ä¼šå°†å…¶ä¸ clean ç›®æ ‡æ··æ·†ã€‚å› æ­¤ï¼Œä½¿ç”¨ <code>.PHONY</code> å£°æ˜ä¼ªç›®æ ‡å¯ä»¥æé«˜ Makefile çš„å¯è¯»æ€§å’Œå¯é æ€§ã€‚</blockquote><p data-pid="6Y9geE4k"><b>é»˜è®¤æƒ…å†µä¸‹</b>ï¼Œå¦‚æœä¸€ä¸ªå‰ç½®æ¡ä»¶æˆ–æ˜¯ç›®å½•æ–‡ä»¶å·²æ›´æ”¹ï¼Œ<code>make</code>å°†æ‰§è¡Œè§„åˆ™ã€‚ä½†æ˜¯ç”±äºæˆ‘ä»¬ä¸ä¾èµ–äº<code>make</code>æ¥æ£€æµ‹æ–‡ä»¶æ›´æ”¹çš„èƒ½åŠ›ï¼Œå› æ­¤æˆ‘ä»¬ä¼šé‡åˆ°æ½œåœ¨çš„éº»çƒ¦ã€‚</p><p data-pid="k5P1CRbp">å‡è®¾æˆ‘ä»¬çš„é¡¹ç›®ç›®å½•ä¸­æœ‰ä¸€ä¸ªåä¸º <code>build</code> çš„æ–‡ä»¶, åœ¨è¿™ä¸ªåœºæ™¯ä¸‹ï¼Œå½“ä½ æ‰§è¡Œ<code>make build</code>, makeä¸€å®šä¼šæ£€æŸ¥æ–‡ä»¶buildçš„æ›´æ”¹ï¼Œç”±äºæ²¡æœ‰å‰ç½®æ¡ä»¶ï¼Œå› æ­¤å°†å§‹ç»ˆå°†<code>build</code>æ–‡ä»¶è§†ä¸ºæœ€æ–°çš„ï¼Œå¹¶ä¸”ä¸ä¼šæ‰§è¡Œå…¶è§„åˆ™å®šä¹‰çš„æ“ä½œã€‚</p><p data-pid="t3DvUhYo">ä¸ºäº†é¿å…è¿™ä¸ªé—®é¢˜ï¼Œä½ éœ€è¦å…ˆçŸ¥é“<code>.PHONY</code> ç‰¹æ®Šç›®å½•(target)æ˜¯ä»€ä¹ˆæ„æ€ï¼š<b>ç‰¹æ®Šç›®æ ‡<code>.PHONY</code>çš„å…ˆå†³æ¡ä»¶è¢«è§†ä¸ºphonyç›®æ ‡ï¼ˆtargets)ã€‚ å½“éœ€è¦è¿è¡Œæ—¶ï¼Œmakeä¼šæ— æ¡ä»¶è¿è¡Œå…¶è§„åˆ™ï¼Œè€Œä¸ç®¡è¯¥åç§°çš„æ–‡ä»¶æ˜¯å¦å­˜åœ¨æˆ–å…¶æœ€åä¿®æ”¹æ—¶é—´æ˜¯å¤šå°‘ã€‚</b></p><p data-pid="TDaJ_yvn">æ‰€ä»¥ï¼Œä½ å¯ä»¥é€šè¿‡å°†ç›®æ ‡ï¼ˆtargetï¼‰æŒ‡å®šä¸ºç‰¹æ®Šç›®æ ‡<code>.PHONY</code>çš„å…ˆå†³æ¡ä»¶ï¼Œå°†ç›®æ ‡æŒ‡å®šä¸º<code>.PHONY</code>ã€‚</p><div class="highlight"><pre><code class="language-text"> APP=stringifier
 â€‹
 .PHONY: build
 build: clean
     go build -o ${APP} main.go
 â€‹
 .PHONY: run
 run:
     go run -race main.go
 â€‹
 .PHONY: clean
 clean:
     go clean</code></pre></div><p data-pid="f9gtaCbI">ç°åœ¨ä½ å·²å°†ä¸Šè¿°æ‰€æœ‰çš„<code>targets</code>æŒ‡å®šä¸º<code>phony</code>, æ¯æ¬¡ä½ è°ƒç”¨ä»»ä½•<code>phony</code>ç›®æ ‡ï¼ˆtarget) æ—¶ï¼Œmakeå°†ä¼šæ‰§è¡Œç›¸åº”çš„è§„åˆ™ã€‚ä½ è¿˜å¯ä»¥ä¸€æ¬¡å°†æ‰€æœ‰è¦æŒ‡å®šä¸º<code>phony</code>çš„ç›®æ ‡æŒ‡å®šä¸º:</p><div class="highlight"><pre><code class="language-text"> .PHONY: build clean run</code></pre></div><p data-pid="CU0g9v7o">ä½†æ˜¯å¯¹äºéå¸¸å¤§çš„Makefileï¼Œä¸å»ºè®®è¿™æ ·åšå› ä¸ºè¿™å¯èƒ½å¯¼è‡´æ­§ä¹‰å’Œæ— æ³•è¯»å–ã€‚å› æ­¤ï¼Œé¦–é€‰æ–¹æ³•æ˜¯åœ¨è§„åˆ™å®šä¹‰ä¹‹å‰æ˜¾å¼è®¾ç½®<code>phony</code>ç›®æ ‡ï¼ˆtargetï¼‰ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>Recursive Make targets</b></h3><p data-pid="nmTg7yDE">å½“ Makefile åŒ…å«å¤šä¸ªç›®æ ‡æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ Makefile ä¸­ä½¿ç”¨é€’å½’ Make æ¥æ„å»ºè¿™äº›ç›®æ ‡ã€‚é€’å½’ Make æŒ‡çš„æ˜¯åœ¨ Makefile ä¸­è°ƒç”¨å¦ä¸€ä¸ª Makefile æ¥æ„å»ºå…¶ä¸­çš„ç›®æ ‡ã€‚</p><p data-pid="Z9D92nzG">åœ¨é€’å½’ Make ä¸­ï¼Œé€šå¸¸æœ‰ä¸€ä¸ªé¡¶å±‚ Makefileï¼Œè¯¥ Makefile è°ƒç”¨å…¶ä»– Makefile æ¥æ„å»ºå­ç›®å½•ä¸­çš„ç›®æ ‡ã€‚è¿™æ ·çš„ Makefile è¢«ç§°ä¸º "é€’å½’ Makefile"ï¼Œè€Œç”±è¿™ä¸ª Makefile è°ƒç”¨çš„ Makefile è¢«ç§°ä¸º "å­ Makefile"ã€‚</p><p data-pid="StErajZq">åœ¨é€’å½’ Make ä¸­ï¼Œæ¯ä¸ªå­ Makefile è´Ÿè´£æ„å»ºå®ƒæ‰€åœ¨çš„ç›®å½•ä¸­çš„ç›®æ ‡ï¼Œç„¶åå°†æ„å»ºçš„ç»“æœè¿”å›ç»™çˆ¶ Makefileã€‚é€’å½’ Make çš„ä¸€ä¸ªå¸¸è§çš„é—®é¢˜æ˜¯ï¼Œå½“åœ¨å­ç›®å½•ä¸­è°ƒç”¨ Make å‘½ä»¤æ—¶ï¼Œå¯èƒ½ä¼šç ´åçˆ¶ç›®å½•ä¸­çš„å˜é‡è®¾ç½®å’Œè§„åˆ™ï¼Œå› æ­¤éœ€è¦å°å¿ƒåœ°è®¾ç½®å˜é‡å’Œè§„åˆ™ï¼Œä»¥é¿å…ä¸å¿…è¦çš„å†²çªã€‚</p><p data-pid="630aYW_T">é€’å½’ Make çš„ä¸€ç§å¸¸è§ç”¨æ³•æ˜¯ä½¿ç”¨ä¸€ä¸ªç§°ä¸ºâ€œé€’å½’å˜é‡â€çš„ç‰¹æ®Šå˜é‡ã€‚é€’å½’å˜é‡çš„å€¼å¯ä»¥åŒ…å«è°ƒç”¨å¦ä¸€ä¸ª Makefile çš„å‘½ä»¤ï¼Œè¿™ä¸ªå‘½ä»¤ä¼šè¿”å›ä¸€ä¸ªå€¼ï¼Œå¯ä»¥è¢«é€’å½’å˜é‡ä½¿ç”¨ã€‚é€’å½’å˜é‡åœ¨é€’å½’ Make ä¸­éå¸¸æœ‰ç”¨ï¼Œå› ä¸ºå®ƒä»¬å¯ä»¥å¸®åŠ©å­ Makefile è·å¾—çˆ¶ Makefile ä¸­çš„å˜é‡å€¼ã€‚</p><p data-pid="1pKZKdGL">ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º "Makefile" çš„æ–‡ä»¶ï¼Œå…¶å†…å®¹å¦‚ä¸‹ï¼š</p><div class="highlight"><pre><code class="language-text">codeSUBDIRS = foo bar baz

.PHONY: all $(SUBDIRS)

all: $(SUBDIRS)

$(SUBDIRS):
    $(MAKE) -C $@</code></pre></div><p data-pid="0A5r8EQc">åœ¨ä¸Šé¢çš„ Makefile ä¸­ï¼Œ"SUBDIRS" å˜é‡å®šä¹‰äº†é¡¹ç›®çš„å­ç›®å½•åç§°ã€‚"all" æ˜¯ä¸€ä¸ªä¼ªç›®æ ‡ï¼Œå®ƒå°†è°ƒç”¨æ¯ä¸ªå­ç›®å½•ä¸­çš„ Makefile æ¥æ„å»ºæ‰€æœ‰ç›®æ ‡ã€‚</p><p data-pid="EjuSvr3e">$(SUBDIRS) æ˜¯ä¸€ä¸ªè‡ªåŠ¨å˜é‡ï¼Œå®ƒä¼šå±•å¼€ä¸º "foo bar baz"ã€‚å› æ­¤ï¼Œå½“æˆ‘ä»¬è¿è¡Œ "make all" å‘½ä»¤æ—¶ï¼Œå®ƒå°†é¦–å…ˆè°ƒç”¨ "make foo"ï¼Œç„¶ååœ¨ "foo" ç›®å½•ä¸­è¿è¡Œ "make" å‘½ä»¤æ¥æ„å»º "foo" ç›®å½•ä¸­çš„ç›®æ ‡ã€‚æ¥ç€å®ƒä¼šä¾æ¬¡è°ƒç”¨ "make bar" å’Œ "make baz" å‘½ä»¤ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p><p data-pid="3PvPSzJ8">åœ¨å­ç›®å½•çš„ Makefile ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å’Œæ™®é€š Makefile ä¸­ä¸€æ ·çš„è§„åˆ™å’Œå˜é‡å®šä¹‰æ¥æ„å»ºå­ç›®å½•ä¸­çš„ç›®æ ‡ã€‚è¿™ç§æ–¹å¼å¯ä»¥å¸®åŠ©æˆ‘ä»¬è½»æ¾åœ°ç®¡ç†å¤æ‚çš„é¡¹ç›®ï¼Œé¿å…ä»£ç é‡å¤ï¼Œå¹¶æé«˜ Makefile çš„å¯é‡ç”¨æ€§ã€‚</p><p data-pid="PDT_7LLW">ç°åœ¨è®©æˆ‘ä»¬å‡è®¾æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­ä½¿ç”¨çš„æ ¹ç›®å½•ä¸­è¿˜æœ‰å¦ä¸€ä¸ªæ¨¡å—<code>tokenizer</code>ã€‚ç°åœ¨æˆ‘ä»¬çš„ç›®å½•ç»“æ„æ˜¯è¿™æ ·çš„ï¼š</p><div class="highlight"><pre><code class="language-bash"> ~/programming/stringifier
 .
 â”œâ”€â”€ main.go
 â”œâ”€â”€ Makefile
 â””â”€â”€ tokenizer/
       â”œâ”€â”€ main.go
       â””â”€â”€ Makefile~/programming/stringifier</code></pre></div><p data-pid="UG6ViVYp">å¾ˆè‡ªç„¶ï¼ŒæŸäº›æ—¶å€™æˆ‘ä»¬ä¹Ÿæƒ³<code>build</code>å’Œ<code>test</code>æˆ‘ä»¬çš„<code>tokenizer</code>æ¨¡å—ã€‚ç”±äºå®ƒæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ¨¡å—ä¹Ÿå¯èƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„é¡¹ç›®ï¼Œåœ¨å®ƒçš„ç›®å½•æœ‰å¦‚ä¸‹å†…å®¹çš„ä¸€ä¸ª<code>Makefile</code>æ˜¯å¾ˆæœ‰å¿…è¦çš„ï¼š</p><div class="highlight"><pre><code class="language-text"> # ~/programming/stringifier/tokenizer/Makefile
 â€‹
 APP=tokenizer
 â€‹
 build:
     go build -o ${APP} main.go</code></pre></div><p data-pid="-TDc9eVw">ç°åœ¨åªè¦æ‚¨åœ¨<code>stringifier</code>é¡¹ç›®çš„æ ¹ç›®å½•ä¸­å¹¶ä¸”æƒ³è¦æ„å»º<code>tokenizer</code>åº”ç”¨ç¨‹åºï¼Œä½ ä¸ä¼šæƒ³ä½¿ç”¨è¯¸å¦‚<code>cd tokenizer &amp;&amp; make build &amp;&amp; cd -</code>è¿™æ ·çš„æ˜“å—æ”»å‡»çš„å‘½ä»¤è¡ŒæŠ€å·§ï¼Œè€Œå…·ä½“çš„<code>Makefiles</code>çš„è§„åˆ™å†™åœ¨å­ç›®å½•ä¸­çš„æ–¹å¼ã€‚å¹¸è¿çš„æ˜¯ï¼Œ<code>make</code>å¯ä»¥å¸®åŠ©ä½ è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ä½ å¯ä»¥ä½¿ç”¨<code>-C</code>æ ‡å¿—å’Œç‰¹æ®Šçš„<code>${NAME}</code>å˜é‡åœ¨å…¶ä»–ç›®å½•ä¸­è°ƒç”¨<code>make targets</code>ã€‚ä¸‹é¢æ˜¯<code>stringifies</code>é¡¹ç›®æœ€åˆçš„Makefile:</p><div class="highlight"><pre><code class="language-text"># ~/programming/stringifier/Makefile

APP=stringifier


.PHONY: build
build: clean
	go build -o ${APP} main.go

.PHONY: run
run:
	go run -race main.go

.PHONY: clean
clean:
	go clean

.PHONY: build-tokenizer
build-tokenizer:
	${MAKE} -C tokenizer build</code></pre></div><p data-pid="Qc15moAn">ç°åœ¨åªè¦ä½ è¿è¡Œ<code>make build-tokenizer</code>ï¼Œ<code>make</code>éƒ½å°†ä¸ºæ‚¨å¤„ç†ç›®å½•åˆ‡æ¢ï¼Œå¹¶ä»¥æ›´åŠ å¯è¯»å’Œå¥å£®çš„æ–¹å¼ä¸ºæ‚¨è°ƒç”¨æ­£ç¡®ç›®å½•ä¸­çš„æ­£ç¡®ç›®æ ‡</p><p data-pid="l8lZpOW0"><b><code>-c</code> æ ‡å¿—å’Œç‰¹æ®Šçš„ <code>${NAME}</code>:</b></p><ol><li data-pid="YMUjha0C"><code>-C</code> æ ‡å¿—ï¼šæŒ‡å®š Makefile æ–‡ä»¶çš„ç›®å½•ï¼Œè®© make å‘½ä»¤åœ¨æŒ‡å®šçš„ç›®å½•ä¸‹æ‰§è¡Œ Makefile æ–‡ä»¶ã€‚ä¾‹å¦‚ï¼š<br> all:<br>  cd subdir &amp;&amp; $(MAKE)<br>ä¸Šè¿° Makefile ä¸­çš„ <code>$(MAKE)</code> å‘½ä»¤ä¼šåœ¨å½“å‰ç›®å½•ä¸‹çš„ <code>subdir</code> ç›®å½•ä¸­æ‰§è¡Œ Makefile æ–‡ä»¶ã€‚å¯ä»¥ä½¿ç”¨ <code>-C</code> æ ‡å¿—æ¥è¾¾åˆ°åŒæ ·çš„æ•ˆæœï¼š<br> all:<br>  $(MAKE) -C subdir</li><li data-pid="kzAY92si"><code>${NAME}</code> å˜é‡ï¼šåœ¨ Makefile ä¸­ä½¿ç”¨ <code>${NAME}</code> å˜é‡å¯ä»¥å¼•ç”¨ç¯å¢ƒå˜é‡ä¸­çš„å€¼ï¼Œä¾‹å¦‚ï¼š<br> all:<br>  echo "PATH is ${PATH}"<br>ä¸Šè¿° Makefile ä¸­çš„ <code>${PATH}</code> å˜é‡ä¼šå±•å¼€ä¸ºå½“å‰ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸­çš„ <code>PATH</code> å€¼ã€‚</li></ol><p data-pid="42udb5yH">ä»¥ä¸‹æ˜¯ä¸€ä¸ªç”¨ Go è¯­è¨€ç¼–å†™çš„ Makefile ç¤ºä¾‹ï¼Œå…¶ä¸­ä½¿ç”¨äº† <code>-C</code> æ ‡å¿—å’Œ <code>${NAME}</code> å˜é‡ï¼š</p><div class="highlight"><pre><code class="language-text"> # Makefile
 â€‹
 APP_NAME := my-app
 â€‹
 .PHONY: build
 build:
     cd cmd/my-app &amp;&amp; go build -o ../../bin/$(APP_NAME)
 â€‹
 .PHONY: test
 test:
     go test ./...
 â€‹
 .PHONY: clean
 clean:
     rm -rf bin/*
 â€‹
 .PHONY: build-docker
 build-docker: build
     docker build -t $(APP_NAME) .
 â€‹
 .PHONY: run-docker
 run-docker: build-docker
     docker run -p 8080:8080 $(APP_NAME)
 â€‹
 .PHONY: deploy
 deploy: build-docker
     ssh ${SSH_USER}@${SSH_HOST} "docker pull $(APP_NAME); docker stop $(APP_NAME) || true; docker rm $(APP_NAME) || true; docker run -p 8080:8080 -d --name $(APP_NAME) $(APP_NAME)"</code></pre></div><p data-pid="WzZeJMl2">ä¸Šè¿° Makefile ä¸­ï¼Œ<code>build-docker</code>ã€<code>run-docker</code> å’Œ <code>deploy</code> ç­‰ç›®æ ‡ä¸­ä½¿ç”¨äº† <code>${APP_NAME}</code> å˜é‡æ¥æŒ‡å®š Docker é•œåƒçš„åç§°ï¼ŒåŒæ—¶ä½¿ç”¨äº† <code>-C</code> æ ‡å¿—æ¥åœ¨å­ç›®å½•ä¸­æ‰§è¡Œå‘½ä»¤ï¼Œä¾‹å¦‚ <code>build</code> ç›®æ ‡ä¸­çš„ <code>cd cmd/my-app &amp;&amp; go build</code> å‘½ä»¤ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>Targets for Docker commands</b></h3><p data-pid="vpxJnXA9">ç°åœ¨æ‚¨å¸Œæœ›å¯¹åº”ç”¨ç¨‹åºè¿›è¡Œå®¹å™¨åŒ–ï¼Œç„¶åä¸ºæ–¹ä¾¿èµ·è§ç¼–å†™makeç›®æ ‡ï¼Œè¿™æ˜¯å®Œå…¨å¯ä»¥ç†è§£çš„ã€‚</p><p data-pid="e7KkV8KM">ä½ ä¸ºdockerå‘½ä»¤å®šä¹‰äº†å¦‚ä¸‹è§„åˆ™ï¼š</p><div class="highlight"><pre><code class="language-text"> .PHONY: docker-build
 docker-build: build
     docker build -t stringifier .
     docker tag stringifier stringifier:tag
 â€‹
 .PHONY: docker-push
 docker-push: docker-build
     docker push gcr.io/stringifier/stringifier-staging/stringifier:tag</code></pre></div><p data-pid="ovXzDlzD">dockerå‘½ä»¤åŸºæœ¬æ»¡è¶³éœ€è¦ï¼Œä½†æ˜¯è¿˜æœ‰æ”¹å–„çš„ç©ºé—´ï¼Œ</p><ul><li data-pid="gRVGKT2I">å¯¹äºæ–°æ‰‹ï¼Œä½ å¯ä»¥å†æ¬¡é‡ç”¨ä½ çš„<code>${APP}</code>å˜é‡ã€‚</li><li data-pid="QvCcflfM">æ¥ä¸‹æ¥ï¼Œæ‚¨æƒ³è¦æ›´çµæ´»å¹¶ç¡®ä¿å¯ä»¥è½»æ¾æ§åˆ¶å°†æ˜ åƒæ¨é€åˆ°å“ªé‡Œï¼Œæ— è®ºæ˜¯æ‚¨çš„ç§äººé•œåƒä»“åº“è¿˜æ˜¯å…¶ä»–åœ°æ–¹ã€‚</li><li data-pid="E4iNtjoo">ç„¶åï¼Œæ‚¨å¸Œæœ›èƒ½å¤Ÿæ ¹æ®ç”¨æˆ·åœ¨å‘½ä»¤è¡Œä¸Šçš„æŸäº›è¾“å…¥å°†é•œåƒï¼ˆimageï¼‰åˆ†åˆ«æ¨é€åˆ°ä¸é¢„ç”Ÿäº§å’Œç”Ÿäº§ç¯å¢ƒæœ‰å…³çš„ä¸¤ä¸ªå•ç‹¬çš„é•œåƒä»“åº“ä¸­ã€‚</li><li data-pid="sG4Ng4B5">æœ€åï¼Œåƒä¸€ä¸ªç†æ™ºçš„å¼€å‘äººå‘˜ä¸€æ ·ï¼Œæ‚¨æƒ³ä½¿ç”¨å½“å‰çš„git commit shaæ ‡è®°æ‚¨çš„é•œåƒï¼ˆimageï¼‰ã€‚ è®©æˆ‘ä»¬åŸºäºè¿™äº›é—®é¢˜é‡æ–°ä¿®æ”¹ä¸‹<code>Makefile</code>ï¼š</li></ul><div class="highlight"><pre><code class="language-text"> APP?=application
 REGISTRY?=gcr.io/images
 COMMIT_SHA=$(shell git rev-parse --short HEAD)
 â€‹
 .PHONY: docker-build
 docker-build: build
     docker build -t ${APP} .
     docker tag ${APP} ${APP}:${COMMIT_SHA}
 â€‹
 .PHONY: docker-push
 docker-push: check-environment docker-build
     docker push ${REGISTRY}/${ENV}/${APP}:${COMMIT_SHA}
 â€‹
 check-environment:
 ifndef ENV
     $(error ENV not set, allowed values - `staging` or `production`)
 endif</code></pre></div><p data-pid="JZbGXJRz">ç°åœ¨ï¼Œè®©æˆ‘ä»¬å›é¡¾ä¸‹ä¸Šé¢çš„æ›´æ”¹ï¼š</p><ul><li data-pid="GBdw_Jbw">ä½ å¼€å§‹ä¸ºåº”ç”¨ç¨‹åºåç§°ï¼Œé•œåƒåç§°,æäº¤shaä½¿ç”¨å˜é‡ã€‚</li><li data-pid="g1DUcKxh">æ‚¨ä½¿ç”¨ç‰¹æ®Šçš„shellå‡½æ•°ç”Ÿæˆäº†commit shaã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨è¿è¡Œäº†gitå‘½ä»¤ï¼Œè¯¥å‘½ä»¤è¿”å›äº†ç®€çŸ­çš„æäº¤shaï¼Œå¹¶å°†å…¶åˆ†é…ç»™å˜é‡<code>${COMMIT_SHA}</code>ï¼Œä»¥ä¾¿ç¨ååœ¨Makefileä¸­ä½¿ç”¨ã€‚</li><li data-pid="J7A3Pg_d">æ‚¨æ·»åŠ äº†ä¸€ä¸ªæ–°çš„è§„åˆ™<code>check-environment</code>ï¼Œè¯¥ç¯å¢ƒä½¿ç”¨makeæ¡ä»¶æ£€æŸ¥åœ¨è°ƒç”¨makeæ—¶æ˜¯å¦æŒ‡å®šäº†<code>ENV</code>å˜é‡ï¼Œè¿™æœ‰åŠ©äºåŒºåˆ†é¢„ç”Ÿäº§åŠç”Ÿäº§ç¯å¢ƒã€‚</li></ul><p data-pid="GrLGyvRc"><code>check-environment</code>çš„è§„åˆ™å¦‚ä¸‹ï¼š</p><div class="highlight"><pre><code class="language-text">check-environment:
ifndef ENV
    $(error ENV not set, allowed values - `staging` or `production`)
endif</code></pre></div><p data-pid="-fpqxPVF">ä½¿ç”¨<code>ifndef</code>æŒ‡ä»¤æ£€æŸ¥å˜é‡ENVæ˜¯å¦ä¸ºç©ºå€¼ï¼Œå¦‚æœå­˜åœ¨ï¼Œåˆ™ä½¿ç”¨å¦ä¸€ä¸ªmakeçš„æä¾›å†…ç½®å‡½æ•°ï¼Œå¦‚æœå‡ºé”™äº†ï¼Œå°†ä¼šåœ¨å…³é”®å­—ä¹‹åæŠ›å‡ºå…·ä½“çš„é”™è¯¯æ¶ˆæ¯ã€‚</p><div class="highlight"><pre><code class="language-text">$ make docker-push
Makefile:33: *** ENV not set, allowed values - `staging` or `production`.  Stop.

$ ENV=staging make docker-push
Success</code></pre></div><p data-pid="fBWWNguc">æœ¬è´¨ä¸Šï¼Œæ‚¨è¦ç¡®ä¿docker-pushç›®æ ‡å…·æœ‰å®‰å…¨ä¿éšœï¼Œè¯¥ä¿éšœå¯æ£€æŸ¥è°ƒç”¨ç›®æ ‡çš„ç”¨æˆ·æ˜¯å¦å·²ä¸ºENVå˜é‡æŒ‡å®šå€¼ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>@ ç¬¦å·</b></h3><p data-pid="J3wXSORh">é¡¹ç›®çš„ <code>makefile</code> ä¸­å¾ˆå®¹æ˜“çœ‹åˆ° @ ç¬¦å·çš„å­˜åœ¨ï¼Œå®ƒçš„æ„ä¹‰ä¸åŒå¯»å¸¸ï¼š</p><div class="highlight"><pre><code class="language-text">## build: Build source code for host platform.
.PHONY: build
build:
	@$(MAKE) go.build</code></pre></div><p data-pid="phgbOQzc">åœ¨Makefileä¸­ï¼Œ@ç¬¦å·ç”¨äº <b>æŠ‘åˆ¶Makeå‘½ä»¤çš„è¾“å‡º</b>ã€‚å½“åœ¨Makefileä¸­ä½¿ç”¨@ç¬¦å·æ—¶ï¼Œ<b>Makeå°†ä¸ä¼šæ‰“å°å‡ºè¯¥è¡Œå‘½ä»¤çš„è¾“å‡ºç»“æœï¼Œè€Œæ˜¯ä»…ä»…æ‰§è¡Œè¯¥å‘½ä»¤ã€‚</b></p><p data-pid="2yfB_Lp2">åœ¨Goè¯­è¨€é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨Makefileæ¥æ„å»ºå’Œç®¡ç†é¡¹ç›®ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„Goè¯­è¨€é¡¹ç›®Makefileç¤ºä¾‹ï¼š</p><div class="highlight"><pre><code class="language-text"># ç¼–è¯‘äºŒè¿›åˆ¶æ–‡ä»¶
build:
    @go build -o myapp main.go

# è¿è¡Œç¨‹åº
run:
    @./myapp

# æ¸…ç†
clean:
    @rm -f myapp</code></pre></div><p data-pid="MSGh7bv3">åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸‰ä¸ªMakefileå‘½ä»¤ï¼š<code>build</code>ï¼Œ<code>run</code>å’Œ<code>clean</code>ã€‚åœ¨æ¯ä¸ªå‘½ä»¤çš„å‰é¢ï¼Œæˆ‘ä»¬éƒ½ä½¿ç”¨äº†<code>@</code>ç¬¦å·æ¥æŠ‘åˆ¶å‘½ä»¤çš„è¾“å‡ºã€‚è¿™æ„å‘³ç€ï¼Œå½“æˆ‘ä»¬åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œ<code>make build</code>æ—¶ï¼ŒMakeå‘½ä»¤å°†ä¼šç¼–è¯‘Goç¨‹åºï¼Œä½†ä¸ä¼šå°†ç¼–è¯‘å™¨çš„è¾“å‡ºæ‰“å°åˆ°ç»ˆç«¯ã€‚</p><p data-pid="0ofjiVSG">å¦‚æœæˆ‘ä»¬å»æ‰<code>@</code>ç¬¦å·ï¼Œé‚£ä¹ˆå½“æˆ‘ä»¬è¿è¡Œ<code>make build</code>æ—¶ï¼ŒMakeå°†ä¼šè¾“å‡ºç¼–è¯‘å™¨çš„è¾“å‡ºï¼Œç±»ä¼¼äºä¸‹é¢çš„ç»“æœï¼š</p><div class="highlight"><pre><code class="language-bash">go build -o myapp main.go
<span class="c1"># è¾“å‡ºç¼–è¯‘å™¨çš„è¾“å‡º</span></code></pre></div><p data-pid="4pSQ56Br">å› æ­¤ï¼Œä½¿ç”¨<code>@</code>ç¬¦å·å¯ä»¥ä½¿Makefileè¾“å‡ºæ›´åŠ å¹²å‡€ï¼Œä»…ä»…æ‰“å°å‡ºæˆ‘ä»¬å…³å¿ƒçš„å†…å®¹ï¼Œè€Œä¸ä¼šè¾“å‡ºä¸€å †ä¸å¿…è¦çš„ä¿¡æ¯ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>æ–‡ä»¶æœç´¢ VPATH</b></h3><p data-pid="RC69DX7o">åœ¨ä¸€äº›å¤§çš„å·¥ç¨‹ä¸­ï¼Œæœ‰å¤§é‡çš„æºæ–‡ä»¶ï¼Œæˆ‘ä»¬é€šå¸¸çš„åšæ³•æ˜¯æŠŠè¿™è®¸å¤šçš„æºæ–‡ä»¶åˆ†ç±»ï¼Œå¹¶å­˜æ”¾åœ¨ä¸åŒçš„ç›®å½•ä¸­ã€‚æ‰€ä»¥ï¼Œå½“makeéœ€è¦å»æ‰¾å¯»æ–‡ä»¶çš„ä¾èµ–å…³ç³»æ—¶ï¼Œä½ å¯ä»¥åœ¨æ–‡ä»¶å‰åŠ ä¸Šè·¯å¾„ï¼Œä½†æœ€å¥½çš„æ–¹æ³•æ˜¯æŠŠä¸€ä¸ªè·¯å¾„å‘Šè¯‰makeï¼Œè®©makeåœ¨è‡ªåŠ¨å»æ‰¾ã€‚</p><p data-pid="_OA6cjEv">Makefileæ–‡ä»¶ä¸­çš„ç‰¹æ®Šå˜é‡ <code>VPATH</code> å°±æ˜¯å®Œæˆè¿™ä¸ªåŠŸèƒ½çš„ï¼Œå¦‚æœæ²¡æœ‰æŒ‡æ˜è¿™ä¸ªå˜é‡ï¼Œmakeåªä¼šåœ¨å½“å‰çš„ç›®å½•ä¸­å»æ‰¾å¯»ä¾èµ–æ–‡ä»¶å’Œç›®æ ‡æ–‡ä»¶ã€‚å¦‚æœå®šä¹‰äº†è¿™ä¸ªå˜é‡ï¼Œé‚£ä¹ˆï¼Œmakeå°±ä¼šåœ¨å½“å‰ç›®å½•æ‰¾ä¸åˆ°çš„æƒ…å†µä¸‹ï¼Œåˆ°æ‰€æŒ‡å®šçš„ç›®å½•ä¸­å»æ‰¾å¯»æ–‡ä»¶äº†ã€‚</p><div class="highlight"><pre><code class="language-bash"><span class="nv">VPATH</span> <span class="o">=</span> src:../headers</code></pre></div><p data-pid="1YvEU-Ku">ä¸Šé¢çš„å®šä¹‰æŒ‡å®šä¸¤ä¸ªç›®å½•ï¼Œâ€œsrcâ€å’Œâ€œ<code>../headers</code>â€ï¼Œ<code>make</code>ä¼šæŒ‰ç…§è¿™ä¸ªé¡ºåºè¿›è¡Œæœç´¢ã€‚ç›®å½•ç”±â€œå†’å·â€åˆ†éš”ã€‚ï¼ˆå½“ç„¶ï¼Œå½“å‰ç›®å½•æ°¸è¿œæ˜¯æœ€é«˜ä¼˜å…ˆæœç´¢çš„åœ°æ–¹ï¼‰</p><p data-pid="T6OS02lp">å¦ä¸€ä¸ªè®¾ç½®æ–‡ä»¶æœç´¢è·¯å¾„çš„æ–¹æ³•æ˜¯ä½¿ç”¨makeçš„â€œvpathâ€å…³é”®å­—ï¼ˆæ³¨æ„ï¼Œå®ƒæ˜¯å…¨å°å†™çš„ï¼‰ï¼Œè¿™ä¸æ˜¯å˜é‡ï¼Œè¿™æ˜¯ä¸€ä¸ªmakeçš„å…³é”®å­—ï¼Œè¿™å’Œä¸Šé¢æåˆ°çš„é‚£ä¸ªVPATHå˜é‡å¾ˆç±»ä¼¼ï¼Œä½†æ˜¯å®ƒæ›´ä¸ºçµæ´»ã€‚å®ƒå¯ä»¥æŒ‡å®šä¸åŒçš„æ–‡ä»¶åœ¨ä¸åŒçš„æœç´¢ç›®å½•ä¸­ã€‚è¿™æ˜¯ä¸€ä¸ªå¾ˆçµæ´»çš„åŠŸèƒ½ã€‚å®ƒçš„ä½¿ç”¨æ–¹æ³•æœ‰ä¸‰ç§ï¼š</p><div class="highlight"><pre><code class="language-text">vpath &lt;pattern&gt; &lt;directories&gt;</code></pre></div><p data-pid="xY04Dgjf">ä¸ºç¬¦åˆæ¨¡å¼<code>&lt;pattern&gt;</code>çš„æ–‡ä»¶æŒ‡å®šæœç´¢ç›®å½•<code>&lt;directories&gt;</code>ã€‚</p><div class="highlight"><pre><code class="language-text">vpath &lt;pattern&gt;</code></pre></div><p data-pid="kD8Vdn4w">æ¸…é™¤ç¬¦åˆæ¨¡å¼<code>&lt;pattern&gt;</code>çš„æ–‡ä»¶çš„æœç´¢ç›®å½•ã€‚</p><div class="highlight"><pre><code class="language-text">vpath</code></pre></div><p data-pid="7jR4jQWu">æ¸…é™¤æ‰€æœ‰å·²è¢«è®¾ç½®å¥½äº†çš„æ–‡ä»¶æœç´¢ç›®å½•ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>Help target</b></h3><p data-pid="3f59kEwp">ä¸€ä¸ªæ–°æˆå‘˜åŠ å…¥äº†è¯¥é¡¹ç›®å¹¶æƒ³çŸ¥é“Makefileä¸­æ‰€æœ‰è§„åˆ™çš„ä½œç”¨ï¼Œä¸ºå¸®åŠ©å®ƒä»¬æ‚¨å¯ä»¥æ·»åŠ ä¸€ä¸ªæ–°ç›®æ ‡(target)ï¼Œè¯¥ç›®æ ‡å°†æ‰“å°æ‰€æœ‰ç›®æ ‡åç§°ä»¥åŠå®ƒä»¬ä½œç”¨çš„ç®€çŸ­æè¿°:</p><div class="highlight"><pre><code class="language-text"> .PHONY: build
 ## build: build the application
 build: clean
     @echo "Building..."
     @go build -o ${APP} main.go
 â€‹
 .PHONY: run
 ## run: runs go run main.go
 run:
     go run -race main.go
 â€‹
 .PHONY: clean
 ## clean: cleans the binary
 clean:
     @echo "Cleaning"
     @go clean
 â€‹
 .PHONY: setup
 ## setup: setup go modules
 setup:
     @go mod init \
         &amp;&amp; go mod tidy \
         &amp;&amp; go mod vendor
     
 .PHONY: help
 ## help: prints this help message
 help:
     @echo "Usage: \n"
     @sed -n 's/^##//p' ${MAKEFILE_LIST} | column -t -s ':' |  sed -e 's/^/ /'</code></pre></div><p data-pid="9w2gzfmI">ä½ å…ˆæ³¨æ„ä¸‹æœ€åä¸€æ¡è§„åˆ™ï¼Œ<code>help</code> åœ¨è¿™é‡Œï¼Œæ‚¨åªæ˜¯ä½¿ç”¨ä¸€äº›sedé­”æœ¯æ¥è§£æå’Œåœ¨å‘½ä»¤è¡Œä¸Šæ‰“å°ã€‚ ä½†æ˜¯è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œæ‚¨å¿…è¦åœ¨æ¯æ¡è§„åˆ™ä¹‹å‰å†™äº†ç›®æ ‡åç§°å’Œç®€çŸ­æè¿°ä½œä¸ºæ³¨é‡Šã€‚ æ³¨æ„å¦ä¸€ä¸ªç‰¹æ®Šå˜é‡<code>$ {MAKEFILE_LIST}</code>ï¼Œå®ƒæ˜¯æ‚¨æ‰€å¼•ç”¨çš„æ‰€æœ‰Makefileçš„åˆ—è¡¨ï¼Œåœ¨æœ¬ä¾‹ä¸­ä»…æ˜¯Makefileã€‚</p><p data-pid="5kC0CZql">æ‚¨ä¼šå°†æ–‡ä»¶Makefileä½œä¸ºè¾“å…¥ä¼ é€’ç»™sedå‘½ä»¤ï¼Œè¯¥å‘½ä»¤å°†è§£ææ‰€æœ‰å¸®åŠ©æ³¨é‡Šå¹¶ä»¥è¡¨æ ¼æ ¼å¼å°†å…¶æ‰“å°åˆ°stdoutï¼Œä»¥ä¾¿äºé˜…è¯»ã€‚ ä¸Šä¸€ä¸ªä»£ç æ®µçš„<code>help</code>ç›®æ ‡çš„è¾“å‡ºå¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="highlight"><pre><code class="language-text"> $ make help
 Usage:
     build             Build the application
     clean             cleans the binary
     run               runs go run main.go
     docker-build      builds docker image
     docker-push       pushes the docker image
     setup             set up modules
     help              prints this help message</code></pre></div><p data-pid="Ja5DuU_n">è¿™äº›æ¶ˆæ¯å¾ˆæœ‰å¸®åŠ©ï¼Œå¯¹äºå…¶ä»–äººç”šè‡³æœ‰æ—¶å¯¹è‡ªå·±éƒ½æ˜¯ä¸€ä¸ªä¸é”™çš„æç¤ºã€‚</p><h3><b>Conclusion ç»“è®º</b></h3><p data-pid="nUoBtcMn">Makeæ˜¯ä¸€ä¸ªç®€å•ä½†å¯é«˜åº¦é…ç½®çš„å·¥å…·ã€‚ åœ¨æœ¬æ–‡ä¸­ï¼Œæ‚¨éå†äº†makeæä¾›çš„è®¸å¤šé…ç½®å’ŒåŠŸèƒ½ï¼Œä»è€Œä¸ºGoåº”ç”¨ç¨‹åºç¼–å†™äº†æœ‰æ•ˆè€Œé«˜æ•ˆçš„Makefileã€‚</p><p data-pid="appneEHT">ä¸‹é¢æ˜¯å®Œæ•´çš„Makefileï¼Œå…¶ä¸­æ·»åŠ äº†ä¸€äº›çç¢çš„è§„åˆ™å’Œå˜é‡ï¼š</p><div class="highlight"><pre><code class="language-text"> GO111MODULES=on
 APP?=stringifier
 REGISTRY?=gcr.io/images
 COMMIT_SHA=$(shell git rev-parse --short HEAD)
 â€‹
 â€‹
 â€‹
 .PHONY: build
 ## build: build the application
 build: clean
     @echo "Building..."
     @go build -o ${APP} main.go
 â€‹
 .PHONY: run
 ## run: runs go run main.go
 run:
     go run -race main.go
 â€‹
 .PHONY: clean
 ## clean: cleans the binary
 clean:
     @echo "Cleaning"
     @go clean
 â€‹
 .PHONY: test
 ## test: runs go test with default values
 test:
     go test -v -count=1 -race ./...
 â€‹
 â€‹
 .PHONY: build-tokenizer
 ## build-tokenizer: build the tokenizer application
 build-tokenizer:
     ${MAKE} -c tokenizer build
 â€‹
 .PHONY: setup
 ## setup: setup go modules
 setup:
     @go mod init \
         &amp;&amp; go mod tidy \
         &amp;&amp; go mod vendor
     
 # helper rule for deployment
 check-environment:
 ifndef ENV
     $(error ENV not set, allowed values - `staging` or `production`)
 endif
 â€‹
 .PHONY: docker-build
 ## docker-build: builds the stringifier docker image to registry
 docker-build: build
     docker build -t ${APP}:${COMMIT_SHA} .
 â€‹
 .PHONY: docker-push
 ## docker-push: pushes the stringifier docker image to registry
 docker-push: check-environment docker-build
     docker push ${REGISTRY}/${ENV}/${APP}:${COMMIT_SHA}
 â€‹
 .PHONY: help
 ## help: Prints this help message
 help:
     @echo "Usage: \n"
     @sed -n 's/^##//p' ${MAKEFILE_LIST} | column -t -s ':' |  sed -e 's/^/ /'</code></pre></div><p class="ztext-empty-paragraph"><br></p><h2><b>ç†Ÿç»ƒmakefileè¯­æ³•</b></h2><p data-pid="L7lObUSD"><b>IAM é¡¹ç›®çš„ Makefile æ–‡ä»¶ï¼š</b></p><div class="highlight"><pre><code class="language-bash"> $ make <span class="nb">help</span>
 â€‹
 Usage: make &lt;TARGETS&gt; &lt;OPTIONS&gt; ...
 â€‹
 Targets:
   <span class="c1"># ä»£ç ç”Ÿæˆç±»å‘½ä»¤</span>
   gen                Generate all necessary files, such as error code files.
 â€‹
   <span class="c1"># æ ¼å¼åŒ–ç±»å‘½ä»¤</span>
   format             Gofmt <span class="o">(</span>reformat<span class="o">)</span> package sources <span class="o">(</span>exclude vendor dir <span class="k">if</span> existed<span class="o">)</span>.
 â€‹
   <span class="c1"># é™æ€ä»£ç æ£€æŸ¥</span>
   lint               Check syntax and styling of go sources.
 â€‹
   <span class="c1"># æµ‹è¯•ç±»å‘½ä»¤</span>
   <span class="nb">test</span>               Run unit test.
   cover              Run unit <span class="nb">test</span> and get <span class="nb">test</span> coverage.
 â€‹
   <span class="c1"># æ„å»ºç±»å‘½ä»¤</span>
   build              Build <span class="nb">source</span> code <span class="k">for</span> host platform.
   build.multiarch    Build <span class="nb">source</span> code <span class="k">for</span> multiple platforms. See option PLATFORMS.
 â€‹
   <span class="c1"># Dockeré•œåƒæ‰“åŒ…ç±»å‘½ä»¤</span>
   image              Build docker images <span class="k">for</span> host arch.
   image.multiarch    Build docker images <span class="k">for</span> multiple platforms. See option PLATFORMS.
   push               Build docker images <span class="k">for</span> host arch and push images to registry.
   push.multiarch     Build docker images <span class="k">for</span> multiple platforms and push images to registry.
 â€‹
   <span class="c1"># éƒ¨ç½²ç±»å‘½ä»¤</span>
   deploy             Deploy updated components to development env.
 â€‹
   <span class="c1"># æ¸…ç†ç±»å‘½ä»¤</span>
   clean              Remove all files that are created by building.
 â€‹
   <span class="c1"># å…¶ä»–å‘½ä»¤ï¼Œä¸åŒé¡¹ç›®ä¼šæœ‰åŒºåˆ«</span>
   release            Release iam
   verify-copyright   Verify the boilerplate headers <span class="k">for</span> all files.
   ca                 Generate CA files <span class="k">for</span> all iam components.
   install            Install iam system with all its components.
   swagger            Generate swagger document.
   tools              install dependent tools.
 â€‹
   <span class="c1"># å¸®åŠ©å‘½ä»¤</span>
   <span class="nb">help</span>               Show this <span class="nb">help</span> info.
 â€‹
 <span class="c1"># é€‰é¡¹</span>
 Options:
   DEBUG        Whether to generate debug symbols. Default is 0.
   BINS         The binaries to build. Default is all of cmd.
                This option is available when using: make build/build.multiarch
                Example: make build <span class="nv">BINS</span><span class="o">=</span><span class="s2">"iam-apiserver iam-authz-server"</span>
   ...</code></pre></div><p data-pid="vfp8h6Tl">é€šå¸¸è€Œè¨€ï¼ŒGo é¡¹ç›®çš„ Makefile åº”è¯¥å®ç°ä»¥ä¸‹åŠŸèƒ½ï¼šæ ¼å¼åŒ–ä»£ç ã€é™æ€ä»£ç æ£€æŸ¥ã€å•å…ƒæµ‹è¯•ã€ä»£ç æ„å»ºã€æ–‡ä»¶æ¸…ç†ã€å¸®åŠ©ç­‰ç­‰ã€‚å¦‚æœé€šè¿‡ docker éƒ¨ç½²ï¼Œè¿˜éœ€è¦æœ‰ docker é•œåƒæ‰“åŒ…åŠŸèƒ½ã€‚å› ä¸º Go æ˜¯è·¨å¹³å°çš„è¯­è¨€ï¼Œæ‰€ä»¥æ„å»ºå’Œ docker æ‰“åŒ…å‘½ä»¤ï¼Œè¿˜è¦èƒ½å¤Ÿæ”¯æŒä¸åŒçš„ CPU æ¶æ„å’Œå¹³å°ã€‚ä¸ºäº†èƒ½å¤Ÿæ›´å¥½åœ°æ§åˆ¶ Makefile å‘½ä»¤çš„è¡Œä¸ºï¼Œè¿˜éœ€è¦æ”¯æŒ Optionsã€‚</p><p data-pid="hamIbf53"><b>ä¸ºäº†æ–¹ä¾¿æŸ¥çœ‹ Makefile é›†æˆäº†å“ªäº›åŠŸèƒ½ï¼Œæˆ‘ä»¬éœ€è¦æ”¯æŒ help å‘½ä»¤ã€‚help å‘½ä»¤æœ€å¥½é€šè¿‡è§£æ Makefile æ–‡ä»¶æ¥è¾“å‡ºé›†æˆçš„åŠŸèƒ½ï¼Œä¾‹å¦‚ï¼š</b></p><div class="highlight"><pre><code class="language-bash"> <span class="c1">## help: Show this help info.</span>
 .PHONY: <span class="nb">help</span>
 help: Makefile
   @echo -e <span class="s2">"\nUsage: make &lt;TARGETS&gt; &lt;OPTIONS&gt; ...\n\nTargets:"</span>
   @sed -n <span class="s1">'s/^##//p'</span> $descriptionlt; <span class="p">|</span> column -t -s <span class="s1">':'</span> <span class="p">|</span> sed -e <span class="s1">'s/^/ /'</span>
   @echo <span class="s2">"</span><span class="nv">$</span><span class="s2">USAGE_OPTIONS"</span></code></pre></div><p data-pid="F2Rc04Ec">ä¸Šé¢çš„ help å‘½ä»¤ï¼Œé€šè¿‡è§£æ Makefile æ–‡ä»¶ä¸­çš„ <code>##</code> æ³¨é‡Šï¼Œè·å–æ”¯æŒçš„å‘½ä»¤ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬ä»¥åæ–°åŠ å‘½ä»¤æ—¶ï¼Œå°±ä¸ç”¨å†å¯¹ help å‘½ä»¤è¿›è¡Œä¿®æ”¹äº†ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>å¸¸ç”¨çš„ Makefile æ ¸å¿ƒè¯­æ³•</b></h3><p data-pid="7jQLJrY8">å¤§å¤šæ•°çš„ make éƒ½æ”¯æŒâ€œmakefileâ€å’Œâ€œMakefileâ€è¿™ä¸¤ç§æ–‡ä»¶åï¼Œä½†æˆ‘å»ºè®®ä½¿ç”¨â€œMakefileâ€ã€‚å› ä¸ºè¿™ä¸ªæ–‡ä»¶åç¬¬ä¸€ä¸ªå­—ç¬¦å¤§å†™ï¼Œä¼šå¾ˆæ˜æ˜¾ï¼Œå®¹æ˜“è¾¨åˆ«ã€‚make ä¹Ÿæ”¯æŒ <code>-f</code> å’Œ <code>--file</code> å‚æ•°æ¥æŒ‡å®šå…¶ä»–æ–‡ä»¶åï¼Œæ¯”å¦‚ <code>make -f golang.mk</code> æˆ–è€… <code>make --file golang.mk</code> ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>makefile æ”¯æŒçš„é€šé…ç¬¦</b></h3><p data-pid="D5792Y3x">Makefile æ”¯æŒä¸‰ç§ç±»å‹çš„é€šé…ç¬¦ï¼Œä»–ä»¬æ˜¯ï¼š<code>*ï¼Œ? å’Œ~</code></p><ol><li data-pid="JpxUXvty"><b><code>*</code>é€šé…ç¬¦ï¼š</b></li></ol><p data-pid="1_rRhDCo">*é€šé…ç¬¦ä»£è¡¨ä»»æ„é•¿åº¦çš„å­—ç¬¦åºåˆ—ï¼Œå¯ä»¥åŒ¹é…ä»»æ„é•¿åº¦çš„æ–‡ä»¶åæˆ–è·¯å¾„åä¸­çš„ä»»æ„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹è§„åˆ™æ¥åŒ¹é…æ‰€æœ‰.cæ–‡ä»¶ï¼š</p><div class="highlight"><pre><code class="language-text"> SRCS := $(wildcard *.c)</code></pre></div><p data-pid="l_6_l0JF">è¿™æ¡è§„åˆ™å°†ä¼šå°†å½“å‰ç›®å½•ä¸‹æ‰€æœ‰ä»¥.cä¸ºåç¼€çš„æ–‡ä»¶åèµ‹å€¼ç»™å˜é‡SRCSï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°å¼•ç”¨è¿™äº›æ–‡ä»¶ã€‚</p><ol><li data-pid="FtWFcxIb"><b><code>?</code>é€šé…ç¬¦ï¼š</b></li></ol><p data-pid="P9PBGT4d">?é€šé…ç¬¦ä»£è¡¨ä»»æ„å•ä¸ªå­—ç¬¦ï¼Œå¯ä»¥åŒ¹é…ä»»æ„é•¿åº¦çš„æ–‡ä»¶åæˆ–è·¯å¾„åä¸­çš„ä¸€ä¸ªå­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹è§„åˆ™æ¥åŒ¹é…æ‰€æœ‰ä¸‰ä¸ªå­—ç¬¦é•¿çš„<code>.txt</code>æ–‡ä»¶ï¼š</p><div class="highlight"><pre><code class="language-text"> SRCS := $(wildcard ???.txt)</code></pre></div><p data-pid="Cx0V0x39">è¿™æ¡è§„åˆ™å°†ä¼šå°†å½“å‰ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶åé•¿åº¦ä¸º3ï¼Œå¹¶ä»¥.txtä¸ºåç¼€çš„æ–‡ä»¶åèµ‹å€¼ç»™å˜é‡SRCSã€‚</p><ol><li data-pid="OWmElElS"><b><code>~</code>é€šé…ç¬¦ï¼š</b></li></ol><p data-pid="2wyzmWTa">~é€šé…ç¬¦ä»£è¡¨å½“å‰ç”¨æˆ·çš„<code>home</code>ç›®å½•ï¼Œå¯ä»¥ç”¨æ¥æŒ‡å®šæ–‡ä»¶è·¯å¾„ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹è§„åˆ™æ¥æŒ‡å®šå½“å‰ç”¨æˆ·çš„<code>home</code>ç›®å½•ï¼š</p><div class="highlight"><pre><code class="language-text"> $(HOME)/myprogram</code></pre></div><p data-pid="AxzQQUHb">è¿™æ¡è§„åˆ™å°†ä¼šå°†å½“å‰ç”¨æˆ·çš„homeç›®å½•è·¯å¾„å’Œmyprogramå­—ç¬¦ä¸²æ‹¼æ¥èµ·æ¥ï¼Œä»è€Œå¾—åˆ°ä¸€ä¸ªå®Œæ•´çš„è·¯å¾„åï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°å¼•ç”¨homeç›®å½•ä¸‹çš„æ–‡ä»¶æˆ–è·¯å¾„ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>å˜é‡</b></h3><p data-pid="DZXZw_dD">å˜é‡ï¼Œå¯èƒ½æ˜¯ Makefile ä¸­ä½¿ç”¨æœ€é¢‘ç¹çš„è¯­æ³•äº†ï¼ŒMakefile æ”¯æŒå˜é‡èµ‹å€¼ã€å¤šè¡Œå˜é‡å’Œç¯å¢ƒå˜é‡ã€‚å¦å¤–ï¼ŒMakefile è¿˜å†…ç½®äº†ä¸€äº›ç‰¹æ®Šå˜é‡å’Œè‡ªåŠ¨åŒ–å˜é‡ã€‚</p><p data-pid="iHBFTTpL"><b>å˜é‡èµ‹å€¼ ï¼š</b></p><p data-pid="TrMcPDz5">Makefile ä¹Ÿå¯ä»¥åƒå…¶ä»–è¯­è¨€ä¸€æ ·æ”¯æŒå˜é‡ã€‚åœ¨ä½¿ç”¨å˜é‡æ—¶ï¼Œä¼šåƒ shell å˜é‡ä¸€æ ·åŸåœ°å±•å¼€ï¼Œç„¶åå†æ‰§è¡Œæ›¿æ¢åçš„å†…å®¹ã€‚</p><p data-pid="emz7Xz43">Makefile å¯ä»¥é€šè¿‡å˜é‡å£°æ˜æ¥å£°æ˜ä¸€ä¸ªå˜é‡ï¼Œå˜é‡åœ¨å£°æ˜æ—¶éœ€è¦èµ‹äºˆä¸€ä¸ªåˆå€¼ï¼Œæ¯”å¦‚<code>ROOT_PACKAGE=github.com/marmotedu/iam</code>ã€‚</p><p data-pid="1N-vD9ZF">å¼•ç”¨å˜é‡æ—¶å¯ä»¥é€šè¿‡<code>$()</code>æˆ–è€…<code>${}</code>æ–¹å¼å¼•ç”¨ã€‚æˆ‘çš„å»ºè®®æ˜¯ï¼Œç”¨<code>$()</code>æ–¹å¼å¼•ç”¨å˜é‡ï¼Œä¾‹å¦‚<code>$(ROOT_PACKAGE)</code>ï¼Œä¹Ÿå»ºè®®æ•´ä¸ª makefile çš„å˜é‡å¼•ç”¨æ–¹å¼ä¿æŒä¸€è‡´ã€‚</p><p data-pid="CmHM6m6f">å˜é‡ä¼šåƒ bash å˜é‡ä¸€æ ·ï¼Œåœ¨ä½¿ç”¨å®ƒçš„åœ°æ–¹å±•å¼€ã€‚æ¯”å¦‚ï¼š</p><div class="highlight"><pre><code class="language-bash"> <span class="nv">GO</span><span class="o">=</span>go
 build:
     <span class="k">$(</span>GO<span class="k">)</span> build -v .</code></pre></div><p data-pid="FtD4xDh7">å±•å¼€åä¸ºï¼š</p><div class="highlight"><pre><code class="language-bash"> <span class="nv">GO</span><span class="o">=</span>go
 build:
     go build -v .</code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="2zKsKZAB"><b>Makefile æœ‰å››ç§çš„èµ‹å€¼æ–¹å¼ï¼š</b></p><p data-pid="yzoBuEty"><b><code>=</code> æœ€åŸºæœ¬çš„èµ‹å€¼æ–¹æ³•ã€‚</b></p><div class="highlight"><pre><code class="language-bash"> <span class="nv">BASE_IMAGE</span> <span class="o">=</span> alpine:3.10</code></pre></div><blockquote data-pid="9GEakcMR">  æ³¨æ„ï¼šä½¿ç”¨ <code>=</code> èµ‹å€¼çš„æ—¶å€™ï¼Œå–å€¼åˆ°çš„å¹¶éæ˜¯ç¨‹åºä¾æ¬¡æ‰§è¡Œçš„å€¼ï¼Œè€Œæ˜¯æœ€ç»ˆçš„å€¼<br> A = a<br> B = $(A) b<br> A = c<br>B æœ€åçš„å€¼ä¸º c bï¼Œè€Œä¸æ˜¯ a bã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ç”¨å˜é‡ç»™å˜é‡èµ‹å€¼æ—¶ï¼Œå³è¾¹å˜é‡çš„å–å€¼ï¼Œå–çš„æ˜¯æœ€ç»ˆçš„å˜é‡å€¼ã€‚</blockquote><p class="ztext-empty-paragraph"><br></p><p data-pid="3Gb22eys"><b>å’Œgoä¸€æ ·ï¼Œ<code>:=</code>ç›´æ¥èµ‹å€¼ï¼Œèµ‹äºˆå½“å‰ä½ç½®çš„å€¼ã€‚</b></p><div class="highlight"><pre><code class="language-bash"> <span class="nv">A</span> <span class="o">=</span> a
 B :<span class="o">=</span> <span class="k">$(</span>A<span class="k">)</span> b
 <span class="nv">A</span> <span class="o">=</span> c</code></pre></div><p data-pid="09-kGacM">B æœ€åçš„å€¼ä¸º a bã€‚é€šè¿‡ <code>:=</code> çš„èµ‹å€¼æ–¹å¼ï¼Œå¯ä»¥é¿å… <code>=</code> èµ‹å€¼å¸¦æ¥çš„æ½œåœ¨çš„ä¸ä¸€è‡´ã€‚</p><p class="ztext-empty-paragraph"><br></p><p data-pid="rPDHU9Tg"><b><code>?=</code> è¡¨ç¤ºå¦‚æœè¯¥å˜é‡æ²¡æœ‰è¢«èµ‹å€¼ï¼Œåˆ™èµ‹äºˆç­‰å·åçš„å€¼ã€‚</b></p><p data-pid="pFfR_ojm"><b>ä¾‹å¦‚ï¼š</b></p><div class="highlight"><pre><code class="language-bash"> PLATFORMS ?<span class="o">=</span> linux_amd64 linux_arm64</code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="o39hu3q5"><b><code>+=</code>è¡¨ç¤ºå°†ç­‰å·åé¢çš„å€¼æ·»åŠ åˆ°å‰é¢çš„å˜é‡ä¸Šã€‚</b></p><div class="highlight"><pre><code class="language-text"> MAKEFLAGS += --no-print-directory</code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="fuKjYtb6"><b>Makefile è¿˜æ”¯æŒå¤šè¡Œå˜é‡ã€‚å¯ä»¥é€šè¿‡ define å…³é”®å­—è®¾ç½®å¤šè¡Œå˜é‡ï¼Œå˜é‡ä¸­å…è®¸æ¢è¡Œã€‚å®šä¹‰æ–¹å¼ä¸ºï¼š</b></p><div class="highlight"><pre><code class="language-text"> define å˜é‡å
 å˜é‡å†…å®¹
 ...
 endef</code></pre></div><p data-pid="mQ010vzs">å˜é‡çš„å†…å®¹å¯ä»¥åŒ…å«å‡½æ•°ã€å‘½ä»¤ã€æ–‡å­—æˆ–æ˜¯å…¶ä»–å˜é‡ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ª <code>USAGE_OPTIONS</code> å˜é‡ï¼š</p><div class="highlight"><pre><code class="language-text"> define USAGE_OPTIONS
 â€‹
 Options:
   DEBUG        Whether to generate debug symbols. Default is 0.
   BINS         The binaries to build. Default is all of cmd.
   ...
   V            Set to 1 enable verbose build. Default is 0.
 endef</code></pre></div><p data-pid="643yZ3OK">Makefile è¿˜æ”¯æŒç¯å¢ƒå˜é‡ã€‚åœ¨ Makefile ä¸­ï¼Œæœ‰ä¸¤ç§ç¯å¢ƒå˜é‡ï¼Œåˆ†åˆ«æ˜¯ Makefile é¢„å®šä¹‰çš„ç¯å¢ƒå˜é‡å’Œè‡ªå®šä¹‰çš„ç¯å¢ƒå˜é‡ã€‚</p><p data-pid="zPSAtjBs">å…¶ä¸­ï¼Œè‡ªå®šä¹‰çš„ç¯å¢ƒå˜é‡å¯ä»¥è¦†ç›– Makefile é¢„å®šä¹‰çš„ç¯å¢ƒå˜é‡ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒMakefile ä¸­å®šä¹‰çš„ç¯å¢ƒå˜é‡åªåœ¨å½“å‰ Makefile æœ‰æ•ˆï¼Œå¦‚æœæƒ³å‘ä¸‹å±‚ä¼ é€’ï¼ˆMakefile ä¸­è°ƒç”¨å¦ä¸€ä¸ª Makefileï¼‰ï¼Œéœ€è¦ä½¿ç”¨ export å…³é”®å­—æ¥å£°æ˜ã€‚</p><div class="highlight"><pre><code class="language-text"> ...
 export USAGE_OPTIONS
 ...</code></pre></div><p data-pid="LAZ3Pg-G">æ­¤å¤–ï¼ŒMakefile è¿˜æ”¯æŒä¸¤ç§å†…ç½®çš„å˜é‡ï¼šç‰¹æ®Šå˜é‡å’Œè‡ªåŠ¨åŒ–å˜é‡ã€‚</p><p data-pid="vYHzbShP">ç‰¹æ®Šå˜é‡æ˜¯ make æå‰å®šä¹‰å¥½çš„ï¼Œå¯ä»¥åœ¨ makefile ä¸­ç›´æ¥å¼•ç”¨ã€‚ç‰¹æ®Šå˜é‡åˆ—è¡¨å¦‚ä¸‹ï¼š</p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-9ed11d1238b122c740fbc98004fc7d0a_r.jpg" data-caption="" data-size="normal" width="1088" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p data-pid="ABFKfYlr">Makefile è¿˜æ”¯æŒè‡ªåŠ¨åŒ–å˜é‡ã€‚è‡ªåŠ¨åŒ–å˜é‡å¯ä»¥æé«˜æˆ‘ä»¬ç¼–å†™ Makefile çš„æ•ˆç‡å’Œè´¨é‡ã€‚</p><p class="ztext-empty-paragraph"><br></p><p data-pid="T3PoHw5W"><b>è‡ªåŠ¨åŒ–å˜é‡ï¼š</b></p><p data-pid="t-mgkuOC">è¿™æ—¶å°±å¯ä»¥ç”¨åˆ°è‡ªåŠ¨åŒ–å˜é‡ã€‚æ‰€è°“è‡ªåŠ¨åŒ–å˜é‡ï¼Œå°±æ˜¯è¿™ç§å˜é‡ä¼šæŠŠæ¨¡å¼ä¸­æ‰€å®šä¹‰çš„ä¸€ç³»åˆ—çš„æ–‡ä»¶è‡ªåŠ¨åœ°æŒ¨ä¸ªå–å‡ºï¼Œä¸€ç›´åˆ°æ‰€æœ‰ç¬¦åˆæ¨¡å¼çš„æ–‡ä»¶éƒ½å–å®Œä¸ºæ­¢ã€‚è¿™ç§è‡ªåŠ¨åŒ–å˜é‡åªåº”å‡ºç°åœ¨è§„åˆ™çš„å‘½ä»¤ä¸­ã€‚Makefile ä¸­æ”¯æŒçš„è‡ªåŠ¨åŒ–å˜é‡è§ä¸‹è¡¨ã€‚</p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-4f89913ab376925632be5823a038f938_b.png" data-caption="" data-size="normal" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p data-pid="dJvvMAiF">ä¸Šé¢è¿™äº›è‡ªåŠ¨åŒ–å˜é‡ä¸­ï¼Œ<code>$*</code>æ˜¯ç”¨å¾—æœ€å¤šçš„ã€‚<code>$*</code> å¯¹äºæ„é€ æœ‰å…³è”çš„æ–‡ä»¶åæ˜¯æ¯”è¾ƒæœ‰æ•ˆçš„ã€‚å¦‚æœç›®æ ‡ä¸­æ²¡æœ‰æ¨¡å¼çš„å®šä¹‰ï¼Œé‚£ä¹ˆ <code>$*</code> ä¹Ÿå°±ä¸èƒ½è¢«æ¨å¯¼å‡ºã€‚ä½†æ˜¯ï¼Œå¦‚æœç›®æ ‡æ–‡ä»¶çš„åç¼€æ˜¯ make æ‰€è¯†åˆ«çš„ï¼Œé‚£ä¹ˆ <code>$*</code> å°±æ˜¯é™¤äº†åç¼€çš„é‚£ä¸€éƒ¨åˆ†ã€‚ä¾‹å¦‚ï¼šå¦‚æœç›®æ ‡æ˜¯ <code>foo.c</code> ï¼Œå› ä¸º.c æ˜¯ make æ‰€èƒ½è¯†åˆ«çš„åç¼€åï¼Œæ‰€ä»¥ <code>$*</code> çš„å€¼å°±æ˜¯ fooã€‚</p><p class="ztext-empty-paragraph"><br></p><p data-pid="gisX26_q"><b>æ¡ä»¶è¯­å¥ï¼š</b></p><p data-pid="REakl9xg">Makefile ä¹Ÿæ”¯æŒæ¡ä»¶è¯­å¥ã€‚è¿™é‡Œå…ˆçœ‹ä¸€ä¸ªç¤ºä¾‹ã€‚</p><p data-pid="6lF91iHT">ä¸‹é¢çš„ä¾‹å­åˆ¤æ–­å˜é‡ROOT_PACKAGEæ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ºç©ºï¼Œåˆ™è¾“å‡ºé”™è¯¯ä¿¡æ¯ï¼Œä¸ä¸ºç©ºåˆ™æ‰“å°å˜é‡å€¼ï¼š</p><div class="highlight"><pre><code class="language-text"> ifeq ($(ROOT_PACKAGE),)
 $(error the variable ROOT_PACKAGE must be set prior to including golang.mk)
 else
 $(info the value of ROOT_PACKAGE is $(ROOT_PACKAGE))
 endif</code></pre></div><p data-pid="UoCpSCQG">æ¡ä»¶è¯­å¥çš„è¯­æ³•ä¸ºï¼š</p><div class="highlight"><pre><code class="language-text"> â€‹
 # if ...
 &lt;conditional-directive&gt;
 &lt;text-if-true&gt;
 endif
 # if ... else ...
 &lt;conditional-directive&gt;
 &lt;text-if-true&gt;
 else
 &lt;text-if-false&gt;
 endif</code></pre></div><p data-pid="d351dwoO">ä¾‹å¦‚ï¼Œåˆ¤æ–­ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼š</p><div class="highlight"><pre><code class="language-text"> â€‹
 ifeq æ¡ä»¶è¡¨è¾¾å¼
 ...
 else
 ...
 endif</code></pre></div><ul><li data-pid="e33gCHQ5">ifeq è¡¨ç¤ºæ¡ä»¶è¯­å¥çš„å¼€å§‹ï¼Œå¹¶æŒ‡å®šä¸€ä¸ªæ¡ä»¶è¡¨è¾¾å¼ã€‚è¡¨è¾¾å¼åŒ…å«ä¸¤ä¸ªå‚æ•°ï¼Œå‚æ•°ä¹‹é—´ç”¨é€—å·åˆ†éš”ï¼Œå¹¶ä¸”è¡¨è¾¾å¼ç”¨åœ†æ‹¬å·æ‹¬èµ·æ¥ã€‚</li><li data-pid="-bhDIuSo">else è¡¨ç¤ºæ¡ä»¶è¡¨è¾¾å¼ä¸ºå‡çš„æƒ…å†µã€‚</li><li data-pid="-w-UyBTC">endif è¡¨ç¤ºä¸€ä¸ªæ¡ä»¶è¯­å¥çš„ç»“æŸï¼Œä»»ä½•ä¸€ä¸ªæ¡ä»¶è¡¨è¾¾å¼éƒ½åº”è¯¥ä»¥ endif ç»“æŸã€‚</li><li data-pid="3TnLKu94">è¡¨ç¤ºæ¡ä»¶å…³é”®å­—ï¼Œæœ‰ 4 ä¸ªå…³é”®å­—ï¼šifeqã€ifneqã€ifdefã€ifndefã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><p data-pid="73-aYRYe"><b>ä¸ºäº†åŠ æ·±ä½ çš„ç†è§£ï¼Œæˆ‘ä»¬åˆ†åˆ«æ¥çœ‹ä¸‹è¿™ 4 ä¸ªå…³é”®å­—çš„ä¾‹å­ã€‚</b></p><p data-pid="KUYwxMLs">ifeqï¼šæ¡ä»¶åˆ¤æ–­ï¼Œåˆ¤æ–­æ˜¯å¦ç›¸ç­‰ã€‚</p><div class="highlight"><pre><code class="language-text"> ifeq (&lt;arg1&gt;, &lt;arg2&gt;)
 ifeq '&lt;arg1&gt;' '&lt;arg2&gt;'
 ifeq "&lt;arg1&gt;" "&lt;arg2&gt;"
 ifeq "&lt;arg1&gt;" '&lt;arg2&gt;'
 ifeq '&lt;arg1&gt;' "&lt;arg2&gt;"</code></pre></div><p data-pid="313LsmOa">æ¯”è¾ƒ arg1 å’Œ arg2 çš„å€¼æ˜¯å¦ç›¸åŒï¼Œå¦‚æœç›¸åŒåˆ™ä¸ºçœŸã€‚ä¹Ÿå¯ä»¥ç”¨ make å‡½æ•° / å˜é‡æ›¿ä»£ arg1 æˆ– arg2ï¼Œä¾‹å¦‚ <code>ifeq ($(origin ROOT_DIR),undefined)</code>æˆ– <code>ifeq ($(ROOT_PACKAGE),)</code> ã€‚origin å‡½æ•°ä¼šåœ¨ä¹‹åä¸“é—¨è®²å‡½æ•°çš„ä¸€è®²ä¸­ä»‹ç»åˆ°ã€‚</p><p class="ztext-empty-paragraph"><br></p><p data-pid="vWwv9fz9">ifneqï¼šæ¡ä»¶åˆ¤æ–­ï¼Œåˆ¤æ–­æ˜¯å¦ä¸ç›¸ç­‰ã€‚</p><div class="highlight"><pre><code class="language-text"> ifneq (&lt;arg1&gt;, &lt;arg2&gt;)
 ifneq '&lt;arg1&gt;' '&lt;arg2&gt;'
 ifneq "&lt;arg1&gt;" "&lt;arg2&gt;"
 ifneq "&lt;arg1&gt;" '&lt;arg2&gt;'
 ifneq '&lt;arg1&gt;' "&lt;arg2&gt;"</code></pre></div><p data-pid="zZIJrw1Q">æ¯”è¾ƒ arg1 å’Œ arg2 çš„å€¼æ˜¯å¦ä¸åŒï¼Œå¦‚æœä¸åŒåˆ™ä¸ºçœŸã€‚</p><p class="ztext-empty-paragraph"><br></p><p data-pid="3z3DsMOK">ifdefï¼šæ¡ä»¶åˆ¤æ–­ï¼Œåˆ¤æ–­å˜é‡æ˜¯å¦å·²å®šä¹‰ã€‚</p><div class="highlight"><pre><code class="language-text"> ifdef &lt;variable-name&gt;</code></pre></div><p data-pid="NmW-DS0t">å¦‚æœå€¼éç©ºï¼Œåˆ™è¡¨è¾¾å¼ä¸ºçœŸï¼Œå¦åˆ™ä¸ºå‡ã€‚ä¹Ÿå¯ä»¥æ˜¯å‡½æ•°çš„è¿”å›å€¼ã€‚</p><p class="ztext-empty-paragraph"><br></p><p data-pid="hVdaV5QO">ifndefï¼šæ¡ä»¶åˆ¤æ–­ï¼Œåˆ¤æ–­å˜é‡æ˜¯å¦æœªå®šä¹‰ã€‚</p><div class="highlight"><pre><code class="language-text"> ifndef &lt;variable-name&gt;</code></pre></div><p data-pid="SWWVm1yd">å¦‚æœå€¼ä¸ºç©ºï¼Œåˆ™è¡¨è¾¾å¼ä¸ºçœŸï¼Œå¦åˆ™ä¸ºå‡ã€‚ä¹Ÿå¯ä»¥æ˜¯å‡½æ•°çš„è¿”å›å€¼ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>å‡½æ•°</b></h3><p data-pid="0GQB5eJE">æˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹è‡ªå®šä¹‰å‡½æ•°ã€‚ make è§£é‡Šå™¨æä¾›äº†ä¸€ç³»åˆ—çš„å‡½æ•°ä¾› Makefile è°ƒç”¨ï¼Œè¿™äº›å‡½æ•°æ˜¯ Makefile çš„é¢„å®šä¹‰å‡½æ•°ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ define å…³é”®å­—æ¥è‡ªå®šä¹‰ä¸€ä¸ªå‡½æ•°ã€‚è‡ªå®šä¹‰å‡½æ•°çš„è¯­æ³•ä¸ºï¼š</p><div class="highlight"><pre><code class="language-text"> define å‡½æ•°å
 å‡½æ•°ä½“
 endef</code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="62zchQRR"><b> ç®€å•çš„ä¸€ä¸ªæ¡ˆä¾‹å¦‚ä¸‹ï¼š</b></p><div class="highlight"><pre><code class="language-text"> â€‹
 define Foo
     @echo "my name is $(0)"
     @echo "param is $(1)"
 endef</code></pre></div><p data-pid="EfMXh6oV">define æœ¬è´¨ä¸Šæ˜¯å®šä¹‰ä¸€ä¸ªå¤šè¡Œå˜é‡ï¼Œå¯ä»¥åœ¨ call çš„ä½œç”¨ä¸‹å½“ä½œå‡½æ•°æ¥ä½¿ç”¨ï¼Œåœ¨å…¶ä»–ä½ç½®ä½¿ç”¨åªèƒ½ä½œä¸ºå¤šè¡Œå˜é‡æ¥ä½¿ç”¨ï¼Œä¾‹å¦‚ï¼š</p><div class="highlight"><pre><code class="language-text"> var := $(call Foo)
 new := $(Foo)</code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="B5uLtrkT"><b>é¢„å®šä¹‰å‡½æ•°ï¼š</b></p><p data-pid="j3hSoGN7">å†æ¥çœ‹ä¸‹é¢„å®šä¹‰å‡½æ•°ã€‚ åˆšæ‰æåˆ°ï¼Œmake ç¼–è¯‘å™¨ä¹Ÿå®šä¹‰äº†å¾ˆå¤šå‡½æ•°ï¼Œè¿™äº›å‡½æ•°å«ä½œé¢„å®šä¹‰å‡½æ•°ï¼Œè°ƒç”¨è¯­æ³•å’Œå˜é‡ç±»ä¼¼ï¼Œè¯­æ³•ä¸ºï¼š</p><div class="highlight"><pre><code class="language-text"> $(&lt;function&gt; &lt;arguments&gt;)
 OR
 ${&lt;function&gt; &lt;arguments&gt;}</code></pre></div><p data-pid="bevLq7As"><code>&lt;function&gt;</code> æ˜¯å‡½æ•°åï¼Œ<code>&lt;arguments&gt;</code> æ˜¯å‡½æ•°å‚æ•°ï¼Œå‚æ•°é—´ç”¨é€—å·åˆ†å‰²ã€‚å‡½æ•°çš„å‚æ•°ä¹Ÿå¯ä»¥æ˜¯å˜é‡ã€‚</p><p data-pid="qtnri8pU"> ç®€å•çš„ä¸€ä¸ªæ¡ˆä¾‹å¦‚ä¸‹ï¼š</p><div class="highlight"><pre><code class="language-text"> PLATFORM = linux_amd64
 GOOS := $(word 1, $(subst _, ,$(PLATFORM)))</code></pre></div><p data-pid="ep1d2VOY">ä¸Šé¢çš„ä¾‹å­ç”¨åˆ°äº†ä¸¤ä¸ªå‡½æ•°ï¼šword å’Œ substã€‚word å‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œ1 å’Œ subst å‡½æ•°çš„è¾“å‡ºã€‚subst å‡½æ•°å°† PLATFORM å˜é‡å€¼ä¸­çš„ <code>_</code> æ›¿æ¢æˆç©ºæ ¼ï¼ˆæ›¿æ¢åçš„ PLATFORM å€¼ä¸º linux amd64ï¼‰ã€‚word å‡½æ•°å– linux amd64 å­—ç¬¦ä¸²ä¸­çš„ç¬¬ä¸€ä¸ªå•è¯ã€‚æ‰€ä»¥æœ€å GOOS çš„å€¼ä¸º linuxã€‚</p><p data-pid="xo9RlDp_">Makefile é¢„å®šä¹‰å‡½æ•°èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬å®ç°å¾ˆå¤šå¼ºå¤§çš„åŠŸèƒ½ï¼Œåœ¨ç¼–å†™ Makefile çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæœ‰åŠŸèƒ½éœ€æ±‚ï¼Œå¯ä»¥ä¼˜å…ˆä½¿ç”¨è¿™äº›å‡½æ•°ã€‚å¦‚æœä½ æƒ³ä½¿ç”¨è¿™äº›å‡½æ•°ï¼Œé‚£å°±éœ€è¦çŸ¥é“æœ‰å“ªäº›å‡½æ•°ï¼Œä»¥åŠå®ƒä»¬å®ç°çš„åŠŸèƒ½ã€‚</p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-af2f23e70bf4b9ee2f2a0106aa6695db_r.jpg" data-caption="" data-size="normal" width="2248" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>å¼•å…¥å…¶ä»– Makefile</b></h3><p data-pid="WYoNyHCn">åœ¨ Makefile ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å…³é”®å­— includeï¼ŒæŠŠåˆ«çš„ makefile åŒ…å«è¿›æ¥ï¼Œç±»ä¼¼äº C è¯­è¨€çš„#includeï¼Œè¢«åŒ…å«çš„æ–‡ä»¶ä¼šæ’å…¥åœ¨å½“å‰çš„ä½ç½®ã€‚include ç”¨æ³•ä¸ºinclude ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p><div class="highlight"><pre><code class="language-text"> include scripts/make-rules/common.mk
 include scripts/make-rules/golang.mk</code></pre></div><p data-pid="29BZA9ne">include ä¹Ÿå¯ä»¥åŒ…å«é€šé…ç¬¦include scripts/make-rules/*ã€‚make å‘½ä»¤ä¼šæŒ‰ä¸‹é¢çš„é¡ºåºæŸ¥æ‰¾ makefile æ–‡ä»¶ï¼š</p><ul><li data-pid="_kZ6nU2N">å¦‚æœæ˜¯ç»å¯¹æˆ–ç›¸å¯¹è·¯å¾„ï¼Œå°±ç›´æ¥æ ¹æ®è·¯å¾„ include è¿›æ¥ã€‚</li><li data-pid="Yefv1vAt">å¦‚æœ make æ‰§è¡Œæ—¶ï¼Œæœ‰<code>-I</code>æˆ–<code>--include-dir</code>å‚æ•°ï¼Œé‚£ä¹ˆ make å°±ä¼šåœ¨è¿™ä¸ªå‚æ•°æ‰€æŒ‡å®šçš„ç›®å½•ä¸‹å»æ‰¾ã€‚</li><li data-pid="jlY63DaJ">å¦‚æœç›®å½•<code>&lt;prefix&gt;/include</code>ï¼ˆä¸€èˆ¬æ˜¯/usr/local/binæˆ–/usr/includeï¼‰å­˜åœ¨çš„è¯ï¼Œmake ä¹Ÿä¼šå»æ‰¾ã€‚</li></ul><p data-pid="RoVGF37U">å¦‚æœæœ‰æ–‡ä»¶æ²¡æœ‰æ‰¾åˆ°ï¼Œmake ä¼šç”Ÿæˆä¸€æ¡è­¦å‘Šä¿¡æ¯ï¼Œä½†ä¸ä¼šé©¬ä¸Šå‡ºç°è‡´å‘½é”™è¯¯ï¼Œè€Œæ˜¯ç»§ç»­è½½å…¥å…¶ä»–çš„æ–‡ä»¶ã€‚ä¸€æ—¦å®Œæˆ makefile çš„è¯»å–ï¼Œmake ä¼šå†é‡è¯•è¿™äº›æ²¡æœ‰æ‰¾åˆ°æˆ–æ˜¯ä¸èƒ½è¯»å–çš„æ–‡ä»¶ã€‚å¦‚æœè¿˜æ˜¯ä¸è¡Œï¼Œmake æ‰ä¼šå‡ºç°ä¸€æ¡è‡´å‘½é”™è¯¯ä¿¡æ¯ã€‚å¦‚æœä½ æƒ³è®© <code>make</code> å¿½ç•¥é‚£äº›æ— æ³•è¯»å–çš„æ–‡ä»¶ç»§ç»­æ‰§è¡Œï¼Œå¯ä»¥åœ¨ i<code>n</code>clude å‰åŠ ä¸€ä¸ªå‡å·<code>-</code>ï¼Œå¦‚<code>-include</code> ã€‚</p><p class="ztext-empty-paragraph"><br></p><h2><b>è®¾è®¡Makefileç»“æ„</b></h2><p data-pid="dY7VVxoM">å¯¹äºå¤§å‹é¡¹ç›®æ¥è¯´ï¼Œéœ€è¦ç®¡ç†çš„å†…å®¹å¾ˆå¤šï¼Œæ‰€æœ‰ç®¡ç†åŠŸèƒ½éƒ½é›†æˆåœ¨ä¸€ä¸ª Makefile ä¸­ï¼Œå¯èƒ½ä¼šå¯¼è‡´ Makefile å¾ˆå¤§ï¼Œéš¾ä»¥é˜…è¯»å’Œç»´æŠ¤ï¼Œæ‰€ä»¥å»ºè®®é‡‡ç”¨åˆ†å±‚çš„è®¾è®¡æ–¹æ³•ï¼Œ<b>æ ¹ç›®å½•ä¸‹çš„ Makefile èšåˆæ‰€æœ‰çš„ Makefile å‘½ä»¤ï¼Œå…·ä½“å®ç°åˆ™æŒ‰åŠŸèƒ½åˆ†ç±»ï¼Œæ”¾åœ¨å¦å¤–çš„ Makefile ä¸­ã€‚</b></p><p data-pid="0YyHhYEz">æˆ‘ä»¬ç»å¸¸ä¼šåœ¨ Makefile å‘½ä»¤ä¸­é›†æˆ shell è„šæœ¬ï¼Œä½†å¦‚æœ shell è„šæœ¬è¿‡äºå¤æ‚ï¼Œä¹Ÿä¼šå¯¼è‡´ Makefile å†…å®¹è¿‡å¤šï¼Œéš¾ä»¥é˜…è¯»å’Œç»´æŠ¤ã€‚å¹¶ä¸”åœ¨ Makefile ä¸­é›†æˆå¤æ‚çš„ shell è„šæœ¬ï¼Œç¼–å†™ä½“éªŒä¹Ÿå¾ˆå·®ã€‚å¯¹äºè¿™ç§æƒ…å†µï¼Œ<b>å¯ä»¥å°†å¤æ‚çš„ shell å‘½ä»¤å°è£…åœ¨ shell è„šæœ¬ä¸­ï¼Œä¾› Makefile ç›´æ¥è°ƒç”¨ï¼Œè€Œä¸€äº›ç®€å•çš„å‘½ä»¤åˆ™å¯ä»¥ç›´æ¥é›†æˆåœ¨ Makefile ä¸­ã€‚</b></p><p data-pid="QxtLelvn"><b>æ¨èçš„ Makefile ç»“æ„ï¼š</b></p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-daa7206fcb284e3da98e7d00c96854b9_r.jpg" data-caption="" data-size="normal" width="1088" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><p data-pid="SHPB7cJZ">åœ¨ä¸Šé¢çš„ Makefile ç»„ç»‡æ–¹å¼ä¸­ï¼Œæ ¹ç›®å½•ä¸‹çš„ Makefile èšåˆäº†é¡¹ç›®æ‰€æœ‰çš„ç®¡ç†åŠŸèƒ½ï¼Œè¿™äº›ç®¡ç†åŠŸèƒ½é€šè¿‡ Makefile ä¼ªç›®æ ‡çš„æ–¹å¼å®ç°ã€‚åŒæ—¶ï¼Œè¿˜å°†è¿™äº›ä¼ªç›®æ ‡è¿›è¡Œåˆ†ç±»ï¼ŒæŠŠç›¸åŒç±»åˆ«çš„ä¼ªç›®æ ‡æ”¾åœ¨åŒä¸€ä¸ª Makefile ä¸­ï¼Œè¿™æ ·å¯ä»¥ä½¿å¾— Makefile æ›´å®¹æ˜“ç»´æŠ¤ã€‚å¯¹äºå¤æ‚çš„å‘½ä»¤ï¼Œåˆ™ç¼–å†™æˆç‹¬ç«‹çš„ shell è„šæœ¬ï¼Œå¹¶åœ¨ Makefile å‘½ä»¤ä¸­è°ƒç”¨è¿™äº› shell è„šæœ¬ã€‚</p><p data-pid="yi0M2dun">ä¸¾ä¸ªä¾‹å­ï¼Œä¸‹é¢æ˜¯ IAM é¡¹ç›®çš„ Makefile ç»„ç»‡ç»“æ„ï¼š</p><div class="highlight"><pre><code class="language-bash"> â€‹
 â”œâ”€â”€ Makefile
 â”œâ”€â”€ scripts
 â”‚   â”œâ”€â”€ gendoc.sh
 â”‚   â”œâ”€â”€ make-rules
 â”‚   â”‚   â”œâ”€â”€ gen.mk
 â”‚   â”‚   â”œâ”€â”€ golang.mk
 â”‚   â”‚   â”œâ”€â”€ image.mk
 â”‚   â”‚   â””â”€â”€ ...
     â””â”€â”€ ...
 â”œâ”€â”€ Makefile
 â”œâ”€â”€ scripts
 â”‚   â”œâ”€â”€ gendoc.sh
 â”‚   â”œâ”€â”€ make-rules
 â”‚   â”‚   â”œâ”€â”€ gen.mk
 â”‚   â”‚   â”œâ”€â”€ golang.mk
 â”‚   â”‚   â”œâ”€â”€ image.mk
 â”‚   â”‚   â””â”€â”€ ...
     â””â”€â”€ ...</code></pre></div><p data-pid="GGF2YbBD">æˆ‘ä»¬å°†ç›¸åŒç±»åˆ«çš„æ“ä½œç»Ÿä¸€æ”¾åœ¨ <code>scripts/make-rules</code> ç›®å½•ä¸‹çš„ Makefile æ–‡ä»¶ä¸­ã€‚<b>Makefile çš„æ–‡ä»¶åå‚è€ƒåˆ†ç±»å‘½å</b>ï¼Œä¾‹å¦‚ <code>golang.mk</code>ã€‚æœ€åï¼Œåœ¨ <code>/Makefile</code> ä¸­ include è¿™äº› Makefileã€‚</p><blockquote data-pid="XbC5AgVh">éœ€è¦ä½¿ç”¨ <code>include</code> æ¥è·å–å¤´æ–‡ä»¶ï¼š<br><code>include</code>æ˜¯ä¸€ç§æŒ‡ä»¤ï¼Œç”¨äºå°†å¦ä¸€ä¸ªæ–‡ä»¶ä¸­çš„è§„åˆ™å’Œå˜é‡å¯¼å…¥åˆ°å½“å‰çš„makefileä¸­ã€‚è¿™æ ·åšå¯ä»¥è®©ä½ çš„makefileæ›´åŠ æ¨¡å—åŒ–ï¼Œæ˜“äºç»´æŠ¤å’Œé‡ç”¨ã€‚<br><b>æ³¨æ„å’Œæˆ‘ä»¬ä¸Šé¢è®²çš„æ¨¡å—åŒ–åˆ†é… Makefile å±‚çº§è°ƒç”¨æœ‰äº›ä¸ä¸€æ ·ã€‚</b><br>ä¸‹é¢æ˜¯ä¸€ä¸ªincludeçš„æ¡ˆä¾‹ï¼Œå‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªåä¸º<code>main.c</code>çš„æºæ–‡ä»¶ï¼Œå®ƒéœ€è¦é“¾æ¥ä¸€ä¸ªåä¸º<code>libfoo.a</code>çš„é™æ€åº“æ–‡ä»¶ã€‚æˆ‘ä»¬å¯ä»¥å°†è¿™äº›è§„åˆ™å’Œå˜é‡å®šä¹‰åœ¨ä¸€ä¸ªåä¸º<code>Makefile.inc</code>çš„æ–‡ä»¶ä¸­ï¼Œç„¶ååœ¨æˆ‘ä»¬çš„ä¸»makefileä¸­ä½¿ç”¨includeæŒ‡ä»¤å°†å…¶å¯¼å…¥ã€‚<br> CC = gcc<br> CFLAGS = -Wall -Werror -g<br> â€‹<br> all: libfoo.a<br> â€‹<br> libfoo.a: foo.o<br>  ar rcs $@ $^<br> â€‹<br> foo.o: foo.c foo.h<br>  $(CC) $(CFLAGS) -c $descriptionlt;<br> â€‹<br> clean:<br>  rm -f *.o libfoo.a<br> â€‹<br>ä¸»makefileæ–‡ä»¶ï¼š<br> include Makefile.inc<br> â€‹<br> main: main.c libfoo.a<br>  $(CC) $(CFLAGS) -o $@ $descriptionlt; -L. -lfoo<br> â€‹<br> .PHONY: clean<br> clean:<br>  $(MAKE) -C . -f Makefile.inc clean<br>  rm -f main<br><b>go è¯­è¨€Makefile  ç®€å•çš„ä¸€ä¸ªæ¡ˆä¾‹å¦‚ä¸‹ï¼š</b><br> # å®šä¹‰å˜é‡<br> GOCMD=go<br> GOBUILD=$(GOCMD) build<br> GOCLEAN=$(GOCMD) clean<br> BINARY_NAME=myapp<br> BINARY_UNIX=$(BINARY_NAME)_unix<br> â€‹<br> all: deps build<br> build:<br>  $(GOBUILD) -o $(BINARY_NAME) -v<br>  $(GOBUILD) -o $(BINARY_UNIX) -v<br> deps:<br>  $(GOCMD) get -u <a href="http://github.com/golang/dep/cmd/dep" target="_blank"><span class="invisible">http://</span><span class="visible">github.com/golang/dep/c</span><span class="invisible">md/dep</span><span class="ellipsis"></span></a><br>  dep ensure<br> clean:<br>  $(GOCLEAN)<br>  rm -f $(BINARY_NAME)<br>  rm -f $(BINARY_UNIX)<br> run:<br>  $(GOBUILD) -o $(BINARY_NAME) -v ./...<br>  ./$(BINARY_NAME)<br> include docker.mk<br> â€‹<br>åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæœ€åä¸€è¡Œ <code>include docker.mk</code> å¼•ç”¨äº†åä¸º <code>docker.mk</code> çš„ Makefile æ–‡ä»¶ã€‚è¿™ä¸ªæ–‡ä»¶ä¸­å¯èƒ½åŒ…å«äº†ä¸€äº› Docker ç›¸å…³çš„å‘½ä»¤ï¼Œæ¯”å¦‚æ„å»ºé•œåƒã€æ¨é€é•œåƒç­‰ç­‰ã€‚é€šè¿‡ include æŒ‡ä»¤ï¼Œè¿™äº›å‘½ä»¤å¯ä»¥è¢«è‡ªåŠ¨å¼•å…¥åˆ°ä¸» Makefile æ–‡ä»¶ä¸­ï¼Œä»è€Œå®ç°æ›´åŠ é«˜æ•ˆå’Œä¾¿æ·çš„ç¼–è¯‘å’Œæ„å»ºã€‚<br>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œinclude æŒ‡ä»¤çš„ä½œç”¨æ˜¯å°†è¢«å¼•å…¥çš„ Makefile æ–‡ä»¶çš„å†…å®¹ç›´æ¥å¤åˆ¶åˆ°ä¸» Makefile æ–‡ä»¶ä¸­ã€‚å› æ­¤ï¼Œå¦‚æœå¼•å…¥çš„æ–‡ä»¶ä¸­å®šä¹‰äº†å’Œä¸» Makefile æ–‡ä»¶ä¸­ç›¸åŒçš„å˜é‡æˆ–è€…è§„åˆ™ï¼Œä¼šå‘ç”Ÿå‘½åå†²çªã€‚å› æ­¤ï¼Œåœ¨ç¼–å†™è¢«å¼•å…¥çš„ Makefile æ–‡ä»¶æ—¶ï¼Œåº”è¯¥é¿å…ä½¿ç”¨å’Œä¸» Makefile æ–‡ä»¶ç›¸åŒçš„å˜é‡å’Œè§„åˆ™åã€‚</blockquote><p data-pid="w8f3MIsd">ä¸ºäº†è·Ÿ Makefile çš„å±‚çº§ç›¸åŒ¹é…ï¼Œ<code>golang.mk</code> ä¸­çš„æ‰€æœ‰ç›®æ ‡éƒ½æŒ‰<code>go.xxx</code>è¿™ç§æ–¹å¼å‘½åã€‚é€šè¿‡è¿™ç§å‘½åæ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åˆ†è¾¨å‡ºæŸä¸ªç›®æ ‡å®Œæˆä»€ä¹ˆåŠŸèƒ½ï¼Œæ”¾åœ¨ä»€ä¹ˆæ–‡ä»¶é‡Œï¼Œè¿™åœ¨å¤æ‚çš„ Makefile ä¸­å°¤å…¶æœ‰ç”¨ã€‚ä»¥ä¸‹æ˜¯ IAM é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼ŒMakefile çš„å†…å®¹æ‘˜å½•ï¼Œä½ å¯ä»¥çœ‹ä¸€çœ‹ï¼Œä½œä¸ºå‚è€ƒï¼š</p><div class="highlight"><pre><code class="language-text"> include scripts/make-rules/golang.mk
 include scripts/make-rules/image.mk
 include scripts/make-rules/gen.mk
 include scripts/make-rules/...
 â€‹
 ## build: Build source code for host platform.
 .PHONY: build
 build:
   @$(MAKE) go.build
 â€‹
 ## build.multiarch: Build source code for multiple platforms. See option PLATFORMS.
 .PHONY: build.multiarch
 build.multiarch:
   @$(MAKE) go.build.multiarch
 â€‹
 ## image: Build docker images for host arch.
 .PHONY: image
 image:
   @$(MAKE) image.build
 â€‹
 ## push: Build docker images for host arch and push images to registry.
 .PHONY: push
 push:
   @$(MAKE) image.push
 â€‹
 ## ca: Generate CA files for all iam components.
 .PHONY: ca
 ca:
   @$(MAKE) gen.ca</code></pre></div><p data-pid="zBdZ-uST">å¦å¤–ï¼Œä¸€ä¸ªåˆç†çš„ Makefile ç»“æ„åº”è¯¥å…·æœ‰å‰ç»æ€§ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¦åœ¨ä¸æ”¹å˜ç°æœ‰ç»“æ„çš„æƒ…å†µä¸‹ï¼Œæ¥çº³åé¢çš„æ–°åŠŸèƒ½ã€‚è¿™å°±éœ€è¦ä½ æ•´ç†å¥½ Makefile å½“å‰è¦å®ç°çš„åŠŸèƒ½ã€å³å°†è¦å®ç°çš„åŠŸèƒ½å’Œæœªæ¥å¯èƒ½ä¼šå®ç°çš„åŠŸèƒ½ï¼Œç„¶ååŸºäºè¿™äº›åŠŸèƒ½ï¼Œåˆ©ç”¨ Makefile ç¼–ç¨‹æŠ€å·§ï¼Œç¼–å†™å¯æ‰©å±•çš„ Makefileã€‚</p><p data-pid="nOHEzvcT">è¿™é‡Œéœ€è¦ä½ æ³¨æ„ï¼šä¸Šé¢çš„ Makefile é€šè¿‡ <code>.PHONY</code> æ ‡è¯†å®šä¹‰äº†å¤§é‡çš„ä¼ªç›®æ ‡ï¼Œå®šä¹‰ä¼ªç›®æ ‡ä¸€å®šè¦åŠ  <code>.PHONY</code> æ ‡è¯†ï¼Œå¦åˆ™å½“æœ‰åŒåçš„æ–‡ä»¶æ—¶ï¼Œä¼ªç›®æ ‡å¯èƒ½ä¸ä¼šè¢«æ‰§è¡Œã€‚</p><p class="ztext-empty-paragraph"><br></p><h2><b>æŒæ¡ Makefile ç¼–å†™æŠ€å·§</b></h2><h3><b>æŠ€å·§ 1ï¼šå–„ç”¨é€šé…ç¬¦å’Œè‡ªåŠ¨å˜é‡</b></h3><p data-pid="RCSzTOUU">Makefile å…è®¸å¯¹ç›®æ ‡è¿›è¡Œç±»ä¼¼æ­£åˆ™è¿ç®—çš„åŒ¹é…ï¼Œä¸»è¦ç”¨åˆ°çš„é€šé…ç¬¦æ˜¯%ã€‚é€šè¿‡ä½¿ç”¨é€šé…ç¬¦ï¼Œå¯ä»¥ä½¿ä¸åŒçš„ç›®æ ‡ä½¿ç”¨ç›¸åŒçš„è§„åˆ™ï¼Œä»è€Œä½¿ Makefile æ‰©å±•æ€§æ›´å¼ºï¼Œä¹Ÿæ›´ç®€æ´ã€‚</p><p data-pid="tcyHdNv-">æˆ‘ä»¬çš„ IAM å®æˆ˜é¡¹ç›®ä¸­ï¼Œå°±å¤§é‡ä½¿ç”¨äº†é€šé…ç¬¦<code>%</code>ï¼Œä¾‹å¦‚ï¼š<code>go.build.%</code>ã€<code>ca.gen.%</code>ã€<code>deploy.run.%</code>ã€<code>tools.verify.%</code>ã€<code>tools.install.%</code>ç­‰ã€‚</p><p data-pid="IdTRxEPI">è¿™é‡Œï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªå…·ä½“çš„ä¾‹å­ï¼Œ<code>tools.verify.%</code>ï¼ˆä½äº<code>scripts/make-rules/tools.mk</code>æ–‡ä»¶ä¸­ï¼‰å®šä¹‰å¦‚ä¸‹ï¼š</p><div class="highlight"><pre><code class="language-text"> tools.verify.%:
   @if ! which $* &amp;&gt;/dev/null; then $(MAKE) tools.install.$*; fi</code></pre></div><p data-pid="eojjiH1E"><code>make tools.verify.swagger</code>, <code>make tools.verify.mockgen</code>ç­‰å‡å¯ä»¥ä½¿ç”¨ä¸Šé¢å®šä¹‰çš„è§„åˆ™ï¼Œ%åˆ†åˆ«ä»£è¡¨äº†<code>swagger</code>å’Œ<code>mockgen</code>ã€‚</p><p data-pid="azWBSeLQ">å¦‚æœä¸ä½¿ç”¨<code>%</code>ï¼Œåˆ™æˆ‘ä»¬éœ€è¦åˆ†åˆ«ä¸º<code>tools.verify.swagger</code>å’Œ<code>tools.verify.mockgen</code>å®šä¹‰è§„åˆ™ï¼Œå¾ˆéº»çƒ¦ï¼Œåé¢ä¿®æ”¹ä¹Ÿå›°éš¾ã€‚</p><p data-pid="PnflaInN">å¦å¤–ï¼Œè¿™é‡Œä¹Ÿèƒ½çœ‹å‡º<code>tools.verify.%</code>è¿™ç§å‘½åæ–¹å¼çš„å¥½å¤„ï¼štools è¯´æ˜ä¾èµ–çš„å®šä¹‰ä½äº<code>scripts/make-rules/tools.mk</code> Makefile ä¸­ï¼›verifyè¯´æ˜<code>tools.verify.%</code>ä¼ªç›®æ ‡å±äº verify åˆ†ç±»ï¼Œä¸»è¦ç”¨æ¥éªŒè¯å·¥å…·æ˜¯å¦å®‰è£…ã€‚é€šè¿‡è¿™ç§å‘½åæ–¹å¼ï¼Œä½ å¯ä»¥å¾ˆå®¹æ˜“åœ°çŸ¥é“ç›®æ ‡ä½äºå“ªä¸ª Makefile æ–‡ä»¶ä¸­ï¼Œä»¥åŠæƒ³è¦å®Œæˆçš„åŠŸèƒ½ã€‚</p><p data-pid="jwtQ49ag">å¦å¤–ï¼Œä¸Šé¢çš„å®šä¹‰ä¸­è¿˜ç”¨åˆ°äº†è‡ªåŠ¨å˜é‡<code>$*</code>ï¼Œç”¨æ¥æŒ‡ä»£è¢«åŒ¹é…çš„å€¼<code>swagger</code>ã€<code>mockgen</code>ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>æŠ€å·§ 2ï¼šå–„ç”¨å‡½æ•°</b></h3><p data-pid="e1wGpdmM">Makefile è‡ªå¸¦çš„å‡½æ•°èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬å®ç°å¾ˆå¤šå¼ºå¤§çš„åŠŸèƒ½ã€‚æ‰€ä»¥ï¼Œåœ¨æˆ‘ä»¬ç¼–å†™ Makefile çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæœ‰åŠŸèƒ½éœ€æ±‚ï¼Œå¯ä»¥ä¼˜å…ˆä½¿ç”¨è¿™äº›å‡½æ•°ã€‚æˆ‘æŠŠå¸¸ç”¨çš„å‡½æ•°ä»¥åŠå®ƒä»¬å®ç°çš„åŠŸèƒ½æ•´ç†åœ¨äº† <a href="https://github.com/marmotedu/geekbang-go/blob/master/makefile/Makefile%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0%E5%88%97%E8%A1%A8.md" target="_blank">Makefile</a> å¸¸ç”¨å‡½æ•°åˆ—è¡¨ ä¸­ï¼Œä½ å¯ä»¥å‚è€ƒä¸‹ã€‚</p><p data-pid="eFwkXNMu">IAM çš„ Makefile æ–‡ä»¶ä¸­å¤§é‡ä½¿ç”¨äº†ä¸Šè¿°å‡½æ•°ï¼Œå¦‚æœä½ æƒ³æŸ¥çœ‹è¿™äº›å‡½æ•°çš„å…·ä½“ä½¿ç”¨æ–¹æ³•å’Œåœºæ™¯ï¼Œå¯ä»¥å‚è€ƒ IAM é¡¹ç›®çš„ Makefile æ–‡ä»¶ <code>make-rules</code>ã€‚</p><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>æŠ€å·§ 3ï¼šä¾èµ–éœ€è¦ç”¨åˆ°çš„å·¥å…·</b></h3><p data-pid="QQ56t1cB">å¦‚æœ Makefile æŸä¸ªç›®æ ‡çš„å‘½ä»¤ä¸­ç”¨åˆ°äº†æŸä¸ªå·¥å…·ï¼Œå¯ä»¥å°†è¯¥å·¥å…·æ”¾åœ¨ç›®æ ‡çš„ä¾èµ–ä¸­ã€‚è¿™æ ·ï¼Œå½“æ‰§è¡Œè¯¥ç›®æ ‡æ—¶ï¼Œå°±å¯ä»¥æŒ‡å®šæ£€æŸ¥ç³»ç»Ÿæ˜¯å¦å®‰è£…è¯¥å·¥å…·ï¼Œå¦‚æœæ²¡æœ‰å®‰è£…åˆ™è‡ªåŠ¨å®‰è£…ï¼Œä»è€Œå®ç°æ›´é«˜ç¨‹åº¦çš„è‡ªåŠ¨åŒ–ã€‚ä¾‹å¦‚ï¼Œ<code>/Makefile</code> æ–‡ä»¶ä¸­ï¼Œ<code>format</code> ä¼ªç›®æ ‡ï¼Œå®šä¹‰å¦‚ä¸‹ï¼š</p><div class="highlight"><pre><code class="language-bash"> .PHONY: format
 format: tools.verify.golines tools.verify.goimports
   @echo <span class="s2">"===========&gt; Formating codes"</span>
   @<span class="k">$(</span>FIND<span class="k">)</span> -type f -name <span class="s1">'*.go'</span> <span class="p">|</span> <span class="k">$(</span>XARGS<span class="k">)</span> gofmt -s -w
   @<span class="k">$(</span>FIND<span class="k">)</span> -type f -name <span class="s1">'*.go'</span> <span class="p">|</span> <span class="k">$(</span>XARGS<span class="k">)</span> goimports -w -local <span class="k">$(</span>ROOT_PACKAGE<span class="k">)</span>
   @<span class="k">$(</span>FIND<span class="k">)</span> -type f -name <span class="s1">'*.go'</span> <span class="p">|</span> <span class="k">$(</span>XARGS<span class="k">)</span> golines -w --max-len<span class="o">=</span><span class="m">120</span> --reformat-tags --shorten-comments --ignore-generated .</code></pre></div><p data-pid="m-s7GsN9">ä½ å¯ä»¥çœ‹åˆ°ï¼Œformat ä¾èµ–<code>tools.verify.golines tools.verify.goimports</code>ã€‚æˆ‘ä»¬å†æ¥çœ‹ä¸‹<code>tools.verify.golines</code>çš„å®šä¹‰ï¼š</p><div class="highlight"><pre><code class="language-bash"> tools.verify.%:
   @if ! which <span class="nv">$*</span> <span class="p">&amp;</span>&gt;/dev/null<span class="p">;</span> <span class="k">then</span> <span class="k">$(</span>MAKE<span class="k">)</span> tools.install.<span class="nv">$*</span><span class="p">;</span> <span class="k">fi</span></code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="AmE2mRzB">å†æ¥çœ‹ä¸‹<code>tools.install.$*</code>è§„åˆ™ï¼š</p><div class="highlight"><pre><code class="language-bash">.PHONY: install.golines
install.golines:
  @<span class="k">$(</span>GO<span class="k">)</span> get -u github.com/segmentio/golines</code></pre></div><p data-pid="E-ebLEGL">é€šè¿‡<code>tools.verify.%</code>è§„åˆ™å®šä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œ<code>tools.verify.%</code>ä¼šå…ˆæ£€æŸ¥å·¥å…·æ˜¯å¦å®‰è£…ï¼Œå¦‚æœæ²¡æœ‰å®‰è£…ï¼Œå°±ä¼šæ‰§è¡Œ<code>tools.install.$*</code>æ¥å®‰è£…ã€‚å¦‚æ­¤ä¸€æ¥ï¼Œå½“æˆ‘ä»¬æ‰§è¡Œ<code>tools.verify.%</code>ç›®æ ‡æ—¶ï¼Œå¦‚æœç³»ç»Ÿæ²¡æœ‰å®‰è£… golines å‘½ä»¤ï¼Œå°±ä¼šè‡ªåŠ¨è°ƒç”¨go getå®‰è£…ï¼Œæé«˜äº† Makefile çš„è‡ªåŠ¨åŒ–ç¨‹åº¦ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>æŠ€å·§ 4ï¼šæŠŠå¸¸ç”¨åŠŸèƒ½æ”¾åœ¨ /Makefile ä¸­ï¼Œä¸å¸¸ç”¨çš„æ”¾åœ¨åˆ†ç±» Makefile ä¸­</b></h3><p data-pid="2MN3yr0x">ä¸€ä¸ªé¡¹ç›®ï¼Œå°¤å…¶æ˜¯å¤§å‹é¡¹ç›®ï¼Œæœ‰å¾ˆå¤šéœ€è¦ç®¡ç†çš„åœ°æ–¹ï¼Œå…¶ä¸­å¤§éƒ¨åˆ†éƒ½å¯ä»¥é€šè¿‡ Makefile å®ç°è‡ªåŠ¨åŒ–æ“ä½œã€‚ä¸è¿‡ï¼Œä¸ºäº†ä¿æŒ <code>/Makefile</code> æ–‡ä»¶çš„æ•´æ´æ€§ï¼Œæˆ‘ä»¬ä¸èƒ½æŠŠæ‰€æœ‰çš„å‘½ä»¤éƒ½æ·»åŠ åœ¨ <code>/Makefile</code> æ–‡ä»¶ä¸­ã€‚</p><p data-pid="B02TUDBa">ä¸€ä¸ªæ¯”è¾ƒå¥½çš„å»ºè®®æ˜¯ï¼Œå°†å¸¸ç”¨åŠŸèƒ½æ”¾åœ¨ /Makefile ä¸­ï¼Œä¸å¸¸ç”¨çš„æ”¾åœ¨åˆ†ç±» Makefile ä¸­ï¼Œå¹¶åœ¨ /Makefile ä¸­ include è¿™äº›åˆ†ç±» Makefileã€‚</p><p data-pid="DdU9lV_V">ä¾‹å¦‚ï¼ŒIAM é¡¹ç›®çš„ /Makefile é›†æˆäº†formatã€lintã€testã€buildç­‰å¸¸ç”¨å‘½ä»¤ï¼Œè€Œå°†<code>gen.errcode.codeã€gen.errcode.doc</code>è¿™ç±»ä¸å¸¸ç”¨çš„åŠŸèƒ½æ”¾åœ¨ <code>scripts/make-rules/gen.mk</code> æ–‡ä»¶ä¸­ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æ¥æ‰§è¡Œ make gen.errcode.codeæ¥æ‰§è¡Œgen.errcode.codeä¼ªç›®æ ‡ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæ—¢å¯ä»¥ä¿è¯ /Makefile çš„ç®€æ´ã€æ˜“ç»´æŠ¤ï¼Œåˆå¯ä»¥é€šè¿‡makeå‘½ä»¤æ¥è¿è¡Œä¼ªç›®æ ‡ï¼Œæ›´åŠ çµæ´»ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>æŠ€å·§ 5ï¼šç¼–å†™å¯æ‰©å±•çš„ Makefile</b></h3><p data-pid="li2iOoiW">ä»€ä¹ˆå«å¯æ‰©å±•çš„ Makefile å‘¢ï¼Ÿåœ¨æˆ‘çœ‹æ¥ï¼Œå¯æ‰©å±•çš„ Makefile åŒ…å«ä¸¤å±‚å«ä¹‰ï¼š</p><ul><li data-pid="pq8XBogm">å¯ä»¥åœ¨ä¸æ”¹å˜ Makefile ç»“æ„çš„æƒ…å†µä¸‹æ·»åŠ æ–°åŠŸèƒ½ã€‚</li><li data-pid="8MtWbkeD">æ‰©å±•é¡¹ç›®æ—¶ï¼Œæ–°åŠŸèƒ½å¯ä»¥è‡ªåŠ¨çº³å…¥åˆ° Makefile ç°æœ‰é€»è¾‘ä¸­ã€‚</li></ul><p data-pid="Ai3A7lPZ">å…¶ä¸­çš„ç¬¬ä¸€ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è®¾è®¡åˆç†çš„ Makefile ç»“æ„æ¥å®ç°ã€‚è¦å®ç°ç¬¬äºŒç‚¹ï¼Œå°±éœ€è¦æˆ‘ä»¬åœ¨ç¼–å†™ Makefile æ—¶é‡‡ç”¨ä¸€å®šçš„æŠ€å·§ï¼Œä¾‹å¦‚å¤šç”¨é€šé…ç¬¦ã€è‡ªåŠ¨å˜é‡ã€å‡½æ•°ç­‰ã€‚è¿™é‡Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼Œå¯ä»¥è®©ä½ æ›´å¥½åœ°ç†è§£ã€‚</p><p data-pid="vW093qkq">åœ¨æˆ‘ä»¬ IAM å®æˆ˜é¡¹ç›®çš„golang.mkä¸­ï¼Œæ‰§è¡Œ <code>make go.build</code> æ—¶èƒ½å¤Ÿæ„å»º <code>cmd/</code> ç›®å½•ä¸‹çš„æ‰€æœ‰ç»„ä»¶ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå½“æœ‰æ–°ç»„ä»¶æ·»åŠ æ—¶ï¼Œ <code>make go.build</code> ä»ç„¶èƒ½å¤Ÿæ„å»ºæ–°å¢çš„ç»„ä»¶ï¼Œè¿™å°±å®ç°äº†ä¸Šé¢è¯´çš„ç¬¬äºŒç‚¹ã€‚</p><p data-pid="45_pGgNc">å…·ä½“å®ç°æ–¹æ³•å¦‚ä¸‹ï¼š</p><div class="highlight"><pre><code class="language-text">COMMANDS ?= $(filter-out %.md, $(wildcard ${ROOT_DIR}/cmd/*))
BINS ?= $(foreach cmd,${COMMANDS},$(notdir ${cmd}))

.PHONY: go.build
go.build: go.build.verify $(addprefix go.build., $(addprefix $(PLATFORM)., $(BINS)))
.PHONY: go.build.%               

go.build.%:             
  $(eval COMMAND := $(word 2,$(subst ., ,$*)))
  $(eval PLATFORM := $(word 1,$(subst ., ,$*)))
  $(eval OS := $(word 1,$(subst _, ,$(PLATFORM))))           
  $(eval ARCH := $(word 2,$(subst _, ,$(PLATFORM))))                         
  @echo "===========&gt; Building binary $(COMMAND) $(VERSION) for $(OS) $(ARCH)"
  @mkdir -p $(OUTPUT_DIR)/platforms/$(OS)/$(ARCH)
  @CGO_ENABLED=0 GOOS=$(OS) GOARCH=$(ARCH) $(GO) build $(GO_BUILD_FLAGS) -o $(OUTPUT_DIR)/platforms/$(OS)/$(ARCH)/$(COMMAND)$(GO_OUT_EXT) $(ROOT_PACKAGE)/cmd/$(COMMAND)
COMMANDS ?= $(filter-out %.md, $(wildcard ${ROOT_DIR}/cmd/*))
BINS ?= $(foreach cmd,${COMMANDS},$(notdir ${cmd}))

.PHONY: go.build
go.build: go.build.verify $(addprefix go.build., $(addprefix $(PLATFORM)., $(BINS)))
.PHONY: go.build.%               

go.build.%:             
  $(eval COMMAND := $(word 2,$(subst ., ,$*)))
  $(eval PLATFORM := $(word 1,$(subst ., ,$*)))
  $(eval OS := $(word 1,$(subst _, ,$(PLATFORM))))           
  $(eval ARCH := $(word 2,$(subst _, ,$(PLATFORM))))                         
  @echo "===========&gt; Building binary $(COMMAND) $(VERSION) for $(OS) $(ARCH)"
  @mkdir -p $(OUTPUT_DIR)/platforms/$(OS)/$(ARCH)
  @CGO_ENABLED=0 GOOS=$(OS) GOARCH=$(ARCH) $(GO) build $(GO_BUILD_FLAGS) -o $(OUTPUT_DIR)/platforms/$(OS)/$(ARCH)/$(COMMAND)$(GO_OUT_EXT) $(ROOT_PACKAGE)/cmd/$(COMMAND)</code></pre></div><p data-pid="26G3nS1D">å½“æ‰§è¡Œmake go.build æ—¶ï¼Œä¼šæ‰§è¡Œ go.build çš„ä¾èµ– <code>$(addprefix go.build., $(addprefix $(PLATFORM)., $(BINS))</code>) ,<code>addprefix</code>å‡½æ•°æœ€ç»ˆè¿”å›å­—ç¬¦ä¸² <code>go.build.linux_amd64.iamctl go.build.linux_amd64.iam-authz-server go.build.linux_amd64.iam-apiserver ...</code> ï¼Œè¿™æ—¶å€™å°±ä¼šæ‰§è¡Œ <code>go.build.%</code> ä¼ªç›®æ ‡ã€‚</p><p data-pid="QP4PejWM">åœ¨ <code>go.build.%</code> ä¼ªç›®æ ‡ä¸­ï¼Œé€šè¿‡ evalã€wordã€subst å‡½æ•°ç»„åˆï¼Œç®—å‡ºäº† COMMAND çš„å€¼ <code>iamctl/iam-apiserver/iam-authz-server/...</code>ï¼Œæœ€ç»ˆé€šè¿‡ <code>$(ROOT_PACKAGE)/cmd/$(COMMAND)</code> å®šä½åˆ°éœ€è¦æ„å»ºçš„ç»„ä»¶çš„ main å‡½æ•°æ‰€åœ¨ç›®å½•ã€‚</p><p data-pid="b05e1lP1">ä¸Šè¿°å®ç°ä¸­æœ‰ä¸¤ä¸ªæŠ€å·§ï¼Œä½ å¯ä»¥æ³¨æ„ä¸‹ã€‚é¦–å…ˆï¼Œé€šè¿‡</p><div class="highlight"><pre><code class="language-bash">COMMANDS ?<span class="o">=</span> <span class="k">$(</span>filter-out %.md, <span class="k">$(</span>wildcard <span class="si">${</span><span class="nv">ROOT_DIR</span><span class="si">}</span>/cmd/*<span class="k">))</span>
BINS ?<span class="o">=</span> <span class="k">$(</span>foreach cmd,<span class="si">${</span><span class="nv">COMMANDS</span><span class="si">}</span>,<span class="k">$(</span>notdir <span class="si">${</span><span class="nv">cmd</span><span class="si">}</span><span class="k">))</span></code></pre></div><p data-pid="12XC7DdV">è·å–åˆ°äº† cmd/ ç›®å½•ä¸‹çš„æ‰€æœ‰ç»„ä»¶åã€‚</p><p data-pid="Pkxzby3P">æ¥ç€ï¼Œé€šè¿‡ä½¿ç”¨é€šé…ç¬¦å’Œè‡ªåŠ¨å˜é‡ï¼Œè‡ªåŠ¨åŒ¹é…åˆ°<code>go.build.linux_amd64.iam-authz-server</code> è¿™ç±»ä¼ªç›®æ ‡å¹¶æ„å»ºã€‚</p><p data-pid="rT1j2Bg8">å¯ä»¥çœ‹åˆ°ï¼Œæƒ³è¦ç¼–å†™ä¸€ä¸ªå¯æ‰©å±•çš„ Makefileï¼Œç†Ÿç»ƒæŒæ¡ Makefile çš„ç”¨æ³•æ˜¯åŸºç¡€ï¼Œæ›´å¤šçš„æ˜¯éœ€è¦æˆ‘ä»¬åŠ¨è„‘æ€è€ƒå¦‚ä½•å»ç¼–å†™ Makefileã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>æŠ€å·§ 6ï¼šå°†æ‰€æœ‰è¾“å‡ºå­˜æ”¾åœ¨ä¸€ä¸ªç›®å½•ä¸‹ï¼Œæ–¹ä¾¿æ¸…ç†å’ŒæŸ¥æ‰¾</b></h3><p data-pid="5vocGHVI">åœ¨æ‰§è¡Œ Makefile çš„è¿‡ç¨‹ä¸­ï¼Œä¼šè¾“å‡ºå„ç§å„æ ·çš„æ–‡ä»¶ï¼Œä¾‹å¦‚ Go ç¼–è¯‘åçš„äºŒè¿›åˆ¶æ–‡ä»¶ã€æµ‹è¯•è¦†ç›–ç‡æ•°æ®ç­‰ï¼Œæˆ‘å»ºè®®ä½ æŠŠè¿™äº›æ–‡ä»¶ç»Ÿä¸€æ”¾åœ¨ä¸€ä¸ªç›®å½•ä¸‹ï¼Œæ–¹ä¾¿åæœŸçš„æ¸…ç†å’ŒæŸ¥æ‰¾ã€‚é€šå¸¸æˆ‘ä»¬å¯ä»¥æŠŠå®ƒä»¬æ”¾åœ¨<code>_output</code>è¿™ç±»ç›®å½•ä¸‹ï¼Œè¿™æ ·æ¸…ç†æ—¶å°±å¾ˆæ–¹ä¾¿ï¼Œåªéœ€è¦æ¸…ç†<code>_output</code>æ–‡ä»¶å¤¹å°±å¯ä»¥ï¼Œä¾‹å¦‚ï¼š</p><div class="highlight"><pre><code class="language-bash">.PHONY: go.clean
go.clean:
  @echo <span class="s2">"===========&gt; Cleaning all build output"</span>
  @-rm -vrf <span class="k">$(</span>OUTPUT_DIR<span class="k">)</span></code></pre></div><p data-pid="NbQpvBRG">è¿™é‡Œè¦æ³¨æ„ï¼Œè¦ç”¨<code>-rm</code>ï¼Œè€Œä¸æ˜¯rmï¼Œé˜²æ­¢åœ¨æ²¡æœ‰<code>_output</code>ç›®å½•æ—¶ï¼Œæ‰§è¡Œ<code>make go.clean</code>æŠ¥é”™ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>æŠ€å·§ 7ï¼šä½¿ç”¨å¸¦å±‚çº§çš„å‘½åæ–¹å¼</b></h3><p data-pid="ki6QWccY">é€šè¿‡ä½¿ç”¨å¸¦å±‚çº§çš„å‘½åæ–¹å¼ï¼Œä¾‹å¦‚<code>tools.verify.swagger</code> ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°ç›®æ ‡åˆ†ç»„ç®¡ç†ã€‚è¿™æ ·åšçš„å¥½å¤„æœ‰å¾ˆå¤šã€‚é¦–å…ˆï¼Œå½“ Makefile æœ‰å¤§é‡ç›®æ ‡æ—¶ï¼Œé€šè¿‡åˆ†ç»„ï¼Œæˆ‘ä»¬å¯ä»¥æ›´å¥½åœ°ç®¡ç†è¿™äº›ç›®æ ‡ã€‚å…¶æ¬¡ï¼Œåˆ†ç»„ä¹Ÿèƒ½æ–¹ä¾¿ç†è§£ï¼Œå¯ä»¥é€šè¿‡ç»„åä¸€çœ¼è¯†åˆ«å‡ºè¯¥ç›®æ ‡çš„åŠŸèƒ½ç±»åˆ«ã€‚æœ€åï¼Œè¿™æ ·åšè¿˜å¯ä»¥å¤§å¤§å‡å°ç›®æ ‡é‡åçš„æ¦‚ç‡ã€‚</p><p data-pid="JYHrAL6f">ä¾‹å¦‚ï¼ŒIAM é¡¹ç›®çš„ Makefile å°±å¤§é‡é‡‡ç”¨äº†ä¸‹é¢è¿™ç§å‘½åæ–¹å¼ã€‚</p><div class="highlight"><pre><code class="language-text">.PHONY: gen.run
gen.run: gen.clean gen.errcode gen.docgo

.PHONY: gen.errcode
gen.errcode: gen.errcode.code gen.errcode.doc

.PHONY: gen.errcode.code
gen.errcode.code: tools.verify.codegen
    ...
.PHONY: gen.errcode.doc
gen.errcode.doc: tools.verify.codegen
    ...</code></pre></div><p class="ztext-empty-paragraph"><br></p><h3><b>æŠ€å·§ 8ï¼šåšå¥½ç›®æ ‡æ‹†åˆ†</b></h3><p data-pid="-GiXknO-">è¿˜æœ‰ä¸€ä¸ªæ¯”è¾ƒå®ç”¨çš„æŠ€å·§ï¼šæˆ‘ä»¬è¦åˆç†åœ°æ‹†åˆ†ç›®æ ‡ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥å°†å®‰è£…å·¥å…·æ‹†åˆ†æˆä¸¤ä¸ªç›®æ ‡ï¼šéªŒè¯å·¥å…·æ˜¯å¦å·²å®‰è£…å’Œå®‰è£…å·¥å…·ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œå¯ä»¥ç»™æˆ‘ä»¬çš„ Makefile å¸¦æ¥æ›´å¤§çš„çµæ´»æ€§ã€‚ä¾‹å¦‚ï¼šæˆ‘ä»¬å¯ä»¥æ ¹æ®éœ€è¦é€‰æ‹©æ€§åœ°æ‰§è¡Œå…¶ä¸­ä¸€ä¸ªæ“ä½œï¼Œä¹Ÿå¯ä»¥ä¸¤ä¸ªæ“ä½œä¸€èµ·æ‰§è¡Œã€‚</p><p data-pid="Ei3ztFZi">è¿™é‡Œæ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š</p><div class="highlight"><pre><code class="language-text">gen.errcode.code: tools.verify.codegen

tools.verify.%:    
  @if ! which $* &amp;&gt;/dev/null; then $(MAKE) tools.install.$*; fi  

.PHONY: install.codegen
install.codegen:              
  @$(GO) install ${ROOT_DIR}/tools/codegen/codegen.go</code></pre></div><p data-pid="8Ngi2VCN">ä¸Šé¢çš„ Makefile ä¸­ï¼Œ<code>gen.errcode.code</code> ä¾èµ–äº† <code>tools.verify.codegen</code>ï¼Œ<code>tools.verify.codegen</code> ä¼šå…ˆæ£€æŸ¥ codegen å‘½ä»¤æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œå†è°ƒç”¨ install.codegen æ¥å®‰è£… codegen å·¥å…·ã€‚</p><p data-pid="51IgAjAO">å¦‚æœæˆ‘ä»¬çš„ Makefile è®¾è®¡æ˜¯ï¼š</p><div class="highlight"><pre><code class="language-bash">gen.errcode.code: install.codegen</code></pre></div><p data-pid="DqxGFJsc">é‚£æ¯æ¬¡æ‰§è¡Œ gen.errcode.code éƒ½è¦é‡æ–°å®‰è£… codegen å‘½ä»¤ï¼Œè¿™ç§æ“ä½œæ˜¯ä¸å¿…è¦çš„ï¼Œè¿˜ä¼šå¯¼è‡´ make gen.errcode.code æ‰§è¡Œå¾ˆæ…¢ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>æŠ€å·§ 9ï¼šè®¾ç½® OPTIONS</b></h3><p data-pid="7XePDEnh">ç¼–å†™ Makefile æ—¶ï¼Œæˆ‘ä»¬è¿˜éœ€è¦æŠŠä¸€äº›å¯å˜çš„åŠŸèƒ½é€šè¿‡ OPTIONS æ¥æ§åˆ¶ã€‚ä¸ºäº†å¸®åŠ©ä½ ç†è§£ï¼Œè¿™é‡Œè¿˜æ˜¯æ‹¿ IAM é¡¹ç›®çš„ Makefile æ¥ä¸¾ä¾‹ã€‚</p><p data-pid="VNYBGkbP">å‡è®¾æˆ‘ä»¬éœ€è¦é€šè¿‡ä¸€ä¸ªé€‰é¡¹ V ï¼Œæ¥æ§åˆ¶æ˜¯å¦éœ€è¦åœ¨æ‰§è¡Œ Makefile æ—¶æ‰“å°è¯¦ç»†çš„ä¿¡æ¯ã€‚è¿™å¯ä»¥é€šè¿‡ä¸‹é¢çš„æ­¥éª¤æ¥å®ç°ã€‚</p><p data-pid="V8yfUCwp">é¦–å…ˆï¼Œåœ¨ <code>/Makefile</code> ä¸­å®šä¹‰ <code>USAGE_OPTIONS</code> ã€‚å®šä¹‰ <code>USAGE_OPTIONS</code> å¯ä»¥ä½¿å¼€å‘è€…åœ¨æ‰§è¡Œ make help åæ„ŸçŸ¥åˆ°æ­¤ OPTIONï¼Œå¹¶æ ¹æ®éœ€è¦è¿›è¡Œè®¾ç½®ã€‚</p><div class="highlight"><pre><code class="language-bash">define USAGE_OPTIONS    
                         
Options:
  ...
  BINS         The binaries to build. Default is all of cmd.
               ...
  ...
  V            Set to <span class="m">1</span> <span class="nb">enable</span> verbose build. Default is 0.    
endef    
<span class="nb">export</span> USAGE_OPTIONS    </code></pre></div><p data-pid="mTg8Y819">æ¥ç€ï¼Œåœ¨<code>scripts/make-rules/common.mk</code>æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡åˆ¤æ–­æœ‰æ²¡æœ‰è®¾ç½® V é€‰é¡¹ï¼Œæ¥é€‰æ‹©ä¸åŒçš„è¡Œä¸ºï¼š</p><div class="highlight"><pre><code class="language-text">ifndef V    
MAKEFLAGS += --no-print-directory    
endif</code></pre></div><p data-pid="z3aeXnBO">å½“ç„¶ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹æ³•æ¥ä½¿ç”¨ V ï¼š</p><div class="highlight"><pre><code class="language-bash">ifeq <span class="o">(</span><span class="k">$(</span>origin V<span class="k">)</span>, undefined<span class="o">)</span>                                
<span class="nv">MAKEFLAGS</span> <span class="o">+=</span> --no-print-directory              
endif</code></pre></div><p data-pid="BkrWmdxR">ä¸Šé¢ï¼Œæˆ‘ä»‹ç»äº† V OPTIONï¼Œæˆ‘ä»¬åœ¨ Makefile ä¸­é€šè¿‡åˆ¤æ–­æœ‰æ²¡æœ‰å®šä¹‰ V ï¼Œæ¥æ‰§è¡Œä¸åŒçš„æ“ä½œã€‚å…¶å®è¿˜æœ‰ä¸€ç§ OPTIONï¼Œè¿™ç§ OPTION çš„å€¼æˆ‘ä»¬åœ¨ Makefile ä¸­æ˜¯ç›´æ¥ä½¿ç”¨çš„ï¼Œä¾‹å¦‚BINSã€‚é’ˆå¯¹è¿™ç§ OPTIONï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æ¥ä½¿ç”¨ï¼š</p><div class="highlight"><pre><code class="language-bash">BINS ?<span class="o">=</span> <span class="k">$(</span>foreach cmd,<span class="si">${</span><span class="nv">COMMANDS</span><span class="si">}</span>,<span class="k">$(</span>notdir <span class="si">${</span><span class="nv">cmd</span><span class="si">}</span><span class="k">))</span>
...
go.build: go.build.verify <span class="k">$(</span>addprefix go.build., <span class="k">$(</span>addprefix <span class="k">$(</span>PLATFORM<span class="k">)</span>., <span class="k">$(</span>BINS<span class="k">)))</span></code></pre></div><p data-pid="zLLFKo8w">ä¹Ÿå°±æ˜¯è¯´ï¼Œé€šè¿‡ ?= æ¥åˆ¤æ–­ BINS å˜é‡æœ‰æ²¡æœ‰è¢«èµ‹å€¼ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™èµ‹äºˆç­‰å·åçš„å€¼ã€‚æ¥ä¸‹æ¥ï¼Œå°±å¯ä»¥åœ¨ Makefile è§„åˆ™ä¸­ä½¿ç”¨å®ƒã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>æŠ€å·§ 10ï¼šå®šä¹‰ç¯å¢ƒå˜é‡</b></h3><p data-pid="7t5dyn4j">æˆ‘ä»¬å¯ä»¥åœ¨ Makefile ä¸­å®šä¹‰ä¸€äº›ç¯å¢ƒå˜é‡ï¼Œä¾‹å¦‚ï¼š</p><div class="highlight"><pre><code class="language-text">GO := go                                          
GO_SUPPORTED_VERSIONS ?= 1.13|1.14|1.15|1.16|1.17    
GO_LDFLAGS += -X $(VERSION_PACKAGE).GitVersion=$(VERSION) \    
  -X $(VERSION_PACKAGE).GitCommit=$(GIT_COMMIT) \       
  -X $(VERSION_PACKAGE).GitTreeState=$(GIT_TREE_STATE) \                          
  -X $(VERSION_PACKAGE).BuildDate=$(shell date -u +'%Y-%m-%dT%H:%M:%SZ')    
ifneq ($(DLV),)                                                                                                                              
  GO_BUILD_FLAGS += -gcflags "all=-N -l"    
  LDFLAGS = ""      
endif                                                                                   
GO_BUILD_FLAGS += -tags=jsoniter -ldflags "$(GO_LDFLAGS)" 
...
FIND := find . ! -path './third_party/*' ! -path './vendor/*'    
XARGS := xargs --no-run-if-empty </code></pre></div><p data-pid="1sjG7zfI">è¿™äº›ç¯å¢ƒå˜é‡å’Œç¼–ç¨‹ä¸­ä½¿ç”¨å®å®šä¹‰çš„ä½œç”¨æ˜¯ä¸€æ ·çš„ï¼šåªè¦ä¿®æ”¹ä¸€å¤„ï¼Œå°±å¯ä»¥ä½¿å¾ˆå¤šåœ°æ–¹åŒæ—¶ç”Ÿæ•ˆï¼Œé¿å…äº†é‡å¤çš„å·¥ä½œã€‚</p><p data-pid="BN7sQKGK">é€šå¸¸ï¼Œæˆ‘ä»¬å¯ä»¥å°† GOã€GO_BUILD_FLAGSã€FIND è¿™ç±»å˜é‡å®šä¹‰ä¸ºç¯å¢ƒå˜é‡ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>æŠ€å·§ 11ï¼šè‡ªå·±è°ƒç”¨è‡ªå·±</b></h3><p data-pid="OuTDAFrQ">åœ¨ç¼–å†™ Makefile çš„è¿‡ç¨‹ä¸­ï¼Œä½ å¯èƒ½ä¼šé‡åˆ°è¿™æ ·ä¸€ç§æƒ…å†µï¼šA-Target ç›®æ ‡å‘½ä»¤ä¸­ï¼Œéœ€è¦å®Œæˆæ“ä½œ B-Actionï¼Œè€Œæ“ä½œ B-Action æˆ‘ä»¬å·²ç»é€šè¿‡ä¼ªç›®æ ‡ B-Target å®ç°è¿‡ã€‚ä¸ºäº†è¾¾åˆ°æœ€å¤§çš„ä»£ç å¤ç”¨åº¦ï¼Œè¿™æ—¶å€™æœ€å¥½çš„æ–¹å¼æ˜¯åœ¨ A-Target çš„å‘½ä»¤ä¸­æ‰§è¡Œ B-Targetã€‚æ–¹æ³•å¦‚ä¸‹ï¼š</p><div class="highlight"><pre><code class="language-bash">tools.verify.%:
  @if ! which <span class="nv">$*</span> <span class="p">&amp;</span>&gt;/dev/null<span class="p">;</span> <span class="k">then</span> <span class="k">$(</span>MAKE<span class="k">)</span> tools.install.<span class="nv">$*</span><span class="p">;</span> <span class="k">fi</span></code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="qy23e0eM">è¿™é‡Œï¼Œæˆ‘ä»¬é€šè¿‡ <code>$(MAKE)</code> è°ƒç”¨äº†ä¼ªç›®æ ‡ <code>tools.install.$*</code> ã€‚è¦æ³¨æ„çš„æ˜¯ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒMakefile åœ¨åˆ‡æ¢ç›®å½•æ—¶ä¼šè¾“å‡ºä»¥ä¸‹ä¿¡æ¯ï¼š</p><div class="highlight"><pre><code class="language-text">$ make tools.install.codegen
===========&gt; Installing codegen
make[1]: Entering directory `/home/colin/workspace/golang/src/github.com/marmotedu/iam'
make[1]: Leaving directory `/home/colin/workspace/golang/src/github.com/marmotedu/iam'</code></pre></div><p data-pid="pQJUufRR">å¦‚æœè§‰å¾— Entering directory è¿™ç±»ä¿¡æ¯å¾ˆçƒ¦äººï¼Œå¯ä»¥é€šè¿‡è®¾ç½® MAKEFLAGS += --no-print-directory æ¥ç¦æ­¢ Makefile æ‰“å°è¿™äº›ä¿¡æ¯ã€‚</p><p class="ztext-empty-paragraph"><br></p><h2><b>æ€»ç»“</b></h2><p data-pid="eaPzISwN"><b>è§„èŒƒçš„ Makefile  æ–‡ä»¶éœ€è¦çš„æ­¥éª¤ï¼š</b></p><ol><li data-pid="yXKpYKil">vé¦–å…ˆï¼Œä½ éœ€è¦ç†Ÿç»ƒæŒæ¡ Makefile çš„è¯­æ³•ã€‚æˆ‘å»ºè®®ä½ é‡ç‚¹æŒæ¡ä»¥ä¸‹è¯­æ³•ï¼šMakefile è§„åˆ™è¯­æ³•ã€ä¼ªç›®æ ‡ã€å˜é‡èµ‹å€¼ã€ç‰¹æ®Šå˜é‡ã€è‡ªåŠ¨åŒ–å˜é‡ã€‚</li><li data-pid="X83J2zij">æ¥ç€ï¼Œæˆ‘ä»¬éœ€è¦æå‰è§„åˆ’ Makefile è¦å®ç°çš„åŠŸèƒ½ã€‚ä¸€ä¸ªå¤§å‹ Go é¡¹ç›®é€šå¸¸éœ€è¦å®ç°ä»¥ä¸‹åŠŸèƒ½ï¼šä»£ç ç”Ÿæˆç±»å‘½ä»¤ã€æ ¼å¼åŒ–ç±»å‘½ä»¤ã€é™æ€ä»£ç æ£€æŸ¥ã€ æµ‹è¯•ç±»å‘½ä»¤ã€æ„å»ºç±»å‘½ä»¤ã€Docker é•œåƒæ‰“åŒ…ç±»å‘½ä»¤ã€éƒ¨ç½²ç±»å‘½ä»¤ã€æ¸…ç†ç±»å‘½ä»¤ï¼Œç­‰ç­‰ã€‚</li><li data-pid="Z9z85y7v">ç„¶åï¼Œæˆ‘ä»¬è¿˜éœ€è¦é€šè¿‡ Makefile åŠŸèƒ½åˆ†ç±»ã€æ–‡ä»¶åˆ†å±‚ã€å¤æ‚å‘½ä»¤è„šæœ¬åŒ–ç­‰æ–¹å¼ï¼Œæ¥è®¾è®¡ä¸€ä¸ªåˆç†çš„ Makefile ç»“æ„ã€‚</li><li data-pid="vd_1mjz1">æœ€åï¼Œæˆ‘ä»¬è¿˜éœ€è¦æŒæ¡ä¸€äº› Makefile ç¼–å†™æŠ€å·§ï¼Œä¾‹å¦‚ï¼šå–„ç”¨é€šé…ç¬¦ã€è‡ªåŠ¨å˜é‡å’Œå‡½æ•°ï¼›ç¼–å†™å¯æ‰©å±•çš„ Makefileï¼›ä½¿ç”¨å¸¦å±‚çº§çš„å‘½åæ–¹å¼ï¼Œç­‰ç­‰ã€‚é€šè¿‡è¿™äº›æŠ€å·§ï¼Œå¯ä»¥è¿›ä¸€æ­¥ä¿è¯æˆ‘ä»¬ç¼–å†™å‡ºä¸€ä¸ªé«˜è´¨é‡çš„ Makefileã€‚</li></ol><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h2><b>END Links</b></h2><ul><li data-pid="zHbJu8GH"><a href="https://time.geekbang.org/column/article/389115" target="_blank"><span class="invisible">https://</span><span class="visible">time.geekbang.org/colum</span><span class="invisible">n/article/389115</span><span class="ellipsis"></span></a></li><li data-pid="RW_ZZKZ9"><a href="https://github.com/cubxxw/iam/blob/master/Makefile" target="_blank"><span class="invisible">https://</span><span class="visible">github.com/cubxxw/iam/b</span><span class="invisible">lob/master/Makefile</span><span class="ellipsis"></span></a></li><li data-pid="QAeJslC4"><a href="https://seisman.github.io/how-to-write-makefile/rules.html" target="_blank"><span class="invisible">https://</span><span class="visible">seisman.github.io/how-t</span><span class="invisible">o-write-makefile/rules.html</span><span class="ellipsis"></span></a></li><li data-pid="zBBuYOSo"><a href="https://colynn.github.io/2020-03-03-using_makefile/" target="_blank"><span class="invisible">https://</span><span class="visible">colynn.github.io/2020-0</span><span class="invisible">3-03-using_makefile/</span><span class="ellipsis"></span></a></li></ul></div> </details> 
 <hr /> 

 #### - [Goè¯­è¨€é¡¹ç›®è®¾è®¡å’Œå¼€å‘æµç¨‹](https://zhuanlan.zhihu.com/p/607192022) 
 <details><summary>ØªÙˆØ¶ÛŒØ­Ø§Øª</summary> <div><ul><li data-pid="OAExm4HW"><a href="https://github.com/cubxxw/iam" target="_blank">  å¼€æºåœ°å€</a></li></ul><h2><b>Goè¯­è¨€é¡¹ç›®è®¾è®¡</b> <br></h2><blockquote data-pid="GhcRZ1cW">â¤ï¸  During the winter vacation, I followed up and learned two projects: tiktok project and IAM project, and summarized and practiced the CloudNative project and Go language. I learned a lot in the process.Myblog:<a href="http://nsddd.top/" target="_blank">http://nsddd.top</a></blockquote><h2><b>ç›®å½•ç»“æ„</b></h2><p data-pid="rhC2plcH"><b>å‘½åè¦æ±‚å’Œè§„èŒƒï¼š</b></p><ol><li data-pid="gTygAMbf">å‘½åæ¸…æ™°ï¼šç›®å½•å‘½åè¦æ¸…æ™°ã€ç®€æ´ï¼Œä¸è¦å¤ªé•¿ï¼Œä¹Ÿä¸è¦å¤ªçŸ­ï¼Œç›®å½•åè¦èƒ½æ¸…æ™°åœ°è¡¨è¾¾å‡ºè¯¥ç›®å½•å®ç°çš„åŠŸèƒ½ï¼Œå¹¶ä¸”ç›®å½•åæœ€å¥½ç”¨å•æ•°ã€‚ä¸€æ–¹é¢æ˜¯å› ä¸ºå•æ•°è¶³ä»¥è¯´æ˜è¿™ä¸ªç›®å½•çš„åŠŸèƒ½ï¼Œå¦ä¸€æ–¹é¢å¯ä»¥ç»Ÿä¸€è§„èŒƒï¼Œé¿å…å•å¤æ··ç”¨çš„æƒ…å†µã€‚</li><li data-pid="EG8iOW7-">åŠŸèƒ½æ˜ç¡®ï¼šä¸€ä¸ªç›®å½•æ‰€è¦å®ç°çš„åŠŸèƒ½åº”è¯¥æ˜¯æ˜ç¡®çš„ã€å¹¶ä¸”åœ¨æ•´ä¸ªé¡¹ç›®ç›®å½•ä¸­å…·æœ‰å¾ˆé«˜çš„è¾¨è¯†åº¦ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“éœ€è¦æ–°å¢ä¸€ä¸ªåŠŸèƒ½æ—¶ï¼Œæˆ‘ä»¬èƒ½å¤Ÿéå¸¸æ¸…æ¥šåœ°çŸ¥é“æŠŠè¿™ä¸ªåŠŸèƒ½æ”¾åœ¨å“ªä¸ªç›®å½•ä¸‹ã€‚</li><li data-pid="h-_wzO2j">å…¨é¢æ€§ï¼šç›®å½•ç»“æ„åº”è¯¥å°½å¯èƒ½å…¨é¢åœ°åŒ…å«ç ”å‘è¿‡ç¨‹ä¸­éœ€è¦çš„åŠŸèƒ½ï¼Œä¾‹å¦‚æ–‡æ¡£ã€è„šæœ¬ã€æºç ç®¡ç†ã€API å®ç°ã€å·¥å…·ã€ç¬¬ä¸‰æ–¹åŒ…ã€æµ‹è¯•ã€ç¼–è¯‘äº§ç‰©ç­‰ã€‚</li><li data-pid="UcHYrGkV">å¯è§‚æµ‹æ€§ï¼šé¡¹ç›®è§„æ¨¡ä¸€å®šæ˜¯ä»å°åˆ°å¤§çš„ï¼Œæ‰€ä»¥ä¸€ä¸ªå¥½çš„ç›®å½•ç»“æ„åº”è¯¥èƒ½å¤Ÿåœ¨é¡¹ç›®å˜å¤§æ—¶ï¼Œä»ç„¶ä¿æŒä¹‹å‰çš„ç›®å½•ç»“æ„ã€‚</li><li data-pid="7tvkVm3o">å¯æ‰©å±•æ€§ï¼šæ¯ä¸ªç›®å½•ä¸‹å­˜æ”¾äº†åŒç±»çš„åŠŸèƒ½ï¼Œåœ¨é¡¹ç›®å˜å¤§æ—¶ï¼Œè¿™äº›ç›®å½•åº”è¯¥å¯ä»¥å­˜æ”¾æ›´å¤šåŒç±»åŠŸèƒ½ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œæœ‰å¦‚ä¸‹ç›®å½•ç»“æ„ï¼š</li></ol><p class="ztext-empty-paragraph"><br></p><p data-pid="U5ramxur"> ç®€å•çš„ä¸€ä¸ªæ¡ˆä¾‹å¦‚ä¸‹ï¼š</p><div class="highlight"><pre><code class="language-bash"> $ ls internal/
 app  pkg  README.md</code></pre></div><p data-pid="Yo130624"><code>internal</code> ç›®å½•ä¸‹æœ‰ä¸‰ä¸ªæ–‡ä»¶ï¼Œinternal ç›®å½•ç”¨æ¥å®ç°å†…éƒ¨ä»£ç ï¼Œapp å’Œ pkg ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶éƒ½å±äºå†…éƒ¨ä»£ç ã€‚å¦‚æœ internal ç›®å½•ä¸ç®¡é¡¹ç›®å¤§å°ï¼Œæ°¸è¿œåªæœ‰ 2 ä¸ªæ–‡ä»¶ app å’Œ pkgï¼Œé‚£ä¹ˆå°±è¯´æ˜ internal ç›®å½•æ˜¯ä¸å¯æ‰©å±•çš„ã€‚</p><p data-pid="a0yPlJQN">ç›¸åï¼Œå¦‚æœ internal ç›®å½•ä¸‹ç›´æ¥å­˜æ”¾æ¯ä¸ªç»„ä»¶çš„æºç ç›®å½•ï¼ˆä¸€ä¸ªé¡¹ç›®å¯ä»¥ç”±ä¸€ä¸ªæˆ–å¤šä¸ªç»„ä»¶ç»„æˆï¼‰ï¼Œå½“é¡¹ç›®å˜å¤§ã€ç»„ä»¶å¢å¤šæ—¶ï¼Œå¯ä»¥å°†æ–°å¢åŠ çš„ç»„ä»¶ä»£ç å­˜æ”¾åˆ° internal ç›®å½•ï¼Œè¿™æ—¶ internal ç›®å½•å°±æ˜¯å¯æ‰©å±•çš„ã€‚ä¾‹å¦‚ï¼š</p><div class="highlight"><pre><code class="language-bash"> $ ls internal/
 apiserver  authzserver  iamctl  pkg  pump  watcher</code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="p9l_3n5U">æ ¹æ®åŠŸèƒ½ï¼Œ<b>æˆ‘ä»¬å¯ä»¥å°†ç›®å½•ç»“æ„åˆ†ä¸ºç»“æ„åŒ–ç›®å½•ç»“æ„å’Œå¹³é“ºå¼ç›®å½•ç»“æ„ä¸¤ç§ã€‚</b> ç»“æ„åŒ–ç›®å½•ç»“æ„ä¸»è¦ç”¨åœ¨ Go åº”ç”¨ä¸­ï¼Œç›¸å¯¹æ¥è¯´æ¯”è¾ƒå¤æ‚ï¼›è€Œå¹³é“ºå¼ç›®å½•ç»“æ„ä¸»è¦ç”¨åœ¨ Go åŒ…ä¸­ï¼Œç›¸å¯¹æ¥è¯´æ¯”è¾ƒç®€å•ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>å¹³é“ºå¼ç»“æ„</b></h3><p data-pid="MsLuB3k6">ä¸€ä¸ª Go é¡¹ç›®å¯ä»¥æ˜¯ä¸€ä¸ªåº”ç”¨ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªä»£ç  <b>æ¡†æ¶ / åº“</b>ï¼Œå½“é¡¹ç›®æ˜¯ä»£ç  <b>æ¡†æ¶ / åº“</b> æ—¶ï¼Œæ¯”è¾ƒé€‚åˆé‡‡ç”¨å¹³é“ºå¼ç›®å½•ç»“æ„ã€‚</p><p data-pid="MV6icUPN">å¹³é“ºæ–¹å¼å°±æ˜¯åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹å­˜æ”¾é¡¹ç›®çš„ä»£ç ï¼Œæ•´ä¸ªç›®å½•ç»“æ„çœ‹èµ·æ¥æ›´åƒæ˜¯ä¸€å±‚çš„ï¼Œè¿™ç§æ–¹å¼åœ¨å¾ˆå¤šæ¡†æ¶ / åº“ä¸­å­˜åœ¨ï¼Œä½¿ç”¨è¿™ç§æ–¹å¼çš„å¥½å¤„æ˜¯å¼•ç”¨è·¯å¾„é•¿åº¦æ˜æ˜¾å‡å°‘ï¼Œæ¯”å¦‚ <a href="http://github.com/marmotedu/log/pkg/options" target="_blank"><span class="invisible">http://</span><span class="visible">github.com/marmotedu/lo</span><span class="invisible">g/pkg/options</span><span class="ellipsis"></span></a>ï¼Œå¯ç¼©çŸ­ä¸º <a href="http://github.com/marmotedu/log/options" target="_blank"><span class="invisible">http://</span><span class="visible">github.com/marmotedu/lo</span><span class="invisible">g/options</span><span class="ellipsis"></span></a>ã€‚ä¾‹å¦‚ log åŒ… <a href="http://github.com/golang/glog" target="_blank"><span class="invisible">http://</span><span class="visible">github.com/golang/glog</span><span class="invisible"></span></a> å°±æ˜¯å¹³é“ºå¼çš„ï¼Œç›®å½•å¦‚ä¸‹ï¼š</p><div class="highlight"><pre><code class="language-bash"> $ ls glog/
 glog_file.go  glog.go  glog_test.go  LICENSE  README</code></pre></div><p class="ztext-empty-paragraph"><br></p><h3><b>ç»“æ„å¼ç»“æ„</b></h3><p data-pid="0Xuoabj7">å½“å‰ Go ç¤¾åŒºæ¯”è¾ƒæ¨èçš„ç»“æ„åŒ–ç›®å½•ç»“æ„æ˜¯ <a href="https://github.com/golang-standards/project-layout" target="_blank">project-layout</a> ã€‚è™½ç„¶å®ƒå¹¶ä¸æ˜¯å®˜æ–¹å’Œç¤¾åŒºçš„è§„èŒƒï¼Œä½†å› ä¸ºç»„ç»‡æ–¹å¼æ¯”è¾ƒåˆç†ï¼Œè¢«å¾ˆå¤š Go å¼€å‘äººå‘˜æ¥å—ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒå½“ä½œæ˜¯ä¸€ä¸ªäº‹å®ä¸Šçš„è§„èŒƒã€‚</p><p data-pid="jAnJeArx">å¼€å‘ä¸€ä¸ªGoè¯­è¨€é¡¹ç›®ï¼Œåº”è¯¥åŒ…å«å“ªäº›åŠŸèƒ½ï¼š</p><ul><li data-pid="_u7JbCQY">é¡¹ç›®ä»‹ç»ï¼šREADME.mdã€‚</li><li data-pid="0nMw8AJu">å®¢æˆ·ç«¯ï¼šxxxctlã€‚</li><li data-pid="fHOv1hXx">API æ–‡æ¡£ã€‚</li><li data-pid="JnNhNS7e">æ„å»ºé…ç½®æ–‡ä»¶ï¼ŒCICD é…ç½®æ–‡ä»¶ã€‚</li><li data-pid="LKrUVaiw">CHANGELOGã€‚</li><li data-pid="Bd-hBgzF">é¡¹ç›®é…ç½®æ–‡ä»¶ã€‚</li><li data-pid="E_mY_STv">kubernetes éƒ¨ç½²å®šä¹‰æ–‡ä»¶ï¼ˆæœªæ¥å®¹å™¨åŒ–æ˜¯è¶‹åŠ¿ï¼Œç”šè‡³ä¼šæˆä¸ºæœåŠ¡éƒ¨ç½²çš„äº‹å®æ ‡å‡†ï¼Œæ‰€ä»¥ç›®å½•ç»“æ„ä¸­éœ€è¦æœ‰å­˜æ”¾ kubernetes å®šä¹‰æ–‡ä»¶çš„ç›®å½•ï¼‰ã€‚</li><li data-pid="8MfXNxXp">Dockerfile æ–‡ä»¶ã€‚</li><li data-pid="XjceuJR0">systemd/init éƒ¨ç½²é…ç½®æ–‡ä»¶ï¼ˆç‰©ç†æœº/è™šæ‹Ÿæœºéƒ¨ç½²æ–¹å¼éœ€è¦ï¼‰ã€‚</li><li data-pid="vYRHwu0U">é¡¹ç›®æ–‡æ¡£ã€‚</li><li data-pid="Wqp-aL3g">commit message æ ¼å¼æ£€æŸ¥æˆ–è€…å…¶ä»– githookã€‚</li><li data-pid="OH5NsPQQ">è¯·æ±‚å‚æ•°æ ¡éªŒã€‚</li><li data-pid="EM_Ymsbs">å‘½ä»¤è¡Œ flagã€‚</li><li data-pid="54FlBUXi">å…±äº«åŒ…ï¼š<br></li><ul><li data-pid="ALK7B9qG">å¤–éƒ¨é¡¹ç›®å¯å¯¼å…¥ã€‚</li><li data-pid="JFtsGse6">åªæœ‰å­é¡¹ç›®å¯å¯¼å…¥ã€‚</li></ul></ul><p class="ztext-empty-paragraph"><br></p><ul><li data-pid="AMBDmN2M">storage æ¥å£ã€‚</li><li data-pid="IOznSkCy">é¡¹ç›®ç®¡ç†ï¼šMakefileï¼Œå®Œæˆä»£ç æ£€æŸ¥ã€æ„å»ºã€æ‰“åŒ…ã€æµ‹è¯•ã€éƒ¨ç½²ç­‰ã€‚</li><li data-pid="nXr5Dagx">ç‰ˆæƒå£°æ˜ã€‚</li><li data-pid="4CEC3AL5">_output ç›®å½•ï¼ˆç¼–è¯‘ã€æ„å»ºäº§ç‰©ï¼‰ã€‚</li><li data-pid="uA2Xr3oF">å¼•ç”¨çš„ç¬¬ä¸‰æ–¹åŒ…ã€‚</li><li data-pid="SFzUmsgA">è„šæœ¬æ–‡ä»¶ï¼ˆå¯èƒ½ä¼šå€ŸåŠ©è„šæœ¬ï¼Œå®ç°ä¸€äº›æºç ç®¡ç†ã€æ„å»ºã€ç”Ÿæˆç­‰åŠŸèƒ½ï¼‰ã€‚</li><li data-pid="07L1X5zk">æµ‹è¯•æ–‡ä»¶ã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><p data-pid="WD4t24Mi"><b>IAM é¡¹ç›®è§„èŒƒï¼š</b></p><div class="highlight"><pre><code class="language-bash"> â€‹
 â”œâ”€â”€ api
 â”‚   â”œâ”€â”€ openapi
 â”‚   â””â”€â”€ swagger
 â”œâ”€â”€ build
 â”‚   â”œâ”€â”€ ci
 â”‚   â”œâ”€â”€ docker
 â”‚   â”‚   â”œâ”€â”€ iam-apiserver
 â”‚   â”‚   â”œâ”€â”€ iam-authz-server
 â”‚   â”‚   â””â”€â”€ iam-pump
 â”‚   â”œâ”€â”€ package
 â”œâ”€â”€ CHANGELOG
 â”œâ”€â”€ cmd
 â”‚   â”œâ”€â”€ iam-apiserver
 â”‚   â”‚   â””â”€â”€ apiserver.go
 â”‚   â”œâ”€â”€ iam-authz-server
 â”‚   â”‚   â””â”€â”€ authzserver.go
 â”‚   â”œâ”€â”€ iamctl
 â”‚   â”‚   â””â”€â”€ iamctl.go
 â”‚   â””â”€â”€ iam-pump
 â”‚       â””â”€â”€ pump.go
 â”œâ”€â”€ configs
 â”œâ”€â”€ CONTRIBUTING.md
 â”œâ”€â”€ deployments
 â”œâ”€â”€ docs
 â”‚   â”œâ”€â”€ devel
 â”‚   â”‚   â”œâ”€â”€ en-US
 â”‚   â”‚   â””â”€â”€ zh-CN
 â”‚   â”œâ”€â”€ guide
 â”‚   â”‚   â”œâ”€â”€ en-US
 â”‚   â”‚   â””â”€â”€ zh-CN
 â”‚   â”œâ”€â”€ images
 â”‚   â””â”€â”€ README.md
 â”œâ”€â”€ examples
 â”œâ”€â”€ githooks
 â”œâ”€â”€ go.mod
 â”œâ”€â”€ go.sum
 â”œâ”€â”€ init
 â”œâ”€â”€ internal
 â”‚   â”œâ”€â”€ apiserver
 â”‚   â”‚   â”œâ”€â”€ api
 â”‚   â”‚   â”‚   â””â”€â”€ v1
 â”‚   â”‚   â”‚       â””â”€â”€ user
 â”‚   â”‚   â”œâ”€â”€ apiserver.go
 â”‚   â”‚   â”œâ”€â”€ options
 â”‚   â”‚   â”œâ”€â”€ service
 â”‚   â”‚   â”œâ”€â”€ store
 â”‚   â”‚   â”‚   â”œâ”€â”€ mysql
 â”‚   â”‚   â”‚   â”œâ”€â”€ fake
 â”‚   â”‚   â””â”€â”€ testing
 â”‚   â”œâ”€â”€ authzserver
 â”‚   â”‚   â”œâ”€â”€ api
 â”‚   â”‚   â”‚   â””â”€â”€ v1
 â”‚   â”‚   â”‚       â””â”€â”€ authorize
 â”‚   â”‚   â”œâ”€â”€ options
 â”‚   â”‚   â”œâ”€â”€ store
 â”‚   â”‚   â””â”€â”€ testing
 â”‚   â”œâ”€â”€ iamctl
 â”‚   â”‚   â”œâ”€â”€ cmd
 â”‚   â”‚   â”‚   â”œâ”€â”€ completion
 â”‚   â”‚   â”‚   â”œâ”€â”€ user
 â”‚   â”‚   â””â”€â”€ util
 â”‚   â”œâ”€â”€ pkg
 â”‚   â”‚   â”œâ”€â”€ code
 â”‚   â”‚   â”œâ”€â”€ options
 â”‚   â”‚   â”œâ”€â”€ server
 â”‚   â”‚   â”œâ”€â”€ util
 â”‚   â”‚   â””â”€â”€ validation
 â”œâ”€â”€ LICENSE
 â”œâ”€â”€ Makefile
 â”œâ”€â”€ _output
 â”‚   â”œâ”€â”€ platforms
 â”‚   â”‚   â””â”€â”€ linux
 â”‚   â”‚       â””â”€â”€ amd64
 â”œâ”€â”€ pkg
 â”‚   â”œâ”€â”€ util
 â”‚   â”‚   â””â”€â”€ genutil
 â”œâ”€â”€ README.md
 â”œâ”€â”€ scripts
 â”‚   â”œâ”€â”€ lib
 â”‚   â”œâ”€â”€ make-rules
 â”œâ”€â”€ <span class="nb">test</span>
 â”‚   â”œâ”€â”€ testdata
 â”œâ”€â”€ third_party
 â”‚   â””â”€â”€ forked
 â””â”€â”€ tools</code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="kul8asSI">ä¸€ä¸ª Go é¡¹ç›®åŒ…å« 3 å¤§éƒ¨åˆ†ï¼šGo åº”ç”¨ ã€é¡¹ç›®ç®¡ç†å’Œæ–‡æ¡£ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬çš„é¡¹ç›®ç›®å½•ä¹Ÿå¯ä»¥åˆ†ä¸ºè¿™ 3 å¤§ç±»ã€‚åŒæ—¶ï¼ŒGo åº”ç”¨åˆè´¯ç©¿å¼€å‘é˜¶æ®µã€æµ‹è¯•é˜¶æ®µå’Œéƒ¨ç½²é˜¶æ®µï¼Œç›¸åº”çš„åº”ç”¨ç±»çš„ç›®å½•ï¼Œåˆå¯ä»¥æŒ‰å¼€å‘æµç¨‹åˆ†ä¸ºæ›´å°çš„å­ç±»ã€‚å½“ç„¶äº†ï¼Œè¿™äº›æ˜¯æˆ‘å»ºè®®çš„ç›®å½•ï¼ŒGo é¡¹ç›®ç›®å½•ä¸­è¿˜æœ‰ä¸€äº›ä¸å»ºè®®çš„ç›®å½•ã€‚æ‰€ä»¥æ•´ä½“æ¥çœ‹ï¼Œæˆ‘ä»¬çš„ç›®å½•ç»“æ„å¯ä»¥æŒ‰ä¸‹å›¾æ‰€ç¤ºçš„æ–¹å¼æ¥åˆ†ç±»ï¼š</p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-746b6bffd2fce93378bf5d4bbf79d3c2_r.jpg" data-caption="" data-size="normal" width="1165" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>Go åº”ç”¨ ï¼šä¸»è¦å­˜æ”¾å‰åç«¯ä»£ç </b></h3><ul><li data-pid="ygNkIaNa"><code>/web</code> ï¼šå‰ç«¯ä»£ç å­˜æ”¾ç›®å½•ï¼Œä¸»è¦ç”¨æ¥å­˜æ”¾ Web é™æ€èµ„æºï¼ŒæœåŠ¡ç«¯æ¨¡æ¿å’Œå•é¡µåº”ç”¨ï¼ˆSPAsï¼‰ã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><h3><b>cmd</b></h3><ul><li data-pid="z0ijc5dw"><code>/cmd</code>ï¼šä¸€ä¸ªé¡¹ç›®æœ‰å¾ˆå¤šç»„ä»¶ï¼Œå¯ä»¥æŠŠç»„ä»¶ main å‡½æ•°æ‰€åœ¨çš„æ–‡ä»¶å¤¹ç»Ÿä¸€æ”¾åœ¨/cmd ç›®å½•ä¸‹ï¼Œä¾‹å¦‚ï¼š<br> $ ls cmd/<br> gendocs  geniamdocs  genman  genswaggertypedocs  genyaml  iam-apiserver  iam-authz-server  iamctl  iam-pump<br> â€‹<br> $ ls cmd/iam-apiserver/<br> apiserver.go<br>æ¯ä¸ªç»„ä»¶çš„ç›®å½•ååº”è¯¥è·Ÿä½ æœŸæœ›çš„å¯æ‰§è¡Œæ–‡ä»¶åæ˜¯ä¸€è‡´çš„ã€‚è¿™é‡Œè¦ä¿è¯ <code>/cmd/&lt;ç»„ä»¶å&gt;</code> ç›®å½•ä¸‹ä¸è¦å­˜æ”¾å¤ªå¤šçš„ä»£ç ï¼Œå¦‚æœä½ è®¤ä¸ºä»£ç å¯ä»¥å¯¼å…¥å¹¶åœ¨å…¶ä»–é¡¹ç›®ä¸­ä½¿ç”¨ï¼Œé‚£ä¹ˆå®ƒåº”è¯¥ä½äº <code>/pkg</code> ç›®å½•ä¸­ã€‚å¦‚æœä»£ç ä¸æ˜¯å¯é‡ç”¨çš„ï¼Œæˆ–è€…ä½ ä¸å¸Œæœ›å…¶ä»–äººé‡ç”¨å®ƒï¼Œè¯·å°†è¯¥ä»£ç æ”¾åˆ° <code>/internal</code> ç›®å½•ä¸­ã€‚</li></ul><h3><b>internal</b></h3><ul><li data-pid="ZDF7mz0Y"><code>/internal</code>ï¼šå­˜æ”¾ç§æœ‰åº”ç”¨å’Œåº“ä»£ç ã€‚å¦‚æœä¸€äº›ä»£ç ï¼Œä½ ä¸å¸Œæœ›åœ¨å…¶ä»–åº”ç”¨å’Œåº“ä¸­è¢«å¯¼å…¥ï¼Œå¯ä»¥å°†è¿™éƒ¨åˆ†ä»£ç æ”¾åœ¨/internal ç›®å½•ä¸‹ã€‚<br>å…¶ä»–é¡¹ç›®å¯¼å…¥ <code>/internal</code> ä¸‹çš„åŒ…æ—¶å€™ï¼ŒGoè¯­è¨€ä¼šç¼–è¯‘å‡ºé”™ï¼š<br> An import of a path containing the element â€œinternalâ€ is disallowed<br> if the importing code is outside the tree rooted at the parent of the<br> "internal" directory.<br>å¯ä»¥é€šè¿‡ Go è¯­è¨€æœ¬èº«çš„æœºåˆ¶æ¥çº¦æŸå…¶ä»–é¡¹ç›® import é¡¹ç›®å†…éƒ¨çš„åŒ…ã€‚/internal ç›®å½•å»ºè®®åŒ…å«å¦‚ä¸‹ç›®å½•ï¼š<br></li><ul><li data-pid="-rRk-uor"><code>/internal/apiserver</code>ï¼šè¯¥ç›®å½•ä¸­å­˜æ”¾çœŸå®çš„åº”ç”¨ä»£ç ã€‚è¿™äº›åº”ç”¨çš„å…±äº«ä»£ç å­˜æ”¾åœ¨/internal/pkg ç›®å½•ä¸‹ã€‚</li><li data-pid="RKqu7MUT"><code>/internal/pkg</code>ï¼šå­˜æ”¾é¡¹ç›®å†…å¯å…±äº«ï¼Œé¡¹ç›®å¤–ä¸å…±äº«çš„åŒ…ã€‚è¿™äº›åŒ…æä¾›äº†æ¯”è¾ƒåŸºç¡€ã€é€šç”¨çš„åŠŸèƒ½ï¼Œä¾‹å¦‚å·¥å…·ã€é”™è¯¯ç ã€ç”¨æˆ·éªŒè¯ç­‰åŠŸèƒ½ã€‚</li></ul></ul><p class="ztext-empty-paragraph"><br></p><p data-pid="93uYZ00z"><b>æˆ‘çš„å»ºè®®æ˜¯ï¼Œä¸€å¼€å§‹å°†æ‰€æœ‰çš„å…±äº«ä»£ç å­˜æ”¾åœ¨ /internal/pkg ç›®å½•ä¸‹ï¼Œå½“è¯¥å…±äº«ä»£ç åšå¥½äº†å¯¹å¤–å¼€å‘çš„å‡†å¤‡åï¼Œå†è½¬å­˜åˆ°/pkgç›®å½•ä¸‹ã€‚</b></p><div class="highlight"><pre><code class="language-bash"> â€‹
 â”œâ”€â”€ apiserver
 â”‚   â”œâ”€â”€ api
 â”‚   â”‚   â””â”€â”€ v1
 â”‚   â”‚       â””â”€â”€ user
 â”‚   â”œâ”€â”€ options
 â”‚   â”œâ”€â”€ config
 â”‚   â”œâ”€â”€ service
 â”‚   â”‚   â””â”€â”€ user.go
 â”‚   â”œâ”€â”€ store
 â”‚   â”‚   â”œâ”€â”€ mysql
 â”‚   â”‚   â”‚   â””â”€â”€ user.go
 â”‚   â”‚   â”œâ”€â”€ fake
 â”‚   â””â”€â”€ testing
 â”œâ”€â”€ authzserver
 â”‚   â”œâ”€â”€ api
 â”‚   â”‚   â””â”€â”€ v1
 â”‚   â”œâ”€â”€ options
 â”‚   â”œâ”€â”€ store
 â”‚   â””â”€â”€ testing
 â”œâ”€â”€ iamctl
 â”‚   â”œâ”€â”€ cmd
 â”‚   â”‚   â”œâ”€â”€ cmd.go
 â”‚   â”‚   â”œâ”€â”€ info
 â””â”€â”€ pkg
     â”œâ”€â”€ code
     â”œâ”€â”€ middleware
     â”œâ”€â”€ options
     â””â”€â”€ validation</code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="lPK0JixY"><b>/internal ç›®å½•å¤§æ¦‚åˆ†ä¸º 3 ç±»å­ç›®å½•ï¼š</b></p><ul><li data-pid="fEwxwyA1"><code>/internal/pkg</code>ï¼šå†…éƒ¨å…±äº«åŒ…å­˜æ”¾çš„ç›®å½•ã€‚</li><li data-pid="VOmiOnYV"><code>/internal/authzserver</code>ã€<code>/internal/apiserver</code>ã€<code>/internal/pump</code>ã€<code>/internal/iamctl</code>ï¼šåº”ç”¨ç›®å½•ï¼Œé‡Œé¢åŒ…å«åº”ç”¨ç¨‹åºçš„å®ç°ä»£ç ã€‚</li><li data-pid="Bpb_zvfP"><code>/internal/iamctl</code>ï¼šå¯¹äºä¸€äº›å¤§å‹é¡¹ç›®ï¼Œå¯èƒ½è¿˜ä¼šéœ€è¦ä¸€ä¸ªå®¢æˆ·ç«¯å·¥å…·ã€‚</li></ul><p data-pid="uyPadY9G">åœ¨æ¯ä¸ªåº”ç”¨ç¨‹åºå†…éƒ¨ï¼Œä¹Ÿä¼šæœ‰ä¸€äº›ç›®å½•ç»“æ„ï¼Œè¿™äº›ç›®å½•ç»“æ„ä¸»è¦æ ¹æ®åŠŸèƒ½æ¥åˆ’åˆ†ï¼š</p><ul><li data-pid="7HCR_BXV"><code>/internal/apiserver/api/v1</code>ï¼šHTTP API æ¥å£çš„å…·ä½“å®ç°ï¼Œä¸»è¦ç”¨æ¥åš HTTP è¯·æ±‚çš„è§£åŒ…ã€å‚æ•°æ ¡éªŒã€ä¸šåŠ¡é€»è¾‘å¤„ç†ã€è¿”å›ã€‚æ³¨æ„è¿™é‡Œçš„ä¸šåŠ¡é€»è¾‘å¤„ç†åº”è¯¥æ˜¯è½»é‡çº§çš„ï¼Œå¦‚æœä¸šåŠ¡é€»è¾‘æ¯”è¾ƒå¤æ‚ï¼Œä»£ç é‡æ¯”è¾ƒå¤šï¼Œå»ºè®®æ”¾åˆ° /internal/apiserver/service ç›®å½•ä¸‹ã€‚è¯¥æºç æ–‡ä»¶ä¸»è¦ç”¨æ¥ä¸²æµç¨‹ã€‚</li><li data-pid="OIxpSHM5"><code>/internal/apiserver/options</code>ï¼šåº”ç”¨çš„ command flagã€‚</li><li data-pid="jijl94jO"><code>/internal/apiserver/config</code>ï¼šæ ¹æ®å‘½ä»¤è¡Œå‚æ•°åˆ›å»ºåº”ç”¨é…ç½®ã€‚</li><li data-pid="bQ7Wu16l"><code>/internal/apiserver/service</code>ï¼šå­˜æ”¾åº”ç”¨å¤æ‚ä¸šåŠ¡å¤„ç†ä»£ç ã€‚</li><li data-pid="VpQt5E7O"><code>/internal/apiserver/store/mysql</code>ï¼šä¸€ä¸ªåº”ç”¨å¯èƒ½è¦æŒä¹…åŒ–çš„å­˜å‚¨ä¸€äº›æ•°æ®ï¼Œè¿™é‡Œä¸»è¦å­˜æ”¾è·Ÿæ•°æ®åº“äº¤äº’çš„ä»£ç ï¼Œæ¯”å¦‚ Createã€Updateã€Deleteã€Getã€List ç­‰ã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><p data-pid="9X7IQg6K">/internal/pkg ç›®å½•å­˜æ”¾é¡¹ç›®å†…å¯å…±äº«çš„åŒ…ï¼Œé€šå¸¸å¯ä»¥åŒ…å«å¦‚ä¸‹ç›®å½•ï¼š</p><ul><li data-pid="SoOVrF1p"><code>/internal/pkg/code</code>ï¼šé¡¹ç›®ä¸šåŠ¡ Code ç ã€‚</li><li data-pid="Qpeq0qHL"><code>/internal/pkg/validation</code>ï¼šä¸€äº›é€šç”¨çš„éªŒè¯å‡½æ•°ã€‚</li><li data-pid="lOH7hLv2"><code>/internal/pkg/middleware</code>ï¼šHTTP å¤„ç†é“¾ã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><h3><b>pkg</b></h3><p data-pid="zvntEPLS">/pkg ç›®å½•æ˜¯ Go è¯­è¨€é¡¹ç›®ä¸­éå¸¸å¸¸è§çš„ç›®å½•ï¼Œæˆ‘ä»¬å‡ ä¹èƒ½å¤Ÿåœ¨æ‰€æœ‰çŸ¥åçš„å¼€æºé¡¹ç›®ï¼ˆéæ¡†æ¶ï¼‰ä¸­æ‰¾åˆ°å®ƒçš„èº«å½±ï¼Œä¾‹å¦‚ Kubernetesã€Prometheusã€Mobyã€Knative ç­‰ã€‚</p><p data-pid="JlrplH0t">è¯¥ç›®å½•ä¸­å­˜æ”¾å¯ä»¥è¢«å¤–éƒ¨åº”ç”¨ä½¿ç”¨çš„ä»£ç åº“ï¼Œå…¶ä»–é¡¹ç›®å¯ä»¥ç›´æ¥é€šè¿‡ import å¯¼å…¥è¿™é‡Œçš„ä»£ç ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬åœ¨å°†ä»£ç åº“æ”¾å…¥è¯¥ç›®å½•æ—¶ä¸€å®šè¦æ…é‡ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>/vendor</b></h3><p data-pid="vOxF0idR">é¡¹ç›®ä¾èµ–ï¼Œå¯é€šè¿‡ go mod vendor åˆ›å»ºã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœæ˜¯ä¸€ä¸ª Go åº“ï¼Œä¸è¦æäº¤ vendor ä¾èµ–åŒ…ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>/third_party</b></h3><p data-pid="869I-Kzw">å¤–éƒ¨å¸®åŠ©å·¥å…·ï¼Œåˆ†æ”¯ä»£ç æˆ–å…¶ä»–ç¬¬ä¸‰æ–¹åº”ç”¨ï¼ˆä¾‹å¦‚ Swagger UIï¼‰ã€‚æ¯”å¦‚æˆ‘ä»¬ fork äº†ä¸€ä¸ªç¬¬ä¸‰æ–¹ go åŒ…ï¼Œå¹¶åšäº†ä¸€äº›å°çš„æ”¹åŠ¨ï¼Œæˆ‘ä»¬å¯ä»¥æ”¾åœ¨ç›®å½• /third_party/forked ä¸‹ã€‚ä¸€æ–¹é¢å¯ä»¥å¾ˆæ¸…æ¥šçš„çŸ¥é“è¯¥åŒ…æ˜¯ fork ç¬¬ä¸‰æ–¹çš„ï¼Œå¦ä¸€æ–¹é¢åˆèƒ½å¤Ÿæ–¹ä¾¿åœ°å’Œ upstream åŒæ­¥ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>Go åº”ç”¨ï¼šä¸»è¦å­˜æ”¾æµ‹è¯•ç›¸å…³çš„æ–‡ä»¶å’Œä»£ç </b></h3><h3><b>/test</b></h3><p data-pid="XeSpaIfh">ç”¨äºå­˜æ”¾å…¶ä»–å¤–éƒ¨æµ‹è¯•åº”ç”¨å’Œæµ‹è¯•æ•°æ®ã€‚/test ç›®å½•çš„æ„å»ºæ–¹å¼æ¯”è¾ƒçµæ´»ï¼šå¯¹äºå¤§çš„é¡¹ç›®ï¼Œæœ‰ä¸€ä¸ªæ•°æ®å­ç›®å½•æ˜¯æœ‰æ„ä¹‰çš„ã€‚ä¾‹å¦‚ï¼Œå¦‚æœéœ€è¦ Go å¿½ç•¥è¯¥ç›®å½•ä¸­çš„å†…å®¹ï¼Œå¯ä»¥ä½¿ç”¨ /test/data æˆ– /test/testdata ç›®å½•ã€‚</p><p data-pid="n3hGDv2Z">éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒGo ä¹Ÿä¼šå¿½ç•¥ä»¥â€œ.â€æˆ– â€œ_â€ å¼€å¤´çš„ç›®å½•æˆ–æ–‡ä»¶ã€‚è¿™æ ·åœ¨å‘½åæµ‹è¯•æ•°æ®ç›®å½•æ–¹é¢ï¼Œå¯ä»¥å…·æœ‰æ›´å¤§çš„çµæ´»æ€§ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>Go åº”ç”¨ï¼šå­˜æ”¾è·Ÿåº”ç”¨éƒ¨ç½²ç›¸å…³çš„æ–‡ä»¶</b></h3><p data-pid="r6_k9hhI">æ¥ç€ï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸‹ä¸éƒ¨ç½²é˜¶æ®µç›¸å…³çš„ç›®å½•ï¼Œè¿™äº›ç›®å½•å¯ä»¥å­˜æ”¾éƒ¨ç½²ç›¸å…³çš„æ–‡ä»¶ã€‚</p><h3><b>/configs</b></h3><p data-pid="GEs5Sy48">è¿™ä¸ªç›®å½•ç”¨æ¥é…ç½®æ–‡ä»¶æ¨¡æ¿æˆ–é»˜è®¤é…ç½®ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥åœ¨è¿™é‡Œå­˜æ”¾ confd æˆ– consul-template æ¨¡æ¿æ–‡ä»¶ã€‚è¿™é‡Œæœ‰ä¸€ç‚¹è¦æ³¨æ„ï¼Œé…ç½®ä¸­ä¸èƒ½æºå¸¦æ•æ„Ÿä¿¡æ¯ï¼Œè¿™äº›æ•æ„Ÿä¿¡æ¯ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å ä½ç¬¦æ¥æ›¿ä»£ï¼Œä¾‹å¦‚ï¼š</p><div class="highlight"><pre><code class="language-bash"> apiVersion: v1    
 user:    
   username: <span class="si">${</span><span class="nv">CONFIG_USER_USERNAME</span><span class="si">}</span> <span class="c1"># iam ç”¨æˆ·å    </span>
   password: <span class="si">${</span><span class="nv">CONFIG_USER_PASSWORD</span><span class="si">}</span> <span class="c1"># iam å¯†ç </span></code></pre></div><p class="ztext-empty-paragraph"><br></p><h3><b>/deployments</b></h3><p data-pid="opcdcs9M">ç”¨æ¥å­˜æ”¾ <code>Iaas</code>ã€<code>PaaS</code> ç³»ç»Ÿå’Œå®¹å™¨ç¼–æ’éƒ¨ç½²é…ç½®å’Œæ¨¡æ¿ï¼ˆDocker-Composeï¼ŒKubernetes/Helmï¼ŒMesosï¼ŒTerraformï¼ŒBoshï¼‰ã€‚åœ¨ä¸€äº›é¡¹ç›®ï¼Œç‰¹åˆ«æ˜¯ç”¨ Kubernetes éƒ¨ç½²çš„é¡¹ç›®ä¸­ï¼Œè¿™ä¸ªç›®å½•å¯èƒ½å‘½åä¸º deployã€‚</p><p data-pid="r3P6CEJf">ä¸ºä»€ä¹ˆè¦å°†è¿™ç±»è·Ÿ Kubernetes ç›¸å…³çš„ç›®å½•æ”¾åˆ°ç›®å½•ç»“æ„ä¸­å‘¢ï¼Ÿä¸»è¦æ˜¯å› ä¸ºå½“å‰è½¯ä»¶éƒ¨ç½²åŸºæœ¬éƒ½åœ¨æœç€å®¹å™¨åŒ–çš„éƒ¨ç½²æ–¹å¼å»æ¼”è¿›ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>/init</b></h3><p data-pid="M0GcnVzc">å­˜æ”¾åˆå§‹åŒ–ç³»ç»Ÿï¼ˆsystemdï¼Œupstartï¼Œsysvï¼‰å’Œè¿›ç¨‹ç®¡ç†é…ç½®æ–‡ä»¶ï¼ˆrunitï¼Œsupervisordï¼‰ã€‚æ¯”å¦‚ sysemd çš„ unit æ–‡ä»¶ã€‚è¿™ç±»æ–‡ä»¶ï¼Œåœ¨éå®¹å™¨åŒ–éƒ¨ç½²çš„é¡¹ç›®ä¸­ä¼šç”¨åˆ°ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>é¡¹ç›®ç®¡ç†ï¼šå­˜æ”¾ç”¨æ¥ç®¡ç† Go é¡¹ç›®çš„å„ç±»æ–‡ä»¶</b></h3><p data-pid="rpkphBt6">åœ¨åšé¡¹ç›®å¼€å‘æ—¶ï¼Œè¿˜æœ‰äº›ç›®å½•ç”¨æ¥å­˜æ”¾é¡¹ç›®ç®¡ç†ç›¸å…³çš„æ–‡ä»¶ï¼Œè¿™é‡Œæˆ‘ä»¬ä¸€èµ·æ¥çœ‹ä¸‹ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>/Makefile</b></h3><p data-pid="zFMgiAEn">è™½ç„¶ Makefile æ˜¯ä¸€ä¸ªå¾ˆè€çš„é¡¹ç›®ç®¡ç†å·¥å…·ï¼Œä½†å®ƒä»ç„¶æ˜¯æœ€ä¼˜ç§€çš„é¡¹ç›®ç®¡ç†å·¥å…·ã€‚æ‰€ä»¥ï¼Œä¸€ä¸ª Go é¡¹ç›®åœ¨å…¶æ ¹ç›®å½•ä¸‹åº”è¯¥æœ‰ä¸€ä¸ª Makefile å·¥å…·ï¼Œç”¨æ¥å¯¹é¡¹ç›®è¿›è¡Œç®¡ç†ï¼ŒMakefile é€šå¸¸ç”¨æ¥æ‰§è¡Œé™æ€ä»£ç æ£€æŸ¥ã€å•å…ƒæµ‹è¯•ã€ç¼–è¯‘ç­‰åŠŸèƒ½ã€‚å…¶ä»–å¸¸è§åŠŸèƒ½ï¼Œä½ å¯ä»¥å‚è€ƒè¿™é‡Œï¼š</p><ul><li data-pid="yaRMR3qf">é™æ€ä»£ç æ£€æŸ¥(lint)ï¼šæ¨èç”¨ golangci-lintã€‚</li><li data-pid="T-0cWD5S">å•å…ƒæµ‹è¯•(test)ï¼šè¿è¡Œ go test ./...ã€‚</li><li data-pid="jkkD7X2o">ç¼–è¯‘(build)ï¼šç¼–è¯‘æºç ï¼Œæ”¯æŒä¸åŒçš„å¹³å°ï¼Œä¸åŒçš„ CPU æ¶æ„ã€‚</li><li data-pid="EhFNlInq">é•œåƒæ‰“åŒ…å’Œå‘å¸ƒ(image/image.push)ï¼šç°åœ¨çš„ç³»ç»Ÿæ¯”è¾ƒæ¨èç”¨ Docker/Kubernetes è¿›è¡Œéƒ¨ç½²ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¹Ÿè¦æœ‰é•œåƒæ„å»ºåŠŸèƒ½ã€‚</li><li data-pid="EBgQDZNB">æ¸…ç†ï¼ˆcleanï¼‰:æ¸…ç†ä¸´æ—¶æ–‡ä»¶æˆ–è€…ç¼–è¯‘åçš„äº§ç‰©ã€‚</li><li data-pid="H0DyVsQK">ä»£ç ç”Ÿæˆï¼ˆgenï¼‰ï¼šæ¯”å¦‚è¦ç¼–è¯‘ç”Ÿæˆ protobuf pb.go æ–‡ä»¶ã€‚</li><li data-pid="-IPsmdou">éƒ¨ç½²ï¼ˆdeployï¼Œå¯é€‰ï¼‰ï¼šä¸€é”®éƒ¨ç½²åŠŸèƒ½ï¼Œæ–¹ä¾¿æµ‹è¯•ã€‚</li><li data-pid="0oLYxX2D">å‘å¸ƒï¼ˆreleaseï¼‰ï¼šå‘å¸ƒåŠŸèƒ½ï¼Œæ¯”å¦‚ï¼šå‘å¸ƒåˆ° Docker Hubã€github ç­‰ã€‚</li><li data-pid="auE0oKCk">å¸®åŠ©ï¼ˆhelpï¼‰:å‘Šè¯‰ Makefile æœ‰å“ªäº›åŠŸèƒ½ï¼Œå¦‚ä½•æ‰§è¡Œè¿™äº›åŠŸèƒ½ã€‚</li><li data-pid="Xzh8oav2">ç‰ˆæƒå£°æ˜ï¼ˆadd-copyrightï¼‰ï¼šå¦‚æœæ˜¯å¼€æºé¡¹ç›®ï¼Œå¯èƒ½éœ€è¦åœ¨æ¯ä¸ªæ–‡ä»¶ä¸­æ·»åŠ ç‰ˆæƒå¤´ï¼Œè¿™å¯ä»¥é€šè¿‡ Makefile æ¥æ·»åŠ ã€‚</li><li data-pid="zDjpdTyT">API æ–‡æ¡£ï¼ˆswaggerï¼‰ï¼šå¦‚æœä½¿ç”¨ swagger æ¥ç”Ÿæˆ API æ–‡æ¡£ï¼Œè¿™å¯ä»¥é€šè¿‡ Makefile æ¥ç”Ÿæˆã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><p data-pid="Wox8iZqp">æˆ‘è¿˜æœ‰ä¸€æ¡å»ºè®®ï¼šç›´æ¥æ‰§è¡Œ make æ—¶ï¼Œæ‰§è¡Œå¦‚ä¸‹å„é¡¹ <code>format -&gt; lint -&gt; test -&gt; build</code>ï¼Œå¦‚æœæ˜¯æœ‰ä»£ç ç”Ÿæˆçš„æ“ä½œï¼Œè¿˜å¯èƒ½éœ€è¦é¦–å…ˆç”Ÿæˆä»£ç  <code>gen -&gt; format -&gt; lint -&gt; test -&gt; build</code>ã€‚</p><p data-pid="vcrEGZi2">åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¸€äº›é‡å¤æ€§çš„å·¥ä½œè‡ªåŠ¨åŒ–ï¼Œå¹¶æ·»åŠ åˆ° Makefile æ–‡ä»¶ä¸­ç»Ÿä¸€ç®¡ç†ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>/scripts</b></h3><p data-pid="ZmQFUJ0n">è¯¥ç›®å½•ä¸»è¦ç”¨æ¥å­˜æ”¾è„šæœ¬æ–‡ä»¶ï¼Œå®ç°æ„å»ºã€å®‰è£…ã€åˆ†æç­‰ä¸åŒåŠŸèƒ½ã€‚ä¸åŒé¡¹ç›®ï¼Œé‡Œé¢å¯èƒ½å­˜æ”¾ä¸åŒçš„æ–‡ä»¶ï¼Œä½†é€šå¸¸å¯ä»¥è€ƒè™‘åŒ…å«ä»¥ä¸‹ 3 ä¸ªç›®å½•ï¼š</p><ul><li data-pid="L9i2QUFt"><code>/scripts/make-rules</code>ï¼šç”¨æ¥å­˜æ”¾ makefile æ–‡ä»¶ï¼Œå®ç° /Makefile æ–‡ä»¶ä¸­çš„å„ä¸ªåŠŸèƒ½ã€‚Makefile æœ‰å¾ˆå¤šåŠŸèƒ½ï¼Œä¸ºäº†ä¿æŒå®ƒçš„ç®€æ´ï¼Œæˆ‘å»ºè®®ä½ å°†å„ä¸ªåŠŸèƒ½çš„å…·ä½“å®ç°æ”¾åœ¨/scripts/make-rules æ–‡ä»¶å¤¹ä¸‹ã€‚</li><li data-pid="zF5BDQ3y"><code>/scripts/lib</code>ï¼šshell åº“ï¼Œç”¨æ¥å­˜æ”¾ shell è„šæœ¬ã€‚ä¸€ä¸ªå¤§å‹é¡¹ç›®ä¸­æœ‰å¾ˆå¤šè‡ªåŠ¨åŒ–ä»»åŠ¡ï¼Œæ¯”å¦‚å‘å¸ƒã€æ›´æ–°æ–‡æ¡£ã€ç”Ÿæˆä»£ç ç­‰ï¼Œæ‰€ä»¥è¦å†™å¾ˆå¤š shell è„šæœ¬ï¼Œè¿™äº› shell è„šæœ¬ä¼šæœ‰ä¸€äº›é€šç”¨åŠŸèƒ½ï¼Œå¯ä»¥æŠ½è±¡æˆåº“ï¼Œå­˜æ”¾åœ¨/scripts/lib ç›®å½•ä¸‹ï¼Œæ¯”å¦‚ logging.shï¼Œutil.sh ç­‰ã€‚</li><li data-pid="Z5dUDwXa"><code>/scripts/install</code>ï¼šå¦‚æœé¡¹ç›®æ”¯æŒè‡ªåŠ¨åŒ–éƒ¨ç½²ï¼Œå¯ä»¥å°†è‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬æ”¾åœ¨æ­¤ç›®å½•ä¸‹ã€‚å¦‚æœéƒ¨ç½²è„šæœ¬ç®€å•ï¼Œä¹Ÿå¯ä»¥ç›´æ¥æ”¾åœ¨ /scripts ç›®å½•ä¸‹ã€‚</li></ul><p data-pid="MUEO_4AQ">å¦å¤–ï¼Œshell è„šæœ¬ä¸­çš„å‡½æ•°åï¼Œå»ºè®®é‡‡ç”¨è¯­ä¹‰åŒ–çš„å‘½åæ–¹å¼ï¼Œä¾‹å¦‚ iam::log::info è¿™ç§è¯­ä¹‰åŒ–çš„å‘½åæ–¹å¼ï¼Œå¯ä»¥ä½¿è°ƒç”¨è€…è½»æ¾çš„è¾¨åˆ«å‡ºå‡½æ•°çš„åŠŸèƒ½ç±»åˆ«ï¼Œä¾¿äºå‡½æ•°çš„ç®¡ç†å’Œå¼•ç”¨ã€‚åœ¨ Kubernetes çš„è„šæœ¬ä¸­ï¼Œå°±å¤§é‡é‡‡ç”¨äº†è¿™ç§å‘½åæ–¹å¼ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>/build</b></h3><p data-pid="QYhfcRFG">è¿™é‡Œå­˜æ”¾å®‰è£…åŒ…å’ŒæŒç»­é›†æˆç›¸å…³çš„æ–‡ä»¶ã€‚è¿™ä¸ªç›®å½•ä¸‹æœ‰ 3 ä¸ªå¤§æ¦‚ç‡ä¼šä½¿ç”¨åˆ°çš„ç›®å½•ï¼Œåœ¨è®¾è®¡ç›®å½•ç»“æ„æ—¶å¯ä»¥è€ƒè™‘è¿›å»ã€‚</p><ul><li data-pid="4wLB6w9S"><code>/build/package</code>ï¼šå­˜æ”¾å®¹å™¨ï¼ˆDockerï¼‰ã€ç³»ç»Ÿï¼ˆdeb, rpm, pkgï¼‰çš„åŒ…é…ç½®å’Œè„šæœ¬ã€‚</li><li data-pid="EEcITBRu"><code>/build/ci</code>ï¼šå­˜æ”¾ CIï¼ˆtravisï¼Œcircleï¼Œdroneï¼‰çš„é…ç½®æ–‡ä»¶å’Œè„šæœ¬ã€‚</li><li data-pid="RlWnw3Af"><code>/build/docker</code>ï¼šå­˜æ”¾å­é¡¹ç›®å„ä¸ªç»„ä»¶çš„ Dockerfile æ–‡ä»¶ã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><h3><b>tools</b></h3><p data-pid="0jHzQ4VR">å­˜æ”¾è¿™ä¸ªé¡¹ç›®çš„æ”¯æŒå·¥å…·ã€‚è¿™äº›å·¥å…·å¯å¯¼å…¥æ¥è‡ª /pkg å’Œ /internal ç›®å½•çš„ä»£ç ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>githooks</b></h3><p data-pid="LgQQcZwn">Git é’©å­ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥å°† commit-msg å­˜æ”¾åœ¨è¯¥ç›®å½•ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>/assets</b></h3><p data-pid="Hnyl9Rt3">é¡¹ç›®ä½¿ç”¨çš„å…¶ä»–èµ„æº (å›¾ç‰‡ã€CSSã€JavaScript ç­‰)ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>/website</b></h3><p data-pid="QUadZs01">å¦‚æœä½ ä¸ä½¿ç”¨ GitHub é¡µé¢ï¼Œé‚£ä¹ˆå¯ä»¥åœ¨è¿™é‡Œæ”¾ç½®é¡¹ç›®ç½‘ç«™ç›¸å…³çš„æ•°æ®ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>æ–‡æ¡£ï¼šä¸»è¦å­˜æ”¾é¡¹ç›®çš„å„ç±»æ–‡æ¡£</b></h3><p data-pid="I11tISFG">ä¸€ä¸ªé¡¹ç›®ï¼Œä¹ŸåŒ…å«ä¸€äº›æ–‡æ¡£ï¼Œè¿™äº›æ–‡æ¡£æœ‰å¾ˆå¤šç±»åˆ«ï¼Œä¹Ÿéœ€è¦ä¸€äº›ç›®å½•æ¥å­˜æ”¾è¿™äº›æ–‡æ¡£ï¼Œè¿™é‡Œæˆ‘ä»¬ä¹Ÿä¸€èµ·æ¥çœ‹ä¸‹ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>/README.md</b></h3><p data-pid="cKubIkn4">é¡¹ç›®çš„ README æ–‡ä»¶ä¸€èˆ¬åŒ…å«äº†é¡¹ç›®çš„ä»‹ç»ã€åŠŸèƒ½ã€å¿«é€Ÿå®‰è£…å’Œä½¿ç”¨æŒ‡å¼•ã€è¯¦ç»†çš„æ–‡æ¡£é“¾æ¥ä»¥åŠå¼€å‘æŒ‡å¼•ç­‰ã€‚æœ‰æ—¶å€™ README æ–‡æ¡£ä¼šæ¯”è¾ƒé•¿ï¼Œä¸ºäº†èƒ½å¤Ÿå¿«é€Ÿå®šä½åˆ°æ‰€éœ€å†…å®¹ï¼Œéœ€è¦æ·»åŠ  markdown toc ç´¢å¼•ï¼Œå¯ä»¥å€ŸåŠ©å·¥å…· <a href="https://github.com/nochso/tocenize" target="_blank">tocenize</a> æ¥å®Œæˆç´¢å¼•çš„æ·»åŠ ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>/docs</b></h3><p data-pid="5nfDh6jb">å­˜æ”¾è®¾è®¡æ–‡æ¡£ã€å¼€å‘æ–‡æ¡£å’Œç”¨æˆ·æ–‡æ¡£ç­‰ï¼ˆé™¤äº† godoc ç”Ÿæˆçš„æ–‡æ¡£ï¼‰ã€‚æ¨èå­˜æ”¾ä»¥ä¸‹å‡ ä¸ªå­ç›®å½•ï¼š</p><ul><li data-pid="XVh7-KdE"><code>/docs/devel/{en-US,zh-CN}</code>ï¼šå­˜æ”¾å¼€å‘æ–‡æ¡£ã€hack æ–‡æ¡£ç­‰ã€‚</li><li data-pid="RQ195N-c"><code>/docs/guide/{en-US,zh-CN}</code>: å­˜æ”¾ç”¨æˆ·æ‰‹å†Œï¼Œå®‰è£…ã€quickstartã€äº§å“æ–‡æ¡£ç­‰ï¼Œåˆ†ä¸ºä¸­æ–‡æ–‡æ¡£å’Œè‹±æ–‡æ–‡æ¡£ã€‚</li><li data-pid="TEYmjRBq"><code>/docs/images</code>ï¼šå­˜æ”¾å›¾ç‰‡æ–‡ä»¶ã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><h3><b>/CONTRIBUTING.md</b></h3><p data-pid="1rN1lQnI">å¦‚æœæ˜¯ä¸€ä¸ªå¼€æºå°±ç»ªçš„é¡¹ç›®ï¼Œæœ€å¥½è¿˜è¦æœ‰ä¸€ä¸ª CONTRIBUTING.md æ–‡ä»¶ï¼Œç”¨æ¥è¯´æ˜å¦‚ä½•è´¡çŒ®ä»£ç ï¼Œå¦‚ä½•å¼€æºååŒç­‰ç­‰ã€‚CONTRIBUTING.md ä¸ä»…èƒ½å¤Ÿè§„èŒƒååŒæµç¨‹ï¼Œè¿˜èƒ½é™ä½ç¬¬ä¸‰æ–¹å¼€å‘è€…è´¡çŒ®ä»£ç çš„éš¾åº¦ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>/api</b></h3><p data-pid="s5TMabT7">/api ç›®å½•ä¸­å­˜æ”¾çš„æ˜¯å½“å‰é¡¹ç›®å¯¹å¤–æä¾›çš„å„ç§ä¸åŒç±»å‹çš„ API æ¥å£å®šä¹‰æ–‡ä»¶ï¼Œå…¶ä¸­å¯èƒ½åŒ…å«ç±»ä¼¼ /api/protobuf-specã€/api/thrift-specã€/api/http-specã€openapiã€swagger çš„ç›®å½•ï¼Œè¿™äº›ç›®å½•åŒ…å«äº†å½“å‰é¡¹ç›®å¯¹å¤–æä¾›å’Œä¾èµ–çš„æ‰€æœ‰ API æ–‡ä»¶ã€‚ä¾‹å¦‚ï¼Œå¦‚ä¸‹æ˜¯ IAM é¡¹ç›®çš„ /api ç›®å½•ï¼š</p><div class="highlight"><pre><code class="language-bash"> â€‹
 â”œâ”€â”€ openapi/
 â”‚   â””â”€â”€ README.md
 â””â”€â”€ swagger/
     â”œâ”€â”€ docs/
     â”œâ”€â”€ README.md
     â””â”€â”€ swagger.yaml</code></pre></div><p data-pid="0SR0QAj5">äºŒçº§ç›®å½•çš„ä¸»è¦ä½œç”¨ï¼Œå°±æ˜¯åœ¨ä¸€ä¸ªé¡¹ç›®åŒæ—¶æä¾›äº†å¤šç§ä¸åŒçš„è®¿é—®æ–¹å¼æ—¶ï¼Œå¯ä»¥åˆ†ç±»å­˜æ”¾ã€‚ç”¨è¿™ç§æ–¹å¼å¯ä»¥é¿å…æ½œåœ¨çš„å†²çªï¼Œä¹Ÿèƒ½è®©é¡¹ç›®ç»“æ„æ›´åŠ æ¸…æ™°ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>/examples</b></h3><p data-pid="6_FZJs7d">å­˜æ”¾åº”ç”¨ç¨‹åºæˆ–è€…å…¬å…±åŒ…çš„ç¤ºä¾‹ä»£ç ã€‚è¿™äº›ç¤ºä¾‹ä»£ç å¯ä»¥é™ä½ä½¿ç”¨è€…çš„ä¸Šæ‰‹é—¨æ§›ã€‚</p><p class="ztext-empty-paragraph"><br></p><p data-pid="yb323H4Y"><b>  åœ¨ Go é¡¹ç›®ä¸­ï¼Œè¦é¿å…ä½¿ç”¨å¸¦å¤æ•°çš„ç›®å½•æˆ–è€…åŒ…ã€‚å»ºè®®ç»Ÿä¸€ä½¿ç”¨å•æ•°ã€‚</b></p><p class="ztext-empty-paragraph"><br></p><h2><b>åˆç†çš„å¤šäººå¼€å‘æµ</b></h2><p data-pid="5UbovcgN">åŸºäº master åˆ†æ”¯æ–°å»ºä¸€ä¸ªåŠŸèƒ½åˆ†æ”¯ï¼ŒåŠŸèƒ½åˆ†æ”¯å¯ä»¥å–ä¸€äº›æœ‰æ„ä¹‰çš„åå­—ï¼Œä¾¿äºç†è§£ï¼Œä¾‹å¦‚ feature/rate-limitingã€‚</p><div class="highlight"><pre><code class="language-bash"> $ git checkout -b feature/rate-limiting</code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="dIanoD8V">åœ¨åŠŸèƒ½åˆ†æ”¯ä¸Šè¿›è¡Œä»£ç å¼€å‘ï¼Œå¼€å‘å®Œæˆå commit åˆ°åŠŸèƒ½åˆ†æ”¯ã€‚</p><div class="highlight"><pre><code class="language-bash"> $ git add limit.go
 $ git commit -m <span class="s2">"add rate limiting"</span></code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="AN2CuqaF">å°†æœ¬åœ°åŠŸèƒ½åˆ†æ”¯ä»£ç  push åˆ°è¿œç¨‹ä»“åº“ã€‚</p><div class="highlight"><pre><code class="language-bash"> $ git push origin feature/rate-limiting</code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="fvmGCuAS">åœ¨è¿œç¨‹ä»“åº“ä¸Šåˆ›å»º PRï¼ˆä¾‹å¦‚ï¼šGitHubï¼‰ã€‚</p><p data-pid="uHQreFSW">è¿›å…¥ GitHub å¹³å°ä¸Šçš„é¡¹ç›®ä¸»é¡µï¼Œç‚¹å‡» Compare &amp; pull request æäº¤ PRï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-511eb5feab1a5236457d0f2c67eb74c9_r.jpg" data-caption="" data-size="normal" width="1635" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p data-pid="lPb10Yx7"><b>å›¾ä¸­çš„â€œMerge pull requestâ€ æä¾›äº† 3 ç§ merge æ–¹æ³•ï¼š</b></p><ol><li data-pid="4t6HaK47">Create a merge commitï¼šGitHub çš„åº•å±‚æ“ä½œæ˜¯ git merge --no-ffã€‚feature åˆ†æ”¯ä¸Šæ‰€æœ‰çš„ commit éƒ½ä¼šåŠ åˆ° master åˆ†æ”¯ä¸Šï¼Œå¹¶ä¸”ä¼šç”Ÿæˆä¸€ä¸ª merge commitã€‚è¿™ç§æ–¹å¼å¯ä»¥è®©æˆ‘ä»¬æ¸…æ™°åœ°çŸ¥é“æ˜¯è°åšäº†æäº¤ï¼Œåšäº†å“ªäº›æäº¤ï¼Œå›æº¯å†å²çš„æ—¶å€™ä¹Ÿä¼šæ›´åŠ æ–¹ä¾¿ã€‚</li><li data-pid="d2NYV9cp">Squash and mergeï¼šGitHub çš„åº•å±‚æ“ä½œæ˜¯ git merge --squashã€‚Squash and merge ä¼šä½¿è¯¥ pull request ä¸Šçš„æ‰€æœ‰ commit éƒ½åˆå¹¶æˆä¸€ä¸ª commit ï¼Œç„¶ååŠ åˆ° master åˆ†æ”¯ä¸Šï¼Œä½†åŸæ¥çš„ commit å†å²ä¼šä¸¢å¤±ã€‚å¦‚æœå¼€å‘äººå‘˜åœ¨ feature åˆ†æ”¯ä¸Šæäº¤çš„ commit éå¸¸éšæ„ï¼Œæ²¡æœ‰è§„èŒƒï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥é€‰æ‹©è¿™ç§æ–¹æ³•æ¥ä¸¢å¼ƒæ— æ„ä¹‰çš„ commitã€‚ä½†æ˜¯åœ¨å¤§å‹é¡¹ç›®ä¸­ï¼Œæ¯ä¸ªå¼€å‘äººå‘˜éƒ½åº”è¯¥æ˜¯éµå¾ª commit è§„èŒƒçš„ï¼Œå› æ­¤æˆ‘ä¸å»ºè®®ä½ åœ¨å›¢é˜Ÿå¼€å‘ä¸­ä½¿ç”¨ Squash and mergeã€‚</li><li data-pid="gKZxWndB">Rebase and mergeï¼šGitHub çš„åº•å±‚æ“ä½œæ˜¯ git rebaseã€‚è¿™ç§æ–¹å¼ä¼šå°† pull request ä¸Šçš„æ‰€æœ‰æäº¤å†å²æŒ‰ç…§åŸæœ‰é¡ºåºä¾æ¬¡æ·»åŠ åˆ° master åˆ†æ”¯çš„å¤´éƒ¨ï¼ˆHEADï¼‰ã€‚å› ä¸º git rebase æœ‰é£é™©ï¼Œåœ¨ä½ ä¸å®Œå…¨ç†Ÿæ‚‰ Git å·¥ä½œæµæ—¶ï¼Œæˆ‘ä¸å»ºè®® merge æ—¶é€‰æ‹©è¿™ä¸ªã€‚é€šè¿‡åˆ†ææ¯ä¸ªæ–¹æ³•çš„ä¼˜ç¼ºç‚¹ï¼Œåœ¨å®é™…çš„é¡¹ç›®å¼€å‘ä¸­ï¼Œæˆ‘æ¯”è¾ƒæ¨èä½ ä½¿ç”¨ Create a merge commit æ–¹å¼ã€‚</li></ol><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><p data-pid="W133Gg8q"><b>å¼€æºé¡¹ç›®çš„è´¡çŒ®æ­¥éª¤ï¼š</b></p><blockquote data-pid="GV4dPOZM">è¿™ä¹Ÿæ˜¯æˆ‘ä»¬æ‰€éœ€è¦çš„æ­¥éª¤ï¼Œæˆ‘ä»¬ç»å¤§å¤šæ•°éœ€è¦çš„éƒ½æ˜¯å¼€æºé¡¹ç›®</blockquote><p data-pid="rbiPgD-R">Fork è¿œç¨‹ä»“åº“åˆ°è‡ªå·±çš„è´¦å·ä¸‹ã€‚</p><p data-pid="M9j2NK3W">å°†<a href="https://github.com/marmotedu/iam" target="_blank"><span class="invisible">https://</span><span class="visible">github.com/marmotedu/ia</span><span class="invisible">m</span><span class="ellipsis"></span></a> é¡¹ç›® Fork åˆ°è‡ªå·±çš„ä»“åº“ <a href="https://github.com/cubxxw/iam" target="_blank"><span class="invisible">https://</span><span class="visible">github.com/cubxxw/iam</span><span class="invisible"></span></a></p><div class="highlight"><pre><code class="language-bash"> $ git clone https://github.com/cubxxw/iam
 $ <span class="nb">cd</span> gitflow-demo
 $ git remote add upstream https://github.com/marmotedu/iam
 $ git remote set-url --push upstream no_push <span class="c1"># Never push to upstream master</span>
 $ git remote -v <span class="c1"># Confirm that your remotes make sense</span>
 origin  https://github.com/cubxxw/iam <span class="o">(</span>fetch<span class="o">)</span>
 origin  https://github.com/cubxxw/iam <span class="o">(</span>push<span class="o">)</span>
 upstream  https://github.com/marmotedu/iam <span class="o">(</span>fetch<span class="o">)</span>
 upstream  https://github.com/marmotedu/iam <span class="o">(</span>push<span class="o">)</span></code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="NT-P_L5e"><b>åˆ›å»ºåŠŸèƒ½åˆ†æ”¯</b>ã€‚</p><p data-pid="lcv75_0H">é¦–å…ˆï¼Œè¦åŒæ­¥æœ¬åœ°ä»“åº“çš„ master åˆ†æ”¯ä¸ºæœ€æ–°çš„çŠ¶æ€ï¼ˆè·Ÿ upstream master åˆ†æ”¯ä¸€è‡´ï¼‰ã€‚</p><div class="highlight"><pre><code class="language-bash"> $ git fetch upstream
 $ git checkout master
 $ git rebase upstream/master</code></pre></div><p data-pid="iykck743">ç„¶åï¼Œåˆ›å»ºåŠŸèƒ½åˆ†æ”¯ã€‚</p><div class="highlight"><pre><code class="language-bash"> $ git checkout -b feature/add-function</code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="Y_4gUqWl"><b>æäº¤ commitã€‚</b></p><p data-pid="qE6cFyc0">åœ¨ feature/add-function åˆ†æ”¯ä¸Šå¼€å‘ä»£ç ï¼Œå¼€å‘å®Œä»£ç åï¼Œæäº¤ commitã€‚</p><div class="highlight"><pre><code class="language-bash"> $ git fetch upstream <span class="c1"># commit å‰éœ€è¦å†æ¬¡åŒæ­¥ feature è·Ÿ upstream/master</span>
 $ git rebase upstream/master
 $ git add &lt;file&gt;
 $ git status
 $ git commit</code></pre></div><p data-pid="N46t95bq">åˆ†æ”¯å¼€å‘å®Œæˆåï¼Œå¯èƒ½ä¼šæœ‰ä¸€å † commitï¼Œä½†æ˜¯åˆå¹¶åˆ°ä¸»å¹²æ—¶ï¼Œæˆ‘ä»¬å¾€å¾€å¸Œæœ›åªæœ‰ä¸€ä¸ªï¼ˆæˆ–æœ€å¤šä¸¤ä¸‰ä¸ªï¼‰commitï¼Œè¿™å¯ä»¥ä½¿åŠŸèƒ½ä¿®æ”¹éƒ½æ”¾åœ¨ä¸€ä¸ªæˆ–å‡ ä¸ª commit ä¸­ï¼Œä¾¿äºåé¢çš„é˜…è¯»å’Œç»´æŠ¤ã€‚è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ git rebase æ¥åˆå¹¶å’Œä¿®æ”¹æˆ‘ä»¬çš„ commitï¼Œæ“ä½œå¦‚ä¸‹ï¼š</p><div class="highlight"><pre><code class="language-bash"> $ git rebase -i origin/master</code></pre></div><p class="ztext-empty-paragraph"><br></p><h2><b>ç ”å‘æµç¨‹</b></h2><p data-pid="_wsBZjLj">ä¸€ä¸ªé¡¹ç›®ä»ç«‹é¡¹åˆ°ç»“é¡¹ï¼Œä¸­é—´ä¼šç»å†å¾ˆå¤šé˜¶æ®µã€‚ä¸šç•Œç›¸å¯¹æ ‡å‡†çš„åˆ’åˆ†ï¼Œæ˜¯æŠŠç ”å‘æµç¨‹åˆ†ä¸ºå…­ä¸ªé˜¶æ®µï¼Œåˆ†åˆ«æ˜¯éœ€æ±‚é˜¶æ®µã€è®¾è®¡é˜¶æ®µã€å¼€å‘é˜¶æ®µã€æµ‹è¯•é˜¶æ®µã€å‘å¸ƒé˜¶æ®µã€è¿è¥é˜¶æ®µã€‚å…¶ä¸­ï¼Œå¼€å‘äººå‘˜éœ€è¦å‚ä¸çš„é˜¶æ®µæœ‰ 4 ä¸ªï¼šè®¾è®¡é˜¶æ®µã€å¼€å‘é˜¶æ®µã€æµ‹è¯•é˜¶æ®µå’Œå‘å¸ƒé˜¶æ®µã€‚ä¸‹å›¾å°±æ˜¯ä¸šç•Œç›¸å¯¹æ¯”è¾ƒæ ‡å‡†çš„æµç¨‹ï¼š</p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-16c0959efb141a4578895b0a5fdb66e1_r.jpg" data-caption="" data-size="normal" width="1088" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><p data-pid="H8Z7sL9i">æ¯ä¸ªé˜¶æ®µç»“æŸæ—¶ï¼Œéƒ½éœ€è¦æœ‰ä¸€ä¸ªæœ€ç»ˆçš„äº§å‡ºç‰©ï¼Œå¯ä»¥æ˜¯æ–‡æ¡£ã€ä»£ç æˆ–è€…éƒ¨ç½²ç»„ä»¶ç­‰ã€‚è¿™ä¸ªäº§å‡ºç‰©æ—¢æ˜¯å½“å‰é˜¶æ®µçš„ç»“æŸé‡Œç¨‹ç¢‘ï¼Œåˆæ˜¯ä¸‹ä¸€é˜¶æ®µçš„è¾“å…¥ã€‚æ‰€ä»¥è¯´ï¼Œå„ä¸ªé˜¶æ®µä¸æ˜¯å‰²è£‚çš„ï¼Œè€Œæ˜¯å¯†åˆ‡è”ç³»çš„æ•´ä½“ã€‚æ¯ä¸ªé˜¶æ®µåˆç»†åˆ†ä¸ºå¾ˆå¤šæ­¥éª¤ï¼Œè¿™äº›æ­¥éª¤æ˜¯éœ€è¦ä¸åŒçš„å‚ä¸è€…å»å®Œæˆçš„å·¥ä½œä»»åŠ¡ã€‚åœ¨å®Œæˆä»»åŠ¡çš„è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½éœ€è¦ç»è¿‡å¤šè½®çš„è®¨è®ºã€ä¿®æ”¹ï¼Œæœ€ç»ˆå½¢æˆå®šç¨¿ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>éœ€æ±‚é˜¶æ®µ</b></h3><p data-pid="RzfkqiVY">éœ€æ±‚é˜¶æ®µæ˜¯å°†ä¸€ä¸ªæŠ½è±¡çš„äº§å“æ€è·¯å…·åŒ–æˆä¸€ä¸ªå¯å®æ–½äº§å“çš„é˜¶æ®µã€‚åœ¨è¿™ä¸ªé˜¶æ®µï¼Œäº§å“äººå‘˜ä¼šè®¨è®ºäº§å“æ€è·¯ã€è°ƒç ”å¸‚åœºéœ€æ±‚ï¼Œå¹¶å¯¹éœ€æ±‚è¿›è¡Œåˆ†æï¼Œæ•´ç†å‡ºä¸€ä¸ªæ¯”è¾ƒå®Œå–„çš„éœ€æ±‚æ–‡æ¡£ã€‚æœ€åï¼Œäº§å“äººå‘˜ä¼šç»„ç»‡ç›¸å…³äººå‘˜å¯¹éœ€æ±‚è¿›è¡Œè¯„å®¡ï¼Œå¦‚æœè¯„å®¡é€šè¿‡ï¼Œå°±ä¼šè¿›å…¥è®¾è®¡é˜¶æ®µã€‚</p><p data-pid="iLhCS9jy">éœ€æ±‚é˜¶æ®µï¼Œä¸€èˆ¬ä¸éœ€è¦ç ”å‘äººå‘˜å‚ä¸ã€‚ä½†è¿™é‡Œï¼Œæˆ‘è¿˜æ˜¯å»ºè®®ä½ ç§¯æå‚ä¸äº§å“éœ€æ±‚çš„è®¨è®ºã€‚è™½ç„¶æˆ‘ä»¬æ˜¯ç ”å‘ï¼Œä½†æˆ‘ä»¬çš„è§†é‡å’Œå¯¹å›¢é˜Ÿçš„è´¡çŒ®ï¼Œå¯ä»¥ä¸ä»…ä»…å±€é™åœ¨ç ”å‘é¢†åŸŸã€‚</p><p data-pid="KystA1Ve">è¿™é‡Œæœ‰ä¸ªç‚¹éœ€è¦æé†’ä½ ï¼Œå¦‚æœä½ ä»¬å›¢é˜Ÿæœ‰æµ‹è¯•äººå‘˜ï¼Œè¿™ä¸ªé˜¶æ®µä¹Ÿéœ€è¦æ‹‰æµ‹è¯•äººå‘˜æ—å¬ä¸‹ã€‚å› ä¸ºäº†è§£äº§å“è®¾è®¡ï¼Œå¯¹æµ‹è¯•é˜¶æ®µæµ‹è¯•ç”¨ä¾‹çš„ç¼–å†™å’ŒåŠŸèƒ½æµ‹è¯•ç­‰éƒ½å¾ˆæœ‰å¸®åŠ©ã€‚</p><p data-pid="FueksEi1">éœ€æ±‚é˜¶æ®µçš„äº§å‡ºç‰©æ˜¯ä¸€ä¸ªé€šè¿‡è¯„å®¡çš„è¯¦ç»†çš„éœ€æ±‚æ–‡æ¡£ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>è®¾è®¡é˜¶æ®µ</b></h3><p data-pid="RFPYN9Uh">è®¾è®¡é˜¶æ®µï¼Œæ˜¯æ•´ä¸ªäº§å“ç ”å‘è¿‡ç¨‹ä¸­éå¸¸é‡è¦çš„é˜¶æ®µï¼ŒåŒ…æ‹¬çš„å†…å®¹ä¹Ÿæ¯”è¾ƒå¤šï¼Œä½ å¯ä»¥çœ‹ä¸€ä¸‹è¿™å¼ è¡¨ï¼š</p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-430babb5a2f357c347e5c45e1a2b9a1e_r.jpg" data-caption="" data-size="normal" width="1088" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p data-pid="e7qJ5C5R">è¿™é‡Œçš„æ¯ä¸€ä¸ªè®¾è®¡é¡¹éƒ½åº”è¯¥ç»è¿‡åå¤çš„è®¨è®ºã€æ‰“ç£¨ï¼Œæœ€ç»ˆåœ¨å›¢é˜Ÿå†…è¾¾æˆå…±è¯†ã€‚è¿™æ ·å¯ä»¥ç¡®ä¿è®¾è®¡æ˜¯åˆç†çš„ï¼Œå¹¶å‡å°‘è¿”å·¥çš„æ¦‚ç‡ã€‚è¿™é‡Œæƒ³æé†’ä½ çš„æ˜¯ï¼ŒæŠ€æœ¯æ–¹æ¡ˆå’Œå®ç°éƒ½è¦ç»è¿‡è®¤çœŸè®¨è®ºï¼Œå¹¶è·å¾—ä¸€è‡´é€šè¿‡ï¼Œå¦åˆ™åé¢å› ä¸ºæŠ€æœ¯æ–¹æ¡ˆè®¾è®¡ä¸å½“ï¼Œéœ€è¦è¿”å·¥ï¼Œä½ è¦æ‰¿æ‹…å¤§éƒ¨åˆ†è´£ä»»ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>å¼€å‘é˜¶æ®µ</b></h3><p data-pid="HmyjoyCo">å¼€å‘é˜¶æ®µï¼Œä»å®ƒçš„åå­—ä½ å°±çŸ¥é“äº†ï¼Œè¿™æ˜¯å¼€å‘äººå‘˜çš„ä¸»æˆ˜åœºï¼ŒåŒæ—¶å®ƒå¯èƒ½ä¹Ÿæ˜¯æŒç»­æ—¶é—´æœ€é•¿çš„é˜¶æ®µã€‚åœ¨è¿™ä¸€é˜¶æ®µï¼Œå¼€å‘äººå‘˜æ ¹æ®æŠ€æœ¯è®¾è®¡æ–‡æ¡£ï¼Œç¼–ç å®ç°äº§å“éœ€æ±‚ã€‚</p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-d8a5a09df31649b2106fc95edc180c8a_r.jpg" data-caption="" data-size="normal" width="1088" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p data-pid="BzonLvnM">è®©æˆ‘ä»¬æ¥è¯¦ç»†çœ‹ä¸‹è¿™å¼ å›¾é‡Œå‘ˆç°çš„æ­¥éª¤ã€‚å¼€å‘é˜¶æ®µåˆå¯ä»¥åˆ†ä¸ºâ€œå¼€å‘â€å’Œâ€œæ„å»ºâ€ä¸¤éƒ¨åˆ†ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹å¼€å‘ã€‚</p><p data-pid="TAxDXSUp">ä¸ºäº†æé«˜å¼€å‘æ•ˆç‡ï¼Œè¶Šæ¥è¶Šå¤šçš„å¼€å‘è€…é‡‡ç”¨ç”Ÿæˆä»£ç çš„æ–¹å¼æ¥ç”Ÿæˆä¸€éƒ¨åˆ†ä»£ç ï¼Œæ‰€ä»¥åœ¨çœŸæ­£ç¼–è¯‘ä¹‹å‰å¯èƒ½è¿˜éœ€è¦å…ˆç”Ÿæˆä»£ç ï¼Œæ¯”å¦‚ç”Ÿæˆ <code>.pb.go</code> æ–‡ä»¶ã€API æ–‡æ¡£ã€æµ‹è¯•ç”¨ä¾‹ã€é”™è¯¯ç ç­‰ã€‚æˆ‘çš„å»ºè®®æ˜¯ï¼Œåœ¨é¡¹ç›®å¼€å‘ä¸­ï¼Œä½ è¦æ€è€ƒæ€ä¹ˆå°½å¯èƒ½è‡ªåŠ¨ç”Ÿæˆä»£ç ã€‚è¿™æ ·ä¸ä»…èƒ½æé«˜ç ”å‘æ•ˆç‡ï¼Œè¿˜èƒ½å‡å°‘é”™è¯¯ã€‚</p><p data-pid="98QcDIdq">å¯¹äºä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œæˆ‘ä»¬å¯èƒ½è¿˜éœ€è¦æ£€æŸ¥æ–°å¢çš„æ–‡ä»¶æ˜¯å¦æœ‰ç‰ˆæƒä¿¡æ¯ã€‚æ­¤å¤–ï¼Œæ ¹æ®é¡¹ç›®ä¸åŒï¼Œå¼€å‘é˜¶æ®µè¿˜å¯èƒ½æœ‰å…¶å®ƒä¸åŒçš„æ­¥éª¤ã€‚åœ¨æµç¨‹çš„æœ€åï¼Œé€šå¸¸ä¼šè¿›è¡Œé™æ€ä»£ç æ£€æŸ¥ã€å•å…ƒæµ‹è¯•å’Œç¼–è¯‘ã€‚ç¼–è¯‘ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥å¯åŠ¨æœåŠ¡ï¼Œå¹¶è¿›è¡Œè‡ªæµ‹äº†ã€‚</p><p data-pid="uuhG4Kgw">è‡ªæµ‹ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥éµå¾ª Git Flow å·¥ä½œæµï¼Œå°†å¼€å‘åˆ†æ”¯ push åˆ°ä»£ç æ‰˜ç®¡å¹³å°è¿›è¡Œ code reviewã€‚code review é€šè¿‡ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†ä»£ç  merge åˆ° develop åˆ†æ”¯ä¸Šã€‚</p><p data-pid="ZdVjWpay">æ¥ä¸‹æ¥è¿›å…¥æ„å»ºé˜¶æ®µã€‚è¿™ä¸€é˜¶æ®µæœ€å¥½å€ŸåŠ© CI/CD å¹³å°å®ç°è‡ªåŠ¨åŒ–ï¼Œæé«˜æ„å»ºæ•ˆç‡ã€‚</p><p data-pid="02MPne3f">åˆå¹¶åˆ° develop åˆ†æ”¯çš„ä»£ç åŒæ ·éœ€è¦è¿›è¡Œä»£ç æ‰«æã€å•å…ƒæµ‹è¯•ï¼Œå¹¶ç¼–è¯‘æ‰“åŒ…ã€‚æœ€åï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œå½’æ¡£ï¼Œä¹Ÿå°±æ˜¯å°†ç¼–è¯‘åçš„äºŒè¿›åˆ¶æ–‡ä»¶æˆ– Docker é•œåƒä¸Šä¼ åˆ°åˆ¶å“åº“æˆ–é•œåƒä»“åº“ã€‚</p><p class="ztext-empty-paragraph"><br></p><p data-pid="1VG_yh8R">å¦‚ä½•æé«˜æ•ˆç‡å‘¢ï¼Ÿä¸¤ç§æ–¹æ³•ï¼š</p><ol><li data-pid="cYnG7Sf8">å°†å¼€å‘é˜¶æ®µçš„æ­¥éª¤é€šè¿‡ Makefile å®ç°é›†ä¸­ç®¡ç†ï¼›</li><li data-pid="q9R03HHR">å°†æ„å»ºé˜¶æ®µçš„æ­¥éª¤é€šè¿‡ CI/CD å¹³å°å®ç°è‡ªåŠ¨åŒ–ã€‚</li></ol><p data-pid="4Ztu3lAX">åœ¨æœ€ç»ˆåˆå¹¶ä»£ç åˆ° master ä¹‹å‰ï¼Œè¦ç¡®ä¿ä»£ç æ˜¯ç»è¿‡å……åˆ†æµ‹è¯•çš„ã€‚</p><blockquote data-pid="OOkGs45B">å…¶ä¸­æœ‰ä¸€ä¸ªä»£ç è¦†ç›–ç‡ï¼š</blockquote><p class="ztext-empty-paragraph"><br></p><h3><b>æµ‹è¯•é˜¶æ®µ</b></h3><p data-pid="zDBy--z-">æµ‹è¯•é˜¶æ®µç”±æµ‹è¯•å·¥ç¨‹å¸ˆï¼ˆä¹Ÿå«è´¨é‡å·¥ç¨‹å¸ˆï¼‰è´Ÿè´£ï¼Œè¿™ä¸ªé˜¶æ®µçš„ä¸»è¦æµç¨‹æ˜¯ï¼šæµ‹è¯•å·¥ç¨‹å¸ˆæ ¹æ®éœ€æ±‚æ–‡æ¡£åˆ›å»ºæµ‹è¯•è®¡åˆ’ã€ç¼–å†™æµ‹è¯•ç”¨ä¾‹ï¼Œå¹¶æ‹‰ç ”å‘åŒå­¦ä¸€èµ·è¯„å®¡æµ‹è¯•è®¡åˆ’å’Œç”¨ä¾‹ã€‚è¯„å®¡é€šè¿‡åï¼Œæµ‹è¯•å·¥ç¨‹å¸ˆå°±ä¼šæ ¹æ®æµ‹è¯•è®¡åˆ’å’Œæµ‹è¯•ç”¨ä¾‹å¯¹æœåŠ¡è¿›è¡Œæµ‹è¯•ã€‚</p><p data-pid="jYiicCTb">ä¸ºäº†æé«˜æ•´ä¸ªç ”å‘æ•ˆç‡ï¼Œæµ‹è¯•è®¡åˆ’çš„åˆ›å»ºå’Œæµ‹è¯•ç”¨ä¾‹çš„ç¼–å†™å¯ä»¥è·Ÿå¼€å‘é˜¶æ®µå¹¶è¡Œã€‚</p><p data-pid="aJefkaSS">ç ”å‘äººå‘˜åœ¨äº¤ä»˜ç»™æµ‹è¯•æ—¶ï¼Œè¦æä¾›è‡ªæµ‹æŠ¥å‘Šã€è‡ªæµ‹ç”¨ä¾‹å’Œå®‰è£…éƒ¨ç½²æ–‡æ¡£ã€‚è¿™é‡Œæˆ‘è¦å¼ºè°ƒçš„æ˜¯ï¼šåœ¨æµ‹è¯•é˜¶æ®µï¼Œä¸ºäº†ä¸é˜»å¡æµ‹è¯•ï¼Œç¡®ä¿é¡¹ç›®æŒ‰æ—¶å‘å¸ƒï¼Œç ”å‘äººå‘˜åº”è¯¥ä¼˜å…ˆè§£å†³æµ‹è¯•åŒå­¦çš„ Bugï¼Œè‡³å°‘æ˜¯é˜»å¡ç±»çš„ Bugã€‚ä¸ºäº†å‡å°‘ä¸å¿…è¦çš„æ²Ÿé€šå’Œæ’éšœï¼Œå®‰è£…éƒ¨ç½²æ–‡æ¡£è¦å°½å¯èƒ½è¯¦å°½å’Œå‡†ç¡®ã€‚</p><p data-pid="R3CgBiwm">å¦å¤–ï¼Œä½ ä¹Ÿå¯ä»¥åŠæ—¶è·Ÿè¿›æµ‹è¯•ï¼Œäº†è§£æµ‹è¯•åŒå­¦å½“å‰é‡åˆ°çš„å¡ç‚¹ã€‚å› ä¸ºå®é™…å·¥ä½œä¸­ï¼Œä¸€äº›æµ‹è¯•åŒå­¦åœ¨é‡åˆ°å¡ç‚¹æ—¶ï¼Œä¸å–„äºæˆ–è€…ä¸ä¼šåŠæ—¶åœ°è·Ÿä½ åŒæ­¥å¡ç‚¹ï¼Œå¾€å¾€ç ”å‘ 1 åˆ†é’Ÿå°±å¯ä»¥è§£å†³çš„é—®é¢˜ï¼Œå¯èƒ½è¦èŠ±æµ‹è¯•åŒå­¦å‡ ä¸ªå°æ—¶æˆ–è€…æ›´ä¹…çš„æ—¶é—´å»è§£å†³ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>å‘å¸ƒé˜¶æ®µ</b></h3><p data-pid="qn0Ovezg">å‘å¸ƒé˜¶æ®µä¸»è¦æ˜¯å°†è½¯ä»¶éƒ¨ç½²ä¸Šçº¿ï¼Œä¸ºäº†ä¿è¯å‘å¸ƒçš„æ•ˆç‡å’Œè´¨é‡ï¼Œæˆ‘ä»¬éœ€è¦éµå¾ªä¸€å®šçš„å‘å¸ƒæµç¨‹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-ae6121590e596a70893b098f79d56688_r.jpg" data-caption="" data-size="normal" width="1088" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p data-pid="LHU3MUFl">é¦–å…ˆï¼Œå¼€å‘äººå‘˜é¦–å…ˆéœ€è¦å°†ç»è¿‡æµ‹è¯•åçš„ä»£ç åˆå¹¶åˆ°ä¸»å¹²ï¼Œé€šå¸¸æ˜¯ master åˆ†æ”¯ï¼Œå¹¶ç”Ÿæˆç‰ˆæœ¬å·ï¼Œç„¶åç»™æœ€æ–°çš„ commit æ‰“ä¸Šç‰ˆæœ¬æ ‡ç­¾ã€‚ä¹‹åï¼Œå¯ä»¥å°†ä»£ç  push åˆ°ä»£ç æ‰˜ç®¡å¹³å°ï¼Œå¹¶è§¦å‘ CI æµç¨‹ï¼ŒCI æµç¨‹ä¸€èˆ¬ä¼šæ‰§è¡Œä»£ç æ‰«æã€å•å…ƒæµ‹è¯•ã€ç¼–è¯‘ï¼Œæœ€åå°†æ„å»ºäº§ç‰©å‘å¸ƒåˆ°åˆ¶å“åº“ã€‚CI æµç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®éœ€è¦æ·»åŠ ä»»æ„åŠŸèƒ½ã€‚</p><p data-pid="au8l58zC">ç¼–å†™ä¸€äº›è‡ªåŠ¨åŒ–çš„æµ‹è¯•ç”¨ä¾‹ï¼Œåœ¨æœåŠ¡å‘å¸ƒåˆ°ç°ç½‘ä¹‹åï¼Œå¯¹ç°ç½‘æœåŠ¡åšä¸€æ¬¡æ¯”è¾ƒå……åˆ†çš„å›å½’æµ‹è¯•ã€‚é€šè¿‡è¿™ä¸ªè‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œå¯ä»¥ä»¥æœ€å°çš„ä»£ä»·ï¼Œæœ€å¿«é€Ÿåœ°éªŒè¯ç°ç½‘åŠŸèƒ½ï¼Œä»è€Œä¿éšœå‘å¸ƒè´¨é‡ã€‚</p><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>è¿è¥é˜¶æ®µ</b></h3><p data-pid="T3cRIDL4">ç ”å‘æµç¨‹çš„æœ€åä¸€ä¸ªé˜¶æ®µæ˜¯è¿è¥é˜¶æ®µï¼Œè¯¥é˜¶æ®µä¸»è¦åˆ†ä¸ºäº§å“è¿è¥å’Œè¿ç»´ä¸¤ä¸ªéƒ¨åˆ†ã€‚</p><ul><li data-pid="DLwAwz8D">äº§å“è¿è¥ï¼šé€šè¿‡ä¸€ç³»åˆ—çš„è¿è¥æ´»åŠ¨ï¼Œæ¯”å¦‚çº¿ä¸‹çš„æŠ€æœ¯æ²™é¾™ã€çº¿ä¸Šçš„å…è´¹å…¬å¼€è¯¾ã€æé«˜å…³é”®è¯æ’åæˆ–è€…è¾“å‡ºä¸€äº›æŠ€æœ¯æ¨å¹¿æ–‡ç« ç­‰æ–¹å¼ï¼Œæ¥æ¨é«˜æ•´ä¸ªäº§å“çš„çŸ¥ååº¦ï¼Œæé«˜äº§å“çš„ç”¨æˆ·æ•°é‡ï¼Œå¹¶æé«˜æœˆæ´»å’Œæ—¥æ´»ã€‚</li><li data-pid="rErQ5eZf">è¿ç»´ï¼šç”±è¿ç»´å·¥ç¨‹å¸ˆè´Ÿè´£ï¼Œæ ¸å¿ƒç›®æ ‡æ˜¯ç¡®ä¿ç³»ç»Ÿç¨³å®šçš„è¿è¡Œï¼Œå¦‚æœç³»ç»Ÿå¼‚å¸¸ï¼Œèƒ½å¤ŸåŠæ—¶å‘ç°å¹¶ä¿®å¤é—®é¢˜ã€‚é•¿æœŸç›®æ ‡æ˜¯é€šè¿‡æŠ€æœ¯æ‰‹æ®µæˆ–è€…æµç¨‹æ¥å®Œå–„æ•´ä¸ªç³»ç»Ÿæ¶æ„ï¼Œå‡å°‘äººåŠ›æŠ•å…¥ã€æé«˜è¿ç»´æ•ˆç‡ï¼Œå¹¶æé«˜ç³»ç»Ÿçš„å¥å£®æ€§å’Œæ¢å¤èƒ½åŠ›ã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-8c04b26c4bc4c7f5b8167643b40bf799_r.jpg" data-caption="" data-size="normal" width="1088" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><p data-pid="APEyiL6z">åœ¨è¿è¥é˜¶æ®µï¼Œç ”å‘äººå‘˜çš„ä¸»è¦èŒè´£å°±æ˜¯ååŠ©è¿ç»´è§£å†³ç°ç½‘ Bugï¼Œä¼˜åŒ–éƒ¨ç½²æ¶æ„ã€‚å½“ç„¶ï¼Œç ”å‘äººå‘˜å¯èƒ½ä¹Ÿéœ€è¦é…åˆè¿è¥äººå‘˜å¼€å‘ä¸€äº›è¿è¥æ¥å£ï¼Œä¾›è¿è¥äººå‘˜ä½¿ç”¨ã€‚</p><p data-pid="GYx8N_Po"><b>åˆ†å·¥å›¾ï¼š</b></p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-50eaf0e744244f1c16970f2a8cb11b42_r.jpg" data-caption="" data-size="normal" width="1088" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-60f1388f8c05ac6a14fc91cfe0b566e8_r.jpg" data-caption="" data-size="normal" width="1088" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h2><b>å¦‚ä½•ç®¡ç†åº”ç”¨ç”Ÿå‘½å‘¨æœŸ</b></h2><p data-pid="ehJHjY62">é‡‡ç”¨ä¸€äº›å¥½çš„å·¥å…·æˆ–æ–¹æ³•åœ¨åº”ç”¨çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­å¯¹åº”ç”¨è¿›è¡Œç®¡ç†ï¼Œä»¥æé«˜åº”ç”¨çš„ç ”å‘æ•ˆç‡å’Œè´¨é‡ã€‚</p><p data-pid="qFcZKgsP">åœ¨è¿™é‡Œæˆ‘å…ˆæ•´ä½“ä»‹ç»ä¸€ä¸‹ï¼Œä½ å…ˆæœ‰ä¸ªå¤§è‡´çš„å°è±¡ï¼Œä¸€ä¼šæˆ‘ä»¬å†ä¸€ä¸ªä¸ªç»†è®²ã€‚æˆ‘ä»¬å¯ä»¥ä»ä¸¤ä¸ªç»´åº¦æ¥ç†è§£åº”ç”¨ç”Ÿå‘½å‘¨æœŸç®¡ç†æŠ€æœ¯ã€‚</p><ul><li data-pid="Wmw0S9Su">ç¬¬ä¸€ä¸ªç»´åº¦æ˜¯æ¼”è¿›ç»´åº¦ã€‚åº”ç”¨ç”Ÿå‘½å‘¨æœŸï¼Œæœ€å¼€å§‹ä¸»è¦æ˜¯é€šè¿‡ç ”å‘æ¨¡å¼æ¥ç®¡ç†çš„ï¼ŒæŒ‰æ—¶é—´çº¿å…ˆåå‡ºç°äº†ç€‘å¸ƒæ¨¡å¼ã€è¿­ä»£æ¨¡å¼ã€æ•æ·æ¨¡å¼ã€‚æ¥ç€ï¼Œä¸ºäº†è§£å†³ç ”å‘æ¨¡å¼ä¸­çš„ä¸€äº›ç—›ç‚¹å‡ºç°äº†å¦ä¸€ç§ç®¡ç†æŠ€æœ¯ï¼Œä¹Ÿå°±æ˜¯ CI/CD æŠ€æœ¯ã€‚éšç€ CI/CD æŠ€æœ¯çš„æˆç†Ÿï¼Œåˆå‚¬ç”Ÿäº†å¦ä¸€ç§æ›´é«˜çº§çš„ç®¡ç†æŠ€æœ¯ DevOpsã€‚</li><li data-pid="9tMb8YB9">ç¬¬äºŒä¸ªç»´åº¦æ˜¯ç®¡ç†æŠ€æœ¯çš„ç±»åˆ«ã€‚åº”ç”¨ç”Ÿå‘½å‘¨æœŸç®¡ç†æŠ€æœ¯å¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼š<br></li><ul><li data-pid="ZjuHyYp3">ç ”å‘æ¨¡å¼ï¼Œç”¨æ¥ç¡®ä¿æ•´ä¸ªç ”å‘æµç¨‹æ˜¯é«˜æ•ˆçš„ã€‚</li><li data-pid="_tXYwtIA">DevOpsï¼Œä¸»è¦é€šè¿‡åè°ƒå„ä¸ªéƒ¨é—¨ä¹‹é—´çš„åˆä½œï¼Œæ¥æé«˜è½¯ä»¶çš„å‘å¸ƒæ•ˆç‡å’Œè´¨é‡ã€‚DevOps ä¸­åˆåŒ…å«äº†å¾ˆå¤šç§æŠ€æœ¯ï¼Œä¸»è¦åŒ…æ‹¬ CI/CD å’Œå¤šç§ Opsï¼Œä¾‹å¦‚ AIOpsã€ChatOpsã€GitOpsã€NoOps ç­‰ã€‚å…¶ä¸­ï¼ŒCI/CD æŠ€æœ¯æé«˜äº†è½¯ä»¶çš„å‘å¸ƒæ•ˆç‡å’Œè´¨é‡ï¼Œè€Œ Ops æŠ€æœ¯åˆ™æé«˜äº†è½¯ä»¶çš„è¿ç»´å’Œè¿è¥æ•ˆç‡ã€‚</li></ul></ul><p class="ztext-empty-paragraph"><br></p><p data-pid="1qsOZyZX">å°½ç®¡è¿™äº›åº”ç”¨ç”Ÿå‘½å‘¨æœŸç®¡ç†æŠ€æœ¯æœ‰å¾ˆå¤šä¸åŒï¼Œä½†æ˜¯å®ƒä»¬å½¼æ­¤æ”¯æŒã€ç›¸äº’è”ç³»ã€‚ç ”å‘æ¨¡å¼ä¸“æ³¨äºå¼€å‘è¿‡ç¨‹ï¼ŒDevOps æŠ€æœ¯é‡Œçš„ CI/CD ä¸“æ³¨äºæµç¨‹ï¼ŒOps åˆ™ä¸“æ³¨äºå®æˆ˜ã€‚</p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-ba07903b0391f88198e54325a76acc57_r.jpg" data-caption="" data-size="normal" width="1088" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p data-pid="Rqtrjpmv">ä¹Ÿå°±æ˜¯æŒ‰ç…§è¿™æ ·çš„é¡ºåºï¼šç ”å‘æ¨¡å¼ï¼ˆç€‘å¸ƒæ¨¡å¼ -&gt; è¿­ä»£æ¨¡å¼ -&gt; æ•æ·æ¨¡å¼ï¼‰ -&gt; CI/CD -&gt; DevOpsã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>ç ”å‘æ¨¡å¼</b></h3><p data-pid="K4T72BBx">ç ”å‘æ¨¡å¼ä¸»è¦æœ‰ä¸‰ç§ï¼Œæ¼”è¿›é¡ºåºä¸ºç€‘å¸ƒæ¨¡å¼ -&gt; è¿­ä»£æ¨¡å¼ -&gt; æ•æ·æ¨¡å¼ï¼Œç°åœ¨æˆ‘ä»¬é€ä¸€çœ‹ä¸‹ã€‚</p><h3><b>ç€‘å¸ƒæ¨¡å¼</b></h3><p data-pid="PVf3Cs3s">åœ¨æ—©æœŸé˜¶æ®µï¼Œè½¯ä»¶ç ”å‘æ™®éé‡‡ç”¨çš„æ˜¯ç€‘å¸ƒæ¨¡å¼ï¼Œåƒæˆ‘ä»¬ç†ŸçŸ¥çš„ RHELã€Fedora ç­‰ç³»ç»Ÿå°±æ˜¯é‡‡ç”¨ç€‘å¸ƒæ¨¡å¼ã€‚</p><p data-pid="cN07_tQm">ç€‘å¸ƒæ¨¡å¼æŒ‰ç…§é¢„å…ˆè§„åˆ’å¥½çš„ç ”å‘é˜¶æ®µæ¥æ¨è¿›ç ”å‘è¿›åº¦ã€‚æ¯”å¦‚ï¼ŒæŒ‰ç…§éœ€æ±‚é˜¶æ®µã€è®¾è®¡é˜¶æ®µã€å¼€å‘é˜¶æ®µã€æµ‹è¯•é˜¶æ®µã€å‘å¸ƒé˜¶æ®µã€è¿è¥é˜¶æ®µçš„é¡ºåºä¸²è¡Œæ‰§è¡Œå¼€å‘ä»»åŠ¡ã€‚æ¯ä¸ªé˜¶æ®µå®Œç¾å®Œæˆä¹‹åï¼Œæ‰ä¼šè¿›å…¥åˆ°ä¸‹ä¸€é˜¶æ®µï¼Œé˜¶æ®µä¹‹é—´é€šè¿‡æ–‡æ¡£è¿›è¡Œäº¤ä»˜ã€‚æ•´ä¸ªè¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-4871cb33a436b01ab057f611fcb381dc_r.jpg" data-caption="" data-size="normal" width="1088" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>è¿­ä»£æ¨¡å¼</b></h3><p data-pid="cWFvUEVf">è¿­ä»£æ¨¡å¼ï¼Œæ˜¯ä¸€ç§ä¸ç€‘å¸ƒå¼æ¨¡å¼å®Œå…¨ç›¸åçš„å¼€å‘è¿‡ç¨‹ï¼šç ”å‘ä»»åŠ¡è¢«åˆ‡åˆ†ä¸ºä¸€ç³»åˆ—è½®æ¬¡ï¼Œæ¯ä¸€ä¸ªè½®æ¬¡éƒ½æ˜¯ä¸€ä¸ªè¿­ä»£ï¼Œæ¯ä¸€æ¬¡è¿­ä»£éƒ½æ˜¯ä¸€ä¸ªä»è®¾è®¡åˆ°å®ç°çš„å®Œæ•´è¿‡ç¨‹ã€‚å®ƒä¸è¦æ±‚æ¯ä¸€ä¸ªé˜¶æ®µçš„ä»»åŠ¡éƒ½åšåˆ°æœ€å®Œç¾ï¼Œè€Œæ˜¯å…ˆæŠŠä¸»è¦åŠŸèƒ½æ­å»ºèµ·æ¥ï¼Œç„¶åå†é€šè¿‡å®¢æˆ·çš„åé¦ˆä¿¡æ¯ä¸æ–­å®Œå–„ã€‚</p><p data-pid="fVcmGs5V">è¿­ä»£å¼€å‘å¯ä»¥å¸®åŠ©äº§å“æ”¹è¿›å’ŒæŠŠæ§è¿›åº¦ï¼Œå®ƒçš„çµæ´»æ€§æå¤§åœ°æå‡äº†é€‚åº”éœ€æ±‚å˜åŒ–çš„èƒ½åŠ›ï¼Œå…‹æœäº†é«˜é£é™©ã€éš¾å˜æ›´ã€å¤ç”¨æ€§ä½çš„ç‰¹ç‚¹ã€‚</p><p data-pid="sVLbq2uX">ä½†æ˜¯ï¼Œè¿­ä»£æ¨¡å¼çš„é—®é¢˜åœ¨äºæ¯”è¾ƒä¸“æ³¨äºå¼€å‘è¿‡ç¨‹ï¼Œå¾ˆå°‘ä»é¡¹ç›®ç®¡ç†çš„è§†è§’å»åŠ é€Ÿå’Œä¼˜åŒ–é¡¹ç›®å¼€å‘è¿‡ç¨‹ã€‚æ¥ä¸‹æ¥è¦è®²çš„æ•æ·æ¨¡å¼ï¼Œå°±å¼¥è¡¥äº†è¿™ä¸ªç¼ºç‚¹ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>æ•æ·æ¨¡å¼</b></h3><p data-pid="bXJirdx7">æ•æ·æ¨¡å¼æŠŠä¸€ä¸ªå¤§çš„éœ€æ±‚åˆ†æˆå¤šä¸ªã€å¯åˆ†é˜¶æ®µå®Œæˆçš„å°è¿­ä»£ï¼Œæ¯ä¸ªè¿­ä»£äº¤ä»˜çš„éƒ½æ˜¯ä¸€ä¸ªå¯ä½¿ç”¨çš„è½¯ä»¶ã€‚åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œè½¯ä»¶è¦ä¸€ç›´å¤„äºå¯ä½¿ç”¨çŠ¶æ€ã€‚</p><p data-pid="8dVRKEAg">åœ¨æ•æ·æ¨¡å¼ä¸­ï¼Œæˆ‘ä»¬ä¼šæŠŠä¸€ä¸ªå¤§çš„éœ€æ±‚æ‹†åˆ†æˆå¾ˆå¤šå°çš„è¿­ä»£ï¼Œè¿™æ„å‘³ç€å¼€å‘è¿‡ç¨‹ä¸­ä¼šæœ‰å¾ˆå¤šä¸ªå¼€å‘ã€æ„å»ºã€æµ‹è¯•ã€å‘å¸ƒå’Œéƒ¨ç½²çš„æµç¨‹ã€‚è¿™ç§é«˜é¢‘åº¦çš„æ“ä½œä¼šç»™ç ”å‘ã€è¿ç»´å’Œæµ‹è¯•äººå‘˜å¸¦æ¥å¾ˆå¤§çš„å·¥ä½œé‡ï¼Œé™ä½äº†å·¥ä½œæ•ˆç‡ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒCI/CD æŠ€æœ¯è¯ç”Ÿäº†ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>CI/CDï¼šè‡ªåŠ¨åŒ–æ„å»ºå’Œéƒ¨ç½²åº”ç”¨</b></h3><p data-pid="GZWgd6rl">CI/CD æŠ€æœ¯é€šè¿‡è‡ªåŠ¨åŒ–çš„æ‰‹æ®µï¼Œæ¥å¿«é€Ÿæ‰§è¡Œä»£ç æ£€æŸ¥ã€æµ‹è¯•ã€æ„å»ºã€éƒ¨ç½²ç­‰ä»»åŠ¡ï¼Œä»è€Œæé«˜ç ”å‘æ•ˆç‡ï¼Œè§£å†³æ•æ·æ¨¡å¼å¸¦æ¥çš„å¼Šç«¯ã€‚</p><p data-pid="6yI9s3FC">CI/CD åŒ…å«äº† 3 ä¸ªæ ¸å¿ƒæ¦‚å¿µã€‚</p><ul><li data-pid="8TnmUWUL">CIï¼šContinuous Integrationï¼ŒæŒç»­é›†æˆã€‚</li><li data-pid="pSo_KbZF">CDï¼šContinuous Deliveryï¼ŒæŒç»­äº¤ä»˜ã€‚</li><li data-pid="yHbbxPIQ">CDï¼šContinuous Deploymentï¼ŒæŒç»­éƒ¨ç½²ã€‚</li></ul><p data-pid="uqaFqbAc">CI å®¹æ˜“ç†è§£ï¼Œä½†ä¸¤ä¸ª CD å¾ˆå¤šå¼€å‘è€…åŒºåˆ†ä¸å¼€ã€‚è¿™é‡Œï¼Œæˆ‘æ¥è¯¦ç»†è¯´è¯´è¿™ 3 ä¸ªæ ¸å¿ƒæ¦‚å¿µã€‚</p><p data-pid="KTWDFQSd"><b>é¦–å…ˆæ˜¯æŒç»­é›†æˆ</b>ã€‚å®ƒçš„å«ä¹‰ä¸ºï¼šé¢‘ç¹åœ°ï¼ˆä¸€å¤©å¤šæ¬¡ï¼‰å°†å¼€å‘è€…çš„ä»£ç åˆå¹¶åˆ°ä¸»å¹²ä¸Šã€‚å®ƒçš„æµç¨‹ä¸ºï¼šåœ¨å¼€å‘äººå‘˜å®Œæˆä»£ç å¼€å‘ï¼Œå¹¶ push åˆ° Git ä»“åº“åï¼ŒCI å·¥å…·å¯ä»¥ç«‹å³å¯¹ä»£ç è¿›è¡Œæ‰«æã€ï¼ˆå•å…ƒï¼‰æµ‹è¯•å’Œæ„å»ºï¼Œå¹¶å°†ç»“æœåé¦ˆç»™å¼€å‘è€…ã€‚æŒç»­é›†æˆé€šè¿‡åï¼Œä¼šå°†ä»£ç åˆå¹¶åˆ°ä¸»å¹²ã€‚</p><p data-pid="RVpz5Qyp">CI æµç¨‹å¯ä»¥ä½¿åº”ç”¨è½¯ä»¶çš„é—®é¢˜åœ¨å¼€å‘é˜¶æ®µå°±æš´éœ²å‡ºæ¥ï¼Œè¿™ä¼šè®©å¼€å‘äººå‘˜äº¤ä»˜ä»£ç æ—¶æ›´æœ‰ä¿¡å¿ƒã€‚å› ä¸º CI æµç¨‹å†…å®¹æ¯”è¾ƒå¤šï¼Œè€Œä¸”æ‰§è¡Œæ¯”è¾ƒé¢‘ç¹ï¼Œæ‰€ä»¥ CI æµç¨‹éœ€è¦æœ‰è‡ªåŠ¨åŒ–å·¥å…·æ¥æ”¯æ’‘ã€‚</p><p data-pid="AvRMAcek"><b>å…¶æ¬¡æ˜¯æŒç»­äº¤ä»˜</b>ï¼Œå®ƒæŒ‡çš„æ˜¯ä¸€ç§èƒ½å¤Ÿä½¿è½¯ä»¶åœ¨è¾ƒçŸ­çš„å¾ªç¯ä¸­å¯é å‘å¸ƒçš„è½¯ä»¶æ–¹æ³•ã€‚</p><p data-pid="bGUPvb0w">æŒç»­äº¤ä»˜åœ¨æŒç»­é›†æˆçš„åŸºç¡€ä¸Šï¼Œå°†æ„å»ºåçš„äº§ç‰©è‡ªåŠ¨éƒ¨ç½²åœ¨ç›®æ ‡ç¯å¢ƒä¸­ã€‚è¿™é‡Œçš„ç›®æ ‡ç¯å¢ƒï¼Œå¯ä»¥æ˜¯æµ‹è¯•ç¯å¢ƒã€é¢„å‘ç¯å¢ƒæˆ–è€…ç°ç½‘ç¯å¢ƒã€‚</p><p data-pid="5_ta2ckf">é€šå¸¸æ¥è¯´ï¼ŒæŒç»­éƒ¨ç½²å¯ä»¥è‡ªåŠ¨åœ°å°†æœåŠ¡éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒæˆ–è€…é¢„å‘ç¯å¢ƒã€‚å› ä¸ºéƒ¨ç½²åˆ°ç°ç½‘ç¯å¢ƒå­˜åœ¨ä¸€å®šçš„é£é™©ï¼Œæ‰€ä»¥å¦‚æœéƒ¨ç½²åˆ°ç°ç½‘ç¯å¢ƒï¼Œéœ€è¦æ‰‹å·¥æ“ä½œã€‚æ‰‹å·¥æ“ä½œçš„å¥½å¤„æ˜¯ï¼Œå¯ä»¥ä½¿ç›¸å…³äººå‘˜è¯„ä¼°å‘å¸ƒé£é™©ï¼Œç¡®ä¿å‘å¸ƒçš„æ­£ç¡®æ€§ã€‚</p><p data-pid="z3mE94J0"><b>æœ€åæ˜¯æŒç»­éƒ¨ç½²</b>ï¼ŒæŒç»­éƒ¨ç½²åœ¨æŒç»­äº¤ä»˜çš„åŸºç¡€ä¸Šï¼Œå°†ç»è¿‡å……åˆ†æµ‹è¯•çš„ä»£ç è‡ªåŠ¨éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒï¼Œæ•´ä¸ªæµç¨‹ä¸å†éœ€è¦ç›¸å…³äººå‘˜çš„å®¡æ ¸ã€‚æŒç»­éƒ¨ç½²å¼ºè°ƒçš„æ˜¯è‡ªåŠ¨åŒ–éƒ¨ç½²ï¼Œæ˜¯äº¤ä»˜çš„æœ€é«˜é˜¶æ®µã€‚</p><p data-pid="LCPq5T_4">æŒç»­é›†æˆã€æŒç»­äº¤ä»˜å’ŒæŒç»­éƒ¨ç½²å¼ºè°ƒçš„æ˜¯æŒç»­æ€§ï¼Œä¹Ÿå°±æ˜¯èƒ½å¤Ÿæ”¯æŒé¢‘ç¹çš„é›†æˆã€äº¤ä»˜å’Œéƒ¨ç½²ï¼Œè¿™ç¦»ä¸å¼€è‡ªåŠ¨åŒ–å·¥å…·çš„æ”¯æŒï¼Œç¦»å¼€äº†è¿™äº›å·¥å…·ï¼ŒCI/CD å°±ä¸å†å…·æœ‰å¯å®æ–½æ€§ã€‚æŒç»­é›†æˆçš„æ ¸å¿ƒç‚¹åœ¨ä»£ç ï¼ŒæŒç»­äº¤ä»˜çš„æ ¸å¿ƒç‚¹åœ¨å¯äº¤ä»˜çš„äº§ç‰©ï¼ŒæŒç»­éƒ¨ç½²çš„æ ¸å¿ƒç‚¹åœ¨è‡ªåŠ¨éƒ¨ç½²ã€‚</p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-90e1e89e3617d8b66d8d2d7733ccaeaf_r.jpg" data-caption="" data-size="normal" width="1088" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>DevOpsï¼šç ”å‘è¿ç»´ä¸€ä½“åŒ–</b></h3><p data-pid="6gFqjgi4">CI/CD æŠ€æœ¯çš„æˆç†Ÿï¼ŒåŠ é€Ÿäº† DevOps è¿™ç§åº”ç”¨ç”Ÿå‘½å‘¨æœŸç®¡ç†æŠ€æœ¯çš„æˆç†Ÿå’Œè½åœ°ã€‚</p><p data-pid="Vlbr9vGG">DevOpsï¼ˆDevelopment å’Œ Operations çš„ç»„åˆï¼‰æ˜¯ä¸€ç»„è¿‡ç¨‹ã€æ–¹æ³•ä¸ç³»ç»Ÿçš„ç»Ÿç§°ï¼Œç”¨äºä¿ƒè¿›å¼€å‘ï¼ˆåº”ç”¨ç¨‹åº / è½¯ä»¶å·¥ç¨‹ï¼‰ã€æŠ€æœ¯è¿è¥å’Œè´¨é‡ä¿éšœï¼ˆQAï¼‰éƒ¨é—¨ä¹‹é—´çš„æ²Ÿé€šã€åä½œä¸æ•´åˆã€‚è¿™ 3 ä¸ªéƒ¨é—¨çš„ç›¸äº’åä½œï¼Œå¯ä»¥æé«˜è½¯ä»¶è´¨é‡ã€å¿«é€Ÿå‘å¸ƒè½¯ä»¶ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-0fed03029d90ebdc83532a2f1da1d06e_r.jpg" data-caption="" data-size="normal" width="1088" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p data-pid="QylfIBq6">è¦å®ç° DevOpsï¼Œéœ€è¦ä¸€äº›å·¥å…·æˆ–è€…æµç¨‹çš„æ”¯æŒï¼ŒCI/CD å¯ä»¥å¾ˆå¥½åœ°æ”¯æŒ DevOps è¿™ç§è½¯ä»¶å¼€å‘æ¨¡å¼ï¼Œå¦‚æœæ²¡æœ‰ CI/CD è‡ªåŠ¨åŒ–çš„å·¥å…·å’Œæµç¨‹ï¼ŒDevOps å°±æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼ŒCI/CD ä½¿å¾— DevOps å˜å¾—å¯è¡Œã€‚</p><p data-pid="TWKjqpZ8"><b>DevOps ï¼= CI/CDã€‚DevOps æ˜¯ä¸€ç»„è¿‡ç¨‹ã€æ–¹æ³•å’Œç³»ç»Ÿçš„ç»Ÿç§°ï¼Œè€Œ CI/CD åªæ˜¯ä¸€ç§è½¯ä»¶æ„å»ºå’Œå‘å¸ƒçš„æŠ€æœ¯ã€‚</b></p><p data-pid="Lup08f2-">DevOps æŠ€æœ¯ä¹‹å‰ä¸€ç›´æœ‰ï¼Œä½†æ˜¯è½åœ°ä¸å¥½ï¼Œå› ä¸ºæ²¡æœ‰ä¸€ä¸ªå¥½çš„å·¥å…·æ¥å®ç° DevOps çš„ç†å¿µã€‚ä½†æ˜¯éšç€å®¹å™¨ã€CI/CD æŠ€æœ¯çš„è¯ç”Ÿå’Œæˆç†Ÿï¼ŒDevOps å˜å¾—æ›´åŠ å®¹æ˜“è½åœ°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™å‡ å¹´è¶Šæ¥è¶Šå¤šçš„äººé‡‡ç”¨ DevOps æ‰‹æ®µæ¥æé«˜ç ”å‘æ•ˆèƒ½ã€‚</p><p data-pid="DsdMi0JO">éšç€æŠ€æœ¯çš„å‘å±•ï¼Œç›®å‰å·²ç»è¯ç”Ÿäº†å¾ˆå¤š Ops æ‰‹æ®µï¼Œæ¥å®ç°è¿ç»´å’Œè¿è¥çš„é«˜åº¦è‡ªåŠ¨åŒ–ã€‚ä¸‹é¢ï¼Œæˆ‘ä»¬å°±æ¥çœ‹çœ‹ DevOps ä¸­çš„å››ä¸ª Ops æ‰‹æ®µï¼šAIOpsã€ChatOpsã€GitOpsã€NoOpsã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>AIOpsï¼šæ™ºèƒ½è¿ç»´</b></h3><p data-pid="92cKI_Xl">åœ¨ 2016 å¹´ï¼ŒGartner æå‡ºåˆ©ç”¨ AI æŠ€æœ¯çš„æ–°ä¸€ä»£ IT è¿ç»´ï¼Œå³ AIOpsï¼ˆæ™ºèƒ½è¿ç»´ï¼‰ã€‚é€šè¿‡ AI æ‰‹æ®µï¼Œæ¥æ™ºèƒ½åŒ–åœ°è¿ç»´ IT ç³»ç»Ÿã€‚AIOps é€šè¿‡æœé›†æµ·é‡çš„è¿ç»´æ•°æ®ï¼Œå¹¶åˆ©ç”¨æœºå™¨å­¦ä¹ ç®—æ³•ï¼Œæ™ºèƒ½åœ°å®šä½å¹¶ä¿®å¤æ•…éšœã€‚</p><p data-pid="KCLJU-RP">ä¹Ÿå°±æ˜¯è¯´ï¼ŒAIOps åœ¨è‡ªåŠ¨åŒ–çš„åŸºç¡€ä¸Šï¼Œå¢åŠ äº†æ™ºèƒ½åŒ–ï¼Œä»è€Œè¿›ä¸€æ­¥æ¨åŠ¨äº† IT è¿ç»´è‡ªåŠ¨åŒ–ï¼Œå‡å°‘äº†äººåŠ›æˆæœ¬ã€‚</p><p data-pid="8E-GJPh_">éšç€ IT åŸºç¡€è®¾æ–½è§„æ¨¡å’Œå¤æ‚åº¦çš„å€æ•°å¢é•¿ï¼Œä¼ä¸šåº”ç”¨è§„æ¨¡ã€æ•°é‡çš„æŒ‡æ•°çº§å¢é•¿ï¼Œä¼ ç»Ÿçš„äººå·¥ / è‡ªåŠ¨åŒ–è¿ç»´ï¼Œå·²ç»æ— æ³•èƒœä»»æ„ˆåŠ æ²‰é‡çš„è¿ç»´å·¥ä½œï¼Œè€Œ AIOps æä¾›äº†ä¸€ä¸ªè§£å†³æ–¹æ¡ˆã€‚åœ¨è…¾è®¯ã€é˜¿é‡Œç­‰å¤§å‚å¾ˆå¤šå›¢é˜Ÿå·²ç»åœ¨å°è¯•å’Œä½¿ç”¨ AIOpsï¼Œå¹¶äº«å—åˆ°äº† AIOps å¸¦æ¥çš„çº¢åˆ©ã€‚ä¾‹å¦‚ï¼Œæ•…éšœå‘Šè­¦æ›´åŠ çµæ•ã€å‡†ç¡®ï¼Œä¸€äº›å¸¸è§çš„æ•…éšœï¼Œå¯ä»¥è‡ªåŠ¨ä¿®å¤ï¼Œæ— é¡»è¿ç»´äººå‘˜ä»‹å…¥ç­‰ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>ChatOpsï¼šèŠç€å¤©å°±æŠŠäº‹æƒ…ç»™åŠäº†</b></h3><p data-pid="OADkZsIj">éšç€ä¼ä¸šå¾®ä¿¡ã€é’‰é’‰ç­‰ä¼ä¸šå†…é€šè®¯å·¥å…·çš„å…´èµ·ï¼Œæœ€è¿‘å‡ å¹´å‡ºç°äº†ä¸€ä¸ªæ–°çš„æ¦‚å¿µ ChatOpsã€‚</p><p data-pid="5rIxCYBL">ç®€å•æ¥è¯´ï¼ŒChatOps å°±æ˜¯åœ¨ä¸€ä¸ªèŠå¤©å·¥å…·ä¸­ï¼Œå‘é€ä¸€æ¡å‘½ä»¤ç»™ ChatBot æœºå™¨äººï¼Œç„¶å ChatBot ä¼šæ‰§è¡Œé¢„å®šä¹‰çš„æ“ä½œã€‚è¿™äº›æ“ä½œå¯ä»¥æ˜¯æ‰§è¡ŒæŸä¸ªå·¥å…·ã€è°ƒç”¨æŸä¸ªæ¥å£ç­‰ï¼Œå¹¶è¿”å›æ‰§è¡Œç»“æœã€‚</p><p data-pid="vm5TN9um">è¿™ç§æ–°å‹æ™ºèƒ½å·¥ä½œæ–¹å¼çš„ä¼˜åŠ¿æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå®ƒå¯ä»¥åˆ©ç”¨ ChatBot æœºå™¨äººè®©å›¢é˜Ÿæˆå‘˜å’Œå„é¡¹è¾…åŠ©å·¥å…·è¿æ¥åœ¨ä¸€èµ·ï¼Œä»¥æ²Ÿé€šé©±åŠ¨çš„æ–¹å¼å®Œæˆå·¥ä½œã€‚ChatOps å¯ä»¥è§£å†³äººä¸äººã€äººä¸å·¥å…·ã€å·¥å…·ä¸å·¥å…·ä¹‹é—´çš„ä¿¡æ¯å­¤å²›ï¼Œä»è€Œæé«˜åä½œä½“éªŒå’Œå·¥ä½œæ•ˆç‡ã€‚</p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-2e738e7c9bc687000a7924c17f4011a5_r.jpg" data-caption="" data-size="normal" width="1088" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p data-pid="OC5YNMl-">å¼€å‘ / è¿ç»´ / æµ‹è¯•äººå‘˜é€šè¿‡ @èŠå¤©çª—å£ä¸­çš„æœºå™¨äºº Bot æ¥è§¦å‘ä»»åŠ¡ï¼Œæœºå™¨äººåç«¯ä¼šé€šè¿‡ API æ¥å£è°ƒç”¨ç­‰æ–¹å¼å¯¹æ¥ä¸åŒçš„ç³»ç»Ÿï¼Œå®Œæˆä¸åŒçš„ä»»åŠ¡ï¼Œä¾‹å¦‚æŒç»­é›†æˆã€æµ‹è¯•ã€å‘å¸ƒç­‰å·¥ä½œã€‚æœºå™¨äººå¯ä»¥æ˜¯æˆ‘ä»¬è‡ªå·±ç ”å‘çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯å¼€æºçš„ã€‚ç›®å‰ï¼Œä¸šç•Œæœ‰å¾ˆå¤šæµè¡Œçš„æœºå™¨äººå¯ä¾›é€‰æ‹©ï¼Œå¸¸ç”¨çš„æœ‰ Hubotã€Litaã€Errbotã€StackStorm ç­‰ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>GitOpsï¼š ä¸€ç§å®ç°äº‘åŸç”Ÿçš„æŒç»­äº¤ä»˜æ¨¡å‹</b></h3><p data-pid="MQAWpeB_">GitOps æ˜¯ä¸€ç§æŒç»­äº¤ä»˜çš„æ–¹å¼ã€‚å®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯å°†åº”ç”¨ç³»ç»Ÿçš„å£°æ˜æ€§åŸºç¡€æ¶æ„ï¼ˆYAMLï¼‰å’Œåº”ç”¨ç¨‹åºå­˜æ”¾åœ¨ Git ç‰ˆæœ¬åº“ä¸­ã€‚å°† Git ä½œä¸ºäº¤ä»˜æµæ°´çº¿çš„æ ¸å¿ƒï¼Œæ¯ä¸ªå¼€å‘äººå‘˜éƒ½å¯ä»¥æäº¤æ‹‰å–è¯·æ±‚ï¼ˆPull Requestï¼‰ï¼Œå¹¶ä½¿ç”¨ Git æ¥åŠ é€Ÿå’Œç®€åŒ– Kubernetes çš„åº”ç”¨ç¨‹åºéƒ¨ç½²å’Œè¿ç»´ä»»åŠ¡ã€‚</p><p data-pid="UizUmAHs">é€šè¿‡ Git è¿™æ ·çš„å·¥å…·ï¼Œå¼€å‘äººå‘˜å¯ä»¥å°†ç²¾åŠ›èšç„¦åœ¨åŠŸèƒ½å¼€å‘ï¼Œè€Œä¸æ˜¯è½¯ä»¶è¿ç»´ä¸Šï¼Œä»¥æ­¤æé«˜è½¯ä»¶çš„å¼€å‘æ•ˆç‡å’Œè¿­ä»£é€Ÿåº¦ã€‚</p><p data-pid="jYxcqRGI">ä½¿ç”¨ GitOps å¯ä»¥å¸¦æ¥å¾ˆå¤šä¼˜ç‚¹ï¼Œå…¶ä¸­æœ€æ ¸å¿ƒçš„æ˜¯ï¼šå½“ä½¿ç”¨ Git å˜æ›´ä»£ç æ—¶ï¼ŒGitOps å¯ä»¥è‡ªåŠ¨å°†è¿™äº›å˜æ›´åº”ç”¨åˆ°ç¨‹åºçš„åŸºç¡€æ¶æ„ä¸Šã€‚å› ä¸ºæ•´ä¸ªæµç¨‹éƒ½æ˜¯è‡ªåŠ¨åŒ–çš„ï¼Œæ‰€ä»¥éƒ¨ç½²æ—¶é—´æ›´çŸ­ï¼›åˆå› ä¸º Git ä»£ç æ˜¯å¯è¿½æº¯çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éƒ¨ç½²çš„åº”ç”¨ä¹Ÿèƒ½å¤Ÿç¨³å®šä¸”å¯é‡ç°åœ°å›æ»šã€‚</p><p data-pid="PYkzk-VX"><b>æˆ‘ä»¬å¯ä»¥ä»æ¦‚å¿µå’Œæµç¨‹ä¸Šæ¥ç†è§£ GitOpsï¼Œå®ƒæœ‰ 3 ä¸ªå…³é”®æ¦‚å¿µ:</b></p><ul><li data-pid="OwWxpKXm">å£°æ˜æ€§å®¹å™¨ç¼–æ’ï¼šé€šè¿‡ Kubernetes YAML æ ¼å¼çš„èµ„æºå®šä¹‰æ–‡ä»¶ï¼Œæ¥å®šä¹‰å¦‚ä½•éƒ¨ç½²åº”ç”¨ã€‚</li><li data-pid="mrm-wQjZ">ä¸å¯å˜åŸºç¡€è®¾æ–½ï¼šåŸºç¡€è®¾æ–½ä¸­çš„æ¯ä¸ªç»„ä»¶éƒ½å¯ä»¥è‡ªåŠ¨çš„éƒ¨ç½²ï¼Œç»„ä»¶åœ¨éƒ¨ç½²å®Œæˆåï¼Œä¸èƒ½å‘ç”Ÿå˜æ›´ã€‚å¦‚æœéœ€è¦å˜æ›´ï¼Œåˆ™éœ€è¦é‡æ–°éƒ¨ç½²ä¸€ä¸ªæ–°çš„ç»„ä»¶ã€‚ä¾‹å¦‚ï¼ŒKubernetes ä¸­çš„ Pod å°±æ˜¯ä¸€ä¸ªä¸å¯å˜åŸºç¡€è®¾æ–½ã€‚</li><li data-pid="ixnOBGdH">è¿ç»­åŒæ­¥ï¼šä¸æ–­åœ°æŸ¥çœ‹ Git å­˜å‚¨åº“ï¼Œå°†ä»»ä½•çŠ¶æ€æ›´æ”¹åæ˜ åˆ° Kubernetes é›†ç¾¤ä¸­ã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-622bd8f045c6531452b8b4c8728bd8da_r.jpg" data-caption="" data-size="normal" width="1088" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><p data-pid="nMKXObpY"><b>GitOps çš„å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š</b></p><ol><li data-pid="CVO9kOUb">é¦–å…ˆï¼Œå¼€å‘äººå‘˜å¼€å‘å®Œä»£ç åæ¨é€åˆ° Git ä»“åº“ï¼Œè§¦å‘ CI æµç¨‹ï¼ŒCI æµç¨‹é€šè¿‡ç¼–è¯‘æ„å»ºå‡º Docker é•œåƒï¼Œå¹¶å°†é•œåƒ push åˆ° Docker é•œåƒä»“åº“ä¸­ã€‚Push åŠ¨ä½œä¼šè§¦å‘ä¸€ä¸ª push äº‹ä»¶ï¼Œé€šè¿‡ webhook çš„å½¢å¼é€šçŸ¥åˆ° Config Updater æœåŠ¡ï¼ŒConfig Updater æœåŠ¡ä¼šä» webhook è¯·æ±‚ä¸­è·å–æœ€æ–° push çš„é•œåƒåï¼Œå¹¶æ›´æ–° Git ä»“åº“ä¸­çš„ Kubernetes YAML æ–‡ä»¶ã€‚</li><li data-pid="P_o41eW3">ç„¶åï¼ŒGitOps çš„ Deploy Operator æœåŠ¡ï¼Œæ£€æµ‹åˆ° YAML æ–‡ä»¶çš„å˜åŠ¨ï¼Œä¼šé‡æ–°ä» Git ä»“åº“ä¸­æå–å˜æ›´çš„æ–‡ä»¶ï¼Œå¹¶å°†é•œåƒéƒ¨ç½²åˆ° Kubernetes é›†ç¾¤ä¸­ã€‚Config Updater å’Œ Deploy Operator ä¸¤ä¸ªç»„ä»¶éœ€è¦å¼€å‘äººå‘˜è®¾è®¡å¼€å‘ã€‚</li></ol><p class="ztext-empty-paragraph"><br></p><h3><b>NoOpsï¼šæ— è¿ç»´</b></h3><p data-pid="T_1-QJv2">NoOps å³æ— è¿ç»´ï¼Œå®Œå…¨è‡ªåŠ¨åŒ–çš„è¿ç»´ã€‚åœ¨ NoOps ä¸­ä¸å†éœ€è¦å¼€å‘äººå‘˜ã€è¿è¥è¿ç»´äººå‘˜çš„ååŒï¼ŒæŠŠå¾®æœåŠ¡ã€ä½ä»£ç ã€æ— æœåŠ¡å…¨éƒ½ç»“åˆäº†èµ·æ¥ï¼Œå¼€å‘è€…åœ¨è½¯ä»¶ç”Ÿå‘½å‘¨æœŸä¸­åªéœ€è¦èšç„¦ä¸šåŠ¡å¼€å‘å³å¯ï¼Œæ‰€æœ‰çš„ç»´æŠ¤éƒ½äº¤ç”±äº‘å‚å•†æ¥å®Œæˆã€‚</p><p data-pid="nAdjHhlj">æ¯«æ— ç–‘é—®ï¼ŒNoOps æ˜¯è¿ç»´çš„ç»ˆæå½¢æ€ï¼Œåœ¨æˆ‘çœ‹æ¥å®ƒåƒ DevOps ä¸€æ ·ï¼Œæ›´å¤šçš„æ˜¯ä¸€ç§ç†å¿µï¼Œéœ€è¦å¾ˆå¤šçš„æŠ€æœ¯å’Œæ‰‹æ®µæ¥æ”¯æ’‘ã€‚å½“å‰æ•´ä¸ªè¿ç»´æŠ€æœ¯çš„å‘å±•ï¼Œä¹Ÿæ˜¯æœç€ NoOps çš„æ–¹å‘å»æ¼”è¿›çš„ï¼Œä¾‹å¦‚ GitOpsã€AIOps å¯ä»¥ä½¿æˆ‘ä»¬å°½å¯èƒ½å‡å°‘è¿ç»´ï¼ŒServerless æŠ€æœ¯ç”šè‡³å¯ä»¥ä½¿æˆ‘ä»¬å…è¿ç»´ã€‚ç›¸ä¿¡æœªæ¥ NoOps ä¼šåƒç°åœ¨çš„ Serverless ä¸€æ ·ï¼Œæˆä¸ºä¸€ç§æµè¡Œçš„ã€å¯è½åœ°çš„ç†å¿µã€‚</p></div> </details> 
 <hr /> 

 #### - [git-chglog write your CHANGELOG](https://zhuanlan.zhihu.com/p/607015570) 
 <details><summary>ØªÙˆØ¶ÛŒØ­Ø§Øª</summary> <p><img src="https://pic1.zhimg.com/v2-0cb68acc751f6241d4bd26186390f0c3_720w.jpg?source=d16d100b"></p><div><ul><li data-pid="Pbn3yvLJ"><a href="https://github.com/cubxxw" target="_blank">author(Github)</a></li></ul><h2><b>git-chglog write your CHANGELOG</b></h2><blockquote data-pid="ZK1CCTW7">â¤ï¸  CS self-study guide, neither depth nor breadth of college education can support our professional quality, this section can be regarded as an additional supplement and record in CS learning. Personal blog: <a href="http://nsddd.top" target="_blank"><span class="invisible">http://</span><span class="visible">nsddd.top</span><span class="invisible"></span></a></blockquote><h2><b>Introduce</b></h2><p data-pid="NEzhayCD">  how are git-chglog ï¼Ÿ</p><p data-pid="UVya5WBJ">CHANGELOG generator implemented in Go (Golang). <i>Anytime, anywhere, Write your CHANGELOG.</i></p><p class="ztext-empty-paragraph"><br></p><h2><b>Features</b></h2><ul><li data-pid="5uQaL0xU">â™»ï¸High portability <br></li><ul><li data-pid="E7zkbPdB">t works with single binary. Therefore, any project (environment) can be used.  </li></ul></ul><p class="ztext-empty-paragraph"><br></p><ul><li data-pid="wntvcyAH"> Simple usability <br></li><ul><li data-pid="QHff42Oa">he CLI usage is very simple and has low learning costs.</li><li data-pid="In3HXe4Y">For example, the simplest command is <code>$ git-chglog</code>.</li></ul></ul><p class="ztext-empty-paragraph"><br></p><ul><li data-pid="sot3wIN_">  High flexibility <br></li><ul><li data-pid="1BKGl6jT">Commit message format and â€¦</li><li data-pid="eY6055kD">CHANGELOG's style (Template) and ...</li><li data-pid="-NfsHg9b">etc ... ETC ...</li></ul></ul><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h2><b>How it works ?</b></h2><p data-pid="_StJ0Fnu"><code>git-chglog</code> internally uses the <code>git</code> command to get data to include in the CHANGELOG. The basic steps are as follows.</p><ul><li data-pid="MsdGPOfE">Get the commits contained between <code>tagA</code> and <code>tagB</code>.</li><li data-pid="vkoBsu8l">Execute with all tags corresponding to <a href="https://github.com/git-chglog/git-chglog#tag-query" target="_blank">tag query</a> that were specified in Step 1 and Step 2.</li></ul><p class="ztext-empty-paragraph"><br></p><h2><b>Install</b></h2><p data-pid="tdnSJ4bI">Please install <code>git-chglog</code> in a way that matches your environment.</p><p data-pid="36NvcCV1"><b>Go usersï¼š</b></p><blockquote data-pid="CttVBaly">The good news is that <code>git-chglog</code> is an open source project for the Go language, which means that it compiles to binary use Goï¼š</blockquote><div class="highlight"><pre><code class="language-bash"> go install github.com/git-chglog/git-chglog/cmd/git-chglog@latest</code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="t18z5b_A"><b>For Windowns usersï¼š</b></p><p data-pid="X20iGsFW">I use CLI is <code>powershell</code> ï¼Œand I installed the <code>scoop</code> tools. </p><div class="highlight"><pre><code class="language-bash"> scoop install git-chglog</code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="76NK_d0R"><b>For Mac usersï¼š</b></p><div class="highlight"><pre><code class="language-bash"> brew tap git-chglog/git-chglog
 brew install git-chglog</code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="s4vEhuLt"><b>For Linux usersï¼š</b></p><ol><li data-pid="omndHzRf">Obtaining the installation <a href="https://github.com/git-chglog/git-chglog/releases/tag/v0.15.4" target="_blank">Package</a></li><li data-pid="OdPRWe8K">Cloose the right package (<a href="https://github.com/git-chglog/git-chglog/releases/download/v0.15.4/git-chglog_0.15.4_linux_amd64.tar.gz" target="_blank"><span class="invisible">https://</span><span class="visible">github.com/git-chglog/g</span><span class="invisible">it-chglog/releases/download/v0.15.4/git-chglog_0.15.4_linux_amd64.tar.gz</span><span class="ellipsis"></span></a>)</li><li data-pid="Qz-iioOV"> Download to local and add environment variables</li></ol><p data-pid="HZMJvlKP"><b>Exampleï¼š</b></p><div class="highlight"><pre><code class="language-bash"> <span class="nb">cd</span> /tmp/<span class="p">;</span> wget https://github.com/git-chglog/git-chglog/releases/download/v0.15.4/git-chglog_0.15.4_linux_amd64.tar.gz <span class="o">&amp;&amp;</span> tar zxvf git-chglog_0.15.4_linux_amd64.tar.gz <span class="o">&amp;&amp;</span> mv ./git-chglog /usr/bin</code></pre></div><p class="ztext-empty-paragraph"><br></p><h3><b>Docker</b></h3><p data-pid="itkyGAld">The compiled docker images are maintained on <a href="https://quay.io/repository/git-chglog/git-chglog" target="_blank">quay.io</a>. We maintain the following tags:</p><ul><li data-pid="kJBU71-8"><code>edge</code>: Image that is build from the current <code>HEAD</code> of the main line branch.</li><li data-pid="BHpFd8vn"><code>latest</code>: Image that is built from the <a href="https://github.com/git-chglog/git-chglog/releases" target="_blank">latest released version</a></li><li data-pid="c8hrWd8j"><code>x.y.y</code> (versions): Images that are build from the tagged versions within Github.</li></ul><p data-pid="XnvLj3PO"> ï¸ U shoud:</p><div class="highlight"><pre><code class="language-bash"> docker pull quay.io/git-chglog/git-chglog:latest
 docker run -v <span class="s2">"</span><span class="nv">$PWD</span><span class="s2">"</span>:/workdir quay.io/git-chglog/git-chglog --versiondocker pull quay.io/git-chglog/git-chglog:latest
 docker run -v <span class="s2">"</span><span class="nv">$PWD</span><span class="s2">"</span>:/workdir quay.io/git-chglog/git-chglog --version</code></pre></div><p data-pid="uBOzwGAi"> ï¸ Tipï¼š</p><p data-pid="qB2gBTgw">If you are using another platform, you can download a binary from the <a href="https://github.com/git-chglog/git-chglog/releases" target="_blank">releases page</a> and place it in a directory in your <code>$PATH</code>.</p><blockquote data-pid="MnKUJnjD">Refer to the previous Linux download for <code>git-chglog</code>.</blockquote><p class="ztext-empty-paragraph"><br></p><h3><b>Test Installation</b></h3><p data-pid="zteFuf0-">You can check with the following command whether the <code>git-chglog</code> command was included in a directory that is in your <code>$PATH</code>.</p><div class="highlight"><pre><code class="language-bash"> <span class="c1"># ./git-chglog --version</span>
 git-chglog version 0.15.4</code></pre></div><p class="ztext-empty-paragraph"><br></p><h2><b>Quick Start </b></h2><p data-pid="vFQcFzMa"><code>git-chglog</code> requires configuration files and templates to generate a CHANGELOG.</p><p data-pid="SD2FD3fs">However, it is a waste of time to create configuration files and templates from scratch.</p><p data-pid="MIOQDPnV">Therefore we recommend using the <code>--init</code> option which will create them interactively  </p><div class="highlight"><pre><code class="language-bash"> git-chglog --init</code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="2tBhUGbY"><b>Have a shotï¼š</b></p><div class="highlight"><pre><code class="language-bash"> <span class="c1"># git-chglog --init</span>
 ? What is the URL of your repository? https://github.com/cubxxw/go-vue-admin
 ? What is your favorite style? github
 ? Choose the format of your favorite commit message &lt;type&gt;<span class="o">(</span>&lt;scope&gt;<span class="o">)</span>: &lt;subject&gt;
 ? What is your favorite template style? keep-a-changelog
 ? Do you include Merge Commit in CHANGELOG? Yes
 ? Do you include Revert Commit in CHANGELOG? Yes
 ? In which directory <span class="k">do</span> you output configuration files and templates? y
 â€‹
 âœ¨  Configuration file and template generation completed!
   âœ” y/config.yml
   âœ” y/CHANGELOG.tpl.md</code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="GFNDE1YE"><b>U Look !</b></p><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><p data-pid="7g-5jQ-3">You are now ready for configuration files and templates!</p><p data-pid="w0p9Eslz">Let's immediately generate a CHANGELOG of your project. By doing the following simple command, Markdown for your CHANGELOG is displayed on stdout.</p><div class="highlight"><pre><code class="language-bash"> git-chglog</code></pre></div><p data-pid="qA3CuRjR">Use <code>-o</code> (<code>--output</code>) option if you want to output to a file instead of stdout.</p><div class="highlight"><pre><code class="language-bash"> git-chglog -o CHANGELOG.md</code></pre></div><p class="ztext-empty-paragraph"><br></p><h2><b>CLI Usages</b></h2><div class="highlight"><pre><code class="language-bash"> $ git-chglog --help
 â€‹
 USAGE:
   git-chglog <span class="o">[</span>options<span class="o">]</span> &lt;tag query&gt;
 â€‹
     There are the following specification methods <span class="k">for</span> &lt;tag query&gt;.
 â€‹
     1. &lt;old&gt;..&lt;new&gt; - Commit contained in &lt;old&gt; tags from &lt;new&gt;.
     2. &lt;name&gt;..     - Commit from the &lt;name&gt; to the latest tag.
     3. ..&lt;name&gt;     - Commit from the oldest tag to &lt;name&gt;.
     4. &lt;name&gt;       - Commit contained in &lt;name&gt;.
 â€‹
 OPTIONS:
   --init                      generate the git-chglog configuration file in interactive <span class="o">(</span>default: <span class="nb">false</span><span class="o">)</span>
   --path value                Filter commits by path<span class="o">(</span>s<span class="o">)</span>. Can use multiple times.
   --config value, -c value    specifies a different configuration file to pick up <span class="o">(</span>default: <span class="s2">".chglog/config.yml"</span><span class="o">)</span>
   --template value, -t value  specifies a template file to pick up. If not specified, use the one in config
   --repository-url value      specifies git repo URL. If not specified, use <span class="s1">'repository_url'</span> in config
   --output value, -o value    output path and filename <span class="k">for</span> the changelogs. If not specified, output to stdout
   --next-tag value            treat unreleased commits as specified tags <span class="o">(</span>EXPERIMENTAL<span class="o">)</span>
   --silent                    disable stdout output <span class="o">(</span>default: <span class="nb">false</span><span class="o">)</span>
   --no-color                  disable color output <span class="o">(</span>default: <span class="nb">false</span><span class="o">)</span> <span class="o">[</span><span class="nv">$NO_COLOR</span><span class="o">]</span>
   --no-emoji                  disable emoji output <span class="o">(</span>default: <span class="nb">false</span><span class="o">)</span> <span class="o">[</span><span class="nv">$NO_EMOJI</span><span class="o">]</span>
   --no-case                   disable <span class="k">case</span> sensitive filters <span class="o">(</span>default: <span class="nb">false</span><span class="o">)</span>
   --tag-filter-pattern value  Regular expression of tag filter. Is specified, only matched tags will be picked
   --jira-url value            Jira URL <span class="o">[</span><span class="nv">$JIRA_URL</span><span class="o">]</span>
   --jira-username value       Jira username <span class="o">[</span><span class="nv">$JIRA_USERNAME</span><span class="o">]</span>
   --jira-token value          Jira token <span class="o">[</span><span class="nv">$JIRA_TOKEN</span><span class="o">]</span>
   --sort value                Specify how to sort tags<span class="p">;</span> currently supports <span class="s2">"date"</span> or by <span class="s2">"semver"</span> <span class="o">(</span>default: date<span class="o">)</span>
   --help, -h                  show <span class="nb">help</span> <span class="o">(</span>default: <span class="nb">false</span><span class="o">)</span>
   --version, -v               print the version <span class="o">(</span>default: <span class="nb">false</span><span class="o">)</span>
 â€‹
 EXAMPLE:
 â€‹
   $ git-chglog
 â€‹
     If &lt;tag query&gt; is not specified, it corresponds to all tags.
     This is the simplest example.
 â€‹
   $ git-chglog 1.0.0..2.0.0
 â€‹
     The above is a <span class="nb">command</span> to generate CHANGELOG including commit of 1.0.0 to 2.0.0.
 â€‹
   $ git-chglog 1.0.0
 â€‹
     The above is a <span class="nb">command</span> to generate CHANGELOG including commit of only 1.0.0.
 â€‹
   $ git-chglog <span class="k">$(</span>git describe --tags <span class="k">$(</span>git rev-list --tags --max-count<span class="o">=</span>1<span class="k">))</span>
 â€‹
     The above is a <span class="nb">command</span> to generate CHANGELOG with the commit included in the latest tag.
 â€‹
   $ git-chglog --output CHANGELOG.md
 â€‹
     The above is a <span class="nb">command</span> to output to CHANGELOG.md instead of standard output.
 â€‹
   $ git-chglog --config custom/dir/config.yml
 â€‹
     The above is a <span class="nb">command</span> that uses a configuration file placed other than <span class="s2">".chglog/config.yml"</span>.
 â€‹
   $ git-chglog --path path/to/my/component --output CHANGELOG.component.md
 â€‹
     Filter commits by specific paths or files in git and output to a component specific changelog.</code></pre></div><p class="ztext-empty-paragraph"><br></p><h2><b>tag query </b></h2><p data-pid="O6w3yki6">You can specify which commits to include in the generation of CHANGELOG using <code>&lt;tag query&gt;</code>.</p><p data-pid="BTaKdjN-">The table below shows Query patterns and summaries, and Query examples.</p><table data-draft-node="block" data-draft-type="table" data-size="normal" data-row-style="normal"><tbody><tr><th>Query</th><th>Description æè¿°</th><th>Example</th></tr><tr><td>&lt;old&gt;..&lt;new&gt;</td><td>Commit contained in &lt;new&gt; tags from &lt;old&gt;. æ</td><td>$ git-chglog 1.0.0..2.0.0</td></tr><tr><td>&lt;name&gt;..</td><td>Commit from the &lt;name&gt; to the latest tag. ä»</td><td>$ git-chglog 1.0.0..</td></tr><tr><td>..&lt;name&gt;</td><td>Commit from the oldest tag to &lt;name&gt;.</td><td>$ git-chglog ..2.0.0</td></tr><tr><td>&lt;name&gt;</td><td>Commit contained in &lt;name&gt;.</td><td>$ git-chglog 1.0.0</td></tr></tbody></table><p class="ztext-empty-paragraph"><br></p><h2><b>Configuration é…ç½®</b></h2><p data-pid="vDAdfilX">The <code>git-chglog</code> configuration is a yaml file. The default location is <code>.chglog/config.yml</code>.</p><p data-pid="L6iAsFT8">Below is a complete list that you can use with <code>git-chglog</code>.</p><div class="highlight"><pre><code class="language-yaml"><span class="w"> </span><span class="nt">bin</span><span class="p">:</span><span class="w"> </span><span class="l">git</span><span class="w">
</span><span class="w"> </span><span class="nt">style</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="w"> </span><span class="nt">template</span><span class="p">:</span><span class="w"> </span><span class="l">CHANGELOG.tpl.md</span><span class="w">
</span><span class="w"> </span><span class="nt">info</span><span class="p">:</span><span class="w">
</span><span class="w">   </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">CHANGELOG</span><span class="w">
</span><span class="w">   </span><span class="nt">repository_url</span><span class="p">:</span><span class="w"> </span><span class="l">https://github.com/git-chglog/git-chglog</span><span class="w">
</span><span class="w"> </span><span class="l">â€‹</span><span class="w">
</span><span class="w"> </span><span class="nt">options</span><span class="p">:</span><span class="w">
</span><span class="w">   </span><span class="nt">tag_filter_pattern</span><span class="p">:</span><span class="w"> </span><span class="s1">'^v'</span><span class="w">
</span><span class="w">   </span><span class="nt">sort</span><span class="p">:</span><span class="w"> </span><span class="s2">"date"</span><span class="w">
</span><span class="w"> </span><span class="l">â€‹</span><span class="w">
</span><span class="w">   </span><span class="nt">commits</span><span class="p">:</span><span class="w">
</span><span class="w">     </span><span class="nt">filters</span><span class="p">:</span><span class="w">
</span><span class="w">       </span><span class="nt">Type</span><span class="p">:</span><span class="w">
</span><span class="w">         </span>- <span class="l">feat</span><span class="w">
</span><span class="w">     </span><span class="nt">sort_by</span><span class="p">:</span><span class="w"> </span><span class="l">Scope</span><span class="w">
</span><span class="w"> </span><span class="l">â€‹</span><span class="w">
</span><span class="w">   </span><span class="nt">commit_groups</span><span class="p">:</span><span class="w">
</span><span class="w">     </span><span class="nt">group_by</span><span class="p">:</span><span class="w"> </span><span class="l">Type</span><span class="w">
</span><span class="w">     </span><span class="nt">sort_by</span><span class="p">:</span><span class="w"> </span><span class="l">Title</span><span class="w">
</span><span class="w">     </span><span class="nt">title_order</span><span class="p">:</span><span class="w">
</span><span class="w">       </span>- <span class="l">feat</span><span class="w">
</span><span class="w">     </span><span class="nt">title_maps</span><span class="p">:</span><span class="w">
</span><span class="w">       </span><span class="nt">feat</span><span class="p">:</span><span class="w"> </span><span class="l">Features</span><span class="w">
</span><span class="w"> </span><span class="l">â€‹</span><span class="w">
</span><span class="w">   </span><span class="nt">header</span><span class="p">:</span><span class="w">
</span><span class="w">     </span><span class="nt">pattern</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;regexp&gt;"</span><span class="w">
</span><span class="w">     </span><span class="nt">pattern_maps</span><span class="p">:</span><span class="w">
</span><span class="w">       </span>- <span class="l">PropName</span><span class="w">
</span><span class="w"> </span><span class="l">â€‹</span><span class="w">
</span><span class="w">   </span><span class="nt">issues</span><span class="p">:</span><span class="w">
</span><span class="w">     </span><span class="nt">prefix</span><span class="p">:</span><span class="w">
</span><span class="w">       </span>- <span class="c">#</span><span class="w">
</span><span class="w"> </span><span class="l">â€‹</span><span class="w">
</span><span class="w">   </span><span class="nt">refs</span><span class="p">:</span><span class="w">
</span><span class="w">     </span><span class="nt">actions</span><span class="p">:</span><span class="w">
</span><span class="w">       </span>- <span class="l">Closes</span><span class="w">
</span><span class="w">       </span>- <span class="l">Fixes</span><span class="w">
</span><span class="w"> </span><span class="l">â€‹</span><span class="w">
</span><span class="w">   </span><span class="nt">merges</span><span class="p">:</span><span class="w">
</span><span class="w">     </span><span class="nt">pattern</span><span class="p">:</span><span class="w"> </span><span class="s2">"^Merge branch '(\\w+)'$"</span><span class="w">
</span><span class="w">     </span><span class="nt">pattern_maps</span><span class="p">:</span><span class="w">
</span><span class="w">       </span>- <span class="l">Source</span><span class="w">
</span><span class="w"> </span><span class="l">â€‹</span><span class="w">
</span><span class="w">   </span><span class="nt">reverts</span><span class="p">:</span><span class="w">
</span><span class="w">     </span><span class="nt">pattern</span><span class="p">:</span><span class="w"> </span><span class="s2">"^Revert \"([\\s\\S]*)\"$"</span><span class="w">
</span><span class="w">     </span><span class="nt">pattern_maps</span><span class="p">:</span><span class="w">
</span><span class="w">       </span>- <span class="l">Header</span><span class="w">
</span><span class="w"> </span><span class="l">â€‹</span><span class="w">
</span><span class="w">   </span><span class="nt">notes</span><span class="p">:</span><span class="w">
</span><span class="w">     </span><span class="nt">keywords</span><span class="p">:</span><span class="w">
</span><span class="w">       </span>- <span class="l">BREAKING CHANGE</span></code></pre></div><p class="ztext-empty-paragraph"><br></p><h3><b><code>bin</code></b></h3><p data-pid="BlY8pYe3">Git execution command.</p><table data-draft-node="block" data-draft-type="table" data-size="normal" data-row-style="normal"><tbody><tr><th>Required</th><th>Type</th><th>Default</th><th>Description</th></tr><tr><td>N</td><td>String</td><td>"git"</td><td>-</td></tr></tbody></table><h3><b><code>style</code></b></h3><p data-pid="hk1lQ5xJ">CHANGELOG style. Automatic linking of issues and notices, initial value setting such as merges etc. are done automatically.</p><table data-draft-node="block" data-draft-type="table" data-size="normal" data-row-style="normal"><tbody><tr><th>Required</th><th>Type</th><th>Default</th><th>Description</th></tr><tr><td>N</td><td>String</td><td>"none"</td><td>Should be "github" "gitlab" "bitbucket" "none"</td></tr></tbody></table><h3><b><code>template</code></b></h3><p data-pid="rITWlHIt">Path for the template file. It is specified by a relative path from the setting file. Absolute paths are also ok.</p><table data-draft-node="block" data-draft-type="table" data-size="normal" data-row-style="normal"><tbody><tr><th>Required</th><th>Type</th><th>Default</th><th>Description</th></tr><tr><td>N</td><td>String</td><td>"CHANGELOG.tpl.md"</td><td>-</td></tr></tbody></table><h3><b><code>info</code></b></h3><p data-pid="cnb3gBnr">Metadata for CHANGELOG. Depending on Style, it is sometimes used in processing, so it is recommended to specify it.</p><table data-draft-node="block" data-draft-type="table" data-size="normal" data-row-style="normal"><tbody><tr><th>Key</th><th>Required</th><th>Type</th><th>Default</th><th>Description</th></tr><tr><td>title</td><td>N</td><td>String</td><td>"CHANGELOG"</td><td>Title of CHANGELOG.</td></tr><tr><td>repository_url</td><td>N</td><td>String</td><td>none</td><td>URL of git repository.</td></tr></tbody></table><h3><b><code>options</code></b></h3><p data-pid="ovxEM1p-">Options used to process commits.</p><h3><b><code>options.sort</code></b></h3><p data-pid="6dldm3yI">Options concerning the acquisition and sort of commits.</p><table data-draft-node="block" data-draft-type="table" data-size="normal" data-row-style="normal"><tbody><tr><th>Required</th><th>Type</th><th>Default</th><th>Description</th></tr><tr><td>N</td><td>String</td><td>"date"</td><td>Defines how tags are sorted in the generated change log. Values: "date", "semver".</td></tr></tbody></table><h3><b><code>options.commits</code></b></h3><p data-pid="inlYFgV4">Options concerning the acquisition and sort of commits.</p><table data-draft-node="block" data-draft-type="table" data-size="normal" data-row-style="normal"><tbody><tr><th>Key</th><th>Required</th><th>Type</th><th>Default</th><th>Description</th></tr><tr><td>filters</td><td>N</td><td>Map in List</td><td>none</td><td>Filter by using Commit properties and values. Filtering is not done by specifying an empty value.</td></tr><tr><td>sort_by</td><td>N</td><td>String</td><td>"Scope"</td><td>Property name to use for sorting Commit. See Commit.</td></tr></tbody></table><h3><b><code>options.commit_groups</code></b></h3><p data-pid="WUwm8Jxz">Options for groups of commits.</p><table data-draft-node="block" data-draft-type="table" data-size="normal" data-row-style="normal"><tbody><tr><th>Key</th><th>Required</th><th>Type</th><th>Default</th><th>Description</th></tr><tr><td>group_by</td><td>N</td><td>String</td><td>"Type"</td><td>Property name of Commit to be grouped into CommitGroup. See CommitGroup.</td></tr><tr><td>sort_by</td><td>N</td><td>String</td><td>"Title"</td><td>Property name to use for sorting CommitGroup. See CommitGroup.</td></tr><tr><td>title_order</td><td>N</td><td>List</td><td>none</td><td>Predefined order of titles to use for sorting CommitGroup. Only if sort_by is Custom</td></tr><tr><td>title_maps</td><td>N</td><td>Map in List</td><td>none</td><td>Map for CommitGroup title conversion.</td></tr></tbody></table><h3><b><code>options.header</code></b></h3><p data-pid="YGWrHeXb">This option is used for parsing the commit header.</p><table data-draft-node="block" data-draft-type="table" data-size="normal" data-row-style="normal"><tbody><tr><th>Key</th><th>Required</th><th>Type</th><th>Default</th><th>Description</th></tr><tr><td>pattern</td><td>Y</td><td>String</td><td>none</td><td>A regular expression to use for parsing the commit header.</td></tr><tr><td>pattern_maps</td><td>Y</td><td>List</td><td>none</td><td>A rule for mapping the result of HeaderPattern to the property of Commit. See Commit.</td></tr></tbody></table><h3><b><code>options.issues</code></b></h3><p data-pid="uIpj8ONI">This option is used to detect issues.</p><table data-draft-node="block" data-draft-type="table" data-size="normal" data-row-style="normal"><tbody><tr><th>Key</th><th>Required</th><th>Type</th><th>Default</th><th>Description</th></tr><tr><td>prefix</td><td>N</td><td>List</td><td>none</td><td>Prefix used for issues. (e.g. #, #gh-)</td></tr></tbody></table><h3><b><code>options.refs</code></b></h3><p data-pid="itnubw04">This option is for parsing references.</p><table data-draft-node="block" data-draft-type="table" data-size="normal" data-row-style="normal"><tbody><tr><th>Key</th><th>Required</th><th>Type</th><th>Default</th><th>Description</th></tr><tr><td>actions</td><td>N</td><td>List</td><td>none</td><td>Word list of Ref.Action. See Ref.</td></tr></tbody></table><h3><b><code>options.merges</code></b></h3><p data-pid="Pod0kuxH">Options to detect and parse merge commits.</p><table data-draft-node="block" data-draft-type="table" data-size="normal" data-row-style="normal"><tbody><tr><th>Key</th><th>Required</th><th>Type</th><th>Default</th><th>Description</th></tr><tr><td>pattern</td><td>N</td><td>String</td><td>none</td><td>Similar to options.header.pattern.</td></tr><tr><td>pattern_maps</td><td>N</td><td>List</td><td>none</td><td>Similar to options.header.pattern_maps.</td></tr></tbody></table><h3><b><code>options.reverts</code></b></h3><p data-pid="8xoe1GqG">Options to detect and parse revert commits.</p><table data-draft-node="block" data-draft-type="table" data-size="normal" data-row-style="normal"><tbody><tr><th>Key</th><th>Required</th><th>Type</th><th>Default</th><th>Description</th></tr><tr><td>pattern</td><td>N</td><td>String</td><td>none</td><td>Similar to options.header.pattern.</td></tr><tr><td>pattern_maps</td><td>N</td><td>List</td><td>none</td><td>Similar to options.header.pattern_maps.</td></tr></tbody></table><h3><b><code>options.notes</code></b></h3><p data-pid="TEPDzPMK">Options to detect notes contained in commit bodies.</p><table data-draft-node="block" data-draft-type="table" data-size="normal" data-row-style="normal"><tbody><tr><th>Key</th><th>Required</th><th>Type</th><th>Default</th><th>Description</th></tr><tr><td>keywords</td><td>N</td><td>List</td><td>none</td><td>Keyword list to find Note. A semicolon is a separator, like &lt;keyword&gt;: (e.g. BREAKING CHANGE).</td></tr></tbody></table><h2><b>Templates</b></h2><p data-pid="WXkfMdeX">The <code>git-chglog</code> template uses the <code>text/template</code> package and enhanced templating functions provided by <a href="http://masterminds.github.io/sprig" target="_blank">Sprig</a>. For basic usage please refer to the following.</p><ul><li data-pid="U-br0go5"><a href="https://golang.org/pkg/text/template/" target="_blank">text/template</a></li><li data-pid="0OaYgtVr"><a href="http://masterminds.github.io/sprig" target="_blank">Sprig</a></li></ul><p data-pid="ljT7RPrJ">We have implemented the following custom template functions. These override functions provided by <a href="http://masterminds.github.io/sprig" target="_blank">Sprig</a>.</p><table data-draft-node="block" data-draft-type="table" data-size="normal" data-row-style="normal"><tbody><tr><th>Name</th><th>Signature</th><th>Description</th></tr><tr><td>contains</td><td>func(s, substr string) bool</td><td>Reports whether substr is within s using strings.Contains</td></tr><tr><td>datetime</td><td>func(layout string, input time.Time) string</td><td>Generate a formatted Date string based on layout</td></tr><tr><td>hasPrefix</td><td>func(s, prefix string) bool</td><td>Tests whether the string s begins with prefix using strings.HasPrefix</td></tr><tr><td>hasSuffix</td><td>func(s, suffix string) bool</td><td>Tests whether the string s ends with suffix. using strings.HasPrefix</td></tr><tr><td>indent</td><td>func(s string, n int) string</td><td>Indent all lines of s by n spaces</td></tr><tr><td>replace</td><td>func(s, old, new string, n int) string</td><td>Replace old with new within string s, n times using strings.Replace</td></tr><tr><td>upperFirst</td><td>func(s string) string</td><td>Upper case the first character of a string</td></tr></tbody></table><p data-pid="Mq3H43Vq">If you are not satisfied with the prepared template please try customizing one.</p><p class="ztext-empty-paragraph"><br></p><hr><p class="ztext-empty-paragraph"><br></p><p data-pid="7aVBKh--">The basic templates are as follows.</p><p data-pid="D6VKtP3Z"><b>Example:</b></p><div class="highlight"><pre><code class="language-text">{{ if .Versions -}}
&lt;a name="unreleased"&gt;&lt;/a&gt;
## [Unreleased]

{{ if .Unreleased.CommitGroups -}}
{{ range .Unreleased.CommitGroups -}}
### {{ .Title }}
{{ range .Commits -}}
- {{ if .Scope }}**{{ .Scope }}:** {{ end }}{{ .Subject }}
{{ end }}
{{ end -}}
{{ end -}}
{{ end -}}

{{ range .Versions }}
&lt;a name="{{ .Tag.Name }}"&gt;&lt;/a&gt;
## {{ if .Tag.Previous }}[{{ .Tag.Name }}]{{ else }}{{ .Tag.Name }}{{ end }} - {{ datetime "2006-01-02" .Tag.Date }}
{{ range .CommitGroups -}}
### {{ .Title }}
{{ range .Commits -}}
- {{ if .Scope }}**{{ .Scope }}:** {{ end }}{{ .Subject }}
{{ end }}
{{ end -}}

{{- if .RevertCommits -}}
### Reverts
{{ range .RevertCommits -}}
- {{ .Revert.Header }}
{{ end }}
{{ end -}}

{{- if .MergeCommits -}}
### Pull Requests
{{ range .MergeCommits -}}
- {{ .Header }}
{{ end }}
{{ end -}}

{{- if .NoteGroups -}}
{{ range .NoteGroups -}}
### {{ .Title }}
{{ range .Notes }}
{{ .Body }}
{{ end }}
{{ end -}}
{{ end -}}
{{ end -}}

{{- if .Versions }}
[Unreleased]: {{ .Info.RepositoryURL }}/compare/{{ $latest := index .Versions 0 }}{{ $latest.Tag.Name }}...HEAD
{{ range .Versions -}}
{{ if .Tag.Previous -}}
[{{ .Tag.Name }}]: {{ $.Info.RepositoryURL }}/compare/{{ .Tag.Previous.Name }}...{{ .Tag.Name }}
{{ end -}}
{{ end -}}
{{ end -}}</code></pre></div><p data-pid="M8ixfJ2N">See the godoc <a href="https://godoc.org/github.com/git-chglog/git-chglog#RenderData" target="_blank">RenderData</a> documentation for available variables.</p><h2><b>Supported Styles</b></h2><table data-draft-node="block" data-draft-type="table" data-size="normal" data-row-style="normal"><tbody><tr><th>Name</th><th>Status</th><th>Features</th></tr><tr><td>GitHub</td><td>âœ…</td><td>Mentions automatic link. Automatic link to references.</td></tr><tr><td>GitLab</td><td>âœ…</td><td>Mentions automatic link. Automatic link to references.</td></tr><tr><td>Bitbucket</td><td>âœ…</td><td>Mentions automatic link. Automatic link to references.</td></tr></tbody></table><blockquote data-pid="7OmMRAtS">  Even with styles that are not yet supported, it is possible to make ordinary CHANGELOG.</blockquote><h2><b>Jira Integration</b></h2><p data-pid="nTojjDb4">Jira is a popular project management tool. When a project uses Jira to track feature development and bug fixes, it may also want to generate change log based information stored in Jira. With embedding a Jira story id in git commit header, the git-chglog tool may automatically fetch data of the story from Jira, those data then can be used to render the template.</p><p data-pid="y10RApYH">Take the following steps to add Jira integration:</p><h3><b>1. Change the header parse pattern to recognize Jira issue id in the configure file</b></h3><p data-pid="0hYDmQbM"><b>Where Jira issue is identical Jira story.</b></p><p data-pid="9Pw2QdK6">The following is a sample pattern:</p><div class="highlight"><pre><code class="language-text"> header:
   pattern: "^(?:(\\w*)|(?:\\[(.*)\\])?)\\:\\s(.*)$"
   pattern_maps:
     - Type
     - JiraIssueID
     - Subject</code></pre></div><p data-pid="VlAwjbRI">This sample pattern can match both forms of commit headers:</p><ul><li data-pid="S-McFMgW"><code>feat: new feature of something</code></li><li data-pid="Rg5QTQEE"><code>[JIRA-ID]: something</code></li></ul><h3><b>2. Add Jira configuration to the configure file</b></h3><p data-pid="Y7OHo6Nn">The following is a sample:</p><div class="highlight"><pre><code class="language-text"> jira:
   info:
     username: u
     token: p
     url: https://jira.com
   issue:
     type_maps:
       Task: fix
       Story: feat
     description_pattern: "&lt;changelog&gt;(.*)&lt;/changelog&gt;"</code></pre></div><p data-pid="E5jK0YHJ">Here you need to define Jira URL, access username and token (password). If you don't want to write your Jira access credential in configure file, you may define them with environment variables: <code>JIRA_URL</code>, <code>JIRA_USERNAME</code> and <code>JIRA_TOKEN</code>.</p><p data-pid="JX6pgSt2">You also needs to define a issue type map. In above sample, Jira issue type <code>Task</code> will be mapped to <code>fix</code> and <code>Story</code> will be mapped to <code>feat</code>.</p><p data-pid="28zfsK7B">As a Jira story's description could be very long, you might not want to include the entire description into change log. In that case, you may define <code>description_pattern</code> like above, so that only content embraced with <code>&lt;changelog&gt; ... &lt;/changelog&gt;</code> will be included.</p><h3><b>3. Update the template to show Jira data</b></h3><p data-pid="7cDRh-Rq">In the template, if a commit contains a Jira issue id, then you may show Jira data. For example:</p><div class="highlight"><pre><code class="language-bash"> <span class="o">{{</span> range .CommitGroups -<span class="o">}}</span>
 <span class="c1">### {{ .Title }}</span>
 <span class="o">{{</span> range .Commits -<span class="o">}}</span>
 - <span class="o">{{</span> <span class="k">if</span> .Scope <span class="o">}}</span>**<span class="o">{{</span> .Scope <span class="o">}}</span>:** <span class="o">{{</span> end <span class="o">}}{{</span> .Subject <span class="o">}}</span>
 <span class="o">{{</span> <span class="k">if</span> .JiraIssue <span class="o">}}</span> <span class="o">{{</span> .JiraIssue.Description <span class="o">}}</span>
 <span class="o">{{</span> end <span class="o">}}</span>
 <span class="o">{{</span> end <span class="o">}}</span>
 <span class="o">{{</span> end -<span class="o">}}</span></code></pre></div><p data-pid="w2yb2SFX">Within a <code>Commit</code>, the following Jira data can be used in template:</p><ul><li data-pid="JQvgp23p"><code>.JiraIssue.Summary</code> - Summary of the Jira story</li><li data-pid="UL2SPj_o"><code>.JiraIssue.Description</code> - Description of the Jira story</li><li data-pid="IQAUzjIO"><code>.JiraIssue.Type</code> - Original type of the Jira story, and <code>.Type</code> will be mapped type.</li><li data-pid="zIQtFrWD"><code>.JiraIssue.Labels</code> - A list of strings, each is a Jira label.</li></ul><h2><b>END Links</b></h2><ul><li data-pid="P8Chxzqy"><a href="https://godoc.org/github.com/git-chglog/git-chglog" target="_blank"><span class="invisible">https://</span><span class="visible">godoc.org/github.com/gi</span><span class="invisible">t-chglog/git-chglog</span><span class="ellipsis"></span></a></li><li data-pid="64PXljsI"><a href="https://github.com/git-chglog/git-chglog" target="_blank"><span class="invisible">https://</span><span class="visible">github.com/git-chglog/g</span><span class="invisible">it-chglog</span><span class="ellipsis"></span></a></li></ul></div> </details> 
 <hr /> 

 #### - [IAM é¡¹ç›®éƒ¨ç½²](https://zhuanlan.zhihu.com/p/606959150) 
 <details><summary>ØªÙˆØ¶ÛŒØ­Ø§Øª</summary> <div><ul><li data-pid="stP5700C"><a href="https://github.com/cubxxw/iam" target="_blank">  å¼€æºåœ°å€</a></li></ul><h2><b>ç¬¬2èŠ‚ IAMé¡¹ç›®éƒ¨ç½²</b></h2><blockquote data-pid="MgZ2CD9Y">â¤ï¸  During the winter vacation, I followed up and learned two projects: tiktok project and IAM project, and summarized and practiced the CloudNative project and Go language. I learned a lot in the process.Myblog:<a href="http://nsddd.top/" target="_blank">http://nsddd.top</a></blockquote><h2><b>å‰è¨€</b></h2><ul><li data-pid="l0KtYmFE"><a href="https://github.com/cubxxw/cs-awesome-Block_Chain" target="_blank">â­•   èœé¸Ÿæˆé•¿æ‰‹å†Œ  CSç³»åˆ— ã€äº‘åŸç”Ÿç³»åˆ—ã€åŒºå—é“¾ç³»åˆ—ã€web3ç³»åˆ— ã€Golangç³»åˆ— </a></li><li data-pid="5YF5_hCz"><a href="https://go.nsddd.top/" target="_blank">  Goè¯­è¨€åŸºç¡€-è¿›é˜¶</a><br></li><ul><li data-pid="4YmJzOx7"><a href="https://github.com/cubxxw/cs-awesome-Block_Chain/blob/master/TOC.md" target="_blank"> ï¸GO åŸºç¡€éƒ¨åˆ† </a></li><li data-pid="x1m0OmJB"><a href="https://github.com/cubxxw/cs-awesome-Block_Chain/blob/master/Gomd_super/README.md" target="_blank"> ï¸Goè¯­è¨€100ç¯‡è¿›é˜¶ </a></li><li data-pid="jGdpNvLW"><a href="https://github.com/cubxxw/cs-awesome-Block_Chain/blob/master/go-advancend/README.md" target="_blank"> ï¸Go é«˜çº§ç¯‡</a></li></ul></ul><p class="ztext-empty-paragraph"><br></p><ul><li data-pid="BDfHMtci"><a href="https://docker.nsddd.top/" target="_blank">  docker &amp; k8s &amp; äº‘åŸç”Ÿ</a></li><li data-pid="HH3is7A9"><a href="https://github.com/cubxxw/iam" target="_blank">IAM githubåœ°å€</a></li><li data-pid="vEq0z4so"><a href="https://time.geekbang.org/column/article/378082" target="_blank">è¯¾ç¨‹åœ°å€</a></li></ul><p class="ztext-empty-paragraph"><br></p><h2><b>åŸºæœ¬å¼€å‘ç¯å¢ƒ</b></h2><p data-pid="NfW5j-Sx"><b>æŸ¥çœ‹æˆ‘çš„ç¯å¢ƒï¼š</b></p><div class="highlight"><pre><code class="language-bash">root@cubmaster01:/# uname -va
Linux cubmaster01 5.4.0-135-generic <span class="c1">#152-Ubuntu SMP Wed Nov 23 20:19:22 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux</span>
root@cubmaster01:/# go version 
go version go1.19.3 linux/amd64
root@cubmaster01:/# git version
git version 2.25.1</code></pre></div><p class="ztext-empty-paragraph"><br></p><h3><b>ç”¨æˆ·æƒé™</b></h3><p data-pid="dCAPXIDB">ä½¿ç”¨æ™®é€šç”¨æˆ·ç™»å½•å’Œæ“ä½œå¼€å‘æœºä¹Ÿå¯ä»¥ä¿è¯ç³»ç»Ÿçš„å®‰å…¨æ€§ï¼Œè¿™æ˜¯ä¸€ä¸ªæ¯”è¾ƒå¥½çš„ä¹ æƒ¯ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨æ—¥å¸¸å¼€å‘ä¸­ä¹Ÿè¦å°½é‡é¿å…ä½¿ç”¨ Root ç”¨æˆ·ã€‚</p><div class="highlight"><pre><code class="language-bash">oot@cubmaster01:/# useradd cubiam
root@cubmaster01:/# passwd cubiam
New password: 
Retype new password: 
passwd: password updated successfully</code></pre></div><p class="ztext-empty-paragraph"><br></p><h3><b>æ·»åŠ  sudoers</b></h3><p data-pid="4SloACQT">æ™®é€šç”¨æˆ·ä¹Ÿè¦ç”¨åˆ° Root çš„ä¸€äº›æƒé™ï¼Œä½† Root ç”¨æˆ·çš„å¯†ç ä¸€èˆ¬æ˜¯ç”±ç³»ç»Ÿç®¡ç†å‘˜ç»´æŠ¤å¹¶å®šæœŸæ›´æ”¹çš„ï¼Œæ¯æ¬¡éƒ½å‘ç®¡ç†å‘˜è¯¢é—®å¯†ç åˆå¾ˆéº»çƒ¦ã€‚å› æ­¤ï¼Œæˆ‘å»ºè®®ä½ å°†æ™®é€šç”¨æˆ·åŠ å…¥åˆ° sudoers ä¸­ï¼Œè¿™æ ·æ™®é€šç”¨æˆ·å°±å¯ä»¥é€šè¿‡ sudo å‘½ä»¤æ¥æš‚æ—¶è·å– Root çš„æƒé™ã€‚å…·ä½“æ¥è¯´ï¼Œä½ å¯ä»¥æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æ·»åŠ ï¼š</p><div class="highlight"><pre><code class="language-bash">sed -i <span class="s1">'/^root.*ALL=(ALL).*ALL/a\cubaim\tALL=(ALL) \tALL'</span> /etc/sudoers</code></pre></div><p class="ztext-empty-paragraph"><br></p><h3><b>é…ç½® <code>$HOME/.bashrc</code> æ–‡ä»¶</b></h3><p data-pid="sFg6xoRO">æˆ‘ä»¬ç™»å½•æ–°æœåŠ¡å™¨åçš„ç¬¬ä¸€æ­¥å°±æ˜¯é…ç½® <code>$HOME/.bashrc</code> æ–‡ä»¶ï¼Œä»¥ä½¿ Linux ç™»å½• shell æ›´åŠ æ˜“ç”¨ï¼Œä¾‹å¦‚é…ç½® LANG è§£å†³ä¸­æ–‡ä¹±ç ï¼Œé…ç½® PS1 å¯ä»¥é¿å…æ•´è¡Œéƒ½æ˜¯æ–‡ä»¶è·¯å¾„ï¼Œå¹¶å°† <code>$HOME/bin</code> åŠ å…¥åˆ° PATH è·¯å¾„ä¸­ã€‚é…ç½®åçš„å†…å®¹å¦‚ä¸‹ï¼š</p><div class="highlight"><pre><code class="language-bash"><span class="c1"># .bashrc</span>
 
<span class="c1"># User specific aliases and functions</span>
<span class="c1"># -iï¼š æ¯æ¬¡åˆ é™¤å‰æé†’~</span>
<span class="nb">alias</span> <span class="nv">rm</span><span class="o">=</span><span class="s1">'rm -i'</span>
<span class="nb">alias</span> <span class="nv">cp</span><span class="o">=</span><span class="s1">'cp -i'</span>
<span class="nb">alias</span> <span class="nv">mv</span><span class="o">=</span><span class="s1">'mv -i'</span>
 
<span class="c1"># Source global definitions</span>
<span class="k">if</span> <span class="o">[</span> -f /etc/bashrc <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
        . /etc/bashrc
<span class="k">fi</span>
 
<span class="c1"># User specific environment</span>
<span class="c1"># Basic envs</span>
<span class="nb">export</span> <span class="nv">LANG</span><span class="o">=</span><span class="s2">"en_US.UTF-8"</span> <span class="c1"># è®¾ç½®ç³»ç»Ÿè¯­è¨€ä¸º en_US.UTF-8ï¼Œé¿å…ç»ˆç«¯å‡ºç°ä¸­æ–‡ä¹±ç </span>
<span class="nb">export</span> <span class="nv">PS1</span><span class="o">=</span><span class="s1">'[\u@dev \W]\$ '</span> <span class="c1"># é»˜è®¤çš„ PS1 è®¾ç½®ä¼šå±•ç¤ºå…¨éƒ¨çš„è·¯å¾„ï¼Œä¸ºäº†é˜²æ­¢è¿‡é•¿ï¼Œè¿™é‡Œåªå±•ç¤ºï¼š"ç”¨æˆ·å@dev æœ€åçš„ç›®å½•å"</span>
<span class="nb">export</span> <span class="nv">WORKSPACE</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/workspace"</span> <span class="c1"># è®¾ç½®å·¥ä½œç›®å½•</span>
<span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span><span class="nv">$HOME</span>/bin:<span class="nv">$PATH</span> <span class="c1"># å°† $HOME/bin ç›®å½•åŠ å…¥åˆ° PATH å˜é‡ä¸­</span>
 
<span class="c1"># Default entry folder</span>
<span class="nb">cd</span> <span class="nv">$WORKSPACE</span> <span class="c1"># ç™»å½•ç³»ç»Ÿï¼Œé»˜è®¤è¿›å…¥ workspace ç›®å½•</span></code></pre></div><p data-pid="d-Ch3zVs">æœ‰ä¸€ç‚¹éœ€è¦æˆ‘ä»¬æ³¨æ„ï¼Œåœ¨ export PATH æ—¶ï¼Œæœ€å¥½æŠŠ <code>$PATH</code> æ”¾åˆ°æœ€åï¼Œå› ä¸ºæˆ‘ä»¬æ·»åŠ åˆ°ç›®å½•ä¸­çš„å‘½ä»¤æ˜¯æœŸæœ›è¢«ä¼˜å…ˆæœç´¢å¹¶ä½¿ç”¨çš„ã€‚é…ç½®å®Œ <code>$HOME/.bashrc</code> åï¼Œæˆ‘ä»¬è¿˜éœ€è¦åˆ›å»ºå·¥ä½œç›®å½• workspaceã€‚å°†å·¥ä½œæ–‡ä»¶ç»Ÿä¸€æ”¾åœ¨ <code>$HOME/workspace</code> ç›®å½•ä¸­ï¼Œæœ‰å‡ ç‚¹å¥½å¤„ã€‚</p><ol><li data-pid="qWXPvQmQ">å¯ä»¥ä½¿æˆ‘ä»¬çš„ <code>HOME</code>ç›®å½•ä¿æŒæ•´æ´ï¼Œä¾¿äºä»¥åçš„æ–‡ä»¶æŸ¥æ‰¾å’Œåˆ†ç±»ã€‚</li><li data-pid="NlxrvsAK">å¦‚æœå“ªä¸€å¤© /åˆ†åŒºç©ºé—´ä¸è¶³ï¼Œå¯ä»¥å°†æ•´ä¸ª workspace ç›®å½• mv åˆ°å¦ä¸€ä¸ªåˆ†åŒºä¸­ï¼Œå¹¶åœ¨ /åˆ†åŒºä¸­ä¿ç•™è½¯è¿æ¥ï¼Œä¾‹å¦‚ï¼š/home/going/workspace -&gt; /data/workspace/ã€‚</li><li data-pid="TYVAHryl">å¦‚æœå“ªå¤©æƒ³å¤‡ä»½æ‰€æœ‰çš„å·¥ä½œæ–‡ä»¶ï¼Œå¯ä»¥ç›´æ¥å¤‡ä»½ workspaceã€‚</li></ol><p data-pid="hE66Z9RY">å…·ä½“çš„æ“ä½œæŒ‡ä»¤æ˜¯ <code>mkdir -p $HOME/workspace</code>ã€‚é…ç½®å¥½ <code>HOME/.bashrc</code> æ–‡ä»¶åï¼Œæˆ‘ä»¬å°±å¯ä»¥æ‰§è¡Œ bash å‘½ä»¤å°†é…ç½®åŠ è½½åˆ°å½“å‰ shell ä¸­äº†ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>å®‰è£… git</b></h3><p data-pid="PukF8lZ2">å› ä¸ºå®‰è£… IAM ç³»ç»Ÿã€æ‰§è¡Œ go get å‘½ä»¤ã€å®‰è£… protobuf å·¥å…·ç­‰éƒ½æ˜¯é€šè¿‡ Git æ¥æ“ä½œçš„ï¼Œæ‰€ä»¥æ¥ä¸‹æ¥æˆ‘ä»¬è¿˜éœ€è¦å®‰è£… Gitã€‚ç”±äºä½ç‰ˆæœ¬çš„ Git ä¸æ”¯æŒ <code>--unshallow</code> å‚æ•°ï¼Œè€Œ go get åœ¨å®‰è£… Go åŒ…æ—¶ä¼šç”¨åˆ° <code>git fetch --unshallow</code> å‘½ä»¤ï¼Œå› æ­¤æˆ‘ä»¬è¦ç¡®ä¿å®‰è£…ä¸€ä¸ªé«˜ç‰ˆæœ¬çš„ Gitï¼Œå…·ä½“çš„å®‰è£…æ–¹æ³•å¦‚ä¸‹ï¼š</p><div class="highlight"><pre><code class="language-bash">$ <span class="nb">cd</span> /tmp
$ wget --no-check-certificate https://mirrors.edge.kernel.org/pub/software/scm/git/git-2.39.0.tar.gz
$ tar -xvzf git-2.39.0.tar.gz
$ <span class="nb">cd</span> git-2.39.0/
$ ./configure
$ make
$ sudo make install
$ git --version          <span class="c1"># è¾“å‡º git ç‰ˆæœ¬å·ï¼Œè¯´æ˜å®‰è£…æˆåŠŸ</span>
git version 2.39.0
tee -a <span class="nv">$HOME</span>/.bashrc <span class="s">&lt;&lt;'EOF'
</span><span class="s"># Configure for git
</span><span class="s">export PATH=/usr/local/libexec/git-core:$PATHEOF</span></code></pre></div><p data-pid="DERpnCpb">é…ç½® Gitã€‚æˆ‘ä»¬ç›´æ¥æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤é…ç½® Git</p><div class="highlight"><pre><code class="language-bash">git config --global user.name <span class="s2">"Xinwei Xiong"</span>    <span class="c1"># ç”¨æˆ·åæ”¹æˆè‡ªå·±çš„</span>
git config --global user.email <span class="s2">"3293172751nss@gmail.com"</span>    <span class="c1"># é‚®ç®±æ”¹æˆè‡ªå·±çš„</span>
git config --global credential.helper store    <span class="c1"># è®¾ç½® Gitï¼Œä¿å­˜ç”¨æˆ·åå’Œå¯†ç </span>
git config --global core.longpaths <span class="nb">true</span> <span class="c1"># è§£å†³ Git ä¸­ 'Filename too long' çš„é”™è¯¯</span></code></pre></div><p data-pid="gelvKrqK">é™¤äº†æŒ‰ç…§ä¸Šè¿°æ­¥éª¤é…ç½® Git ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜æœ‰å‡ ç‚¹éœ€è¦æ³¨æ„ã€‚é¦–å…ˆï¼Œåœ¨ Git ä¸­ï¼Œæˆ‘ä»¬ä¼šæŠŠé ASCII å­—ç¬¦å«åš Unusual å­—ç¬¦ã€‚è¿™ç±»å­—ç¬¦åœ¨ Git è¾“å‡ºåˆ°ç»ˆç«¯çš„æ—¶å€™é»˜è®¤æ˜¯ç”¨ 8 è¿›åˆ¶è½¬ä¹‰å­—ç¬¦è¾“å‡ºçš„ï¼ˆä»¥é˜²ä¹±ç ï¼‰ï¼Œä½†ç°åœ¨çš„ç»ˆç«¯å¤šæ•°éƒ½æ”¯æŒç›´æ¥æ˜¾ç¤ºé ASCII å­—ç¬¦ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å…³é—­æ‰è¿™ä¸ªç‰¹æ€§ï¼Œå…·ä½“çš„å‘½ä»¤å¦‚ä¸‹ï¼š</p><div class="highlight"><pre><code class="language-bash">git config --global core.quotepath off</code></pre></div><p data-pid="RogmTUnu">å…¶æ¬¡ï¼ŒGitHub é™åˆ¶æœ€å¤§åªèƒ½å…‹éš† 100M çš„å•ä¸ªæ–‡ä»¶ï¼Œä¸ºäº†èƒ½å¤Ÿå…‹éš†å¤§äº 100M çš„æ–‡ä»¶ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å®‰è£… Git Large File Storageï¼Œå®‰è£…æ–¹å¼å¦‚ä¸‹ï¼š</p><div class="highlight"><pre><code class="language-bash">git lfs install --skip-repo</code></pre></div><p class="ztext-empty-paragraph"><br></p><h2><b>goè¯­è¨€ç¯å¢ƒå˜é‡è®¾ç½®å’Œå«ä¹‰</b></h2><p data-pid="NaiGe2D0"><b>æˆ‘ä»¬åœ¨è®¾ç½®Goè¯­è¨€çš„ç¯å¢ƒå˜é‡ï¼š</b></p><div class="highlight"><pre><code class="language-bash">$ tee -a <span class="nv">$HOME</span>/.bashrc <span class="s">&lt;&lt;'EOF'
</span><span class="s"># Go envs
</span><span class="s">export GOVERSION=go1.18.3 # Go ç‰ˆæœ¬è®¾ç½®
</span><span class="s">export GO_INSTALL_DIR=$HOME/go # Go å®‰è£…ç›®å½•
</span><span class="s">export GOROOT=$GO_INSTALL_DIR/$GOVERSION # GOROOT è®¾ç½®
</span><span class="s">export GOPATH=$WORKSPACE/golang # GOPATH è®¾ç½®
</span><span class="s">export PATH=$GOROOT/bin:$GOPATH/bin:$PATH # å°† Go è¯­è¨€è‡ªå¸¦çš„å’Œé€šè¿‡ go install å®‰è£…çš„äºŒè¿›åˆ¶æ–‡ä»¶åŠ å…¥åˆ° PATH è·¯å¾„ä¸­
</span><span class="s">export GO111MODULE="on" # å¼€å¯ Go moudles ç‰¹æ€§
</span><span class="s">export GOPROXY=https://goproxy.cn,direct # å®‰è£… Go æ¨¡å—æ—¶ï¼Œä»£ç†æœåŠ¡å™¨è®¾ç½®
</span><span class="s">export GOPRIVATE=
</span><span class="s">export GOSUMDB=off # å…³é—­æ ¡éªŒ Go ä¾èµ–åŒ…çš„å“ˆå¸Œå€¼
</span><span class="s">EOF</span></code></pre></div><p data-pid="6x940fWw">ä¸ºä»€ä¹ˆè¦å¢åŠ è¿™ä¹ˆå¤šç¯å¢ƒå˜é‡å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºï¼ŒGo è¯­è¨€æ˜¯é€šè¿‡ä¸€ç³»åˆ—çš„ç¯å¢ƒå˜é‡æ¥æ§åˆ¶ Go ç¼–è¯‘å™¨è¡Œä¸ºçš„ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ä¸€å®šè¦ç†è§£æ¯ä¸€ä¸ªç¯å¢ƒå˜é‡çš„å«ä¹‰ã€‚</p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-15e13989d233e6333fae92fc2b3d46bb_r.jpg" data-caption="" data-size="normal" width="1088" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p data-pid="tKWkbx8F">å› ä¸º Go ä»¥åä¼šç”¨ Go modules æ¥ç®¡ç†ä¾èµ–ï¼Œæ‰€ä»¥æˆ‘å»ºè®®ä½ å°† GO111MODULE è®¾ç½®ä¸º onã€‚</p><p data-pid="-u7tx_c5">åœ¨ä½¿ç”¨æ¨¡å—çš„æ—¶å€™ï¼Œ<code>$GOPATH</code> æ˜¯æ— æ„ä¹‰çš„ï¼Œä¸è¿‡å®ƒè¿˜æ˜¯ä¼šæŠŠä¸‹è½½çš„ä¾èµ–å‚¨å­˜åœ¨ <code>$GOPATH/pkg/mod</code> ç›®å½•ä¸­ï¼Œä¹Ÿä¼šæŠŠ go install çš„äºŒè¿›åˆ¶æ–‡ä»¶å­˜æ”¾åœ¨ <code>$GOPATH/bin</code> ç›®å½•ä¸­ã€‚</p><p data-pid="Q6PeNba0">å¦å¤–ï¼Œæˆ‘ä»¬è¿˜è¦å°† <code>$GOPATH/bin</code>ã€<code>$GOROOT/bin</code> åŠ å…¥åˆ° Linux å¯æ‰§è¡Œæ–‡ä»¶æœç´¢è·¯å¾„ä¸­ã€‚è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥åœ¨ bash shell ä¸­æ‰§è¡Œ go è‡ªå¸¦çš„å‘½ä»¤ï¼Œä»¥åŠé€šè¿‡ go install å®‰è£…çš„å‘½ä»¤ã€‚</p><p class="ztext-empty-paragraph"><br></p><h2><b>vim go-plug</b></h2><p data-pid="DKoDE3OA">å®‰è£…ï¼š</p><div class="highlight"><pre><code class="language-go"><span class="nx">git</span> <span class="nx">clone</span> <span class="o">--</span><span class="nx">depth</span><span class="p">=</span><span class="mi">1</span> <span class="nx">https</span><span class="p">:</span><span class="c1">//github.com/fatih/vim-go.git ~/.vim/pack/plugins/start/vim-go
</span></code></pre></div><p data-pid="XOYHYgBn">vim-go ä¼šç”¨åˆ°ä¸€äº› Go å·¥å…·ï¼Œæ¯”å¦‚åœ¨å‡½æ•°è·³è½¬æ—¶ä¼šç”¨åˆ° guruã€godef å·¥å…·ï¼Œåœ¨æ ¼å¼åŒ–æ—¶ä¼šç”¨åˆ° goimportsï¼Œæ‰€ä»¥ä½ ä¹Ÿéœ€è¦å®‰è£…è¿™äº›å·¥å…·ã€‚å®‰è£…æ–¹å¼å¦‚ä¸‹ï¼šæ‰§è¡Œ <code>vi /tmp/test.go</code>ï¼Œç„¶åè¾“å…¥ <code>:GoInstallBinaries</code> å®‰è£… vim-go éœ€è¦çš„å·¥å…·ã€‚å®‰è£…åçš„ Go IDE å¸¸ç”¨æ“ä½œçš„æŒ‰é”®æ˜ å°„å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-dd199cbbdc8203ac884f4891c469cbd2_r.jpg" data-caption="" data-size="normal" width="1075" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><h2><b>ProtoBuf ç¼–è¯‘ç¯å¢ƒå®‰è£…</b></h2><p data-pid="6I9Ee7N0">æ¥ç€ï¼Œæˆ‘ä»¬å†æ¥å®‰è£… <code>protobuf</code> çš„ç¼–è¯‘å™¨ <code>protoc</code>ã€‚<code>protoc</code> éœ€è¦ <code>protoc-gen-go</code> æ¥å®Œæˆ Go è¯­è¨€çš„ä»£ç è½¬æ¢ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å®‰è£… <code>protoc</code> å’Œ <code>protoc-gen-go</code> è¿™ 2 ä¸ªå·¥å…·ã€‚å®ƒä»¬çš„å®‰è£…æ–¹æ³•æ¯”è¾ƒç®€å•ï¼Œä½ ç›´æ¥çœ‹æˆ‘ä¸‹é¢ç»™å‡ºçš„ä»£ç å’Œæ“ä½œæ³¨é‡Šå°±å¯ä»¥äº†ã€‚</p><blockquote data-pid="phfEEWZ9">Protocol Buffersï¼ˆç¼©å†™ä¸º protobufï¼‰æ˜¯ Google å¼€å‘çš„ä¸€ç§æ•°æ®äº¤æ¢æ ¼å¼ã€‚å®ƒæ˜¯ä¸€ç§ç»“æ„åŒ–æ•°æ®å­˜å‚¨æ ¼å¼ï¼Œå¯ç”¨äºç»“æ„åŒ–æ•°æ®ä¸²è¡ŒåŒ–ï¼Œæˆ–è€…è¯´æŠŠæ•°æ®ä»ç¨‹åºä¸­â€œå˜æˆâ€å­—èŠ‚æµï¼Œåˆå¯ä»¥æŠŠå­—èŠ‚æµé‡æ–°â€œå˜æˆâ€ç¨‹åºä¸­çš„æ•°æ®ã€‚ç”±äº protobuf æ˜¯è·¨è¯­è¨€çš„ï¼Œæ‰€ä»¥å®ƒå¯ä»¥è¢«å¤šç§è¯­è¨€çš„ç¨‹åºä½¿ç”¨ã€‚</blockquote><div class="highlight"><pre><code class="language-bash"><span class="c1"># ç¬¬ä¸€æ­¥ï¼šå®‰è£… protobuf</span>
$ <span class="nb">cd</span> /tmp/
$ git clone -b v3.21.1 --depth<span class="o">=</span><span class="m">1</span> https://github.com/protocolbuffers/protobuf
$ <span class="nb">cd</span> protobuf
$ ./autogen.sh
$ ./configure
$ make
$ sudo make install
$ protoc --version <span class="c1"># æŸ¥çœ‹ protoc ç‰ˆæœ¬ï¼ŒæˆåŠŸè¾“å‡ºç‰ˆæœ¬å·ï¼Œè¯´æ˜å®‰è£…æˆåŠŸ</span>
libprotoc 3.21.1

<span class="c1"># ç¬¬äºŒæ­¥ï¼šå®‰è£… protoc-gen-go</span>
$ go install github.com/golang/protobuf/protoc-gen-go@v1.5.2</code></pre></div><p class="ztext-empty-paragraph"><br></p><h2><b>IAMæ‰‹åŠ¨éƒ¨ç½²</b></h2><blockquote data-pid="U8Odykid">å’ŒKubernetesä¸€æ ·ï¼Œå¯ä»¥æ”¯æŒæ‰‹åŠ¨éƒ¨ç½²å’Œè‡ªåŠ¨éƒ¨ç½²ã€‚</blockquote><p data-pid="Ta0SMcJI">IAM ç³»ç»Ÿæ˜¯ä¸€ä¸ªä¼ä¸šçº§çš„é¡¹ç›®ï¼Œæœ‰ä¸€å®šçš„å¤æ‚åº¦ï¼Œå®‰è£…çš„è¯éœ€è¦å°å¿ƒ~</p><p data-pid="Ke7b_yDW"><b>éƒ¨ç½²çš„æ­¥éª¤ï¼š</b></p><ol><li data-pid="Mej-dr2Q">å®‰è£…å’Œé…ç½®æ•°æ®åº“ï¼šæˆ‘ä»¬éœ€è¦å®‰è£…å’Œé…ç½® MariaDBã€Redis å’Œ MongoDBã€‚</li><li data-pid="vNltnIRl">å®‰è£…å’Œé…ç½® IAM æœåŠ¡ï¼šæˆ‘ä»¬éœ€è¦å®‰è£…å’Œé…ç½® iam-apiserverã€iam-authz-serverã€iam-pumpã€iamctl å’Œ man æ–‡ä»¶ã€‚</li></ol><blockquote data-pid="-ul0yw4C">æœ‰çš„äººç›´æ¥å°†æ•´ä¸ªç¯å¢ƒæ‰“åŒ…äº†ï¼š<br>æˆ‘è‡ªå·±æ˜¯åœ¨ docker å®¹å™¨ä¸­éƒ¨ç½²çš„ï¼Œæˆ‘æŠŠé¡¹ç›®éƒ¨ç½²å¥½çš„å®¹å™¨æ‰“åŒ…ä¸Šä¼ äº†ï¼Œæœ‰éœ€è¦çš„åŒå­¦å¯ä»¥ç›´æ¥æ‹‰ä¸‹æ¥ç”¨ï¼ˆ<code>docker pull mjcjm/centos-go-project</code>ï¼‰ï¼Œå¯åŠ¨å‚æ•°ä¸€å®šè¦ç”¨ï¼š<code>docker run -tid --name</code> å®¹å™¨åç§°  <code>-v /sys/fs/cgroup:/sys/fs/cgroup  --privileged=true</code> é•œåƒ <code>id /usr/sbin/init</code>ã€‚ </blockquote><p class="ztext-empty-paragraph"><br></p><h3><b>ä¸‹è½½é¡¹ç›®ä»£ç </b></h3><p data-pid="cKL1RUDa">å› ä¸º IAM çš„å®‰è£…è„šæœ¬å­˜æ”¾åœ¨ iam ä»£ç ä»“åº“ä¸­ï¼Œå®‰è£…éœ€è¦çš„äºŒè¿›åˆ¶æ–‡ä»¶ä¹Ÿéœ€è¦é€šè¿‡ iam ä»£ç æ„å»ºï¼Œæ‰€ä»¥åœ¨å®‰è£…ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆä¸‹è½½ iam ä»£ç ï¼š</p><div class="highlight"><pre><code class="language-bash">$ <span class="nb">cd</span> <span class="nv">$WORKSPACE</span>
$ git clone https://github.com/cubxxw/iam.git
$ go work use ./iam</code></pre></div><p data-pid="NwVzoekT"><b>è®¾ç½®åˆ«åå’Œç¯å¢ƒå˜é‡ï¼š</b></p><div class="highlight"><pre><code class="language-bash">tee -a <span class="nv">$HOME</span>/.bashrc <span class="s">&lt;&lt; 'EOF'
</span><span class="s"># Alias for quick access
</span><span class="s">export GOSRC="$WORKSPACE/"
</span><span class="s">export IAM_ROOT="$HOME/workspces/iam"
</span><span class="s">alias mm="cd $HOME/workspces"
</span><span class="s">alias i="cd $HOME/workspces/iam"
</span><span class="s">EOF</span></code></pre></div><p data-pid="gqIBf0gV">åœ¨å®‰è£…é…ç½®IAMç³»ç»Ÿä¹‹å‰éœ€è¦ä½ æ‰§è¡Œä»¥ä¸‹å‘½ä»¤export <code>going</code> ç”¨æˆ·çš„å¯†ç ï¼Œè¿™é‡Œå‡è®¾å¯†ç æ˜¯ <code>iam59!z$</code>ï¼š</p><div class="highlight"><pre><code class="language-bash"><span class="nb">export</span> <span class="nv">LINUX_PASSWORD</span><span class="o">=</span><span class="s1">'iam59!z </details> 
 <hr /> 
</span></code></pre></div><p data-pid="usMPyWx4">åœ¨é¡¹ç›®å¼€å‘ä¸­ï¼Œåƒå¯†ç ã€å¯†é’¥ Key è¿™ç±»æ•æ„Ÿä¿¡æ¯ï¼Œä¸€èˆ¬ä¸ä¼šç›´æ¥ç¡¬ç¼–ç åœ¨ç³»ç»Ÿä¸­ï¼Œè€Œæ˜¯é€šè¿‡ç¯å¢ƒå˜é‡çš„æ–¹å¼æ¥ä½¿ç”¨ã€‚ç°ç½‘åº”ç”¨çš„é…ç½®æ–‡ä»¶æ˜¯å­˜æ”¾åœ¨ä¸€ä¸ªå®‰å…¨çš„ç½‘ç»œç¯å¢ƒä¸­ï¼Œå¹¶ä¸”æœ‰è®¿é—®æˆæƒæµç¨‹ï¼Œæ¯”è¾ƒå®‰å…¨ï¼Œè¿™ç§é…ç½®æ–‡ä»¶ä¸­æ˜¯å¯ä»¥é…ç½®å¯†ç ç­‰æ•æ„Ÿä¿¡æ¯çš„ã€‚</p><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h2><b>å®‰è£…å’Œé…ç½®æ•°æ®åº“</b></h2><p data-pid="crLxXwKo">å› ä¸º IAM ç³»ç»Ÿç”¨åˆ°äº† MariaDBã€Redisã€MongoDB æ•°æ®åº“æ¥å­˜å‚¨æ•°æ®ï¼Œè€Œ IAM æœåŠ¡åœ¨å¯åŠ¨æ—¶ä¼šå…ˆå°è¯•è¿æ¥è¿™äº›æ•°æ®åº“ï¼Œæ‰€ä»¥ä¸ºäº†é¿å…å¯åŠ¨æ—¶è¿æ¥æ•°æ®åº“å¤±è´¥ï¼Œè¿™é‡Œæˆ‘ä»¬å…ˆæ¥å®‰è£…éœ€è¦çš„æ•°æ®åº“ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>MariaDB </b></h3><p data-pid="dpLzow9B"><b>mysql:</b></p><blockquote data-pid="goBSawd8">IAM ä¼šæŠŠ REST èµ„æºçš„å®šä¹‰ä¿¡æ¯å­˜å‚¨åœ¨å…³ç³»å‹æ•°æ®åº“ä¸­ï¼Œå…³ç³»å‹æ•°æ®åº“æˆ‘é€‰æ‹©äº† MariaDBã€‚ä¸ºå•¥é€‰æ‹© MariaDBï¼Œè€Œä¸æ˜¯ MySQL å‘¢ï¼Ÿã€‚é€‰æ‹© MariaDB ä¸€æ–¹é¢æ˜¯å› ä¸ºå®ƒæ˜¯å‘å±•æœ€å¿«çš„ MySQL åˆ†æ”¯ï¼Œç›¸æ¯” MySQLï¼Œå®ƒåŠ å…¥äº†å¾ˆå¤šæ–°çš„ç‰¹æ€§ï¼Œå¹¶ä¸”å®ƒèƒ½å¤Ÿå®Œå…¨å…¼å®¹ MySQLï¼ŒåŒ…æ‹¬ API å’Œå‘½ä»¤è¡Œã€‚å¦ä¸€æ–¹é¢æ˜¯å› ä¸º MariaDB æ˜¯å¼€æºçš„ï¼Œè€Œä¸”è¿­ä»£é€Ÿåº¦å¾ˆå¿«ã€‚</blockquote><div class="highlight"><pre><code class="language-bash"><span class="nb">cd</span> <span class="nv">$IAM_ROOT</span>
./scripts/install/mariadb.sh iam::mariadb::install</code></pre></div><p class="ztext-empty-paragraph"><br></p><h3><b>Redis</b></h3><p data-pid="gPy1lZBq">åœ¨ IAM ç³»ç»Ÿä¸­ï¼Œç”±äº iam-authz-server æ˜¯ä» iam-apiserver æ‹‰å–å¹¶ç¼“å­˜ç”¨æˆ·çš„å¯†é’¥ / ç­–ç•¥ä¿¡æ¯çš„ï¼Œå› æ­¤åŒä¸€ä»½å¯†é’¥ / ç­–ç•¥æ•°æ®ä¼šåˆ†åˆ«å­˜åœ¨ 2 ä¸ªæœåŠ¡ä¸­ï¼Œè¿™å¯èƒ½ä¼šå‡ºç°æ•°æ®ä¸ä¸€è‡´çš„æƒ…å†µã€‚æ•°æ®ä¸ä¸€è‡´ä¼šå¸¦æ¥ä¸€äº›é—®é¢˜ï¼Œä¾‹å¦‚å½“æˆ‘ä»¬é€šè¿‡ iam-apiserver åˆ›å»ºäº†ä¸€å¯¹å¯†é’¥ï¼Œä½†æ˜¯è¿™å¯¹å¯†é’¥è¿˜æ²¡æœ‰è¢« iam-authz-server ç¼“å­˜ï¼Œè¿™æ—¶å€™é€šè¿‡è¿™å¯¹å¯†é’¥è®¿é—® iam-authz-server å°±ä¼šè®¿é—®å¤±è´¥ã€‚</p><p data-pid="HUb6xayX">ä¸ºäº†ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Redis çš„å‘å¸ƒè®¢é˜… (pub/sub) åŠŸèƒ½è¿›è¡Œæ¶ˆæ¯é€šçŸ¥ã€‚åŒæ—¶ï¼Œiam-authz-server ä¹Ÿä¼šå°†æˆæƒå®¡è®¡æ—¥å¿—ç¼“å­˜åˆ° Redis ä¸­ï¼Œæ‰€ä»¥ä¹Ÿéœ€è¦å®‰è£… Redis key-value æ•°æ®åº“ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ¥å®‰è£…å’Œé…ç½® Redisï¼Œå¹¶å°† Redis çš„åˆå§‹å¯†ç è®¾ç½®ä¸º <code>iam59!z$</code> ï¼š</p><div class="highlight"><pre><code class="language-bash">$ <span class="nb">cd</span> <span class="nv">$IAM_ROOT</span>
$ ./scripts/install/redis.sh iam::redis::install</code></pre></div><p data-pid="oAEsiE_j">è¿™é‡Œæˆ‘ä»¬è¦æ³¨æ„ï¼Œscripts/install/redis.sh è„šæœ¬ä¸­ iam::redis::install å‡½æ•°å¯¹ Redis åšäº†ä¸€äº›é…ç½®ï¼Œä¾‹å¦‚ä¿®æ”¹ Redis ä½¿å…¶ä»¥å®ˆæŠ¤è¿›ç¨‹çš„æ–¹å¼è¿è¡Œã€ä¿®æ”¹ Redis çš„å¯†ç ä¸º <code>iam59!z$</code>ç­‰ï¼Œè¯¦ç»†é…ç½®å¯å‚è€ƒå‡½æ•° <code>iam::redis::install</code> å‡½æ•°ã€‚</p><div class="highlight"><pre><code class="language-bash"> $ redis-cli -h 127.0.0.1 -p <span class="m">6379</span> -a <span class="s1">'iam59!z </details> 
 <hr /> 
</span> <span class="c1"># è¿æ¥ Redisï¼Œ-h æŒ‡å®šä¸»æœºï¼Œ-p æŒ‡å®šç›‘å¬ç«¯å£ï¼Œ-a æŒ‡å®šç™»å½•å¯†ç </span></code></pre></div><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>å®‰è£…å’Œé…ç½® MariaDB</b></h3><ul><li data-pid="6g-B-mt2"><a href="https://github.com/MariaDB/server" target="_blank">å¼€æºçš„ GitHub åœ°å€</a></li></ul><p data-pid="L9Gvidh-">IAM ä¼šæŠŠ REST èµ„æºçš„å®šä¹‰ä¿¡æ¯å­˜å‚¨åœ¨å…³ç³»å‹æ•°æ®åº“ä¸­ï¼Œå…³ç³»å‹æ•°æ®åº“æˆ‘é€‰æ‹©äº† MariaDBã€‚ä¸ºå•¥é€‰æ‹© MariaDBï¼Œè€Œä¸æ˜¯ MySQL å‘¢ï¼Ÿã€‚é€‰æ‹© MariaDB ä¸€æ–¹é¢æ˜¯å› ä¸ºå®ƒæ˜¯å‘å±•æœ€å¿«çš„ MySQL åˆ†æ”¯ï¼Œç›¸æ¯” MySQLï¼Œå®ƒåŠ å…¥äº†å¾ˆå¤šæ–°çš„ç‰¹æ€§ï¼Œå¹¶ä¸”å®ƒèƒ½å¤Ÿå®Œå…¨å…¼å®¹ MySQLï¼ŒåŒ…æ‹¬ API å’Œå‘½ä»¤è¡Œã€‚å¦ä¸€æ–¹é¢æ˜¯å› ä¸º MariaDB æ˜¯å¼€æºçš„ï¼Œè€Œä¸”è¿­ä»£é€Ÿåº¦å¾ˆå¿«ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤å®‰è£…å’Œé…ç½® MariaDBï¼Œå¹¶å°† Root å¯†ç è®¾ç½®ä¸º <code>1234</code>ï¼š</p><blockquote data-pid="dzAAQDZV">MariaDB vs Mysql:<br>MariaDBæ˜¯ä¸€ç§å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œæ˜¯MySQLçš„ä¸€ä¸ªåˆ†æ”¯ã€‚ä¸¤è€…åœ¨æŠ€æœ¯ä¸ŠåŸºæœ¬ç›¸åŒï¼Œä½†MariaDBæœ‰ä¸€äº›é¢å¤–çš„ç‰¹æ€§å’ŒåŠŸèƒ½ã€‚<br>ä¸€ä¸ªæ˜æ˜¾çš„åŒºåˆ«æ˜¯MariaDBæ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œè€ŒMySQLæ˜¯Oracleå…¬å¸æ‹¥æœ‰å’Œç»´æŠ¤ã€‚<br>MariaDBè¿˜æ·»åŠ äº†ä¸€äº›æ–°ç‰¹æ€§ï¼Œå¦‚æ”¯æŒæ›´é«˜ç‰ˆæœ¬çš„SQLæ ‡å‡†å’Œæ›´å¥½çš„æ€§èƒ½ï¼Œè¿˜æœ‰ä¸€äº›å®‰å…¨æ€§å¢å¼ºã€‚<br>ä½†æ˜¯, ä¸€èˆ¬æ¥è¯´ï¼ŒMariaDBå’ŒMySQLçš„æ€§èƒ½ç›¸å½“æ¥è¿‘ï¼Œå› ä¸ºå®ƒä»¬ä½¿ç”¨ç›¸åŒçš„å­˜å‚¨å¼•æ“ã€‚<br>åœ¨ä¸€äº›æƒ…å†µä¸‹ï¼ŒMariaDBå¯èƒ½ä¼šæ›´å¿«ï¼Œå› ä¸ºå®ƒæœ‰ä¸€äº›é¢å¤–çš„ä¼˜åŒ–å’Œç‰¹æ€§ï¼Œä¾‹å¦‚æ›´æ–°çš„SQLè§£æå™¨å’Œæ›´å¿«çš„æŸ¥è¯¢ä¼˜åŒ–å™¨ã€‚<br>å¦å¤–, ä¹Ÿæœ‰ä¸€äº›æµ‹è¯•ç»“æœè¡¨æ˜MariaDBçš„æ€§èƒ½æ¯”MySQLæ›´ä¼˜ç§€ï¼Œä½†æ˜¯è¿™å–å†³äºå…·ä½“çš„åœºæ™¯å’Œä½¿ç”¨æ–¹å¼ã€‚<br>å¯¹äºå¼€å‘äººå‘˜æ¥è¯´ï¼Œä¸¤è€…çš„è¯­æ³•å’ŒAPIå‡ ä¹ç›¸åŒï¼Œæ‰€ä»¥ä»MySQLè¿ç§»åˆ°MariaDBæ˜¯éå¸¸ç®€å•çš„ã€‚<br>æ€»çš„æ¥è¯´ï¼ŒMariaDBæ˜¯MySQLçš„ä¸€ä¸ªå¾ˆå¥½çš„æ›¿ä»£å“ï¼Œå®ƒåœ¨ç»§æ‰¿äº†MySQLçš„ä¼˜ç§€ç‰¹æ€§çš„åŒæ—¶ï¼Œè¿˜æ·»åŠ äº†è®¸å¤šæ–°åŠŸèƒ½ã€‚</blockquote><div class="highlight"><pre><code class="language-bash"><span class="nb">cd</span> <span class="nv">$IAM_ROOT</span><span class="p">;</span> ./scripts/install/mariadb.sh iam::mariadb::install</code></pre></div><p class="ztext-empty-paragraph"><br></p><h3><b>å®‰è£…redis</b></h3><p data-pid="17VKW_D7">åœ¨ IAM ç³»ç»Ÿä¸­ï¼Œç”±äº iam-authz-server æ˜¯ä» iam-apiserver æ‹‰å–å¹¶ç¼“å­˜ç”¨æˆ·çš„å¯†é’¥/ç­–ç•¥ä¿¡æ¯çš„ï¼Œå› æ­¤åŒä¸€ä»½å¯†é’¥/ç­–ç•¥æ•°æ®ä¼šåˆ†åˆ«å­˜åœ¨ 2 ä¸ªæœåŠ¡ä¸­ï¼Œè¿™å¯èƒ½ä¼šå‡ºç°æ•°æ®ä¸ä¸€è‡´çš„æƒ…å†µã€‚æ•°æ®ä¸ä¸€è‡´ä¼šå¸¦æ¥ä¸€äº›é—®é¢˜ï¼Œä¾‹å¦‚å½“æˆ‘ä»¬é€šè¿‡ iam-apiserver åˆ›å»ºäº†ä¸€å¯¹å¯†é’¥ï¼Œä½†æ˜¯è¿™å¯¹å¯†é’¥è¿˜æ²¡æœ‰è¢« iam-authz-server ç¼“å­˜ï¼Œè¿™æ—¶å€™é€šè¿‡è¿™å¯¹å¯†é’¥è®¿é—® iam-authz-server å°±ä¼šè®¿é—®å¤±è´¥ã€‚</p><p data-pid="tsdtFVfn">ä¸ºäº†ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Redis çš„å‘å¸ƒè®¢é˜…(pub/sub)åŠŸèƒ½è¿›è¡Œæ¶ˆæ¯é€šçŸ¥ã€‚åŒæ—¶ï¼Œiam-authz-server ä¹Ÿä¼šå°†æˆæƒå®¡è®¡æ—¥å¿—ç¼“å­˜åˆ° Redis ä¸­ï¼Œæ‰€ä»¥ä¹Ÿéœ€è¦å®‰è£… Redis key-value æ•°æ®åº“ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ¥å®‰è£…å’Œé…ç½® Redisï¼Œå¹¶å°† Redis çš„åˆå§‹å¯†ç è®¾ç½®ä¸º <code>iam59!z$</code> ï¼š</p><div class="highlight"><pre><code class="language-bash"><span class="nb">cd</span> <span class="nv">$IAM_ROOT</span>$ ./scripts/install/redis.sh iam::redis::install</code></pre></div><p data-pid="sAzpu_Sw">è¿™é‡Œæˆ‘ä»¬è¦æ³¨æ„ï¼Œscripts/install/redis.sh è„šæœ¬ä¸­ iam::redis::install å‡½æ•°å¯¹ Redis åšäº†ä¸€äº›é…ç½®ï¼Œä¾‹å¦‚ä¿®æ”¹ Redis ä½¿å…¶ä»¥å®ˆæŠ¤è¿›ç¨‹çš„æ–¹å¼è¿è¡Œã€ä¿®æ”¹ Redis çš„å¯†ç ä¸º <code>iam59!z$</code>ç­‰ï¼Œè¯¦ç»†é…ç½®å¯å‚è€ƒå‡½æ•° <a href="https://github.com/marmotedu/iam/blob/v1.0.0/scripts/install/redis.sh#L20" target="_blank">iam::redis::install</a> å‡½æ•°ã€‚</p><p data-pid="hIq0X0c-">å®‰è£…å®Œæˆåï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤ï¼Œæ¥æµ‹è¯• Redis æ˜¯å¦å®‰è£…æˆåŠŸï¼š</p><div class="highlight"><pre><code class="language-bash">redis-cli -h 127.0.0.1 -p <span class="m">6379</span> -a <span class="s1">'iam59!z </details> 
 <hr /> 
</span> 
<span class="c1"># è¿æ¥ Redisï¼Œ-h æŒ‡å®šä¸»æœºï¼Œ-p æŒ‡å®šç›‘å¬ç«¯å£ï¼Œ-a æŒ‡å®šç™»å½•å¯†ç </span></code></pre></div><p class="ztext-empty-paragraph"><br></p><h3><b>å®‰è£…å’Œé…ç½® MongoDB</b></h3><p data-pid="0ZkQGlaz">å› ä¸º iam-pump ä¼šå°† iam-authz-server äº§ç”Ÿçš„æ•°æ®å¤„ç†åå­˜å‚¨åœ¨ MongoDB ä¸­ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿéœ€è¦å®‰è£… MongoDB æ•°æ®åº“ã€‚ä¸»è¦åˆ†ä¸¤æ­¥å®‰è£…ï¼š</p><ol><li data-pid="zWVDtsdE">é¦–å…ˆå®‰è£… MongoDB</li><li data-pid="omXCW4OM">ç„¶åå†åˆ›å»º MongoDB è´¦å·</li></ol><p class="ztext-empty-paragraph"><br></p><h3><b>ç¬¬ 1 æ­¥ï¼Œå®‰è£… MongoDB</b></h3><p data-pid="xSIHrR5_">é¦–å…ˆï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹ 4 æ­¥æ¥å®‰è£… MongoDBã€‚</p><p data-pid="F-0ZCzwi"><b>é…ç½® MongoDB yum æºï¼Œå¹¶å®‰è£… MongoDBã€‚</b></p><p data-pid="Dw_5sfrK">CentOS8.x ç³»ç»Ÿé»˜è®¤æ²¡æœ‰é…ç½®å®‰è£… MongoDB éœ€è¦çš„ yum æºï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å…ˆé…ç½®å¥½ yum æºå†å®‰è£…ï¼š</p><div class="highlight"><pre><code class="language-bash">$ sudo tee /etc/yum.repos.d/mongodb-org-5.0.repo<span class="s">&lt;&lt;'EOF'
</span><span class="s">[mongodb-org-5.0]
</span><span class="s">name=MongoDB Repository
</span><span class="s">baseurl=https://repo.mongodb.org/yum/redhat/$releasever/mongodb-org/5.0/x86_64/
</span><span class="s">gpgcheck=1
</span><span class="s">enabled=1
</span><span class="s">gpgkey=https://www.mongodb.org/static/pgp/server-5.0.asc
</span><span class="s">EOF</span>
 
$ sudo yum install -y mongodb-org</code></pre></div><p data-pid="mbFH4Fvn"><b>å…³é—­ SELinux</b>ã€‚</p><p data-pid="Q5Z2hfp3">åœ¨å®‰è£…çš„è¿‡ç¨‹ä¸­ï¼ŒSELinux æœ‰å¯èƒ½ä¼šé˜»æ­¢ MongoDB è®¿é—® <code>/sys/fs/cgroup</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜éœ€è¦å…³é—­ SELinuxï¼š</p><blockquote data-pid="4oiwPDm1">SELinux(Security-Enhanced Linux æˆ– Security-Enhanced Linux)æ˜¯ä¸€ç§å®‰å…¨æ§åˆ¶æœºåˆ¶ï¼Œç”±NSAå…¬å¸å¼€å‘ï¼Œå¯ä»¥åœ¨Linuxç³»ç»Ÿä¸Šæä¾›æ›´å¼ºå¤§çš„å®‰å…¨æ€§ã€‚å®ƒä½¿ç”¨æ ‡ç­¾æ¥åŒºåˆ†æ“ä½œç³»ç»Ÿä¸Šçš„æ–‡ä»¶å’Œç›®å½•ï¼Œå¹¶ä¸”å¯ä»¥åœ¨ç³»ç»Ÿä¸Šå®æ–½ç‰¹å®šçš„å®‰å…¨ç­–ç•¥ï¼Œä»¥ç¡®ä¿ç³»ç»Ÿçš„å®‰å…¨ã€‚</blockquote><div class="highlight"><pre><code class="language-bash">$ sudo setenforce <span class="m">0</span>
$ sudo sed -i <span class="s1">'s/^SELINUX=.*$/SELINUX=disabled/'</span> /etc/selinux/config <span class="c1"># æ°¸ä¹…å…³é—­ SELINUX</span></code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="DjQ3h8q3"><b>å¼€å¯å¤–ç½‘è®¿é—®æƒé™å’Œç™»å½•éªŒè¯</b>ã€‚</p><p data-pid="4GLCHUPe">MongoDB å®‰è£…å®Œä¹‹åï¼Œé»˜è®¤æƒ…å†µä¸‹æ˜¯ä¸ä¼šå¼€å¯å¤–ç½‘è®¿é—®æƒé™å’Œç™»å½•éªŒè¯ï¼Œä¸ºäº†æ–¹ä¾¿ä½¿ç”¨ï¼Œæˆ‘å»ºè®®ä½ å…ˆå¼€å¯è¿™äº›åŠŸèƒ½ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å¼€å¯ï¼š</p><div class="highlight"><pre><code class="language-bash">$ sudo sed -i <span class="s1">'/bindIp/{s/127.0.0.1/0.0.0.0/}'</span> /etc/mongod.conf
$ sudo sed -i <span class="s1">'/^#security/a\security:\n  authorization: enabled'</span> /etc/mongod.conf</code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="odog-dpx"><b>å¯åŠ¨ MongoDBã€‚</b></p><p data-pid="QgAI6F47">é…ç½®å®Œ MongoDB ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥å¯åŠ¨å®ƒäº†ï¼Œå…·ä½“çš„å‘½ä»¤å¦‚ä¸‹ï¼š</p><div class="highlight"><pre><code class="language-bash">$ sudo systemctl start mongod
$ sudo systemctl <span class="nb">enable</span> mongod <span class="c1"># è®¾ç½®å¼€æœºå¯åŠ¨</span>
$ sudo systemctl status mongod <span class="c1"># æŸ¥çœ‹ mongod è¿è¡ŒçŠ¶æ€ï¼Œå¦‚æœè¾“å‡ºä¸­åŒ…å« active (running)å­—æ ·è¯´æ˜ mongod æˆåŠŸå¯åŠ¨</span></code></pre></div><p data-pid="CGA-FS4l">å®‰è£…å®Œ MongoDB åï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ <code>mongo</code> å‘½ä»¤ç™»å½• MongoDB Shellã€‚å¦‚æœæ²¡æœ‰æŠ¥é”™ï¼Œå°±è¯´æ˜ MongoDB è¢«æˆåŠŸå®‰è£…äº†ã€‚</p><div class="highlight"><pre><code class="language-bash">mongosh --quiet <span class="s2">"mongodb://127.0.0.1:27017&amp;quot</span></code></pre></div><p class="ztext-empty-paragraph"><br></p><h3><b>ç¬¬ 2 æ­¥ï¼Œåˆ›å»º MongoDB è´¦å·</b></h3><p data-pid="Wx9inVlM">å®‰è£…å®Œ MongoDB ä¹‹åï¼Œé»˜è®¤æ˜¯æ²¡æœ‰ç”¨æˆ·è´¦å·çš„ï¼Œä¸ºäº†æ–¹ä¾¿ IAM æœåŠ¡ä½¿ç”¨ï¼Œæˆ‘ä»¬éœ€è¦å…ˆåˆ›å»ºå¥½ç®¡ç†å‘˜è´¦å·ï¼Œé€šè¿‡ç®¡ç†å‘˜è´¦æˆ·ç™»å½• MongoDBï¼Œæˆ‘ä»¬å¯ä»¥æ‰§è¡Œåˆ›å»ºæ™®é€šç”¨æˆ·ã€æ•°æ®åº“ç­‰æ“ä½œã€‚</p><p data-pid="0GD6_uLe"><b>åˆ›å»ºç®¡ç†å‘˜è´¦æˆ·</b>ã€‚</p><p data-pid="ZUuqtvnk">é¦–å…ˆï¼Œæˆ‘ä»¬é€šè¿‡ <code>use admin</code> æŒ‡ä»¤åˆ‡æ¢åˆ° admin æ•°æ®åº“ï¼Œå†é€šè¿‡ <code>db.auth("ç”¨æˆ·å"ï¼Œ"ç”¨æˆ·å¯†ç ")</code> éªŒè¯ç”¨æˆ·ç™»å½•æƒé™ã€‚å¦‚æœè¿”å› 1 è¡¨ç¤ºéªŒè¯æˆåŠŸï¼›å¦‚æœè¿”å› 0 è¡¨ç¤ºéªŒè¯å¤±è´¥ã€‚å…·ä½“çš„å‘½ä»¤å¦‚ä¸‹ï¼š</p><div class="highlight"><pre><code class="language-text">$ mongosh --quiet "mongodb://127.0.0.1:27017"
test&gt; use admin 
switched to db admin
admin&gt; db.createUser({user:"root",pwd:"iam59!z$",roles:["root"]})
{ ok: 1 }
admin&gt; db.auth("root", "iam59!z$")
{ ok: 1 }</code></pre></div><p data-pid="IJrrLWrl">æ­¤å¤–ï¼Œå¦‚æœæƒ³åˆ é™¤ç”¨æˆ·ï¼Œå¯ä»¥ä½¿ç”¨ <code>db.dropUser("ç”¨æˆ·å")</code> å‘½ä»¤ã€‚</p><p data-pid="Mmn3otFx"><code>db.createUser</code> ç”¨åˆ°äº†ä»¥ä¸‹ 3 ä¸ªå‚æ•°ã€‚</p><ul><li data-pid="aPEHHCp4">user: ç”¨æˆ·åã€‚</li><li data-pid="eqS3HJ1M">pwd: ç”¨æˆ·å¯†ç ã€‚</li><li data-pid="lW-uegqM">roles: ç”¨æ¥è®¾ç½®ç”¨æˆ·çš„æƒé™ï¼Œæ¯”å¦‚è¯»ã€è¯»å†™ã€å†™ç­‰ã€‚</li></ul><p data-pid="gRoKxcCq">å› ä¸º admin ç”¨æˆ·å…·æœ‰ MongoDB çš„ Root æƒé™ï¼Œæƒé™è¿‡å¤§å®‰å…¨æ€§ä¼šé™ä½ã€‚ä¸ºäº†æé«˜å®‰å…¨æ€§ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åˆ›å»ºä¸€ä¸ª iam æ™®é€šç”¨æˆ·æ¥è¿æ¥å’Œæ“ä½œ MongoDBã€‚</p><ol><li data-pid="JS_srxFt">åˆ›å»º iam ç”¨æˆ·ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</li></ol><div class="highlight"><pre><code class="language-bash">$ mongosh --quiet mongodb://root:<span class="s1">'iam59!z </details> 
 <hr /> 
</span>@127.0.0.1:27017/iam_analytics?authSource<span class="o">=</span>admin <span class="c1"># ç”¨ç®¡ç†å‘˜è´¦æˆ·è¿æ¥ MongoDB</span>
iam_analytics&gt; db.createUser<span class="o">({</span>user:<span class="s2">"iam"</span>,pwd:<span class="s2">"iam59!z</span>$<span class="s2">"</span>,roles:<span class="o">[</span><span class="s2">"dbOwner"</span><span class="o">]})</span>
<span class="o">{</span> ok: <span class="m">1</span> <span class="o">}</span>
iam_analytics&gt; db.auth<span class="o">(</span><span class="s2">"iam"</span>, <span class="s2">"iam59!z</span>$<span class="s2">"</span><span class="o">)</span>
<span class="o">{</span> ok: <span class="m">1</span> <span class="o">}</span></code></pre></div><p data-pid="pAEp7pYO">åˆ›å»ºå®Œ iam æ™®é€šç”¨æˆ·åï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ iam ç”¨æˆ·ç™»å½• MongoDB äº†ï¼š</p><div class="highlight"><pre><code class="language-bash">$ mongosh --quiet mongodb://iam:<span class="s1">'iam59!z </details> 
 <hr /> 
</span>@127.0.0.1:27017/iam_analytics?authSource<span class="o">=</span>iam_analytics</code></pre></div><p data-pid="ILf0DdTH">è‡³æ­¤ï¼Œæˆ‘ä»¬æˆåŠŸå®‰è£…äº† IAM ç³»ç»Ÿéœ€è¦çš„æ•°æ®åº“ MariaDBã€Redis å’Œ MongoDBã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>å®‰è£…å’Œé…ç½® IAM ç³»ç»Ÿ</b></h3><p data-pid="6xOn7iJ0">è¦æƒ³å®Œæˆ IAM ç³»ç»Ÿçš„å®‰è£…ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å®‰è£…å’Œé…ç½® iam-apiserverã€iam-authz-serverã€iam-pump å’Œ iamctlã€‚è¿™äº›ç»„ä»¶çš„åŠŸèƒ½æˆ‘ä»¬åœ¨<a href="https://time.geekbang.org/column/article/377998" target="_blank">ç¬¬1è®²</a>è¯¦ç»†è®²è¿‡ï¼Œå¦‚æœä¸è®°å¾—ä½ å¯ä»¥ç¿»å›å»çœ‹çœ‹ã€‚</p><blockquote data-pid="JFXSZzuw">æç¤ºï¼šIAM é¡¹ç›®æˆ‘ä¼šé•¿æœŸç»´æŠ¤ã€å®šæœŸæ›´æ–°ï¼Œæ¬¢è¿ä½  Star &amp; Contributingã€‚</blockquote><p class="ztext-empty-paragraph"><br></p><p data-pid="xNNxTxMQ"><b>å‡†å¤‡å·¥ä½œï¼š</b></p><p data-pid="2BCXGr9B">åœ¨å¼€å§‹å®‰è£…ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆåšä¸€äº›å‡†å¤‡å·¥ä½œï¼Œä¸»è¦æœ‰ 5 æ­¥ã€‚</p><ol><li data-pid="HTe2X0o3">åˆå§‹åŒ– MariaDB æ•°æ®åº“ï¼Œåˆ›å»º iam æ•°æ®åº“ã€‚</li><li data-pid="PBi7pJWY">é…ç½® scripts/install/environment.shã€‚</li><li data-pid="SSxCuVXO">åˆ›å»ºéœ€è¦çš„ç›®å½•ã€‚</li><li data-pid="6P_momaD">åˆ›å»º CA æ ¹è¯ä¹¦å’Œå¯†é’¥ã€‚</li><li data-pid="WthteERz">é…ç½® hostsã€‚</li></ol><p class="ztext-empty-paragraph"><br></p><h3><b>ç¬¬ 1 æ­¥ï¼Œåˆå§‹åŒ– MariaDB æ•°æ®åº“ï¼Œåˆ›å»º iam æ•°æ®åº“ã€‚</b></h3><p data-pid="SdWdak6k">å®‰è£…å®Œ MariaDB æ•°æ®åº“ä¹‹åï¼Œæˆ‘ä»¬éœ€è¦åœ¨ MariaDB æ•°æ®åº“ä¸­åˆ›å»º IAM ç³»ç»Ÿéœ€è¦çš„æ•°æ®åº“ã€è¡¨å’Œå­˜å‚¨è¿‡ç¨‹ï¼Œä»¥åŠåˆ›å»º SQL è¯­å¥ä¿å­˜åœ¨ IAM ä»£ç ä»“åº“ä¸­çš„ <code>configs/iam.sql</code> æ–‡ä»¶ä¸­ã€‚å…·ä½“çš„åˆ›å»ºæ­¥éª¤å¦‚ä¸‹ã€‚</p><p data-pid="XVGUf5bl"><b>ç™»å½•æ•°æ®åº“å¹¶åˆ›å»º iam ç”¨æˆ·ã€‚</b></p><div class="highlight"><pre><code class="language-bash">$ <span class="nb">cd</span> <span class="nv">$IAM_ROOT</span>
$ mysql -h127.0.0.1 -P3306 -uroot -p<span class="s1">'iam59!z </details> 
 <hr /> 
</span> <span class="c1"># è¿æ¥ MariaDBï¼Œ-h æŒ‡å®šä¸»æœºï¼Œ-P æŒ‡å®šç›‘å¬ç«¯å£ï¼Œ-u æŒ‡å®šç™»å½•ç”¨æˆ·ï¼Œ-p æŒ‡å®šç™»å½•å¯†ç </span>
MariaDB <span class="o">[(</span>none<span class="o">)]</span>&gt; grant all on iam.* TO iam@127.0.0.1 identified by <span class="s1">'iam59!z </details> 
 <hr /> 
</span><span class="p">;</span>
Query OK, <span class="m">0</span> rows affected <span class="o">(</span>0.000 sec<span class="o">)</span>
MariaDB <span class="o">[(</span>none<span class="o">)]</span>&gt; flush privileges<span class="p">;</span>
Query OK, <span class="m">0</span> rows affected <span class="o">(</span>0.000 sec<span class="o">)</span></code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="Lv94AfCK"><b>ç”¨ iam ç”¨æˆ·ç™»å½• MariaDBï¼Œæ‰§è¡Œ iam.sql æ–‡ä»¶ï¼Œåˆ›å»º iam æ•°æ®åº“ã€‚</b></p><div class="highlight"><pre><code class="language-bash">$ mysql -h127.0.0.1 -P3306 -uiam -p<span class="s1">'iam59!z </details> 
 <hr /> 
</span>
MariaDB <span class="o">[(</span>none<span class="o">)]</span>&gt; <span class="nb">source</span> configs/iam.sql<span class="p">;</span>
MariaDB <span class="o">[</span>iam<span class="o">]</span>&gt; show databases<span class="p">;</span>
+--------------------+
<span class="p">|</span> Database           <span class="p">|</span>
+--------------------+
<span class="p">|</span> iam                <span class="p">|</span>
<span class="p">|</span> information_schema <span class="p">|</span>
+--------------------+
<span class="m">2</span> rows in <span class="nb">set</span> <span class="o">(</span>0.000 sec<span class="o">)</span></code></pre></div><p data-pid="CMtI_BkG">ä¸Šé¢çš„å‘½ä»¤ä¼šåˆ›å»º iam æ•°æ®åº“ï¼Œå¹¶åˆ›å»ºä»¥ä¸‹æ•°æ®åº“èµ„æºã€‚</p><ul><li data-pid="sZ-gJ6mc">è¡¨ï¼š<br></li><ul><li data-pid="NNdnu_M0">user æ˜¯ç”¨æˆ·è¡¨ï¼Œç”¨æ¥å­˜æ”¾ç”¨æˆ·ä¿¡æ¯ï¼›</li><li data-pid="8y7esrj7">secret æ˜¯å¯†é’¥è¡¨ï¼Œç”¨æ¥å­˜æ”¾å¯†é’¥ä¿¡æ¯ï¼›</li><li data-pid="2-acPlrY">policy æ˜¯ç­–ç•¥è¡¨ï¼Œç”¨æ¥å­˜æ”¾æˆæƒç­–ç•¥ä¿¡æ¯ï¼›</li><li data-pid="oZJzqyYK">policy_audit æ˜¯ç­–ç•¥å†å²è¡¨ï¼Œè¢«åˆ é™¤çš„ç­–ç•¥ä¼šè¢«è½¬å­˜åˆ°è¯¥è¡¨ã€‚</li></ul></ul><p class="ztext-empty-paragraph"><br></p><ul><li data-pid="fcRacMTJ">admin ç”¨æˆ·ï¼šåœ¨ user è¡¨ä¸­ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªç®¡ç†å‘˜ç”¨æˆ·ï¼Œç”¨æˆ·åæ˜¯ adminï¼Œå¯†ç æ˜¯ <code>Admin@2021</code>ã€‚</li><li data-pid="w8gp7NhL">å­˜å‚¨è¿‡ç¨‹ï¼šåˆ é™¤ç”¨æˆ·æ—¶ä¼šè‡ªåŠ¨åˆ é™¤è¯¥ç”¨æˆ·æ‰€å±çš„å¯†é’¥å’Œç­–ç•¥ä¿¡æ¯ã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><h3><b>ç¬¬ 2 æ­¥ï¼Œé…ç½® scripts/install/environment.shã€‚</b></h3><p data-pid="Ox8ETL0f">IAM ç»„ä»¶çš„å®‰è£…é…ç½®éƒ½æ˜¯é€šè¿‡ç¯å¢ƒå˜é‡æ–‡ä»¶ <a href="https://zhuanlan.zhihu.com/p/606959150/scripts/install/environment.sh">scripts/install/environment.sh</a> è¿›è¡Œé…ç½®çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦å…ˆé…ç½®å¥½ scripts/install/environment.sh æ–‡ä»¶ã€‚è¿™é‡Œï¼Œä½ å¯ä»¥ç›´æ¥ä½¿ç”¨é»˜è®¤å€¼ï¼Œæé«˜ä½ çš„å®‰è£…æ•ˆç‡ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>ç¬¬ 3 æ­¥ï¼Œåˆ›å»ºéœ€è¦çš„ç›®å½•ã€‚</b></h3><p data-pid="vk4Y5KBS">åœ¨å®‰è£…å’Œè¿è¡Œ IAM ç³»ç»Ÿçš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦å°†é…ç½®ã€äºŒè¿›åˆ¶æ–‡ä»¶å’Œæ•°æ®æ–‡ä»¶å­˜æ”¾åˆ°æŒ‡å®šçš„ç›®å½•ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦å…ˆåˆ›å»ºå¥½è¿™äº›ç›®å½•ï¼Œåˆ›å»ºæ­¥éª¤å¦‚ä¸‹ã€‚</p><div class="highlight"><pre><code class="language-bash"> $ <span class="nb">cd</span> <span class="nv">$IAM_ROOT</span>
 $ <span class="nb">source</span> scripts/install/environment.sh
 $ sudo mkdir -p <span class="si">${</span><span class="nv">IAM_DATA_DIR</span><span class="si">}</span>/<span class="o">{</span>iam-apiserver,iam-authz-server,iam-pump<span class="o">}</span> <span class="c1"># åˆ›å»º Systemd WorkingDirectory ç›®å½•</span>
 $ sudo mkdir -p <span class="si">${</span><span class="nv">IAM_INSTALL_DIR</span><span class="si">}</span>/bin <span class="c1">#åˆ›å»º IAM ç³»ç»Ÿå®‰è£…ç›®å½•</span>
 $ sudo mkdir -p <span class="si">${</span><span class="nv">IAM_CONFIG_DIR</span><span class="si">}</span>/cert <span class="c1"># åˆ›å»º IAM ç³»ç»Ÿé…ç½®æ–‡ä»¶å­˜æ”¾ç›®å½•</span>
 $ sudo mkdir -p <span class="si">${</span><span class="nv">IAM_LOG_DIR</span><span class="si">}</span> <span class="c1"># åˆ›å»º IAM æ—¥å¿—æ–‡ä»¶å­˜æ”¾ç›®å½•</span></code></pre></div><p class="ztext-empty-paragraph"><br></p><h3><b>ç¬¬ 4 æ­¥ï¼Œ åˆ›å»º CA æ ¹è¯ä¹¦å’Œå¯†é’¥ã€‚</b></h3><p data-pid="oMz3lytt">ä¸ºäº†ç¡®ä¿å®‰å…¨ï¼ŒIAM ç³»ç»Ÿå„ç»„ä»¶éœ€è¦ä½¿ç”¨ x509 è¯ä¹¦å¯¹é€šä¿¡è¿›è¡ŒåŠ å¯†å’Œè®¤è¯ã€‚æ‰€ä»¥ï¼Œè¿™é‡Œæˆ‘ä»¬éœ€è¦å…ˆåˆ›å»º CA è¯ä¹¦ã€‚CA æ ¹è¯ä¹¦æ˜¯æ‰€æœ‰ç»„ä»¶å…±äº«çš„ï¼Œåªéœ€è¦åˆ›å»ºä¸€ä¸ª CA è¯ä¹¦ï¼Œåç»­åˆ›å»ºçš„æ‰€æœ‰è¯ä¹¦éƒ½ç”±å®ƒç­¾åã€‚</p><p data-pid="LyxNXXOQ">æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ CloudFlare çš„ PKI å·¥å…·é›† cfssl æ¥åˆ›å»ºæ‰€æœ‰çš„è¯ä¹¦ã€‚</p><p data-pid="gWHYWGIK"><b>å®‰è£… cfssl å·¥å…·é›†ã€‚</b></p><p data-pid="EzCJFKCT">æˆ‘ä»¬å¯ä»¥ç›´æ¥å®‰è£… cfssl å·²ç»ç¼–è¯‘å¥½çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œcfssl å·¥å…·é›†ä¸­åŒ…å«å¾ˆå¤šå·¥å…·ï¼Œè¿™é‡Œæˆ‘ä»¬éœ€è¦å®‰è£… cfsslã€cfssljsonã€cfssl-certinfoï¼ŒåŠŸèƒ½å¦‚ä¸‹ã€‚</p><ol><li data-pid="h51rCkXk">cfsslï¼šè¯ä¹¦ç­¾å‘å·¥å…·ã€‚</li><li data-pid="u2v1tmdE">cfssljsonï¼šå°† cfssl ç”Ÿæˆçš„è¯ä¹¦ï¼ˆjson æ ¼å¼ï¼‰å˜ä¸ºæ–‡ä»¶æ‰¿è½½å¼è¯ä¹¦ã€‚</li></ol><p data-pid="80kGlhOz">è¿™ä¸¤ä¸ªå·¥å…·çš„å®‰è£…æ–¹æ³•å¦‚ä¸‹ï¼š</p><div class="highlight"><pre><code class="language-bash">$ <span class="nb">cd</span> <span class="nv">$IAM_ROOT</span>
$ ./scripts/install/install.sh iam::install::install_cfssl</code></pre></div><p data-pid="zuRnA6re"><b>åˆ›å»ºé…ç½®æ–‡ä»¶ã€‚</b></p><p data-pid="-J9x1n81">CA é…ç½®æ–‡ä»¶æ˜¯ç”¨æ¥é…ç½®æ ¹è¯ä¹¦çš„ä½¿ç”¨åœºæ™¯ (profile) å’Œå…·ä½“å‚æ•° (usageã€è¿‡æœŸæ—¶é—´ã€æœåŠ¡ç«¯è®¤è¯ã€å®¢æˆ·ç«¯è®¤è¯ã€åŠ å¯†ç­‰)ï¼Œå¯ä»¥åœ¨ç­¾åå…¶å®ƒè¯ä¹¦æ—¶ç”¨æ¥æŒ‡å®šç‰¹å®šåœºæ™¯ï¼š</p><div class="highlight"><pre><code class="language-bash">$ <span class="nb">cd</span> <span class="nv">$IAM_ROOT</span>
$ tee ca-config.json <span class="s">&lt;&lt; EOF
</span><span class="s">{
</span><span class="s">  "signing": {
</span><span class="s">    "default": {
</span><span class="s">      "expiry": "87600h"
</span><span class="s">    },
</span><span class="s">    "profiles": {
</span><span class="s">      "iam": {
</span><span class="s">        "usages": [
</span><span class="s">          "signing",
</span><span class="s">          "key encipherment",
</span><span class="s">          "server auth",
</span><span class="s">          "client auth"
</span><span class="s">        ],
</span><span class="s">        "expiry": "876000h"
</span><span class="s">      }
</span><span class="s">    }
</span><span class="s">  }
</span><span class="s">}
</span><span class="s">EOF</span></code></pre></div><p data-pid="zmNsXePi">ä¸Šé¢çš„ JSON é…ç½®ä¸­ï¼Œæœ‰ä¸€äº›å­—æ®µè§£é‡Šå¦‚ä¸‹ã€‚</p><ul><li data-pid="0WY06b4L">signingï¼šè¡¨ç¤ºè¯¥è¯ä¹¦å¯ç”¨äºç­¾åå…¶å®ƒè¯ä¹¦ï¼ˆç”Ÿæˆçš„ ca.pem è¯ä¹¦ä¸­ CA=TRUEï¼‰ã€‚</li><li data-pid="fdUZXWx1">server authï¼šè¡¨ç¤º client å¯ä»¥ç”¨è¯¥è¯ä¹¦å¯¹ server æä¾›çš„è¯ä¹¦è¿›è¡ŒéªŒè¯ã€‚</li><li data-pid="uIozGHyQ">client authï¼šè¡¨ç¤º server å¯ä»¥ç”¨è¯¥è¯ä¹¦å¯¹ client æä¾›çš„è¯ä¹¦è¿›è¡ŒéªŒè¯ã€‚</li><li data-pid="9o4vYxii">expiryï¼š876000hï¼Œè¯ä¹¦æœ‰æ•ˆæœŸè®¾ç½®ä¸º 100 å¹´ã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><p data-pid="1L-FCoPe"><b>åˆ›å»ºè¯ä¹¦ç­¾åè¯·æ±‚æ–‡ä»¶ã€‚</b></p><p data-pid="OerbHhHv">æˆ‘ä»¬åˆ›å»ºç”¨æ¥ç”Ÿæˆ CA è¯ä¹¦ç­¾åè¯·æ±‚ï¼ˆCSRï¼‰çš„ JSON é…ç½®æ–‡ä»¶ï¼š</p><div class="highlight"><pre><code class="language-bash">$ <span class="nb">cd</span> <span class="nv">$IAM_ROOT</span>
$ tee ca-csr.json <span class="s">&lt;&lt; EOF
</span><span class="s">{
</span><span class="s">  "CN": "iam-ca",
</span><span class="s">  "key": {
</span><span class="s">    "algo": "rsa",
</span><span class="s">    "size": 2048
</span><span class="s">  },
</span><span class="s">  "names": [
</span><span class="s">    {
</span><span class="s">      "C": "CN",
</span><span class="s">      "ST": "BeiJing",
</span><span class="s">      "L": "BeiJing",
</span><span class="s">      "O": "marmotedu",
</span><span class="s">      "OU": "iam"
</span><span class="s">    }
</span><span class="s">  ],
</span><span class="s">  "ca": {
</span><span class="s">    "expiry": "876000h"
</span><span class="s">  }
</span><span class="s">}
</span><span class="s">EOF</span></code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="SqOftFmN"><b>ä¸Šé¢çš„ JSON é…ç½®ä¸­ï¼Œæœ‰ä¸€äº›å­—æ®µè§£é‡Šå¦‚ä¸‹ã€‚</b></p><ul><li data-pid="wCe2hZPD">Cï¼šCountryï¼Œå›½å®¶ã€‚</li><li data-pid="_E2b_m4T">STï¼šStateï¼Œçœä»½ã€‚</li><li data-pid="sQ9Vnejh">Lï¼šLocality (L) or Cityï¼ŒåŸå¸‚ã€‚</li><li data-pid="xYBckvBB">CNï¼šCommon Nameï¼Œiam-apiserver ä»è¯ä¹¦ä¸­æå–è¯¥å­—æ®µä½œä¸ºè¯·æ±‚çš„ç”¨æˆ·å (User Name) ï¼Œæµè§ˆå™¨ä½¿ç”¨è¯¥å­—æ®µéªŒè¯ç½‘ç«™æ˜¯å¦åˆæ³•ã€‚</li><li data-pid="-6mGpoVi">Oï¼šOrganizationï¼Œiam-apiserver ä»è¯ä¹¦ä¸­æå–è¯¥å­—æ®µä½œä¸ºè¯·æ±‚ç”¨æˆ·æ‰€å±çš„ç»„ (Group)ã€‚</li><li data-pid="HQysH_CC">OUï¼šCompany division (or Organization Unit â€“ OU)ï¼Œéƒ¨é—¨ / å•ä½ã€‚</li></ul><p data-pid="LeaZ5IUt">é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸¤ç‚¹éœ€è¦æˆ‘ä»¬æ³¨æ„ã€‚</p><ul><li data-pid="5lJYEMY4">ä¸åŒè¯ä¹¦ csr æ–‡ä»¶çš„ CNã€Cã€STã€Lã€Oã€OU ç»„åˆå¿…é¡»ä¸åŒï¼Œå¦åˆ™å¯èƒ½å‡ºç° PEER'S CERTIFICATE HAS AN INVALID SIGNATURE é”™è¯¯ã€‚</li><li data-pid="Rh99WBkH">åç»­åˆ›å»ºè¯ä¹¦çš„ csr æ–‡ä»¶æ—¶ï¼ŒCNã€OU éƒ½ä¸ç›¸åŒï¼ˆCã€STã€Lã€O ç›¸åŒï¼‰ï¼Œä»¥è¾¾åˆ°åŒºåˆ†çš„ç›®çš„ã€‚</li><li data-pid="JSjoDFue">åˆ›å»º CA è¯ä¹¦å’Œç§é’¥</li></ul><p data-pid="Uqb7_J0z">é¦–å…ˆï¼Œæˆ‘ä»¬é€šè¿‡ cfssl gencert å‘½ä»¤æ¥åˆ›å»ºï¼š</p><div class="highlight"><pre><code class="language-bash">$ <span class="nb">cd</span> <span class="nv">$IAM_ROOT</span>
$ <span class="nb">source</span> scripts/install/environment.sh
$ cfssl gencert -initca ca-csr.json <span class="p">|</span> cfssljson -bare ca
$ ls ca*
ca-config.json  ca.csr  ca-csr.json  ca-key.pem  ca.pem
$ sudo mv ca* <span class="si">${</span><span class="nv">IAM_CONFIG_DIR</span><span class="si">}</span>/cert <span class="c1"># éœ€è¦å°†è¯ä¹¦æ–‡ä»¶æ‹·è´åˆ°æŒ‡å®šæ–‡ä»¶å¤¹ä¸‹ï¼ˆåˆ†å‘è¯ä¹¦ï¼‰ï¼Œæ–¹ä¾¿å„ç»„ä»¶å¼•ç”¨</span></code></pre></div><p data-pid="IDaP43O5">ä¸Šè¿°å‘½ä»¤ä¼šåˆ›å»ºè¿è¡Œ CA æ‰€å¿…éœ€çš„æ–‡ä»¶ ca-key.pemï¼ˆç§é’¥ï¼‰å’Œ ca.pemï¼ˆè¯ä¹¦ï¼‰ï¼Œè¿˜ä¼šç”Ÿæˆ ca.csrï¼ˆè¯ä¹¦ç­¾åè¯·æ±‚ï¼‰ï¼Œç”¨äºäº¤å‰ç­¾åæˆ–é‡æ–°ç­¾åã€‚</p><p data-pid="KnKykx3D">åˆ›å»ºå®Œä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ cfssl certinfo å‘½åæŸ¥çœ‹ cert å’Œ csr ä¿¡æ¯ï¼š</p><div class="highlight"><pre><code class="language-bash">$ cfssl certinfo -cert <span class="si">${</span><span class="nv">IAM_CONFIG_DIR</span><span class="si">}</span>/cert/ca.pem <span class="c1"># æŸ¥çœ‹ cert(è¯ä¹¦ä¿¡æ¯)</span>
$ cfssl certinfo -csr <span class="si">${</span><span class="nv">IAM_CONFIG_DIR</span><span class="si">}</span>/cert/ca.csr <span class="c1"># æŸ¥çœ‹ CSR(è¯ä¹¦ç­¾åè¯·æ±‚)ä¿¡æ¯</span></code></pre></div><p class="ztext-empty-paragraph"><br></p><h3><b>ç¬¬ 5 æ­¥ï¼Œé…ç½® hostsã€‚</b></h3><p data-pid="SQoaOcDJ">iam é€šè¿‡åŸŸåè®¿é—® API æ¥å£ï¼Œå› ä¸ºè¿™äº›åŸŸåæ²¡æœ‰æ³¨å†Œè¿‡ï¼Œè¿˜ä¸èƒ½åœ¨äº’è”ç½‘ä¸Šè§£æï¼Œæ‰€ä»¥éœ€è¦é…ç½® hostsï¼Œå…·ä½“çš„æ“ä½œå¦‚ä¸‹ï¼š</p><div class="highlight"><pre><code class="language-bash">$ sudo tee -a /etc/hosts <span class="s">&lt;&lt;EOF
</span><span class="s">127.0.0.1 iam.api.marmotedu.com
</span><span class="s">127.0.0.1 iam.authz.marmotedu.com
</span><span class="s">EOF</span></code></pre></div><p class="ztext-empty-paragraph"><br></p><h3><b>å®‰è£…å’Œé…ç½® iam-apiserver</b></h3><p data-pid="3zqJ1_G9">å®Œæˆäº†å‡†å¤‡å·¥ä½œä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥å®‰è£… IAM ç³»ç»Ÿçš„å„ä¸ªç»„ä»¶äº†ã€‚é¦–å…ˆæˆ‘ä»¬é€šè¿‡ä»¥ä¸‹ 3 æ­¥æ¥å®‰è£… iam-apiserver æœåŠ¡ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>ç¬¬ 1 æ­¥ï¼Œåˆ›å»º iam-apiserver è¯ä¹¦å’Œç§é’¥ã€‚</b></h3><p data-pid="zvsD34TX">å…¶å®ƒæœåŠ¡ä¸ºäº†å®‰å…¨éƒ½æ˜¯é€šè¿‡ HTTPS åè®®è®¿é—® iam-apiserverï¼Œæ‰€ä»¥æˆ‘ä»¬è¦å…ˆåˆ›å»º iam-apiserver è¯ä¹¦å’Œç§é’¥ã€‚</p><p data-pid="UBzixlPs"><b>åˆ›å»ºè¯ä¹¦ç­¾åè¯·æ±‚</b>ï¼š</p><div class="highlight"><pre><code class="language-bash">$ <span class="nb">cd</span> <span class="nv">$IAM_ROOT</span>
$ <span class="nb">source</span> scripts/install/environment.sh
$ tee iam-apiserver-csr.json <span class="s">&lt;&lt;EOF
</span><span class="s">{
</span><span class="s">  "CN": "iam-apiserver",
</span><span class="s">  "key": {
</span><span class="s">    "algo": "rsa",
</span><span class="s">    "size": 2048
</span><span class="s">  },
</span><span class="s">  "names": [
</span><span class="s">    {
</span><span class="s">      "C": "CN",
</span><span class="s">      "ST": "BeiJing",
</span><span class="s">      "L": "BeiJing",
</span><span class="s">      "O": "marmotedu",
</span><span class="s">      "OU": "iam-apiserver"
</span><span class="s">    }
</span><span class="s">  ],
</span><span class="s">  "hosts": [
</span><span class="s">    "127.0.0.1",
</span><span class="s">    "localhost",
</span><span class="s">    "iam.api.marmotedu.com"
</span><span class="s">  ]
</span><span class="s">}
</span><span class="s">EOF</span></code></pre></div><p data-pid="tVj3tTVE">ä»£ç ä¸­çš„ hosts å­—æ®µæ˜¯ç”¨æ¥æŒ‡å®šæˆæƒä½¿ç”¨è¯¥è¯ä¹¦çš„ IP å’ŒåŸŸååˆ—è¡¨ï¼Œä¸Šé¢çš„ hosts åˆ—å‡ºäº† iam-apiserver æœåŠ¡çš„ IP å’ŒåŸŸåã€‚</p><p class="ztext-empty-paragraph"><br></p><p data-pid="XPjDril-"><b>ç”Ÿæˆè¯ä¹¦å’Œç§é’¥</b>ï¼š</p><div class="highlight"><pre><code class="language-bash">$ cfssl gencert -ca<span class="o">=</span><span class="si">${</span><span class="nv">IAM_CONFIG_DIR</span><span class="si">}</span>/cert/ca.pem <span class="se">\
</span><span class="se"></span>  -ca-key<span class="o">=</span><span class="si">${</span><span class="nv">IAM_CONFIG_DIR</span><span class="si">}</span>/cert/ca-key.pem <span class="se">\
</span><span class="se"></span>  -config<span class="o">=</span><span class="si">${</span><span class="nv">IAM_CONFIG_DIR</span><span class="si">}</span>/cert/ca-config.json <span class="se">\
</span><span class="se"></span>  -profile<span class="o">=</span>iam iam-apiserver-csr.json <span class="p">|</span> cfssljson -bare iam-apiserver
$ sudo mv iam-apiserver*pem <span class="si">${</span><span class="nv">IAM_CONFIG_DIR</span><span class="si">}</span>/cert 
<span class="c1"># å°†ç”Ÿæˆçš„è¯ä¹¦å’Œç§é’¥æ–‡ä»¶æ‹·è´åˆ°é…ç½®æ–‡ä»¶ç›®å½•</span></code></pre></div><p class="ztext-empty-paragraph"><br></p><h3><b>ç¬¬ 2 æ­¥ï¼Œå®‰è£…å¹¶è¿è¡Œ iam-apiserverã€‚</b></h3><p data-pid="U6eSSPEI">iam-apiserver ä½œä¸º iam ç³»ç»Ÿçš„æ ¸å¿ƒç»„ä»¶ï¼Œéœ€è¦ç¬¬ä¸€ä¸ªå®‰è£…ã€‚</p><p class="ztext-empty-paragraph"><br></p><p data-pid="XBWIXqOa"><b>å®‰è£… iam-apiserver å¯æ‰§è¡Œç¨‹åºï¼š</b></p><div class="highlight"><pre><code class="language-bash"> $ <span class="nb">cd</span> <span class="nv">$IAM_ROOT</span>
 $ <span class="nb">source</span> scripts/install/environment.sh
 $ make build <span class="nv">BINS</span><span class="o">=</span>iam-apiserver
 $ sudo cp _output/platforms/linux/amd64/iam-apiserver <span class="si">${</span><span class="nv">IAM_INSTALL_DIR</span><span class="si">}</span>/bin</code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="-z1SPXwF"><b>ç”Ÿæˆå¹¶å®‰è£… iam-apiserver çš„é…ç½®æ–‡ä»¶ï¼ˆiam-apiserver.yamlï¼‰ï¼š</b></p><div class="highlight"><pre><code class="language-bash"> $ ./scripts/genconfig.sh scripts/install/environment.sh configs/iam-apiserver.yaml &gt; iam-apiserver.yaml
 $ sudo mv iam-apiserver.yaml <span class="si">${</span><span class="nv">IAM_CONFIG_DIR</span><span class="si">}</span></code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="dzEzmCTL"><b>åˆ›å»ºå¹¶å®‰è£… iam-apiserver systemd unit æ–‡ä»¶ï¼š</b></p><div class="highlight"><pre><code class="language-bash"> $ ./scripts/genconfig.sh scripts/install/environment.sh init/iam-apiserver.service &gt; iam-apiserver.service
 $ sudo mv iam-apiserver.service /etc/systemd/system/</code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="NGr6CdGj"><b>å¯åŠ¨ iam-apiserver æœåŠ¡ï¼š</b></p><div class="highlight"><pre><code class="language-bash"> $ sudo systemctl daemon-reload
 $ sudo systemctl <span class="nb">enable</span> iam-apiserver
 $ sudo systemctl restart iam-apiserver
 $ systemctl status iam-apiserver <span class="c1"># æŸ¥çœ‹ iam-apiserver è¿è¡ŒçŠ¶æ€ï¼Œå¦‚æœè¾“å‡ºä¸­åŒ…å« active (running)å­—æ ·è¯´æ˜ iam-apiserver æˆåŠŸå¯åŠ¨</span></code></pre></div><p class="ztext-empty-paragraph"><br></p><h3><b>ç¬¬ 3 æ­¥ï¼Œæµ‹è¯• iam-apiserver æ˜¯å¦æˆåŠŸå®‰è£…ã€‚</b></h3><p data-pid="8AQ8iQT0">æµ‹è¯• iam-apiserver ä¸»è¦æ˜¯æµ‹è¯• RESTful èµ„æºçš„ CURDï¼š<b>ç”¨æˆ· CURDã€å¯†é’¥ CURDã€æˆæƒç­–ç•¥ CURDã€‚</b></p><p data-pid="zNwPgB5r">é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦è·å–è®¿é—® iam-apiserver çš„ Tokenï¼Œè¯·æ±‚å¦‚ä¸‹ API è®¿é—®ï¼š</p><div class="highlight"><pre><code class="language-bash"> $ curl -s -XPOST -H<span class="s1">'Content-Type: application/json'</span> -d<span class="s1">'{"username":"admin","password":"Admin@2021"}'</span> http://127.0.0.1:8080/login <span class="p">|</span> jq -r .token
 eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJpYW0uYXBpLm1hcm1vdGVkdS5jb20iLCJleHAiOjE2NzY2MzI5MzcsImlkZW50aXR5IjoiYWRtaW4iLCJpc3MiOiJpYW0tYXBpc2VydmVyIiwib3JpZ19pYXQiOjE2NzY1NDY1MzcsInN1YiI6ImFkbWluIn0.FprBR_QLI_LS8Y087mat88tIRIQyWrYDo41RsRmnQjE</code></pre></div><p data-pid="6pkwPIvf">ä»£ç ä¸­ä¸‹é¢çš„ HTTP è¯·æ±‚é€šè¿‡<code>-H'Authorization: Bearer &lt;Token&gt;'</code> æŒ‡å®šè®¤è¯å¤´ä¿¡æ¯ï¼Œå°†ä¸Šé¢è¯·æ±‚çš„ Token æ›¿æ¢ <code>&lt;Token&gt;</code> ã€‚</p><p class="ztext-empty-paragraph"><br></p><p data-pid="1vk3mSex"><b>ç”¨æˆ· CURD:</b></p><p data-pid="ZAfndJqA">åˆ›å»ºç”¨æˆ·ã€åˆ—å‡ºç”¨æˆ·ã€è·å–ç”¨æˆ·è¯¦ç»†ä¿¡æ¯ã€ä¿®æ”¹ç”¨æˆ·ã€åˆ é™¤å•ä¸ªç”¨æˆ·ã€æ‰¹é‡åˆ é™¤ç”¨æˆ·ï¼Œè¯·æ±‚æ–¹æ³•å¦‚ä¸‹ï¼š</p><div class="highlight"><pre><code class="language-bash"> <span class="c1"># åˆ›å»ºç”¨æˆ·</span>
 $ curl -s -XPOST -H<span class="s1">'Content-Type: application/json'</span> -H<span class="s1">'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJpYW0uYXBpLm1hcm1vdGVkdS5jb20iLCJleHAiOjE2NzY2MzI5MzcsImlkZW50aXR5IjoiYWRtaW4iLCJpc3MiOiJpYW0tYXBpc2VydmVyIiwib3JpZ19pYXQiOjE2NzY1NDY1MzcsInN1YiI6ImFkbWluIn0.FprBR_QLI_LS8Y087mat88tIRIQyWrYDo41RsRmnQjE'</span> -d<span class="s1">'{"password":"User@2021","metadata":{"name":"colin"},"nickname":"colin","email":"colin@foxmail.com","phone":"1812884xxxx"}'</span> http://127.0.0.1:8080/v1/users
 â€‹
 <span class="c1"># åˆ—å‡ºç”¨æˆ·</span>
 $ curl -s -XGET -H<span class="s1">'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJpYW0uYXBpLm1hcm1vdGVkdS5jb20iLCJleHAiOjE2NzY2MzI5MzcsImlkZW50aXR5IjoiYWRtaW4iLCJpc3MiOiJpYW0tYXBpc2VydmVyIiwib3JpZ19pYXQiOjE2NzY1NDY1MzcsInN1YiI6ImFkbWluIn0.FprBR_QLI_LS8Y087mat88tIRIQyWrYDo41RsRmnQjE'</span> <span class="s1">'http://127.0.0.1:8080/v1/users?offset=0&amp;limit=10'</span>
 â€‹
 <span class="c1"># è·å– colin ç”¨æˆ·çš„è¯¦ç»†ä¿¡æ¯</span>
 $ curl -s -XGET -H<span class="s1">'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJpYW0uYXBpLm1hcm1vdGVkdS5jb20iLCJleHAiOjE2NzY2MzI5MzcsImlkZW50aXR5IjoiYWRtaW4iLCJpc3MiOiJpYW0tYXBpc2VydmVyIiwib3JpZ19pYXQiOjE2NzY1NDY1MzcsInN1YiI6ImFkbWluIn0.FprBR_QLI_LS8Y087mat88tIRIQyWrYDo41RsRmnQjE'</span> http://127.0.0.1:8080/v1/users/colin
 â€‹
 <span class="c1"># ä¿®æ”¹ colin ç”¨æˆ·</span>
 $ curl -s -XPUT -H<span class="s1">'Content-Type: application/json'</span> -H<span class="s1">'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJpYW0uYXBpLm1hcm1vdGVkdS5jb20iLCJleHAiOjE2NzY2MzI5MzcsImlkZW50aXR5IjoiYWRtaW4iLCJpc3MiOiJpYW0tYXBpc2VydmVyIiwib3JpZ19pYXQiOjE2NzY1NDY1MzcsInN1YiI6ImFkbWluIn0.FprBR_QLI_LS8Y087mat88tIRIQyWrYDo41RsRmnQjE'</span> -d<span class="s1">'{"nickname":"colin","email":"colin_modified@foxmail.com","phone":"1867274xxxx"}'</span> http://127.0.0.1:8080/v1/users/colin
 â€‹
 <span class="c1"># åˆ é™¤ colin ç”¨æˆ·</span>
 $ curl -s -XDELETE -H<span class="s1">'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJpYW0uYXBpLm1hcm1vdGVkdS5jb20iLCJleHAiOjE2NzY2MzI5MzcsImlkZW50aXR5IjoiYWRtaW4iLCJpc3MiOiJpYW0tYXBpc2VydmVyIiwib3JpZ19pYXQiOjE2NzY1NDY1MzcsInN1YiI6ImFkbWluIn0.FprBR_QLI_LS8Y087mat88tIRIQyWrYDo41RsRmnQjE'</span> http://127.0.0.1:8080/v1/users/colin
 â€‹
 <span class="c1"># æ‰¹é‡åˆ é™¤ç”¨æˆ·</span>
 $ curl -s -XDELETE -H<span class="s1">'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJpYW0uYXBpLm1hcm1vdGVkdS5jb20iLCJleHAiOjE2NzY2MzI5MzcsImlkZW50aXR5IjoiYWRtaW4iLCJpc3MiOiJpYW0tYXBpc2VydmVyIiwib3JpZ19pYXQiOjE2NzY1NDY1MzcsInN1YiI6ImFkbWluIn0.FprBR_QLI_LS8Y087mat88tIRIQyWrYDo41RsRmnQjE'</span> <span class="s1">'http://127.0.0.1:8080/v1/users?name=colin&amp;name=mark&amp;name=john'</span></code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="0lQrsRfl"><b>å¯†é’¥ CURD:</b></p><p data-pid="_KrIR6mj">åˆ›å»ºå¯†é’¥ã€åˆ—å‡ºå¯†é’¥ã€è·å–å¯†é’¥è¯¦ç»†ä¿¡æ¯ã€ä¿®æ”¹å¯†é’¥ã€åˆ é™¤å¯†é’¥è¯·æ±‚æ–¹æ³•å¦‚ä¸‹ï¼š</p><div class="highlight"><pre><code class="language-bash"> â€‹
 <span class="c1"># åˆ›å»º secret0 å¯†é’¥</span>
 $ curl -s -XPOST -H<span class="s1">'Content-Type: application/json'</span> -H<span class="s1">'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJpYW0uYXBpLm1hcm1vdGVkdS5jb20iLCJleHAiOjE2NzY2MzI5MzcsImlkZW50aXR5IjoiYWRtaW4iLCJpc3MiOiJpYW0tYXBpc2VydmVyIiwib3JpZ19pYXQiOjE2NzY1NDY1MzcsInN1YiI6ImFkbWluIn0.FprBR_QLI_LS8Y087mat88tIRIQyWrYDo41RsRmnQjE'</span> -d<span class="s1">'{"metadata":{"name":"secret0"},"expires":0,"description":"admin secret"}'</span> http://127.0.0.1:8080/v1/secrets
 â€‹
 <span class="c1"># åˆ—å‡ºæ‰€æœ‰å¯†é’¥</span>
 $ curl -s -XGET -H<span class="s1">'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJpYW0uYXBpLm1hcm1vdGVkdS5jb20iLCJleHAiOjE2NzY2MzI5MzcsImlkZW50aXR5IjoiYWRtaW4iLCJpc3MiOiJpYW0tYXBpc2VydmVyIiwib3JpZ19pYXQiOjE2NzY1NDY1MzcsInN1YiI6ImFkbWluIn0.FprBR_QLI_LS8Y087mat88tIRIQyWrYDo41RsRmnQjE'</span> http://127.0.0.1:8080/v1/secrets
 â€‹
 <span class="c1"># è·å– secret0 å¯†é’¥çš„è¯¦ç»†ä¿¡æ¯</span>
 $ curl -s -XGET -H<span class="s1">'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJpYW0uYXBpLm1hcm1vdGVkdS5jb20iLCJleHAiOjE2NzY2MzI5MzcsImlkZW50aXR5IjoiYWRtaW4iLCJpc3MiOiJpYW0tYXBpc2VydmVyIiwib3JpZ19pYXQiOjE2NzY1NDY1MzcsInN1YiI6ImFkbWluIn0.FprBR_QLI_LS8Y087mat88tIRIQyWrYDo41RsRmnQjE'</span> http://127.0.0.1:8080/v1/secrets/secret0
 â€‹
 <span class="c1"># ä¿®æ”¹ secret0 å¯†é’¥</span>
 $ curl -s -XPUT -H<span class="s1">'Content-Type: application/json'</span> -H<span class="s1">'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJpYW0uYXBpLm1hcm1vdGVkdS5jb20iLCJleHAiOjE2NzY2MzI5MzcsImlkZW50aXR5IjoiYWRtaW4iLCJpc3MiOiJpYW0tYXBpc2VydmVyIiwib3JpZ19pYXQiOjE2NzY1NDY1MzcsInN1YiI6ImFkbWluIn0.FprBR_QLI_LS8Y087mat88tIRIQyWrYDo41RsRmnQjE'</span> -d<span class="s1">'{"metadata":{"name":"secret0"},"expires":0,"description":"admin secret(modified)"}'</span> http://127.0.0.1:8080/v1/secrets/secret0
 â€‹
 <span class="c1"># åˆ é™¤ secret0 å¯†é’¥</span>
 $ curl -s -XDELETE -H<span class="s1">'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJpYW0uYXBpLm1hcm1vdGVkdS5jb20iLCJleHAiOjE2NzY2MzI5MzcsImlkZW50aXR5IjoiYWRtaW4iLCJpc3MiOiJpYW0tYXBpc2VydmVyIiwib3JpZ19pYXQiOjE2NzY1NDY1MzcsInN1YiI6ImFkbWluIn0.FprBR_QLI_LS8Y087mat88tIRIQyWrYDo41RsRmnQjE'</span> http://127.0.0.1:8080/v1/secrets/secret0</code></pre></div><p data-pid="pgM3QGPz">è¿™é‡Œæˆ‘ä»¬è¦æ³¨æ„ï¼Œå› ä¸ºå¯†é’¥å±äºé‡è¦èµ„æºï¼Œè¢«åˆ é™¤ä¼šå¯¼è‡´æ‰€æœ‰çš„è®¿é—®è¯·æ±‚å¤±è´¥ï¼Œæ‰€ä»¥å¯†é’¥ä¸æ”¯æŒæ‰¹é‡åˆ é™¤ã€‚</p><p class="ztext-empty-paragraph"><br></p><p data-pid="gcbvIirY"><b>æˆæƒç­–ç•¥ CURD:</b></p><p data-pid="6g1e6MPe">åˆ›å»ºç­–ç•¥ã€åˆ—å‡ºç­–ç•¥ã€è·å–ç­–ç•¥è¯¦ç»†ä¿¡æ¯ã€ä¿®æ”¹ç­–ç•¥ã€åˆ é™¤ç­–ç•¥è¯·æ±‚æ–¹æ³•å¦‚ä¸‹ï¼š</p><div class="highlight"><pre><code class="language-bash"> <span class="c1"># åˆ›å»ºç­–ç•¥</span>
 $ curl -s -XPOST -H<span class="s1">'Content-Type: application/json'</span> -H<span class="s1">'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJpYW0uYXBpLm1hcm1vdGVkdS5jb20iLCJleHAiOjE2NzY2MzI5MzcsImlkZW50aXR5IjoiYWRtaW4iLCJpc3MiOiJpYW0tYXBpc2VydmVyIiwib3JpZ19pYXQiOjE2NzY1NDY1MzcsInN1YiI6ImFkbWluIn0.FprBR_QLI_LS8Y087mat88tIRIQyWrYDo41RsRmnQjE'</span> -d<span class="s1">'{"metadata":{"name":"policy0"},"policy":{"description":"One policy to rule them all.","subjects":["users:&lt;peter|ken&gt;","users:maria","groups:admins"],"actions":["delete","&lt;create|update&gt;"],"effect":"allow","resources":["resources:articles:&lt;.*&gt;","resources:printer"],"conditions":{"remoteIPAddress":{"type":"CIDRCondition","options":{"cidr":"192.168.0.1/16"}}}}}'</span> http://127.0.0.1:8080/v1/policies
 â€‹
 <span class="c1"># åˆ—å‡ºæ‰€æœ‰ç­–ç•¥</span>
 $ curl -s -XGET -H<span class="s1">'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJpYW0uYXBpLm1hcm1vdGVkdS5jb20iLCJleHAiOjE2NzY2MzI5MzcsImlkZW50aXR5IjoiYWRtaW4iLCJpc3MiOiJpYW0tYXBpc2VydmVyIiwib3JpZ19pYXQiOjE2NzY1NDY1MzcsInN1YiI6ImFkbWluIn0.FprBR_QLI_LS8Y087mat88tIRIQyWrYDo41RsRmnQjE'</span> http://127.0.0.1:8080/v1/policies
 â€‹
 <span class="c1"># è·å– policy0 ç­–ç•¥çš„è¯¦ç»†ä¿¡æ¯</span>
 $ curl -s -XGET -H<span class="s1">'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJpYW0uYXBpLm1hcm1vdGVkdS5jb20iLCJleHAiOjE2NzY2MzI5MzcsImlkZW50aXR5IjoiYWRtaW4iLCJpc3MiOiJpYW0tYXBpc2VydmVyIiwib3JpZ19pYXQiOjE2NzY1NDY1MzcsInN1YiI6ImFkbWluIn0.FprBR_QLI_LS8Y087mat88tIRIQyWrYDo41RsRmnQjE'</span> http://127.0.0.1:8080/v1/policies/policy0
 â€‹
 <span class="c1"># ä¿®æ”¹ policy0 ç­–ç•¥</span>
 $ curl -s -XPUT -H<span class="s1">'Content-Type: application/json'</span> -H<span class="s1">'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJpYW0uYXBpLm1hcm1vdGVkdS5jb20iLCJleHAiOjE2NzY2MzI5MzcsImlkZW50aXR5IjoiYWRtaW4iLCJpc3MiOiJpYW0tYXBpc2VydmVyIiwib3JpZ19pYXQiOjE2NzY1NDY1MzcsInN1YiI6ImFkbWluIn0.FprBR_QLI_LS8Y087mat88tIRIQyWrYDo41RsRmnQjE'</span> -d<span class="s1">'{"metadata":{"name":"policy0"},"policy":{"description":"One policy to rule them all(modified).","subjects":["users:&lt;peter|ken&gt;","users:maria","groups:admins"],"actions":["delete","&lt;create|update&gt;"],"effect":"allow","resources":["resources:articles:&lt;.*&gt;","resources:printer"],"conditions":{"remoteIPAddress":{"type":"CIDRCondition","options":{"cidr":"192.168.0.1/16"}}}}}'</span> http://127.0.0.1:8080/v1/policies/policy0
 â€‹
 <span class="c1"># åˆ é™¤ policy0 ç­–ç•¥</span>
 $ curl -s -XDELETE -H<span class="s1">'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJpYW0uYXBpLm1hcm1vdGVkdS5jb20iLCJleHAiOjE2NzY2MzI5MzcsImlkZW50aXR5IjoiYWRtaW4iLCJpc3MiOiJpYW0tYXBpc2VydmVyIiwib3JpZ19pYXQiOjE2NzY1NDY1MzcsInN1YiI6ImFkbWluIn0.FprBR_QLI_LS8Y087mat88tIRIQyWrYDo41RsRmnQjE'</span> http://127.0.0.1:8080/v1/policies/policy0
 â€‹
 <span class="c1"># åˆ›å»ºç­–ç•¥</span>
 $ curl -s -XPOST -H<span class="s1">'Content-Type: application/json'</span> -H<span class="s1">'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJpYW0uYXBpLm1hcm1vdGVkdS5jb20iLCJleHAiOjE2NzY2MzI5MzcsImlkZW50aXR5IjoiYWRtaW4iLCJpc3MiOiJpYW0tYXBpc2VydmVyIiwib3JpZ19pYXQiOjE2NzY1NDY1MzcsInN1YiI6ImFkbWluIn0.FprBR_QLI_LS8Y087mat88tIRIQyWrYDo41RsRmnQjE'</span> -d<span class="s1">'{"metadata":{"name":"policy0"},"policy":{"description":"One policy to rule them all.","subjects":["users:&lt;peter|ken&gt;","users:maria","groups:admins"],"actions":["delete","&lt;create|update&gt;"],"effect":"allow","resources":["resources:articles:&lt;.*&gt;","resources:printer"],"conditions":{"remoteIPAddress":{"type":"CIDRCondition","options":{"cidr":"192.168.0.1/16"}}}}}'</span> http://127.0.0.1:8080/v1/policies</code></pre></div><p class="ztext-empty-paragraph"><br></p><h3><b>å®‰è£… iamctl</b></h3><p data-pid="AQriyJGo">ä¸Šé¢ï¼Œæˆ‘ä»¬å®‰è£…äº† iam ç³»ç»Ÿçš„ API æœåŠ¡ã€‚ä½†æ˜¯æƒ³è¦è®¿é—® iam æœåŠ¡ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å®‰è£…å®¢æˆ·ç«¯å·¥å…· iamctlã€‚å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ 3 æ­¥å®Œæˆ iamctl çš„å®‰è£…å’Œé…ç½®ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>ç¬¬ 1 æ­¥ï¼Œåˆ›å»º iamctl è¯ä¹¦å’Œç§é’¥ã€‚</b></h3><p data-pid="I5o9rAc6">iamctl ä½¿ç”¨ https åè®®ä¸ iam-apiserver è¿›è¡Œå®‰å…¨é€šä¿¡ï¼Œiam-apiserver å¯¹ iamctl è¯·æ±‚åŒ…å«çš„è¯ä¹¦è¿›è¡Œè®¤è¯å’Œæˆæƒã€‚iamctl åç»­ç”¨äº iam ç³»ç»Ÿè®¿é—®å’Œç®¡ç†ï¼Œæ‰€ä»¥è¿™é‡Œåˆ›å»ºå…·æœ‰æœ€é«˜æƒé™çš„ admin è¯ä¹¦ã€‚</p><p class="ztext-empty-paragraph"><br></p><p data-pid="EzIb5bXP"><b>åˆ›å»ºè¯ä¹¦ç­¾åè¯·æ±‚</b>ã€‚</p><p data-pid="a1ayLoPf">ä¸‹é¢åˆ›å»ºçš„è¯ä¹¦åªä¼šè¢« iamctl å½“ä½œ client è¯ä¹¦ä½¿ç”¨ï¼Œæ‰€ä»¥ hosts å­—æ®µä¸ºç©ºã€‚ä»£ç å¦‚ä¸‹ï¼š</p><div class="highlight"><pre><code class="language-bash"> $ <span class="nb">cd</span> <span class="nv">$IAM_ROOT</span>
 $ <span class="nb">source</span> scripts/install/environment.sh
 $ cat &gt; admin-csr.json <span class="s">&lt;&lt;EOF
</span><span class="s"> {
</span><span class="s">   "CN": "admin",
</span><span class="s">   "key": {
</span><span class="s">     "algo": "rsa",
</span><span class="s">     "size": 2048
</span><span class="s">   },
</span><span class="s">   "names": [
</span><span class="s">     {
</span><span class="s">       "C": "CN",
</span><span class="s">       "ST": "BeiJing",
</span><span class="s">       "L": "BeiJing",
</span><span class="s">       "O": "marmotedu",
</span><span class="s">       "OU": "iamctl"
</span><span class="s">     }
</span><span class="s">   ],
</span><span class="s">   "hosts": []
</span><span class="s"> }
</span><span class="s"> EOF</span></code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="IeqPxLP6"><b>ç”Ÿæˆè¯ä¹¦å’Œç§é’¥ï¼š</b></p><div class="highlight"><pre><code class="language-bash"> $ cfssl gencert -ca<span class="o">=</span><span class="si">${</span><span class="nv">IAM_CONFIG_DIR</span><span class="si">}</span>/cert/ca.pem <span class="se">\
</span><span class="se"></span>   -ca-key<span class="o">=</span><span class="si">${</span><span class="nv">IAM_CONFIG_DIR</span><span class="si">}</span>/cert/ca-key.pem <span class="se">\
</span><span class="se"></span>   -config<span class="o">=</span><span class="si">${</span><span class="nv">IAM_CONFIG_DIR</span><span class="si">}</span>/cert/ca-config.json <span class="se">\
</span><span class="se"></span>   -profile<span class="o">=</span>iam admin-csr.json <span class="p">|</span> cfssljson -bare admin
 $ mkdir -p <span class="k">$(</span>dirname <span class="si">${</span><span class="nv">CONFIG_USER_CLIENT_CERTIFICATE</span><span class="si">}</span><span class="k">)</span> <span class="k">$(</span>dirname <span class="si">${</span><span class="nv">CONFIG_USER_CLIENT_KEY</span><span class="si">}</span><span class="k">)</span> <span class="c1"># åˆ›å»ºå®¢æˆ·ç«¯è¯ä¹¦å­˜æ”¾çš„ç›®å½•</span>
 $ mv admin.pem <span class="si">${</span><span class="nv">CONFIG_USER_CLIENT_CERTIFICATE</span><span class="si">}</span> <span class="c1"># å®‰è£… TLS çš„å®¢æˆ·ç«¯è¯ä¹¦</span>
 $ mv admin-key.pem <span class="si">${</span><span class="nv">CONFIG_USER_CLIENT_KEY</span><span class="si">}</span> <span class="c1"># å®‰è£… TLS çš„å®¢æˆ·ç«¯ç§é’¥æ–‡ä»¶</span></code></pre></div><p class="ztext-empty-paragraph"><br></p><h3><b>ç¬¬ 2 æ­¥ï¼Œå®‰è£… iamctlã€‚</b></h3><p data-pid="1IJc2gUq">iamctl æ˜¯ IAM ç³»ç»Ÿçš„å®¢æˆ·ç«¯å·¥å…·ï¼Œå…¶å®‰è£…ä½ç½®å’Œ iam-apiserverã€iam-authz-serverã€iam-pump ä½ç½®ä¸åŒï¼Œä¸ºäº†èƒ½å¤Ÿåœ¨ shell ä¸‹ç›´æ¥è¿è¡Œ iamctl å‘½ä»¤ï¼Œæˆ‘ä»¬éœ€è¦å°† iamctl å®‰è£…åˆ°<code>$HOME/bin</code> ä¸‹ï¼ŒåŒæ—¶å°† iamctl çš„é…ç½®å­˜æ”¾åœ¨é»˜è®¤åŠ è½½çš„ç›®å½•ä¸‹ï¼š<code>$HOME/.iam</code>ã€‚ä¸»è¦åˆ† 2 æ­¥è¿›è¡Œã€‚</p><p class="ztext-empty-paragraph"><br></p><p data-pid="VrKVkG47"><b>å®‰è£… iamctl å¯æ‰§è¡Œç¨‹åºï¼š</b></p><div class="highlight"><pre><code class="language-bash"> $ <span class="nb">cd</span> <span class="nv">$IAM_ROOT</span>
 $ <span class="nb">source</span> scripts/install/environment.sh
 $ make build <span class="nv">BINS</span><span class="o">=</span>iamctl
 $ cp _output/platforms/linux/amd64/iamctl <span class="nv">$HOME</span>/bin</code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="QhDQ2s7_"><b>ç”Ÿæˆå¹¶å®‰è£… iamctl çš„é…ç½®æ–‡ä»¶ï¼ˆiamctl.yamlï¼‰ï¼š</b></p><div class="highlight"><pre><code class="language-bash"> $ ./scripts/genconfig.sh scripts/install/environment.sh configs/iamctl.yaml&gt; iamctl.yaml
 $ mkdir -p <span class="nv">$HOME</span>/.iam
 $ mv iamctl.yaml <span class="nv">$HOME</span>/.iam</code></pre></div><p data-pid="cXyoZl51">å› ä¸º iamctl æ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯å·¥å…·ï¼Œå¯èƒ½ä¼šåœ¨å¤šå°æœºå™¨ä¸Šè¿è¡Œã€‚ä¸ºäº†ç®€åŒ–éƒ¨ç½² iamctl å·¥å…·çš„å¤æ‚åº¦ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠ config é…ç½®æ–‡ä»¶ä¸­è·Ÿ CA è®¤è¯ç›¸å…³çš„ CA æ–‡ä»¶å†…å®¹ç”¨ base64 åŠ å¯†åï¼Œæ”¾ç½®åœ¨ config é…ç½®æ–‡ä»¶ä¸­ã€‚å…·ä½“çš„æ€è·¯å°±æ˜¯æŠŠ config æ–‡ä»¶ä¸­çš„é…ç½®é¡¹ client-certificateã€client-keyã€certificate-authority åˆ†åˆ«ç”¨å¦‚ä¸‹é…ç½®é¡¹æ›¿æ¢ client-certificate-dataã€client-key-dataã€certificate-authority-dataã€‚è¿™äº›é…ç½®é¡¹çš„å€¼å¯ä»¥é€šè¿‡å¯¹ CA æ–‡ä»¶ä½¿ç”¨ base64 åŠ å¯†è·å¾—ã€‚</p><p data-pid="UEvf7b2V">å‡å¦‚ï¼Œcertificate-authority å€¼ä¸º<code>/etc/iam/cert/ca.pem</code>ï¼Œåˆ™ certificate-authority-data çš„å€¼ä¸º <code>cat "/etc/iam/cert/ca.pem" | base64 | tr -d '\r\n'</code>ï¼Œå…¶å®ƒ-data å˜é‡çš„å€¼ç±»ä¼¼ã€‚è¿™æ ·å½“æˆ‘ä»¬å†éƒ¨ç½² iamctl å·¥å…·æ—¶ï¼Œåªéœ€è¦æ‹·è´ iamctl å’Œé…ç½®æ–‡ä»¶ï¼Œè€Œä¸ç”¨å†æ‹·è´ CA æ–‡ä»¶äº†ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>ç¬¬ 3 æ­¥ï¼Œæµ‹è¯• iamctl æ˜¯å¦æˆåŠŸå®‰è£…ã€‚</b></h3><p data-pid="AGxOQIEz">æ‰§è¡Œ <code>iamctl user list</code> å¯ä»¥åˆ—å‡ºé¢„åˆ›å»ºçš„ admin ç”¨æˆ·ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-3318b038fbd0457f269f577b8c6b3f21_r.jpg" data-caption="" data-size="normal" width="1540" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>å®‰è£…å’Œé…ç½® iam-authz-server</b></h3><p data-pid="zoSDA2jF">æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦å®‰è£…å¦å¤–ä¸€ä¸ªæ ¸å¿ƒç»„ä»¶ï¼šiam-authz-serverï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹ 3 æ­¥æ¥å®‰è£…ã€‚</p><h3><b>ç¬¬ 1 æ­¥ï¼Œåˆ›å»º iam-authz-server è¯ä¹¦å’Œç§é’¥ã€‚</b></h3><p data-pid="SHW0D_sL"><b>åˆ›å»ºè¯ä¹¦ç­¾åè¯·æ±‚ï¼š</b></p><div class="highlight"><pre><code class="language-bash"> $ <span class="nb">cd</span> <span class="nv">$IAM_ROOT</span>
 $ <span class="nb">source</span> scripts/install/environment.sh
 $ tee iam-authz-server-csr.json <span class="s">&lt;&lt;EOF
</span><span class="s"> {
</span><span class="s">   "CN": "iam-authz-server",
</span><span class="s">   "key": {
</span><span class="s">     "algo": "rsa",
</span><span class="s">     "size": 2048
</span><span class="s">   },
</span><span class="s">   "names": [
</span><span class="s">     {
</span><span class="s">       "C": "CN",
</span><span class="s">       "ST": "BeiJing",
</span><span class="s">       "L": "BeiJing",
</span><span class="s">       "O": "marmotedu",
</span><span class="s">       "OU": "iam-authz-server"
</span><span class="s">     }
</span><span class="s">   ],
</span><span class="s">   "hosts": [
</span><span class="s">     "127.0.0.1",
</span><span class="s">     "localhost",
</span><span class="s">     "iam.authz.marmotedu.com"
</span><span class="s">   ]
</span><span class="s"> }
</span><span class="s"> EOF</span></code></pre></div><p data-pid="I6EC1M6i">ä»£ç ä¸­çš„ hosts å­—æ®µæŒ‡å®šæˆæƒä½¿ç”¨è¯¥è¯ä¹¦çš„ IP å’ŒåŸŸååˆ—è¡¨ï¼Œä¸Šé¢çš„ hosts åˆ—å‡ºäº† iam-authz-server æœåŠ¡çš„ IP å’ŒåŸŸåã€‚</p><p data-pid="O61haNbi"><b>ç”Ÿæˆè¯ä¹¦å’Œç§é’¥ï¼š</b></p><div class="highlight"><pre><code class="language-bash"> $ cfssl gencert -ca<span class="o">=</span><span class="si">${</span><span class="nv">IAM_CONFIG_DIR</span><span class="si">}</span>/cert/ca.pem <span class="se">\
</span><span class="se"></span>   -ca-key<span class="o">=</span><span class="si">${</span><span class="nv">IAM_CONFIG_DIR</span><span class="si">}</span>/cert/ca-key.pem <span class="se">\
</span><span class="se"></span>   -config<span class="o">=</span><span class="si">${</span><span class="nv">IAM_CONFIG_DIR</span><span class="si">}</span>/cert/ca-config.json <span class="se">\
</span><span class="se"></span>   -profile<span class="o">=</span>iam iam-authz-server-csr.json <span class="p">|</span> cfssljson -bare iam-authz-server
 $ sudo mv iam-authz-server*pem <span class="si">${</span><span class="nv">IAM_CONFIG_DIR</span><span class="si">}</span>/cert <span class="c1"># å°†ç”Ÿæˆçš„è¯ä¹¦å’Œç§é’¥æ–‡ä»¶æ‹·è´åˆ°é…ç½®æ–‡ä»¶ç›®å½•</span></code></pre></div><p class="ztext-empty-paragraph"><br></p><h3><b>ç¬¬ 2 æ­¥ï¼Œå®‰è£…å¹¶è¿è¡Œ iam-authz-serverã€‚</b></h3><p data-pid="K5c8dm9E">å®‰è£… iam-authz-server æ­¥éª¤å’Œå®‰è£… iam-apiserver æ­¥éª¤åŸºæœ¬ä¸€æ ·ï¼Œä¹Ÿéœ€è¦ 4 æ­¥ã€‚</p><p data-pid="9MMv8mul"><b>å®‰è£… iam-authz-server å¯æ‰§è¡Œç¨‹åºï¼š</b></p><div class="highlight"><pre><code class="language-bash"> $ <span class="nb">cd</span> <span class="nv">$IAM_ROOT</span>
 $ <span class="nb">source</span> scripts/install/environment.sh
 $ make build <span class="nv">BINS</span><span class="o">=</span>iam-authz-server
 $ sudo cp _output/platforms/linux/amd64/iam-authz-server <span class="si">${</span><span class="nv">IAM_INSTALL_DIR</span><span class="si">}</span>/bin</code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="zVovBJc-"><b>ç”Ÿæˆå¹¶å®‰è£… iam-authz-server çš„é…ç½®æ–‡ä»¶ï¼ˆiam-authz-server.yamlï¼‰ï¼š</b></p><div class="highlight"><pre><code class="language-bash"> $ ./scripts/genconfig.sh scripts/install/environment.sh configs/iam-authz-server.yaml &gt; iam-authz-server.yaml
 $ sudo mv iam-authz-server.yaml <span class="si">${</span><span class="nv">IAM_CONFIG_DIR</span><span class="si">}</span></code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="lS3aYa0e"><b>åˆ›å»ºå¹¶å®‰è£… iam-authz-server systemd unit æ–‡ä»¶ï¼š</b></p><div class="highlight"><pre><code class="language-bash"> $ ./scripts/genconfig.sh scripts/install/environment.sh init/iam-authz-server.service &gt; iam-authz-server.service
 $ sudo mv iam-authz-server.service /etc/systemd/system/</code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="LKRBZhkt"><b>å¯åŠ¨ iam-authz-server æœåŠ¡ï¼š</b></p><div class="highlight"><pre><code class="language-bash"> $ sudo systemctl daemon-reload
 $ sudo systemctl <span class="nb">enable</span> iam-authz-server
 $ sudo systemctl restart iam-authz-server
 $ systemctl status iam-authz-server 
 <span class="c1"># æŸ¥çœ‹ iam-authz-server è¿è¡ŒçŠ¶æ€ï¼Œå¦‚æœè¾“å‡ºä¸­åŒ…å« active (running)å­—æ ·è¯´æ˜ iam-authz-server æˆåŠŸå¯åŠ¨ã€‚</span></code></pre></div><p class="ztext-empty-paragraph"><br></p><h3><b>ç¬¬ 3 æ­¥ï¼Œæµ‹è¯• iam-authz-server æ˜¯å¦æˆåŠŸå®‰è£…ã€‚</b></h3><p data-pid="ad_nE2hh"><b>é‡æ–°ç™»é™†ç³»ç»Ÿï¼Œå¹¶è·å–è®¿é—®ä»¤ç‰Œ</b></p><div class="highlight"><pre><code class="language-bash"> $ <span class="nv">token</span><span class="o">=</span><span class="sb">`</span>curl -s -XPOST -H<span class="s1">'Content-Type: application/json'</span> -d<span class="s1">'{"username":"admin","password":"Admin@2021"}'</span> http://127.0.0.1:8080/login <span class="p">|</span> jq -r .token<span class="sb">`</span></code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="QJxcA-tk"><b>åˆ›å»ºæˆæƒç­–ç•¥:</b></p><div class="highlight"><pre><code class="language-bash"> $ curl -s -XPOST -H<span class="s2">"Content-Type: application/json"</span> -H<span class="s2">"Authorization: Bearer </span><span class="nv">$token</span><span class="s2">"</span> -d<span class="s1">'{"metadata":{"name":"authztest"},"policy":{"description":"One policy to rule them all.","subjects":["users:&lt;peter|ken&gt;","users:maria","groups:admins"],"actions":["delete","&lt;create|update&gt;"],"effect":"allow","resources":["resources:articles:&lt;.*&gt;","resources:printer"],"conditions":{"remoteIPAddress":{"type":"CIDRCondition","options":{"cidr":"192.168.0.1/16"}}}}}'</span> http://127.0.0.1:8080/v1/policies</code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="Lw8XrAfH"><b>åˆ›å»ºå¯†é’¥ï¼Œå¹¶ä»å‘½ä»¤çš„è¾“å‡ºä¸­æå– secretID å’Œ secretKey</b></p><div class="highlight"><pre><code class="language-bash"> $ curl -s -XPOST -H<span class="s2">"Content-Type: application/json"</span> -H<span class="s2">"Authorization: Bearer </span><span class="nv">$token</span><span class="s2">"</span> -d<span class="s1">'{"metadata":{"name":"authztest"},"expires":0,"description":"admin secret"}'</span> http://127.0.0.1:8080/v1/secrets
 <span class="o">{</span><span class="s2">"metadata"</span>:<span class="o">{</span><span class="s2">"id"</span>:23,<span class="s2">"instanceID"</span>:<span class="s2">"secret-yj8m30"</span>,<span class="s2">"name"</span>:<span class="s2">"authztest"</span>,<span class="s2">"createdAt"</span>:<span class="s2">"2023-02-16T19:55:29.407+08:00"</span>,<span class="s2">"updatedAt"</span>:<span class="s2">"2023-02-16T19:55:29.407+08:00"</span><span class="o">}</span>,<span class="s2">"username"</span>:<span class="s2">"admin"</span>,<span class="s2">"secretID"</span>:<span class="s2">"Ouk0bP2SX36f5FgpGWnFZy6Tpom89VEljtUo"</span>,<span class="s2">"secretKey"</span>:<span class="s2">"uIhkIKQ7GA7eSCIdjNYQgvRoE3d6n9bo"</span>,<span class="s2">"expires"</span>:0,<span class="s2">"description"</span>:<span class="s2">"admin secret"</span><span class="o">}</span></code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="YmCEFcJO"><b>ç”Ÿæˆè®¿é—® iam-authz-server çš„ token</b></p><p data-pid="ZasIKCd2">iamctl æä¾›äº† jwt sigin å‘½ä»¤ï¼Œå¯ä»¥æ ¹æ® secretID å’Œ secretKey ç­¾å‘ Tokenï¼Œæ–¹ä¾¿ä½ ä½¿ç”¨ã€‚</p><div class="highlight"><pre><code class="language-bash"> $ iamctl jwt sign Ouk0bP2SX36f5FgpGWnFZy6Tpom89VEljtUo uIhkIKQ7GA7eSCIdjNYQgvRoE3d6n9bo <span class="c1"># iamctl jwt sign $secretID $secretKeyï¼Œæ›¿æ¢æˆä¸Šä¸€æ­¥åˆ›å»ºçš„å¯†é’¥å¯¹</span>
 eyJhbGciOiJIUzI1NiIsImtpZCI6Ik91azBiUDJTWDM2ZjVGZ3BHV25GWnk2VHBvbTg5VkVsanRVbyIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJpYW0uYXV0aHoubWFybW90ZWR1LmNvbSIsImV4cCI6MTY3NjU1NTg3NywiaWF0IjoxNjc2NTQ4Njc3LCJpc3MiOiJpYW1jdGwiLCJuYmYiOjE2NzY1NDg2Nzd9.CdbBrm9-mErgysb5xwa0EQPboQWnXJpXOBZZk6K6M9E</code></pre></div><p data-pid="m-7n5ivR">å¦‚æœä½ çš„å¼€å‘è¿‡ç¨‹ä¸­æœ‰äº›é‡å¤æ€§çš„æ“ä½œï¼Œä¸ºäº†æ–¹ä¾¿ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥å°†è¿™äº›æ“ä½œä»¥ iamctl å­å‘½ä»¤çš„æ–¹å¼é›†æˆåˆ° iamctl å‘½ä»¤è¡Œä¸­ã€‚</p><p class="ztext-empty-paragraph"><br></p><p data-pid="1eJhfq3C"><b>æµ‹è¯•èµ„æºæˆæƒæ˜¯å¦é€šè¿‡</b></p><p data-pid="J1hCpSjo">æˆ‘ä»¬å¯ä»¥é€šè¿‡è¯·æ±‚ /v1/authz æ¥å®Œæˆèµ„æºæˆæƒï¼š</p><div class="highlight"><pre><code class="language-bash"> $ curl -s -XPOST -H<span class="s1">'Content-Type: application/json'</span> -H<span class="s1">'Authorization: Bearer eyJhbGciOiJIUzI1NiIsImtpZCI6Ik91azBiUDJTWDM2ZjVGZ3BHV25GWnk2VHBvbTg5VkVsanRVbyIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJpYW0uYXV0aHoubWFybW90ZWR1LmNvbSIsImV4cCI6MTY3NjU1NTg3NywiaWF0IjoxNjc2NTQ4Njc3LCJpc3MiOiJpYW1jdGwiLCJuYmYiOjE2NzY1NDg2Nzd9.CdbBrm9-mErgysb5xwa0EQPboQWnXJpXOBZZk6K6M9E'</span> -d<span class="s1">'{"subject":"users:maria","action":"delete","resource":"resources:articles:ladon-introduction","context":{"remoteIPAddress":"192.168.0.5"}}'</span> http://127.0.0.1:9090/v1/authz
 <span class="o">{</span><span class="s2">"allowed"</span>:true<span class="o">}</span></code></pre></div><p data-pid="qfdcm3WV">å¦‚æœæˆæƒé€šè¿‡ä¼šè¿”å›ï¼š<code>{"allowed":true}</code> ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>å®‰è£…å’Œé…ç½® iam-pump</b></h3><p data-pid="JdViBFnU">å®‰è£… iam-pump æ­¥éª¤å’Œå®‰è£… iam-apiserverã€iam-authz-server æ­¥éª¤åŸºæœ¬ä¸€æ ·ï¼Œå…·ä½“æ­¥éª¤å¦‚ä¸‹ã€‚</p><p data-pid="QOmw-G7r"><b>ç¬¬ 1 æ­¥ï¼Œå®‰è£… iam-pump å¯æ‰§è¡Œç¨‹åºã€‚</b></p><div class="highlight"><pre><code class="language-bash"> $ <span class="nb">cd</span> <span class="nv">$IAM_ROOT</span>
 $ <span class="nb">source</span> scripts/install/environment.sh
 $ make build <span class="nv">BINS</span><span class="o">=</span>iam-pump
 $ sudo cp _output/platforms/linux/amd64/iam-pump <span class="si">${</span><span class="nv">IAM_INSTALL_DIR</span><span class="si">}</span>/bin</code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="8NUo61hM"><b>ç¬¬ 2 æ­¥ï¼Œç”Ÿæˆå¹¶å®‰è£… iam-pump çš„é…ç½®æ–‡ä»¶ï¼ˆiam-pump.yamlï¼‰ã€‚</b></p><div class="highlight"><pre><code class="language-bash"> $ ./scripts/genconfig.sh scripts/install/environment.sh configs/iam-pump.yaml &gt; iam-pump.yaml
 $ sudo mv iam-pump.yaml <span class="si">${</span><span class="nv">IAM_CONFIG_DIR</span><span class="si">}</span></code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="G6vEBsKI"><b>ç¬¬ 3 æ­¥ï¼Œåˆ›å»ºå¹¶å®‰è£… iam-pump systemd unit æ–‡ä»¶ã€‚</b></p><div class="highlight"><pre><code class="language-bash"> $ ./scripts/genconfig.sh scripts/install/environment.sh init/iam-pump.service &gt; iam-pump.service
 $ sudo mv iam-pump.service /etc/systemd/system/</code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="omn8vNMD"><b>ç¬¬ 4 æ­¥ï¼Œå¯åŠ¨ iam-pump æœåŠ¡ã€‚</b></p><div class="highlight"><pre><code class="language-bash"> $ sudo systemctl daemon-reload
 $ sudo systemctl <span class="nb">enable</span> iam-pump
 $ sudo systemctl restart iam-pump
 $ systemctl status iam-pump <span class="c1"># æŸ¥çœ‹ iam-pump è¿è¡ŒçŠ¶æ€ï¼Œå¦‚æœè¾“å‡ºä¸­åŒ…å« active (running)å­—æ ·è¯´æ˜ iam-pump æˆåŠŸå¯åŠ¨ã€‚</span></code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="JllFp3Gt"><b>ç¬¬ 5 æ­¥ï¼Œæµ‹è¯• iam-pump æ˜¯å¦æˆåŠŸå®‰è£…ã€‚</b></p><div class="highlight"><pre><code class="language-bash"> $ curl http://127.0.0.1:7070/healthz
 <span class="o">{</span><span class="s2">"status"</span>: <span class="s2">"ok"</span><span class="o">}</span></code></pre></div><p data-pid="ZVsupl5-">ç»è¿‡ä¸Šé¢è¿™ 5 ä¸ªæ­¥éª¤ï¼Œå¦‚æœè¿”å› <code>{â€œstatusâ€: â€œokâ€}</code> å°±è¯´æ˜ iam-pump æœåŠ¡å¥åº·</p><p class="ztext-empty-paragraph"><br></p><h3><b>å®‰è£… man æ–‡ä»¶</b></h3><p data-pid="RHAEzKbp">IAM ç³»ç»Ÿé€šè¿‡ç»„åˆè°ƒç”¨åŒ…ï¼š<a href="https://zhuanlan.zhihu.com/p/606959150/edit">github.com/cpuguy83/go-md2man/v2/md2man</a> å’Œ <a href="https://github.com/spf13/cobra" target="_blank">github.com/spf13/cobra</a> çš„ç›¸å…³å‡½æ•°ç”Ÿæˆäº†å„ä¸ªç»„ä»¶çš„ man1 æ–‡ä»¶ï¼Œä¸»è¦åˆ† 3 æ­¥å®ç°ã€‚</p><p data-pid="aRSLoqaj"><b>ç¬¬ 1 æ­¥ï¼Œç”Ÿæˆå„ä¸ªç»„ä»¶çš„ man1 æ–‡ä»¶ã€‚</b></p><div class="highlight"><pre><code class="language-bash"> $ <span class="nb">cd</span> <span class="nv">$IAM_ROOT</span>
 $ ./scripts/update-generated-docs.sh</code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="u3V1zsrz"><b>ç¬¬ 2 æ­¥ï¼Œå®‰è£…ç”Ÿæˆçš„ man1 æ–‡ä»¶ã€‚</b></p><div class="highlight"><pre><code class="language-bash"> $ sudo cp docs/man/man1/* /usr/share/man/man1/</code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="4PQGcT2z"><b>ç¬¬ 3 æ­¥ï¼Œæ£€æŸ¥æ˜¯å¦æˆåŠŸå®‰è£… man1 æ–‡ä»¶ã€‚</b></p><div class="highlight"><pre><code class="language-bash"> $ man iam-apiserver</code></pre></div><blockquote data-pid="MtrRm_qB"><b>æ‰§è¡Œ man iam-apiserver å‘½ä»¤åï¼Œä¼šå¼¹å‡º man æ–‡æ¡£ç•Œé¢ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</b></blockquote><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-2bd2e766b90f49dd091e5a3d41b91006_r.jpg" data-caption="" data-size="normal" width="2563" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><p data-pid="1Ind_fG7">è‡³æ­¤ï¼ŒIAM ç³»ç»Ÿæ‰€æœ‰ç»„ä»¶éƒ½å·²ç»å®‰è£…æˆåŠŸäº†ï¼Œä½ å¯ä»¥é€šè¿‡ iamctl version æŸ¥çœ‹å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ç‰ˆæœ¬ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><div class="highlight"><pre><code class="language-bash"> $ iamctl version -o yaml
 clientVersion:
   buildDate: <span class="s2">"2023-02-16T11:43:40Z"</span>
   compiler: gc
   gitCommit: f39d4105e563c01fb4869bbaf1b19f5afa944400
   gitTreeState: dirty
   gitVersion: f39d410
   goVersion: go1.18.3
   platform: linux/amd64
 serverVersion:
   buildDate: <span class="s2">"2023-02-16T11:18:53Z"</span>
   compiler: gc
   gitCommit: f39d4105e563c01fb4869bbaf1b19f5afa944400
   gitTreeState: dirty
   gitVersion: f39d410
   goVersion: go1.18.3
   platform: linux/amd64</code></pre></div><p class="ztext-empty-paragraph"><br></p><h2><b>ä¸€é”®å®‰è£…</b></h2><p data-pid="1fADQAGU"><b>é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥ä¸€é”®å®‰è£…ï¼š</b></p><div class="highlight"><pre><code class="language-bash"> $ <span class="nb">export</span> <span class="nv">LINUX_PASSWORD</span><span class="o">=</span><span class="s1">'iam59!z </details> 
 <hr /> 
</span> <span class="c1"># é‡è¦ï¼šè¿™é‡Œè¦ export going ç”¨æˆ·çš„å¯†ç </span>
 $ <span class="nv">version</span><span class="o">=</span>latest <span class="o">&amp;&amp;</span> curl https://marmotedu-1254073058.cos.ap-beijing.myqcloud.com/iam-release/<span class="si">${</span><span class="nv">version</span><span class="si">}</span>/iam.tar.gz <span class="p">|</span> tar -xz -C / tmp/       
 $ <span class="nb">cd</span> /tmp/iam/ <span class="o">&amp;&amp;</span> ./scripts/install/install.sh iam::install::install</code></pre></div><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h2><b>æ€»ç»“</b></h2><p data-pid="66Ps8vZb">âš ï¸ æ‰€æœ‰ç»„ä»¶è®¾ç½®çš„å¯†ç éƒ½æ˜¯ <code>iam59!z$</code></p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-6b4ecffb1dce8a5c15e6609ac5a50ac5_r.jpg" data-caption="" data-size="normal" width="1088" referrerpolicy="no-referrer"></figure><p></p><p></p></div> </details> 
 <hr /> 

 #### - [goè¯­è¨€1.20å‘å¸ƒ | æ–°ç‰¹æ€§](https://zhuanlan.zhihu.com/p/602834012) 
 <details><summary>ØªÙˆØ¶ÛŒØ­Ø§Øª</summary> <p><img src="https://picx.zhimg.com/v2-20c7dc7d9fbceaed787f9c4a6bbf9490_720w.jpg?source=d16d100b"></p><div><ul><li data-pid="1ENaVezW"><a href="https://github.com/3293172751" target="_blank">author</a></li></ul><h2><b>goè¯­è¨€1.20å‘å¸ƒ</b></h2><ul><li data-pid="_2szrLzH"><a href="typora://app/README.md" target="_blank">å›åˆ°ç›®å½•</a></li><li data-pid="wKRNG-Ie"><a href="https://zhuanlan.zhihu.com/31.md">ä¸Šä¸€èŠ‚</a></li></ul><blockquote data-pid="doXc1zg2">â¤ï¸  Goè¯­è¨€é«˜çº§ç¯‡ç« ,åœ¨æ­¤ä¹‹å‰å»ºè®®æ‚¨å…ˆäº†è§£åŸºç¡€å’Œè¿›é˜¶ç¯‡ã€‚Myblog:<a href="http://nsddd.top/" target="_blank">http://nsddd.top</a></blockquote><a data-draft-node="block" data-draft-type="link-card" href="https://github.com/3293172751/Block_Chain/blob/master/TOC.md" target="_blank">Goè¯­è¨€åŸºç¡€ç¯‡</a><p class="ztext-empty-paragraph"><br></p><a data-draft-node="block" data-draft-type="link-card" href="https://github.com/3293172751/Block_Chain/blob/master/Gomd_super/README.md" target="_blank">Goè¯­è¨€100ç¯‡è¿›é˜¶</a><h2><b>å¼€å§‹</b></h2><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-94578b7958adc938c0ce7eb420c5e50d_r.jpg" data-size="normal" data-caption="" width="2718" referrerpolicy="no-referrer"></figure><p data-pid="PS3Xo30w">å¯ä»¥è®¿é—®<a href="https://go.dev/dl/" target="_blank">ä¸‹è½½é¡µé¢</a>è·å–å®ƒ</p><p data-pid="C1Y_PVYg"><b>å‘ä¸‹å…¼å®¹ï¼Œæ— è„‘å‡å°±å¥½äº†ï¼Go 1.20 amd64 ç‰ˆæœ¬ 95MBï¼Œç›¸æ¯” Go 1.19 144MBï¼Œä»¥åŠ Go 1.18.10 138MB æ¥è¯´ï¼Œé™å¹…è¾¾åˆ°äº† 49MB</b>ã€‚</p><p data-pid="SGJA5Ytb"><a href="https://tip.golang.org/doc/go1.19" target="_blank">æœ€æ–°çš„ Go ç‰ˆæœ¬ 1.20 åœ¨Go 1.19</a> å‘å¸ƒå…­ä¸ªæœˆåå‘å¸ƒã€‚å®ƒçš„å¤§éƒ¨åˆ†æ›´æ”¹éƒ½åœ¨å·¥å…·é“¾ã€è¿è¡Œæ—¶å’Œåº“çš„å®ç°ä¸­ã€‚ä¸€å¦‚æ—¢å¾€ï¼Œè¯¥ç‰ˆæœ¬ä¿æŒäº† Go 1<a href="https://tip.golang.org/doc/go1compat" target="_blank">çš„å…¼å®¹æ€§æ‰¿è¯º</a>ã€‚æˆ‘ä»¬æœŸæœ›å‡ ä¹æ‰€æœ‰çš„ Go ç¨‹åºéƒ½èƒ½åƒä»¥å‰ä¸€æ ·ç»§ç»­ç¼–è¯‘å’Œè¿è¡Œã€‚</p><h2><b>è¯­è¨€çš„å˜åŒ–</b></h2><p data-pid="hI5JhS9g"><b>å››ä¸ªå˜åŒ–ï¼š</b></p><ol><li data-pid="yzuzFQAC">Go 1.17 æ·»åŠ äº†<a href="https://tip.golang.org/ref/spec#Conversions_from_slice_to_array_or_array_pointer" target="_blank">ä»åˆ‡ç‰‡åˆ°æ•°ç»„æŒ‡é’ˆçš„è½¬æ¢</a>ã€‚Go 1.20 æ‰©å±•äº†å®ƒä»¥å…è®¸ä»åˆ‡ç‰‡åˆ°æ•°ç»„çš„è½¬æ¢ï¼šç»™å®šä¸€ä¸ªåˆ‡ç‰‡<code>x</code>,<code>[4]byte(x)</code>ç°åœ¨å¯ä»¥å†™æˆ<code>*(*[4]byte)(x)</code>.</li><li data-pid="JdTHqrVo">è¯¥<code>f="https://tip.golang.org/ref/spec/#Package_unsafe"&gt;unsafeåŒ…å®šä¹‰äº†ä¸‰ä¸ªæ–°å‡½æ•°SliceDataã€Stringå’ŒStringDataã€‚ä¸ Go 1.17 ä¸€èµ·Sliceï¼Œè¿™äº›å‡½æ•°ç°åœ¨æä¾›äº†æ„å»ºå’Œè§£æ„åˆ‡ç‰‡å’Œå­—ç¬¦ä¸²å€¼çš„å®Œæ•´èƒ½åŠ›ï¼Œè€Œä¸ä¾èµ–äºå®ƒä»¬çš„ç¡®åˆ‡è¡¨ç¤ºã€‚</code></li><li data-pid="ITbaQ99L">è¯¥è§„èŒƒç°åœ¨å®šä¹‰ç»“æ„å€¼ä¸€æ¬¡æ¯”è¾ƒä¸€ä¸ªå­—æ®µï¼ŒæŒ‰ç…§å®ƒä»¬åœ¨ç»“æ„ç±»å‹å®šä¹‰ä¸­å‡ºç°çš„é¡ºåºè€ƒè™‘å­—æ®µï¼Œå¹¶åœ¨ç¬¬ä¸€ä¸ªä¸åŒ¹é…æ—¶åœæ­¢ã€‚ä¹‹å‰å¯ä»¥é˜…è¯»è§„èŒƒï¼Œå°±å¥½åƒæ‰€æœ‰å­—æ®µéƒ½éœ€è¦æ¯”è¾ƒç¬¬ä¸€ä¸ªä¸åŒ¹é…ä¹‹å¤–çš„å­—æ®µã€‚ç±»ä¼¼åœ°ï¼Œè¯¥è§„èŒƒç°åœ¨å®šä¹‰æ•°ç»„å€¼æŒ‰é€’å¢ç´¢å¼•é¡ºåºä¸€æ¬¡æ¯”è¾ƒä¸€ä¸ªå…ƒç´ ã€‚åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼Œå·®å¼‚ä¼šå½±å“æŸäº›æ¯”è¾ƒæ˜¯å¦å¿…é¡»ææ…Œã€‚ç°æœ‰ç¨‹åºæ²¡æœ‰æ”¹å˜ï¼šæ–°çš„è§„èŒƒæªè¾æè¿°äº†å®ç°ä¸€ç›´æ‰€åšçš„äº‹æƒ…ã€‚</li><li data-pid="MhduIAsa"><a href="https://tip.golang.org/ref/spec#Comparison_operators" target="_blank">å¯æ¯”è¾ƒçš„ç±»å‹</a>ï¼ˆä¾‹å¦‚æ™®é€šæ¥å£ï¼‰ç°åœ¨å¯ä»¥æ»¡è¶³<code>comparable</code>çº¦æŸï¼Œå³ä½¿ç±»å‹å‚æ•°ä¸æ˜¯ä¸¥æ ¼å¯æ¯”è¾ƒçš„ï¼ˆæ¯”è¾ƒå¯èƒ½ä¼šåœ¨è¿è¡Œæ—¶å´©æºƒï¼‰ã€‚è¿™ä½¿å¾—å®ä¾‹åŒ–å—çº¦æŸçš„ç±»å‹å‚æ•°<code>comparable</code> ï¼ˆä¾‹å¦‚ï¼Œç”¨æˆ·å®šä¹‰çš„é€šç”¨æ˜ å°„é”®çš„ç±»å‹å‚æ•°ï¼‰ä¸éä¸¥æ ¼å¯æ¯”è¾ƒçš„ç±»å‹å‚æ•°ï¼ˆä¾‹å¦‚æ¥å£ç±»å‹æˆ–åŒ…å«æ¥å£ç±»å‹çš„å¤åˆç±»å‹ï¼‰æˆä¸ºå¯èƒ½</li></ol><h2><b>æ€§èƒ½æå‡</b></h2><p data-pid="MBnxL3bG">ä» Go 1.21 å¼€å§‹ï¼Œä¸€äº›è¾ƒæ—§çš„æ“ä½œç³»ç»Ÿå°†ä¸å†å—æ”¯æŒï¼šè¿™åŒ…æ‹¬ Windows 7ã€8ã€Server 2008 å’Œ Server 2012ã€macOS 10.13 High Sierra å’Œ 10.14 Mojaveã€‚å¦ä¸€æ–¹é¢ï¼ŒGo 1.20 æ·»åŠ äº†å¯¹ RISC-V ä¸Šçš„ FreeBSD çš„å®éªŒæ€§æ”¯æŒã€‚</p><ul><li data-pid="5XeAZBzE">ç¼–è¯‘å™¨å’Œåƒåœ¾æ”¶é›†å™¨çš„æ”¹è¿›å‡å°‘äº†å†…å­˜å¼€é”€ï¼Œå¹¶å°†æ•´ä½“ CPU æ€§èƒ½æé«˜äº† 2%ã€‚</li><li data-pid="kY9TUT-G">ä¸“é—¨é’ˆå¯¹ç¼–è¯‘æ—¶é—´çš„å·¥ä½œå¯¼è‡´æ„å»ºæ”¹è¿›é«˜è¾¾ 10%ã€‚è¿™ä½¿æ„å»ºé€Ÿåº¦ä¸ Go 1.17 ä¿æŒä¸€è‡´ã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><h2><b>OS å…¼å®¹ç‰ˆæœ¬</b></h2><p data-pid="6Y_OH5Na">å¾ˆå¤šè¿˜æ˜¯ Windows7ã€8 çš„ç”¨æˆ·ï¼Œèµ¶ç´§å‡ Go 1.20  å§ï¼Œè¿™å°†æ˜¯æœ€åä¸€ä¸ªç‰ˆæœ¬ã€‚</p><ul><li data-pid="oevG3DSN">Go 1.20 æ˜¯å°†åœ¨ Windows 7ã€8ã€Server 2008 å’Œ Server 2012 çš„ä»»ä½•ç‰ˆæœ¬ä¸Šè¿è¡Œçš„æœ€åä¸€ä¸ªç‰ˆæœ¬ã€‚Go 1.21 å°†è‡³å°‘éœ€è¦ Windows 10 æˆ– Server 2016ã€‚</li><li data-pid="jXhLV2my">Go 1.20 æ˜¯å°†åœ¨ macOS 10.13 High Sierra æˆ– 10.14 Mojave ä¸Šè¿è¡Œçš„æœ€åä¸€ä¸ªç‰ˆæœ¬ã€‚Go 1.21 å°†éœ€è¦ macOS 10.15 Catalina æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚</li></ul><h2><b>Tool</b></h2><ul><li data-pid="X7eIaqTx">è¯¥<code>ef="https://go.dev/testing/coverage"&gt;coverå·¥å…·ç°åœ¨å¯ä»¥æ”¶é›†æ•´ä¸ªç¨‹åºçš„è¦†ç›–ç‡æ¦‚å†µï¼Œè€Œä¸ä»…ä»…æ˜¯å•å…ƒæµ‹è¯•ã€‚</code></li><li data-pid="1PiUN0E7">è¯¥<code> href="https://go.dev/cmd/go"&gt;goå·¥å…·ä¸å†ä¾èµ–äº$GOROOT/pkgç›®å½•ä¸­é¢„ç¼–è¯‘çš„æ ‡å‡†åº“åŒ…å­˜æ¡£ï¼Œå¹¶ä¸”å®ƒä»¬ä¸å†éšå‘è¡Œç‰ˆä¸€èµ·æä¾›ï¼Œä»è€Œå‡å°‘äº†ä¸‹è½½é‡ã€‚ç›¸åï¼Œæ ‡å‡†åº“ä¸­çš„åŒ…æ˜¯æ ¹æ®éœ€è¦æ„å»ºçš„ï¼Œå¹¶åƒå…¶ä»–åŒ…ä¸€æ ·ç¼“å­˜åœ¨æ„å»ºç¼“å­˜ä¸­ã€‚</code></li><li data-pid="Xw2nuz48">çš„å®æ–½<code>go test -json</code>å·²å¾—åˆ°æ”¹è¿›ï¼Œä»¥ä½¿å…¶åœ¨å‡ºç°æ‚æ•£å†™å…¥æ—¶æ›´åŠ å¥å£®<code>stdout</code>ã€‚</li><li data-pid="5U1Za6VR">ã€<code>go build</code>å’Œ<code>go install</code>å…¶ä»–ä¸æ„å»ºç›¸å…³çš„å‘½ä»¤ç°åœ¨æ¥å—ä¸€ä¸ª<code>-pgo</code>å¯ç”¨é…ç½®æ–‡ä»¶å¼•å¯¼ä¼˜åŒ–çš„æ ‡å¿—ä»¥åŠä¸€ä¸ª<code>-cover</code>ç”¨äºæ•´ä¸ªç¨‹åºè¦†ç›–ç‡åˆ†æçš„æ ‡å¿—ã€‚</li><li data-pid="PomYX86Q">è¯¥<code>go</code>å‘½ä»¤ç°åœ¨é»˜è®¤åœ¨æ²¡æœ‰ C å·¥å…·é“¾çš„ç³»ç»Ÿä¸Šç¦ç”¨<code>cgo</code>ã€‚å› æ­¤ï¼Œå½“ Go å®‰è£…åœ¨æ²¡æœ‰ C ç¼–è¯‘å™¨çš„ç³»ç»Ÿä¸Šæ—¶ï¼Œå®ƒç°åœ¨å°†å¯¹æ ‡å‡†åº“ä¸­çš„åŒ…ä½¿ç”¨çº¯ Go æ„å»ºï¼Œè¿™äº›åŒ…å¯ä»¥é€‰æ‹©ä½¿ç”¨ cgoï¼Œè€Œä¸æ˜¯ä½¿ç”¨é¢„åˆ†å‘çš„åŒ…å­˜æ¡£ï¼ˆå·²è¢«åˆ é™¤ï¼Œå¦‚ä¸Šæ‰€è¿°ï¼‰ .</li><li data-pid="G3zr98mg">è¯¥<code>href="https://go.dev/cmd/vet"&gt;vetå·¥å…·æŠ¥å‘Šäº†åœ¨å¹¶è¡Œè¿è¡Œçš„æµ‹è¯•ä¸­å¯èƒ½å‘ç”Ÿçš„æ›´å¤šå¾ªç¯å˜é‡å¼•ç”¨é”™è¯¯ã€‚</code></li></ul><h2><b>æ ‡å‡†åº“</b></h2><ul><li data-pid="qQY0-koi">æ–°<code><a href="https://go.dev/pkg/crypto/ecdh" target="_blank">crypto/ecdh</a></code>åŒ…æ˜ç¡®æ”¯æŒ NIST æ›²çº¿å’Œ Curve25519 ä¸Šçš„æ¤­åœ†æ›²çº¿ Diffie-Hellman å¯†é’¥äº¤æ¢ã€‚</li><li data-pid="Zg6jounV">æ–°å‡½æ•°è¿”å›ä¸€ä¸ªåŒ…å«é”™è¯¯åˆ—è¡¨çš„é”™è¯¯ï¼Œå¦‚æœé”™è¯¯ç±»å‹å®ç°äº†è¯¥æ–¹æ³•<code><a href="https://go.dev/pkg/errors#Join" target="_blank">errors.Join</a></code>ï¼Œåˆ™å¯ä»¥å†æ¬¡è·å–é”™è¯¯åˆ—è¡¨ã€‚<code>Unwrap() []error</code></li><li data-pid="fYDWRUDa">æ–°<code><a href="https://go.dev/pkg/net/http#ResponseController" target="_blank">http.ResponseController</a></code>ç±»å‹æä¾›å¯¹æ¥å£æœªå¤„ç†çš„æ‰©å±•çš„æŒ‰è¯·æ±‚åŠŸèƒ½çš„ <code><a href="https://go.dev/pkg/net/http#ResponseWriter" target="_blank">http.ResponseWriter</a></code>è®¿é—®ã€‚</li><li data-pid="6_e3Xkxx"><code><a href="https://go.dev/pkg/net/http/httputil#ReverseProxy" target="_blank">httputil.ReverseProxy</a></code> è½¬å‘ä»£ç†åŒ…æ‹¬ä¸€ä¸ªæ–°çš„é’©å­<code>Rewrite</code>å‡½æ•°ï¼Œå–ä»£äº†ä»¥å‰çš„<code>Director</code>é’©å­ã€‚</li><li data-pid="BqnZpjiK">æ–°<code><a href="https://go.dev/pkg/context#WithCancelCause" target="_blank">context.WithCancelCause</a></code>å‡½æ•°æä¾›äº†ä¸€ç§æ–¹æ³•æ¥å–æ¶ˆå…·æœ‰ç»™å®šé”™è¯¯çš„ä¸Šä¸‹æ–‡ã€‚å¯ä»¥é€šè¿‡è°ƒç”¨æ–° <code><a href="https://go.dev/pkg/context#Cause" target="_blank">context.Cause</a></code>å‡½æ•°æ¥æ£€ç´¢è¯¥é”™è¯¯ã€‚</li><li data-pid="Cf28SEDG">æ–°<code><a href="https://go.dev/pkg/os/exec#Cmd" target="_blank">os/exec.Cmd</a></code>å­—æ®µ<code><a href="https://go.dev/pkg/os/exec#Cmd.Cancel" target="_blank">Cancel</a></code> å¹¶<code><a href="https://go.dev/pkg/os/exec#Cmd.WaitDelay" target="_blank">WaitDelay</a></code>æŒ‡å®š <code>Cmd</code>å…¶å…³è”<code>Context</code>è¢«å–æ¶ˆæˆ–è¿›ç¨‹é€€å‡ºæ—¶çš„è¡Œä¸ºã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><h2><b>å…¶ä»–çš„ä¸€äº›å†…å®¹</b></h2><p data-pid="izfZ-YHs"><b>é“¾æ¥å™¨ï¼š</b></p><p data-pid="V99h6uM8">Go 1.20 å¯¹ç¼–è¯‘å™¨ç”Ÿæˆçš„ç¬¦å·ä½¿ç”¨<code>go:</code>and<code>type:</code>å‰ç¼€ï¼Œè€Œä¸æ˜¯<code>go.</code>and <code>type.</code>ã€‚è¿™é¿å…äº†åç§°ä»¥ . å¼€å¤´çš„ç”¨æˆ·åŒ…çš„æ··æ·†<code>go.</code>ã€‚è¯¥<code><a href="https://tip.golang.org/pkg/debug/gosym" target="_blank">debug/gosym</a></code>è½¯ä»¶åŒ…ç†è§£ä½¿ç”¨ Go 1.20 åŠæ›´æ–°ç‰ˆæœ¬æ„å»ºçš„äºŒè¿›åˆ¶æ–‡ä»¶çš„æ–°å‘½åçº¦å®šã€‚</p><ul><li data-pid="OaR7wuLB"><code>$GOROOT/pkg</code> ç›®å½•ä¸å†å­˜å‚¨æ ‡å‡†å­˜æ¡£çš„é¢„ç¼–è¯‘åŒ…å­˜æ¡£ï¼Œä»¥å‡å°‘ Go å‘è¡Œç‰ˆçš„å¤§å°ã€‚</li><li data-pid="SbW18X-5">go å‘½ä»¤ç°åœ¨å®šä¹‰æ¶æ„åŠŸèƒ½ build flagsï¼Œå¦‚ amd64.V2ï¼Œä»¥å…è®¸æ ¹æ®ç‰¹å®š CPU æ¶æ„åŠŸèƒ½çš„å­˜åœ¨æˆ–ä¸å­˜åœ¨æ¥é€‰æ‹©åŒ…å®ç°æ–‡ä»¶ã€‚è¿™å¯¹äº x86_64 å¾®æ¶æ„ç‰¹æ€§çº§åˆ«çš„å·¥ä½œæ¥è¯´æ˜¯ä¸ªå¥½æ¶ˆæ¯ã€‚</li><li data-pid="h712YE8K">go build å’Œ go install ä»¥åŠå…¶ä»–ä¸æ„å»ºç›¸å…³çš„å‘½ä»¤ç°åœ¨æ”¯æŒ â€œ-coverâ€ flagï¼Œç”¨äºå¯ç”¨å¸¦æœ‰ code coverage instrumentation çš„æ„å»ºã€‚</li><li data-pid="De2ObwxF">ç”±äºåœ¨åƒåœ¾æ”¶é›†å™¨ä¸Šçš„å·¥ä½œï¼Œå†…å­˜å¼€é”€å‡å°‘å’Œ CPU æ€§èƒ½æé«˜é«˜è¾¾ 2%ã€‚</li><li data-pid="TKLaRTpP">å¯¹ Profile Guided Optimizations (PGO) çš„é¢„è§ˆæ”¯æŒã€‚</li><li data-pid="yx2IPlkG">åœ¨ Linux ä¸Šï¼Œlinker ç°åœ¨åœ¨é“¾æ¥æ—¶ä¸º glibc æˆ– musl é€‰æ‹©åŠ¨æ€è§£é‡Šå™¨ã€‚</li><li data-pid="RHSA5nV8">ä¸€ä¸ªæ–°çš„ crypto/ecdh åŒ…ï¼Œä¸º NIST curves å’Œ Curve25519 ä¸Šçš„ Elliptic Curve Diffie-Hellman å¯†é’¥äº¤æ¢æä¾›æ˜ç¡®æ”¯æŒã€‚</li></ul><h2><b>END é“¾æ¥</b></h2><p data-pid="QMCPARLF">è¯·å‚è€ƒGoå®˜æ–¹åšå®¢ï¼ˆ<a href="https://go.dev/blog/go1.20" target="_blank"><span class="invisible">https://</span><span class="visible">go.dev/blog/go1.20</span><span class="invisible"></span></a>ï¼‰å’ŒGoè¯­è¨€å®˜æ–¹æ–‡æ¡£ï¼ˆ<a href="https://tip.golang.org/doc/go1.20" target="_blank"><span class="invisible">https://</span><span class="visible">tip.golang.org/doc/go1.</span><span class="invisible">20</span><span class="ellipsis"></span></a>ï¼‰äº†è§£æ›´å¤šå…³äºGoè¯­è¨€1.20ç‰ˆæœ¬çš„è¯¦ç»†ä¿¡æ¯ã€‚</p></div> </details> 
 <hr /> 

 #### - [ä¸€ç¯‡æ–‡ç« ç²¾é€šgitååŒå¼€å‘å·¥ä½œæµ](https://zhuanlan.zhihu.com/p/602190234) 
 <details><summary>ØªÙˆØ¶ÛŒØ­Ø§Øª</summary> <p><img src="https://picx.zhimg.com/v2-8bdbd6b85fcd3de0434de2b77b2b3f8b_720w.jpg?source=d16d100b"></p><div><h2>Gitç‰ˆæœ¬æ§åˆ¶</h2><p data-pid="U7SiZpmj"><i>â“ç”±ä¸€ä¸ªå¾ˆç¥å¥‡çš„é—®é¢˜å±•å¼€ï¼Œgitæ˜¯ä»€ä¹ˆï¼Œå®ƒä»…ä»…æ˜¯ä¸€ä¸ªå·¥å…·å˜›ï¼Ÿ</i></p><p data-pid="gRI-Yddp">çœ‹å®Œè¿™ä¸€ç¯‡ï¼Œä½ å¯ä»¥è¯´ä½ ç²¾é€š git å•¦ï¼ï¼ï¼</p><blockquote data-pid="5BHZWAxZ">Git æ˜¯ä¸€ä¸ªç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚<br>Git å¯å¸®åŠ©æ‚¨è·Ÿè¸ªä»£ç æ›´æ”¹ã€‚<br>Git ç”¨äºåœ¨ä»£ç ä¸Šè¿›è¡Œåä½œã€‚<br>Git æ€æƒ³å¯ä»¥å¸¦å…¥ä½ çš„å·¥ç¨‹(docker | hub | ipfs | â€¦â€¦æ‰€æœ‰è®¾è®¡ç‰ˆæœ¬æœºåˆ¶)</blockquote><p data-pid="OHOZ_4Oh"><b>åœ¨è¿™é‡Œé¢ï¼Œå¯ä»¥æŒæ¡gitçš„åŸºæœ¬æ“ä½œï¼ŒåŸºæœ¬å¯ä»¥è§£å†³ç™¾åˆ†ä¹‹ä¹åçš„å¼€å‘é—®é¢˜ï¼Œè€Œå‰©ä¸‹çš„ç™¾åˆ†ä¹‹åï¼Œå¯¹åº”çš„æœ€æ–°é«˜çº§ç¯‡å¯ä»¥å¸®ä½ ã€‚</b></p><p data-pid="3hrDtFxI"><b>åˆæˆ–è®¸ï¼Œæˆ‘ä»¬å¸Œæœ›æŒæ¡å®ƒçš„åŸç†ï¼Œæˆ–è®¸æˆ‘ä»¬å¯ä»¥ä»å¤´æ„å»ºä¸€ä¸ªgitï¼Œä¸æ˜¯å˜› </b></p><h2>å»ºç«‹ä½ è‡ªå·±çš„<code>Git</code></h2><ul><li data-pid="E93ofmVU"><b>="<a href="http://stefan.saasen.me/articles/git-clone-in-haskell-from-the-bottom-up/" target="_blank"><span class="invisible">http://</span><span class="visible">stefan.saasen.me/articl</span><span class="invisible">es/git-clone-in-haskell-from-the-bottom-up/</span><span class="ellipsis"></span></a>"&gt;Haskellï¼šåœ¨ Haskell ä¸­è‡ªä¸‹è€Œä¸Šé‡æ–°å®ç° â€œgit cloneâ€</b></li><li data-pid="aTvO9guE"><b><a href="h&lt;/b&gt;ttp://gitlet.maryrosecook.com/docs/gitlet.html">JavaScript : å°ç¨‹åº</a></b></li><li data-pid="ZUwQbTX_"><b><a href="h&lt;/b&gt;ttps://kushagra.dev/blog/build-git-learn-git/">JavaScript : åˆ¶é€  GIT - å­¦ä¹  GIT</a></b></li><li data-pid="Mqo_tEB7"><b>f="<a href="https://benhoyt.com/writings/pygit/" target="_blank"><span class="invisible">https://</span><span class="visible">benhoyt.com/writings/py</span><span class="invisible">git/</span><span class="ellipsis"></span></a>"&gt;Python : ä¸€ä¸ª Git å®¢æˆ·ç«¯å°±å…¶åˆ›å»ºã€æäº¤å¹¶è½¬å‘åˆ° GitHub ä¸Š</b></li><li data-pid="fNk51gaJ"><b>f="<a href="https://wyag.thb.lt/" target="_blank"><span class="invisible">https://</span><span class="visible">wyag.thb.lt/</span><span class="invisible"></span></a>"&gt;Pythonï¼šç»™è‡ªå·±å†™ä¸€ä¸ª Gitï¼</b></li><li data-pid="RtlQPvnR"><b>ref="<a href="https://robots.thoughtbot.com/rebuilding-git-in-ruby" target="_blank"><span class="invisible">https://</span><span class="visible">robots.thoughtbot.com/r</span><span class="invisible">ebuilding-git-in-ruby</span><span class="ellipsis"></span></a>"&gt;Ruby : åœ¨ Ruby ä¸­é‡å»º Git</b></li></ul><h2>å®ç°git</h2><blockquote data-pid="WoPI0BB2">ä¸ºäº†å®æ–½<code>git clone</code>ï¼Œå°†æ¶µç›–ä»¥ä¸‹é¢†åŸŸï¼š</blockquote><ul><li data-pid="pI_y5l4n"><b>git åè®®</b>ç”¨äºä½¿git å®¢æˆ·ç«¯èƒ½å¤Ÿä½¿ç”¨å„ç§ä¼ è¾“æœºåˆ¶ï¼ˆæœ¬æœº git åè®®ã€sshã€httpï¼‰ä»è¿œç¨‹ git æœåŠ¡å™¨æ£€ç´¢æ‰€éœ€çš„æ›´æ”¹é›†ï¼Œ</li><li data-pid="wGmDKsdn"><b>åŒ…æ–‡ä»¶</b>æ ¼å¼ï¼Œç”¨äºå°†æœ€å°‘é‡çš„æ•°æ®ä»æœåŠ¡å™¨ä¼ è¾“åˆ°å®¢æˆ·ç«¯ï¼ˆæ›´æ™®éåœ°ç”¨äºæœ‰æ•ˆåœ°å°†æ‰“åŒ…å¯¹è±¡å­˜å‚¨åœ¨å­˜å‚¨åº“ä¸­ï¼‰ï¼Œ</li><li data-pid="jlTjyrbk">git ç”¨äºä»¥ blob å½¢å¼å­˜å‚¨æäº¤ã€æ ‘ã€æ ‡ç­¾å’Œå®é™…æ–‡ä»¶å†…å®¹çš„åº•å±‚<b>å¯¹è±¡å­˜å‚¨</b></li><li data-pid="oZUXmPPA">ä»¥åŠç”¨äºè·Ÿè¸ªå·¥ä½œç›®å½•ä¸­æ–‡ä»¶æ›´æ”¹çš„<b>ç´¢å¼•æ ¼å¼ã€‚</b></li></ul><p class="ztext-empty-paragraph"><br></p><ul><li data-pid="12vm-Ki0"> å¦‚ä½•å®ç°<code>clone</code></li></ul><h2>æœ€æ–° â€“ è¿›é˜¶</h2><blockquote data-pid="if1WAvtD">gitåŸºç¡€ç¯‡ä¼šè§£å†³æˆ‘ä»¬æ—¥å¸¸çš„ç™¾åˆ†ä¹‹ä¹åçš„é—®é¢˜ï¼Œä½†æ˜¯æ€»æ˜¯æœ‰é‚£ä¹ˆä¸€äº›é—®é¢˜éœ€è¦æˆ‘ä»¬æ³¨æ„çš„ã€‚æ¯”å¦‚è¯´æŸä¸€ä¸ªï¼Œæˆ‘å¼€å‘çš„é¡¹ç›®çš„æŸä¸€ä¸ªæ¨¡å—æ„Ÿè§‰è¿™ä¸ªæ¨¡å—æ²¡æœ‰ä¹‹å‰çš„å¥½äº†ï¼Œé‚£ä¹ˆæˆ‘æƒ³åˆ‡æ¢å›ä»¥å‰çš„æ¨¡å—ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥ç”¨<code>git log æŒ‡å®šé¡¹ç›®ç›®å½•</code> å¾—åˆ°ä»¥å‰çš„æäº¤è®°å½•ï¼Œç„¶å<code>git switch æƒ³è¦çš„ç‰ˆæœ¬hash \æŒ‡å®šçš„ç›®å½•</code> æœ€åå°±æ˜¯<code>git commit -m "checkout ...."</code> ã€‚<br>2022å¹´9æœˆ10æ—¥ 17:47:28<br><b>è¿›é˜¶ç¯‡å­˜åœ¨çš„ç›®çš„æˆ–è®¸ä¸ä»…ä»…æ˜¯gitè¯­æ³•å±‚é¢çš„ï¼Œå°±æ¯”å¦‚è¯´æˆ‘ä»¬éœ€è¦åˆ é™¤ä¸€ä¸ªåˆ†æ”¯ï¼Œå¯èƒ½å¾ˆç®€å•çš„ä¸¤ä¸ªå‘½ä»¤å°±å¯ä»¥è§£å†³</b><br># ç”¨ä¸¤è¡Œå‘½ä»¤åˆ é™¤åˆ†æ”¯ ## åˆ é™¤æœ¬åœ°åˆ†æ”¯ git branch -d localBranchName  ## åˆ é™¤è¿œç¨‹åˆ†æ”¯ git push origin --delete remoteBranchName<br><b>ä½†æ˜¯æˆ‘ä»¬å¾ˆç–‘æƒ‘å®ƒä»¬çš„ç”¨æ³•</b> ï¸âŒ&lt;<b>br/&gt;1. ä»€ä¹ˆæ—¶å€™éœ€è¦åˆ é™¤åˆ†æ”¯</b><br>ä¸€ä¸ª Git ä»“åº“å¸¸å¸¸æœ‰ä¸åŒçš„åˆ†æ”¯ï¼Œå¼€å‘è€…å¯ä»¥åœ¨å„ä¸ªåˆ†æ”¯å¤„ç†ä¸åŒçš„ç‰¹æ€§ï¼Œæˆ–è€…åœ¨ä¸å½±å“ä¸»ä»£ç åº“çš„æƒ…å†µä¸‹ä¿®å¤ bugã€‚<br>ä»“åº“å¸¸å¸¸æœ‰ä¸€ä¸ª <code>master</code> åˆ†æ”¯ï¼Œè¡¨ç¤ºä¸»ä»£ç åº“ã€‚å¼€å‘äººå‘˜åˆ›å»ºå…¶ä»–åˆ†æ”¯ï¼Œå¤„ç†ä¸åŒçš„ç‰¹æ€§ã€‚<br>å¼€å‘äººå‘˜å®Œæˆå¤„ç†ä¸€ä¸ªç‰¹æ€§ä¹‹åï¼Œå¸¸å¸¸ä¼šåˆ é™¤ç›¸åº”çš„åˆ†æ”¯ã€‚&lt;<b>br/&gt;2. æœ¬åœ°åˆ é™¤åˆ†æ”¯</b><br>å¦‚æœä½ è¿˜åœ¨ä¸€ä¸ªåˆ†æ”¯ä¸Šï¼Œé‚£ä¹ˆ Git æ˜¯ä¸å…è®¸ä½ åˆ é™¤è¿™ä¸ªåˆ†æ”¯çš„ã€‚æ‰€ä»¥ï¼Œè¯·è®°å¾—é€€å‡ºåˆ†æ”¯ï¼š<code>git checkout master</code>ã€‚<br>é€šè¿‡ <code>git branch -d &lt;branch&amp;</code>gt;åˆ é™¤ä¸€ä¸ªåˆ†æ”¯ï¼Œæ¯”å¦‚ï¼š<code>git branch -d fix/authentication</code>ã€‚<br>å½“ä¸€ä¸ªåˆ†æ”¯è¢«æ¨é€å¹¶åˆå¹¶åˆ°è¿œç¨‹åˆ†æ”¯åï¼Œ<code>-d</code> æ‰ä¼šæœ¬åœ°åˆ é™¤è¯¥åˆ†æ”¯ã€‚å¦‚æœä¸€ä¸ªåˆ†æ”¯è¿˜æ²¡æœ‰è¢«æ¨é€æˆ–è€…åˆå¹¶ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨<code>-D</code>å¼ºåˆ¶åˆ é™¤å®ƒã€‚<br>è¿™å°±æ˜¯æœ¬åœ°åˆ é™¤åˆ†æ”¯çš„æ–¹æ³•ã€‚&lt;<b>br/&gt;3. åˆ é™¤è¿œç¨‹åˆ†æ”¯</b><br>ä½¿ç”¨è¿™ä¸ªå‘½ä»¤å¯ä»¥è¿œç¨‹åˆ é™¤åˆ†æ”¯ï¼š<code>git push &lt;remote&gt; --delete &lt;branch&amp;</code>gt;ã€‚<br>æ¯”å¦‚ï¼š <code>git push origin --delete fix/authentication</code>ï¼Œè¿™ä¸ªåˆ†æ”¯å°±è¢«è¿œç¨‹åˆ é™¤äº†ã€‚<br>ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨è¿™è¡Œç®€çŸ­çš„å‘½ä»¤æ¥è¿œç¨‹åˆ é™¤åˆ†æ”¯ï¼š<code>git push &lt;remote&gt; :&lt;branch&amp;</code>gt;ï¼Œæ¯”å¦‚ï¼š<code>git push origin :fix/authentication</code>ã€‚<br>å¦‚æœä½ å¾—åˆ°ä»¥ä¸‹é”™è¯¯æ¶ˆæ¯ï¼Œå¯èƒ½æ˜¯å› ä¸ºå…¶ä»–äººå·²ç»åˆ é™¤äº†è¿™ä¸ªåˆ†æ”¯ã€‚<br>error: unable to push to unqualified destination: remoteBranchName The destination refspec neither matches an existing ref on the remote nor begins with refs/, and we are unable to guess a prefix based on the source ref. error: failed to push some refs to 'git@repository_name'<br>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åŒæ­¥åˆ†æ”¯åˆ—è¡¨ï¼š<br>git fetch -p&lt;<code>br/&gt;-p</code> çš„æ„æ€æ˜¯â€œç²¾ç®€â€ã€‚è¿™æ ·ï¼Œä½ çš„åˆ†æ”¯åˆ—è¡¨é‡Œå°±ä¸ä¼šæ˜¾ç¤ºå·²è¿œç¨‹è¢«åˆ é™¤çš„åˆ†æ”¯äº†ã€‚</blockquote><ul><li data-pid="Z5bDeOS1"><a href="https://github.com/cubxxw/awesome-cs-course/blob/master/Git/markdown/super.md" target="_blank">  Gité«˜çº§éƒ¨åˆ†</a></li><li data-pid="LuRzheJ_"><a href="https://github.com/cubxxw/awesome-cs-course/blob/master/Git/markdown/move.md" target="_blank">  ç§»åŠ¨æäº¤è®°å½• â€” è‡ªç”±ä¿®æ”¹æäº¤æ ‘</a></li><li data-pid="czux0ctx"><a href="https://github.com/cubxxw/awesome-cs-course/blob/master/Git/markdown/commit.md" target="_blank">  Gitæäº¤æŠ€å·§</a></li><li data-pid="lGiYT8Go"><a href="https://github.com/cubxxw/awesome-cs-course/blob/master/Git/markdown/tags.md" target="_blank">  Git â€” tags</a></li><li data-pid="9x10tUxB"><a href="https://github.com/cubxxw/awesome-cs-course/blob/master/Git/markdown/rebase.md" target="_blank">  Git â€” å¤šæ¬¡rebase</a></li><li data-pid="KoA_P9jP"><a href="https://github.com/cubxxw/awesome-cs-course/blob/master/Git/markdown/module.md" target="_blank">  Git â€” module</a></li><li data-pid="CC6MvZhD"><a href="https://github.com/cubxxw/awesome-cs-course/blob/master/Git/markdown/git-script.md" target="_blank">  Git â€” Scriptè‡ªåŠ¨æ¨é€è„šæœ¬</a></li></ul><blockquote data-pid="qxQlwoaA"><code>git - module</code>ä¸ä»…ä»…å¾ˆæœ‰ç”¨ï¼Œè€Œä¸”é‡Œé¢çš„å®ç°ä¹Ÿå€¼å¾—å­¦ä¹ <br><code>git - Script</code>è„šæœ¬èƒ½è®©æˆ‘ä»¬æ›´å¿«çš„ã€æ›´æ–¹ä¾¿æ¨åŠ¨é¡¹ç›®</blockquote><h2>githubæ•™ç¨‹</h2><ul><li data-pid="m8iV4MA9"><a href="https://nsddd.top/archives/actions" target="_blank">åŸºäº Github Action çš„ CI/CD æµç¨‹</a></li><li data-pid="JBBGJBOi"><a href="http://nsddd.top/archives/git-fork" target="_blank">ä¿æŒè‡ªå·±githubçš„forksè‡ªåŠ¨å’Œä¸Šæ¸¸ä»“åº“åŒæ­¥å¹¶æ¨é€åˆ° gitee</a></li></ul><h2>åŸºç¡€éƒ¨åˆ†</h2><blockquote data-pid="eOnl0PY8">æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦æ’¤é”€ä¸Šä¸€æ¬¡çš„<code>add</code>æˆ–è€…<code>commit</code>æ€ä¹ˆåŠ?</blockquote><ul><li data-pid="zuBLvQ-I">æˆ‘ä»¬ä½¿ç”¨<code>git reset HEAD</code> è¿™æ ·åªæ˜¯æ’¤é”€äº†ä¸Šä¸€æ¬¡<code>add</code></li><li data-pid="QjTWu8T4">æˆ‘ä»¬ä½¿ç”¨ï¼š<code>git reset --soft HEAD^</code> è¿™æ ·å°±æˆåŠŸæ’¤é”€äº†<code>commit</code>ã€‚</li><li data-pid="UoX2CwLw">ä½¿ç”¨<code>git reset --hard HEAD^</code> è¿™æ ·è¿<code>add</code>ä¹Ÿæ’¤é”€äº†ã€‚</li></ul><p data-pid="ldVIzsyi">å³ä½¿æ˜¯ä¸€ä¸ªç®€å•çš„æ¨é€ï¼Œæˆ–è®¸æˆ‘ä»¬å¹¶ä¸èµæˆå¼ºè¡Œæ¨é€ï¼Œä½†æ˜¯å®é™…ç¡®æ˜¯ï¼šæˆ‘ä»¬æ€»æ˜¯éœ€è¦å»å¼ºè¡Œæ¨é€æŸä¸€ä¸ªåˆ†æ”¯ï¼Œå°±æ¯”å¦‚ç”¨npm buildæ­å»ºå‡ºç½‘é¡µæ¨é€ä¸Šå»ï¼Œæ¯ä¸€æ¬¡æ‰“åŒ…éƒ½éœ€è¦è¦†ç›–ä¹‹å‰çš„æ“ä½œï¼š<br>git push --force origin master</p><ul><li data-pid="vdhNRHdG">  ï¸ <a href="https://github.com/cubxxw/awesome-cs-course/blob/master/Git/markdown/github%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.md" target="_blank">1. githubåŸºç¡€å‘½ä»¤å¤§å…¨</a></li><li data-pid="jGLmBh6U">  ï¸ <a href="https://github.com/cubxxw/awesome-cs-course/blob/master/Git/markdown/git%E5%92%8Csvn%E5%AF%B9%E6%AF%94.md" target="_blank">2. gitå’Œsvnå¯¹æ¯”</a></li><li data-pid="n-2bh7d2">  ï¸ <a href="https://github.com/cubxxw/awesome-cs-course/blob/master/Git/markdown/git%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86.md" target="_blank">3. gitå·¥ä½œåŸç†</a></li><li data-pid="SW9SzWuY">  ï¸ <a href="https://github.com/cubxxw/awesome-cs-course/blob/master/Git/markdown/git%E5%88%86%E6%94%AF.md" target="_blank">4. gitåˆ†æ”¯</a></li><li data-pid="Yf-R2bOu">  ï¸ <a href="https://github.com/cubxxw/awesome-cs-course/blob/master/Git/markdown/git%E4%B8%8A%E4%BC%A0.md" target="_blank">5. gitä¸Šä¼ </a></li><li data-pid="dZkJ93TX">  ï¸ <a href="https://github.com/cubxxw/awesome-cs-course/blob/master/Git/markdown/%E8%8F%9C%E9%B8%9Fgit.md" target="_blank">6. gitï¼ˆèœé¸Ÿï¼‰</a></li><li data-pid="D3cJArat">  ï¸ <a href="https://github.com/cubxxw/awesome-cs-course/blob/master/Git/markdown/git%E5%88%86%E6%94%AF%E4%B8%8E%E5%90%88%E5%B9%B6.md" target="_blank">7. gitåˆ†æ”¯ä¸åˆå¹¶</a></li><li data-pid="Q3AsDgH8">  ï¸ <a href="https://github.com/cubxxw/awesome-cs-course/blob/master/Git/markdown/git%E7%89%88%E6%9C%AC%E5%9B%9E%E9%80%80.md" target="_blank">8. gitç‰ˆæœ¬å›é€€</a></li><li data-pid="8Xb4Blw-">  ï¸ <a href="https://github.com/cubxxw/awesome-cs-course/blob/master/Git/markdown/git%E6%AF%94%E8%BE%83%E4%B8%A4%E4%B8%AA%E5%88%86%E6%94%AF%E5%B7%AE%E5%BC%82.md" target="_blank">9. gitæ¯”è¾ƒä¸¤ä¸ªåˆ†æ”¯å·®å¼‚</a></li><li data-pid="HrXaLtGI">  ï¸ <a href="https://github.com/cubxxw/awesome-cs-course/blob/master/Git/markdown/Git%E5%BF%BD%E7%95%A5%E5%92%8Cgitignore.md" target="_blank">10. Gitå¿½ç•¥å’Œ .gitignore</a></li><li data-pid="U70iKGOs">  ï¸ <a href="https://github.com/cubxxw/awesome-cs-course/blob/master/Git/markdown/git-adds.md" target="_blank">11. æäº¤åˆ°å¤šä¸ªè¿œç¨‹ä»“åº“</a></li><li data-pid="nZXihLQf">  ï¸ <a href="https://github.com/cubxxw/awesome-cs-course/blob/master/Git/markdown/git-contributor.md" target="_blank">12. è´¡çŒ®ä»£ç </a></li></ul><h2>  å¼€æºç¤¾åŒºå®ä¹ ç»å†ç¯‡</h2><blockquote data-pid="w7A1r2Ev">è®°å½•ä¸‹å‚ä¸å¼€æºç¤¾åŒºçš„ä¸€äº›è®°å½•</blockquote><ul><li data-pid="pzigqg5j"><a href="https://nsddd.top/archives/sealos-one" target="_blank">è®°å½•</a></li></ul><blockquote data-pid="WQG3EY7U">ç»Ÿä¸€æ ¼å¼ï¼š<br>ç»Ÿä¸€æ ¼å¼ï¼šgit commit -m 'type(scope): æè¿°(#issue)'</blockquote><p data-pid="6ppwRq4z">æˆ‘ä»¬åœ¨æäº¤çš„æ—¶å€™å¸¦ä¸Šé‚®ç®±ä¿¡æ¯ï¼š<code>-s</code></p><p data-pid="kYAFgq56">git commit -s -m "..."</p><blockquote data-pid="rVCOqXEz"><code>git commit</code>è‰ºæœ¯ï¼š<br>&lt;ç±»å‹&gt;[å¯é€‰ èŒƒå›´]: &lt;æè¿°&gt; [å¯é€‰ æ­£æ–‡] [å¯é€‰ è„šæ³¨]<br><code>git commit</code>æäº¤ç±»å‹å¯ä»¥æ˜¯å¦‚ä¸‹ï¼š</blockquote><ol><li data-pid="e3Vae3Ap"><code>feat</code>ï¼šæ–°åŠŸèƒ½ï¼ˆfeatureï¼‰</li><li data-pid="iWIi_cS-"><code>fix</code>ï¼šä¿®è¡¥bug</li><li data-pid="2phFgb_2"><code>docs</code>ï¼šæ–‡æ¡£ï¼ˆdocumentationï¼‰</li><li data-pid="zXQGm4jS"><code>style</code>ï¼š æ ¼å¼ï¼ˆä¸å½±å“ä»£ç è¿è¡Œçš„å˜åŠ¨ï¼‰</li><li data-pid="Z7A2F74e"><code>refactor</code>ï¼šé‡æ„ï¼ˆå³ä¸æ˜¯æ–°å¢åŠŸèƒ½ï¼Œä¹Ÿä¸æ˜¯ä¿®æ”¹bugçš„ä»£ç å˜åŠ¨ï¼‰</li><li data-pid="CBmYzXdo"><code>test</code>ï¼šå¢åŠ æµ‹è¯•</li><li data-pid="EAGywqhf"><code>chore</code>ï¼šæ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨</li><li data-pid="6BfrWfVD"><code>perf</code>ï¼šæ€§èƒ½ä¼˜åŒ–</li><li data-pid="FkPvLixQ"><code>revert</code>ï¼šå›æ»š</li><li data-pid="2Ment-j5"><code>build</code>ï¼šæ„å»º</li><li data-pid="Cjf95DFf"><code>ci</code>ï¼šæŒç»­é›†æˆ</li><li data-pid="GsBcme1W"><code>update</code>ï¼šæ›´æ–°</li><li data-pid="GQ-tQoj5"><code>add</code>ï¼šæ·»åŠ </li><li data-pid="sqYzRL7Q"><code>delete</code>ï¼šåˆ é™¤</li><li data-pid="uNK5xoCs"><code>init</code>ï¼šåˆå§‹åŒ–</li><li data-pid="PQWnomK7"><code>merge</code>ï¼šåˆå¹¶</li><li data-pid="W5fI3kbE"><code>move</code>ï¼šç§»åŠ¨</li><li data-pid="IgQvyQNA"><code>rename</code>ï¼šé‡å‘½å</li><li data-pid="3fTyjDLL"><code>sync</code>ï¼šåŒæ­¥</li><li data-pid="hDa81lb3"><code>release</code>ï¼šå‘å¸ƒ</li><li data-pid="JLPw5lJt"><code>hotfix</code>ï¼šä¿®å¤çº¿ä¸Šé—®é¢˜</li><li data-pid="nTsEBPTh"><code>optimize</code>ï¼šä¼˜åŒ–</li></ol><p class="ztext-empty-paragraph"><br></p><p data-pid="gNja2Wvv">æˆ‘ä»¬æˆ–è®¸å¯ä»¥åŸºäºè¿œç¨‹<code>origin</code>åˆ†æ”¯åˆ›å»ºä¸€ä¸ªæ–°çš„åˆ†æ”¯<code>bug-xiongxinwei</code></p><p data-pid="QW-E0-M0">git checkout -b bug-xiongxinwei origin</p><p data-pid="C8F0E5lF">å¦‚æœä½ æœ‰å¤šæ¬¡æäº¤</p><div class="highlight"><pre><code class="language-text">git rebase -i	&lt;commit-id&gt;  # å¦‚æœä½ çš„præœ‰å¤šæ¬¡æäº¤</code></pre></div><p data-pid="tidc-oen">åˆå¹¶ï¼šæƒ³è¦æŠŠmasteråˆ†æ”¯åˆå¹¶åˆ°featureåˆ†æ”¯</p><p data-pid="rnC5_HRm">git checkout feature git rebase master  //è¿™ä¸¤æ¡å‘½ä»¤ç­‰ä»·äºgit rebase master feature</p><p data-pid="q0nKTr3g"><code>origin</code>â€œå’Œâ€<code>bug-xiongxinwei</code>â€œè¿™ä¸¤ä¸ªåˆ†æ”¯å„è‡ª å‰è¿› äº†</p><p data-pid="Iwqh4ftv">åœ¨è¿™é‡Œï¼Œä½ å¯ä»¥ç”¨â€<code>pull</code>â€œå‘½ä»¤æŠŠâ€<code>origin</code>â€œåˆ†æ”¯ä¸Šçš„ä¿®æ”¹æ‹‰ä¸‹æ¥å¹¶ä¸”å’Œä½ çš„ä¿®æ”¹åˆå¹¶ï¼› ç»“æœçœ‹èµ·æ¥å°±åƒä¸€ä¸ªæ–°çš„â€åˆå¹¶çš„æäº¤â€(merge commit)</p><p data-pid="xJjicG1m">ä½†æ˜¯ï¼Œå¦‚æœä½ æƒ³è®©â€<code>mywork</code>â€œåˆ†æ”¯å†å²çœ‹èµ·æ¥åƒæ²¡æœ‰ç»è¿‡ä»»ä½•åˆå¹¶ä¸€æ ·ï¼Œä¹Ÿå¯ä»¥ç”¨ <code>git rebase</code>ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p><div class="highlight"><pre><code class="language-text">git checkout mywork
git rebase origin</code></pre></div><p data-pid="t08L4cW1">è¿™äº›å‘½ä»¤ä¼šæŠŠä½ çš„â€<code>mywork</code>â€œåˆ†æ”¯é‡Œçš„æ¯ä¸ªæäº¤(commit)å–æ¶ˆæ‰ï¼Œå¹¶ä¸”æŠŠå®ƒä»¬ä¸´æ—¶ ä¿å­˜ä¸ºè¡¥ä¸(patch)(è¿™äº›è¡¥ä¸æ”¾åˆ°â€<code>.git/rebase</code>â€œç›®å½•ä¸­)ï¼Œç„¶åæŠŠâ€<code>mywork</code>â€œåˆ†æ”¯æ›´æ–° åˆ°æœ€æ–°çš„â€<code>origin</code>â€œåˆ†æ”¯ï¼Œæœ€åæŠŠä¿å­˜çš„è¿™äº›è¡¥ä¸åº”ç”¨åˆ°â€<code>mywork</code>â€œåˆ†æ”¯ä¸Šã€‚</p><h2>æˆ‘çš„å·¥ä½œæµ</h2><p data-pid="LHjBIP3P">åœ¨ç»å†å‡ å¹´çš„ git ä½¿ç”¨åï¼Œæˆ‘å½¢æˆäº†è‡ªå·±çš„ git å·¥ä½œæµï¼Œé…åˆ GitHub CLI çš„ä½¿ç”¨ï¼Œ<a href="https://nsddd.top/archives/gh" target="_blank">å¦‚æœä½ æƒ³äº†è§£ Github CLIï¼Œè¿™ç¯‡æ–‡ç« å¯ä»¥å¸®åŠ©åˆ°ä½ </a></p><p data-pid="evtLmEHT">æœ€å¼€å§‹ä½¿ç”¨çš„æ˜¯ <b>ä¸­å¿ƒå¼ååŒæµ</b>ï¼Œä¸‹é¢ä¸¤ä¸ªä»“åº“é™ªä¼´ç€æˆ‘ä½¿ç”¨æœ€ä¹…ï¼Œä¹Ÿæ˜¯å­¦ä¹ ä»“åº“ï¼Œæˆ–è®¸å¯¹ä½ ä»¬æœ‰å¸®åŠ©å¯ä»¥ starï¼š</p><ul><li data-pid="Ds7LBilW"><a href="https://github.com/cubxxw/CS-NativeCloud-Blockchain-awesome" target="_blank">cubxxw/CS-NativeCloud-Blockchain-awesome</a> -   èœé¸Ÿæˆé•¿æ‰‹å†Œ  CSç³»åˆ— ã€äº‘åŸç”Ÿç³»åˆ—ã€åŒºå—é“¾ç³»åˆ—ã€web3ç³»åˆ— ã€Golangç³»åˆ— ...... (2 days ago)</li><li data-pid="mCYbSJAQ"><a href="https://github.com/cubxxw/awesome-cs-course" target="_blank">cubxxw/awesome-cs-course</a> -  awesomeï¼šLinuxã€csappã€osã€leetcodeã€webã€htmlã€cssã€JavaScriptã€gitã€javaã€pythonã€C/C++ã€mysqlã€mongodbã€golangã€blockchainã€markdown (6 days ago)</li></ul><p data-pid="24CwEY6q">è¿™ä¸ªè¿‡ç¨‹ä¸€èˆ¬æ˜¯ä¸‹é¢è¿™ä¸ªæ ·å­çš„ï¼š</p><ol><li data-pid="bFBF5r0W">ä»æœåŠ¡å™¨ä¸Šåšgit pull origin masteræŠŠä»£ç åŒæ­¥ä¸‹æ¥</li><li data-pid="F1GgSriM">æ”¹å®Œåï¼Œgit commitåˆ°æœ¬åœ°ä»“åº“ä¸­</li><li data-pid="PZtedraG">ç„¶ågit push origin masteråˆ°è¿œç¨‹ä»“åº“ä¸­ï¼Œè¿™æ ·å…¶ä»–åŒå­¦å°±å¯ä»¥å¾—åˆ°ä½ çš„ä»£ç äº†</li></ol><p data-pid="hUvXPmKM">å¦‚æœåœ¨ç¬¬ 3 æ­¥å‘ç° push å¤±è´¥ï¼Œå› ä¸ºåˆ«äººå·²ç»æäº¤äº†ï¼Œé‚£ä¹ˆä½ éœ€è¦å…ˆæŠŠæœåŠ¡å™¨ä¸Šçš„ä»£ç ç»™ pull ä¸‹æ¥ï¼Œä¸ºäº†é¿å…æœ‰ merge åŠ¨ä½œï¼Œä½ å¯ä»¥ä½¿ç”¨ git pull --rebase ã€‚è¿™æ ·å°±å¯ä»¥æŠŠæœåŠ¡å™¨ä¸Šçš„æäº¤ç›´æ¥åˆå¹¶åˆ°ä½ çš„ä»£ç ä¸­ï¼š</p><ul><li data-pid="mFMVz4qh">å…ˆæŠŠä½ æœ¬åœ°æäº¤çš„ä»£ç æ”¾åˆ°ä¸€è¾¹</li><li data-pid="Rhy3NYrV">ç„¶åæŠŠæœåŠ¡å™¨ä¸Šçš„æ”¹åŠ¨ä¸‹è½½ä¸‹æ¥</li><li data-pid="bW4Q6chs">ç„¶ååœ¨æœ¬åœ°æŠŠä½ ä¹‹å‰çš„æ”¹åŠ¨å†é‡æ–°ä¸€ä¸ªä¸€ä¸ªåœ°åš commitï¼Œç›´åˆ°å…¨éƒ¨æˆåŠŸ</li></ul><p data-pid="G888ddcQ">å¦‚æœæœ‰å†²çªï¼Œé‚£ä¹ˆä½ è¦å…ˆè§£å†³å†²çªï¼Œç„¶ååš git rebase --continue</p><p data-pid="sz2RJKpt">âš ï¸ é€‚ç”¨äºå°é¡¹ç›®ï¼Œåé¢æˆ‘å°è¯•ä½¿ç”¨ <b>åŠŸèƒ½åˆ†æ”¯ååŒæµ</b>ï¼š</p><h3>åŠŸèƒ½åˆ†æ”¯</h3><p data-pid="Wco4LcRR">å¼•å…¥â€œåŠŸèƒ½åˆ†æ”¯â€ã€‚è¿™ä¸ªååŒå·¥ä½œæµçš„å¼€å‘è¿‡ç¨‹å¦‚ä¸‹ï¼š</p><ol><li data-pid="kOqOLjpz">é¦–å…ˆä½¿ç”¨ git checkout -b new-feature åˆ›å»º â€œnew-featureâ€åˆ†æ”¯</li><li data-pid="o7z9UZsI">ç„¶åå…±åŒå¼€å‘è¿™ä¸ªåŠŸèƒ½çš„ç¨‹åºå‘˜å°±åœ¨è¿™ä¸ªåˆ†æ”¯ä¸Šå·¥ä½œï¼Œè¿›è¡Œ addã€commit ç­‰æ“ä½œ</li><li data-pid="sv433MqQ">ç„¶åé€šè¿‡ git push -u origin new-feature æŠŠåˆ†æ”¯ä»£ç  push åˆ°æœåŠ¡å™¨ä¸Š</li><li data-pid="vXItyd0p">å…¶ä»–ç¨‹åºå‘˜å¯ä»¥é€šè¿‡git pull --rebaseæ¥æ‹¿åˆ°æœ€æ–°çš„è¿™ä¸ªåˆ†æ”¯çš„ä»£ç </li><li data-pid="jJW-rh_t">æœ€åé€šè¿‡ Pull Request çš„æ–¹å¼åšå®Œ Code Review ååˆå¹¶åˆ° Master åˆ†æ”¯ä¸Š</li></ol><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-ba87a6a53107f464b900bade812d8b27_r.jpg" data-caption="" data-size="normal" width="1024" referrerpolicy="no-referrer"></figure><p data-pid="NuMz_yIL">ä½†æ˜¯åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œè¿™æ ·çš„å¼€å‘ä¹Ÿæ˜¯æ²¡æœ‰åŠæ³•æ»¡è¶³éœ€æ±‚çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å‡ºç°äº†ä¸€ä¸ª GitFlow ååŒå·¥ä½œæµï¼Œä½†æ˜¯ç”±äº git flow å¤ªå¤æ‚ï¼Œå¾ˆä¹±ï¼Œæ‰€ä»¥åé¢åˆæœ‰äº† GitHub Flow ã€‚</p><blockquote data-pid="nAPmFVxB">å…¶ä¸­æœ‰ä¸ªé—®é¢˜å°±æ˜¯å› ä¸ºåˆ†æ”¯å¤ªå¤šï¼Œæ‰€ä»¥ä¼šå‡ºç° git log æ··ä¹±çš„å±€é¢ã€‚å…·ä½“æ¥è¯´ï¼Œä¸»è¦æ˜¯ git-flow ä½¿ç”¨git merge --no-ffæ¥åˆå¹¶åˆ†æ”¯ï¼Œåœ¨ git-flow è¿™æ ·å¤šä¸ªåˆ†æ”¯çš„ç¯å¢ƒä¸‹ä¼šè®©ä½ çš„åˆ†æ”¯ç®¡ç†çš„ log å˜å¾—å¾ˆéš¾çœ‹ã€‚</blockquote><p data-pid="v76MOu-8">âš ï¸ å› æ­¤ï¼Œæœ€ç»ˆæˆ‘é€‰æ‹©çš„å·¥ä½œæµæ–¹å¼æ˜¯ GitHub Flow ï¼Œå› ä¸ºä¸äº†è§£ GitLabï¼Œæ‰€ä»¥å¯¹äº GitLab å·¥ä½œæµä¸åšè¯„ä»·ã€‚</p><h3>GitHub Flow</h3><p data-pid="rBdArPni">æ‰€è°“ GitHub Flowï¼Œå…¶å®ä¹Ÿå« Forking flowï¼Œä¹Ÿå°±æ˜¯ GitHub ä¸Šçš„é‚£ä¸ªå¼€å‘æ–¹å¼ã€‚</p><ol><li data-pid="lvOnBxFI">æ¯ä¸ªå¼€å‘äººå‘˜éƒ½æŠŠ â€œå®˜æ–¹åº“â€ çš„ä»£ç  fork åˆ°è‡ªå·±çš„ä»£ç ä»“åº“ä¸­ã€‚</li><li data-pid="icslyJv6">ç„¶åï¼Œå¼€å‘äººå‘˜åœ¨è‡ªå·±çš„ä»£ç ä»“åº“ä¸­åšå¼€å‘ï¼Œæƒ³å¹²å•¥å¹²å•¥ã€‚</li><li data-pid="6bzPaQOb">å› æ­¤ï¼Œå¼€å‘äººå‘˜çš„ä»£ç åº“ä¸­ï¼Œéœ€è¦é…ä¸¤ä¸ªè¿œç¨‹ä»“åº“ï¼Œä¸€ä¸ªæ˜¯è‡ªå·±çš„åº“ï¼Œä¸€ä¸ªæ˜¯å®˜æ–¹åº“ï¼ˆç”¨æˆ·çš„åº“ç”¨äºæäº¤ä»£ç æ”¹åŠ¨ï¼Œå®˜æ–¹åº“ç”¨äºåŒæ­¥ä»£ç ï¼‰ã€‚</li><li data-pid="QA3EGKQy">ç„¶ååœ¨æœ¬åœ°å»º â€œåŠŸèƒ½åˆ†æ”¯â€ï¼Œåœ¨è¿™ä¸ªåˆ†æ”¯ä¸Šåšä»£ç å¼€å‘ã€‚</li><li data-pid="UDBF841C">è¿™ä¸ªåŠŸèƒ½åˆ†æ”¯è¢« push åˆ°å¼€å‘äººå‘˜è‡ªå·±çš„ä»£ç ä»“åº“ä¸­ã€‚</li><li data-pid="Si7CCBPU">ç„¶åï¼Œå‘ â€œå®˜æ–¹åº“â€ å‘èµ· pull requestï¼Œå¹¶åš Code Reviewã€‚</li></ol><p data-pid="vv5hAxt0">è¿™å°±æ˜¯ GitHub çš„å·¥ä½œæµç¨‹ã€‚</p><p data-pid="yklnugAg">å¦‚æœä½ æœ‰ â€œå®˜æ–¹åº“â€ çš„æƒé™ï¼Œé‚£ä¹ˆå°±å¯ä»¥ç›´æ¥åœ¨ â€œå®˜æ–¹åº“â€ ä¸­å»ºåŠŸèƒ½åˆ†æ”¯å¼€å‘ï¼Œç„¶åæäº¤ pull requestã€‚é€šè¿‡ Code Review åï¼Œåˆå¹¶è¿› Master åˆ†æ”¯ï¼Œè€Œ Master ä¸€æ—¦æœ‰ä»£ç è¢«åˆå¹¶å°±å¯ä»¥é©¬ä¸Š releaseã€‚</p><p data-pid="6lVplIvq">è¿™æ˜¯ä¸€ç§éå¸¸ Geek çš„ç©æ³•ã€‚è¿™éœ€è¦ä¸€ä¸ªè‡ªåŠ¨åŒ–çš„ CI/CD å·¥å…·åšè¾…åŠ©ã€‚æ˜¯çš„ï¼ŒCI/CD åº”è¯¥æ˜¯å¼€å‘ä¸­çš„æ ‡é…äº†ã€‚</p><p data-pid="dSTKJJLZ"><a href="https://nsddd.top/archives/actions" target="_blank">å…³äº CI/CD action å¯ä»¥çœ‹è¿™ç¯‡æ–‡ç« </a>ï¼Œå½“ç„¶ï¼Œæ‰€æœ‰ç¬”è®°åœ¨ä¸Šé¢çš„ä»“åº“ä¸­éƒ½æœ‰ä»‹ç»ï¼Œæœ‰å¿ƒäººè‡ªç„¶èƒ½æ‰¾åˆ°ã€‚</p><h3>æ‰¾åˆ°é€‚åˆä½ çš„</h3><p data-pid="nIerz_QR">æˆ‘ä»¬çŸ¥é“è½¯ä»¶å¼€å‘çš„è¶‹åŠ¿ä¸€å®šæ˜¯ä¸‹é¢è¿™ä¸ªæ ·å­çš„ï¼š</p><ul><li data-pid="s-65Udgq">ä»¥å¾®æœåŠ¡æˆ–æ˜¯ SOA ä¸ºæ¶æ„çš„æ–¹å¼ã€‚ä¸€ä¸ªå¤§å‹è½¯ä»¶ä¼šè¢«æ‹†åˆ†æˆè‹¥å¹²ä¸ªæœåŠ¡ï¼Œé‚£ä¹ˆï¼Œæˆ‘ä»¬çš„ä»£ç åº”è¯¥ä¹Ÿä¼šè·Ÿç€æœåŠ¡æ‹†è§£æˆè‹¥å¹²ä¸ªä»£ç ä»“åº“ã€‚è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬çš„æ¯ä¸ªä»£ç ä»“åº“éƒ½ä¼šå˜å°ï¼Œäºæ˜¯æˆ‘ä»¬çš„ååŒå·¥ä½œæµç¨‹å°±ä¼šå˜ç®€å•ã€‚<br>å¯¹äºæ¯ä¸ªæœåŠ¡çš„ä»£ç ä»“åº“ï¼Œæˆ‘ä»¬çš„å¼€å‘å’Œè¿­ä»£é€Ÿåº¦ä¹Ÿä¼šå˜å¾—å¾ˆå¿«ï¼Œå¼€å‘å›¢é˜Ÿä¹Ÿä¼šè·ŸæœåŠ¡ä¸€æ ·è¢«æ‹†åˆ†æˆå¤šä¸ªå°å›¢é˜Ÿã€‚è¿™æ ·ä¸€æ¥ï¼Œ GitFlow è¿™ç§ååŒå·¥ä½œæµç¨‹å°±éå¸¸é‡äº†ï¼Œè€Œ GitHub è¿™ç§æ–¹å¼æˆ–æ˜¯åŠŸèƒ½åˆ†æ”¯è¿™ç§æ–¹å¼ä¼šæ›´é€‚åˆæˆ‘ä»¬çš„å¼€å‘ã€‚</li><li data-pid="SQw-M1wi">ä»¥ DevOps ä¸ºä¸»çš„å¼€å‘æµç¨‹ã€‚DevOps å…³æ³¨äº CI/CDï¼Œéœ€è¦æˆ‘ä»¬æœ‰è‡ªåŠ¨åŒ–çš„é›†æˆæµ‹è¯•å’ŒæŒç»­éƒ¨ç½²çš„å·¥å…·ã€‚è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬çš„ä»£ç å‘å¸ƒé€Ÿåº¦å°±ä¼šå¤§å¤§åŠ å¿«ï¼Œæ¯ä¸€æ¬¡æäº¤éƒ½èƒ½å¾ˆå¿«åœ°è¢«å®Œæ•´åœ°é›†æˆæµ‹è¯•ï¼Œå¹¶å¾ˆå¿«åœ°å‘å¸ƒåˆ°ç”Ÿäº§çº¿ä¸Šã€‚</li></ul><p data-pid="86au2Sad">æˆ‘åœ¨æƒ³ï¼Œæ˜¯å¦æœ‰ä¸€ç§å·¥ä½œæµï¼Œå¯ä»¥é¢å¯¹æˆ‘ä»¬ç°å®å·¥ä½œä¸­çš„å„ç§æƒ…å†µã€‚ä½†æ˜¯ï¼Œæˆ‘æƒ³è¿™ä¸ªä¸–ç•Œå¤ªå¤æ‚äº†ï¼Œåº”è¯¥ä¸å­˜åœ¨ä¸€ç§ä¸€æ‹›é²œåƒéå¤©çš„æ”¾ä¹‹å››æµ·çš†å‡†çš„é“¶å¼¹æ–¹æ¡ˆã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬è¿˜è¦æ ¹æ®è‡ªå·±çš„å®é™…æƒ…å†µæ¥æŒ‘é€‰é€‚åˆæˆ‘ä»¬çš„ååŒå·¥ä½œçš„æ–¹å¼ã€‚</p></div> </details> 
 <hr /> 

 #### - [Goè¯­è¨€æ¡†æ¶ä¸‰ä»¶å¥—ï¼ˆWeb/RPC/GORM)](https://zhuanlan.zhihu.com/p/601286934) 
 <details><summary>ØªÙˆØ¶ÛŒØ­Ø§Øª</summary> <p><img src="https://picx.zhimg.com/v2-8b20b14c5c966403f294dd154dfaf73b_720w.jpg?source=d16d100b"></p><div><ul><li data-pid="mPzz-N6_"><a href="https://github.com/3293172751" target="_blank">author</a></li></ul><h2>ç¬¬29èŠ‚ Goè¯­è¨€æ¡†æ¶ä¸‰ä»¶å¥—ï¼ˆWeb/RPC/GORM)</h2><h3>ORMã€GORM</h3><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-f7a6d910b6f99427003f2a470908e6d5_r.jpg" data-size="normal" width="1910" referrerpolicy="no-referrer"><figcaption>image-20230120210000499</figcaption></figure><p data-pid="ucsb0BsH">ORMå…¨ç§°æ˜¯ï¼šObject Relational Mapping(<b>å¯¹è±¡å…³ç³»æ˜ å°„</b>)ï¼Œå…¶ä¸»è¦ä½œç”¨æ˜¯åœ¨ç¼–ç¨‹ä¸­ï¼ŒæŠŠ<b>é¢å‘å¯¹è±¡</b>çš„æ¦‚å¿µè·Ÿæ•°æ®åº“ä¸­<b>è¡¨çš„æ¦‚å¿µ</b>å¯¹åº”èµ·æ¥ã€‚</p><p data-pid="wApxfHq0"><i>ä¸¾ä¾‹æ¥è¯´å°±æ˜¯ï¼Œæˆ‘å®šä¹‰ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£å°±å¯¹åº”ç€ä¸€å¼ è¡¨ï¼Œè¿™ä¸ªå¯¹è±¡çš„å®ä¾‹ï¼Œå°±å¯¹åº”ç€è¡¨ä¸­çš„ä¸€æ¡è®°å½•ã€‚</i></p><p data-pid="MJ4ptc_l">GORMï¼šæ˜¯Golangè¯­è¨€ä¸­ä¸€æ¬¾<b>æ€§èƒ½æå¥½</b>çš„ORMåº“ï¼Œå¯¹å¼€å‘äººå‘˜ç›¸å¯¹æ˜¯æ¯”è¾ƒå‹å¥½çš„ã€‚</p><h3>GROM</h3><h3>GORMç‰¹æ€§</h3><ul><li data-pid="3RleEp8n">å…¨åŠŸèƒ½ ORM</li><li data-pid="SeZCDswR">å…³è” (Has Oneï¼ŒHas Manyï¼ŒBelongs Toï¼ŒMany To Manyï¼Œå¤šæ€ï¼Œå•è¡¨ç»§æ‰¿)</li><li data-pid="Xm6eupMm">Createï¼ŒSaveï¼ŒUpdateï¼ŒDeleteï¼ŒFind ä¸­é’©å­æ–¹æ³•</li><li data-pid="0wUm9s5x">æ”¯æŒ <code>Preload</code>ã€<code>Joins</code> çš„é¢„åŠ è½½</li><li data-pid="E6-yOgAF">äº‹åŠ¡ï¼ŒåµŒå¥—äº‹åŠ¡ï¼ŒSave Pointï¼ŒRollback To Saved Point</li><li data-pid="0rXULdd9">Contextã€é¢„ç¼–è¯‘æ¨¡å¼ã€DryRun æ¨¡å¼</li><li data-pid="X3e4nuOn">æ‰¹é‡æ’å…¥ï¼ŒFindInBatchesï¼ŒFind/Create with Mapï¼Œä½¿ç”¨ SQL è¡¨è¾¾å¼ã€Context Valuer è¿›è¡Œ CRUD</li><li data-pid="izio2oEH">SQL æ„å»ºå™¨ï¼ŒUpsertï¼Œæ•°æ®åº“é”ï¼ŒOptimizer/Index/Comment Hintï¼Œå‘½åå‚æ•°ï¼Œå­æŸ¥è¯¢</li><li data-pid="G_rlwFQm">å¤åˆä¸»é”®ï¼Œç´¢å¼•ï¼Œçº¦æŸ</li><li data-pid="bQpATlre">Auto Migration</li><li data-pid="V_V4B-IS">è‡ªå®šä¹‰ Logger</li><li data-pid="VraakrvM">çµæ´»çš„å¯æ‰©å±•æ’ä»¶ APIï¼šDatabase Resolverï¼ˆå¤šæ•°æ®åº“ï¼Œè¯»å†™åˆ†ç¦»ï¼‰ã€Prometheusâ€¦</li><li data-pid="wVdaqE8K">æ¯ä¸ªç‰¹æ€§éƒ½ç»è¿‡äº†æµ‹è¯•çš„é‡é‡è€ƒéªŒ</li><li data-pid="ipKNj97h">å¼€å‘è€…å‹å¥½</li></ul><h3>é©±åŠ¨æ–¹å¼é“¾æ¥</h3><p data-pid="hxc7HEAK"><b>GORM æ˜¯é€šè¿‡é©±åŠ¨çš„æ–¹å¼æ¥é“¾æ¥æ•°æ®åº“çš„ï¼Œç›®å‰æ”¯æŒ Mysqlã€SQLSeverã€PostgreSQLã€SQLiteã€‚å¦‚æœéœ€è¦é“¾æ¥å…¶ä»–ç±»å‹çš„æ•°æ®åº“ï¼Œå¯ä»¥ å¤ç”¨/è‡ªè¡Œ å¼€å‘é©±åŠ¨ã€‚</b></p><ul><li data-pid="GTfv7PzY">é©±åŠ¨ï¼Œæ˜¯æŒ‡è½¯ä»¶é©±åŠ¨ç¨‹åºã€‚æ˜¯ä¸€ç§ä¸­é—´ä»¶ï¼Œå®ƒèƒ½å¤Ÿå°†åº”ç”¨ç¨‹åºä¸ç¡¬ä»¶æˆ–å…¶ä»–ç³»ç»Ÿä¹‹é—´çš„ä¿¡æ¯è¿›è¡Œè½¬æ¢ã€‚åœ¨æ•°æ®åº“é¢†åŸŸä¸­ï¼Œé©±åŠ¨ç¨‹åºå°±æ˜¯ä¸€ç§è½¯ä»¶ï¼Œå®ƒèƒ½å¤Ÿå°†åº”ç”¨ç¨‹åºä¸æ•°æ®åº“ä¹‹é—´çš„ä¿¡æ¯è¿›è¡Œè½¬æ¢ã€‚</li><li data-pid="bBwMlzCd">é©±åŠ¨ç¨‹åºé€šå¸¸æä¾›ä¸€ç»„æ ‡å‡†çš„æ•°æ®åº“è¿æ¥æ¥å£ã€‚è¿™äº›æ¥å£åŒ…æ‹¬è¿æ¥æ•°æ®åº“ã€æ‰§è¡Œ SQL è¯­å¥ã€è·å–ç»“æœé›†ç­‰ã€‚åº”ç”¨ç¨‹åºå¯ä»¥ä½¿ç”¨è¿™äº›æ¥å£ä¸æ•°æ®åº“è¿›è¡Œäº¤äº’ã€‚</li></ul><p data-pid="A1CLM5q6">åœ¨ GORM ä¸­ï¼Œé©±åŠ¨ç¨‹åºæ˜¯å°† Go è¯­è¨€ä¸æ•°æ®åº“ä¹‹é—´çš„ä¿¡æ¯è¿›è¡Œè½¬æ¢çš„è½¯ä»¶ã€‚ GORM åº“ä½¿ç”¨é©±åŠ¨ç¨‹åºæ¥è¿æ¥æ•°æ®åº“ï¼Œå¹¶ä½¿ç”¨é©±åŠ¨ç¨‹åºæä¾›çš„æ¥å£æ¥è¿›è¡Œæ•°æ®åº“æ“ä½œã€‚è¿™æ ·ï¼ŒGORM åº“å°±ä¸ç”¨å…³å¿ƒæ•°æ®åº“æ˜¯å“ªç§æ•°æ®åº“ï¼Œåªè¦æœ‰é©±åŠ¨ç¨‹åºå°±å¯ä»¥è¿æ¥æ•°æ®åº“ã€‚</p><p data-pid="uvpb8cT2">é©±åŠ¨æ˜¯ä¸€ç§è½¯ä»¶ï¼Œå®ƒèƒ½å¤Ÿå°† Go è¯­è¨€ä¸æ•°æ®åº“ä¹‹é—´çš„ä¿¡æ¯è¿›è¡Œè½¬æ¢ã€‚é©±åŠ¨é€šè¿‡ä¸€ç»„æ ‡å‡†çš„æ•°æ®åº“è¿æ¥æ¥å£æ¥æä¾›è¿æ¥æ•°æ®åº“çš„åŠŸèƒ½ã€‚</p><p data-pid="MIdH3ze1">GORM çš„è®¾è®¡åŸåˆ™æ˜¯å¯¹æ•°æ®åº“è®¿é—®è¿›è¡Œå°è£…ï¼Œè€Œä¸æ˜¯å¯¹ SQL è¯­å¥è¿›è¡Œå°è£…ã€‚è¿™æ ·å¯ä»¥è®©å¼€å‘äººå‘˜ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘ï¼Œè€Œä¸ç”¨å…³å¿ƒæ•°æ®åº“çš„ç»†èŠ‚ã€‚</p><p data-pid="uYvCTfPv"><b>ä»¥é©±åŠ¨çš„æ–¹å¼é“¾æ¥æ•°æ®åº“çš„å¥½å¤„æ˜¯ï¼š</b></p><ul><li data-pid="iQ-Rj9wg">ä½¿ç”¨é©±åŠ¨å¯ä»¥æ”¯æŒå¤šç§æ•°æ®åº“ï¼Œè€Œä¸ç”¨å¯¹ GORM è¿›è¡Œä¿®æ”¹ã€‚</li><li data-pid="lO1pA8Yq">ä½¿ç”¨é©±åŠ¨å¯ä»¥æ›´å¥½åœ°æ”¯æŒæ•°æ®åº“çš„æ–°ç‰¹æ€§ã€‚</li><li data-pid="FSRgWf-e">ä½¿ç”¨é©±åŠ¨å¯ä»¥æ›´å¥½åœ°è¿›è¡Œæ•°æ®åº“æ€§èƒ½ä¼˜åŒ–ã€‚</li></ul><h3>DSN</h3><p data-pid="Lkv_Ksiw">[[DSN]] æ˜¯ Data Source Name çš„ç¼©å†™ï¼Œæ˜¯ä¸€ç§æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²ï¼Œå®ƒæä¾›äº†è¿æ¥æ•°æ®åº“æ‰€éœ€çš„æ‰€æœ‰ä¿¡æ¯ã€‚</p><p data-pid="W9auVztN">DSN çš„æ ¼å¼é€šå¸¸åŒ…æ‹¬æ•°æ®åº“ç±»å‹ã€æ•°æ®åº“åç§°ã€ç”¨æˆ·åã€å¯†ç å’Œè¿æ¥åœ°å€ç­‰ä¿¡æ¯ã€‚</p><p data-pid="kWAcPXsC">ä¾‹å¦‚å¯¹äº <a href="https://github.com/go-sql-driver/mysql" target="_blank">mysql æ•°æ®åº“</a>æ¥è¯´ï¼ŒDSN æ ¼å¼å¦‚ä¸‹:</p><div class="highlight"><pre><code class="language-go"><span class="nx">user</span><span class="p">:</span><span class="nx">password</span><span class="err">@</span><span class="nf">tcp</span><span class="p">(</span><span class="nx">host</span><span class="p">:</span><span class="nx">port</span><span class="p">)</span><span class="o">/</span><span class="nx">dbname</span>
</code></pre></div><p data-pid="lA-5bRue">å…¶ä¸­:</p><ul><li data-pid="KSXohvw6"><code>user</code>: æ•°æ®åº“ç”¨æˆ·å</li><li data-pid="T4rsu0QC"><code>password</code>: æ•°æ®åº“å¯†ç </li><li data-pid="MbmRVi3c"><code>host</code>: æ•°æ®åº“åœ°å€</li><li data-pid="UXGuUNX5"><code>port</code>: æ•°æ®åº“ç«¯å£</li><li data-pid="6EVfMcci"><code>dbname</code>: æ•°æ®åº“åç§°</li></ul><p data-pid="21o-hA6q">DSN å­—ç¬¦ä¸²çš„æ ¼å¼å¯èƒ½å› æ•°æ®åº“ç±»å‹è€Œå¼‚ã€‚</p><p data-pid="yR77Fi-O">ä½¿ç”¨DSNå­—ç¬¦ä¸²è¿æ¥æ•°æ®åº“æ˜¯ä¸€ç§å¸¸ç”¨çš„æ–¹å¼ï¼Œå› ä¸ºå®ƒç®€åŒ–äº†è¿æ¥æ•°æ®åº“çš„è¿‡ç¨‹ï¼Œå¹¶ä¸”ä½¿ç”¨DSNå­—ç¬¦ä¸²è¿æ¥çš„æ•°æ®åº“é©±åŠ¨ç¨‹åºé€šå¸¸æ”¯æŒå¤šç§æ•°æ®åº“ç±»å‹ï¼Œè¿™æ ·å°±ä¸ç”¨å†™å¤šä¸ªè¿æ¥æ•°æ®åº“çš„å‡½æ•°äº†ã€‚</p><h3>å®‰è£…å’Œç®€å•å®ç”¨</h3><p data-pid="N-a9wg4j"><b>GORMå®‰è£…</b>ï¼š</p><div class="highlight"><pre><code class="language-powershell"><span class="n">go</span> <span class="n">get</span> <span class="n">-u</span> <span class="n">gorm</span><span class="p">.</span><span class="n">io</span><span class="p">/</span><span class="n">gorm</span>
<span class="n">go</span> <span class="n">get</span> <span class="n">-u</span> <span class="n">gorm</span><span class="p">.</span><span class="n">io</span><span class="p">/</span><span class="n">driver</span><span class="p">/</span><span class="n">sqlite</span></code></pre></div><p data-pid="iZRo0Zvq"><b>Quick Start</b>ï¼š</p><div class="highlight"><pre><code class="language-go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
  <span class="s">"gorm.io/gorm"</span>
  <span class="s">"gorm.io/driver/sqlite"</span>
<span class="p">)</span>

<span class="c1">// åˆ›å»ºæ•°æ®æ¨¡å‹
</span><span class="c1"></span><span class="kd">type</span> <span class="nx">Product</span> <span class="kd">struct</span> <span class="p">{</span>
  <span class="nx">gorm</span><span class="p">.</span><span class="nx">Model</span>
  <span class="nx">Code</span>  <span class="kt">string</span>
  <span class="nx">Price</span> <span class="kt">uint</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">db</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">gorm</span><span class="p">.</span><span class="nf">Open</span><span class="p">(</span><span class="nx">sqlite</span><span class="p">.</span><span class="nf">Open</span><span class="p">(</span><span class="s">"test.db"</span><span class="p">),</span> <span class="o">&amp;</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">Config</span><span class="p">{})</span>
  <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
    <span class="nb">panic</span><span class="p">(</span><span class="s">"failed to connect database"</span><span class="p">)</span>
  <span class="p">}</span>

  <span class="c1">// è¿ç§» schema
</span><span class="c1"></span>  <span class="nx">db</span><span class="p">.</span><span class="nf">AutoMigrate</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">Product</span><span class="p">{})</span>

  <span class="c1">// Create
</span><span class="c1"></span>  <span class="nx">db</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">Product</span><span class="p">{</span><span class="nx">Code</span><span class="p">:</span> <span class="s">"D42"</span><span class="p">,</span> <span class="nx">Price</span><span class="p">:</span> <span class="mi">100</span><span class="p">})</span>

  <span class="c1">// Read
</span><span class="c1"></span>  <span class="kd">var</span> <span class="nx">product</span> <span class="nx">Product</span>
  <span class="nx">db</span><span class="p">.</span><span class="nf">First</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">product</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="c1">// æ ¹æ®æ•´å‹ä¸»é”®æŸ¥æ‰¾
</span><span class="c1"></span>  <span class="nx">db</span><span class="p">.</span><span class="nf">First</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">product</span><span class="p">,</span> <span class="s">"code = ?"</span><span class="p">,</span> <span class="s">"D42"</span><span class="p">)</span> <span class="c1">// æŸ¥æ‰¾ code å­—æ®µå€¼ä¸º D42 çš„è®°å½•
</span><span class="c1"></span>
  <span class="c1">// Update - å°† product çš„ price æ›´æ–°ä¸º 200
</span><span class="c1"></span>  <span class="nx">db</span><span class="p">.</span><span class="nf">Model</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">product</span><span class="p">).</span><span class="nf">Update</span><span class="p">(</span><span class="s">"Price"</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
  <span class="c1">// Update - æ›´æ–°å¤šä¸ªå­—æ®µ
</span><span class="c1"></span>  <span class="nx">db</span><span class="p">.</span><span class="nf">Model</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">product</span><span class="p">).</span><span class="nf">Updates</span><span class="p">(</span><span class="nx">Product</span><span class="p">{</span><span class="nx">Price</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span> <span class="nx">Code</span><span class="p">:</span> <span class="s">"F42"</span><span class="p">})</span> <span class="c1">// ä»…æ›´æ–°éé›¶å€¼å­—æ®µ
</span><span class="c1"></span>  <span class="nx">db</span><span class="p">.</span><span class="nf">Model</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">product</span><span class="p">).</span><span class="nf">Updates</span><span class="p">(</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{}{</span><span class="s">"Price"</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span> <span class="s">"Code"</span><span class="p">:</span> <span class="s">"F42"</span><span class="p">})</span>

  <span class="c1">// Delete - åˆ é™¤ product
</span><span class="c1"></span>  <span class="nx">db</span><span class="p">.</span><span class="nf">Delete</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">product</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div><p data-pid="eAj9ObZ1"><b>Mysql çš„ ç®€å•çš„ä¸€ä¸ªæ¡ˆä¾‹å¦‚ä¸‹ï¼š</b></p><div class="highlight"><pre><code class="language-go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
    <span class="s">"fmt"</span>

    <span class="s">"github.com/jinzhu/gorm"</span>
    <span class="nx">_</span> <span class="s">"github.com/jinzhu/gorm/dialects/mysql"</span>
<span class="p">)</span>

<span class="c1">// å®šä¹‰æ•°æ®æ¨¡å‹
</span><span class="c1"></span><span class="kd">type</span> <span class="nx">Product</span> <span class="kd">struct</span> <span class="p">{</span>
    <span class="nx">ID</span>    <span class="kt">uint</span>   <span class="s">`gorm:"primary_key"`</span>
    <span class="nx">Name</span>  <span class="kt">string</span> <span class="s">`gorm:"size:255"`</span>
    <span class="nx">Price</span> <span class="kt">uint</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// å»ºç«‹æ•°æ®åº“è¿æ¥
</span><span class="c1"></span>    <span class="nx">db</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">gorm</span><span class="p">.</span><span class="nf">Open</span><span class="p">(</span><span class="s">"mysql"</span><span class="p">,</span> <span class="s">"root:password@/dbname?charset=utf8&amp;parseTime=True&amp;loc=Local"</span><span class="p">)</span>
    <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
        <span class="nb">panic</span><span class="p">(</span><span class="s">"è¿æ¥æ•°æ®åº“å¤±è´¥"</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">defer</span> <span class="nx">db</span><span class="p">.</span><span class="nf">Close</span><span class="p">()</span>

    <span class="c1">// è‡ªåŠ¨è¿ç§»æ•°æ®åº“ç»“æ„
</span><span class="c1"></span>    <span class="nx">db</span><span class="p">.</span><span class="nf">AutoMigrate</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">Product</span><span class="p">{})</span>

    <span class="c1">// åˆ›å»ºä¸€æ¡æ•°æ®
</span><span class="c1"></span>    <span class="nx">db</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">Product</span><span class="p">{</span><span class="nx">Name</span><span class="p">:</span> <span class="s">"é¢åŒ…"</span><span class="p">,</span> <span class="nx">Price</span><span class="p">:</span> <span class="mi">3</span><span class="p">})</span>

    <span class="c1">// æŸ¥è¯¢æ‰€æœ‰æ•°æ®
</span><span class="c1"></span>    <span class="kd">var</span> <span class="nx">products</span> <span class="p">[]</span><span class="nx">Product</span>
    <span class="nx">db</span><span class="p">.</span><span class="nf">Find</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">products</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">"æ‰€æœ‰äº§å“ï¼š"</span><span class="p">,</span> <span class="nx">products</span><span class="p">)</span>

    <span class="c1">// æ›´æ–°ä¸€æ¡æ•°æ®
</span><span class="c1"></span>    <span class="nx">db</span><span class="p">.</span><span class="nf">Model</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">Product</span><span class="p">{}).</span><span class="nf">Where</span><span class="p">(</span><span class="s">"name = ?"</span><span class="p">,</span> <span class="s">"é¢åŒ…"</span><span class="p">).</span><span class="nf">Update</span><span class="p">(</span><span class="s">"price"</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>

    <span class="c1">// åˆ é™¤ä¸€æ¡æ•°æ®
</span><span class="c1"></span>    <span class="nx">db</span><span class="p">.</span><span class="nf">Where</span><span class="p">(</span><span class="s">"name = ?"</span><span class="p">,</span> <span class="s">"é¢åŒ…"</span><span class="p">).</span><span class="nf">Delete</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">Product</span><span class="p">{})</span>
<span class="p">}</span>
</code></pre></div><blockquote data-pid="lTWyImAN">   å¯¹ä¸Šé¢çš„è§£é‡Šï¼š<br> </blockquote><ol><li data-pid="_sZ6IbLD">åœ¨ main å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡è°ƒç”¨ gorm.Open("mysql", "root:password@/dbname?charset=utf8&amp;parseTime=True&amp;loc=Local") æ¥å»ºç«‹æ•°æ®åº“è¿æ¥ã€‚</li><li data-pid="5AQuOVSI">æˆ‘ä»¬ä½¿ç”¨ db.AutoMigrate(&amp;Product{}) æ¥è‡ªåŠ¨è¿ç§»æ•°æ®åº“ç»“æ„ï¼Œå³è‡ªåŠ¨æ ¹æ® Product ç»“æ„ä½“åˆ›å»ºæ•°æ®è¡¨ã€‚</li><li data-pid="yeK3kL30">æˆ‘ä»¬ä½¿ç”¨ db.Create(&amp;Product{Name: "é¢åŒ…", Price: 3}) æ¥åˆ›å»ºä¸€æ¡æ•°æ®ã€‚</li><li data-pid="D0T69F4d">ä½¿ç”¨ db.Find(&amp;products) æ¥æŸ¥è¯¢æ‰€æœ‰æ•°æ®å¹¶å°†å…¶å­˜å…¥ products å˜é‡ä¸­ã€‚</li><li data-pid="inYHEH8f">æˆ‘ä»¬ä½¿ç”¨ db.Model(&amp;Product{}).Where("name = ?", "é¢åŒ…").Update("price", 4) æ¥æ›´æ–°åç§°ä¸º "é¢åŒ…" çš„äº§å“çš„ä»·æ ¼ã€‚</li><li data-pid="HiXY1ASs">æˆ‘ä»¬ä½¿ç”¨ db.Where("name = ?", "é¢åŒ…").Delete(&amp;Product{}) æ¥åˆ é™¤åç§°ä¸º "é¢åŒ…" çš„äº§å“ã€‚</li><li data-pid="tDJCQxww">æœ€åï¼Œé€šè¿‡ defer db.Close() å…³é—­æ•°æ®åº“è¿æ¥ã€‚</li></ol><p class="ztext-empty-paragraph"><br></p><p data-pid="SfYEq7L2">æ›´ç»†èŠ‚çš„æ“ä½œå¯ä»¥å‚è€ƒï¼š<a href="https://gorm.io/zh_CN/docs/index.html" target="_blank">GORM æŒ‡å— | GORM - The fantastic ORM library for Golang, aims to be developer friendly</a>.</p><p data-pid="UVVh9X7s">å¯ä»¥ä½¿ç”¨gorm.Open()å‡½æ•°æ‰“å¼€æ•°æ®åº“è¿æ¥ã€‚ ä¾‹å¦‚ï¼š</p><div class="highlight"><pre><code class="language-go"><span class="nx">db</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">gorm</span><span class="p">.</span><span class="nf">Open</span><span class="p">(</span><span class="s">"mysql"</span><span class="p">,</span> <span class="s">"user:password@/dbname?charset=utf8&amp;parseTime=True&amp;loc=Local"</span><span class="p">)</span>
</code></pre></div><p data-pid="gzDA2LO8">è¿™é‡Œæ˜¯ä¸€äº›åŸºæœ¬çš„GORMç”¨æ³•ï¼Œå°è¯•ä½¿ç”¨å®ƒæ¥ <b>åˆ›å»ºã€è¯»å–ã€æ›´æ–°å’Œåˆ é™¤</b> æ•°æ®åº“è®°å½•ã€‚</p><div class="highlight"><pre><code class="language-go"><span class="c1">// create
</span><span class="c1"></span><span class="nx">db</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">Product</span><span class="p">{</span><span class="nx">Code</span><span class="p">:</span> <span class="s">"L1212"</span><span class="p">,</span> <span class="nx">Price</span><span class="p">:</span> <span class="mi">1000</span><span class="p">})</span>

<span class="c1">// read
</span><span class="c1"></span><span class="kd">var</span> <span class="nx">product</span> <span class="nx">Product</span>
<span class="nx">db</span><span class="p">.</span><span class="nf">First</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">product</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="c1">// find product with id 1
</span><span class="c1"></span>
<span class="c1">// update
</span><span class="c1"></span><span class="nx">db</span><span class="p">.</span><span class="nf">Model</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">product</span><span class="p">).</span><span class="nf">Update</span><span class="p">(</span><span class="s">"Price"</span><span class="p">,</span> <span class="mi">2000</span><span class="p">)</span>

<span class="c1">// delete
</span><span class="c1"></span><span class="nx">db</span><span class="p">.</span><span class="nf">Delete</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">product</span><span class="p">)</span>
</code></pre></div><h3>è§£å†³æ•°æ®å†²çª</h3><p data-pid="aZpWr4P1">åœ¨ GORM ä¸­ï¼Œä½¿ç”¨ OnConflict æ–¹æ³•å¯ä»¥è§£å†³æ•°æ®å†²çªé—®é¢˜ã€‚è¿™ä¸ªæ–¹æ³•å¯ä»¥è®©ä½ æŒ‡å®šåœ¨å†²çªæ—¶åº”è¯¥é‡‡å–çš„æ“ä½œã€‚</p><p data-pid="Q-ZxHopZ">ä¸€èˆ¬æ¥è¯´ï¼Œåœ¨æ‰§è¡Œæ’å…¥æ“ä½œæ—¶å¯èƒ½ä¼šå› ä¸ºä¸»é”®é‡å¤è€Œå¯¼è‡´æ•°æ®å†²çªã€‚ä½¿ç”¨ OnConflict æ–¹æ³•å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><p data-pid="eqXnrvB8"> ç®€å•çš„ä¸€ä¸ªæ¡ˆä¾‹å¦‚ä¸‹ï¼š</p><div class="highlight"><pre><code class="language-go"><span class="nx">db</span><span class="p">.</span><span class="nf">Save</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">Product</span><span class="p">{</span><span class="nx">Name</span><span class="p">:</span> <span class="s">"é¢åŒ…"</span><span class="p">,</span> <span class="nx">Price</span><span class="p">:</span> <span class="mi">3</span><span class="p">}).</span><span class="nf">OnConflict</span><span class="p">(</span><span class="s">"(name) DO UPDATE SET price = excluded.price"</span><span class="p">)</span>
</code></pre></div><p data-pid="cUITE7b4">è¿™è¡Œä»£ç è¡¨ç¤º <b>å¦‚æœ name åˆ—é‡å¤æ—¶ï¼Œå°†æ‰§è¡Œæ›´æ–°æ“ä½œæ¥æ›´æ–° price åˆ—ã€‚</b></p><p data-pid="9GqGDOHv">è¿˜å¯ä»¥ä½¿ç”¨ <code>OnConflict("(name) DO NOTHING")</code> æ¥è®©é‡å¤çš„æ•°æ®ä¸åšä»»ä½•æ“ä½œã€‚</p><p data-pid="JorcJJFQ">OnConflict æ–¹æ³•éå¸¸æœ‰ç”¨ï¼Œå› ä¸ºå®ƒå¯ä»¥å¸®åŠ©ä½ è§£å†³æ•°æ®å†²çªé—®é¢˜ï¼Œå¹¶è®©ä½ æ›´å¥½åœ°æ§åˆ¶ä½ çš„æ•°æ®åº“ã€‚</p><h3>ä½¿ç”¨é»˜è®¤å€¼</h3><p data-pid="x_25MGzL">GORM æ”¯æŒåœ¨æ•°æ®åº“ä¸­è®¾ç½®é»˜è®¤å€¼ã€‚è¿™å¯ä»¥é€šè¿‡åœ¨ç»“æ„ä½“ä¸­ä½¿ç”¨ "default" æ ‡ç­¾æ¥å®ç°ã€‚</p><div class="highlight"><pre><code class="language-go"><span class="kd">type</span> <span class="nx">Product</span> <span class="kd">struct</span> <span class="p">{</span>
    <span class="nx">gorm</span><span class="p">.</span><span class="nx">Model</span>
    <span class="nx">Name</span>  <span class="kt">string</span>
    <span class="nx">Price</span> <span class="kt">int</span> <span class="s">`gorm:"default:0"`</span>
<span class="p">}</span>
</code></pre></div><p data-pid="aoskBdwZ">è¿™æ ·çš„è¯ï¼Œåœ¨åˆ›å»ºæˆ–æ›´æ–°æ•°æ®æ—¶ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®š Price åˆ—çš„å€¼ï¼Œé‚£ä¹ˆä¼šè‡ªåŠ¨å°†å…¶è®¾ç½®ä¸º 0ã€‚</p><p data-pid="pFSc5C8S">é»˜è®¤å€¼è¿˜å¯ä»¥ä½¿ç”¨SQLè¡¨è¾¾å¼å’Œå‡½æ•°æ¥è¿›è¡Œè®¾ç½®ã€‚</p><p data-pid="G38wcOn1">ä¾‹å¦‚ï¼Œå¦‚æœä½ æƒ³è®© <code>created_at</code> åˆ—é»˜è®¤å€¼ä¸ºå½“å‰æ—¶é—´ï¼Œä½ å¯ä»¥è¿™æ ·å®šä¹‰ï¼š</p><div class="highlight"><pre><code class="language-go"><span class="kd">type</span> <span class="nx">Product</span> <span class="kd">struct</span> <span class="p">{</span>
    <span class="nx">gorm</span><span class="p">.</span><span class="nx">Model</span>
    <span class="nx">Name</span>  <span class="kt">string</span>
    <span class="nx">Price</span> <span class="kt">int</span> <span class="s">`gorm:"default:0"`</span>
    <span class="nx">CreatedAt</span>  <span class="nx">time</span><span class="p">.</span><span class="nx">Time</span> <span class="s">`gorm:"default:now()"`</span>
<span class="p">}</span>
</code></pre></div><p data-pid="8nwegkfx">è®¾ç½®é»˜è®¤å€¼æ˜¯éå¸¸æœ‰ç”¨çš„ï¼Œå®ƒå¯ä»¥å¸®åŠ©ä½ ç®€åŒ–ä»£ç å¹¶å‡å°‘é”™è¯¯ã€‚</p><h3>First ä½¿ç”¨è¯¦ç»†</h3><p data-pid="T2gQUtEC"><code>First</code> æ˜¯ GORM ä¸­æŸ¥è¯¢æ•°æ®çš„ä¸€ç§æ–¹æ³•ï¼Œå®ƒå¯ä»¥è¿”å›ç¬¬ä¸€æ¡ç¬¦åˆæ¡ä»¶çš„æ•°æ®ã€‚ä½¿ç”¨ <code>First</code> æ–¹æ³•æ—¶éœ€è¦ä¼ é€’ä¸€ä¸ªå‚æ•°ï¼Œè¿™ä¸ªå‚æ•°å¯ä»¥æ˜¯æ¨¡å‹ç»“æ„ä½“çš„æŒ‡é’ˆæˆ–æ¥å£ã€‚</p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-6f83ee313cf1b2cb8f0e4f82ec7c1c98_r.jpg" data-size="normal" width="2060" referrerpolicy="no-referrer"><figcaption>image-20230127160958022</figcaption></figure><p class="ztext-empty-paragraph"><br></p><p data-pid="e0H6HCqc">ä¾‹å¦‚ï¼Œå¦‚æœä½ æƒ³æŸ¥è¯¢ç¬¬ä¸€æ¡åç§°ä¸º "Apple" çš„äº§å“æ•°æ®ï¼Œä½ å¯ä»¥è¿™æ ·å†™ï¼š</p><div class="highlight"><pre><code class="language-go"><span class="kd">var</span> <span class="nx">product</span> <span class="nx">Product</span>
<span class="nx">db</span><span class="p">.</span><span class="nf">First</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">product</span><span class="p">,</span> <span class="s">"name = ?"</span><span class="p">,</span> <span class="s">"Apple"</span><span class="p">)</span>
</code></pre></div><p data-pid="7LBW1qGo">è¿™é‡Œçš„å‚æ•°æ˜¯ä¸€ä¸ªæ¨¡å‹ç»“æ„ä½“çš„æŒ‡é’ˆï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯æŸ¥è¯¢æ¡ä»¶ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯æ¡ä»¶çš„å€¼ã€‚</p><p data-pid="R9uyQq0s"><b>ä¹Ÿå¯ä»¥ä½¿ç”¨é“¾å¼æŸ¥è¯¢æ¥å®ç°è¿™ä¸ªæ“ä½œ</b>ï¼Œå¦‚ä¸‹ï¼š</p><div class="highlight"><pre><code class="language-go"><span class="kd">var</span> <span class="nx">product</span> <span class="nx">Product</span>
<span class="nx">db</span><span class="p">.</span><span class="nf">Where</span><span class="p">(</span><span class="s">"name = ?"</span><span class="p">,</span> <span class="s">"Apple"</span><span class="p">).</span><span class="nf">First</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">product</span><span class="p">)</span>
</code></pre></div><blockquote data-pid="GRz6zhvt"> âš ï¸ <b>åœ¨é“¾å¼è°ƒç”¨çš„æ—¶å€™ï¼Œéœ€è¦æ³¨æ„~ï¼</b></blockquote><p data-pid="m69VC-fX">ä½¿ç”¨æ—¶éœ€è¦æ³¨æ„ï¼Œå¦‚æœæŸ¥è¯¢ä¸åˆ°ç¬¦åˆæ¡ä»¶çš„æ•°æ®ï¼Œ<code>First</code> æ–¹æ³•å°†ä¸ä¼šè¿”å›é”™è¯¯ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªç©ºç»“æ„ä½“ã€‚æ‰€ä»¥éœ€è¦åœ¨ä½¿ç”¨æ—¶è‡ªå·±åˆ¤æ–­æ˜¯å¦æŸ¥è¯¢åˆ°æ•°æ®ã€‚</p><div class="highlight"><pre><code class="language-go"><span class="kd">var</span> <span class="nx">product</span> <span class="nx">Product</span>
<span class="nx">err</span> <span class="o">:=</span> <span class="nx">db</span><span class="p">.</span><span class="nf">Where</span><span class="p">(</span><span class="s">"name = ?"</span><span class="p">,</span> <span class="s">"Apple"</span><span class="p">).</span><span class="nf">First</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">product</span><span class="p">).</span><span class="nx">Error</span>
<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div><p data-pid="W_c02UXJ">å¦‚æœæƒ³è¦åœ¨æŸ¥è¯¢ä¸åˆ°æ•°æ®æ—¶è¿”å›é”™è¯¯ï¼Œå¯ä»¥ä½¿ç”¨ <code>FirstOrInit</code> å’Œ <code>FirstOrCreate</code> æ–¹æ³•ï¼Œå®ƒä»¬åœ¨æŸ¥è¯¢ä¸åˆ°æ•°æ®æ—¶ä¼šè¿”å›é”™è¯¯ã€‚</p><p data-pid="LiHxm84h">åœ¨ä½¿ç”¨ First æ–¹æ³•æ—¶, å¦‚æœä¼ å…¥çš„ç»“æ„ä½“ä¸­æœ‰ç»„åˆç´¢å¼•ï¼Œä½†æ²¡æœ‰ä½¿ç”¨ Where å‡½æ•°æ¥é™åˆ¶ç»„åˆç´¢å¼•çš„å€¼ä¼šè§¦å‘ã€‚</p><div class="highlight"><pre><code class="language-go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
    <span class="s">"fmt"</span>
    <span class="s">"github.com/jinzhu/gorm"</span>
    <span class="nx">_</span> <span class="s">"github.com/jinzhu/gorm/dialects/mysql"</span>
<span class="p">)</span>

<span class="kd">type</span> <span class="nx">User</span> <span class="kd">struct</span> <span class="p">{</span>
    <span class="nx">ID</span>   <span class="kt">int</span>
    <span class="nx">Name</span> <span class="kt">string</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">db</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">gorm</span><span class="p">.</span><span class="nf">Open</span><span class="p">(</span><span class="s">"mysql"</span><span class="p">,</span> <span class="s">"root:password@tcp(127.0.0.1:3306)/test?charset=utf8&amp;parseTime=True&amp;loc=Local"</span><span class="p">)</span>
    <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
        <span class="nb">panic</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">defer</span> <span class="nx">db</span><span class="p">.</span><span class="nf">Close</span><span class="p">()</span>

    <span class="c1">// æŸ¥è¯¢ç¬¬ä¸€æ¡IDä¸º1çš„ç”¨æˆ·
</span><span class="c1"></span>    <span class="kd">var</span> <span class="nx">user</span> <span class="nx">User</span>
    <span class="nx">db</span><span class="p">.</span><span class="nf">First</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">user</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">user</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div><p data-pid="LczDoC30">è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨äº†GORMçš„<code>First</code>æ–¹æ³•æ¥æŸ¥è¯¢ç¬¬ä¸€æ¡IDä¸º1çš„ç”¨æˆ·ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœæŸ¥è¯¢ä¸åˆ°ç¬¦åˆæ¡ä»¶çš„è®°å½•ï¼Œ<code>First</code>æ–¹æ³•ä¼šè¿”å›<code>ecordNotFound</code>é”™è¯¯ã€‚</p><p data-pid="0ZxXZfEK">ä½¿ç”¨æ—¶éœ€è¦æ³¨æ„ï¼Œå¦‚æœä¼ é€’çš„å‚æ•°æ˜¯ç»“æ„ä½“æŒ‡é’ˆï¼Œgormä¼šå°†æŸ¥è¯¢ç»“æœèµ‹å€¼åˆ°ç»“æ„ä½“ä¸Šï¼Œè€Œä¼ é€’ç»“æ„ä½“åˆ™ä¸ä¼šæœ‰èµ‹å€¼æ“ä½œã€‚</p><p data-pid="ugFE-Z1c">å¦å¤–ï¼Œåœ¨ä½¿ç”¨<code>First</code>æ–¹æ³•æŸ¥è¯¢æ—¶ï¼Œå¦‚æœæ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„è®°å½•ï¼Œè¿”å›çš„é”™è¯¯æ˜¯<code>RecordNotFound</code>,éœ€è¦åœ¨ä¸šåŠ¡ä»£ç ä¸­ç‰¹åˆ¤è¿™ä¸ªé”™è¯¯ã€‚</p><h3>Find</h3><p data-pid="Z_NZQMw8"><code>Find</code> æ–¹æ³•ç”¨æ¥æŸ¥è¯¢ç¬¦åˆæ¡ä»¶çš„è®°å½•ï¼Œå¹¶ä»¥åˆ‡ç‰‡çš„å½¢å¼è¿”å›ã€‚</p><p data-pid="aXX0U0E9">ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ä»£ç ï¼Œå‡è®¾æœ‰ä¸€ä¸ªåä¸º<code>users</code>çš„è¡¨ï¼Œä½ éœ€è¦æŸ¥è¯¢æ‰€æœ‰å¹´é¾„å¤§äº30å²çš„ç”¨æˆ·ï¼š</p><div class="highlight"><pre><code class="language-go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
    <span class="s">"fmt"</span>
    <span class="s">"github.com/jinzhu/gorm"</span>
    <span class="nx">_</span> <span class="s">"github.com/jinzhu/gorm/dialects/mysql"</span>
<span class="p">)</span>

<span class="kd">type</span> <span class="nx">User</span> <span class="kd">struct</span> <span class="p">{</span>
    <span class="nx">ID</span>       <span class="kt">int</span>
    <span class="nx">Name</span>     <span class="kt">string</span>
    <span class="nx">Age</span>      <span class="kt">int</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">db</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">gorm</span><span class="p">.</span><span class="nf">Open</span><span class="p">(</span><span class="s">"mysql"</span><span class="p">,</span> <span class="s">"root:password@/dbname?charset=utf8&amp;parseTime=True&amp;loc=Local"</span><span class="p">)</span>
    <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
        <span class="nb">panic</span><span class="p">(</span><span class="s">"failed to connect database"</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">defer</span> <span class="nx">db</span><span class="p">.</span><span class="nf">Close</span><span class="p">()</span>

    <span class="kd">var</span> <span class="nx">users</span> <span class="p">[]</span><span class="nx">User</span>
    <span class="nx">db</span><span class="p">.</span><span class="nf">Where</span><span class="p">(</span><span class="s">"age &gt; ?"</span><span class="p">,</span> <span class="mi">30</span><span class="p">).</span><span class="nf">Find</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">users</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">users</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div><p data-pid="W40YculN">åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆæ‰“å¼€äº†ä¸€ä¸ªæ•°æ®åº“é“¾æ¥ï¼Œç„¶åå®šä¹‰äº†ä¸€ä¸ª<code>User</code>ç»“æ„ä½“ï¼Œç”¨æ¥å­˜å‚¨æŸ¥è¯¢åˆ°çš„ç”¨æˆ·ä¿¡æ¯ã€‚</p><p data-pid="mQCSc4Nm">æ¥ç€æˆ‘ä»¬ä½¿ç”¨<code>Where</code>æ–¹æ³•é™å®šæŸ¥è¯¢æ¡ä»¶ï¼Œå¹¶è°ƒç”¨<code>Find</code>æ–¹æ³•æŸ¥è¯¢æ•°æ®ã€‚<code>Find</code>æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªç»“æ„ä½“åˆ‡ç‰‡çš„æŒ‡é’ˆï¼Œç”¨æ¥å­˜å‚¨æŸ¥è¯¢åˆ°çš„è®°å½•ã€‚</p><p data-pid="m0HBNiQm">æœ€åæˆ‘ä»¬æ‰“å°å‡ºæŸ¥è¯¢åˆ°çš„ç”¨æˆ·ä¿¡æ¯ã€‚</p><p data-pid="9CLpu5fw">âš ï¸ æ³¨æ„ï¼šå¦‚æœæ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„è®°å½•ï¼Œ<code>Find</code>æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªç©ºçš„åˆ‡ç‰‡ã€‚</p><h3>First å’Œ Find</h3><p data-pid="rPQLWYVS"><code>First</code>æ–¹æ³•å’Œ<code>Find</code>æ–¹æ³•éƒ½æ˜¯ç”¨æ¥æŸ¥è¯¢è®°å½•çš„ï¼Œä½†æ˜¯å®ƒä»¬çš„ç”¨æ³•å’Œè¿”å›ç»“æœæœ‰æ‰€ä¸åŒã€‚</p><p data-pid="r4VRKMB5"><code>First</code>æ–¹æ³•ä¼šæŸ¥è¯¢å¹¶è¿”å›ç¬¬ä¸€æ¡ç¬¦åˆæ¡ä»¶çš„è®°å½•ã€‚å®ƒçš„è¿”å›å€¼æ˜¯ä¸€ä¸ªç»“æ„ä½“ï¼Œå¦‚æœæ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„è®°å½•ï¼Œä¼šè¿”å›<code>RecordNotFound</code>é”™è¯¯ã€‚</p><p data-pid="kOz14lSe"><code>Find</code>æ–¹æ³•ä¼šæŸ¥è¯¢æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„è®°å½•ï¼Œå¹¶å°†å®ƒä»¬ä»¥åˆ‡ç‰‡çš„å½¢å¼è¿”å›ã€‚å®ƒçš„è¿”å›å€¼æ˜¯ä¸€ä¸ªç»“æ„ä½“åˆ‡ç‰‡ï¼Œå¦‚æœæ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„è®°å½•ï¼Œä¼šè¿”å›ä¸€ä¸ªç©ºçš„åˆ‡ç‰‡ã€‚</p><p data-pid="Jx1jxJVR">ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœä½ è¦æŸ¥è¯¢ä¸€ä¸ªè¡¨ä¸­çš„ç¬¬ä¸€æ¡è®°å½•ï¼Œå¯ä»¥ä½¿ç”¨<code>First</code>æ–¹æ³•ï¼›å¦‚æœä½ è¦æŸ¥è¯¢ä¸€ä¸ªè¡¨ä¸­æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„è®°å½•ï¼Œå¯ä»¥ä½¿ç”¨<code>Find</code>æ–¹æ³•ã€‚</p><p data-pid="qErbPL6m">æ€»çš„æ¥è¯´ï¼Œå¦‚æœä½ åªéœ€è¦æŸ¥è¯¢ä¸€æ¡è®°å½•ï¼Œä½¿ç”¨<code>First</code>æ–¹æ³•ä¼šæ›´åŠ é«˜æ•ˆï¼Œå› ä¸ºå®ƒåªä¼šæŸ¥è¯¢ä¸€æ¡è®°å½•ï¼›å¦‚æœä½ éœ€è¦æŸ¥è¯¢å¤šæ¡è®°å½•ï¼Œä½¿ç”¨<code>Find</code>æ–¹æ³•ä¼šæ›´åŠ æ–¹ä¾¿ã€‚</p><h3>æ›´æ–°æ•°æ®</h3><p data-pid="6XTcioud">Gorm æä¾›äº† <code>Save</code> ã€ <code>Updates</code> å’Œ <code>Update</code> æ–¹æ³•ç”¨æ¥æ›´æ–°æ•°æ®ã€‚</p><ul><li data-pid="_aIPxywh"><code>Save</code> æ–¹æ³•æ›´æ–°æ‰€æœ‰å­—æ®µï¼Œå¦‚æœæ²¡æœ‰ä¸»é”®æˆ–è€…è‡ªå¢å­—æ®µä¼šæ–°å¢ä¸€æ¡è®°å½•ã€‚</li><li data-pid="XC3y-L8E"><code>Updates</code> æ–¹æ³•ç”¨æ¥æ›´æ–°æŒ‡å®šå­—æ®µã€‚</li><li data-pid="fFKuyjPz"><code>Update</code> æ–¹æ³•ç”¨æ¥æ›´æ–°æŒ‡å®šå­—æ®µå¹¶ä¸”æŒ‡å®šæ›´æ–°æ¡ä»¶ã€‚</li></ul><p data-pid="Lb7AZypj">ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ä»£ç ï¼Œå‡è®¾æœ‰ä¸€ä¸ªåä¸º<code>users</code>çš„è¡¨ï¼Œä½ éœ€è¦æ›´æ–°idä¸º1çš„ç”¨æˆ·çš„å§“åä¸º "John Doe"</p><div class="highlight"><pre><code class="language-go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
    <span class="s">"fmt"</span>
    <span class="s">"github.com/jinzhu/gorm"</span>
    <span class="nx">_</span> <span class="s">"github.com/jinzhu/gorm/dialects/mysql"</span>
<span class="p">)</span>

<span class="kd">type</span> <span class="nx">User</span> <span class="kd">struct</span> <span class="p">{</span>
    <span class="nx">ID</span>       <span class="kt">int</span>
    <span class="nx">Name</span>     <span class="kt">string</span>
    <span class="nx">Age</span>      <span class="kt">int</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">db</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">gorm</span><span class="p">.</span><span class="nf">Open</span><span class="p">(</span><span class="s">"mysql"</span><span class="p">,</span> <span class="s">"root:password@/dbname?charset=utf8&amp;parseTime=True&amp;loc=Local"</span><span class="p">)</span>
    <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
        <span class="nb">panic</span><span class="p">(</span><span class="s">"failed to connect database"</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">defer</span> <span class="nx">db</span><span class="p">.</span><span class="nf">Close</span><span class="p">()</span>

    <span class="kd">var</span> <span class="nx">user</span> <span class="nx">User</span>
    <span class="nx">db</span><span class="p">.</span><span class="nf">First</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">user</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="c1">// find user with id 1
</span><span class="c1"></span>    <span class="nx">user</span><span class="p">.</span><span class="nx">Name</span> <span class="p">=</span> <span class="s">"John Doe"</span>
    <span class="nx">db</span><span class="p">.</span><span class="nf">Save</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">user</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">user</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div><p data-pid="dzZdkgVJ">åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆæ‰“å¼€äº†ä¸€ä¸ªæ•°æ®åº“é“¾æ¥ï¼Œç„¶åå®šä¹‰äº†ä¸€ä¸ª<code>User</code>ç»“æ„ä½“ï¼Œç”¨æ¥å­˜å‚¨æŸ¥è¯¢åˆ°çš„ç”¨æˆ·ä¿¡æ¯ã€‚</p><p data-pid="tAjBER8i">æ¥ç€æˆ‘ä»¬ä½¿ç”¨<code>First</code>æ–¹æ³•æŸ¥è¯¢id ä¸º1çš„ç”¨æˆ·ï¼Œå¹¶æ›´æ–°ç”¨æˆ·çš„å§“åã€‚</p><p data-pid="CIQjxfy8">æœ€åæˆ‘ä»¬ä½¿ç”¨<code>Save</code>æ–¹æ³•æ›´æ–°æ•°æ®ã€‚</p><p data-pid="ePyuDZHQ">å¦‚æœåªéœ€è¦æ›´æ–°ä¸€äº›å­—æ®µï¼Œå¯ä»¥ä½¿ç”¨ <code>Updates</code> æ–¹æ³•,ä¾‹å¦‚:</p><div class="highlight"><pre><code class="language-go"><span class="nx">db</span><span class="p">.</span><span class="nf">Model</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">user</span><span class="p">).</span><span class="nf">Updates</span><span class="p">(</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{}{</span><span class="s">"name"</span><span class="p">:</span> <span class="s">"John Doe"</span><span class="p">,</span> <span class="s">"age"</span><span class="p">:</span> <span class="mi">25</span><span class="p">})</span>
</code></pre></div><p data-pid="yaZqF9YA"><b>Gorm æ›´æ–°æ•°æ®æœ‰ä¸¤ç§æ–¹å¼ï¼š</b></p><ol><li data-pid="X5ULCGAr">ä½¿ç”¨ Update æ–¹æ³•ï¼š</li></ol><div class="highlight"><pre><code class="language-go"><span class="nx">db</span><span class="p">.</span><span class="nf">Model</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">user</span><span class="p">).</span><span class="nf">Update</span><span class="p">(</span><span class="s">"name"</span><span class="p">,</span> <span class="s">"new_name"</span><span class="p">)</span>
</code></pre></div><p data-pid="kqJG7i-w">è¿™ç§æ–¹å¼å¯ä»¥å¯¹æŒ‡å®šå­—æ®µè¿›è¡Œæ›´æ–°ï¼Œè€Œä¸ä¼šå½±å“å…¶ä»–å­—æ®µçš„å€¼ã€‚</p><ol><li data-pid="Re8cYE7G">ä½¿ç”¨ Save æ–¹æ³•ï¼š</li></ol><div class="highlight"><pre><code class="language-go"><span class="nx">user</span><span class="p">.</span><span class="nx">Name</span> <span class="p">=</span> <span class="s">"new_name"</span>
<span class="nx">db</span><span class="p">.</span><span class="nf">Save</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">user</span><span class="p">)</span>
</code></pre></div><p data-pid="qh6ds8De">è¿™ç§æ–¹å¼ä¼šæ›´æ–°æ•´ä¸ªç»“æ„ä½“ã€‚</p><p data-pid="s7_hDmpV">åœ¨ä½¿ç”¨è¿™äº›æ–¹æ³•ä¹‹å‰ï¼Œéœ€è¦ç¡®ä¿è®°å½•å·²ç»åœ¨æ•°æ®åº“ä¸­å­˜åœ¨ã€‚å¦‚æœéœ€è¦åœ¨æ›´æ–°ä¹‹å‰åˆ¤æ–­è®°å½•æ˜¯å¦å­˜åœ¨ï¼Œå¯ä»¥ä½¿ç”¨ <code>FirstOrCreate</code> æ–¹æ³•ã€‚</p><p data-pid="nVea8Mbg">æ³¨æ„ï¼Œåœ¨ä½¿ç”¨ Save æ–¹æ³•æ—¶ï¼Œå¦‚æœç»“æ„ä½“ä¸­æœ‰æ²¡æœ‰è¢«èµ‹å€¼çš„å­—æ®µï¼Œé‚£ä¹ˆè¿™äº›å­—æ®µå¯èƒ½ä¼šè¢«èµ‹ä¸Šç©ºå€¼ï¼Œæ‰€ä»¥éœ€è¦ç‰¹åˆ«å°å¿ƒã€‚</p><p data-pid="GrTOE0nY">é¡ºä¾¿æä¸€ä¸‹ï¼Œåœ¨æ›´æ–°æ•°æ®æ—¶ï¼ŒGorm ä¼šè‡ªåŠ¨è·Ÿè¸ªæ›´æ–°æ—¶é—´ï¼Œå¦‚æœæ›´æ–°æ—¶é—´å­—æ®µåä¸º <code>updated_at</code>ï¼Œåˆ™è‡ªåŠ¨æ›´æ–°ï¼Œå¦‚æœéœ€è¦è‡ªå®šä¹‰å­—æ®µåï¼Œéœ€è¦æ‰‹åŠ¨è®¾ç½®ã€‚</p><h3>åˆ é™¤</h3><p data-pid="8YOEc-BV">Gorm æä¾›äº† Delete æ–¹æ³•æ¥åˆ é™¤æ•°æ®ã€‚</p><p data-pid="qwG8shND">ä½¿ç”¨ Delete æ–¹æ³•å¯ä»¥åˆ é™¤ä¸€æ¡è®°å½•ï¼Œæ–¹æ³•çš„å‚æ•°æ˜¯è¦åˆ é™¤çš„è®°å½•çš„æŒ‡é’ˆã€‚</p><div class="highlight"><pre><code class="language-go"><span class="nx">db</span><span class="p">.</span><span class="nf">Delete</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">user</span><span class="p">)</span>
</code></pre></div><p data-pid="GAz5Q-b-">è¿™ä¸ªæ–¹æ³•ä¼šå°†è¿™æ¡è®°å½•ä»æ•°æ®åº“ä¸­åˆ é™¤ï¼Œåˆ é™¤ä¹‹åè¯¥è®°å½•å°±ä¸å†æ˜¯æœ‰æ•ˆçš„ã€‚</p><p data-pid="d9T4-3A2">å¦‚æœè¦åˆ é™¤å¤šæ¡è®°å½•ï¼Œå¯ä»¥ä½¿ç”¨ Where æ–¹æ³•é™åˆ¶åˆ é™¤èŒƒå›´ã€‚</p><div class="highlight"><pre><code class="language-go"><span class="nx">db</span><span class="p">.</span><span class="nf">Where</span><span class="p">(</span><span class="s">"age &gt; ?"</span><span class="p">,</span> <span class="mi">20</span><span class="p">).</span><span class="nf">Delete</span><span class="p">(</span><span class="nx">User</span><span class="p">{})</span>
</code></pre></div><p data-pid="bg8ENS8s">è¿™ä¸ªæ–¹æ³•ä¼šåˆ é™¤å¹´é¾„å¤§äº20å²çš„æ‰€æœ‰ç”¨æˆ·ã€‚</p><p data-pid="Is1Ad-Ky">æ³¨æ„ï¼Œåœ¨åˆ é™¤æ•°æ®æ—¶ï¼ŒGorm ä¸ä¼šè‡ªåŠ¨è·Ÿè¸ªåˆ é™¤æ—¶é—´ï¼Œå¦‚æœéœ€è¦è®°å½•åˆ é™¤æ—¶é—´ï¼Œéœ€è¦æ‰‹åŠ¨è®¾ç½®ã€‚</p><h3>ç‰©ç†åˆ é™¤å’Œè½¯åˆ é™¤</h3><p data-pid="HU33q3xm">ç‰©ç†åˆ é™¤å’Œè½¯åˆ é™¤æ˜¯ Gorm æä¾›çš„ä¸¤ç§ä¸åŒçš„åˆ é™¤æ–¹å¼ã€‚</p><ol><li data-pid="XZDHgNeH"><b>ç‰©ç†åˆ é™¤å°±æ˜¯ç›´æ¥ä»æ•°æ®åº“ä¸­åˆ é™¤è®°å½•</b>ï¼Œä¸ç®¡æœ‰æ²¡æœ‰å…¶ä»–ä¸šåŠ¡é€»è¾‘çš„ä¾èµ–ï¼Œè¿™ç§æ–¹å¼åˆ é™¤çš„æ•°æ®ä¸å¯æ¢å¤ï¼Œéœ€è¦è°¨æ…ä½¿ç”¨ã€‚</li><li data-pid="AwyaUAON">è½¯åˆ é™¤æ˜¯é€šè¿‡åœ¨æ•°æ®è¡¨ä¸­æ·»åŠ ä¸€ä¸ªåˆ é™¤æ ‡è®°æ¥æ ‡è®°è®°å½•è¢«åˆ é™¤ï¼Œè¿™ç§æ–¹å¼åˆ é™¤çš„æ•°æ®å¯ä»¥æ¢å¤ï¼Œé€‚ç”¨äºä¸éœ€è¦æ°¸ä¹…åˆ é™¤æ•°æ®çš„åœºæ™¯ã€‚</li></ol><p data-pid="aFRt96aM">Gorm æä¾›äº†ä¸€äº›è¾…åŠ©æ–¹æ³•æ¥æ”¯æŒè½¯åˆ é™¤ï¼Œæ¯”å¦‚ DeletedAt å­—æ®µï¼Œåœ¨ä½¿ç”¨ Delete æ–¹æ³•åˆ é™¤æ•°æ®æ—¶ä¼šè‡ªåŠ¨è®¾ç½®è¿™ä¸ªå­—æ®µï¼Œå¯ä»¥é€šè¿‡ Unscoped æ–¹æ³•æ¥å¿½ç•¥è¿™ä¸ªå­—æ®µæ¥è¿›è¡Œç‰©ç†åˆ é™¤ã€‚</p><p data-pid="XQYhgRTj"><b>Gormé»˜è®¤ä¸æ”¯æŒè½¯åˆ é™¤ï¼Œéœ€è¦æ‰‹åŠ¨æ”¯æŒã€‚Gorm æä¾›äº† gorm.DeletedAt ç”¨äºå¸®åŠ©ç”¨æˆ·å®ç°è½¯åˆ é™¤</b></p><div class="highlight"><pre><code class="language-go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
    <span class="s">"fmt"</span>
    <span class="s">"time"</span>

    <span class="s">"github.com/jinzhu/gorm"</span>
    <span class="nx">_</span> <span class="s">"github.com/jinzhu/gorm/dialects/sqlite"</span>
<span class="p">)</span>

<span class="kd">type</span> <span class="nx">User</span> <span class="kd">struct</span> <span class="p">{</span>
    <span class="nx">ID</span>        <span class="kt">uint</span> <span class="s">`gorm:"primary_key"`</span>
    <span class="nx">Name</span>      <span class="kt">string</span>
    <span class="nx">Age</span>       <span class="kt">uint</span>
    <span class="nx">DeletedAt</span> <span class="o">*</span><span class="nx">time</span><span class="p">.</span><span class="nx">Time</span> <span class="s">`sql:"index"`</span> <span class="c1">// å®šä¹‰è½¯åˆ é™¤å­—æ®µ
</span><span class="c1"></span><span class="p">}</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">db</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">gorm</span><span class="p">.</span><span class="nf">Open</span><span class="p">(</span><span class="s">"sqlite3"</span><span class="p">,</span> <span class="s">"test.db"</span><span class="p">)</span>
    <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="p">}</span>
    <span class="k">defer</span> <span class="nx">db</span><span class="p">.</span><span class="nf">Close</span><span class="p">()</span>

    <span class="c1">// å¼€å¯è½¯åˆ é™¤
</span><span class="c1"></span>    <span class="nx">db</span><span class="p">.</span><span class="nf">AutoMigrate</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">User</span><span class="p">{}).</span><span class="nf">Delete</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">User</span><span class="p">{},</span> <span class="s">"deleted_at is not null"</span><span class="p">)</span>
    <span class="nx">db</span><span class="p">.</span><span class="nf">Callback</span><span class="p">().</span><span class="nf">Delete</span><span class="p">().</span><span class="nf">Add</span><span class="p">(</span><span class="s">"gorm:delete"</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">scope</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">Scope</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">!</span><span class="nx">scope</span><span class="p">.</span><span class="nf">HasError</span><span class="p">()</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">extraOption</span> <span class="kt">string</span>
            <span class="k">if</span> <span class="nx">str</span><span class="p">,</span> <span class="nx">ok</span> <span class="o">:=</span> <span class="nx">scope</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="s">"gorm:delete_option"</span><span class="p">);</span> <span class="nx">ok</span> <span class="p">{</span>
                <span class="nx">extraOption</span> <span class="p">=</span> <span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprint</span><span class="p">(</span><span class="nx">str</span><span class="p">)</span>
            <span class="p">}</span>

            <span class="nx">deletedOnField</span><span class="p">,</span> <span class="nx">hasDeletedOnField</span> <span class="o">:=</span> <span class="nx">scope</span><span class="p">.</span><span class="nf">FieldByName</span><span class="p">(</span><span class="s">"DeletedAt"</span><span class="p">)</span>

            <span class="k">if</span> <span class="p">!</span><span class="nx">scope</span><span class="p">.</span><span class="nx">Search</span><span class="p">.</span><span class="nx">Unscoped</span> <span class="o">&amp;&amp;</span> <span class="nx">hasDeletedOnField</span> <span class="p">{</span>
                <span class="nx">scope</span><span class="p">.</span><span class="nf">Raw</span><span class="p">(</span><span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span>
                    <span class="s">"UPDATE %v SET %v=%v%v%v"</span><span class="p">,</span>
                    <span class="nx">scope</span><span class="p">.</span><span class="nf">QuotedTableName</span><span class="p">(),</span>
                    <span class="nx">scope</span><span class="p">.</span><span class="nf">Quote</span><span class="p">(</span><span class="nx">deletedOnField</span><span class="p">.</span><span class="nx">DBName</span><span class="p">),</span>
                    <span class="nx">scope</span><span class="p">.</span><span class="nf">AddToVars</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nf">Now</span><span class="p">()),</span>
                    <span class="nf">addExtraSpaceIfExist</span><span class="p">(</span><span class="nx">scope</span><span class="p">.</span><span class="nf">CombinedConditionSql</span><span class="p">()),</span>
                    <span class="nf">addExtraSpaceIfExist</span><span class="p">(</span><span class="nx">extraOption</span><span class="p">),</span>
                <span class="p">)).</span><span class="nf">Exec</span><span class="p">()</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="nx">scope</span><span class="p">.</span><span class="nf">Raw</span><span class="p">(</span><span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span>
                    <span class="s">"DELETE FROM %v%v%v"</span><span class="p">,</span>
                    <span class="nx">scope</span><span class="p">.</span><span class="nf">QuotedTableName</span><span class="p">(),</span>
                    <span class="nf">addExtraSpaceIfExist</span><span class="p">(</span><span class="nx">scope</span><span class="p">.</span><span class="nf">CombinedConditionSql</span><span class="p">()),</span>
                    <span class="nf">addExtraSpaceIfExist</span><span class="p">(</span><span class="nx">extraOption</span><span class="p">),</span>
                <span class="p">)).</span><span class="nf">Exec</span><span class="p">()</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">})</span>

    <span class="c1">// åˆ›å»ºç”¨æˆ·
</span><span class="c1"></span>    <span class="nx">user</span> <span class="o">:=</span> <span class="nx">User</span><span class="p">{</span><span class="nx">Name</span><span class="p">:</span> <span class="s">"John"</span><span class="p">,</span> <span class="nx">Age</span><span class="p">:</span> <span class="mi">20</span><span class="p">}</span>
    <span class="nx">db</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">user</span><span class="p">)</span>

    <span class="c1">// è½¯åˆ é™¤ç”¨æˆ·
</span><span class="c1"></span>    <span class="nx">db</span><span class="p">.</span><span class="nf">Delete</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">user</span><span class="p">)</span>

    <span class="c1">// æŸ¥è¯¢å·²è¢«è½¯åˆ é™¤çš„ç”¨æˆ·
</span><span class="c1"></span>    <span class="kd">var</span> <span class="nx">deletedUser</span> <span class="nx">User</span>
    <span class="nx">db</span><span class="p">.</span><span class="nf">Unscoped</span><span class="p">().</span><span class="nf">First</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">deletedUser</span><span class="p">,</span> <span class="s">"name = ?"</span><span class="p">,</span> <span class="s">"John"</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">"Deleted user: %+v\n"</span><span class="p">,</span> <span class="nx">deletedUser</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div><h3>äº‹åŠ¡</h3><p data-pid="t7Uctf9N">Gormæ”¯æŒå¤šç§æ–¹å¼æ¥ç®¡ç†æ•°æ®åº“çš„äº‹åŠ¡ã€‚ä¸€ç§å¸¸ç”¨çš„æ–¹å¼æ˜¯ä½¿ç”¨<code>db.Begin()</code>æ¥å¼€å¯ä¸€ä¸ªäº‹åŠ¡ï¼Œç„¶åä½¿ç”¨<code>tx.Commit()</code>æˆ–<code>tx.Rollback()</code>æ¥ç»“æŸäº‹åŠ¡ã€‚</p><p data-pid="hbuzveZE">åœ¨GORMä¸­ï¼Œäº‹åŠ¡æ˜¯é€šè¿‡DBå¯¹è±¡çš„<code>Begin()</code>æ–¹æ³•æ¥å¼€å§‹ä¸€ä¸ªäº‹åŠ¡ï¼Œè¯¥æ–¹æ³•è¿”å›ä¸€ä¸ª<code>TX</code>å¯¹è±¡ã€‚ç„¶åä½ å¯ä»¥åœ¨TXå¯¹è±¡ä¸Šæ‰§è¡Œæ•°æ®åº“æ“ä½œï¼Œæœ€åè°ƒç”¨<code>Commit()</code>æˆ–<code>Rollback()</code>æ¥ç»“æŸäº‹åŠ¡ã€‚</p><div class="highlight"><pre><code class="language-go"><span class="nx">tx</span> <span class="o">:=</span> <span class="nx">db</span><span class="p">.</span><span class="nf">Begin</span><span class="p">()</span>
<span class="c1">// æ³¨æ„åœ¨åé¢ä»è¿™é‡Œå¼€å§‹ï¼Œä½ åº”è¯¥ä½¿ç”¨ `tx` è€Œä¸æ˜¯ `db`
</span><span class="c1"></span><span class="k">defer</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="nx">r</span> <span class="o">:=</span> <span class="nb">recover</span><span class="p">();</span> <span class="nx">r</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
        <span class="nx">tx</span><span class="p">.</span><span class="nf">Rollback</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}()</span>
<span class="k">if</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">tx</span><span class="p">.</span><span class="nx">Error</span><span class="p">;</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
    <span class="nb">panic</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// æ‰§è¡Œæ•°æ®åº“æ“ä½œ
</span><span class="c1"></span><span class="k">if</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">tx</span><span class="p">.</span><span class="nf">Commit</span><span class="p">().</span><span class="nx">Error</span><span class="p">;</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
    <span class="nb">panic</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div><p data-pid="DK0_3txP">æˆ–è€… ä½¿ç”¨ <code>db.Transaction(func(tx *gorm.DB) error{})</code> æ¥è¿›è¡Œäº‹åŠ¡æ“ä½œ</p><p data-pid="wqj4lFkB">å¦‚æœä½ éœ€è¦åœ¨ä¸€ç»„æ•°æ®åº“æ“ä½œä¹‹é—´å¼€å§‹å’Œç»“æŸäº‹åŠ¡ï¼Œå¯ä»¥ä½¿ç”¨<code>db.Transaction(func(tx *gorm.DB) error{})</code> æ¥è¿›è¡Œäº‹åŠ¡æ“ä½œ</p><p data-pid="y5BaSHhO"><code>tansaction</code> æ–¹æ³•ç”¨äºè‡ªåŠ¨æäº¤äº‹åŠ¡ï¼Œé¿å…ç”¨æˆ·æ¼å†™ Commitã€Rollbcak</p><div class="highlight"><pre><code class="language-go"><span class="nx">err</span> <span class="o">:=</span> <span class="nx">db</span><span class="p">.</span><span class="nf">Transaction</span><span class="p">(</span><span class="kd">func</span><span class="p">(</span><span class="nx">tx</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span> <span class="kt">error</span> <span class="p">{</span>
    <span class="c1">// æ‰§è¡Œæ•°æ®åº“æ“ä½œ
</span><span class="c1"></span>    <span class="k">return</span> <span class="kc">nil</span>
<span class="p">})</span>
</code></pre></div><p data-pid="_zqZ6mVr">æ³¨æ„ï¼šå¦‚æœè¿”å›å€¼ä¸ºnilï¼Œäº‹åŠ¡ä¼šæäº¤ï¼Œå¦‚æœè¿”å›å€¼énilï¼Œäº‹åŠ¡ä¼šå›æ»šã€‚</p><h3>GORM Hook</h3><p data-pid="nqc1Annh">GORM Hookæ˜¯GORMä¸­çš„ä¸€ç§äº‹ä»¶é’©å­æœºåˆ¶ï¼Œå®ƒå…è®¸åœ¨å¯¹æ•°æ®åº“è¿›è¡Œæ“ä½œæ—¶ï¼Œåœ¨ç‰¹å®šçš„æ—¶é—´ç‚¹æ‰§è¡Œé¢å¤–çš„ä»£ç ã€‚</p><p data-pid="vOhPKY4X">GORM Hookæä¾›äº†å¤šç§äº‹ä»¶ç±»å‹ï¼Œå¦‚åˆ›å»ºã€æ›´æ–°ã€æŸ¥è¯¢å’Œåˆ é™¤ç­‰ã€‚</p><p data-pid="cEZK4Aoi">å¯ä»¥ä½¿ç”¨<code>db.Callback()</code>æ¥å®šä¹‰Hookï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="highlight"><pre><code class="language-go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
    <span class="s">"fmt"</span>
    <span class="s">"github.com/jinzhu/gorm"</span>
    <span class="nx">_</span> <span class="s">"github.com/jinzhu/gorm/dialects/sqlite"</span>
<span class="p">)</span>

<span class="kd">type</span> <span class="nx">Product</span> <span class="kd">struct</span> <span class="p">{</span>
    <span class="nx">gorm</span><span class="p">.</span><span class="nx">Model</span>
    <span class="nx">Code</span>  <span class="kt">string</span>
    <span class="nx">Price</span> <span class="kt">uint</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">db</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">gorm</span><span class="p">.</span><span class="nf">Open</span><span class="p">(</span><span class="s">"sqlite3"</span><span class="p">,</span> <span class="s">"test.db"</span><span class="p">)</span>
    <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
        <span class="nb">panic</span><span class="p">(</span><span class="s">"failed to connect database"</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">defer</span> <span class="nx">db</span><span class="p">.</span><span class="nf">Close</span><span class="p">()</span>

    <span class="nx">db</span><span class="p">.</span><span class="nf">AutoMigrate</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">Product</span><span class="p">{})</span>
    <span class="c1">// å®šä¹‰é’©å­
</span><span class="c1"></span>    <span class="nx">db</span><span class="p">.</span><span class="nf">Callback</span><span class="p">().</span><span class="nf">Create</span><span class="p">().</span><span class="nf">Before</span><span class="p">(</span><span class="s">"gorm:begin_transaction"</span><span class="p">).</span>
        <span class="nf">Register</span><span class="p">(</span><span class="s">"gorm:before_create"</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">scope</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">Scope</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">"åœ¨åˆ›å»ºä¹‹å‰æ‰§è¡Œçš„ä»£ç "</span><span class="p">)</span>
        <span class="p">})</span>
    <span class="nx">db</span><span class="p">.</span><span class="nf">Callback</span><span class="p">().</span><span class="nf">Create</span><span class="p">().</span><span class="nf">After</span><span class="p">(</span><span class="s">"gorm:commit_or_rollback_transaction"</span><span class="p">).</span>
        <span class="nf">Register</span><span class="p">(</span><span class="s">"gorm:after_create"</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">scope</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">Scope</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">"åœ¨åˆ›å»ºä¹‹åæ‰§è¡Œçš„ä»£ç "</span><span class="p">)</span>
        <span class="p">})</span>
    <span class="c1">// åˆ›å»ºä¸€ä¸ªProductå®ä¾‹å¹¶ä¿å­˜
</span><span class="c1"></span>    <span class="nx">db</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">Product</span><span class="p">{</span><span class="nx">Code</span><span class="p">:</span> <span class="s">"L1212"</span><span class="p">,</span> <span class="nx">Price</span><span class="p">:</span> <span class="mi">1000</span><span class="p">})</span>
<span class="p">}</span>
</code></pre></div><p data-pid="jPqHoKKa">ä¸Šé¢è¿™ä¸ªä¾‹å­ï¼Œå½“æ•°æ®åº“åˆ›å»ºæ“ä½œæ—¶ä¼šè§¦å‘<code>gorm:before_create</code>äº‹ä»¶ï¼Œå¹¶æ‰§è¡Œå‡½æ•°ä¸­çš„ä»£ç </p><p data-pid="aMkifuS9">å¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„äº‹ä»¶ç±»å‹ï¼š</p><ul><li data-pid="-_uBDtij"><code>Before/After("gorm:create")</code></li><li data-pid="uhifPWnY"><code>Before/After("gorm:query")</code></li><li data-pid="6lp9hVBh"><code>Before/After("gorm:update")</code></li><li data-pid="FOSTEa3W"><code>Before/After("gorm:delete")</code></li></ul><p data-pid="JqzZqE_Y">é€šè¿‡è¿™äº›äº‹ä»¶ç±»å‹ï¼Œå¯ä»¥åœ¨å¯¹æ•°æ®åº“è¿›è¡Œæ“ä½œæ—¶ï¼Œå¯¹æ•°æ®è¿›è¡Œé¢„å¤„ç†æˆ–åå¤„ç†ï¼Œä¹Ÿå¯ä»¥åœ¨æ•°æ®åº“æ“ä½œå¤±è´¥æ—¶è¿›è¡Œé”™è¯¯å¤„ç†ã€‚</p><h3>Gorm æ€§èƒ½æé«˜</h3><p data-pid="C_g5r5yE">GORMæ˜¯ä¸€ä¸ªORMåº“ï¼Œå®ƒä¼šåœ¨è¿è¡Œæ—¶æ‰§è¡Œå¾ˆå¤šæ“ä½œï¼Œå› æ­¤å…¶è¿è¡Œæ€§èƒ½å¯èƒ½ä¸å¦‚ç›´æ¥ä½¿ç”¨åŸç”ŸSQLã€‚ä½†æ˜¯ï¼Œè¿˜æ˜¯æœ‰ä¸€äº›æ–¹æ³•å¯ä»¥æé«˜GORMçš„æ€§èƒ½ã€‚</p><ol><li data-pid="lnAJaLiq">ä½¿ç”¨ç¼“å­˜: GORMæ”¯æŒå¯¹æ•°æ®åº“çš„ç¼“å­˜ï¼Œå¦‚æœä½ çš„åº”ç”¨ç¨‹åºéœ€è¦é¢‘ç¹è¯»å–æ•°æ®åº“ä¸­çš„åŒä¸€æ•°æ®ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ç¼“å­˜æ¥æé«˜æ€§èƒ½ã€‚</li><li data-pid="CgbvTfS6">å°½é‡å‡å°‘æŸ¥è¯¢æ¬¡æ•°: GORMåœ¨æŸ¥è¯¢æ•°æ®åº“æ—¶ä¼šæ‰§è¡Œå¾ˆå¤šæ“ä½œï¼Œå¦‚æœä½ å¯ä»¥é€šè¿‡å‡å°‘æŸ¥è¯¢æ¬¡æ•°æ¥æé«˜æ€§èƒ½ï¼Œå°±åº”è¯¥å°½é‡è¿™æ ·åšã€‚</li><li data-pid="mpbJHLay">å°½é‡å‡å°‘ä½¿ç”¨é«˜çº§åŠŸèƒ½: GORMæ”¯æŒå¾ˆå¤šé«˜çº§åŠŸèƒ½ï¼Œå¦‚æœä½ ä¸éœ€è¦è¿™äº›åŠŸèƒ½ï¼Œå¯ä»¥è€ƒè™‘ä¸ä½¿ç”¨å®ƒä»¬ï¼Œä»¥æé«˜æ€§èƒ½ã€‚</li><li data-pid="iGC9jscw">å°½é‡ä½¿ç”¨æ‰¹é‡æ“ä½œ: GORMæ”¯æŒå¯¹å¤šä¸ªå¯¹è±¡æ‰¹é‡è¿›è¡Œæ“ä½œï¼Œå¦‚æœä½ éœ€è¦å¯¹å¤šä¸ªå¯¹è±¡è¿›è¡Œç›¸åŒçš„æ“ä½œï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨æ‰¹é‡æ“ä½œæ¥æé«˜æ€§èƒ½ã€‚</li><li data-pid="ePiZivdu">æ•°æ®åº“è¿æ¥æ± : GORMé»˜è®¤ä½¿ç”¨æ•°æ®åº“è¿æ¥æ± æ¥ç®¡ç†æ•°æ®åº“è¿æ¥ï¼Œä½†æ˜¯é»˜è®¤çš„è¿æ¥æ± å¤§å°å¯èƒ½ä¸å¤Ÿï¼Œå¯ä»¥é€šè¿‡è°ƒæ•´è¿æ¥æ± å¤§å°æ¥æé«˜æ€§èƒ½ã€‚</li></ol><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-7b56f4de7c652ecfa0c2ec8b714ee926_r.jpg" data-size="normal" width="2060" referrerpolicy="no-referrer"><figcaption>image-20230127170840505</figcaption></figure><p class="ztext-empty-paragraph"><br></p><h3>ç¼“å­˜é¢„ç¼–è¯‘</h3><p data-pid="F0wbmgYy">é¢„ç¼–è¯‘æ˜¯ä¸€ç§å°† SQL è¯­å¥ç¼–è¯‘ä¸ºæ•°æ®åº“å¯ä»¥è¯†åˆ«çš„è¯­å¥çš„è¿‡ç¨‹ã€‚è¿™ç§ç¼–è¯‘è¿‡ç¨‹å¯ä»¥æé«˜æŸ¥è¯¢æ€§èƒ½ï¼Œå› ä¸ºæ•°æ®åº“ä¸éœ€è¦åœ¨æ¯æ¬¡æ‰§è¡ŒæŸ¥è¯¢æ—¶éƒ½é‡æ–°ç¼–è¯‘ SQL è¯­å¥ã€‚</p><p data-pid="zTnOIHCd">GORM ä¸­å¯ä»¥ä½¿ç”¨é¢„ç¼–è¯‘è¯­å¥æ¥æé«˜æŸ¥è¯¢æ€§èƒ½ã€‚ä½¿ç”¨é¢„ç¼–è¯‘è¯­å¥çš„æ–¹æ³•æ˜¯å°† SQL è¯­å¥ä¼ é€’ç»™ gorm.DB.Exec æˆ– gorm.DB.Queryï¼Œå¹¶å°†éœ€è¦ä¼ é€’ç»™ SQL è¯­å¥çš„å‚æ•°ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ä¼ é€’ã€‚</p><p data-pid="nB7TWNZr"> ç®€å•çš„ä¸€ä¸ªæ¡ˆä¾‹å¦‚ä¸‹ï¼š</p><div class="highlight"><pre><code class="language-go"><span class="nx">db</span><span class="p">.</span><span class="nf">Exec</span><span class="p">(</span><span class="s">"INSERT INTO users (name, age) VALUES (?, ?)"</span><span class="p">,</span> <span class="s">"John Doe"</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
</code></pre></div><p data-pid="qzMTBpoZ">å…¶ä¸­ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯é¢„ç¼–è¯‘çš„ SQL è¯­å¥ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯è¦ä¼ é€’ç»™ SQL è¯­å¥çš„å‚æ•°ã€‚</p><p data-pid="JiDlU1aT">ç¼“å­˜é¢„ç¼–è¯‘æ˜¯ä¸€ç§ä¼˜åŒ–æŸ¥è¯¢æ€§èƒ½çš„æ–¹æ³•ï¼Œå®ƒå¯ä»¥å°†é¢„ç¼–è¯‘è¿‡çš„ SQL è¯­å¥å­˜å‚¨åœ¨ç¼“å­˜ä¸­ï¼Œä»¥ä¾¿åœ¨éœ€è¦æ‰§è¡Œç›¸åŒçš„æŸ¥è¯¢æ—¶å¯ä»¥é‡ç”¨å·²ç¼–è¯‘çš„è¯­å¥ã€‚è¿™å¯ä»¥å‡å°‘æ•°æ®åº“ç¼–è¯‘ SQL çš„å¼€é”€ï¼Œæé«˜æ€§èƒ½ã€‚</p><div class="highlight"><pre><code class="language-go"><span class="nx">db</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">gorm</span><span class="p">.</span><span class="nf">Open</span><span class="p">(</span><span class="s">"mysql"</span><span class="p">,</span> <span class="s">"user:password@/dbname?charset=utf8&amp;parseTime=True&amp;loc=Local&amp;strict=true&amp;cache=true"</span><span class="p">)</span>
</code></pre></div><p data-pid="1YxYlQXI">å…¶ä¸­ï¼Œ<code>strict=true</code> å‚æ•°å‘Šè¯‰ GORM åœ¨æ¯æ¬¡æ“ä½œæ—¶éƒ½å¯ç”¨äº‹åŠ¡ï¼Œ<code>cache=true</code> å‚æ•°å‘Šè¯‰ GORM ç¼“å­˜é¢„ç¼–è¯‘è¯­å¥ã€‚</p><p data-pid="7MItGkGw">ä½¿ç”¨ç¼“å­˜é¢„ç¼–è¯‘è¯­å¥å¯ä»¥æ˜¾è‘—æé«˜æŸ¥è¯¢æ€§èƒ½ï¼Œç‰¹åˆ«æ˜¯å¯¹äºæ‰§è¡Œç›¸åŒçš„æŸ¥è¯¢çš„æƒ…å†µã€‚</p><h3>å…³é—­é»˜è®¤äº‹åŠ¡</h3><p data-pid="kwoSkdAU">GORM é»˜è®¤åœ¨æ¯æ¬¡æ•°æ®åº“æ“ä½œæ—¶éƒ½ä¼šå¯ç”¨äº‹åŠ¡ï¼Œä½†æ˜¯æœ‰æ—¶å€™æˆ‘ä»¬ä¸éœ€è¦è¿™æ ·ã€‚</p><p data-pid="yfqs6dRh">åœ¨ GORM ä¸­å…³é—­é»˜è®¤äº‹åŠ¡å¯ä»¥ä½¿ç”¨ gorm.Open æ–¹æ³•æ‰“å¼€æ•°æ®åº“è¿æ¥æ—¶çš„å‚æ•°ã€‚</p><div class="highlight"><pre><code class="language-go"><span class="nx">db</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">gorm</span><span class="p">.</span><span class="nf">Open</span><span class="p">(</span><span class="s">"mysql"</span><span class="p">,</span> <span class="s">"user:password@/dbname?charset=utf8&amp;parseTime=True&amp;loc=Local&amp;autocommit=true"</span><span class="p">)</span>
</code></pre></div><p data-pid="wYoMD1ba">å…¶ä¸­ï¼Œ<code>autocommit=true</code> å‚æ•°å‘Šè¯‰ GORM åœ¨æ¯æ¬¡æ“ä½œæ—¶ä¸å¯ç”¨äº‹åŠ¡ã€‚å¦‚æœä¸éœ€è¦äº‹åŠ¡ï¼Œè¿™æ ·åšå¯ä»¥æé«˜æ€§èƒ½ã€‚</p><p data-pid="xjXJx6FU">æ³¨æ„ï¼šå…³é—­äº‹åŠ¡åéœ€è¦è‡ªå·±æ‰‹åŠ¨ç®¡ç†äº‹åŠ¡ï¼Œå¦‚æœéœ€è¦äº‹åŠ¡æ”¯æŒï¼Œè¯·ä¸è¦å…³é—­é»˜è®¤äº‹åŠ¡ã€‚</p><h3>GORMç”Ÿæ€</h3><table data-draft-node="block" data-draft-type="table" data-size="normal" data-row-style="normal"><tbody><tr><th>æ‰©å±•åç§°</th><th>æè¿°</th><th>GitHubåœ°å€</th></tr><tr><td>GORM ä»£ç ç”Ÿæˆå·¥å…·</td><td>å¯ä»¥æ ¹æ®æ•°æ®åº“è¡¨ç»“æ„è‡ªåŠ¨ç”Ÿæˆ Go ä»£ç ï¼Œå¸®åŠ©ä½¿ç”¨ GORM çš„ç”¨æˆ·æ›´å¿«é€Ÿåœ°å¼€å‘</td><td><a href="https://github.com/go-gorm/gen" target="_blank"><span class="invisible">https://</span><span class="visible">github.com/go-gorm/gen</span><span class="invisible"></span></a></td></tr><tr><td>GORM åˆ†ç‰‡åº“æ–¹æ¡ˆ</td><td>å¯¹ GORM è¿›è¡Œçš„åˆ†ç‰‡åº“æ‰©å±•ï¼Œå¯ä»¥å¸®åŠ©ç”¨æˆ·ç®¡ç†åˆ†ç‰‡æ•°æ®åº“</td><td><a href="https://github.com/go-gorm/sharding" target="_blank"><span class="invisible">https://</span><span class="visible">github.com/go-gorm/shar</span><span class="invisible">ding</span><span class="ellipsis"></span></a></td></tr><tr><td>GORM æ‰‹åŠ¨ç´¢å¼•</td><td>å¸®åŠ©ç”¨æˆ·åœ¨ GORM ä¸­æ‰‹åŠ¨åˆ›å»ºç´¢å¼•</td><td><a href="https://github.com/go-gorm/hints" target="_blank"><span class="invisible">https://</span><span class="visible">github.com/go-gorm/hint</span><span class="invisible">s</span><span class="ellipsis"></span></a></td></tr><tr><td>GORM ä¹è§‚é”</td><td>å¯¹ GORM è¿›è¡Œçš„ä¹è§‚é”æ‰©å±•ï¼Œå¯ä»¥å¸®åŠ©ç”¨æˆ·å¤„ç†å¹¶å‘å†²çª</td><td><a href="https://github.com/go-gorm/optimisticlock" target="_blank"><span class="invisible">https://</span><span class="visible">github.com/go-gorm/opti</span><span class="invisible">misticlock</span><span class="ellipsis"></span></a></td></tr><tr><td>GORM è¯»å†™åˆ†ç¦»</td><td>å¯¹ GORM è¿›è¡Œçš„è¯»å†™åˆ†ç¦»æ‰©å±•ï¼Œå¯ä»¥å¸®åŠ©ç”¨æˆ·ä¼˜åŒ–æ•°æ®åº“æ€§èƒ½</td><td><a href="https://github.com/go-gorm/dbresolver" target="_blank"><span class="invisible">https://</span><span class="visible">github.com/go-gorm/dbre</span><span class="invisible">solver</span><span class="ellipsis"></span></a></td></tr><tr><td>GORM OpenTelemetry æ‰©å±•</td><td>å¯¹ GORM è¿›è¡Œçš„ OpenTelemetry æ‰©å±•ï¼Œå¯ä»¥å¸®åŠ©ç”¨æˆ·å¯¹ GORM çš„æ€§èƒ½è¿›è¡Œç›‘æ§å’Œè¿½è¸ª</td><td><a href="https://github.com/go-gorm/opentelemetry" target="_blank"><span class="invisible">https://</span><span class="visible">github.com/go-gorm/open</span><span class="invisible">telemetry</span><span class="ellipsis"></span></a></td></tr></tbody></table><p data-pid="913nXv1C">æ›´å¤šç”¨æ³•ï¼š<a href="https://gorm.cn/" target="_blank">https://gorm.cn</a></p><h3>Kitex</h3><ul><li data-pid="LLK5HcP7">[x] <a href="https://github.com/cloudwego/kitex/" target="_blank">githubåœ°å€</a></li></ul><p data-pid="Fr7liSp5">Kitexæ˜¯å­—èŠ‚å†…éƒ¨çš„Golangå¾®æœåŠ¡PRCæ¡†æ¶ã€‚</p><p data-pid="DSr8_l-S">Kitexæ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„å¼€æºç½‘ç»œåº“ï¼Œå®ƒå…·æœ‰é«˜æ€§èƒ½ã€ä½å»¶è¿Ÿå’Œé«˜å¯é æ€§ç‰¹ç‚¹ã€‚å®ƒæ”¯æŒå¤šç§åè®®ï¼Œå¦‚TCPã€UDPã€HTTPå’ŒRPCç­‰ï¼Œå¯ä»¥ç”¨äºæ„å»ºåˆ†å¸ƒå¼ç³»ç»Ÿã€å¾®æœåŠ¡å’Œäº‘è®¡ç®—ç­‰åº”ç”¨ã€‚ Kitexçš„ä¸»è¦ç”¨é€”æ˜¯åœ¨åº”ç”¨ç¨‹åºä¸­æä¾›é«˜æ€§èƒ½çš„ç½‘ç»œé€šä¿¡æ”¯æŒï¼Œå¹¶å¸®åŠ©å¼€å‘äººå‘˜æ›´è½»æ¾åœ°å®ç°åˆ†å¸ƒå¼åº”ç”¨ç¨‹åºå’Œå¾®æœåŠ¡ã€‚</p><p data-pid="CivNJiiO">Kitex ç›®å‰å¯¹ Windows çš„æ”¯æŒä¸å®Œå–„ï¼Œå¦‚æœæœ¬åœ°å¼€å‘ç¯å¢ƒæ˜¯ windows çš„è¯éœ€è¦ç”¨åˆ° è™šæ‹Ÿæœºæˆ–è€…æ˜¯ WSL2ã€‚</p><p data-pid="VbWhNI7C"><b>å®‰è£…ä»£ç ç”Ÿæˆå·¥å…·ï¼š</b></p><div class="highlight"><pre><code class="language-text">go install github.com/cloudwego/kitex/tool/cmd/kitex@latest
go install github.com/cloudwego/thriftgo@latest</code></pre></div><p data-pid="TP3xuNQL"><b>éªŒè¯ï¼š</b></p><div class="highlight"><pre><code class="language-text">kitex -version</code></pre></div><h3>å®šä¹‰ IDL</h3><p data-pid="9eorfywO">IDL (Interface Definition Language) æ˜¯æŒ‡æ¥å£å®šä¹‰è¯­è¨€ï¼Œæ˜¯ç”¨äºæè¿°è¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼ˆRPCï¼‰æˆ–å¯¹è±¡è¯·æ±‚ä»£ç†ï¼ˆORPï¼‰æ¥å£çš„è¯­è¨€ã€‚ IDL ä¸­å®šä¹‰äº†è¿œç¨‹å¯¹è±¡çš„æ¥å£ï¼Œå…¶ä¸­åŒ…æ‹¬æ–¹æ³•åç§°ã€å‚æ•°ç±»å‹å’Œè¿”å›å€¼ç±»å‹ç­‰ä¿¡æ¯ã€‚è¿™äº›ä¿¡æ¯å¯ä»¥ç”¨äºç”Ÿæˆä»£ç æ¥å®ç°è¿œç¨‹è°ƒç”¨ã€‚å¸¸è§çš„ IDL æ ‡å‡†æœ‰ CORBA å’Œ Microsoft COM/DCOMã€‚</p><h3>ç”Ÿæˆä»£ç </h3><p data-pid="yP_d0uOo">ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ç”Ÿæˆä»£ç ï¼š</p><div class="highlight"><pre><code class="language-bash">kitex -module example -service example echo.thrift</code></pre></div><p data-pid="TzDRQEI7">RPCï¼ˆRemote Procedure Call Protocolï¼‰è¿œç¨‹è¿‡ç¨‹è°ƒç”¨åè®®ã€‚ä¸€ä¸ªé€šä¿—çš„æè¿°æ˜¯ï¼šå®¢æˆ·ç«¯åœ¨ä¸çŸ¥é“è°ƒç”¨ç»†èŠ‚çš„æƒ…å†µä¸‹ï¼Œè°ƒç”¨å­˜åœ¨äºè¿œç¨‹è®¡ç®—æœºä¸Šçš„æŸä¸ªå¯¹è±¡ï¼Œå°±åƒè°ƒç”¨æœ¬åœ°åº”ç”¨ç¨‹åºä¸­çš„å¯¹è±¡ä¸€æ ·ã€‚æ¯”è¾ƒæ­£å¼çš„æè¿°æ˜¯ï¼šä¸€ç§é€šè¿‡ç½‘ç»œä»è¿œç¨‹è®¡ç®—æœºç¨‹åºä¸Šè¯·æ±‚æœåŠ¡ï¼Œè€Œä¸éœ€è¦äº†è§£åº•å±‚ç½‘ç»œæŠ€æœ¯çš„åè®®ã€‚</p><div class="highlight"><pre><code class="language-go"><span class="c1">// ä½¿ç”¨IDLå®šä¹‰æœåŠ¡ä¸æ¥å£
</span><span class="c1"></span><span class="cm">/*
</span><span class="cm">å¦‚æœæˆ‘ä»¬è¦è¿›è¡ŒPRCï¼Œå°±éœ€è¦çŸ¥é“å¯¹æ–¹çš„æ¥å£æ˜¯ä»€ä¹ˆï¼Œéœ€è¦ä¼ ä»€ä¹ˆå‚æ•°ï¼ŒåŒæ—¶ä¹Ÿéœ€è¦çŸ¥é“è¿”å›å€¼æ—¶ä»€ä¹ˆæ ·çš„ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå°±éœ€è¦é€šè¿‡IDLæ¥çº¦å®šåŒæ–¹çš„åè®®ï¼Œå°±åƒåœ¨å†™ä»£ç çš„æ—¶å€™éœ€è¦è°ƒç”¨æŸä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“å‡½æ•°ç­¾åä¸€æ ·ã€‚
</span><span class="cm">*/</span>
<span class="c1">// Thrift: https://thrift.apache.org/docs/idl
</span><span class="c1">// Proto3: https://developers.google.com/protocol-buffers/docs/proto3
</span><span class="c1"></span>
<span class="nx">namespace</span> <span class="k">go</span> <span class="nx">api</span>

<span class="kd">struct</span> <span class="nx">Request</span> <span class="p">{</span>
    <span class="mi">1</span><span class="p">:</span> <span class="kt">string</span> <span class="nx">message</span>
<span class="p">}</span>

<span class="kd">struct</span> <span class="nx">Response</span> <span class="p">{</span>
    <span class="mi">1</span><span class="p">:</span> <span class="kt">string</span> <span class="nx">message</span>
<span class="p">}</span>

<span class="nx">service</span> <span class="nx">Echo</span> <span class="p">{</span>
    <span class="nx">Response</span> <span class="nf">echo</span><span class="p">(</span><span class="mi">1</span><span class="p">:</span> <span class="nx">Request</span> <span class="nx">req</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div><p data-pid="eayMDza0"><b>æ–‡ä»¶è¯´æ˜</b>ï¼š</p><ul><li data-pid="ryeUgv5K">build.shï¼šæ„å»ºè„šæœ¬</li><li data-pid="9ziFfDCa">kitex_genï¼šIDLå†…å®¹ç›¸å…³çš„ç”Ÿæˆä»£ç ï¼Œä¸»è¦æ˜¯åŸºç¡€çš„Server/Clientä»£ç </li><li data-pid="vzYMP3Un">main.goï¼šç¨‹åºå…¥å£</li><li data-pid="fF2FQgkF">handler.goï¼šç”¨æˆ·åœ¨è¯¥æ–‡ä»¶é‡Œå®ç°IDLserviceå®šä¹‰çš„æ–¹æ³•</li></ul><p data-pid="vlnuohxN">æœåŠ¡é»˜è®¤ç›‘å¬8888ç«¯å£ï¼›</p><p data-pid="0y4weguQ">Kitex Clientå‘èµ·è¯·æ±‚ï¼š</p><ul><li data-pid="YkD1ARo-">åˆ›å»ºClient</li><li data-pid="bXz-yek6">å‘èµ·è¯·æ±‚</li></ul><p data-pid="zXXg3zlD">KitexæœåŠ¡æ³¨å†Œä¸å‘ç°ï¼š</p><p data-pid="_4KUx26p">ç›®å‰Kitexçš„æœåŠ¡æ³¨å†Œä¸å‘ç°å·²ç»å¯¹æ¥äº†ä¸»æµçš„æœåŠ¡æ³¨å†Œä¸å‘ç°ä¸­å¿ƒï¼Œå¦‚ETCDï¼ŒNacosç­‰ï¼›</p><p data-pid="NtH59oYn">Kitexç”Ÿæ€ï¼š</p><p data-pid="ANPb8MOj">è¯¦è§ï¼š<code>https://www.cloudwego.io/zh/docs/kitex/</code></p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-88b58b3d68ec14142771ef5c2c2dc01d_r.jpg" data-size="normal" width="2060" referrerpolicy="no-referrer"><figcaption>image-20230127204236167</figcaption></figure><p class="ztext-empty-paragraph"><br></p><p data-pid="459tu3E5"><b>å‘èµ·è¯·æ±‚ï¼š</b></p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-5f917ea103992f5cf9142b66ebc19537_r.jpg" data-size="normal" width="2060" referrerpolicy="no-referrer"><figcaption>image-20230127204252098</figcaption></figure><p class="ztext-empty-paragraph"><br></p><h3>Kitex æœåŠ¡æ³¨å†Œä¸å‘ç°</h3><p data-pid="_VrhtZ3k">ç›®å‰çš„ Kitex çš„æœåŠ¡æ³¨å†Œä¸å‘ç°å·²ç»å¯¹æ¥äº†ä¸»æµçš„æœåŠ¡æ³¨å†Œä¸å‘ç°ä¸­å¿ƒï¼Œå¦‚ ETCD ã€Nacos</p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-9a75daa0721f73cdbee35661d6dc0dd3_r.jpg" data-size="normal" width="2060" referrerpolicy="no-referrer"><figcaption>image-20230127204301522</figcaption></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-85fc056b4d3a2392244ef23267e32b92_r.jpg" data-size="normal" width="2060" referrerpolicy="no-referrer"><figcaption>image-20230127204312988</figcaption></figure><p class="ztext-empty-paragraph"><br></p><h3>ç”Ÿæ€</h3><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-f4935a5e7bc0442e53b158097c67089b_r.jpg" data-size="normal" width="2060" referrerpolicy="no-referrer"><figcaption>image-20230127204326966</figcaption></figure><p class="ztext-empty-paragraph"><br></p><h3>Hertz</h3><p data-pid="dmFPRkQW">Hertz æ˜¯å­—èŠ‚å†…éƒ¨çš„ HTTP æ¡†æ¶ã€‚</p><p data-pid="a4Sxqa_0">Hertz æ˜¯å­—èŠ‚è·³åŠ¨æœåŠ¡æ¡†æ¶å›¢é˜Ÿç ”å‘çš„è¶…å¤§è§„æ¨¡çš„ä¼ä¸šçº§å¾®æœåŠ¡ HTTP æ¡†æ¶ï¼Œå…·æœ‰ <b>é«˜æ˜“ç”¨æ€§ã€æ˜“æ‰©å±•ã€ä½æ—¶å»¶</b> ç­‰ç‰¹ç‚¹ã€‚åœ¨ç»è¿‡äº†å­—èŠ‚è·³åŠ¨å†…éƒ¨ä¸€å¹´å¤šçš„ä½¿ç”¨å’Œè¿­ä»£ï¼Œå¦‚ä»Šå·²åœ¨ CloudWeGo æ­£å¼å¼€æºã€‚ç›®å‰ï¼Œ<code>Hertz</code> å·²ç»æˆä¸ºäº†å­—èŠ‚è·³åŠ¨å†…éƒ¨æœ€å¤§çš„ <code>HTTP</code> æ¡†æ¶ï¼Œçº¿ä¸Šæ¥å…¥çš„æœåŠ¡æ•°é‡è¶…è¿‡ 1 ä¸‡ï¼Œå³°å€¼ QPS è¶…è¿‡ 4 åƒä¸‡ã€‚é™¤äº†å„ä¸ªä¸šåŠ¡çº¿çš„åŒå­¦ä½¿ç”¨å¤–ï¼Œä¹ŸæœåŠ¡äºå†…éƒ¨å¾ˆå¤šåŸºç¡€ç»„ä»¶ï¼Œ<b>å¦‚ï¼š</b> å‡½æ•°è®¡ç®—å¹³å° <code>FaaS</code>ã€å‹æµ‹å¹³å°ã€å„ç±»ç½‘å…³ã€<code>Service Mesh</code> æ§åˆ¶é¢ç­‰ï¼Œå‡æ”¶åˆ°ä¸é”™çš„ä½¿ç”¨åé¦ˆã€‚åœ¨å¦‚æ­¤å¤§è§„æ¨¡çš„åœºæ™¯ä¸‹ï¼Œ<code>Hertz</code> æ‹¥æœ‰æå¼ºçš„ç¨³å®šæ€§å’Œæ€§èƒ½ï¼Œåœ¨å†…éƒ¨å®è·µä¸­æŸäº›å…¸å‹æœåŠ¡ï¼Œå¦‚æ¡†æ¶å æ¯”è¾ƒé«˜çš„æœåŠ¡ã€ç½‘å…³ç­‰æœåŠ¡ï¼Œè¿ç§» <code>Hertz</code> åç›¸æ¯” Gin æ¡†æ¶ï¼Œèµ„æºä½¿ç”¨æ˜¾è‘—å‡å°‘ï¼ŒCPU ä½¿ç”¨ç‡éšæµé‡å¤§å°é™ä½ <code>30%-60%</code>ï¼Œæ—¶å»¶ä¹Ÿæœ‰æ˜æ˜¾é™ä½ã€‚</p><p data-pid="yjvXB022">Hertz åšæŒå†…å¤–ç»´æŠ¤ä¸€å¥—ä»£ç ï¼Œä¸ºå¼€æºä½¿ç”¨æä¾›äº†å¼ºæœ‰åŠ›çš„ä¿éšœã€‚é€šè¿‡å¼€æºï¼Œ Hertz ä¹Ÿå°†ä¸°å¯Œäº‘åŸç”Ÿçš„ Golang ä¸­é—´ä»¶ä½“ç³»ï¼Œå®Œå–„ CloudWeGo ç”Ÿæ€çŸ©é˜µï¼Œä¸ºæ›´å¤šå¼€å‘è€…å’Œä¼ä¸šæ­å»ºäº‘åŸç”ŸåŒ–çš„å¤§è§„æ¨¡åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œæä¾›ä¸€ç§ç°ä»£çš„ã€èµ„æºé«˜æ•ˆçš„çš„æŠ€æœ¯æ–¹æ¡ˆã€‚</p><h3>é¡¹ç›®æºç </h3><p data-pid="t8aBx4nN">æœ€åˆï¼Œå­—èŠ‚è·³åŠ¨å†…éƒ¨çš„ HTTP æ¡†æ¶æ˜¯å¯¹ Gin æ¡†æ¶çš„å°è£…ï¼Œå…·å¤‡ä¸é”™çš„æ˜“ç”¨æ€§ã€ç”Ÿæ€å®Œå–„ç­‰ä¼˜ç‚¹ã€‚éšç€å†…éƒ¨ä¸šåŠ¡çš„ä¸æ–­å‘å±•ï¼Œé«˜æ€§èƒ½ã€å¤šåœºæ™¯çš„éœ€æ±‚æ—¥æ¸å¼ºçƒˆã€‚è€Œ Gin æ˜¯å¯¹ Golang åŸç”Ÿ net/http è¿›è¡Œçš„äºŒæ¬¡å¼€å‘ï¼Œåœ¨æŒ‰éœ€æ‰©å±•å’Œæ€§èƒ½ä¼˜åŒ–ä¸Šå—åˆ°å¾ˆå¤§å±€é™ã€‚å› æ­¤ï¼Œä¸ºäº†æ»¡è¶³ä¸šåŠ¡éœ€æ±‚ï¼Œæ›´å¥½çš„æœåŠ¡å„å¤§ä¸šåŠ¡çº¿ï¼Œ2020 å¹´åˆï¼Œå­—èŠ‚è·³åŠ¨æœåŠ¡æ¡†æ¶å›¢é˜Ÿç»è¿‡å†…éƒ¨ä½¿ç”¨åœºæ™¯å’Œå¤–éƒ¨ä¸»æµå¼€æº HTTP æ¡†æ¶ Fasthttpã€Ginã€Echo çš„è°ƒç ”åï¼Œå¼€å§‹åŸºäºè‡ªç ”ç½‘ç»œåº“ Netpoll å¼€å‘å†…éƒ¨æ¡†æ¶ Hertzï¼Œè®© Hertz åœ¨é¢å¯¹ä¼ä¸šçº§éœ€æ±‚æ—¶ï¼Œæœ‰æ›´å¥½çš„æ€§èƒ½åŠç¨³å®šæ€§è¡¨ç°ï¼Œä¹Ÿèƒ½å¤Ÿæ»¡è¶³ä¸šåŠ¡å‘å±•å’Œåº”å¯¹ä¸æ–­æ¼”è¿›çš„æŠ€æœ¯éœ€æ±‚ã€‚</p><h3>æ¶æ„è®¾è®¡</h3><p data-pid="3-iKI0tJ">Hertz è®¾è®¡ä¹‹åˆè°ƒç ”äº†å¤§é‡ä¸šç•Œä¼˜ç§€çš„ HTTP æ¡†æ¶ï¼ŒåŒæ—¶å‚è€ƒäº†è¿‘å¹´æ¥å†…éƒ¨å®è·µä¸­ç§¯ç´¯çš„ç»éªŒã€‚ä¸ºäº†ä¿è¯æ¡†æ¶æ•´ä½“ä¸Šæ»¡è¶³ï¼š1. æè‡´æ€§èƒ½ä¼˜åŒ–çš„å¯èƒ½æ€§ï¼›2. é¢å¯¹æœªæ¥ä¸å¯æ§éœ€æ±‚çš„æ‰©å±•èƒ½åŠ›ï¼Œ Hertz é‡‡ç”¨äº† 4 å±‚åˆ†å±‚è®¾è®¡ï¼Œä¿è¯å„ä¸ªå±‚çº§åŠŸèƒ½å†…èšï¼ŒåŒæ—¶é€šè¿‡å±‚çº§ä¹‹é—´çš„æ¥å£è¾¾åˆ°çµæ´»æ‰©å±•çš„ç›®æ ‡ã€‚æ•´ä½“æ¶æ„å›¾å¦‚å›¾ 1 æ‰€ç¤ºã€‚</p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-d0b2a1d66cc7460f5c21589b65afb0a3_r.jpg" data-size="normal" width="1294" referrerpolicy="no-referrer"><figcaption>image-20230127215358335</figcaption></figure><p class="ztext-empty-paragraph"><br></p><p data-pid="Gh2kIaBo">Hertz ä»ä¸Šåˆ°ä¸‹åˆ†ä¸ºï¼šåº”ç”¨å±‚ã€è·¯ç”±å±‚ã€åè®®å±‚å’Œä¼ è¾“å±‚ï¼Œæ¯ä¸€å±‚å„å¸å…¶èŒï¼ŒåŒæ—¶å…¬å…±èƒ½åŠ›è¢«ç»Ÿä¸€æŠ½è±¡åˆ°å…¬å…±å±‚ï¼ˆcommonï¼‰ï¼Œåšåˆ°è·¨å±‚çº§å¤ç”¨ã€‚å¦å¤–ï¼ŒåŒä¸»åº“ä¸€åŒå‘å¸ƒçš„è¿˜æœ‰ä½œä¸ºå­æ¨¡å—çš„ Hz è„šæ‰‹æ¶ï¼Œå®ƒèƒ½å¤ŸååŠ©ä½¿ç”¨è€…å¿«é€Ÿæ­å»ºå‡ºé¡¹ç›®æ ¸å¿ƒéª¨æ¶ä»¥åŠæä¾›å®ç”¨çš„æ„å»ºå·¥å…·é“¾ã€‚</p><h3>åº”ç”¨å±‚</h3><p data-pid="KBubZzys">åº”ç”¨å±‚æ˜¯å’Œç”¨æˆ·ç›´æ¥äº¤äº’çš„ä¸€å±‚ï¼Œæä¾›ä¸°å¯Œæ˜“ç”¨çš„ APIï¼Œä¸»è¦åŒ…æ‹¬ Serverã€Client å’Œä¸€äº›å…¶ä»–é€šç”¨æŠ½è±¡ã€‚Server æä¾›äº†æ³¨å†Œ HandlerFuncã€Bindingã€Rendering ç­‰èƒ½åŠ›ï¼›Client æä¾›äº†è°ƒç”¨ä¸‹æ¸¸å’ŒæœåŠ¡å‘ç°ç­‰èƒ½åŠ›ï¼›ä»¥åŠæŠ½è±¡ä¸€ä¸ª HTTP è¯·æ±‚æ‰€å¿…é¡»æ¶‰åŠåˆ°çš„è¯·æ±‚ï¼ˆRequestï¼‰ã€å“åº”ï¼ˆResponseï¼‰ã€ä¸Šä¸‹æ–‡ï¼ˆRequestContextï¼‰ã€ä¸­é—´ä»¶ï¼ˆMiddlewareï¼‰ç­‰ç­‰ã€‚Hertz çš„ Server å’Œ Client éƒ½èƒ½å¤Ÿæä¾›ä¸­é—´ä»¶è¿™æ ·çš„æ‰©å±•èƒ½åŠ›ã€‚</p><p data-pid="Z1-LxF2h">åº”ç”¨å±‚ä¸­ä¸€ä¸ªéå¸¸é‡è¦çš„æŠ½è±¡å°±æ˜¯å¯¹ Server HandlerFunc çš„æŠ½è±¡ã€‚æ—©æœŸï¼ŒHertz è·¯ç”±çš„å¤„ç†å‡½æ•° ï¼ˆHandlerFuncï¼‰ä¸­å¹¶æ²¡æœ‰æ¥æ”¶æ ‡å‡†çš„ <code>context.Context</code>ï¼Œæˆ‘ä»¬åœ¨å¤§é‡çš„å®è·µè¿‡ç¨‹ä¸­å‘ç°ï¼Œä¸šåŠ¡æ–¹é€šå¸¸éœ€è¦ä¸€ä¸ªæ ‡å‡†çš„ä¸Šä¸‹æ–‡åœ¨ RPC Client æˆ–è€…æ—¥å¿—ã€Tracing ç­‰ç»„ä»¶é—´ä¼ é€’ï¼Œä½†ç”±äºè¯·æ±‚ä¸Šä¸‹æ–‡ï¼ˆRequestContextï¼‰ç”Ÿå‘½å‘¨æœŸå±€é™äºä¸€æ¬¡ HTTP è¯·æ±‚ä¹‹å†…ï¼Œè€Œä»¥ä¸Šæåˆ°çš„åœºæ™¯å¾€å¾€å­˜åœ¨å¼‚æ­¥çš„ä¼ é€’å’Œå¤„ç†ï¼Œå¯¼è‡´å¦‚æœç›´æ¥ä¼ é€’è¯·æ±‚ä¸Šä¸‹æ–‡ï¼Œä¼šå¯¼è‡´å‡ºç°ä¸€äº›æ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ã€‚ä¸ºæ­¤æˆ‘ä»¬åšäº†è¯¸å¤šå°è¯•ï¼Œä½†æ˜¯å› ä¸ºæ ¸å¿ƒåŸå› åœ¨äºè¯·æ±‚ä¸Šä¸‹æ–‡ï¼ˆRequestContextï¼‰çš„ç”Ÿå‘½å‘¨æœŸæ— æ³•ä¼˜é›…çš„æŒ‰éœ€å»¶é•¿ï¼Œæœ€ç»ˆåœ¨å„ç§è®¾è®¡æƒè¡¡ä¸‹ï¼Œæˆ‘ä»¬åœ¨è·¯ç”±çš„å¤„ç†å‡½æ•°ç­¾åä¸­å¢åŠ ä¸€ä¸ªæ ‡å‡†çš„ä¸Šä¸‹æ–‡å…¥å‚ï¼Œé€šè¿‡åˆ†ç¦»å‡ºç”Ÿå‘½å‘¨æœŸé•¿çŸ­å„å¼‚çš„ä¸¤ä¸ªä¸Šä¸‹æ–‡çš„æ–¹å¼ï¼Œä»æ ¹æœ¬ä¸Šè§£å†³å„ç§å› ä¸ºä¸Šä¸‹æ–‡ç”Ÿå‘½å‘¨æœŸä¸ä¸€è‡´å¯¼è‡´çš„å¼‚å¸¸é—®é¢˜ï¼Œå³ï¼š</p><div class="highlight"><pre><code class="language-go"><span class="kd">type</span> <span class="nx">HandlerFunc</span> <span class="kd">func</span><span class="p">(</span><span class="nx">c</span> <span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span> <span class="nx">ctx</span> <span class="o">*</span><span class="nx">app</span><span class="p">.</span><span class="nx">RequestContext</span><span class="p">)</span>
</code></pre></div><h3>è·¯ç”±å±‚</h3><p data-pid="KyUEClRZ">è·¯ç”±å±‚è´Ÿè´£æ ¹æ® URI åŒ¹é…å¯¹åº”çš„å¤„ç†å‡½æ•°ã€‚</p><p data-pid="yRPRUCP7">èµ·åˆï¼ŒHertz çš„è·¯ç”±åŸºäº httprouter å¼€å‘ï¼Œä½†éšç€ä½¿ç”¨çš„ç”¨æˆ·è¶Šæ¥è¶Šå¤šï¼Œhttprouter æ¸æ¸ä¸èƒ½å¤Ÿæ»¡è¶³éœ€æ±‚ï¼Œä¸»è¦ä½“ç°åœ¨ httprouter ä¸èƒ½å¤ŸåŒæ—¶æ³¨å†Œé™æ€è·¯ç”±å’Œå‚æ•°è·¯ç”±ï¼Œå³ /a/bï¼Œ/:c/d è¿™ä¸¤ä¸ªè·¯ç”±ä¸èƒ½å¤ŸåŒæ—¶æ³¨å†Œï¼›ç”šè‡³æœ‰ä¸€äº›æ›´ç‰¹æ®Šçš„éœ€æ±‚ï¼Œå¦‚/a/bã€/:c/b ï¼Œå½“åŒ¹é… /a/b è·¯ç”±æ—¶ï¼Œä¸¤ä¸ªè·¯ç”±éƒ½èƒ½å¤ŸåŒ¹é…ä¸Šã€‚</p><p data-pid="Sx4IrjdA">Hertz ä¸ºæ»¡è¶³è¿™äº›éœ€æ±‚é‡æ–°æ„é€ äº†è·¯ç”±æ ‘ï¼Œç”¨æˆ·åœ¨æ³¨å†Œè·¯ç”±æ—¶æ‹¥æœ‰å¾ˆé«˜çš„è‡ªç”±åº¦ï¼šæ”¯æŒé™æ€è·¯ç”±ã€å‚æ•°è·¯ç”±çš„æ³¨å†Œï¼›æ”¯æŒæŒ‰ä¼˜å…ˆçº§åŒ¹é…ï¼Œå¦‚ä¸Šè¿°ä¾‹å­ä¼šä¼˜å…ˆåŒ¹é…é™æ€è·¯ç”± /a/b ï¼›æ”¯æŒè·¯ç”±å›æº¯ï¼Œå¦‚æ³¨å†Œ /a/bã€/:c/dï¼Œå½“åŒ¹é… /a/d æ—¶ä»ç„¶èƒ½å¤ŸåŒ¹é…ä¸Šï¼›æ”¯æŒå°¾æ–œçº¿é‡å®šå‘ï¼Œå¦‚æ³¨å†Œ /a/bï¼Œå½“åŒ¹é… /a/b/ æ—¶èƒ½å¤Ÿé‡å®šå‘åˆ° /a/b ä¸Šã€‚Hertz æä¾›äº†ä¸°å¯Œçš„è·¯ç”±èƒ½åŠ›æ¥æ»¡è¶³ç”¨æˆ·çš„éœ€æ±‚ï¼Œæ›´å¤šçš„åŠŸèƒ½å¯ä»¥å‚è€ƒ Hertz é…ç½®æ–‡æ¡£ã€‚</p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-90335d18eed633d449b38ee6302762e3_r.jpg" data-size="normal" width="2060" referrerpolicy="no-referrer"><figcaption>image-20230127220436931</figcaption></figure><p class="ztext-empty-paragraph"><br></p><h3>åè®®å±‚</h3><p data-pid="Kn7EDlNc">åè®®å±‚è´Ÿè´£ä¸åŒåè®®çš„å®ç°å’Œæ‰©å±•ã€‚</p><p data-pid="oUk47DTJ">Hertz æ”¯æŒåè®®çš„æ‰©å±•ï¼Œç”¨æˆ·åªéœ€è¦å®ç°ä¸‹é¢çš„æ¥å£ä¾¿å¯ä»¥æŒ‰ç…§è‡ªå·±çš„éœ€æ±‚åœ¨å¼•æ“ï¼ˆEngineï¼‰ ä¸Šæ‰©å±•åè®®ï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒé€šè¿‡ ALPN åè®®åå•†çš„æ–¹å¼æ³¨å†Œã€‚Hertz é¦–æ‰¹åªå¼€æºäº† <code>HTTP1</code> å®ç°ï¼Œæœªæ¥ä¼šé™†ç»­å¼€æº <code>HTTP2</code>ã€QUIC ç­‰å®ç°ã€‚åè®®å±‚æ‰©å±•æä¾›çš„çµæ´»æ€§ç”šè‡³å¯ä»¥è¶…è¶Š HTTP åè®®çš„èŒƒç•´ï¼Œç”¨æˆ·å®Œå…¨å¯ä»¥æŒ‰éœ€æ³¨å†Œä»»æ„ç¬¦åˆè‡ªèº«éœ€æ±‚çš„åè®®å±‚å®ç°ï¼Œå¹¶ä¸”åŠ å…¥åˆ° Hertz çš„å¼•æ“ä¸­æ¥ï¼ŒåŒæ—¶ï¼Œä¹Ÿèƒ½å¤Ÿæ— ç¼äº«å—åˆ°ä¼ è¾“å±‚å¸¦æ¥çš„æè‡´æ€§èƒ½ã€‚</p><div class="highlight"><pre><code class="language-go"><span class="kd">type</span> <span class="nx">ServerFactory</span> <span class="kd">interface</span> <span class="p">{</span>
   <span class="nf">New</span><span class="p">(</span><span class="nx">core</span> <span class="nx">Core</span><span class="p">)</span> <span class="p">(</span><span class="nx">server</span> <span class="nx">protocol</span><span class="p">.</span><span class="nx">Server</span><span class="p">,</span> <span class="nx">err</span> <span class="kt">error</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">type</span> <span class="nx">Server</span> <span class="kd">interface</span> <span class="p">{</span>
   <span class="nf">Serve</span><span class="p">(</span><span class="nx">c</span> <span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span> <span class="nx">conn</span> <span class="nx">network</span><span class="p">.</span><span class="nx">Conn</span><span class="p">)</span> <span class="kt">error</span>
<span class="p">}</span>
</code></pre></div><h3>ä¼ è¾“å±‚</h3><p data-pid="iKfTTkE-">ä¼ è¾“å±‚è´Ÿè´£åº•å±‚çš„ç½‘ç»œåº“çš„æŠ½è±¡å’Œå®ç°ã€‚</p><p data-pid="CbsO6X_4">Hertz æ”¯æŒåº•å±‚ç½‘ç»œåº“çš„æ‰©å±•ã€‚Hertz åŸç”Ÿå®Œç¾é€‚é… Netpollï¼Œåœ¨æ—¶å»¶æ–¹é¢æœ‰å¾ˆå¤šæ·±åº¦çš„ä¼˜åŒ–ï¼Œéå¸¸é€‚åˆæ—¶å»¶æ•æ„Ÿçš„ä¸šåŠ¡æ¥å…¥ã€‚Netpoll å¯¹ TLS èƒ½åŠ›çš„æ”¯æŒæœ‰å¾…å®Œå–„ï¼Œè€Œ TLS èƒ½åŠ›åˆæ˜¯ HTTP æ¡†æ¶å¿…å¤‡èƒ½åŠ›ï¼Œä¸ºæ­¤ Hertz åº•å±‚åŒæ—¶æ”¯æŒåŸºäº Golang æ ‡å‡†ç½‘ç»œåº“çš„å®ç°é€‚é…ï¼Œæ”¯æŒç½‘ç»œåº“çš„ä¸€é”®åˆ‡æ¢ï¼Œç”¨æˆ·å¯æ ¹æ®è‡ªå·±çš„éœ€æ±‚é€‰æ‹©åˆé€‚çš„ç½‘ç»œåº“è¿›è¡Œæ›¿æ¢ã€‚å¦‚æœç”¨æˆ·æœ‰æ›´åŠ é«˜æ•ˆçš„ç½‘ç»œåº“æˆ–å…¶ä»–ç½‘ç»œåº“éœ€æ±‚ï¼Œä¹Ÿå®Œå…¨å¯ä»¥æ ¹æ®éœ€æ±‚è‡ªè¡Œæ‰©å±•ã€‚</p><h3>Hz è„šæ‰‹æ¶</h3><p data-pid="eJOaitOa">ä¸ Hertz ä¸€å¹¶å¼€æºçš„è¿˜æœ‰ä¸€ä¸ªæ˜“ç”¨çš„å‘½ä»¤è¡Œå·¥å…· Hzï¼Œç”¨æˆ·åªéœ€æä¾›ä¸€ä¸ª IDLï¼Œæ ¹æ®å®šä¹‰å¥½çš„æ¥å£ä¿¡æ¯ï¼ŒHz ä¾¿å¯ä»¥ä¸€é”®ç”Ÿæˆé¡¹ç›®è„šæ‰‹æ¶ï¼Œè®© Hertz è¾¾åˆ°å¼€ç®±å³ç”¨çš„çŠ¶æ€ï¼›Hz ä¹Ÿæ”¯æŒåŸºäº IDL çš„æ›´æ–°èƒ½åŠ›ï¼Œèƒ½å¤ŸåŸºäº IDL å˜åŠ¨æ™ºèƒ½åœ°æ›´æ–°é¡¹ç›®ä»£ç ã€‚ç›®å‰ Hz æ”¯æŒäº† Thrift å’Œ Protobuf ä¸¤ç§ IDL å®šä¹‰ã€‚å‘½ä»¤è¡Œå·¥å…·å†…ç½®ä¸°å¯Œçš„é€‰é¡¹ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚ä½¿ç”¨ã€‚åŒæ—¶å®ƒåº•å±‚ä¾èµ– Protobuf å®˜æ–¹çš„ç¼–è¯‘å™¨å’Œè‡ªç ”çš„ Thriftgo çš„ç¼–è¯‘å™¨ï¼Œä¸¤è€…éƒ½æ”¯æŒè‡ªå®šä¹‰çš„ç”Ÿæˆä»£ç æ’ä»¶ã€‚å¦‚æœé»˜è®¤æ¨¡æ¿ä¸èƒ½å¤Ÿæ»¡è¶³éœ€æ±‚ï¼Œå®Œå…¨èƒ½å¤ŸæŒ‰éœ€å®šä¹‰ã€‚</p><p data-pid="kX5i9Wwm">æœªæ¥ï¼Œæˆ‘ä»¬å°†ç»§ç»­è¿­ä»£ Hzï¼ŒæŒç»­é›†æˆå„ç§å¸¸ç”¨çš„ä¸­é—´ä»¶ï¼Œæä¾›æ›´é«˜å±‚é¢çš„æ¨¡å—åŒ–æ„å»ºèƒ½åŠ›ã€‚ç»™ Hertz çš„ç”¨æˆ·æä¾›æŒ‰éœ€è°ƒæ•´çš„èƒ½åŠ›ï¼Œé€šè¿‡çµæ´»çš„è‡ªå®šä¹‰é…ç½®æ‰“é€ ä¸€å¥—æ»¡è¶³è‡ªèº«å¼€å‘éœ€æ±‚çš„è„šæ‰‹æ¶ã€‚</p><h3>Common ç»„ä»¶</h3><p data-pid="1rdE_Ixz">Common ç»„ä»¶ä¸»è¦å­˜æ”¾ä¸€äº›å…¬å…±çš„èƒ½åŠ›ï¼Œæ¯”å¦‚é”™è¯¯å¤„ç†ã€å•å…ƒæµ‹è¯•èƒ½åŠ›ã€å¯è§‚æµ‹æ€§ç›¸å…³èƒ½åŠ›ï¼ˆLogã€Traceã€Metrics ç­‰ï¼‰ã€‚å¯¹äºæœåŠ¡å¯è§‚æµ‹æ€§çš„èƒ½åŠ›ï¼ŒHertz æä¾›äº†é»˜è®¤çš„å®ç°ï¼Œç”¨æˆ·å¯ä»¥æŒ‰éœ€è£…é…ï¼›å¦‚æœç”¨æˆ·æœ‰ç‰¹æ®Šçš„éœ€æ±‚ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ Hertz æä¾›çš„æ¥å£æ³¨å…¥ã€‚æ¯”å¦‚å¯¹äº Trace èƒ½åŠ›ï¼ŒHertz æä¾›äº†é»˜è®¤çš„å®ç°ï¼Œä¹Ÿæä¾›äº†å°† Hertz å’Œ Kitex ä¸²èµ·æ¥çš„ Exampleã€‚å¦‚æœæƒ³æ³¨å…¥è‡ªå·±çš„å®ç°ï¼Œä¹Ÿå¯ä»¥å®ç°ä¸‹é¢çš„æ¥å£ï¼š</p><p data-pid="bDmfzPPE">å¤åˆ¶</p><div class="highlight"><pre><code class="language-go"><span class="c1">// Tracer is executed at the start and finish of an HTTP.
</span><span class="c1"></span><span class="kd">type</span> <span class="nx">Tracer</span> <span class="kd">interface</span> <span class="p">{</span>
        <span class="nf">Start</span><span class="p">(</span><span class="nx">ctx</span> <span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span> <span class="nx">c</span> <span class="o">*</span><span class="nx">app</span><span class="p">.</span><span class="nx">RequestContext</span><span class="p">)</span> <span class="nx">context</span><span class="p">.</span><span class="nx">Context</span>
        <span class="nf">Finish</span><span class="p">(</span><span class="nx">ctx</span> <span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span> <span class="nx">c</span> <span class="o">*</span><span class="nx">app</span><span class="p">.</span><span class="nx">RequestContext</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div><h3>Hertz ä¸­é—´ä»¶</h3><p data-pid="q8kO6Te4">Hertz é™¤äº†æä¾› Server çš„ä¸­é—´ä»¶èƒ½åŠ›ï¼Œè¿˜æä¾›äº† Client ä¸­é—´ä»¶èƒ½åŠ›ã€‚ç”¨æˆ·å¯ä»¥ä½¿ç”¨ä¸­é—´ä»¶èƒ½åŠ›å°†é€šç”¨é€»è¾‘ï¼ˆå¦‚ï¼šæ—¥å¿—è®°å½•ã€æ€§èƒ½ç»Ÿè®¡ã€å¼‚å¸¸å¤„ç†ã€é‰´æƒé€»è¾‘ç­‰ç­‰ï¼‰å’Œä¸šåŠ¡é€»è¾‘åŒºåˆ†å¼€ï¼Œè®©ç”¨æˆ·æ›´åŠ ä¸“æ³¨äºä¸šåŠ¡ä»£ç ã€‚Server å’Œ Client ä¸­é—´ä»¶ä½¿ç”¨æ–¹å¼ç›¸åŒï¼Œä½¿ç”¨ Use æ–¹æ³•æ³¨å†Œä¸­é—´ä»¶ï¼Œä¸­é—´ä»¶æ‰§è¡Œé¡ºåºå’Œæ³¨å†Œé¡ºåºç›¸åŒï¼ŒåŒæ—¶æ”¯æŒé¢„å¤„ç†å’Œåå¤„ç†é€»è¾‘ã€‚</p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-ea10510d4921361a43da0f7834293235_r.jpg" data-size="normal" width="2060" referrerpolicy="no-referrer"><figcaption>image-20230127221552419</figcaption></figure><p class="ztext-empty-paragraph"><br></p><p data-pid="4oDN8Aw0">Server å’Œ Client çš„ä¸­é—´ä»¶å®ç°æ–¹å¼å¹¶ä¸ç›¸åŒã€‚å¯¹äº Server æ¥è¯´ï¼Œæˆ‘ä»¬å¸Œæœ›å‡å°‘æ ˆçš„æ·±åº¦ï¼ŒåŒæ—¶ä¹Ÿå¸Œæœ›ä¸­é—´ä»¶èƒ½å¤Ÿé»˜è®¤çš„æ‰§è¡Œä¸‹ä¸€ä¸ªï¼Œç”¨æˆ·éœ€è¦æ‰‹åŠ¨ç»ˆæ­¢ä¸­é—´ä»¶çš„æ‰§è¡Œã€‚å› æ­¤ï¼Œæˆ‘ä»¬å°† Server çš„ä¸­é—´ä»¶åˆ†æˆäº†ä¸¤ç§ç±»å‹ï¼Œå³ä¸åœ¨åŒä¸€ä¸ªå‡½æ•°è°ƒç”¨æ ˆï¼ˆè¯¥ä¸­é—´ä»¶è°ƒç”¨å®Œåè¿”å›ï¼Œç”±ä¸Šä¸€ä¸ªä¸­é—´ä»¶è°ƒç”¨ä¸‹ä¸€ä¸ªä¸­é—´ä»¶ï¼Œå¦‚å›¾ 2 ä¸­ B å’Œ Cï¼‰å’Œåœ¨åŒä¸€ä¸ªå‡½æ•°è°ƒç”¨æ ˆçš„ä¸­é—´ä»¶ï¼ˆè¯¥ä¸­é—´ä»¶è°ƒç”¨å®Œåç”±è¯¥ä¸­é—´ä»¶ç»§ç»­è°ƒç”¨ä¸‹ä¸€ä¸ªä¸­é—´ä»¶ï¼Œå¦‚å›¾ 2 ä¸­ C å’Œ Business Handlerï¼‰ã€‚</p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-c81f81a83d8be3c7f82e9e41bc021fa9_r.jpg" data-size="normal" width="1294" referrerpolicy="no-referrer"><figcaption>image-20230127220729078</figcaption></figure><p class="ztext-empty-paragraph"><br></p><p data-pid="ewG-Al8w">å…¶æ ¸å¿ƒæ˜¯éœ€è¦ä¸€ä¸ªåœ°æ–¹å­˜ä¸‹å½“å‰çš„è°ƒç”¨ä½ç½® indexï¼Œå¹¶å§‹ç»ˆä¿æŒå…¶é€’å¢ã€‚æ°å¥½ RequestContext å°±æ˜¯ä¸€ä¸ªå­˜å‚¨ index åˆé€‚çš„ä½ç½®ã€‚ä½†æ˜¯å¯¹äº Clientï¼Œç”±äºæ²¡æœ‰åˆé€‚çš„åœ°æ–¹å­˜å‚¨ indexï¼Œæˆ‘ä»¬åªèƒ½é€€è€Œæ±‚å…¶æ¬¡ï¼ŒæŠ›å¼ƒ index çš„å®ç°ï¼Œå°†æ‰€æœ‰çš„ä¸­é—´ä»¶æ„é€ åœ¨åŒä¸€è°ƒç”¨é“¾ä¸Šï¼Œéœ€è¦ç”¨æˆ·æ‰‹åŠ¨è°ƒç”¨ä¸‹ä¸€ä¸ªä¸­é—´ä»¶ã€‚</p><h3>Hertzä»£ç ç”Ÿæˆå·¥å…·</h3><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-98212703ef15b36c13a21be1796401d2_r.jpg" data-size="normal" width="2060" referrerpolicy="no-referrer"><figcaption>image-20230127221632637</figcaption></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-e2000f85aa3e52cf8b42d78620bcb67a_r.jpg" data-size="normal" width="2060" referrerpolicy="no-referrer"><figcaption>image-20230127221625700</figcaption></figure><p class="ztext-empty-paragraph"><br></p><h3>Hertz æ€§èƒ½</h3><p data-pid="7QRUfHde">hertz çš„æ€§èƒ½éå¸¸ä¸é”™</p><p data-pid="Gg-HALT5">Hertz ä½¿ç”¨å­—èŠ‚è·³åŠ¨è‡ªç ”é«˜æ€§èƒ½ç½‘ç»œåº“ Netpollï¼Œåœ¨æé«˜ç½‘ç»œåº“æ•ˆç‡æ–¹é¢æœ‰è¯¸å¤šå®è·µï¼Œå‚è€ƒå·²å‘å¸ƒæ–‡ç« å­—èŠ‚è·³åŠ¨åœ¨ Go ç½‘ç»œåº“ä¸Šçš„å®è·µã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒNetpoll è¿˜é’ˆå¯¹ HTTP åœºæ™¯è¿›è¡Œä¼˜åŒ–ï¼Œé€šè¿‡å‡å°‘æ‹·è´å’Œç³»ç»Ÿè°ƒç”¨æ¬¡æ•°æé«˜ååä»¥åŠé™ä½æ—¶å»¶ã€‚ä¸ºäº†è¡¡é‡ Hertz æ€§èƒ½æŒ‡æ ‡ï¼Œæˆ‘ä»¬é€‰å–äº†ç¤¾åŒºä¸­æœ‰ä»£è¡¨æ€§çš„æ¡†æ¶ Ginï¼ˆnet/httpï¼‰å’Œ Fasthttp ä½œä¸ºå¯¹æ¯”ï¼Œå¯ä»¥çœ‹åˆ°ï¼ŒHertz çš„æé™ååã€TP99 ç­‰æŒ‡æ ‡å‡å¤„äºä¸šç•Œé¢†å…ˆæ°´å¹³ã€‚æœªæ¥ï¼ŒHertz è¿˜å°†ç»§ç»­å’Œ Netpoll æ·±åº¦é…åˆï¼Œæ¢ç´¢ HTTP æ¡†æ¶æ€§èƒ½çš„æé™ã€‚</p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-bf704171dbe91d672e71bda232079b49_r.jpg" data-size="normal" width="1294" referrerpolicy="no-referrer"><figcaption>image-20230127222150908</figcaption></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-c032eab7124bcf40a042b0011deaacc9_r.jpg" data-size="normal" width="2060" referrerpolicy="no-referrer"><figcaption>image-20230127222008547</figcaption></figure><p class="ztext-empty-paragraph"><br></p><h3>ç¬”è®°é¡¹ç›®</h3><ul><li data-pid="0iFtXvR8"><a href="https://github.com/cloudwego/kitex-examples/tree/main/bizdemo/easy_note" target="_blank"><span class="invisible">https://</span><span class="visible">github.com/cloudwego/ki</span><span class="invisible">tex-examples/tree/main/bizdemo/easy_note</span><span class="ellipsis"></span></a></li></ul><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-bedb36b15676b1286f1c2d34c48c5abf_r.jpg" data-size="normal" width="1777" referrerpolicy="no-referrer"><figcaption>image-20230127222247737</figcaption></figure><p class="ztext-empty-paragraph"><br></p><table data-draft-node="block" data-draft-type="table" data-size="normal" data-row-style="normal"><tbody><tr><th>Service Name</th><th>Usage</th><th>Framework</th><th>protocol</th><th>Path</th><th>IDL</th></tr><tr><td>demoapi</td><td>http interface</td><td>kitex/hertz</td><td>http</td><td>bizdemo/easy_note/cmd/api</td><td></td></tr><tr><td>demouser</td><td>user data management</td><td>kitex/gorm</td><td>protobuf</td><td>bizdemo/easy_note/cmd/user</td><td>bizdemo/easy_note/idl/user.proto</td></tr><tr><td>demonote</td><td>note data management</td><td>kitex/gorm</td><td>thrift</td><td>bizdemo/easy_note/cmd/note</td><td>bizdemo/easy_note/idl/note.thrift</td></tr></tbody></table><p data-pid="S7ZVOjPd"><b>é¡¹ç›®æ¨¡æ¿ï¼š</b></p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-62e587ad1de0b248679a901a14554780_r.jpg" data-size="normal" width="959" referrerpolicy="no-referrer"><figcaption>image-20230127222531947</figcaption></figure><p class="ztext-empty-paragraph"><br></p><p data-pid="3Z1gjKRN"><b>é¡¹ç›®è°ƒç”¨å…³ç³»ï¼š</b></p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-39b35c05cc28467a39d09e7785ffaeac_r.jpg" data-size="normal" width="2060" referrerpolicy="no-referrer"><figcaption>image-20230127222554091</figcaption></figure><p class="ztext-empty-paragraph"><br></p><p data-pid="R5-j2dur">API å¹¶ä¸æ˜¯å’Œæ•°æ®åº“æ‰“äº¤é“çš„ï¼Œè¿™æ ·å¥½å¤„æ˜¯å¯ä»¥å¤ç”¨æ¥å£ï¼Œå¯æ‰©å±•æ€§å¼ºã€‚</p><p data-pid="6XHcuOLR"><b>æŠ€æœ¯æ ˆï¼š</b></p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-1253c0e485e8accb4c6adfbadd715f7f_r.jpg" data-size="normal" width="2060" referrerpolicy="no-referrer"><figcaption>image-20230127222808115</figcaption></figure><p class="ztext-empty-paragraph"><br></p><h3>END é“¾æ¥</h3><ul><li data-pid="n38052z-"><a href="https://github.com/3293172751/Block_Chain/blob/master/Git/git-contributor.md" target="_blank">å‚ä¸è´¡çŒ®â¤ï¸  </a></li></ul></div> </details> 
 <hr /> 

 #### - [GitHub CLI å‘½ä»¤è¡Œå·¥å…·ï¼ˆgh)](https://zhuanlan.zhihu.com/p/601200139) 
 <details><summary>ØªÙˆØ¶ÛŒØ­Ø§Øª</summary> <p><img src="https://pica.zhimg.com/v2-6639f5532051dc06975b996482e391b2_720w.jpg?source=d16d100b"></p><div><h2><b>å¼€å§‹</b></h2><ul><li data-pid="-SqZKDFL"><a href="https://github.com/cli/cli#installation" target="_blank">GitHub CLI ä»“åº“åœ°å€</a></li></ul><p data-pid="eD3UTo5K">[[Github CLI]] æ˜¯ä¸€ä¸ªéå¸¸å¥½ç”¨çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œå¯ä»¥è®©å¼€å‘è€…é€šè¿‡å‘½ä»¤è¡Œäº GitHub è¿›è¡Œæ— ç¼çš„ååŒå·¥ä½œï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ç›´æ¥åœ¨å‘½ä»¤è¡Œç»ˆç«¯ä¸Šå°±å¯ä»¥è¿›è¡Œ pull requestsã€issues ç­‰å…¶ä»–åŠŸèƒ½ã€‚</p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-d30d3b4ca1f64c0b1ae4dbefd9e9fb92_r.jpg" data-caption="" data-size="normal" width="2038" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p data-pid="j7S70gNp"><b>åŸºäºæˆ‘ç›®å‰å¤„äº 2.0 ç‰ˆæœ¬ï¼Œä¸»è¦ä»‹ç» 2.0 çš„ä½¿ç”¨ï¼š</b></p><div class="highlight"><pre><code class="language-bash"> C:<span class="se">\U</span>sers<span class="se">\s</span>mile&gt;gh version
 gh version 2.20.0 <span class="o">(</span>2022-11-08<span class="o">)</span>
 https://github.com/cli/cli/releases/tag/v2.20.0</code></pre></div><p data-pid="Tzia0xwT">GitHub CLI 2.0 æ”¯æŒæ‰©å±•ï¼Œå…è®¸ä»»ä½•äººåˆ›å»ºåŸºäº GitHub CLI æ ¸å¿ƒåŠŸèƒ½çš„è‡ªå®šä¹‰å‘½ä»¤ã€‚</p><p data-pid="lpAmR1e-">æˆ‘ä»¬ä½¿ç”¨<a href="https://github.blog/2020-09-17-github-cli-1-0-is-now-available/" target="_blank">GitHub CLI 1.0</a>çš„ç›®æ ‡æ˜¯æ„å»ºä»¤äººæƒŠå¹çš„å·¥å…·ï¼Œä½¿æ‚¨èƒ½å¤Ÿæ›´æ— ç¼åœ°ç«¯åˆ°ç«¯åœ°åœ¨ç»ˆç«¯ä¸­å®Œæˆæœ€å¸¸è§çš„å¼€å‘äººå‘˜å·¥ä½œæµç¨‹ã€‚æˆ‘ä»¬ç»§ç»­åœ¨æ­¤åŸºç¡€ä¸Šæ„å»ºï¼Œä¸ºè„šæœ¬ç¼–å†™å’Œä½¿ç”¨<a href="https://github.blog/2021-04-15-work-with-github-actions-in-your-terminal-with-github-cli/" target="_blank">GitHub Actions</a>æä¾›æ›´å¥½<a href="https://github.blog/2021-03-11-scripting-with-github-cli/" target="_blank">çš„æ”¯æŒ</a>ã€‚ä½†æˆ‘ä»¬çŸ¥é“ï¼Œä¸€ç§æ”¾ä¹‹å››æµ·è€Œçš†å‡†çš„å·¥å…·æ°¸è¿œæ— æ³•æ»¡è¶³æ¯ä¸ªå¼€å‘äººå‘˜çš„éœ€æ±‚ã€‚</p><p class="ztext-empty-paragraph"><br></p><p data-pid="Vl5Y3Cbi"><b> ä¸ä»…å¦‚æ­¤ï¼Œæˆ‘ä»¬åœ¨ github ä¸­ä¹Ÿå¯ä»¥å‘ç°ï¼ŒGitHub CLI æ˜¯ç”¨ Goè¯­è¨€å†™çš„ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œç›®å‰çš„è´¡çŒ®è€…å·²ç»å¿«è¾¾åˆ° 400 äººï¼Œç”šè‡³å¯¹äºæˆ‘ä»¬æ¥è¯´ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å­¦ä¹ æœºä¼šï¼Œæˆ‘ä»¬å¯ä»¥å¯¹æ­¤è¿›è¡Œ PR ã€‚</b></p><h2><b>å¼€å§‹</b></h2><h3><b>å®‰è£…</b></h3><p data-pid="orWMMhvp">GitHubä»“åº“ä¸­æœ‰è¯¦ç»†çš„  <a href="https://github.com/cli/cli#installation" target="_blank">ï¸å®‰è£…ä¿¡æ¯</a></p><blockquote data-pid="ZW3OgG5O">ç”±äºæœ¬èº«å·²ç»ä½¿ç”¨ windown å®‰è£…è¿‡ï¼Œæ¥ä¸‹æ¥ä½¿ç”¨ Linux è®°å½•æµ‹è¯•å¹¶ä¸”è®°å½•å®‰è£…è¿‡ç¨‹ ï¸ </blockquote><p data-pid="hqePI-vy">æˆ‘é€‰æ‹©ä½¿ç”¨ äºŒè¿›åˆ¶è¿›è¡Œå®‰è£…ï¼Œè¿™æ ·çš„åœ¨Linuxç¯å¢ƒä¸­æ˜¯é€šç”¨çš„ï¼Œç‰ˆæœ¬æ˜¯ï¼š<a href="https://github.com/cli/cli/releases/download/v2.22.0/gh_2.22.0_linux_386.tar.gz" target="_blank"><span class="invisible">https://</span><span class="visible">github.com/cli/cli/rele</span><span class="invisible">ases/download/v2.22.0/gh_2.22.0_linux_386.tar.gz</span><span class="ellipsis"></span></a></p><p data-pid="JCo7X3n4">å®‰è£…å®Œæˆåç›´æ¥åœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œ <code>gh</code> å‘½ä»¤ï¼Œçœ‹åˆ°å¦‚ä¸‹æ‰€ç¤ºçš„ä¿¡æ¯å°±è¯æ˜å·²ç»å®‰è£…å®Œæˆï¼š</p><p class="ztext-empty-paragraph"><br></p><h3><b>ç™»é™†éªŒè¯</b></h3><p data-pid="WJGzfkxp"><b>ä½¿ç”¨å‘½ä»¤ç™»é™†ï¼š</b></p><div class="highlight"><pre><code class="language-bash"> C:<span class="se">\U</span>sers<span class="se">\s</span>mile&gt;gh auth login
 ? What account <span class="k">do</span> you want to log into? GitHub.com
 ? What is your preferred protocol <span class="k">for</span> Git operations? HTTPS
 ? Authenticate Git with your GitHub credentials? Yes
 ? How would you like to authenticate GitHub CLI? Login with a web browser
 â€‹
 ! First copy your one-time code: CC38-2C29
 Press Enter to open github.com in your browser...
 âœ“ Authentication complete.
 - gh config <span class="nb">set</span> -h github.com git_protocol https
 âœ“ Configured git protocol
 âœ“ Logged in as cubxxw</code></pre></div><p class="ztext-empty-paragraph"><br></p><p data-pid="hed826Zy"><b>ç½‘é¡µç«¯éªŒè¯å³å¯ï¼š</b></p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-4b8dea98532c7912aa3aaf83090c7d6b_r.jpg" data-caption="" data-size="normal" width="2880" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>ä»¤ç‰Œç™»é™†éªŒè¯</b></h3><p data-pid="ObhfzMVJ">é€‰æ‹© token æ–¹å¼ç™»é™†éªŒè¯ï¼ŒGitHubåˆ›å»ºtokenï¼Œç²˜è´´å³å¯ï¼š</p><div class="highlight"><pre><code class="language-bash"> root@cubmaster01:~/workspces/sealer# gh auth login 
 ? What account <span class="k">do</span> you want to log into? GitHub.com
 ? What is your preferred protocol <span class="k">for</span> Git operations? HTTPS
 ? Authenticate Git with your GitHub credentials? Yes
 ? How would you like to authenticate GitHub CLI? Paste an authentication token
 Tip: you can generate a Personal Access Token here https://github.com/settings/tokens
 The minimum required scopes are <span class="s1">'repo'</span>, <span class="s1">'read:org'</span>, <span class="s1">'workflow'</span>.
 ? Paste your authentication token: ****************************************
 - gh config <span class="nb">set</span> -h github.com git_protocol https
 âœ“ Configured git protocol
 âœ“ Logged in as cubxxw</code></pre></div><p class="ztext-empty-paragraph"><br></p><h2><b>ä½¿ç”¨ gh repo</b></h2><p data-pid="dlEHWXRU">å¼€å§‹åœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨ GitHubã€‚ ä¾‹å¦‚ï¼Œä½¿ç”¨ <code>gh issue status</code> æˆ– <code>gh issue list --assignee @me</code> æŸ¥æ‰¾è¦å¤„ç†çš„é—®é¢˜ã€‚ ä½¿ç”¨ <code>gh pr create</code> åˆ›å»ºæ‹‰å–è¯·æ±‚ã€‚ ä½¿ç”¨ <code>gh pr checkout</code>ã€<code>gh pr diff</code> å’Œ <code>gh pr review</code> æŸ¥çœ‹æ‹‰å–è¯·æ±‚ã€‚</p><p data-pid="dE46VDLO"><code>gh repo</code> å‘½ä»¤æ˜¯ GitHub CLI çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒå¯ä»¥å¸®åŠ©ä½ åœ¨å‘½ä»¤è¡Œä¸­ç®¡ç† GitHub ä»“åº“ã€‚</p><p data-pid="9MWnDzgy">å…·ä½“è€Œè¨€ï¼Œ<code>gh repo</code> å‘½ä»¤åŒ…æ‹¬ä»¥ä¸‹å­å‘½ä»¤ï¼š</p><ul><li data-pid="1ymaAX4Q"><code>gh repo clone</code>: å…‹éš†ä¸€ä¸ªå­˜å‚¨åº“åˆ°æœ¬åœ°</li><li data-pid="1xCrWKEs"><code>gh repo create</code>: åˆ›å»ºä¸€ä¸ªæ–°çš„å­˜å‚¨åº“</li><li data-pid="0Uj-ZWv1"><code>gh repo fork</code>: å°†ä¸€ä¸ªå­˜å‚¨åº“å¤åˆ¶åˆ°è‡ªå·±çš„è´¦æˆ·ä¸‹</li><li data-pid="t06777dq"><code>gh repo list</code>: åˆ—å‡ºè‡ªå·±çš„æ‰€æœ‰å­˜å‚¨åº“</li><li data-pid="AWTePUxs"><code>gh repo set-default</code>: è®¾ç½®é»˜è®¤çš„å­˜å‚¨åº“</li><li data-pid="kwqSa_X1"><code>gh repo view</code>: æŸ¥çœ‹å­˜å‚¨åº“çš„è¯¦ç»†ä¿¡æ¯</li></ul><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>è®¾ç½®é»˜è®¤çš„è¿œç¨‹ä»“åº“</b></h3><p data-pid="bG55bO44"><code>gh repo set-default</code> å‘½ä»¤æ˜¯ GitHub CLI çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒå¯ä»¥å¸®åŠ©ä½ è®¾ç½®é»˜è®¤çš„è¿œç¨‹å­˜å‚¨åº“ã€‚è¿™æ ·ï¼Œåœ¨ä½¿ç”¨ GitHub CLI çš„å…¶ä»–å‘½ä»¤æ—¶ï¼Œå°±å¯ä»¥çœç•¥å­˜å‚¨åº“çš„åç§°ã€‚</p><p data-pid="0v2DqLdK"><b>å‘½ä»¤æ ¼å¼ï¼š</b></p><div class="highlight"><pre><code class="language-text"> gh repo set-default [OWNER]/[REPO]</code></pre></div><p data-pid="QV0pok7T">å…¶ä¸­ï¼ŒOWNER æ˜¯å­˜å‚¨åº“æ‰€æœ‰è€…çš„ç”¨æˆ·åï¼ŒREPO æ˜¯å­˜å‚¨åº“åç§°ã€‚</p><p class="ztext-empty-paragraph"><br></p><p data-pid="YQQxN00y"> ç®€å•çš„ä¸€ä¸ªæ¡ˆä¾‹å¦‚ä¸‹ï¼š</p><div class="highlight"><pre><code class="language-bash"> <span class="o">[</span>root@dev sealos<span class="o">]</span><span class="c1"># gh repo set-default</span>
 This <span class="nb">command</span> sets the default remote repository to use when querying the
 GitHub API <span class="k">for</span> the locally cloned repository.
 â€‹
 gh uses the default repository <span class="k">for</span> things like:
 â€‹
  - viewing and creating pull requests
  - viewing and creating issues
  - viewing and creating releases
  - working with Actions
  - adding repository and environment secrets
 â€‹
 ? Which repository should be the default? cubxxw/sealos
 âœ“ Set cubxxw/sealos as the default repository <span class="k">for</span> the current directory</code></pre></div><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>å…‹éš†ä»“åº“</b></h3><div class="highlight"><pre><code class="language-bash"> smile@DESKTOP-N9GOOM4 MINGW64 /d/æ–‡æ¡£/git
 $ gh repo clone cubxxw/cubxxw
 Cloning into <span class="s1">'cubxxw'</span>...
 remote: Enumerating objects: 1755, <span class="k">done</span>.
 remote: Counting objects: 100% <span class="o">(</span>1755/1755<span class="o">)</span>, <span class="k">done</span>.
 remote: Compressing objects: 100% <span class="o">(</span>565/565<span class="o">)</span>, <span class="k">done</span>.</code></pre></div><blockquote data-pid="2u9RJNPO">å¦‚æœæ˜¯è‡ªå·±çš„ä»“åº“å¯ä»¥çœç•¥ ç”¨æˆ·å cubxxw</blockquote><p class="ztext-empty-paragraph"><br></p><p data-pid="WB5IYeG-">æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>gh</code> å‘½ä»¤æ¥è¿‡æ»¤ issueï¼Œæ¯”å¦‚è¿‡æ»¤å¸¦æœ‰ <code>gitment</code> æ ‡ç­¾çš„é—®é¢˜ï¼š</p><p class="ztext-empty-paragraph"><br></p><h3><b>æ˜¾ç¤ºä»“åº“ README æ–‡ä»¶</b></h3><p data-pid="z83xtp2m"><code>gh repo view</code> å‘½ä»¤</p><div class="highlight"><pre><code class="language-bash"> gh repo view <span class="o">[</span>OWNER<span class="o">]</span>/<span class="o">[</span>REPO<span class="o">]</span></code></pre></div><p data-pid="8wpPloOJ">'gh repo view' å‘½ä»¤å¯ä»¥å¸®åŠ©ä½ æŸ¥çœ‹å­˜å‚¨åº“çš„è¯¦ç»†ä¿¡æ¯ã€‚ ä½ å¯ä»¥ä½¿ç”¨è¿™ä¸ªå‘½ä»¤æ¥æŸ¥çœ‹è¯¸å¦‚å­˜å‚¨åº“åç§°ã€æè¿°ã€è¯­è¨€ã€æ´»è·ƒåº¦ã€è´¡çŒ®è€…ç­‰ä¿¡æ¯ã€‚</p><blockquote data-pid="Es3zrCI_">å¦‚æœä¸åŠ  <code>[OWNER]/[REPO]</code> ï¼Œé‚£ä¹ˆé»˜è®¤é€‰ä¸­çš„æ˜¯å½“å‰æ‰€åœ¨ç›®å½•çš„ README æ–‡ä»¶ã€‚</blockquote><p data-pid="7XQTH3t9"><b> ç®€å•çš„ä¸€ä¸ªæ¡ˆä¾‹å¦‚ä¸‹ï¼š</b></p><div class="highlight"><pre><code class="language-text"> gh repo view cubxxw/cubxxw</code></pre></div><p class="ztext-empty-paragraph"><br></p><h2><b>gh issue</b></h2><p data-pid="U_tVoyGS"><code>gh issue</code> å‘½ä»¤æ˜¯ GitHub CLI çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒå¯ä»¥å¸®åŠ©ä½ åœ¨å‘½ä»¤è¡Œä¸­ç®¡ç† GitHub ä¸Šçš„ issuesã€‚</p><p data-pid="u2mO0eX0"><b>è¯­æ³•</b>ï¼š</p><div class="highlight"><pre><code class="language-text"> gh issue &lt;subcommand&gt; [options] [args]</code></pre></div><p data-pid="8jnrFbMq">å…¶ä¸­ï¼Œsubcommand æ˜¯æ‰§è¡Œæ“ä½œçš„å­å‘½ä»¤ï¼Œoptions æ˜¯å¯é€‰å‚æ•°ï¼Œargs æ˜¯éœ€è¦ä¼ å…¥çš„å‚æ•°ã€‚</p><p data-pid="kxpURvHr">æ‰€æœ‰å¯ç”¨çš„å­å‘½ä»¤å¦‚ä¸‹ï¼š</p><ul><li data-pid="tTWb1QMx"><code>gh issue create</code>: åˆ›å»ºä¸€ä¸ª issue</li><li data-pid="QAIVtArR"><code>gh issue list</code>: åˆ—å‡ºå½“å‰ä»“åº“ä¸­çš„ issues</li><li data-pid="FaMsAnUF"><code>gh issue view</code>: æŸ¥çœ‹ä¸€ä¸ª issue çš„è¯¦æƒ…</li><li data-pid="skVCw3qs"><code>gh issue update</code>: æ›´æ–°ä¸€ä¸ª issue</li><li data-pid="zbcH0-tQ"><code>gh issue close</code>: å…³é—­ä¸€ä¸ª issue</li><li data-pid="_MsmPdiI"><code>gh issue reopen</code>: é‡æ–°æ‰“å¼€ä¸€ä¸ª issue</li></ul><p class="ztext-empty-paragraph"><br></p><h3><b>åˆ›å»ºä¸€ä¸ª issue</b></h3><p data-pid="GgdfqZh5">ä¾‹å¦‚ï¼Œå¦‚æœä½ æƒ³åˆ›å»ºä¸€ä¸ªæ–°çš„ issueï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p><div class="highlight"><pre><code class="language-bash"> gh issue create -t <span class="s2">"New Feature"</span> -b <span class="s2">"This is a new feature"</span></code></pre></div><p data-pid="laeAnwPG">è¿™å°†ä¼šåœ¨å½“å‰ä»“åº“ä¸­åˆ›å»ºä¸€ä¸ªæ ‡é¢˜ä¸º "New Feature"ï¼Œæè¿°ä¸º "This is a new feature" çš„ issueã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>åˆ—å‡ºæ‰€æœ‰ issue</b></h3><p data-pid="HssYK89X">å†æ¯”å¦‚ï¼šåˆ—å‡ºå½“å‰ä»“åº“ä¸‹çš„æ‰€æœ‰ issueï¼š</p><div class="highlight"><pre><code class="language-bash"> <span class="o">[</span>root@dev sealer<span class="o">]</span><span class="c1"># gh issue list</span>
 â€‹
 Showing <span class="m">30</span> of <span class="m">173</span> open issues in sealerio/sealer
 â€‹
 <span class="c1">#1989  COPY ${ARCH} is not support in Kubefile                          kind/bug            about 8 days ago</span>
 <span class="c1">#1986  APP instruction with remote file address will generate tmp f...  kind/bug            about 9 days ago</span>
 <span class="c1">#1978  [Feature] k3s runtime design                         </span>
 .......</code></pre></div><p class="ztext-empty-paragraph"><br></p><h3><b>æŸ¥çœ‹æŸä¸ª issue</b></h3><p data-pid="v5gAB0DX"><b>æˆ‘ä»¬å¯ä»¥æŸ¥çœ‹ 1989 è¿™ä¸ª issueï¼š</b></p><div class="highlight"><pre><code class="language-text"> gh issue view 1989</code></pre></div><p class="ztext-empty-paragraph"><br></p><h2><b>gh pr</b></h2><p data-pid="lol-bMlZ">åˆ›å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œåœ¨æäº¤å‡ æ¬¡ä»£ç åä¿®å¤äº† issue ä¸­æè¿°çš„ BUG åï¼Œç„¶åå¯ä»¥ä½¿ç”¨ <code>gh</code> å‘½ä»¤æ¥åˆ›å»ºä¸€ä¸ª pull request æ¥æäº¤æˆ‘ä»¬è´¡çŒ®çš„ä»£ç ï¼š</p><div class="highlight"><pre><code class="language-text"> gh pr &lt;subcommand&gt; [options] [args]</code></pre></div><p data-pid="WTsTYio3">å…¶ä¸­ï¼Œsubcommand æ˜¯æ‰§è¡Œæ“ä½œçš„å­å‘½ä»¤ï¼Œoptions æ˜¯å¯é€‰å‚æ•°ï¼Œargs æ˜¯éœ€è¦ä¼ å…¥çš„å‚æ•°ã€‚</p><p data-pid="DSMKAAoO">æ‰€æœ‰å¯ç”¨çš„å­å‘½ä»¤å¦‚ä¸‹ï¼š</p><ul><li data-pid="IXm5BMai"><code>gh pr create</code>: åˆ›å»ºä¸€ä¸ª pull request</li><li data-pid="Ef_vJ2X-"><code>gh pr list</code>: åˆ—å‡ºå½“å‰ä»“åº“ä¸­çš„ pull requests</li><li data-pid="GIYcFRTs"><code>gh pr view</code>: æŸ¥çœ‹ä¸€ä¸ª pull request çš„è¯¦æƒ…</li><li data-pid="rsNwmGH-"><code>gh pr update</code>: æ›´æ–°ä¸€ä¸ª pull request</li><li data-pid="C2sk1LfM"><code>gh pr merge</code>: åˆå¹¶ä¸€ä¸ª pull request</li><li data-pid="hhsy96zb"><code>gh pr close</code>: å…³é—­ä¸€ä¸ª pull request</li><li data-pid="z659G6RT"><code>gh pr reopen</code>: é‡æ–°æ‰“å¼€ä¸€ä¸ª pull request</li></ul><p class="ztext-empty-paragraph"><br></p><h3><b>åˆ›å»ºä¸€ä¸ª pr</b></h3><p data-pid="k2YMVG5S"><b>ä¾‹å¦‚ï¼Œæœ€å¸¸è§çš„ï¼Œæˆ‘ä»¬å»åˆ›å»ºä¸€ä¸ª pr :</b></p><div class="highlight"><pre><code class="language-bash"> gh pr create -b <span class="s2">"feature-branch"</span> -h <span class="s2">"master"</span> -t <span class="s2">"New Feature"</span> -b <span class="s2">"This is a new feature"</span>
 <span class="c1">#################################################### </span>
 gh pr create -b &lt;åˆ†æ”¯å&gt; -h &lt;ç›®æ ‡åˆ†æ”¯å&gt; -t &lt;æ ‡é¢˜&gt; -b &lt;æè¿°&gt; -r &lt;è¿œç¨‹ä»“åº“å&gt;</code></pre></div><p data-pid="jaoJym4t">è¿™å°†ä¼šåœ¨å½“å‰ä»“åº“ä¸­åˆ›å»ºä¸€ä¸ªæºåˆ†æ”¯ä¸º "feature-branch"ï¼Œç›®æ ‡åˆ†æ”¯ä¸º "master"ï¼Œæ ‡é¢˜ä¸º "New Feature"ï¼Œæè¿°ä¸º "This is a new feature" çš„ pull requestã€‚</p><p data-pid="ExsjEG7q">å…¶ä¸­ï¼š</p><ul><li data-pid="jt7gykyG"><code>-b &lt;åˆ†æ”¯å&gt;</code>: ä½ æœ¬åœ°ä»“åº“çš„æºåˆ†æ”¯åç§°ï¼Œæ¯”å¦‚ feature-branchã€‚</li><li data-pid="Mm3zF0EV"><code>-h &lt;ç›®æ ‡åˆ†æ”¯å&gt;</code>: ç›®æ ‡ä»“åº“çš„ç›®æ ‡åˆ†æ”¯åç§°ï¼Œæ¯”å¦‚ masterã€‚</li><li data-pid="EbD6ipea"><code>-t &lt;æ ‡é¢˜&gt;</code>: pull request çš„æ ‡é¢˜ï¼Œä¾‹å¦‚ "New Feature"ã€‚</li><li data-pid="h6f1URh7"><code>-b &lt;æè¿°&gt;</code>: pull request çš„æè¿°ï¼Œä¾‹å¦‚ "This is a new feature".</li><li data-pid="ygX7n_cs"><code>-r &lt;è¿œç¨‹ä»“åº“å&gt;</code>: è¿œç¨‹ä»“åº“çš„åç§°ï¼Œä¾‹å¦‚ origin</li></ul><p class="ztext-empty-paragraph"><br></p><h3><b>æŸ¥çœ‹çŠ¶æ€</b></h3><div class="highlight"><pre><code class="language-bash"> <span class="o">[</span>root@dev sealer<span class="o">]</span><span class="c1"># gh pr status</span>
 â€‹
 Relevant pull requests in sealerio/sealer
 â€‹
 Current branch
   There is no pull request associated with <span class="o">[</span>cubxxw:main<span class="o">]</span>
 â€‹
 Created by you
   You have no open pull requests
 â€‹
 Requesting a code review from you
   You have no pull requests to review</code></pre></div><p class="ztext-empty-paragraph"><br></p><h3><b>è§£å†³å†²çª gh pr checkout</b></h3><p data-pid="0IeyKL9j"><code>gh pr checkout</code> å‘½ä»¤ç”¨äºæ£€å‡ºå¯¹åº”çš„ pull request åˆ†æ”¯ã€‚è¯¥å‘½ä»¤ä¼šè‡ªåŠ¨æ‹‰å–è¿œç¨‹ä»“åº“ä¸­çš„æœ€æ–°ä»£ç å¹¶åˆ›å»ºä¸€ä¸ªæ–°çš„æœ¬åœ°åˆ†æ”¯ã€‚</p><div class="highlight"><pre><code class="language-bash"> gh pr checkout &lt;pull-request-number&gt;</code></pre></div><p data-pid="nte8VeGZ">å‚æ•°è¯´æ˜:</p><ul><li data-pid="1k9Y-WXz"><code>pull-request-number</code>ï¼šæŒ‡å®šè¦æ£€å‡ºçš„ pull request çš„ç¼–å·ã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><p data-pid="biGSxBNp"><b>å³ä½¿æ˜¯ä½¿ç”¨  git ï¼Œæœ€è®©æˆ‘å¤´ç–¼çš„ä¹Ÿæ˜¯è§£å†³å†²çªï¼š</b></p><p data-pid="LkET-9L2">è§£å†³å†²çªå¯ä»¥ä½¿ç”¨ <code>gh pr checkout</code> å‘½ä»¤æ¥æ£€å‡ºå¯¹åº”çš„ pull request åˆ†æ”¯ï¼Œç„¶ååœ¨æœ¬åœ°è¿›è¡Œåˆå¹¶å’Œè§£å†³å†²çªï¼Œæœ€åä½¿ç”¨ <code>git push</code> å°†è§£å†³å®Œå†²çªçš„ä»£ç æ¨é€åˆ° GitHubã€‚</p><p data-pid="6pQ3ctf-">å…·ä½“æ¥è¯´ï¼Œå¯ä»¥è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥è§£å†³å†²çªï¼š</p><ol><li data-pid="pdEKXDoZ"><code>gh pr checkout &lt;pull-request-number&gt;</code>ï¼Œæ£€å‡ºå¯¹åº”çš„ pull request åˆ†æ”¯ã€‚</li><li data-pid="Z7DUF2q_"><code>git pull &lt;remote-name&gt; &lt;base-branch&gt;</code>ï¼Œå°†è¿œç¨‹ä»“åº“ä¸­çš„æœ€æ–°ä»£ç æ‹‰å–åˆ°æœ¬åœ°ã€‚</li><li data-pid="bwcriagi"><code>git merge &lt;remote-name&gt;/&lt;base-branch&gt;</code> æˆ–è€… <code>git rebase &lt;remote-name&gt;/&lt;base-branch&gt;</code> åˆå¹¶æˆ–è€…é‡æ„ä½ æœ¬åœ°çš„ä»£ç ï¼Œè§£å†³å†²çª</li><li data-pid="UOpxtQ_F"><code>git push &lt;remote-name&gt; &lt;branch-name&gt;</code>ï¼Œå°†è§£å†³å®Œå†²çªçš„ä»£ç æ¨é€åˆ° GitHubã€‚</li><li data-pid="OgD49oRl"><code>gh pr merge</code> åˆå¹¶ä»£ç åˆ°ç›®æ ‡åˆ†æ”¯</li></ol><p data-pid="NC5YLnp2">æ³¨æ„ï¼šå¦‚æœä½ ä½¿ç”¨äº† <code>git pull</code> å‘½ä»¤ï¼Œè¯·åŠ¡å¿…ä½¿ç”¨ <code>git push --force</code> å°†è§£å†³å®Œå†²çªçš„ä»£ç æ¨é€åˆ° GitHubï¼Œå› ä¸ºè¿™æ ·æ‰èƒ½è¦†ç›–è¿œç¨‹ä»“åº“ä¸­çš„å†²çªä»£ç ã€‚</p><p data-pid="j9tB6N9B">å¦‚æœä½ ä¸ç¡®å®šremote-name å’Œbase-branch å¯ä»¥ä½¿ç”¨ <code>git remote -v</code> æŸ¥çœ‹è¿œç¨‹ä»“åº“åœ°å€å’Œåˆ†æ”¯ä¿¡æ¯ã€‚</p><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h2><b>ä½¿ç”¨ gh workflow</b></h2><p data-pid="mSt9D-s3">GitHub workflow æ˜¯ GitHub çš„ä¸€ä¸ªåŠŸèƒ½ï¼Œå…è®¸ä½ è‡ªåŠ¨åŒ–é¡¹ç›®ä¸­çš„å·¥ä½œæµç¨‹ã€‚ ä½¿ç”¨ GitHub workflowï¼Œä½ å¯ä»¥è®¾ç½®è§¦å‘å™¨æ¥æ‰§è¡Œç‰¹å®šçš„æ“ä½œï¼Œå¦‚åœ¨æäº¤ä»£ç æ—¶è¿è¡Œæµ‹è¯•ã€åœ¨å‘å¸ƒæ–°ç‰ˆæœ¬æ—¶éƒ¨ç½²åº”ç”¨ç¨‹åºç­‰ã€‚</p><p data-pid="RhM8c2P7">åœ¨ä½ çš„é¡¹ç›®ä¸­ï¼Œä½ å¯ä»¥åœ¨ <code>.github/workflows</code> ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„ workflow æ–‡ä»¶ã€‚è¿™äº›æ–‡ä»¶æ˜¯ä½¿ç”¨ YAML æ ¼å¼ç¼–å†™çš„ï¼Œå®šä¹‰äº†è§¦å‘å™¨å’Œè¦æ‰§è¡Œçš„æ“ä½œã€‚</p><p data-pid="OKCIDKTf"><code>gh workflow</code> å‘½ä»¤æ˜¯ GitHub CLI çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒå¯ä»¥å¸®åŠ©ä½ åœ¨å‘½ä»¤è¡Œä¸­ç®¡ç† GitHub Actions å·¥ä½œæµã€‚</p><p data-pid="-VnwYV19">å…·ä½“è€Œè¨€ï¼Œ<code>gh workflow</code> å‘½ä»¤åŒ…æ‹¬ä»¥ä¸‹å­å‘½ä»¤ï¼š</p><ul><li data-pid="DAFd3c2P"><code>gh workflow run</code>: è¿è¡Œä¸€ä¸ªå·¥ä½œæµ</li><li data-pid="o0DZc8Ks"><code>gh workflow list</code>: åˆ—å‡ºå­˜å‚¨åº“ä¸­çš„æ‰€æœ‰å·¥ä½œæµ</li><li data-pid="W6VvzBkU"><code>gh workflow view</code>: æŸ¥çœ‹å·¥ä½œæµçš„è¯¦ç»†ä¿¡æ¯</li></ul><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>è¿è¡Œå·¥ä½œæµ</b></h3><p data-pid="eD9lxpdX"><code>gh workflow run</code> å‘½ä»¤å¯ä»¥åœ¨å‘½ä»¤è¡Œä¸­è§¦å‘ GitHub Actions å·¥ä½œæµçš„è¿è¡Œã€‚</p><div class="highlight"><pre><code class="language-text"> gh workflow run &lt;workflow-name&gt; [flags]</code></pre></div><p class="ztext-empty-paragraph"><br></p><h3><b>åˆ—å‡ºæ‰€æœ‰çš„å·¥ä½œæµ</b></h3><div class="highlight"><pre><code class="language-text"> [root@dev sealos]# gh workflow list -a
 CI                       active  38929179
 Build Controllers image  active  38929180
 Release                  active  38314128
 Semgrep                  active  38929181
 Build Services image     active  39123670
 Sync Docs                active  38929182
 Build Webhooks image     active  39123671</code></pre></div><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>æ˜¾ç¤ºå·¥ä½œæµ</b></h3><p data-pid="GWrlhKu5"><code>gh workflow view</code> å‘½ä»¤å¯ä»¥å¸®åŠ©ä½ æŸ¥çœ‹é¡¹ç›®ä¸­çš„ç‰¹å®š workflow çš„è¯¦ç»†ä¿¡æ¯ã€‚ ä½ å¯ä»¥ä½¿ç”¨è¿™ä¸ªå‘½ä»¤æ¥æŸ¥çœ‹ workflow çš„åç§°ã€çŠ¶æ€ã€è§¦å‘å™¨ã€æ­¥éª¤ã€æ—¥å¿—ç­‰ä¿¡æ¯ã€‚</p><div class="highlight"><pre><code class="language-bash"> gh workflow view <span class="o">[</span>OWNER<span class="o">]</span>/<span class="o">[</span>REPO<span class="o">]</span> <span class="o">[</span>WORKFLOW_ID<span class="o">]</span></code></pre></div><p data-pid="m1dBZQOO">å…¶ä¸­ï¼ŒOWNER æ˜¯å­˜å‚¨åº“æ‰€æœ‰è€…çš„ç”¨æˆ·åï¼ŒREPO æ˜¯å­˜å‚¨åº“åç§°ï¼ŒWORKFLOW_ID æ˜¯ workflow çš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚</p><p class="ztext-empty-paragraph"><br></p><h2><b>gh config å‘½ä»¤</b></h2><p data-pid="FuFxoUcZ"><code>gh config</code> å‘½ä»¤æ˜¯ GitHub CLI çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒå¯ä»¥å¸®åŠ©ä½ ç®¡ç† GitHub CLI çš„é…ç½®ã€‚</p><p data-pid="lxC58mFD">å…·ä½“è€Œè¨€ï¼Œ<code>gh config</code> å‘½ä»¤åŒ…æ‹¬ä»¥ä¸‹å­å‘½ä»¤ï¼š</p><ul><li data-pid="OpGSPaZx"><code>gh config set</code>: è®¾ç½®é…ç½®é¡¹çš„å€¼</li><li data-pid="CyyFCYau"><code>gh config get</code>: è·å–é…ç½®é¡¹çš„å€¼</li><li data-pid="uZvTqASo"><code>gh config unset</code>: åˆ é™¤é…ç½®é¡¹</li><li data-pid="Usv6B-2v"><code>gh config list</code>: åˆ—å‡ºæ‰€æœ‰é…ç½®é¡¹</li></ul><p data-pid="Z0hGr69N">ä¾‹å¦‚ï¼Œå¦‚æœä½ æƒ³è®¾ç½® GitHub CLI çš„é»˜è®¤ API URL ä¸º "<a href="https://my-github-enterprise.com/api/v3" target="_blank"><span class="invisible">https://</span><span class="visible">my-github-enterprise.com</span><span class="invisible">/api/v3</span><span class="ellipsis"></span></a>"ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p><div class="highlight"><pre><code class="language-bash"> gh config <span class="nb">set</span> api.url https://my-github-enterprise.com/api/v3</code></pre></div><p data-pid="ZU9GUn14">è¿™å°†ä¼šæ›´æ–°é…ç½®æ–‡ä»¶ä¸­çš„ api.url é¡¹</p><p class="ztext-empty-paragraph"><br></p><h3><b>gh config set å‘½ä»¤</b></h3><p data-pid="7NhT2YIA"><code>gh config set</code> å‘½ä»¤æ˜¯ GitHub CLI çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒå¯ä»¥å¸®åŠ©ä½ è®¾ç½® GitHub CLI çš„é…ç½®é¡¹ã€‚</p><div class="highlight"><pre><code class="language-bash"> gh config <span class="nb">set</span> &lt;key&gt; &lt;value&gt;</code></pre></div><p data-pid="E964Wb6Q">å…¶ä¸­ï¼Œkey æ˜¯é…ç½®é¡¹çš„åç§°ï¼Œvalue æ˜¯è¦è®¾ç½®çš„å€¼ã€‚</p><p data-pid="olp5PV1b">å‘Šè¯‰ GitHub CLI å“ªä¸ªæ–‡æœ¬ç¼–è¾‘å™¨ç”¨äºæ‰“å¼€æ–‡æœ¬ç¼–è¾‘å™¨çš„å‘½ä»¤ã€‚ ä¾‹å¦‚ï¼Œè¾“å…¥ <code>gh config set editor "code -w"</code> å°†é¦–é€‰æ–‡æœ¬ç¼–è¾‘å™¨è®¾ç½®ä¸º Visual Studio Codeã€‚ æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… <code><a href="https://cli.github.com/manual/gh_config_set" target="_blank">gh config set</a></code>ã€‚</p><p class="ztext-empty-paragraph"><br></p><h2><b>gh æ‰©å±• gh extension</b></h2><blockquote data-pid="9ntB2C30">  GitHub CLI 2.0 æ”¯æŒæ‰©å±•ï¼Œå…è®¸ä»»ä½•äººåˆ›å»ºåŸºäº GitHub CLI æ ¸å¿ƒåŠŸèƒ½çš„è‡ªå®šä¹‰å‘½ä»¤ã€‚</blockquote><p data-pid="V0tEFruE"><code>gh extension</code> å‘½ä»¤æ˜¯ GitHub CLI çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒå¯ä»¥å¸®åŠ©ä½ ç®¡ç†å’Œä½¿ç”¨ GitHub CLI çš„æ‰©å±•ã€‚</p><div class="highlight"><pre><code class="language-bash"> gh extension &lt;subcommand&gt; <span class="o">[</span>options<span class="o">]</span> <span class="o">[</span>args<span class="o">]</span></code></pre></div><p data-pid="TIQnZail">å…¶ä¸­ï¼Œsubcommand æ˜¯æ‰§è¡Œæ“ä½œçš„å­å‘½ä»¤ï¼Œoptions æ˜¯å¯é€‰å‚æ•°ï¼Œargs æ˜¯éœ€è¦ä¼ å…¥çš„å‚æ•°ã€‚</p><p data-pid="TFTzuvuG">æ‰€æœ‰å¯ç”¨çš„å­å‘½ä»¤å¦‚ä¸‹ï¼š</p><ul><li data-pid="D4Qlmtv0"><code>gh extension install</code>: å®‰è£…ä¸€ä¸ªæ‰©å±•</li><li data-pid="ZPWjSpzP"><code>gh extension list</code>: åˆ—å‡ºå·²å®‰è£…çš„æ‰©å±•</li><li data-pid="22oq3ULX"><code>gh extension update</code>: æ›´æ–°ä¸€ä¸ªæ‰©å±•</li><li data-pid="E3CFdIyE"><code>gh extension uninstall</code>: å¸è½½ä¸€ä¸ªæ‰©å±•</li></ul><p data-pid="6Kka3HPX">è‹¥è¦ä»å½“å‰ç›®å½•å®‰è£…å¼€å‘ä¸­çš„æ‰©å±•ï¼Œä½¿ç”¨ <code>.</code> ä½œä¸º <code>repo</code> å‚æ•°çš„å€¼ã€‚</p><div class="highlight"><pre><code class="language-text"> gh extension install repo</code></pre></div><p data-pid="a2ZVp6r-">å¦‚æœå·²å®‰è£…åŒåçš„æ‰©å±•ï¼Œåˆ™è¯¥å‘½ä»¤å°†å¤±è´¥ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœå·²å®‰è£… <code>octocat/gh-whoami</code>ï¼Œåˆ™å¿…é¡»åœ¨å®‰è£… <code>hubot/gh-whoami</code> ä¹‹å‰å¸è½½å®ƒã€‚</p><p data-pid="R3PGZEZq"><b>æ›´å¤šå…³äº gh extension æ ‡ç­¾éƒ½å¯ä»¥å‰å¾€ github æœç´¢ <a href="https://github.com/topics/gh-extension" target="_blank">gh-extension</a></b></p><p class="ztext-empty-paragraph"><br></p><h3><b><code><a href="https://github.com/vilmibm/gh-user-status" target="_blank">gh user-status</a></code></b></h3><p data-pid="9fnWhmsu">æ­¤æ‰©å±•å…è®¸æ‚¨ä»ç»ˆç«¯å¿«é€Ÿè®¾ç½® GitHub ç”¨æˆ·çŠ¶æ€ï¼Œè®©å…¶ä»–äººçŸ¥é“æ‚¨ä½•æ—¶ä¸å¯ç”¨æˆ–å¤„äºç„¦ç‚¹æ¨¡å¼ã€‚</p><p data-pid="AXtzexf_"><b>å®‰è£…ï¼š</b></p><div class="highlight"><pre><code class="language-text"> gh extension install vilmibm/gh-user-status</code></pre></div><p class="ztext-empty-paragraph"><br></p><h3><b><code><a href="https://github.com/mislav/gh-branch" target="_blank">gh branch</a></code></b></h3><p data-pid="q-bvVML-">æ­¤æ‰©å±•æ˜¯ä¸€ä¸ªæ¨¡ç³ŠæŸ¥æ‰¾å™¨åˆ†æ”¯åˆ‡æ¢å™¨ï¼Œå®ƒæŒ‰æ–°è¿‘åº¦å¯¹åˆ†æ”¯è¿›è¡Œæ’åºå¹¶æ˜¾ç¤ºæœ‰å…³ä»»ä½•ç›¸å…³æ‹‰å–è¯·æ±‚çš„ä¿¡æ¯ã€‚</p><p data-pid="SmbD6uTB"><b>å®‰è£…ï¼š</b></p><div class="highlight"><pre><code class="language-text"> gh extension install mislav/gh-branch</code></pre></div><p class="ztext-empty-paragraph"><br></p><h3><b><code><a href="https://github.com/vilmibm/gh-contribute" target="_blank">gh contribute</a></code></b></h3><p data-pid="BbXYuW_B">ä½¿ç”¨ contribute æ‰©å±•å¿«é€Ÿæ‰¾åˆ°è¦åœ¨å¼€æºé¡¹ç›®ä¸­å¤„ç†çš„é—®é¢˜ã€‚è¿™ä¼šæ‰¾åˆ°åœ¨è¿‡å»ä¸€å¹´ä¸­åˆ›å»ºçš„é—®é¢˜<code>help wanted</code>æˆ–<code>good first issue</code>æ ‡ç­¾ï¼Œå¹¶ä¸”è¿˜æ²¡æœ‰å…³è”çš„æ‹‰å–è¯·æ±‚ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b><code><a href="https://github.com/samcoe/gh-triage" target="_blank">gh triage</a></code></b></h3><p data-pid="RdrNnyX-">æˆ‘ä»¬çš„åˆ†ç±»æ‰©å±•é‡‡ç”¨æˆ‘ä»¬çš„æµç¨‹æ¥åˆ†ç±»æˆ‘ä»¬å¼€æºå­˜å‚¨åº“ä¸­çš„é—®é¢˜ï¼Œå¹¶ä½¿å…¶æ›´å¹¿æ³›åœ°å¯ç”¨ã€‚ä¸å…¶ç›´æ¥ä½¿ç”¨å®ƒï¼Œæ‚¨å¯èƒ½ä¼šä»ä¸­è·å¾—çµæ„Ÿæ¥æ„å»ºæ‚¨è‡ªå·±çš„æ›´å…·ä½“åˆ°æ‚¨çš„é¡¹ç›®æµç¨‹çš„åˆ†ç±»æ‰©å±•ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>æ›´æ–°æ‰©å±•</b></h3><p data-pid="UmnWosD8">è‹¥è¦æ›´æ–°æ‰©å±•ï¼Œè¯·ä½¿ç”¨ <code>extensions upgrade</code> å­å‘½ä»¤ã€‚ å°† <code>extension</code> å‚æ•°æ›¿æ¢ä¸ºæ‰©å±•çš„åç§°ã€‚</p><div class="highlight"><pre><code class="language-text"> gh extension upgrade extension</code></pre></div><p data-pid="UlIM3eJp">è‹¥è¦æ›´æ–°æ‰€æœ‰å·²å®‰è£…çš„æ‰©å±•ï¼Œè¯·ä½¿ç”¨ <code>--all</code> æ ‡å¿—ã€‚</p><div class="highlight"><pre><code class="language-text"> gh extension upgrade --all</code></pre></div><p class="ztext-empty-paragraph"><br></p><h3><b>å¸è½½æ‰©å±•</b></h3><p data-pid="CuahpphV">è‹¥è¦å¸è½½æ‰©å±•ï¼Œè¯·ä½¿ç”¨ <code>extensions remove</code> å­å‘½ä»¤ã€‚ å°† <code>extension</code> å‚æ•°æ›¿æ¢ä¸ºæ‰©å±•çš„åç§°ã€‚</p><div class="highlight"><pre><code class="language-text"> gh extension remove extension</code></pre></div><p class="ztext-empty-paragraph"><br></p><h3><b>alias è®¾ç½®åˆ«å</b></h3><p data-pid="oHhLnlDo">ä¸ºé€šå¸¸è¿è¡Œçš„å‘½ä»¤å®šä¹‰åˆ«åã€‚ ä¾‹å¦‚ï¼Œå¦‚æœè¿è¡Œ <code>gh alias set prd "pr create --draft"</code>ï¼Œåˆ™ä½ å¯ä»¥è¿è¡Œ <code>gh prd</code> ä»¥å¿«é€Ÿæ‰“å¼€è‰ç¨¿æ‹‰å–è¯·æ±‚ã€‚ </p><p></p></div> </details> 
 <hr /> 

 #### - [é¡¹ç›®ç®¡ç†ä»ç†è®ºåˆ°å®è·µï¼ˆå«GitHub Projectsï¼‰](https://zhuanlan.zhihu.com/p/598930020) 
 <details><summary>ØªÙˆØ¶ÛŒØ­Ø§Øª</summary> <p><img src="https://picx.zhimg.com/v2-50f4db50cfde4410ecd2cfb1ea36cbed_720w.jpg?source=d16d100b"></p><div><h2><b>é¡¹ç›®ç®¡ç†ä»ç†è®ºåˆ°å®è·µ</b></h2><p data-pid="_eQ-g0vW"><b>ç†è®ºä»‹ç»</b></p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-9e96b6439d52b9594e76ef518e19e2c9_r.jpg" data-caption="" data-size="normal" width="1191" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p data-pid="WaJIcQuk"><b>ç€‘å¸ƒæ¨¡å‹ï¼š</b></p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-d0ba861494814f300610308dc02f73f6_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><p data-pid="XP3zktsc"><b>æ•æ·æ¨¡å‹ï¼š</b></p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-d411ae01abca75593965175fdca926ba_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><p data-pid="mVgA3sde"><b>Scrumæ¡†æ¶ï¼š</b></p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-c30d75e856918b4e0c04ea91defb1f29_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>ä¼ ç»Ÿå’Œæ•æ·å·®å¼‚</b></h3><p data-pid="8D4l_AwG"><b>ä¼ ç»Ÿé¡¹ç›®ç®¡ç†æ–¹æ³•é€šå¸¸æŒ‰ç…§çº¿æ€§æµç¨‹è¿›è¡Œï¼Œé€šè¿‡é¢„å…ˆåˆ¶å®šçš„è®¡åˆ’ã€ç›‘ç£å’Œæ§åˆ¶æ¥å®ç°é¡¹ç›®ç›®æ ‡ã€‚æ•æ·é¡¹ç›®ç®¡ç†æ–¹æ³•åˆ™æ›´åŠ çµæ´»ï¼Œé€šè¿‡è¿­ä»£å’ŒæŒç»­çš„æ”¹è¿›æ¥å®ç°é¡¹ç›®ç›®æ ‡ã€‚æ•æ·æ–¹æ³•å¼ºè°ƒå›¢é˜Ÿåˆä½œã€é€‚åº”å˜åŒ–ã€å¿«é€Ÿäº¤ä»˜ä»·å€¼ã€‚</b></p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-23c171ef612a5b7769a69c3aeb36b5c7_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>é¡¹ç›®ç®¡ç†åå¤§çŸ¥è¯†é¢†åŸŸ</b></h3><p data-pid="J3Q3Ab9m">é¡¹ç›®ç®¡ç†çš„åå¤§çŸ¥è¯†é¢†åŸŸåŒ…æ‹¬ï¼š</p><ol><li data-pid="oubR4wD0">é¡¹ç›®èŒƒå›´ç®¡ç†ï¼šç¡®å®šé¡¹ç›®çš„ç›®æ ‡å’Œè¾¹ç•Œï¼Œå¹¶ç¡®ä¿é¡¹ç›®åœ¨è¿›è¡Œè¿‡ç¨‹ä¸­ä¸ä¼šè¶…å‡ºè¿™äº›èŒƒå›´ã€‚</li><li data-pid="Fn0O7XVP">é¡¹ç›®æ—¶é—´ç®¡ç†ï¼šç¡®å®šé¡¹ç›®çš„æ—¶é—´è®¡åˆ’ï¼Œå¹¶ç¡®ä¿é¡¹ç›®æŒ‰æ—¶å®Œæˆã€‚</li><li data-pid="hPGEfVEV">é¡¹ç›®æˆæœ¬ç®¡ç†ï¼šç¡®å®šé¡¹ç›®çš„é¢„ç®—ï¼Œå¹¶ç¡®ä¿é¡¹ç›®åœ¨é¢„ç®—èŒƒå›´å†…å®Œæˆã€‚</li><li data-pid="JVcP1Fld">é¡¹ç›®è´¨é‡ç®¡ç†ï¼šç¡®ä¿é¡¹ç›®äº§å“ã€æœåŠ¡æˆ–ç»“æœç¬¦åˆè´¨é‡æ ‡å‡†ã€‚</li><li data-pid="4r3_98Ld">é¡¹ç›®èµ„æºç®¡ç†ï¼šç¡®å®šé¡¹ç›®æ‰€éœ€çš„äººå‘˜ã€è®¾å¤‡å’Œææ–™ï¼Œå¹¶ç¡®ä¿è¿™äº›èµ„æºå¾—åˆ°æœ‰æ•ˆåˆ©ç”¨ã€‚</li><li data-pid="VZMYAHy-">é¡¹ç›®æ²Ÿé€šç®¡ç†ï¼šç¡®å®šé¡¹ç›®çš„ä¿¡æ¯éœ€æ±‚ï¼Œå¹¶ç¡®ä¿é¡¹ç›®ä¿¡æ¯å¾—åˆ°æœ‰æ•ˆä¼ é€’ã€‚</li><li data-pid="btfPu2it">é¡¹ç›®é£é™©ç®¡ç†ï¼šè¯†åˆ«ã€è¯„ä¼°å’Œåº”å¯¹é¡¹ç›®ä¸­çš„é£é™©ã€‚</li><li data-pid="SXkMilep">é¡¹ç›®é‡‡è´­ç®¡ç†ï¼šç¡®å®šé¡¹ç›®æ‰€éœ€çš„å¤–éƒ¨äº§å“ã€æœåŠ¡æˆ–ç»“æœï¼Œå¹¶ç¡®ä¿è¿™äº›å¤–éƒ¨è¦ç´ å¾—åˆ°æœ‰æ•ˆç®¡ç†ã€‚</li><li data-pid="uAEN0u1G">é¡¹ç›®åˆåŒç®¡ç†ï¼šç®¡ç†é¡¹ç›®ä¸­çš„åˆåŒï¼ŒåŒ…æ‹¬ç­¾è®¢åˆåŒã€ç›‘ç£åˆåŒå±¥è¡Œå’Œç»“æŸåˆåŒã€‚ </li><li data-pid="HyeXDDjI">é¡¹ç›®ç»“é¡¹ç®¡ç†: è®°å½•é¡¹ç›®æˆæœï¼Œå¹¶å¯¹é¡¹ç›®è¿›è¡Œè¯„ä¼°ï¼Œä»¥ç¡®å®šæœªæ¥é¡¹ç›®çš„æ”¹è¿›ç‚¹ã€‚</li></ol><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-90019ac0ae39aa879f32b1b0e97c6b40_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-e74bba45fec0070352370a01cca77332_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>é¡¹ç›®ç®¡ç†çš„äº”å¤§è¿‡ç¨‹ç»„</b></h3><p data-pid="6rn1PMXe">é¡¹ç›®ç®¡ç†çš„äº”å¤§è¿‡ç¨‹ç»„æ˜¯ï¼š</p><ol><li data-pid="D6ClWfAX">å¼€å§‹è¿‡ç¨‹ç»„ï¼šåœ¨é¡¹ç›®å¯åŠ¨ä¹‹å‰è¿›è¡Œçš„æ´»åŠ¨ï¼ŒåŒ…æ‹¬é¡¹ç›®çš„èŒƒå›´ã€ç›®æ ‡ã€é¢„ç®—å’Œèµ„æºçš„ç¡®å®šã€‚</li><li data-pid="BBBO2l4n">è§„åˆ’è¿‡ç¨‹ç»„ï¼šä¸ºé¡¹ç›®çš„æˆåŠŸåˆ¶å®šè®¡åˆ’ï¼ŒåŒ…æ‹¬é¡¹ç›®æ—¶é—´ã€æˆæœ¬ã€è´¨é‡ã€èµ„æºã€æ²Ÿé€šã€é£é™©ã€é‡‡è´­å’ŒåˆåŒç®¡ç†è®¡åˆ’ã€‚ </li><li data-pid="qYTfpaNq">æ‰§è¡Œè¿‡ç¨‹ç»„ï¼šå°†è®¡åˆ’è½¬åŒ–ä¸ºå…·ä½“è¡ŒåŠ¨ï¼Œé€šè¿‡é¡¹ç›®å›¢é˜Ÿçš„åä½œæ¥å®Œæˆé¡¹ç›®çš„ä»»åŠ¡ã€‚ </li><li data-pid="1cC4XFCd">ç›‘æ§å’Œæ§åˆ¶è¿‡ç¨‹ç»„ï¼šç›‘ç£é¡¹ç›®çš„è¿›å±•ï¼Œå¹¶å¯¹å˜åŒ–åšå‡ºååº”ï¼Œä»¥ç¡®ä¿é¡¹ç›®æŒ‰ç…§è®¡åˆ’å®Œæˆã€‚</li><li data-pid="QI_bJerJ">å…³é—­è¿‡ç¨‹ç»„ï¼šå®Œæˆé¡¹ç›®å¹¶å½’æ¡£é¡¹ç›®æ–‡ä»¶ã€‚</li></ol><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-c1420e1da48e461451dc58dc2b9cbb34_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p data-pid="Ezdv3iuN"><b>ç›‘æ§è´Ÿè´£äº§å“é¡¹ç›®çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸã€‚</b></p><p class="ztext-empty-paragraph"><br></p><h2><b>å¯åŠ¨ï¼šé¡¹ç›®å¦‚ä½•é«˜æ•ˆå¯åŠ¨</b></h2><h3><b>é¡¹ç›®å¯åŠ¨</b></h3><p data-pid="RRwXTA1F">ä¸Šé¢æˆ‘ä»¬çœ‹åˆ°é¡¹ç›®ç®¡ç†çš„äº”å¤§è¿‡ç¨‹ï¼šå¯åŠ¨ã€è§„åˆ’ã€æ‰§è¡Œã€ç›‘æ§å’Œæ”¶å°¾ï¼Œæ¯«æ— ç–‘é—®çš„æ˜¯ï¼Œå¦‚ä½•é«˜æ•ˆå¯åŠ¨é¡¹ç›®çš„é‡è¦æ€§ä¸å®¹ç½®ç–‘~</p><p data-pid="mL29iMqv"><b>å…ˆçœ‹ä¸€ä¸‹è´¯ç©¿å§‹ç»ˆçš„ä¸€ä¸ªè¡¨ï¼š</b></p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-975892a387cf6a8c1a09437056307d1e_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><p data-pid="WoxNLNzk"><b>æˆ‘ä»¬é’ˆå¯¹å¯åŠ¨è¿‡ç¨‹ä¸­çš„ä¸¤ä¸ªå…³é”®è¿‡ç¨‹ï¼š</b></p><ol><li data-pid="IKrZoUvO">åˆ¶å®šé¡¹ç›®ç« ç¨‹</li><li data-pid="PuzeIQ50">è¯†åˆ«å¹²ç³»äºº</li></ol><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-a2e91d1fcc078a0290c9ba79777150d9_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>åº”ç”¨</b></h3><p data-pid="9fAhQCz1"><b>âš ï¸ é¡¹ç›®å¯åŠ¨é˜¶æ®µåº”è¯¥è¦åšçš„äº‹æƒ…åŒ…æ‹¬ï¼š</b></p><ol><li data-pid="n_ECyANT">ç¡®å®šé¡¹ç›®ç›®æ ‡ï¼šæ˜ç¡®é¡¹ç›®çš„ç›®çš„ã€èŒƒå›´å’Œæˆæœï¼Œç¡®ä¿é¡¹ç›®ä¸ç»„ç»‡çš„æˆ˜ç•¥ç›®æ ‡ä¸€è‡´ã€‚</li><li data-pid="9PLzTz9n">ç»„å»ºé¡¹ç›®å›¢é˜Ÿï¼šç¡®å®šé¡¹ç›®å›¢é˜Ÿçš„æˆå‘˜ï¼Œå¹¶å»ºç«‹åˆé€‚çš„å›¢é˜Ÿæ²Ÿé€šå’Œåä½œç»“æ„ã€‚</li><li data-pid="ki9ymeRH">åˆ¶å®šé¡¹ç›®ç« ç¨‹ï¼šæ˜ç¡®é¡¹ç›®çš„è´£ä»»å’Œæƒé™ï¼Œå¹¶åˆ¶å®šé¡¹ç›®ç« ç¨‹ï¼Œç¡®ä¿é¡¹ç›®è¿ä½œæœ‰åºã€‚</li><li data-pid="SkFKsjOO">ç¡®å®šé¡¹ç›®é¢„ç®—ï¼šæ ¹æ®é¡¹ç›®çš„èŒƒå›´å’Œç›®æ ‡åˆ¶å®šé¡¹ç›®é¢„ç®—ï¼Œå¹¶ç¡®å®šé¡¹ç›®çš„èµ„é‡‘æ¥æºã€‚</li><li data-pid="UZ5_oBzG">ç¡®å®šé¡¹ç›®æ—¶é—´è¡¨ï¼šæ ¹æ®é¡¹ç›®çš„èŒƒå›´å’Œç›®æ ‡åˆ¶å®šé¡¹ç›®æ—¶é—´è¡¨ï¼Œå¹¶ç¡®å®šé¡¹ç›®çš„é‡Œç¨‹ç¢‘ã€‚</li><li data-pid="_2zvSgeG">è¯„ä¼°é£é™©: è¯„ä¼°é¡¹ç›®ä¸­å¯èƒ½å­˜åœ¨çš„é£é™©ï¼Œå¹¶åˆ¶å®šé£é™©åº”å¯¹ç­–ç•¥ã€‚</li><li data-pid="qewki0Wm">è·å–èµ„æº: ç¡®å®šé¡¹ç›®æ‰€éœ€çš„äººå‘˜ã€è®¾å¤‡å’Œææ–™ï¼Œå¹¶è·å–è¿™äº›èµ„æºã€‚</li><li data-pid="hu8MT8q7">å®¡æ‰¹å¯åŠ¨æ–‡ä»¶: å®¡æ‰¹å¹¶ç­¾ç½²é¡¹ç›®å¯åŠ¨æ–‡ä»¶,ç¡®ä¿é¡¹ç›®æœ‰äº†æ­£å¼çš„è®¸å¯å¼€å§‹è¿›è¡Œ.</li><li data-pid="3kw0esac">æ²Ÿé€šè®¡åˆ’ï¼šåˆ¶å®šé¡¹ç›®æ²Ÿé€šè®¡åˆ’ï¼Œç¡®ä¿é¡¹ç›®ä¸­çš„ä¿¡æ¯å¾—åˆ°æœ‰æ•ˆä¼ é€’ã€‚</li><li data-pid="AwBJiXHL">åˆåŒç®¡ç†ï¼šç®¡ç†é¡¹ç›®ä¸­çš„åˆåŒï¼ŒåŒ…æ‹¬ç­¾è®¢åˆåŒã€ç›‘ç£åˆåŒå±¥è¡Œå’Œç»“æŸåˆåŒã€‚</li><li data-pid="aztr5knc">é¡¹ç›®ç®¡ç†è®¡åˆ’ï¼šåˆ¶å®šé¡¹ç›®ç®¡ç†è®¡åˆ’ï¼Œç¡®ä¿é¡¹ç›®ç®¡ç†è¿‡ç¨‹æœ‰åºã€é«˜æ•ˆã€‚</li><li data-pid="xxjZrcQI">å¼€å§‹æ‰§è¡Œé¡¹ç›®ï¼šæ ¹æ®é¡¹ç›®ç®¡ç†è®¡åˆ’å’Œé¡¹ç›®ç« ç¨‹å¼€å§‹é¡¹ç›®æ‰§è¡Œã€‚</li><li data-pid="3CVffLeD">æŒç»­ç›‘æ§é¡¹ç›®çš„è¿›å±•,è¿›è¡Œè°ƒæ•´å’Œæ§åˆ¶ï¼Œç¡®ä¿é¡¹ç›®æŒ‰è®¡åˆ’è¿›è¡Œã€‚</li></ol><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-e1ba074c18ca24e3baa7892c747c5189_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>å®šäº‹</b></h3><p data-pid="sqWm-upW"><b> ç®€å•çš„ä¸€ä¸ªæ¡ˆä¾‹å¦‚ä¸‹ï¼š</b></p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-134c6e2b034fca3334311fbe14ce93f2_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>å®šäºº</b></h3><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-5da3586c0e69e6926713982c9fa9bf1a_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-7543bfa1cdb7fbf6dcef9f46e88bab20_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><p data-pid="mc7L8G88"><b> ç®€å•çš„ä¸€ä¸ªæ¡ˆä¾‹å¦‚ä¸‹ï¼š</b></p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-5b443eec3a5f1fca63a1a8604f9ef283_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>æ¦‚å¿µè®¤è¯ï¼ˆPOCï¼‰</b></h3><ul><li data-pid="MJlqqy11"><a href="https://zh.wikipedia.org/zh-cn/%E6%A6%82%E5%BF%B5%E9%AA%8C%E8%AF%81" target="_blank">ä¸­æ–‡ç»´åŸºç™¾ç§‘~</a></li></ul><p data-pid="APV9vVHP"><b>æ¦‚å¿µéªŒè¯</b>ï¼ˆè‹±è¯­ï¼šProof of conceptï¼Œç®€ç§°POCï¼‰æ˜¯å¯¹æŸäº›æƒ³æ³•çš„ä¸€ä¸ªè¾ƒçŸ­è€Œä¸å®Œæ•´çš„å®ç°ï¼Œä»¥è¯æ˜å…¶<a href="https://zh.wikipedia.org/w/index.php?title=%E5%8F%AF%E8%A1%8C%E6%80%A7&amp;action=edit&amp;redlink=1" target="_blank">å¯è¡Œæ€§</a>ï¼Œç¤ºèŒƒå…¶<a href="https://zh.wikipedia.org/wiki/%E5%8E%9F%E7%90%86" target="_blank">åŸç†</a>ï¼Œå…¶ç›®çš„æ˜¯ä¸ºäº†éªŒè¯ä¸€äº›æ¦‚å¿µæˆ–ç†è®ºã€‚æ¦‚å¿µéªŒè¯é€šå¸¸è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªæœ‰é‡Œç¨‹ç¢‘æ„ä¹‰çš„å®ç°çš„åŸå‹ ã€‚</p><p data-pid="CC6pzRfI">åœ¨é¡¹ç›®ç”Ÿå‘½å‘¨æœŸä¸­ï¼ŒPOC é€šå¸¸å‡ºç°åœ¨é¡¹ç›®çš„è§„åˆ’é˜¶æ®µæˆ–å¼€å§‹é˜¶æ®µã€‚ åœ¨é¡¹ç›®çš„è§„åˆ’é˜¶æ®µä¸­ï¼ŒPOC å¯ç”¨äºè¯„ä¼°æ–°æŠ€æœ¯çš„å¯è¡Œæ€§å’Œæˆæœ¬æ•ˆç›Šï¼Œä»¥ç¡®å®šæ˜¯å¦åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ã€‚ å¦‚æœ POC ç»“æœè¡¨æ˜æ–°æŠ€æœ¯æ˜¯å¯è¡Œçš„å¹¶ç¬¦åˆé¡¹ç›®éœ€æ±‚ï¼Œé‚£ä¹ˆå°±å¯ä»¥åœ¨é¡¹ç›®çš„å¼€å§‹é˜¶æ®µä¸­è¿›è¡Œæ›´å…¨é¢çš„å®æ–½ã€‚</p><p data-pid="cgOqSpbi">POC å¯ä»¥å¸®åŠ©é¡¹ç›®å›¢é˜Ÿç¡®å®šæ–°æŠ€æœ¯æ˜¯å¦ç¬¦åˆå…¬å¸çš„éœ€æ±‚ï¼Œå¹¶èƒ½å¤Ÿåœ¨å®é™…åº”ç”¨ä¸­å–å¾—æˆåŠŸï¼Œåœ¨é¡¹ç›®è§„åˆ’é˜¶æ®µå’Œå¼€å§‹é˜¶æ®µèƒ½å¤Ÿæ›´å¥½åœ°è¯„ä¼°æŠ€æœ¯å¯è¡Œæ€§å’Œæˆæœ¬æ•ˆç›Šã€‚</p><blockquote data-pid="dr8l5Xab"><b>æç®€æŠ–éŸ³ POC æ¦‚å¿µéªŒè¯ï¼š</b></blockquote><ol><li data-pid="EQTVXaUZ">éœ€æ±‚åˆ†æï¼šåˆ†ææç®€ç‰ˆæŠ–éŸ³åº”ç”¨çš„ç”¨æˆ·éœ€æ±‚ï¼Œç¡®å®šåº”ç”¨çš„åŠŸèƒ½å’Œæ€§èƒ½è¦æ±‚ã€‚</li><li data-pid="D1P-lrnE">æŠ€æœ¯é€‰å‹ï¼šé€‰æ‹©é€‚åˆåº”ç”¨å¼€å‘çš„æŠ€æœ¯ï¼Œå¦‚è¯­è¨€ï¼Œæ¡†æ¶ç­‰</li><li data-pid="2QdjtogG">åˆ¶å®šåŸå‹ï¼šæ ¹æ®éœ€æ±‚åˆ†æå’ŒæŠ€æœ¯é€‰å‹åˆ¶å®šåº”ç”¨çš„åŸå‹ï¼Œç¡®å®šåº”ç”¨çš„ç•Œé¢å’Œäº¤äº’æ–¹å¼ã€‚</li><li data-pid="54f2G3iZ">æ„å»º POCï¼šæ ¹æ®åŸå‹è¿›è¡Œ POC çš„å¼€å‘ï¼Œç¡®ä¿åº”ç”¨èƒ½å¤Ÿæ»¡è¶³ç”¨æˆ·éœ€æ±‚å’Œæ€§èƒ½è¦æ±‚ã€‚</li><li data-pid="X2OpVyTN">æµ‹è¯•éªŒè¯ï¼šå¯¹ POC è¿›è¡Œæµ‹è¯•ï¼ŒéªŒè¯åº”ç”¨çš„åŠŸèƒ½å’Œæ€§èƒ½æ˜¯å¦ç¬¦åˆè¦æ±‚ã€‚</li><li data-pid="FxhjWCYk">è¯„ä¼°ç»“æœï¼šè¯„ä¼° POC çš„ç»“æœï¼Œç¡®å®šæ˜¯å¦ç»§ç»­å¼€å‘è¯¥åº”ç”¨ã€‚</li><li data-pid="8GgbHDqW">æ–‡ä»¶è®°å½•ï¼šå°† POC çš„è¿‡ç¨‹å’Œç»“æœè®°å½•ä¸‹æ¥ï¼Œä»¥ä¾¿å°†æ¥å‚è€ƒã€‚</li><li data-pid="daA6EJWX">ä¼˜åŒ–è®¡åˆ’ï¼šå¦‚æœ POC ç»“æœæ˜¯å¯è¡Œçš„ï¼Œåˆ¶å®šå®Œå–„åº”ç”¨çš„è®¡åˆ’ï¼Œç¡®å®šå®é™…å¼€å‘çš„ä»»åŠ¡å’Œè¿›åº¦ã€‚</li><li data-pid="cokV_4bZ">æ‰§è¡Œè®¡åˆ’ï¼šæŒ‰ç…§è®¡åˆ’è¿›è¡Œé¡¹ç›®çš„æ‰§è¡Œï¼Œä½¿ç”¨ POC çš„ç»“æœä½œä¸ºåŸºç¡€ã€‚</li><li data-pid="RihZ4Stl">æŒç»­ç›‘æ§å’Œç®¡ç†ï¼šåœ¨é¡¹ç›®å®æ–½è¿‡ç¨‹ä¸­æŒç»­ç›‘æ§å’Œç®¡ç†é¡¹ç›®çš„è¿›åº¦å’Œè´¨é‡ï¼ŒåŠæ—¶è°ƒæ•´å’Œæ§åˆ¶é¡¹ç›®ã€‚</li><li data-pid="Ufnfv6NY">é¡¹ç›®ç»“æŸï¼šå®Œæˆé¡¹ç›®å¹¶å½’æ¡£é¡¹ç›®æ–‡ä»¶ã€‚</li><li data-pid="nBXNDobG">åé¦ˆå’Œæ”¹è¿›ï¼šæ ¹æ®é¡¹ç›®ç»“æŸåçš„åé¦ˆç»“æœï¼Œå¯¹é¡¹ç›®è¿›è¡Œæ”¹è¿›ï¼Œå¹¶è®°å½•ä¸‹æ¥ä»¥ä¾¿ä»¥åå‚è€ƒã€‚</li></ol><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h2><b>è§„åˆ’ï¼šé¡¹ç›®è§„åˆ’å¦‚ä½•åˆ¶å®š</b></h2><p data-pid="UWQ15VuK">é¡¹ç›®è§„åˆ’æ˜¯é¡¹ç›®ç®¡ç†ä¸­çš„é‡è¦ç¯èŠ‚ï¼Œå®ƒæ˜¯é¡¹ç›®æˆåŠŸçš„å…³é”®ã€‚åˆ¶å®šé¡¹ç›®è§„åˆ’éœ€è¦éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š</p><ol><li data-pid="Tm2HatXq">æ˜ç¡®é¡¹ç›®ç›®æ ‡: é¦–å…ˆéœ€è¦æ˜ç¡®é¡¹ç›®çš„ç›®æ ‡å’ŒæˆåŠŸæ ‡å‡†ï¼Œå¹¶å°†å…¶è½¬åŒ–ä¸ºå…·ä½“çš„é¡¹ç›®ç›®æ ‡ã€‚</li><li data-pid="JR6T9iep">åˆ†æé¡¹ç›®éœ€æ±‚: é€šè¿‡ä¸ç›¸å…³äººå‘˜è¿›è¡Œæ²Ÿé€šå’Œåå•†ï¼Œç¡®å®šé¡¹ç›®éœ€è¦å®Œæˆçš„ä»»åŠ¡å’Œäº¤ä»˜ç‰©ã€‚</li><li data-pid="67HTlkkd">åˆ¶å®šé¡¹ç›®è®¡åˆ’: æ ¹æ®é¡¹ç›®ç›®æ ‡å’Œéœ€æ±‚ï¼Œåˆ¶å®šé¡¹ç›®è®¡åˆ’ï¼ŒåŒ…æ‹¬é¡¹ç›®è¿›åº¦ã€è´¹ç”¨ã€èµ„æºå’Œé£é™©ç®¡ç†ç­‰ã€‚</li><li data-pid="RPCp8Wao">åˆ¶å®šé¡¹ç›®æ–‡ä»¶: æ ¹æ®é¡¹ç›®è®¡åˆ’ï¼Œåˆ¶å®šé¡¹ç›®æ–‡ä»¶ï¼Œå¦‚é¡¹ç›®ç« ç¨‹ã€è¯´æ˜ä¹¦ã€é¡¹ç›®ç®¡ç†è®¡åˆ’ç­‰ã€‚</li><li data-pid="7Ex4i3TA">æ‰§è¡Œé¡¹ç›®è®¡åˆ’: æŒ‰ç…§é¡¹ç›®è®¡åˆ’å’Œæ–‡ä»¶æ‰§è¡Œé¡¹ç›®ï¼Œå¹¶ä¸æ–­ç›‘æ§é¡¹ç›®è¿›åº¦å’Œç»©æ•ˆã€‚</li><li data-pid="owEZwdLN">æ›´æ–°é¡¹ç›®è®¡åˆ’: éšç€é¡¹ç›®è¿›å±•ï¼Œå¯èƒ½éœ€è¦å¯¹é¡¹ç›®è®¡åˆ’è¿›è¡Œæ›´æ–°å’Œè°ƒæ•´ã€‚</li><li data-pid="XvFq7sJN">é£é™©ç®¡ç†: åœ¨é¡¹ç›®è¿›è¡Œè¿‡ç¨‹ä¸­ï¼Œéœ€è¦å¯¹é¡¹ç›®çš„é£é™©è¿›è¡Œè¯†åˆ«ã€è¯„ä¼°å’Œåº”å¯¹ã€‚è¿™åŒ…æ‹¬å¯¹é¡¹ç›®æ‰€é¢ä¸´çš„å„ç§å¯èƒ½é£é™©è¿›è¡Œè¯†åˆ«ã€å¯¹é£é™©çš„å½±å“è¿›è¡Œè¯„ä¼°ã€åˆ¶å®šé£é™©åº”å¯¹ç­–ç•¥å’Œå®æ–½é£é™©åº”å¯¹æªæ–½ã€‚</li><li data-pid="eyc_Lseu">æ²Ÿé€šç®¡ç†: é¡¹ç›®æ²Ÿé€šç®¡ç†æ˜¯é¡¹ç›®ç®¡ç†ä¸­é‡è¦çš„ç¯èŠ‚ä¹‹ä¸€ã€‚åœ¨é¡¹ç›®è¿›è¡Œè¿‡ç¨‹ä¸­ï¼Œéœ€è¦å»ºç«‹æœ‰æ•ˆçš„æ²Ÿé€šæœºåˆ¶ï¼Œç¡®ä¿é¡¹ç›®ç›¸å…³äººå‘˜ä¹‹é—´çš„ä¿¡æ¯æ²Ÿé€šå’Œåè°ƒã€‚</li><li data-pid="3NDv2LKj">ç›‘æ§ä¸æ§åˆ¶: æŒ‰ç…§é¡¹ç›®è®¡åˆ’å’Œæ–‡ä»¶è¿›è¡Œé¡¹ç›®ç›‘æ§å’Œæ§åˆ¶ã€‚åŒ…æ‹¬å¯¹é¡¹ç›®è¿›åº¦ã€è´¨é‡ã€è´¹ç”¨ã€é£é™©ç­‰è¿›è¡Œç›‘æ§å’Œæ§åˆ¶ã€‚</li><li data-pid="qciAqZUB">é¡¹ç›®ç»“æŸ: å½“é¡¹ç›®å®Œæˆåï¼Œéœ€è¦è¿›è¡Œé¡¹ç›®ç»“æŸæ£€æŸ¥ï¼Œå¯¹é¡¹ç›®è¿›è¡Œè¯„ä¼°ï¼Œå¹¶å¯¹é¡¹ç›®è¿›è¡Œæ€»ç»“ã€‚è¿™å°†æœ‰åŠ©äºæ”¹è¿›æœªæ¥é¡¹ç›®ç®¡ç†çš„æ•ˆç‡å’Œè´¨é‡ã€‚</li></ol><p class="ztext-empty-paragraph"><br></p><h3><b>è§„åˆ’ç®¡ç†</b></h3><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-33f6fe72b84e69c1fd304c650f258b5f_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>åˆ›å»º WBS</b></h3><ul><li data-pid="Ovwfnxuj"><a href="https://zh.wikipedia.org/zh-cn/%E5%B7%A5%E4%BD%9C%E5%88%86%E8%A7%A3%E7%BB%93%E6%9E%84" target="_blank">WBS ç»´åŸºç™¾ç§‘-ZH</a></li></ul><p data-pid="fJ7yXSTW">WBS (Work Breakdown Structure) æ„ä¸ºå·¥ä½œåˆ†è§£ç»“æ„ã€‚å®ƒæ˜¯ä¸€ç§ç»„ç»‡å’Œç®¡ç†é¡¹ç›®ä»»åŠ¡çš„å·¥å…·ï¼Œé€šè¿‡å°†é¡¹ç›®çš„æ€»ä½“ç›®æ ‡åˆ’åˆ†æˆè¾ƒå°çš„ã€å¯ç®¡ç†çš„éƒ¨åˆ†æ¥å¸®åŠ©é¡¹ç›®ç»„ç»‡è€…æ›´å¥½åœ°æ§åˆ¶é¡¹ç›®çš„è¿›åº¦å’Œè´¨é‡ã€‚</p><p data-pid="nIiE6Pcn">WBSé€šå¸¸ä»¥æ ‘çŠ¶ç»“æ„çš„å½¢å¼ç»„ç»‡ï¼Œé¡¶å±‚æ˜¯é¡¹ç›®çš„æ€»ä½“ç›®æ ‡ï¼Œä¸‹é¢æ˜¯åˆ†è§£å‡ºæ¥çš„å„ä¸ªå­ä»»åŠ¡ï¼Œä»¥æ­¤ç±»æ¨ã€‚æ¯ä¸€å±‚çš„ä»»åŠ¡éƒ½æ˜¯ä¸Šä¸€å±‚ä»»åŠ¡çš„ç»†åˆ†ã€‚è¿™æ ·åšçš„ç›®çš„æ˜¯ä¸ºäº†ç¡®ä¿æ¯ä¸€ä¸ªå­ä»»åŠ¡éƒ½èƒ½å¤Ÿç‹¬ç«‹å®Œæˆï¼Œè€Œä¸”ä¹Ÿèƒ½å¤Ÿè¿½è¸ªé¡¹ç›®çš„æ€»ä½“è¿›åº¦ã€‚</p><p data-pid="HDAvaEod">WBSå¯ä»¥å¸®åŠ©é¡¹ç›®ç»„ç»‡è€…æ›´å¥½åœ°æŒæ¡é¡¹ç›®çš„èŒƒå›´ã€è¿›åº¦å’Œé£é™©ï¼Œå¹¶ä¸”å¯ä»¥ç”¨æ¥ç¡®å®šé¡¹ç›®çš„èµ„æºéœ€æ±‚å’Œå®‰æ’ä»»åŠ¡ã€‚</p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-210b96160212238c280ba13e198985d6_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>è§„åˆ’ç®¡ç†å›¾</b></h3><p data-pid="qnUV8Gap"><b>é¡¹ç›®è§„åˆ’å›¾å¯ä»¥ç»Ÿè®¡å‡ºé¡¹ç›®å¼€å‘å‘¨æœŸï¼Œä¸€ç›®äº†ç„¶~</b></p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-bedaa9ac398804469a68c2393f505a86_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>ç”˜ç‰¹å›¾</b></h3><p data-pid="4NBAP1hd">ç”˜ç‰¹å›¾(Gantt chart) æ˜¯ä¸€ç§é¡¹ç›®ç®¡ç†å·¥å…·ï¼Œç”¨æ¥è¡¨ç¤ºé¡¹ç›®çš„è¿›åº¦å’Œèµ„æºåˆ†é…ã€‚å®ƒæ˜¯ä¸€ç§å›¾å½¢åŒ–çš„å·¥å…·ï¼Œé€šå¸¸ç”±æ°´å¹³çš„æ—¶é—´è½´å’Œå‚ç›´çš„ä»»åŠ¡æ¡ç»„æˆã€‚</p><p data-pid="K6dcwO5N">åœ¨ç”˜ç‰¹å›¾ä¸Šï¼Œæ¯ä¸ªä»»åŠ¡éƒ½å¯¹åº”ä¸€ä¸ªæ°´å¹³çš„æ¡å½¢å›¾ï¼Œè¡¨ç¤ºä»»åŠ¡çš„å¼€å§‹æ—¶é—´å’Œç»“æŸæ—¶é—´ã€‚é€šè¿‡çœ‹ç”˜ç‰¹å›¾ï¼Œå¯ä»¥å¾ˆå®¹æ˜“åœ°äº†è§£é¡¹ç›®çš„è¿›åº¦ã€ä»»åŠ¡ä¹‹é—´çš„ä¾èµ–å…³ç³»å’Œèµ„æºåˆ†é…æƒ…å†µã€‚</p><p data-pid="Q-oJV9VP">ç”˜ç‰¹å›¾å¯ä»¥å¸®åŠ©é¡¹ç›®ç»„ç»‡è€…æ›´å¥½åœ°æŒæ¡é¡¹ç›®è¿›åº¦ï¼Œè°ƒæ•´é¡¹ç›®è®¡åˆ’ï¼Œæ›´å¥½åœ°æ§åˆ¶é¡¹ç›®è¿›åº¦å’Œèµ„æºåˆ†é…ã€‚åŒæ—¶ä¹Ÿå¯ä»¥è®©é¡¹ç›®çš„å…¶ä»–æˆå‘˜æ›´å¥½çš„äº†è§£é¡¹ç›®çš„è¿›å±•æƒ…å†µã€‚</p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-e20a27e56928310289768139d330379e_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>æ ¸å¿ƒæ­¥éª¤</b></h3><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-8957ed0b17050a3c13b94e778c4b7092_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>è§„åˆ’ç®¡ç†-æ¡ˆä¾‹åˆ†æ</b></h3><p data-pid="tvZt4umW"><b>[[MVPç‰ˆæœ¬]]ï¼š</b></p><blockquote data-pid="C6QZKLPN">MVPçš„æ¦‚å¿µæ˜¯Eric Ries ã€Šç²¾ç›Šåˆ›ä¸šã€‹é‡Œæå‡ºçš„æ¦‚å¿µã€‚ç®€å•åœ°è¯´ï¼Œå°±æ˜¯æŒ‡å¼€å‘å›¢é˜Ÿé€šè¿‡æä¾›<b>æœ€å°åŒ–å¯è¡Œäº§å“</b>è·å–ç”¨æˆ·åé¦ˆï¼Œå¹¶åœ¨è¿™ä¸ªæœ€å°åŒ–å¯è¡Œäº§å“ä¸Š<b>æŒç»­å¿«é€Ÿè¿­ä»£</b>ï¼Œç›´åˆ°äº§å“<b>åˆ°è¾¾ä¸€ä¸ªç›¸å¯¹ç¨³å®šçš„é˜¶æ®µ</b>ã€‚MVPå¯¹äºåˆ›ä¸šå›¢é˜Ÿæ¥è¯´æ˜¯å¾ˆé‡è¦çš„ï¼Œå¯ä»¥å¿«é€ŸéªŒè¯å›¢é˜Ÿçš„ç›®æ ‡ï¼Œå¿«é€Ÿè¯•é”™ã€‚</blockquote><p data-pid="G4ni12kJ"><b>é¡¹ç›®èƒŒæ™¯ï¼š</b> éšç€å…¬å¸æˆ˜ç•¥å‘å±•éœ€è¦ï¼ŒAä¸šåŠ¡å¿…é¡»ç«‹é¡¹é‡ç‚¹é¡¹ç›®</p><p data-pid="4WPAnTbC"><b>é¡¹ç›®å†…å®¹ï¼š</b> æ˜¯åŸºäºxxå…¬å¸ç°æœ‰èƒ½åŠ›ï¼Œå¼€å‘ä¸€æ¬¾æ–°çš„APPåœ¨æ–°çš„å›½å®¶å¸‚åœºå‘å¸ƒã€‚</p><p data-pid="WajQzwCU"><b>é¡¹ç›®ç›®æ ‡ï¼š</b> 5ä¸ªæœˆå®ŒæˆMVPç‰ˆæœ¬APPå¼€å‘</p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-4f811beea96b4a57cdc0ea05dd995e21_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p data-pid="T345zurX"><b>ä¸€äº›åè¯ï¼š</b></p><ul><li data-pid="zMKEIcZL">è‡ªæµ‹[[case]] (Self-Testing Case) æŒ‡çš„æ˜¯åœ¨è½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­ï¼Œç”±å¼€å‘äººå‘˜è‡ªå·±åˆ¶å®šå’Œæ‰§è¡Œçš„æµ‹è¯•ç”¨ä¾‹ã€‚<br></li><ul><li data-pid="Cl63NmCP">è‡ªæµ‹case æ˜¯ä¸€ç§éå¸¸é‡è¦çš„è´¨é‡ä¿è¯æ‰‹æ®µï¼Œå®ƒå¯ä»¥å¸®åŠ©å¼€å‘äººå‘˜æ›´æ—©æœŸåœ°å‘ç°å’Œä¿®å¤è½¯ä»¶ä¸­çš„é”™è¯¯å’Œç¼ºé™·ã€‚è‡ªæµ‹case é€šå¸¸åŒ…æ‹¬äº†åŠŸèƒ½æµ‹è¯•ã€æ€§èƒ½æµ‹è¯•ã€å¯é æ€§æµ‹è¯•å’Œå…¼å®¹æ€§æµ‹è¯•ç­‰ã€‚</li><li data-pid="Wfi4gymF">è‡ªæµ‹case å¯ä»¥å¸®åŠ©å¼€å‘äººå‘˜ç¡®ä¿è½¯ä»¶çš„è´¨é‡å’Œå¯é æ€§ï¼Œæé«˜è½¯ä»¶çš„å¼€å‘æ•ˆç‡å’Œé™ä½è½¯ä»¶çš„ç»´æŠ¤æˆæœ¬ã€‚åŒæ—¶ä¹Ÿå¯ä»¥å¸®åŠ©ç¡®ä¿è½¯ä»¶åœ¨å‘å¸ƒå‰æ»¡è¶³ç”¨æˆ·éœ€æ±‚ã€‚</li></ul></ul><p class="ztext-empty-paragraph"><br></p><ul><li data-pid="dMYvk3p6">[[QA]] æŒ‡è´¨é‡ä¿è¯ (Quality Assurance)ï¼Œå®ƒæ˜¯ä¸€ç§ç³»ç»Ÿæ€§çš„ã€é¢„é˜²æ€§çš„è¿‡ç¨‹ï¼Œæ—¨åœ¨ç¡®ä¿äº§å“æˆ–æœåŠ¡è¾¾åˆ°è´¨é‡æ ‡å‡†ã€‚<br></li><ul><li data-pid="48vdEW3n">QA çš„ç›®çš„æ˜¯é€šè¿‡è§„èŒƒã€ç¨‹åºã€æ ‡å‡†å’Œæµ‹è¯•ç­‰æ‰‹æ®µæ¥ç¡®ä¿äº§å“æˆ–æœåŠ¡è¾¾åˆ°é¢„æœŸçš„è´¨é‡æ°´å¹³ã€‚QA çš„è¿‡ç¨‹åŒ…æ‹¬äº†è´¨é‡ç­–åˆ’ã€è´¨é‡æ§åˆ¶ã€è´¨é‡ä¿è¯å’Œè´¨é‡æ”¹è¿›ç­‰ã€‚</li><li data-pid="aQMjSVa-">QA çš„è¿‡ç¨‹å¯ä»¥å¸®åŠ©ä¼ä¸šæˆ–ç»„ç»‡æé«˜äº§å“å’ŒæœåŠ¡çš„è´¨é‡ï¼Œæ»¡è¶³å®¢æˆ·éœ€æ±‚ï¼Œæé«˜å¸‚åœºç«äº‰åŠ›å’Œå“ç‰Œå½¢è±¡ã€‚QA ä¹Ÿå¯ä»¥å¸®åŠ©ä¼ä¸šæˆ–ç»„ç»‡é™ä½ä¸è‰¯äº§å“çš„ç”Ÿäº§å’ŒæœåŠ¡çš„æˆæœ¬ï¼Œæé«˜ç”Ÿäº§æ•ˆç‡å’Œå®¢æˆ·æ»¡æ„åº¦ã€‚</li></ul></ul><p class="ztext-empty-paragraph"><br></p><ul><li data-pid="mOD4XiQo">[[RD]] æŒ‡çš„æ˜¯ç ”å‘ (Research and Development)ï¼Œå³ç ”ç©¶ä¸å¼€å‘ã€‚ç ”å‘æ˜¯æŒ‡ä¼ä¸šæˆ–ç»„ç»‡å¯¹äºäº§å“ã€æœåŠ¡ã€æŠ€æœ¯ç­‰è¿›è¡Œç ”ç©¶å’Œå¼€å‘ï¼Œä»¥æé«˜å…¶ç«äº‰åŠ›å’Œåˆ›æ–°èƒ½åŠ›ã€‚ç ”å‘åŒ…æ‹¬äº†æ–°äº§å“ç ”å‘ã€æŠ€æœ¯æ”¹è¿›ã€æ–°å·¥è‰ºå¼€å‘ç­‰ã€‚<br></li><ul><li data-pid="azU9tFRA">ç ”å‘å¯ä»¥å¸®åŠ©ä¼ä¸šæˆ–ç»„ç»‡æ¨å‡ºæ–°äº§å“å’ŒæœåŠ¡ï¼Œæé«˜äº§å“è´¨é‡å’Œæ€§èƒ½ï¼Œæ»¡è¶³å¸‚åœºéœ€æ±‚å¹¶å¢åŠ å¸‚åœºä»½é¢ï¼Œæé«˜ç”Ÿäº§æ•ˆç‡å’Œé™ä½ç”Ÿäº§æˆæœ¬ï¼Œæé«˜æŠ€æœ¯æ°´å¹³å’Œç«äº‰åŠ›ã€‚ç ”å‘ä¹Ÿæ˜¯ä¼ä¸šæˆ–ç»„ç»‡çš„é‡è¦æŠ•èµ„ï¼Œå› ä¸ºå®ƒå¯ä»¥å¸¦æ¥é•¿æœŸçš„ç»æµæ•ˆç›Šã€‚</li></ul></ul><p class="ztext-empty-paragraph"><br></p><ul><li data-pid="ZUsIvNja">[[Review]] æŒ‡çš„æ˜¯ä»£ç å®¡æŸ¥æˆ–ä»£ç è¯„å®¡ã€‚å®ƒæ˜¯ä¸€ç§è´¨é‡ä¿è¯å’Œæ”¹è¿›çš„é‡è¦æ‰‹æ®µï¼Œç›®çš„åœ¨äºé€šè¿‡å…¶ä»–äººå‘˜å¯¹ä»£ç çš„å®¡æŸ¥å’Œè¯„ä¼°æ¥å‘ç°å’Œçº æ­£ä»£ç ä¸­çš„é”™è¯¯ã€ç¼ºé™·å’Œæ½œåœ¨é—®é¢˜<br></li><ul><li data-pid="fd9Ps6q0">ä»£ç è¯„å®¡å¯ä»¥å¸®åŠ©ç¡®ä¿ä»£ç è´¨é‡ï¼Œæé«˜ä»£ç çš„å¯è¯»æ€§ã€å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§ï¼Œé™ä½è½¯ä»¶ç»´æŠ¤æˆæœ¬å’Œé£é™©ã€‚</li><li data-pid="AargmLzL">ä¸€èˆ¬æ¥è¯´ï¼Œä»£ç è¯„å®¡å¯ä»¥é€šè¿‡äººå·¥æˆ–å·¥å…·æ¥å®Œæˆï¼Œäººå·¥è¯„å®¡é€šå¸¸ç”±ä¸€ä¸ªæˆ–å¤šä¸ªå¼€å‘äººå‘˜æ¥å®Œæˆï¼Œè€Œå·¥å…·è¯„å®¡åˆ™ä½¿ç”¨è‡ªåŠ¨åŒ–å·¥å…·æ¥å®Œæˆï¼Œè¿™äº›å·¥å…·å¯ä»¥æ‰«æä»£ç å¹¶å‘ç°æ½œåœ¨é—®é¢˜ã€‚</li></ul></ul><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-77a80c12b1b44780b46743050a47df5c_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>ç»éªŒæ€»ç»“</b></h3><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-43db227de9ae8a94710273be5d5da8e6_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h2><b>æ‰§è¡Œï¼šæ‰§è¡Œå¦‚ä½•é«˜æ•ˆè·Ÿè¿›</b></h2><p data-pid="Vrmw2SGH"><b>éœ€è¦ä¿è¯æ‰§è¡Œå¾—é«˜æ•ˆè·Ÿè¿›çš„æ—¶å€™ï¼Œæ³¨æ„ä»¥ä¸‹çš„æ–¹é¢ï¼š</b></p><ol><li data-pid="DzgmTFIK">è®¾ç«‹æ¸…æ™°çš„ç›®æ ‡å’Œè®¡åˆ’: é¦–å…ˆéœ€è¦ç¡®ç«‹é¡¹ç›®çš„ç›®æ ‡å’Œè®¡åˆ’ï¼Œå¹¶ä¸”ç¡®ä¿æ‰€æœ‰ç›¸å…³äººå‘˜éƒ½äº†è§£å¹¶æŒ‰ç…§è¿™äº›ç›®æ ‡å’Œè®¡åˆ’æ¥å·¥ä½œã€‚</li><li data-pid="Q_0Wfa-4">å»ºç«‹æœ‰æ•ˆçš„æ²Ÿé€šæœºåˆ¶: é€šè¿‡å»ºç«‹æœ‰æ•ˆçš„æ²Ÿé€šæœºåˆ¶ï¼Œç¡®ä¿é¡¹ç›®ç›¸å…³äººå‘˜ä¹‹é—´çš„ä¿¡æ¯æ²Ÿé€šå’Œåè°ƒï¼ŒåŠæ—¶å‘ç°å¹¶è§£å†³é—®é¢˜ã€‚</li><li data-pid="ouj_Sl9R">å®šæœŸè·Ÿè¿›å’ŒæŠ¥å‘Š: è®¾ç«‹å®šæœŸè·Ÿè¿›å’ŒæŠ¥å‘Šæœºåˆ¶ï¼Œå¯¹é¡¹ç›®è¿›åº¦ã€è´¨é‡ã€è´¹ç”¨ã€é£é™©ç­‰è¿›è¡Œç›‘æ§å’Œæ§åˆ¶ã€‚</li><li data-pid="bG5NoHEC">æ•æ·ç®¡ç†: é€šè¿‡ä½¿ç”¨æ•æ·ç®¡ç†æ–¹æ³•ï¼Œå¯ä»¥æ›´å¿«é€Ÿåœ°åšå‡ºååº”ï¼Œå¹¶ä¸”èƒ½å¤Ÿåº”å¯¹é¡¹ç›®ä¸­å‡ºç°çš„å˜åŒ–ã€‚</li><li data-pid="tivST9dF">ç»„ç»‡å›¢é˜ŸåŸ¹è®­: å®šæœŸä¸¾è¡Œå›¢é˜ŸåŸ¹è®­ï¼Œå¸®åŠ©å›¢é˜Ÿæˆå‘˜æé«˜æŠ€èƒ½å’ŒçŸ¥è¯†ï¼Œæé«˜å›¢é˜Ÿåˆä½œå’Œåä½œèƒ½åŠ›ã€‚</li><li data-pid="T5BHGZUS">æ•´ä½“è€ƒè™‘: æ•´ä½“è€ƒè™‘é¡¹ç›®ä¸­æ‰€æœ‰ç›¸å…³å› ç´ ï¼ŒåŒ…æ‹¬äººå‘˜ã€èµ„é‡‘ã€æŠ€æœ¯ç­‰ï¼Œç¡®ä¿é¡¹ç›®èƒ½å¤Ÿé¡ºåˆ©å®Œæˆã€‚</li></ol><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-edf9ea0ff528175327f812ba30686b9c_r.jpg" data-caption="" data-size="normal" width="1771" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>ä¼šè®®åˆ¶åº¦å®£è´¯</b></h3><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-21882dbb3034c0d46ca14cd1c331d540_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p data-pid="7376x_tM"><b>ä¼šè®®çš„æ—¶é—´å¾ˆé‡è¦ï¼Œä¸è¦æµªè´¹åˆ«äººçš„æ—¶é—´ï¼Œå¦‚æœå¯ä»¥å•ç‹¬ä¼šè®®è§£å†³æ²¡å¿…è¦é›†ä½“å¼€ä¼šã€‚</b></p><p data-pid="y8G0WQkE">ä¼šè®®å‰æŒ‡å®šæ¨¡æ¿å’Œè®¡åˆ’ï¼š</p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-44c5226d8df9350f4b9bc58bd9ae6a21_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>è¿›åº¦ç¡®è®¤çš„å››ä¸ªæ­¥éª¤</b></h3><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-d62e99aae5351474567410abbd73e63c_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>ä¼šè®®ä¸­æœ‰æ•ˆå¼•å¯¼</b></h3><p data-pid="trFKKwe7"><b>åœ¨å¼€æºç¤¾åŒºä¸­ï¼Œæˆ‘å¸¸è§åˆ°ä¸¤ç§çš„ä¼šè®®å¼•å¯¼æ‰‹æ®µï¼Œä¸€ç§æ˜¯ GitHub Dicussions ä¸­æŒ‡å®šä¼šè®®çš„ issue å’Œ è§£å†³æ–¹æ¡ˆã€‚ç¬¬äºŒç§æ˜¯ Google Docsã€nothonæˆ–è€…æ˜¯é£ä¹¦æ–‡æ¡£çš„ååŒå†™å…¥ä¼šè®®æ‘˜è¦å’Œè®¡åˆ’ã€‚</b></p><p data-pid="-OZvKfzJ"><b>æˆ‘ä»¬åº”è¯¥æ³¨æ„ï¼š</b></p><ol><li data-pid="2PLucRUt">æ¸…æ™°çš„è®®é¢˜:  åœ¨ä¼šè®®å‰ï¼Œç¡®å®šå¥½ä¼šè®®çš„è®®é¢˜å’Œç›®çš„ï¼Œå¹¶ç¡®ä¿æ‰€æœ‰å‚ä¸è€…éƒ½äº†è§£ã€‚</li><li data-pid="ezSr5ecb">å‡†å¤‡å……åˆ†:  åœ¨ä¼šè®®ä¸­ï¼Œæå‰å‡†å¤‡å¥½ä¼šè®®ææ–™å’Œæ–‡ä»¶ï¼Œä¸ºå‚ä¸è€…æä¾›æœ‰ç”¨çš„ä¿¡æ¯ã€‚</li><li data-pid="NJrZkylK">æ§åˆ¶æ—¶é—´:  ä¸¥æ ¼æ§åˆ¶ä¼šè®®æ—¶é—´ï¼Œç¡®ä¿ä¼šè®®åœ¨è§„å®šæ—¶é—´å†…ç»“æŸã€‚</li><li data-pid="zYpbG1ke">å¼•å¯¼è®¨è®º:  é€šè¿‡é—®é¢˜å’Œç»ƒä¹ æ¥å¼•å¯¼è®¨è®ºï¼Œè®©å‚ä¸è€…å‘è¡¨è§‚ç‚¹å¹¶è§£å†³é—®é¢˜ã€‚</li><li data-pid="GUk9NTVR">è¿›è¡Œåé¦ˆ:  å®šæœŸè¿›è¡Œåé¦ˆï¼Œç¡®ä¿ä¼šè®®çš„ç›®æ ‡å’Œè®¡åˆ’å¾—åˆ°å®ç°ã€‚</li><li data-pid="v6xKGuTT">è®°å½•å†³ç­–:  è®°å½•ä¼šè®®ä¸­çš„å†³ç­–å’Œè¡ŒåŠ¨è®¡åˆ’ï¼Œç¡®ä¿æ‰€æœ‰å‚ä¸è€…éƒ½äº†è§£å¹¶éµå¾ªã€‚</li><li data-pid="SgZR3YOI">æé«˜å‚ä¸åº¦ï¼šé€šè¿‡æé—®ã€æä¾›æœºä¼šå‘è¨€ã€é¼“åŠ±å‚ä¸ç­‰æ–¹å¼æé«˜å‚ä¸è€…çš„å‚ä¸åº¦ã€‚</li></ol><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-316a2489ba21e758928c0201ed47dabe_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>ä¼šè®®å</b></h3><p data-pid="vTqtbctN"><b>ä¼šè®®ç»“æŸåï¼Œéœ€è¦å‘é€ä¼šè®®çºªè¦ï¼Œå…¶ä¸­åŒ…æ‹¬:</b></p><ol><li data-pid="NQ2mFIH9">ä¼šè®®è®®é¢˜: æ¦‚è¿°ä¼šè®®çš„ä¸»è¦è®®é¢˜å’Œç›®çš„ã€‚</li><li data-pid="fvQpYBJk">ä¼šè®®çºªè¦: è¯¦ç»†è®°å½•ä¼šè®®ä¸­çš„è®¨è®ºå’Œå†³ç­–ã€‚</li><li data-pid="AiIRDeUU">è¡ŒåŠ¨è®¡åˆ’: åˆ—å‡ºä¼šè®®ä¸­è¾¾æˆçš„è¡ŒåŠ¨è®¡åˆ’å’Œä¸‹ä¸€æ­¥å·¥ä½œã€‚</li><li data-pid="SohHgm3L">æˆªæ­¢æ—¥æœŸ: è®¾å®šè¡ŒåŠ¨è®¡åˆ’å®Œæˆçš„æˆªæ­¢æ—¥æœŸã€‚</li><li data-pid="eHW9O30-">è´£ä»»äºº: åˆ†é…è´£ä»»äººè´Ÿè´£å®Œæˆè¡ŒåŠ¨è®¡åˆ’ã€‚</li><li data-pid="SwJ07RY2">è·Ÿè¿›: æŒ‡å®šè´£ä»»äººè´Ÿè´£è·Ÿè¿›è¡ŒåŠ¨è®¡åˆ’çš„æ‰§è¡Œã€‚</li></ol><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-711e431c17f820301ee8ae8e5220bd64_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><p data-pid="Q0hHWv4J"><b>  ä»¥ä¸‹æ˜¯ä¸€ä¸ªä¼šè®®çºªè¦æ¨¡æ¿ï¼š</b></p><p data-pid="q5cwgw1z">ä¼šè®®ä¸»é¢˜: [ä¼šè®®ä¸»é¢˜]</p><p data-pid="G6LSlkqc">ä¼šè®®æ—¥æœŸ: [ä¼šè®®æ—¥æœŸ]</p><p data-pid="QH_UUzI6">ä¼šè®®åœ°ç‚¹: [ä¼šè®®åœ°ç‚¹]</p><p data-pid="YRixQPf7">å‚ä¼šäººå‘˜: [å‚ä¼šäººå‘˜åå•]</p><p data-pid="_cx6GXoG">ä¼šè®®è®®é¢˜:</p><ul><li data-pid="s2FVieZA">[è®®é¢˜ 1]</li><li data-pid="Hp4nIyHi">[è®®é¢˜ 2]</li><li data-pid="HyMYwLgv">[è®®é¢˜ 3]</li></ul><p data-pid="k5XnGBJj">ä¼šè®®çºªè¦:</p><ul><li data-pid="tLTajLgY">[è®®é¢˜ 1]<br></li><ul><li data-pid="aOp0UzvT">[è®¨è®ºç»“æœ]</li><li data-pid="bfADoB5F">[å†³ç­–]</li></ul></ul><p class="ztext-empty-paragraph"><br></p><ul><li data-pid="pMon2YJj">[è®®é¢˜ 2]<br></li><ul><li data-pid="eSiqrKCs">[è®¨è®ºç»“æœ]</li><li data-pid="a0bdcF0E">[å†³ç­–]</li></ul></ul><p class="ztext-empty-paragraph"><br></p><ul><li data-pid="DMUNFxkz">[è®®é¢˜ 3]<br></li><ul><li data-pid="Fo7nsnKZ">[è®¨è®ºç»“æœ]</li><li data-pid="2OpZRZlt">[å†³ç­–]</li></ul></ul><p class="ztext-empty-paragraph"><br></p><p data-pid="4xFUG7aG">è¡ŒåŠ¨è®¡åˆ’:</p><ul><li data-pid="Iczdkx4e">[ä»»åŠ¡ 1]<br></li><ul><li data-pid="HsS6JaQW">[å…·ä½“æè¿°]</li><li data-pid="UFy3z4se">[è´£ä»»äºº]</li><li data-pid="CLLlhno9">[æˆªæ­¢æ—¥æœŸ]</li></ul></ul><p class="ztext-empty-paragraph"><br></p><ul><li data-pid="RYyDccqF">[ä»»åŠ¡ 2]<br></li><ul><li data-pid="flAg0JPp">[å…·ä½“æè¿°]</li><li data-pid="PtdBZfJ3">[è´£ä»»äºº]</li><li data-pid="LRy5089G">[æˆªæ­¢æ—¥æœŸ]</li></ul></ul><p class="ztext-empty-paragraph"><br></p><ul><li data-pid="8VAbhAvo">[ä»»åŠ¡ 3]<br></li><ul><li data-pid="GiMcyYU6">[å…·ä½“æè¿°]</li><li data-pid="O2FMAl1D">[è´£ä»»äºº]</li><li data-pid="cIPBllqo">[æˆªæ­¢æ—¥æœŸ]</li></ul></ul><p class="ztext-empty-paragraph"><br></p><p data-pid="mZF94THH">ä¸‹ä¸€æ­¥å·¥ä½œ:</p><ul><li data-pid="3TIXOXf1">[å·¥ä½œ 1]</li><li data-pid="QhNyTc4h">[å·¥ä½œ 2]</li><li data-pid="21P9Ew7W">[å·¥ä½œ 3]</li></ul><p data-pid="v45uiHPj">ä¼šè®®ç»“æŸæ—¶é—´: [ä¼šè®®ç»“æŸæ—¶é—´]</p><p data-pid="c100F7eE">ä¸‹æ¬¡ä¼šè®®æ—¶é—´: [ä¸‹æ¬¡ä¼šè®®æ—¶é—´]</p><p data-pid="hvm2E4Xc">çºªè¦æ’°å†™äºº: [çºªè¦æ’°å†™äºº]</p><p data-pid="dr6_ru1C">è”ç³»æ–¹å¼: [è”ç³»æ–¹å¼]</p><p data-pid="c8chaFSF">è¯·åœ¨[æˆªæ­¢æ—¥æœŸ]å‰å®Œæˆ[è¡ŒåŠ¨è®¡åˆ’]ï¼Œå¹¶åœ¨ä¸‹æ¬¡ä¼šè®®ä¸­æ±‡æŠ¥è¿›å±•ã€‚</p><p data-pid="VQBe54_K">ä¼šè®®çºªè¦åº”è¯¥åœ¨ä¼šè®®ç»“æŸåå°½å¿«å‘é€ç»™æ‰€æœ‰å‚ä¼šäººå‘˜ï¼Œä»¥ä¾¿ä»–ä»¬èƒ½å¤Ÿäº†è§£ä¼šè®®çš„è¿›å±•å’Œç»“æœï¼Œå¹¶ç¡®ä¿ä»–ä»¬èƒ½å¤ŸæŒ‰ç…§è¡ŒåŠ¨è®¡åˆ’çš„è¦æ±‚å®Œæˆä»–ä»¬çš„å·¥ä½œã€‚</p><p data-pid="gCF58vpE">é™¤æ­¤ä¹‹å¤–ï¼Œåœ¨ä¸‹æ¬¡ä¼šè®®ä¹‹å‰ï¼Œéœ€è¦ç¡®ä¿æ‰€æœ‰çš„è¡ŒåŠ¨è®¡åˆ’å·²ç»å®Œæˆï¼Œå¹¶ä¸”åœ¨ä¼šè®®ä¸­è¿›è¡Œæ±‡æŠ¥ã€‚å¦‚æœæœ‰ä»»ä½•é—®é¢˜æˆ–å»¶è¿Ÿï¼Œåº”è¯¥å°½æ—©æŠ¥å‘Šç»™é¡¹ç›®ç»ç†ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>èŠ‚å¥å¯¹é½</b></h3><p data-pid="A3is_010"><b>[[OKR]]ï¼š</b></p><blockquote data-pid="HuTFFItt">OKR (Objectives and Key Results) æ˜¯ä¸€ç§ç›®æ ‡ç®¡ç†æ–¹æ³•ï¼Œæ˜¯ä¸€ç§ç»„ç»‡ä¸­å®šä¹‰ç›®æ ‡å’ŒæŒ‡æ ‡ï¼Œå¹¶å®ç°ç›®æ ‡çš„è¿‡ç¨‹ã€‚<br>å®ƒåŒ…æ‹¬ä¸¤éƒ¨åˆ†ï¼š</blockquote><ol><li data-pid="PIviOZZf">Objectives (ç›®æ ‡)ï¼šç›®æ ‡æ˜¯ç»„ç»‡æƒ³è¦å®ç°çš„ç»“æœï¼Œå®ƒåº”è¯¥æ˜¯æ˜ç¡®çš„ã€å…·ä½“çš„ã€å¯è¡¡é‡çš„ã€å…·æœ‰æŒ‘æˆ˜æ€§çš„ã€‚</li><li data-pid="SdQryTFl">Key Results (å…³é”®ç»“æœ)ï¼šå…³é”®ç»“æœæ˜¯å®ç°ç›®æ ‡æ‰€éœ€è¦è¾¾æˆçš„å…·ä½“æŒ‡æ ‡ï¼Œå®ƒåº”è¯¥æ˜¯å¯è¡¡é‡çš„ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡æŸç§æ–¹å¼æ¥è·Ÿè¸ªå’Œè¯„ä¼°ã€‚</li></ol><p data-pid="pM9kXuXf">OKR çš„ç›®çš„æ˜¯å¸®åŠ©ç»„ç»‡æ›´å¥½åœ°ç®¡ç†ç›®æ ‡å’Œç»“æœï¼Œå¹¶é€šè¿‡æŒç»­è·Ÿè¸ªå’Œè¯„ä¼°æ¥å®ç°ç›®æ ‡ã€‚OKR èƒ½å¤Ÿå¸®åŠ©ç»„ç»‡æ›´å¥½åœ°ç®¡ç†ç›®æ ‡å’Œç»“æœï¼Œæ›´å¥½åœ°æ§åˆ¶é¡¹ç›®è¿›åº¦ï¼Œå¹¶ä¸”æ›´å¥½åœ°è¯„ä¼°é¡¹ç›®çš„æˆæ•ˆã€‚OKR æ–¹æ³•é€šå¸¸è¢«ç”¨äºä¼ä¸šçº§ç›®æ ‡ç®¡ç†ï¼Œå¹¶ä¸”åœ¨ä¸åŒçš„å…¬å¸å’Œç»„ç»‡ä¸­æœ‰ç€ä¸åŒçš„å®æ–½æ–¹å¼ã€‚<br>OKR çš„ä¼˜ç‚¹æ˜¯å®ƒèƒ½å¤Ÿå¸®åŠ©ç»„ç»‡æ›´å¥½åœ°å®šä½å’Œè·Ÿè¸ªç›®æ ‡ï¼Œå¹¶ä¸”èƒ½å¤Ÿæ›´å¥½åœ°è¯„ä¼°é¡¹ç›®æˆæ•ˆã€‚OKR æ–¹æ³•è¿˜èƒ½å¸®åŠ©ç»„ç»‡æ›´å¥½åœ°æ²Ÿé€šå’Œåè°ƒï¼Œå¹¶ä¸”èƒ½å¤Ÿæé«˜é¡¹ç›®å›¢é˜Ÿçš„ç§¯ææ€§å’Œç»©æ•ˆã€‚<br>ä½†æ˜¯ï¼Œå¦‚æœOKR ä¸è¢«è®¤çœŸæ‰§è¡Œæˆ–è€…æ²¡æœ‰å¾—åˆ°æ­£ç¡®çš„æ”¯æŒï¼Œå®ƒå¯èƒ½ä¼šå¯¼è‡´é¡¹ç›®åå·®æˆ–è€…å¤±è´¥ã€‚æ‰€ä»¥åœ¨å®æ–½OKRæ—¶éœ€è¦ç¡®ä¿æœ‰ä¸€ä¸ªå¥½çš„ç®¡ç†å›¢é˜Ÿæ¥ç»„ç»‡å’Œç›‘ç£å®æ–½è¿‡ç¨‹ï¼Œç¡®ä¿æ‰€æœ‰ç›®æ ‡å’Œå…³é”®ç»“æœéƒ½æ˜¯åˆç†çš„å¹¶ä¸”èƒ½å¤Ÿå¾—åˆ°æœ‰æ•ˆçš„è·Ÿè¸ªå’Œè¯„ä¼°ã€‚æ­¤å¤–ï¼Œè¿˜éœ€è¦ç¡®ä¿æ‰€æœ‰å‘˜å·¥å’Œå›¢é˜Ÿéƒ½èƒ½å¤Ÿç†è§£å’Œæ”¯æŒOKR çš„ç›®æ ‡å’Œæ–¹æ³•ï¼Œç¡®ä¿OKRèƒ½å¤Ÿå¾—åˆ°æœ‰æ•ˆçš„è½å®ã€‚</p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-9a2aa80b87a766e3a9c605b12435bbaa_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>å›å­çº¦å®š</b></h3><p data-pid="d7Rn4Pth">"å›å­çº¦å®š" æ˜¯æŒ‡åœ¨é¡¹ç›®ç®¡ç†ä¸­ï¼Œé¡¹ç›®å‚ä¸è€…ä¹‹é—´çº¦å®šå¥½çš„è§„åˆ™å’Œå‡†åˆ™ã€‚è¿™äº›è§„åˆ™å’Œå‡†åˆ™å¯ä»¥å¸®åŠ©ç¡®ä¿é¡¹ç›®çš„é¡ºåˆ©è¿›è¡Œï¼Œå¹¶ç¡®ä¿é¡¹ç›®æˆå‘˜ä¹‹é—´çš„æ²Ÿé€šå’Œåˆä½œæ˜¯æœ‰æ•ˆçš„ã€‚</p><p data-pid="ToKVVxlU">å›å­çº¦å®šå¯ä»¥åŒ…æ‹¬ä»¥ä¸‹å†…å®¹ï¼š</p><ul><li data-pid="dAuOK7QO">é¡¹ç›®ç›®æ ‡å’Œé¢„æœŸç»“æœ</li><li data-pid="ddIqgou6">é¡¹ç›®è¿›åº¦å’Œè¿›å±•æŠ¥å‘Š</li><li data-pid="Csme-YNz">ä»»åŠ¡å’Œè´£ä»»åˆ†é…</li><li data-pid="pbwuoUBx">é£é™©ç®¡ç†å’Œé—®é¢˜è§£å†³</li><li data-pid="baRFBkUp">é€šä¿¡è®¡åˆ’å’Œæ²Ÿé€šæ¸ é“</li><li data-pid="qWbm7F8c">é¡¹ç›®æˆå‘˜ä¹‹é—´çš„è¡Œä¸ºå‡†åˆ™</li></ul><p data-pid="xPKPK--i">é‡è¦çš„æ˜¯è¦ç¡®ä¿æ‰€æœ‰é¡¹ç›®æˆå‘˜éƒ½éµå¾ªå›å­çº¦å®šï¼Œå¹¶ç¡®ä¿è¿™äº›çº¦å®šæ˜¯æœ‰æ•ˆçš„ï¼Œå¯ä»¥å¸®åŠ©é¡¹ç›®é¡ºåˆ©å®Œæˆã€‚</p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-16ef222f4dab0cc65158f2f76f1ec03d_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>è·¨å›¢é˜Ÿåä½œè§£å†³é—®é¢˜</b></h3><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-f137b59115ea8519da86e4039fd12eef_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><p data-pid="5P59Z74R"><b>æ‰“å¼€è¾¹ç•Œï¼š</b></p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-3b464036ae3291993b0cd663dd889423_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h2><b>æ‰§è¡Œï¼šå¦‚ä½•æ‹¥æŠ±å˜åŒ–</b></h2><p data-pid="tWGd8zLx">  <b>æ°¸è¿œä¸å˜çš„æ˜¯å˜åŒ–æœ¬èº«ã€‚æ­£è§†å˜åŒ–ï¼Œç”¨ç§¯æçš„å¿ƒæ€é¢å¯¹ã€‚</b></p><p data-pid="gliiSAL7">é¡¹ç›®ç®¡ç†ä¸­æ‰§è¡Œé˜¶æ®µæ˜¯æŒ‡å°†é¡¹ç›®è®¡åˆ’è½¬åŒ–ä¸ºå®é™…è¡ŒåŠ¨çš„è¿‡ç¨‹ã€‚åœ¨è¿™ä¸ªé˜¶æ®µï¼Œé¡¹ç›®ç»ç†éœ€è¦ç¡®ä¿é¡¹ç›®å›¢é˜Ÿæ­£ç¡®åœ°æ‰§è¡Œé¡¹ç›®è®¡åˆ’ï¼Œå¹¶ç®¡ç†é¡¹ç›®çš„è¿›åº¦å’Œè¿›å±•ã€‚</p><p data-pid="GhvUboZs">æ‹¥æŠ±å˜åŒ–æ˜¯åœ¨æ‰§è¡Œé˜¶æ®µéå¸¸é‡è¦çš„ä¸€ç‚¹ï¼Œå› ä¸ºé¡¹ç›®çš„è¿›å±•å¾€å¾€ä¼šå—åˆ°å„ç§å› ç´ çš„å½±å“ï¼Œå¯¼è‡´è®¡åˆ’å‘ç”Ÿå˜åŒ–ã€‚</p><p data-pid="1vLbKfyO">ä¸ºäº†æ‹¥æŠ±å˜åŒ–ï¼Œé¡¹ç›®ç»ç†å¯ä»¥é‡‡å–ä»¥ä¸‹æ­¥éª¤ï¼š</p><ol><li data-pid="mMTrtK3R">å»ºç«‹ä¸€ä¸ªå¼¹æ€§çš„è®¡åˆ’: é¡¹ç›®ç»ç†åº”è¯¥å»ºç«‹ä¸€ä¸ªå¼¹æ€§çš„è®¡åˆ’ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå›ºå®šä¸å˜çš„è®¡åˆ’ï¼Œè¿™æ ·å¯ä»¥åº”å¯¹å˜åŒ–ã€‚</li><li data-pid="Tw8rC0-Y">å»ºç«‹ä¸€ä¸ªé£é™©ç®¡ç†è®¡åˆ’: é¡¹ç›®ç»ç†åº”è¯¥è¯„ä¼°é¡¹ç›®ä¸­å¯èƒ½å‡ºç°çš„é£é™©ï¼Œå¹¶å»ºç«‹ä¸€ä¸ªæœ‰æ•ˆçš„é£é™©ç®¡ç†è®¡åˆ’ã€‚</li><li data-pid="yLa5UjiE">ç»å¸¸ç›‘æ§é¡¹ç›®è¿›å±•: é¡¹ç›®ç»ç†åº”è¯¥ç»å¸¸ç›‘æ§é¡¹ç›®è¿›å±•ï¼ŒåŠæ—¶å‘ç°é—®é¢˜å¹¶é‡‡å–æªæ–½ã€‚</li><li data-pid="LvtUE2Cw">ä¿æŒå¼€æ”¾çš„æ²Ÿé€š: é¡¹ç›®ç»ç†åº”è¯¥ä¿æŒå¼€æ”¾çš„æ²Ÿé€šï¼Œè®©é¡¹ç›®å›¢é˜Ÿå’Œå…¶ä»–ç›¸å…³äººå‘˜éƒ½èƒ½å‚ä¸åˆ°é¡¹ç›®ä¸­æ¥ã€‚</li><li data-pid="qAqPxRUk">å¿«é€Ÿååº”: é¡¹ç›®ç»ç†åº”è¯¥èƒ½å¤Ÿå¿«é€Ÿååº”å¹¶é‡‡å–è¡ŒåŠ¨ï¼Œä»¥åº”å¯¹å˜åŒ–ã€‚</li></ol><p data-pid="8nVphAP8">é€šè¿‡è¿™äº›æ­¥éª¤ï¼Œé¡¹ç›®ç»ç†å¯ä»¥å¸®åŠ©é¡¹ç›®å›¢é˜Ÿæ›´å¥½åœ°é€‚åº”å˜åŒ–ï¼Œå¹¶ä½¿é¡¹ç›®èƒ½å¤Ÿé¡ºåˆ©å®Œæˆã€‚</p><p data-pid="GCyiPpzy">å¦å¤–ï¼Œé¡¹ç›®ç»ç†ä¹Ÿåº”è¯¥åŸ¹å…»å›¢é˜Ÿæˆå‘˜çš„çµæ´»æ€§å’Œé€‚åº”æ€§ã€‚è¿™å¯ä»¥é€šè¿‡åœ¨é¡¹ç›®ä¸­æä¾›åŸ¹è®­å’Œæ”¯æŒï¼Œä»¥å¸®åŠ©å›¢é˜Ÿæˆå‘˜å­¦ä¼šåº”å¯¹å˜åŒ–ï¼Œå¹¶åœ¨å˜åŒ–ä¸­æ‰¾åˆ°æœºä¼šã€‚</p><p data-pid="aMw96sDx">æ€»è€Œè¨€ä¹‹ï¼Œæ‹¥æŠ±å˜åŒ–æ˜¯é¡¹ç›®ç®¡ç†ä¸­éå¸¸é‡è¦çš„ä¸€ç‚¹ï¼Œé¡¹ç›®ç»ç†éœ€è¦é‡‡å–æœ‰æ•ˆçš„æ­¥éª¤æ¥åº”å¯¹å˜åŒ–ï¼Œå¸®åŠ©é¡¹ç›®é¡ºåˆ©å®Œæˆã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>å˜æ›´çš„ç±»å‹</b></h3><p data-pid="_LIGbQMo">å¸¸è§çš„å˜æ›´ç±»å‹åŒ…æ‹¬ï¼š</p><ol><li data-pid="lCL2ZWtC">èŒƒå›´å˜æ›´ï¼šå¯¹é¡¹ç›®èŒƒå›´çš„ä¿®æ”¹ï¼ŒåŒ…æ‹¬å¢åŠ æˆ–åˆ é™¤é¡¹ç›®ä»»åŠ¡ã€‚</li><li data-pid="sWA2PGEg">æ—¶é—´å˜æ›´ï¼šå¯¹é¡¹ç›®æ—¶é—´è¡¨çš„ä¿®æ”¹ï¼ŒåŒ…æ‹¬é¡¹ç›®å¼€å§‹å’Œç»“æŸæ—¶é—´çš„è°ƒæ•´ã€‚</li><li data-pid="TJ6UM6UA">æˆæœ¬å˜æ›´ï¼šå¯¹é¡¹ç›®é¢„ç®—çš„ä¿®æ”¹ï¼ŒåŒ…æ‹¬å¢åŠ æˆ–å‡å°‘é¡¹ç›®æˆæœ¬ã€‚</li><li data-pid="p6QzQ5A4">è´¨é‡å˜æ›´ï¼šå¯¹é¡¹ç›®è´¨é‡æ ‡å‡†çš„ä¿®æ”¹ã€‚</li><li data-pid="kpgINXhI">äººå‘˜å˜æ›´ï¼šå¯¹é¡¹ç›®å›¢é˜Ÿæˆå‘˜çš„ä¿®æ”¹ï¼ŒåŒ…æ‹¬å¢åŠ æˆ–åˆ é™¤å›¢é˜Ÿæˆå‘˜ã€‚</li><li data-pid="dHSqe6L7">æ²Ÿé€šå˜æ›´ï¼šå¯¹é¡¹ç›®æ²Ÿé€šè®¡åˆ’çš„ä¿®æ”¹ã€‚</li></ol><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-2a9a48d53c310d5b12fee5493608218d_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>æ¥æ”¶æˆ–è€…æ‹’ç»å˜æ›´æ–¹æ³•</b></h3><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-701565a3dc79aa978b0c16a13bca26cd_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>æ•´ä½“å˜æ›´æ§åˆ¶</b></h3><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-914cf187f0d76f9c5156dbe35e4006e4_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>å¦‚ä½•æ‹¥æŠ±å˜æ›´</b></h3><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-63014321b010a428580d5b8f8bc2c14d_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>é¢„é˜²</b></h3><p data-pid="RxPOcAn1"><b>é¢„é˜²å˜æ›´çš„æªæ–½åŒ…æ‹¬:</b></p><ol><li data-pid="YFM71mb8">å»ºç«‹ä¸€ä¸ªå¼¹æ€§çš„è®¡åˆ’: é¡¹ç›®ç»ç†åº”è¯¥å»ºç«‹ä¸€ä¸ªå¼¹æ€§çš„è®¡åˆ’ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå›ºå®šä¸å˜çš„è®¡åˆ’ï¼Œè¿™æ ·å¯ä»¥åº”å¯¹å˜åŒ–ã€‚</li><li data-pid="Wb3RjfID">å»ºç«‹ä¸€ä¸ªé£é™©ç®¡ç†è®¡åˆ’: é¡¹ç›®ç»ç†åº”è¯¥è¯„ä¼°é¡¹ç›®ä¸­å¯èƒ½å‡ºç°çš„é£é™©ï¼Œå¹¶å»ºç«‹ä¸€ä¸ªæœ‰æ•ˆçš„é£é™©ç®¡ç†è®¡åˆ’ã€‚</li><li data-pid="OL9M7I3C">ç»å¸¸ç›‘æ§é¡¹ç›®è¿›å±•: é¡¹ç›®ç»ç†åº”è¯¥ç»å¸¸ç›‘æ§é¡¹ç›®è¿›å±•ï¼ŒåŠæ—¶å‘ç°é—®é¢˜å¹¶é‡‡å–æªæ–½ã€‚</li></ol><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-9c507c7a69c3354aaed4cf51c1f1c98e_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>åº”å¯¹</b></h3><p data-pid="efuMqp5p"><b>åº”å¯¹å˜æ›´çš„æªæ–½åŒ…æ‹¬:</b></p><ol><li data-pid="W1SvcYqb">å˜æ›´æ§åˆ¶ç¨‹åº: é¡¹ç›®ç»ç†åº”è¯¥å»ºç«‹ä¸€ä¸ªå˜æ›´æ§åˆ¶ç¨‹åºï¼Œä»¥ç¡®ä¿å˜æ›´å¾—åˆ°æ­£ç¡®çš„å®¡æ‰¹å’Œç®¡ç†ã€‚</li><li data-pid="jtTuYK6r">è°ƒæ•´è®¡åˆ’: é¡¹ç›®ç»ç†åº”è¯¥èƒ½å¤Ÿè°ƒæ•´è®¡åˆ’ï¼Œä»¥é€‚åº”å˜æ›´ã€‚</li><li data-pid="cDxXS8ix">åè°ƒå›¢é˜Ÿ: é¡¹ç›®ç»ç†åº”è¯¥åè°ƒå›¢é˜Ÿï¼Œä»¥ç¡®ä¿å˜æ›´å¾—åˆ°æ­£ç¡®çš„å®æ–½ã€‚</li><li data-pid="vXZUKJ_J">æ²Ÿé€š: é¡¹ç›®ç»ç†åº”è¯¥æ²Ÿé€šå˜æ›´çš„å½±å“ï¼Œç¡®ä¿æ‰€æœ‰ç›¸å…³æ–¹éƒ½èƒ½ç†è§£å¹¶æ”¯æŒå˜æ›´ã€‚</li></ol><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-950ed309a68c693a96da965a3dfd7874_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>å››ç§å˜æ›´å·¥å…·</b></h3><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-4671468f4912a2018880b770b5f622e6_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h2><b>ç›‘æ§ï¼šå¦‚ä½•è¯†åˆ«å’Œåº”å¯¹é£é™©</b></h2><p data-pid="scw3TNz4">  <b>é£é™©æ˜¯å¯æµ‹å®šçš„ä¸ç¡®å®šæ€§ã€‚</b></p><p data-pid="dJWRM0CQ"><b>æˆ‘ä»¬åœ¨ä¸Šé¢çœ‹åˆ°ï¼Œç›‘æ§æ˜¯è´¯ç©¿äºæ•´ä¸ªé¡¹ç›®çš„ç”Ÿå‘½å‘¨æœŸçš„ã€‚</b></p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-50d95b0897aa8f8aa5ce3566ba5d5205_r.jpg" data-caption="" data-size="normal" width="1999" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>é£é™©ç®¡ç†æ–¹æ³•</b></h3><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-27b1e731ba98efa5f7b4d1c91c5cc378_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>é£é™©ç®¡ç†æ–¹æ³•ï¼šæ ¸å¿ƒ</b></h3><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-cf39a79af958c3cf7d7ecf200b435bef_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-238596b2f188ee647aa0da4b1be3611a_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>é£é™©ç®¡ç†å®è·µ</b></h3><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-0882d9903cddb68f554db562dc227f5c_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-e0615d9eb69d75621c90a0fce97d93c1_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-91f33ace0cf8208d9acf49db6b2d2e7d_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>ç›‘æ§</b></h3><p data-pid="ITKfDQv5">é£é™©ç›‘æ§å’Œé¢„è­¦æ˜¯é¡¹ç›®ç®¡ç†ä¸­çš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚é£é™©ç›‘æ§æ˜¯é€šè¿‡å®šæœŸç›‘æµ‹å’Œè¯„ä¼°é¡¹ç›®çš„è¿›å±•æ¥è¯†åˆ«æ–°çš„é£é™©æˆ–æ›´æ–°å·²çŸ¥é£é™©çš„è¿‡ç¨‹ã€‚é£é™©é¢„è­¦åˆ™æ˜¯åœ¨å‘ç°æ–°çš„é£é™©æˆ–æ›´æ–°å·²çŸ¥é£é™©ä¹‹åï¼Œå‘ç›¸å…³äººå‘˜å‘å‡ºè­¦å‘Šä»¥ä¾¿é‡‡å–çº æ­£æªæ–½ã€‚</p><p data-pid="kiID3IjZ">é€šå¸¸ï¼Œé£é™©ç›‘æ§å’Œé¢„è­¦çš„å·¥å…·åŒ…æ‹¬ï¼š</p><ul><li data-pid="_lfogWTn">é£é™©æ—¥æŠ¥ï¼šæ¯å¤©æˆ–æ¯å‘¨æäº¤çš„æ–‡ä»¶ï¼Œå…¶ä¸­è®°å½•äº†æ–°çš„é£é™©å’Œå·²çŸ¥é£é™©çš„æ›´æ–°</li><li data-pid="r9zs-N7b">é£é™©çŸ©é˜µï¼šè¡¨æ ¼ï¼Œç”¨äºè·Ÿè¸ªé£é™©çš„æ¦‚ç‡å’Œå½±å“</li><li data-pid="oySisF7D">é£é™©è·Ÿè¸ªè½¯ä»¶ï¼šç”¨äºè‡ªåŠ¨è·Ÿè¸ªå’ŒæŠ¥å‘Šé£é™©çš„è½¯ä»¶</li></ul><p data-pid="FVHhFW4l">é‡è¦çš„æ˜¯ï¼Œé£é™©ç›‘æ§å’Œé¢„è­¦åº”è¯¥æ˜¯ä¸€ä¸ªè¿ç»­çš„è¿‡ç¨‹ï¼Œä»¥ç¡®ä¿é¡¹ç›®ç®¡ç†å›¢é˜Ÿèƒ½å¤ŸåŠæ—¶é‡‡å–è¡ŒåŠ¨æ¥ç®¡ç†é£é™©ã€‚</p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-7417e5988d25955d6b5cda2f66cc3046_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>å®æ–½å’Œæ²Ÿé€š</b></h3><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-84fb881399bf97b76598077ec6565120_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h2><b>GitHub Project</b></h2><ul><li data-pid="OaB1pFBu"><a href="https://github.com/orgs/c-ub/projects/2" target="_blank">cub projects</a></li></ul><h3><b>Project æ¦‚è¿°</b></h3><p data-pid="6R4O8E8U">GitHubä½œä¸ºæˆ‘æœ€å¸¸ç”¨çš„ç½‘ç«™ï¼Œå…¶åŠŸèƒ½ä¹Ÿæ˜¯æ— ç©·æ— å°½çš„ã€‚</p><p data-pid="ZyIsYSWb">Projects æ˜¯ä¸€ä¸ªé€‚åº”æ€§å¼ºçš„çµæ´»å·¥å…·ï¼Œç”¨äºè®¡åˆ’å’Œè·Ÿè¸ª GitHub ä¸Šçš„å·¥ä½œã€‚</p><p data-pid="bjSAqVmj">Github ä¸­ä¼ ç»Ÿçš„é¡¹ç›®ç®¡ç†æ˜¯ä½¿ç”¨ issue å’Œ pull request è¿›è¡Œçš„ï¼Œè¿™éƒ¨åˆ†å†…å®¹ä¸æ˜¯æœ¬æ–‡é‡ç‚¹ï¼Œä¸å†èµ˜è¿°ã€‚ ä½†æœ‰ä¸€äº›åŠŸèƒ½éœ€è¦æåŠï¼š</p><ol><li data-pid="ta0fi4Go">Tagï¼š æ¯ä¸ª issue å¯ä»¥æ·»åŠ ä¸åŒçš„ tagï¼Œå¯ä»¥ç”¨äºæ ‡è®° issue çš„ç§ç±»å’Œ issue çš„å¤„ç†è¿›åº¦ï¼›</li><li data-pid="umxGmD-O">MileStoneï¼šæ¯ä¸ª issue åªå±äºä¸€ä¸ª milestoneï¼Œç”¨äºæ˜¾ç¤º issue çš„å¤„ç†è¿›åº¦ã€‚</li></ol><p data-pid="0dlI3J28">Project æä¾›äº†çœŸæ­£çš„ç®¡ç† issue çš„èƒ½åŠ›ï¼›è€Œä¼ ç»Ÿçš„ tag æ–¹å¼åªèƒ½ä»¥æ‰‹å·¥çš„æ–¹å¼ç®¡ç†åˆ†ç±»ï¼ˆå¦‚ Q&amp;Aï¼Œbugï¼Œduplicateï¼Œfeature è¿™äº›æ ‡ç­¾ï¼‰ï¼Œæˆ–è€…ä»¥æ‰‹å·¥çš„æ–¹å¼ç®¡ç† issue è¿›åº¦ï¼ˆneed test, in progress, wait approval ç­‰è¿™äº›æ ‡ç­¾ï¼‰ã€‚</p><p class="ztext-empty-paragraph"><br></p><p data-pid="g0No-m7s"><b>ä½ å¯ä»¥é€‰æ‹©é«˜å¯†åº¦è¡¨å¸ƒå±€ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨çœ‹æ¿åŠŸèƒ½ã€‚</b></p><p data-pid="iiZ2oiM_">æ‚¨å¯ä»¥å°†æ‚¨çš„é¡¹ç›®è§†ä¸ºé«˜å¯†åº¦è¡¨å¸ƒå±€ï¼š</p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-e0ecc55e0039be3bdebbe0e49e6e39b6_r.jpg" data-caption="" data-size="normal" width="2404" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p data-pid="miptZrHx">æˆ–ä½œä¸ºçœ‹æ¿ï¼š</p><p class="ztext-empty-paragraph"><br></p> <p class="ztext-empty-paragraph"><br></p><p data-pid="gWgPotJI">ä¸ºäº†å¸®åŠ©æ‚¨ä¸“æ³¨äºé¡¹ç›®çš„ç‰¹å®šæ–¹é¢ï¼Œæ‚¨å¯ä»¥å¯¹é¡¹ç›®è¿›è¡Œåˆ†ç»„ã€æ’åºæˆ–ç­›é€‰ï¼š</p><p class="ztext-empty-paragraph"><br></p> <p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>çœ‹æ¿</b></h3><p data-pid="pnP6njWs">çœ‹æ¿ç®¡ç†ï¼Œèµ·æºäºä¸°ç”°çš„ç”Ÿäº§æ¨¡å¼ä¸­ï¼ŒæŒ‡ä¸ºäº†è¾¾åˆ°åŠæ—¶ç”Ÿäº§ï¼ˆJITï¼‰æ–¹å¼æ§åˆ¶ç°åœºç”Ÿäº§æµç¨‹çš„å·¥å…·ã€‚åŠæ—¶ç”Ÿäº§æ–¹å¼ä¸­çš„æ‹‰å¼ï¼ˆPullï¼‰ç”Ÿäº§ç³»ç»Ÿå¯ä»¥ä½¿ä¿¡æ¯çš„æµç¨‹ç¼©çŸ­ï¼Œå¹¶é…åˆå®šé‡ã€å›ºå®šè£…è´§å®¹å™¨ç­‰æ–¹å¼ï¼Œè€Œä½¿ç”Ÿäº§è¿‡ç¨‹ä¸­çš„ç‰©æ–™æµåŠ¨é¡ºç•…ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>KanbanFlow &amp; Trello</b></h3><p data-pid="xLjM9zb5">å¯ä»¥çœ‹å‡ºï¼Œæ‰€è°“çœ‹æ¿ï¼Œå°±æ˜¯æŠŠä¸€å—æœ¨æ¿ä¸Šåˆ†æˆå‡ åˆ—ï¼Œç„¶ååœ¨æ¯ä¸€åˆ—ä¸Šè´´ä¸Šä¸åŒå†…å®¹çš„å¡ç‰‡ã€‚ æœ¨æ¿ä¸Šçš„è¿™å‡ åˆ—ä¸€èˆ¬æ˜¯æœ‰é¡ºåºçš„ï¼Œå¡ç‰‡å¯ä»¥åœ¨ä¸åŒçš„åˆ—ä¹‹é—´ç§»åŠ¨æ¥è¡¨æ˜æ‰€å¤„çš„çŠ¶æ€ã€‚</p><p data-pid="R2nwSpDn">ä»¥ä¸Šçš„ä¸¤ä¸ªä¾‹å­ï¼Œçœ‹æ¿å¹¶ä¸æ˜¯é’ˆå¯¹è½¯ä»¶å·¥ç¨‹çš„ï¼Œä»–ä»¬çš„å¸‚åœºä¹Ÿæ˜¯ä¸€èˆ¬çš„ä¼ä¸šï¼ˆæ¯”å¦‚ä¸°ç”°è¿™æ ·çš„ï¼‰ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>Zenhub &amp; Github Projects</b></h3><p data-pid="HKWMlZsF">ä¸‹é¢çš„ä¸¤ä¸ªä¾‹å­åˆ™æ˜¯é’ˆå¯¹è½¯ä»¶å¼€å‘åšäº†ä¼˜åŒ–ï¼Œå‡†ç¡®çš„è¯´ï¼Œå®ƒä»¬éƒ½æ˜¯å¯¹ Github åšäº†é€‚é…ã€‚</p><ol><li data-pid="0fTEINuL"><a href="https://chrome.google.com/webstore/search/Zenhub?hl=zh-CN" target="_blank">Zenhub</a> æ˜¯ä¸ªæµè§ˆå™¨æ’ä»¶ï¼Œå°±æ˜¯æŠŠ Github çš„ issues å½“ä½œå¡ç‰‡ï¼Œä»¥ Kanban çš„å½¢å¼å±•ç° issueï¼Œä¹Ÿæä¾›äº†ä¸€ä¸ªæ¯”è¾ƒé¸¡è‚‹çš„ Epic çš„åŠŸèƒ½ï¼ŒåŒæ—¶é’ˆå¯¹ä¸ªäººä¹Ÿæœ‰ TODO é¡¹ç®¡ç†ã€‚</li><li data-pid="bl76Paf6">è€Œ Github æœ€è¿‘æ¨å‡ºçš„ Project ä¸ä»…å¯ä»¥ä½¿ç”¨ issues ä½œä¸ºå¡ç‰‡ï¼Œè¿˜å¯ä»¥ä½¿ç”¨Noteï¼ˆå·¦ä¾§çš„ä¸‰ä¸ªï¼‰ï¼Œè¿™æ ·æˆ‘ä»¬å°±æ²¡æœ‰å¿…è¦ä¸ºäº†åœ¨çœ‹æ¿ä¸Šè®°å½•å¯èƒ½çš„éœ€æ±‚è€Œåˆ›å»ºä¸€ä¸ªæ–°çš„ issues æˆ–è€…æŠŠé—®é¢˜è®°å½•åœ¨ä¸ªäººçš„ TODO åˆ—è¡¨ä¸Šäº†ã€‚</li></ol><p class="ztext-empty-paragraph"><br></p><h3><b>Github Projects</b></h3><p data-pid="FQtY4Dg0"><b>ä¸ºä»€ä¹ˆæ˜¯ Projectsï¼Ÿ</b> ä¸€ä¸ªä»“åº“å¯ä»¥åŒ…å«å¤šä¸ªé¡¹ç›®ï¼›æœ€åˆï¼Œè¿™ä¸ªè®¾å®šè®©æˆ‘ç–‘æƒ‘ï¼Œç›´åˆ°ä½¿ç”¨ä¹‹åæ‰æ˜ç™½ï¼Œ ä¸€ä¸ªä»£ç ä»“åº“é€šå¸¸æœ‰å¾ˆå¤šäº‹æƒ…è¦åšï¼Œæ¯”å¦‚ï¼š</p><h3><b>æ‹Ÿå®šçº¿è·¯å›¾</b></h3><ol><li data-pid="qWi3w4hN">å¢åŠ ä¸€ä¸ªæ–°åŠŸèƒ½</li><li data-pid="BTyFdFIa">å‘å¸ƒä¸€ä¸ªæ–°ç‰ˆæœ¬</li></ol><p data-pid="4uicKM_I">å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºä»¥ä¸Šæ¯ä¸€ä»¶äº‹åˆ›å»ºä¸€ä¸ª Projectï¼Œç”±äº Github ä¸­å¹¶æ²¡æœ‰ç±»ä¼¼ Epic çš„æœºåˆ¶ï¼Œå› æ­¤ä½¿ç”¨ä¸åŒçš„ Project åˆ™å¾ˆæœ‰ç”¨äº†ã€‚</p><p data-pid="lTgQbjms">å¯ä»¥çœ‹åˆ°ï¼Œæœ‰äº† Project çš„ Kanban ä¹‹åï¼ŒåŸæ¥ tag çš„éƒ¨åˆ†åŠŸèƒ½ï¼ˆå¦‚æ ‡è®°å¤„ç†è¿›åº¦ç­‰ï¼‰å¯ä»¥è¢«çœ‹æ¿æ›¿ä»£ã€‚ Github Project æä¾›çš„ Note å¯ä»¥åœ¨éœ€è¦çš„æ—¶å€™å•é¡¹è½¬æ¢ä¸º issueï¼š</p><p data-pid="Edc29X_n">åŒæ—¶ï¼ŒKanban ä¸ä»…å¯ä»¥åŒ…å« issue å’Œ noteï¼Œè¿˜å¯ä»¥åŒ…å« pull requestã€‚</p><p data-pid="XX3HVLvF">Github ç»ˆäºæœ‰äº†æ¯”è¾ƒé è°±çš„é¡¹ç›®ç®¡ç†å·¥å…·ï¼Œå¼€æºé¡¹ç›®çš„åˆæœ‰äº†æ›´å¥½çš„å·¥å…·ã€‚ æ’’èŠ±o(â–½)o</p><p data-pid="HotnhU61">ç¥æ„¿æˆ‘è‡ªå·±æ—©æ—¥å®Œæˆæˆ‘çš„ç¬¬ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼ˆIMAP Serverï¼‰ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>å®ä¾‹è®²è§£</b></h3><p data-pid="Nd9WwVwL">GitHubæ˜¯ç›®å‰ä¸–ç•Œä¸Šæœ€å¤§çš„å¼€æºä¸­å¿ƒä¹‹ä¸€ï¼Œä¹Ÿæœ‰å¾ˆå¤šäººåœ¨ä¸Šé¢ç®¡ç†è‡ªå·±å¼€æ”¾å‡ºæ¥çš„ç¨‹åºä»£ç ã€‚å†…å»ºçš„IssueåŠŸèƒ½ä¹Ÿéå¸¸æ–¹ä¾¿ï¼Œå¯ä»¥åœ¨ä¸Šé¢æå‡ºéœ€è¦æ”¹è¿›/åŠ å¼ºçš„åœ°æ–¹ã€‚ä½†å¯¹äºé¡¹ç›®å¼€å‘çš„äººæ¥è¯´ï¼Œç®¡ç†ä¸Šå°±æ¯”è¾ƒä¸æ–¹ä¾¿ä¸€ç‚¹ï¼Œå°¤å…¶æ˜¯åœ¨è¶Šæ¥è¶Šæµè¡Œä½¿ç”¨å¹¿å‘Šç‰Œæ–¹æ³•ç®¡ç†çš„æ—¶ä»£ï¼Œæ¡åˆ—å¼çš„Issueså°±ä¼šæ˜¾å¾—æ¯”è¾ƒæ‚ä¹±éš¾ä»¥ç®¡ç†ã€‚ä¹Ÿæœ‰è®¸å¤šç¬¬ä¸‰æ–¹çš„å…¬å¸æ¨å‡ºä¸GitHubæ•´åˆçš„å¹¿å‘Šç‰ŒåŠŸèƒ½ï¼Œä½†ç®¡ç†ä¸Šæ€»æ˜¯ä¼šç¨å¾®æœ‰ç‚¹ä¸æ–¹ä¾¿ï¼Œå› æ­¤GitHubä¹Ÿå†³å®šæ¨å‡ºäº†å†…å»ºçš„å¹¿å‘Šç‰ŒåŠŸèƒ½â”€Projectsï¼è®©ä½ å¯ä»¥è½»æ¾çš„æ•´åˆç›®å‰çš„Issues/Pull Requestsåˆ°å¹¿å‘Šç‰Œä¸Šï¼Œè™½ç„¶å¹¿å‘Šç‰Œæ•´ä½“åŠŸèƒ½æ¯”è¾ƒé˜³æ˜¥ï¼Œä½†åŸºæœ¬çš„åŠŸèƒ½ä¹Ÿéƒ½æœ‰äº†ï¼Œæ“ä½œæ–¹å¼ä¹Ÿä¸ç›®å‰æµè¡Œçš„å¹¿å‘Šç‰Œè½¯ä»¶åŠŸèƒ½éƒ½ç±»ä¼¼ï¼Œä¸”å¯¹äºGitHubç›´æ¥æ•´åˆï¼Œå®åœ¨æ˜¯æ–¹ä¾¿è®¸å¤šå•Šï¼æ¥ä¸‹æ¥å°±ç”¨æˆ‘ç›®å‰è‡ªå·±åœ¨åšçš„ä¸€ä¸ªå°é¡¹ç›®8ComicDownloaderElectronæ¥ä»‹ç»ä¸€ä¸‹GitHubä¸Šçš„å¹¿å‘Šç‰ŒåŠŸèƒ½å§ï¼</p><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h2><b>æ”¶å°¾ï¼šé«˜æ•ˆå¤ç›˜</b></h2><p data-pid="i8_hZU04"><b>é¡¹ç›®å¤ç›˜æ˜¯åœ¨é¡¹ç›®ç»“æŸåè¿›è¡Œçš„ä¸€ç§è¯„ä¼°è¿‡ç¨‹ï¼Œç›®çš„æ˜¯æ€»ç»“é¡¹ç›®çš„æˆæœå’Œæ•™è®­ï¼Œå¹¶ä¸ºæœªæ¥é¡¹ç›®åšå‡ºæ”¹è¿›ã€‚</b></p><p data-pid="7kUT36NI"><b>é¡¹ç›®å¤ç›˜çš„æ­¥éª¤åŒ…æ‹¬ï¼š</b></p><ol><li data-pid="rrPOWBOG">ç»„ç»‡é¡¹ç›®å¤ç›˜ä¼šè®®ï¼šå°†é¡¹ç›®å›¢é˜Ÿæˆå‘˜ã€ç›¸å…³éƒ¨é—¨ç»ç†ã€é¡¹ç›®å§”å‘˜ä¼šæˆå‘˜ç­‰é‚€è¯·å‚åŠ ä¼šè®®ã€‚</li><li data-pid="o9YFfsqC">æ•´ç†é¡¹ç›®æ•°æ®ï¼šæ”¶é›†é¡¹ç›®çš„æ–‡ä»¶ï¼Œæ•°æ®å’Œè®°å½•ã€‚</li><li data-pid="dYHa_eM0">æ€»ç»“é¡¹ç›®æˆæœï¼šè¯„ä¼°é¡¹ç›®çš„æˆæœï¼ŒåŒ…æ‹¬é¡¹ç›®çš„ç›®æ ‡æ˜¯å¦è¾¾æˆï¼Œé¡¹ç›®çš„è´¨é‡ã€æˆæœ¬å’Œæ—¶é—´æ˜¯å¦ç¬¦åˆé¢„æœŸã€‚</li><li data-pid="rnhFOCKF">æ€»ç»“é¡¹ç›®æ•™è®­ï¼šè¯„ä¼°é¡¹ç›®çš„æ•™è®­ï¼ŒåŒ…æ‹¬é¡¹ç›®ä¸­å‘ç”Ÿçš„é—®é¢˜ï¼Œä»¥åŠå¦‚ä½•è§£å†³è¿™äº›é—®é¢˜ã€‚</li><li data-pid="lGKShJLm">åˆ¶å®šæ”¹è¿›è®¡åˆ’ï¼šæ ¹æ®é¡¹ç›®å¤ç›˜çš„ç»“æœï¼Œåˆ¶å®šæ”¹è¿›è®¡åˆ’ï¼Œä»¥æé«˜æœªæ¥é¡¹ç›®çš„æˆåŠŸç‡ã€‚</li></ol><p data-pid="1-BYsNbV">é¡¹ç›®å¤ç›˜æ˜¯é¡¹ç›®ç®¡ç†çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œå®ƒèƒ½å¸®åŠ©é¡¹ç›®ç®¡ç†å›¢é˜Ÿå’Œç»„ç»‡æ”¹è¿›é¡¹ç›®ç®¡ç†æµç¨‹ï¼Œæé«˜æœªæ¥é¡¹ç›®çš„æˆåŠŸç‡ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>å¤ç›˜åŸºç¡€æ¦‚å¿µä»‹ç»</b></h3><p data-pid="qGRFufEg">å°é¡¹ç›®å’Œå¤§é¡¹ç›®çš„å¤ç›˜è¿‡ç¨‹åŸºæœ¬ç›¸ä¼¼ï¼Œä½†æ˜¯åœ¨å®æ–½ä¸Šå¯èƒ½ä¼šæœ‰ä¸€äº›å·®å¼‚ã€‚</p><ul><li data-pid="vbp48Ppk">å°é¡¹ç›®çš„å¤ç›˜å¯èƒ½æ›´ä¸ºç®€å•å’Œçµæ´»ï¼Œå¯ä»¥åœ¨é¡¹ç›®ç»“æŸåè¿›è¡Œç®€å•çš„æ€»ç»“å’Œè¯„ä¼°ï¼Œå¹¶åœ¨çŸ­æ—¶é—´å†…å®Œæˆå¤ç›˜è¿‡ç¨‹ã€‚å‚ä¸è€…ä¹Ÿä¸éœ€è¦å¤ªå¤šï¼Œé¡¹ç›®ç»ç†å’Œé¡¹ç›®æˆå‘˜å°±è¶³å¤Ÿäº†ã€‚</li><li data-pid="h5lEcBkD">è€Œå¤§é¡¹ç›®çš„å¤ç›˜åˆ™æ›´ä¸ºå¤æ‚ï¼Œå¯èƒ½éœ€è¦è¾ƒé•¿æ—¶é—´æ¥å®Œæˆã€‚é¡¹ç›®ç»ç†éœ€è¦æ”¶é›†å¤§é‡çš„æ•°æ®å’Œæ–‡ä»¶ï¼Œå¹¶è¿›è¡Œè¯¦ç»†çš„è¯„ä¼°ã€‚å‚ä¸è€…ä¹Ÿæ›´å¤šï¼Œå¯èƒ½éœ€è¦é¡¹ç›®å›¢é˜Ÿæˆå‘˜ã€ç›¸å…³éƒ¨é—¨ç»ç†ã€é¡¹ç›®å§”å‘˜ä¼šæˆå‘˜ç­‰ã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-77873ae654ac8ab5d7e6d81995b56335_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>å¤ç›˜çš„æ€åº¦</b></h3><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-7178f7438b81153e49d45c8f914c644e_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>å¤ç›˜çš„å››å¤§æ­¥éª¤</b></h3><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-f0e96b870016400fe18a74cc33f9d5da_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p data-pid="uOHBUnij"><b>å¯¹åº”çš„ ç®€å•çš„ä¸€ä¸ªæ¡ˆä¾‹å¦‚ä¸‹ï¼š</b></p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-99502f9d2d05eb2b15dfcb2735f5b75c_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><p data-pid="JxGZJxoo"><b>å¤ç›˜çš„æ­¥éª¤ï¼š</b></p><ol><li data-pid="B59AAUVH">è®¡åˆ’å¤ç›˜ï¼šå®‰æ’å¤ç›˜ä¼šè®®ï¼Œç¡®å®šå‚ä¸è€…ï¼Œå¹¶å‡†å¤‡å¿…è¦çš„æ–‡ä»¶å’Œæ•°æ®ã€‚</li><li data-pid="Io82_9g8">æ”¶é›†ä¿¡æ¯ï¼šæ”¶é›†é¡¹ç›®çš„æ–‡ä»¶ï¼Œæ•°æ®å’Œè®°å½•ï¼ŒåŒ…æ‹¬é¡¹ç›®è®¡åˆ’ã€é¡¹ç›®ç»©æ•ˆæŒ‡æ ‡ã€é¡¹ç›®è¿›åº¦æŠ¥å‘Šç­‰ã€‚</li><li data-pid="sfGxI0n5">åˆ†æä¿¡æ¯ï¼šåˆ†æé¡¹ç›®çš„æ•°æ®å’Œæ–‡ä»¶ï¼Œè¯„ä¼°é¡¹ç›®çš„æˆæœå’Œæ•ˆç›Šã€‚</li><li data-pid="Q3R63tKV">æ€»ç»“é¡¹ç›®ï¼šæ€»ç»“é¡¹ç›®æˆæœå’Œæ•™è®­ï¼Œè¯„ä¼°é¡¹ç›®ä¸­å‘ç”Ÿçš„é—®é¢˜ï¼Œå¹¶åˆ¶å®šæ”¹è¿›è®¡åˆ’ã€‚</li><li data-pid="KZNL1lA4">è®°å½•ç»“æœï¼šå°†å¤ç›˜çš„ç»“æœè®°å½•ä¸‹æ¥ï¼ŒåŒ…æ‹¬é¡¹ç›®æˆæœã€æ•™è®­å’Œæ”¹è¿›è®¡åˆ’ï¼Œå¹¶ä¸ç›¸å…³äººå‘˜å…±äº«ã€‚</li><li data-pid="gMwqLuFt">å®æ–½æ”¹è¿›è®¡åˆ’ï¼šæŒ‰ç…§æ”¹è¿›è®¡åˆ’é‡‡å–è¡ŒåŠ¨, ä»¥æé«˜æœªæ¥é¡¹ç›®çš„æˆåŠŸç‡ã€‚</li></ol><p data-pid="PJn3aYuF">å¤ç›˜æ˜¯ä¸€ä¸ªè¿ç»­çš„è¿‡ç¨‹ï¼Œä¸æ–­åœ°æ€»ç»“é¡¹ç›®çš„è¿›å±•ï¼Œå¹¶åˆ¶å®šæ”¹è¿›è®¡åˆ’ï¼Œä»¥æé«˜é¡¹ç›®çš„æ•ˆç‡å’ŒæˆåŠŸç‡ã€‚</p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-6bdcdf755f7ad30e208857c01d05cfce_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-b7b60def7c9b7b97cd3b1793f9fc6352_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>å¤ç›˜æ¡ˆä¾‹åˆ†æ</b></h3><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-9467e2bd8b1a790d978eb7d2f75f8d1f_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h2><b>å®ç”¨é¡¹ç›®ç®¡ç†å·¥å…·æ¨è</b></h2><ul><li data-pid="uaTKY-9o"><a href="https://gu4gn46jrh.feishu.cn/sheets/shtcnnX8510cz9D2UWaZjaWQibh" target="_blank">Onepageæ¨¡æ¿é“¾æ¥</a></li></ul><blockquote data-pid="p4Dnov0q"><b>ç›®å½•ï¼š</b></blockquote><table data-draft-node="block" data-draft-type="table" data-size="normal" data-row-style="normal"><tbody><tr><th>æ–‡æ¡£åç§°</th><th>æ–‡æ¡£é“¾æ¥</th></tr><tr><td>é¡¹ç›®åŸºç¡€ä¿¡æ¯è¡¨</td><td>é¡¹ç›®åŸºç¡€ä¿¡æ¯è¡¨</td></tr><tr><td>æ ¸å¿ƒæˆå‘˜è¡¨</td><td>æ ¸å¿ƒæˆå‘˜è¡¨</td></tr><tr><td>é‡Œç¨‹ç¢‘å›¾è¡¨</td><td>é‡Œç¨‹ç¢‘å›¾è¡¨</td></tr><tr><td>ç‰ˆæœ¬èŠ‚å¥è¡¨</td><td>ç‰ˆæœ¬èŠ‚å¥è¡¨</td></tr><tr><td>é¡¹ç›®æ²Ÿé€šè®¡åˆ’è¡¨</td><td>é¡¹ç›®æ²Ÿé€šè®¡åˆ’è¡¨</td></tr><tr><td>tracker-ç”˜ç‰¹å›¾</td><td>tracker-ç”˜ç‰¹å›¾</td></tr><tr><td>é£é™©ç™»è®°å†Œ</td><td>é£é™©ç™»è®°å†Œ</td></tr><tr><td>é—®é¢˜ç™»è®°å†Œ</td><td>é—®é¢˜ç™»è®°å†Œ</td></tr><tr><td>ä¼šè®®çºªè¦è¡¨</td><td>ä¼šè®®çºªè¦è¡¨</td></tr><tr><td>é¡¹ç›®é˜¶æ®µæ€§æ±‡æŠ¥</td><td>é¡¹ç›®é˜¶æ®µæ€§æ±‡æŠ¥I é¡¹ç›®é˜¶æ®µæ€§æ±‡æŠ¥II</td></tr><tr><td>é¡¹ç›®é›†é˜¶æ®µæ€§æ±‡æŠ¥</td><td>é¡¹ç›®é›†é˜¶æ®µæ€§æ±‡æŠ¥</td></tr><tr><td>å¤ç›˜æ¨¡æ¿</td><td>å¤ç›˜æ¨¡æ¿</td></tr></tbody></table><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>Onepageæ¨¡æ¿â€”é¡¹ç›®åŸºç¡€ä¿¡æ¯è¡¨</b></h3><p data-pid="nz2dly-U"><b>ä½¿ç”¨åœºæ™¯ï¼šé¡¹ç›®å¯åŠ¨è§„åˆ’é˜¶æ®µ | é¡¹ç›®èƒŒæ™¯ã€ç›®æ ‡ã€é¢„è®¡æ”¶ç›ŠæŒ‡å®š</b></p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-b6409cdb6ea576c1039ed8e84b37e544_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>Onepageæ¨¡æ¿â€”æ ¸å¿ƒæˆå‘˜è¡¨</b></h3><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-30946128d53b439801c295a34b2569fc_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>Onepageæ¨¡æ¿â€”é‡Œç¨‹ç¢‘å›¾è¡¨</b></h3><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-2c10b041a4db09f021811623729f7940_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-c7655489438c5c43a4200ad50a5a8b74_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>Onepageæ¨¡æ¿â€”é¡¹ç›®æ²Ÿé€šè®¡åˆ’è¡¨</b></h3><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-46a6b49b1317f510f8ed01cbca0d6acd_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>Tracker æ¨¡æ¿â€”WBS/ç”˜ç‰¹å›¾</b></h3><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-b898320ac99ffd7e0e9e30428c035d15_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><h3><b>Tracker æ¨¡æ¿â€”ä¼šè®®çºªè¦è¡¨</b></h3><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-b4cb18f295287b959ad7b308a539c893_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>é¡¹ç›®æ±‡æŠ¥è¡¨ â€” é˜¶æ®µæ€§æ±‡æŠ¥ ä¸€</b></h3><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-5ed398babf079cba18c040657e3ee79d_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>é¡¹ç›®æ±‡æŠ¥è¡¨ â€” é˜¶æ®µæ€§æ±‡æŠ¥ äºŒ</b></h3><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-b8b5a0096a7ae48e1da741165431de13_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>é¡¹ç›®é›†é˜¶æ®µæ±‡æŠ¥</b></h3><p class="ztext-empty-paragraph"><br></p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-57cd9d5b21466341db641d430aff7d35_r.jpg" data-caption="" data-size="normal" width="2060" referrerpolicy="no-referrer"></figure><p class="ztext-empty-paragraph"><br></p><p class="ztext-empty-paragraph"><br></p><h3><b>å¤ç›˜æ¨¡æ¿</b></h3><p></p></div> </details> 
 <hr /> 

 #### - [kubernetes æºç è§£æèµ„æº](https://zhuanlan.zhihu.com/p/597276550) 
 <details><summary>ØªÙˆØ¶ÛŒØ­Ø§Øª</summary> <p><img src="https://picx.zhimg.com/v2-ca5410e9b799c1a9f96e2203e7b9950b_720w.jpg?source=d16d100b"></p><div><h2><b>éœ€æ±‚</b></h2><p data-pid="hixpdr8a">tip  æˆ‘ä»¬éœ€è¦å¯¹ kubernetes è¿›ä¸€æ­¥çš„å­¦ä¹ å’Œæ·±é€ ï¼Œçœ‹æºç æ˜¯å¿…é¡»çš„é“è·¯ã€‚</p><p data-pid="WmaZbx1c">ä¸å…¶é‡è¦çš„ï¼Œæ˜¯å¯¹ kubernetes èµ„æºçš„æ”¶é›†ã€‚</p><p data-pid="zMzN7AC-"><i><b>âš ï¸ æ‰€æœ‰èµ„æºå‡æ˜¯é‡‡ç”¨å¤–é“¾è¿æ¥ï¼Œä¹¦æœ¬èµ„æºæˆ–ä¸æ”¾è¿æ¥ï¼Œå…¶ä»–å‡ä¸ºè‡ªå·±æ„Ÿå—å’Œæ€»ç»“ã€‚å¦‚æœ‰ä¾µæƒè¯·è”ç³»åˆ é™¤ã€‚</b></i></p><p class="ztext-empty-paragraph"><br></p><p data-pid="NN5v9Mjk"><b>å…³äºkubernetesï¼š</b></p><ul><li data-pid="IziuorUI"><a href="https://kubernetes.io/" target="_blank">å®˜ç½‘</a></li><li data-pid="SzHr8gpT"><a href="https://github.com/kubernetes/kubernetes" target="_blank">GitHub</a></li><li data-pid="VDtYSrCg"><a href="https://github.com/cubxxw/kubernetes" target="_blank">cubxxw - pr</a></li><li data-pid="eALbBm0a"><a href="https://github.com/kubernauts/Kubernetes-Learning-Resources" target="_blank">ç¤¾åŒºç»´æŠ¤çš„ kubernetes å­¦ä¹ èµ„æºåˆé›†</a></li><li data-pid="tkRBr4ha"><a href="https://blog.opskumu.com/borg.html" target="_blank">Kubernetesæºç å¿…è¯»çš„ Google å¤§è§„æ¨¡é›†ç¾¤ç®¡ç†å™¨ Borg</a></li></ul><p class="ztext-empty-paragraph"><br></p><p data-pid="4oAEYgAl"><b>å…³äº CNCF çš„è´¡çŒ®ï¼Œä½ éœ€è¦ç­¾ç½² CLA </b></p><ul><li data-pid="2hgkXqqx"><a href="https://github.com/kubernetes/community/blob/master/CLA.md" target="_blank">Kubernetes CLA  çš„ç­¾ç½²æµç¨‹</a></li></ul><p class="ztext-empty-paragraph"><br></p><p data-pid="9mt1ryG_">::: warning </p><ul><li data-pid="LlmbhMI2"><a href="https://github.com/kubernetes/community/tree/master/contributors/devel" target="_blank">å®˜æ–¹å¼€å‘è€…å‘å¯¼ markdown æ–‡ä»¶</a></li></ul><p data-pid="3QLP27EJ">:::</p><p class="ztext-empty-paragraph"><br></p><p data-pid="An2l29Ov"><b>è‡ªå·±çš„ä¸€äº›èµ„æºï¼š</b></p><ul><li data-pid="yFLmdRQe"><a href="https://docker.nsddd.top/" target="_blank">äº‘åŸç”Ÿå­¦ä¹ </a></li><li data-pid="Selu6JNE"><a href="https://go.nsddd.top/" target="_blank">golang å­¦ä¹ </a></li></ul><p class="ztext-empty-paragraph"><br></p><h2><b>æœ€å¥½éœ€è¦ä»€ä¹ˆ</b></h2><ol><li data-pid="32c6zzFu">å¦‚æœè¯´ç¬¬ä¸€æ­¥çš„è¯ï¼Œé‚£å¿…é¡»è¦äº†è§£ docker å®¹å™¨åº•å±‚åŸç†å’Œ Linux å†…æ ¸åŸºç¡€ç›¸å…³ã€‚</li><li data-pid="Vx5TyaE1">å…ˆç†è§£ç†è§£å®Œæ¶æ„äº†ï¼Œè¯»èµ·æ¥å°±æ¯”è¾ƒå¿«äº†ã€‚</li><li data-pid="HKnZfjny">å­¦ä¼šä½¿ç”¨å®ƒï¼Œä¸ä¼šä½¿ç”¨ï¼Œæ°¸è¿œæ— æ³•ç†è§£å®ƒçš„è®¾è®¡ç†å¿µã€‚</li><li data-pid="qEm5brtb">è¯»æºç è¿˜å¾—å¸¦ç€é—®é¢˜å»è¯»ï¼Œä¸ç„¶ä¼šå¾ˆæ¯ç‡¥ã€‚ä¸€å®šè¦å¸¦ç€é—®é¢˜å»è¯»ï¼Œä¸ç„¶å°±ä¼šå¾ˆæ¯ç‡¥ï¼Œç„¶åé™·å…¥ç»†èŠ‚ä¸­å»</li><li data-pid="MYRdAf4l">è¯»æºç è¿˜å¾—æœ‰ä¸€å®šç§¯ç´¯é‡ï¼Œæ¯”å¦‚ä½ å·²ç»è¯»è¿‡å¾ˆå¤šåŸºç¡€åŒ…çš„æºç æ¯”å¦‚ net/http grpc-go ç­‰ç­‰</li><li data-pid="GZGvY6nO">è¦å°è¯•ç€è°ƒè¯•ï¼Œè¦å°è¯•ç€ç»ƒä¹ ï¼Œè¦å°è¯•ç€ç†è§£å’Œåˆ†æäº§å“ç†å¿µï¼Œæ›´è¦å­¦ä¼šè‡ªå·±è®¾è®¡ã€‚</li></ol><p class="ztext-empty-paragraph"><br></p><h2><b>åŸºç¡€çŸ¥è¯†</b></h2><p data-pid="VkzycBkh"><b>åŸºç¡€æ¦‚å¿µï¼š</b></p><p data-pid="XFx5e91t">æˆ‘ä»¬éœ€è¦çŸ¥é“ kubernetes çš„åŸºç¡€æ¦‚å¿µï¼Œæˆ‘ä»¬æˆ–è®¸åœ¨å‰é¢æœ‰è®²è§£è¿‡ã€‚</p><p data-pid="Gc1Ea1B0">æ¯”å¦‚ Build-in çš„ API Groups å’Œ API Objects æœ‰ä»€ä¹ˆï¼Œåšä»€ä¹ˆç”¨ï¼›</p><p class="ztext-empty-paragraph"><br></p><p data-pid="Qkm8pLys"><b>æœ‰ä¸€äº›å¾ˆé‡è¦çš„å·¥å…·åº“ï¼š</b> å¦‚ <b>gengo</b> ï¼ŒåŒ…æ‹¬ informer æœºåˆ¶ï¼›</p><ul><li data-pid="nJg4OacW">Cobraï¼šå‘½ä»¤è¡Œé˜¿ï¼Œdockerã€Kubernetesã€sealosã€sealerã€ks éƒ½å…·å¤‡çš„~</li><li data-pid="o1C4sxSp"><a href="https://github.com/emicklei/go-restful" target="_blank">go-restful</a>ï¼šREST è¦æ±‚å¼€å‘äººå‘˜ä»¥ä¸åè®®å®šä¹‰ä¸€è‡´çš„æ–¹å¼æ˜¾å¼ä½¿ç”¨ HTTP æ–¹æ³•ã€‚è¿™ä¸ªåŸºæœ¬çš„ REST è®¾è®¡åŸåˆ™åœ¨åˆ›å»ºã€è¯»å–ã€æ›´æ–°å’Œåˆ é™¤ (CRUD) æ“ä½œå’Œ HTTP æ–¹æ³•ä¹‹é—´å»ºç«‹äº†ä¸€å¯¹ä¸€çš„æ˜ å°„ã€‚</li><li data-pid="v4JwqpbB">etcdï¼šå’Œ fabric ä¸€æ ·é‡‡ç”¨ raft å…±è¯†æœºåˆ¶çš„æ•°æ®åº“ï¼Œåœ¨ k3s ä¸­å¾ˆæ·±çš„è®²è§£å’Œåº”ç”¨ã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><p data-pid="Ik1FOQuf"><b>Restful åŸºç¡€ï¼š</b></p><p data-pid="_bXQ1O5b">ç®€å•äº†è§£ Restful æ¦‚å¿µï¼Œå¦‚æœåšè¿‡ Restful Service é‚£ä¹ˆæœ€å¥½äº†</p><p class="ztext-empty-paragraph"><br></p><h2><b>é˜…è¯»æ–¹æ³•ï¼ˆå…¶ä»–å¼€æºé¡¹ç›®ç±»ä¼¼ï¼‰</b></h2><ul><li data-pid="tCFAPc6e">å…ˆæ•´ä½“ï¼Œåå±€éƒ¨ï¼ˆä¸é’»ç‰›è§’å°–ï¼‰</li><li data-pid="U3v0eSbY">æ·±å…¥å±€éƒ¨ä¸­çš„å­¦ä¹ ä¸­å»</li><li data-pid="iQ8UKwBn">è€å¿ƒï¼Œå¤šçœ‹ä»£ç ~</li></ul><p class="ztext-empty-paragraph"><br></p><h2><b>ä¹¦ç±æ¨è</b></h2><ul><li data-pid="sY7XgWrR">Goè¯­è¨€ç¨‹åºè®¾è®¡è¯­è¨€ ï¼ˆä¹°äº†ï¼Œå»ºè®®æœ‰ä¸€äº›å…¶ä»–è¯­è¨€åŸºç¡€ &amp;&amp; Goè¯­è¨€åŸºç¡€å†çœ‹æœ€å¥½ï¼‰</li><li data-pid="-RA_Z_tO">æ·±å…¥è§£åˆ¨ Kubernetes ï¼ˆè¿™ä¸ªæˆ‘ä¹Ÿä¹°äº†ï¼Œemmmï¼Œç‰¹åˆ«å®Œç¾çš„ä¸€æœ¬ä¹¦ï¼Œä½œè€…æœ‰è‡ªå·±çš„è®²è§£ï¼Œæ˜¯ä¸ªå¤§ä½¬ï¼‰</li><li data-pid="UzU05pFT">kubernetes ç¼–ç¨‹</li><li data-pid="2GPcQtyA">kubernetes æºç åˆ¨æï¼ˆè¿™ä¸ªæˆ‘ä¹°äº†ï¼ï¼ï¼ï¼ï¼ï¼ï¼Œä¸æ¨èï¼Œcopy å¤šå¹²è´§å°‘ï¼‰</li><li data-pid="DS5Szv3Z">docker å®¹å™¨ä¸å®¹å™¨äº‘ ï¼ˆè¿˜æ²¡å¼€å§‹çœ‹ï¼‰</li><li data-pid="CSZPuLM2">docker å¼€å‘æŒ‡å— ï¼ˆè¿˜æ²¡å¼€å§‹çœ‹ï¼‰</li></ul><p class="ztext-empty-paragraph"><br></p><h2><b>è§†é¢‘èµ„æº</b></h2><ul><li data-pid="mxjO9lJA"><a href="https://space.bilibili.com/1748865719?share_from=space&amp;share_medium=iphone&amp;share_plat=ios&amp;share_session_id=160FA9F0-624A-411F-AD29-CE83BBBA3D35&amp;share_source=WEIXIN&amp;share_tag=s_i&amp;timestamp=1669727398&amp;unique_k=ulDpC8O" target="_blank">å¼ æµ·é¾™ kubernetes å¼€å‘ä¹‹æ—…</a></li><li data-pid="WopR-8x7"><a href="https://search.bilibili.com/all?keyword=client-go&amp;from_source=webtop_search&amp;spm_id_from=333.999&amp;search_source=5" target="_blank">bilibili æœç´¢ client-go kuberneteså¿…ä¼š</a></li><li data-pid="eRG18Dul"><a href="https://space.bilibili.com/547971176?share_from=space&amp;share_medium=iphone&amp;share_plat=ios&amp;share_session_id=DE3B8DC0-6E79-4FCC-A128-21D5FB84D251&amp;share_source=WEIXIN&amp;share_tag=s_i&amp;timestamp=1669727447&amp;unique_k=TjDCl4U" target="_blank">æ’åº§ç…¤ç”µ æ·±å…¥ç†è§£ k8s ç½‘ç»œ</a></li></ul><p class="ztext-empty-paragraph"><br></p><h2><b>ç½‘ç«™èµ„æº</b></h2><ul><li data-pid="BLaYouei"><a href="https://mp.weixin.qq.com/s/K6ynL_9nSTLCTy0_2xCobg" target="_blank">ä» 0 å®ç°ä¸€ä¸ª k8s çš„ CNI ç½‘ç»œæ’ä»¶</a></li></ul><p class="ztext-empty-paragraph"><br></p><h2><b>æ¨èä¹¦ç±</b></h2><ul><li data-pid="6a72QURt"><a href="https://zhuanlan.zhihu.com/p/597276550/edit">æ·±å…¥å‰–ækubernetes</a></li><li data-pid="0IB5uaII">Kubernetes æºç è§£æ</li></ul><p class="ztext-empty-paragraph"><br></p><h2><b>youtube ç²¾é€‰è§†é¢‘</b></h2><ul><li data-pid="oF-SnDJZ"><a href="https://www.youtube.com/watch?v=Q91iZywBzew" target="_blank">æ•™ç¨‹ï¼šä»æºä»£ç æ„å»ºå’Œè¿è¡Œ Kubernetes å¹¶æäº¤æ‚¨çš„ç¬¬ä¸€ä¸ª PR</a></li><li data-pid="RN3UntcI"><a href="https://www.youtube.com/watch?v=Jbm0W9Dd4k4" target="_blank">Kubernetesæºç è§£è¯»: APIServerä¹‹server chain by Daniel Guo</a></li><li data-pid="nREePF2K"><a href="https://www.youtube.com/watch?v=ytbEmcxM4yQ" target="_blank">å¦‚ä½•ç†è§£å¼€æºä¸­çš„å¤§å‹ä»£ç åº“</a></li><li data-pid="2n6I8eFp"><a href="https://www.youtube.com/watch?v=kA1T0zDPtQo" target="_blank">å¦‚ä½•ç†è§£å¼€æºä¸­çš„å¤§å‹ä»£ç åº“ï¼Ÿ</a></li><li data-pid="qyEalfN1"><a href="https://www.youtube.com/watch?v=toIncOqOBTA" target="_blank">Kubernetes æºç é˜…è¯»</a></li></ul><p class="ztext-empty-paragraph"><br></p><h2><b>GitHub ç²¾é€‰ä»“åº“</b></h2><ul><li data-pid="CJ1cyx6I"><a href="https://github.com/JackyZhangFuDan/K8sSourceCodeDeepDive/" target="_blank">go å¼€å‘ä¹‹æ—…</a></li><li data-pid="LN6GAj-J"><a href="https://github.com/derekguo001/understanding-kubernetes" target="_blank">kubernetes æºç è§£è¯»</a></li></ul><p class="ztext-empty-paragraph"><br></p><h2><b>æ•°æ®ç»Ÿè®¡å’Œæ”¶é›†</b></h2><h3><b>CNCF æ•°æ®</b></h3><p data-pid="yPJ7vC1N">ç½‘ç«™ï¼š<a href="https://kubernetes.io/" target="_blank">kubernetes.io</a></p><p data-pid="x8VPkPOD">èµ„æ–™åº“ï¼š<a href="https://github.com/kubernetes/kubernetes" target="_blank">github.com/kubernetes/kubernetes</a> 94,767  </p><p data-pid="IB0g0rvL">Crunchbaseï¼š<a href="https://www.crunchbase.com/organization/cloud-native-computing-foundation" target="_blank">crunchbase.com/organization/cloud-native-computing-foundation</a></p><p data-pid="m50cZayw">é¢†è‹±ï¼š<a href="https://www.linkedin.com/company/cloud-native-computing-foundation" target="_blank">linkedin.com/company/cloud-native-computing-foundation</a></p><p data-pid="FKDx7duN">æ¨ç‰¹ï¼š<a href="https://twitter.com/kubernetesio" target="_blank">@kubernetesio</a></p><p data-pid="_AyUU6CS">ç¬¬ä¸€æ¬¡æäº¤ï¼š<a href="https://github.com/kubernetes/kubernetes/commit/2c4b3a562ce34cddc3f8218a2c4d11c7310e6d56%22" target="_blank">9å¹´å‰</a></p><p data-pid="sljxjszt">è´¡çŒ®è€…ï¼š<a href="https://github.com/kubernetes/kubernetes/graphs/contributors" target="_blank">500+</a></p><p data-pid="menmX-rt">æœ€æ–°æ¨æ–‡ï¼š<a href="https://twitter.com/kubernetesio" target="_blank">2ä¸ªæœˆå‰</a></p><p data-pid="ZY0IFLxR">å…¬è®¤: 2016-03-10</p><p data-pid="_9hr4cgm">å·²æ¯•ä¸šï¼š2018-03-06</p><p data-pid="J8hN0G96">æ€»éƒ¨ï¼š<a href="https://landscape.cncf.io/?grouping=headquarters&amp;headquarters=san-francisco-california" target="_blank">åŠ åˆ©ç¦å°¼äºšå·æ—§é‡‘å±±</a></p><p data-pid="_l_7knNK">å­µåŒ–ï¼š7 å¹´å‰</p><p data-pid="7Rf5onWQ">å¼€å‘ç»Ÿè®¡ï¼š<a href="https://k8s.devstats.cncf.io/" target="_blank"><span class="invisible">https://</span><span class="visible">k8s.devstats.cncf.io/</span><span class="invisible"></span></a></p><p data-pid="wARHqF8m">è‰ºæœ¯å“ï¼š <a href="https://github.com/cncf/artwork/blob/master/examples/graduated.md#kubernetes-logos" target="_blank"><span class="invisible">https://</span><span class="visible">github.com/cncf/artwork</span><span class="invisible">/blob/master/examples/graduated.md#kubernetes-logos</span><span class="ellipsis"></span></a></p><p data-pid="hofHOdZs">stackoverflowï¼š<a href="https://stackoverflow.com/questions/tagged/kubernetes" target="_blank"><span class="invisible">https://</span><span class="visible">stackoverflow.com/quest</span><span class="invisible">ions/tagged/kubernetes</span><span class="ellipsis"></span></a></p><p data-pid="cGzUnWZQ">åšå®¢ï¼š<a href="http://blog.kubernetes.io/" target="_blank"><span class="invisible">http://</span><span class="visible">blog.kubernetes.io/</span><span class="invisible"></span></a></p><p data-pid="ITvQyDKe">é‚®ä»¶åˆ—è¡¨ï¼š<a href="https://groups.google.com/forum/#!forum/kubernetes-dev" target="_blank"><span class="invisible">https://</span><span class="visible">groups.google.com/forum</span><span class="invisible">/#!forum/kubernetes-dev</span><span class="ellipsis"></span></a></p><p data-pid="HBRFeJm3">slackï¼š<a href="http://slack.k8s.io/" target="_blank"><span class="invisible">http://</span><span class="visible">slack.k8s.io/</span><span class="invisible"></span></a></p><p data-pid="oBdaJPEz">YouTubeï¼š <a href="https://www.youtube.com/channel/UCZ2bu0qutTOM0tHYa_jkIwg" target="_blank"><span class="invisible">https://www.</span><span class="visible">youtube.com/channel/UCZ</span><span class="invisible">2bu0qutTOM0tHYa_jkIwg</span><span class="ellipsis"></span></a></p><h3><b>æºç ç»Ÿè®¡</b></h3><p data-pid="W1A8eVZY"><code>Kubernetes</code> ä»£ç ç‰¹åˆ«åºå¤§ï¼Œä½¿ç”¨ cloc ç»Ÿè®¡ï¼š</p><div class="highlight"><pre><code class="language-bash"> PS D:<span class="se">\æ–‡</span>æ¡£<span class="se">\m</span>y&gt; cloc.exe .<span class="se">\k</span>ubernetes<span class="se">\
</span><span class="se"></span>    <span class="m">23056</span> text files.
    <span class="m">17722</span> unique files.
     <span class="m">5806</span> files ignored.
 â€‹
 github.com/AlDanial/cloc v 1.94  <span class="nv">T</span><span class="o">=</span>228.54 s <span class="o">(</span>77.5 files/s, 28953.4 lines/s<span class="o">)</span>
 --------------------------------------------------------------------------------
 Language                      files          blank        comment           code
 --------------------------------------------------------------------------------
 Go                            <span class="m">15020</span>         <span class="m">517320</span>        <span class="m">1010720</span>        <span class="m">3922880</span>
 JSON                            <span class="m">341</span>              <span class="m">2</span>              <span class="m">0</span>         <span class="m">779037</span>
 YAML                           <span class="m">1182</span>            <span class="m">612</span>           <span class="m">1326</span>         <span class="m">132857</span>
 Markdown                        <span class="m">458</span>          <span class="m">22121</span>              <span class="m">0</span>          <span class="m">80538</span>
 Bourne Shell                    <span class="m">328</span>           <span class="m">6343</span>          <span class="m">12485</span>          <span class="m">31159</span>
 Protocol Buffers                <span class="m">124</span>           <span class="m">5811</span>          <span class="m">19566</span>          <span class="m">11531</span>
 PO File                          <span class="m">12</span>           <span class="m">1873</span>          <span class="m">13392</span>          <span class="m">11261</span>
 Assembly                         <span class="m">48</span>           <span class="m">2696</span>            <span class="m">883</span>           <span class="m">7754</span>
 Text                             <span class="m">28</span>            <span class="m">195</span>              <span class="m">0</span>           <span class="m">6612</span>
 PowerShell                        <span class="m">7</span>            <span class="m">398</span>           <span class="m">1018</span>           <span class="m">2485</span>
 make                             <span class="m">59</span>            <span class="m">527</span>            <span class="m">891</span>           <span class="m">1844</span>
 Starlark                         <span class="m">24</span>             <span class="m">68</span>              <span class="m">0</span>            <span class="m">904</span>
 C/C++ Header                      <span class="m">1</span>            <span class="m">399</span>           <span class="m">4367</span>            <span class="m">839</span>
 Bourne Again Shell               <span class="m">10</span>             <span class="m">58</span>             <span class="m">72</span>            <span class="m">449</span>
 sed                               <span class="m">4</span>              <span class="m">4</span>             <span class="m">32</span>            <span class="m">445</span>
 Dockerfile                       <span class="m">46</span>            <span class="m">201</span>            <span class="m">680</span>            <span class="m">408</span>
 Python                            <span class="m">7</span>            <span class="m">119</span>            <span class="m">159</span>            <span class="m">406</span>
 SVG                               <span class="m">4</span>              <span class="m">4</span>              <span class="m">4</span>            <span class="m">398</span>
 zsh                               <span class="m">1</span>             <span class="m">14</span>              <span class="m">3</span>            <span class="m">191</span>
 C                                 <span class="m">5</span>             <span class="m">42</span>             <span class="m">54</span>            <span class="m">140</span>
 ANTLR Grammar                     <span class="m">1</span>             <span class="m">31</span>             <span class="m">17</span>            <span class="m">138</span>
 TOML                              <span class="m">5</span>             <span class="m">24</span>             <span class="m">86</span>             <span class="m">74</span>
 INI                               <span class="m">1</span>              <span class="m">2</span>              <span class="m">0</span>             <span class="m">10</span>
 CSV                               <span class="m">2</span>              <span class="m">0</span>              <span class="m">0</span>              <span class="m">3</span>
 DOS Batch                         <span class="m">1</span>              <span class="m">2</span>             <span class="m">17</span>              <span class="m">2</span>
 HTML                              <span class="m">2</span>              <span class="m">0</span>              <span class="m">0</span>              <span class="m">2</span>
 NAnt script                       <span class="m">1</span>              <span class="m">0</span>              <span class="m">0</span>              <span class="m">1</span>
 --------------------------------------------------------------------------------
 SUM:                          <span class="m">17722</span>         <span class="m">558866</span>        <span class="m">1065772</span>        <span class="m">4992368</span>
 --------------------------------------------------------------------------------</code></pre></div><p></p></div> </details> 
 <hr /> 

 #### - [ç”¨äºæœ¬åœ°å®éªŒçš„å°å‹ Kubernetesï¼šk0sã€MicroK8sã€kindã€k3s å’Œ Minikube](https://zhuanlan.zhihu.com/p/594206344) 
 <details><summary>ØªÙˆØ¶ÛŒØ­Ø§Øª</summary> <p><img src="https://picx.zhimg.com/v2-e47af54c4df2cdfdab274aec884cce5b_720w.jpg?source=d16d100b"></p><div><p data-pid="L_wy1cZE"><b>å‰è¨€</b></p><ul><li data-pid="lFKk319N"><a href="https://blog.palark.com/small-local-kubernetes-comparison/" target="_blank">æœ¬ç« ä¸ºæ‘˜é€‰ï¼Œæˆªå–</a>ï¼Œâš ï¸ åœ¨æ­¤åŸºç¡€ä¸Šçš„ä¿®æ”¹</li><li data-pid="ViAMrf2G"><a href="https://docker.nsddd.top/Cloud-Native-k8s/14.html" target="_blank">k3s è®°å½•</a></li></ul><p data-pid="2HigKeZy">å› æ­¤ï¼Œæ‚¨å·²ç»æå‡ºäº†ä¸€ä¸ªè‡ªåŠ¨åŒ–ã€ç»Ÿä¸€æˆ–è½¬æ¢é›†ç¾¤ä¸­æŸäº›å†…å®¹çš„æƒ³æ³•ï¼Œä½†æ‚¨ä¸æƒ³å†’ç ´åé›†ç¾¤çš„é£é™©ã€‚å¤§å¤šæ•°æœ‰è¿‡ Kubernetes ç»éªŒçš„äººéƒ½ç†Ÿæ‚‰è¿™ç§æƒ…å†µã€‚ä¸ºæ­¤ï¼Œæ‚¨éœ€è¦çš„æ˜¯ä¸€ä¸ªæ˜“äºè®¾ç½®çš„æ²™ç›’æ¥æµ‹è¯•æ‚¨çš„æƒ³æ³•ï¼Œè€Œä¸ä¼šå†’å¤ªå¤§é£é™©ã€‚</p><p data-pid="C6muc0EX">åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒKubernetes è¿·ä½ é›†ç¾¤ä¼šæ´¾ä¸Šç”¨åœºã€‚æ‚¨å¯ä»¥åœ¨å°å¼æœºæˆ–ç¬”è®°æœ¬ç”µè„‘ä¸Šè¿è¡Œå®ƒä»¬ï¼Œä¿®è¡¥åŸºå…ƒï¼Œæ„å»ºæ–°ç»“æ„ï¼Œç„¶ååœ¨å®éªŒç»“æŸæ—¶æ¯«ä¸çŠ¹è±«åœ°åˆ é™¤å®ƒä»¬ã€‚</p><p data-pid="VzE7Fm4K">ä¸–ç•Œå„åœ°çš„å¼€å‘äººå‘˜é€šè¿‡å‘æ˜å„ç§è§£å†³æ–¹æ¡ˆæ¥æ»¡è¶³è¿™ä¸€éœ€æ±‚ï¼Œè¿™äº›è§£å†³æ–¹æ¡ˆä½¿æ‚¨èƒ½å¤Ÿå¿«é€Ÿè½»æ¾åœ°å¯åŠ¨è½»é‡çº§ Kubernetes ç¯å¢ƒã€‚æ‰€æœ‰è¿™äº›è§£å†³æ–¹æ¡ˆéƒ½å…·æœ‰ä¸åŒçš„è®¾è®¡å’ŒåŠŸèƒ½ã€‚æ‚¨é€‰æ‹©çš„é‚£ä¸ªå°†å–å†³äºæ‚¨çš„éœ€æ±‚å’Œåå¥½ã€‚æœ¬æ–‡å›é¡¾äº†ä¸€äº›æœ€å—æ¬¢è¿çš„å·¥å…·ï¼Œå¸®åŠ©æ‚¨æ›´å¥½åœ°äº†è§£å®ƒä»¬å¹¶é€‰æ‹©æ­£ç¡®çš„å·¥å…·ã€‚å¹¸è¿çš„æ˜¯ï¼Œå®ƒä»¬éƒ½æœ‰ç›¸å¯¹å®Œå–„çš„æ–‡æ¡£è®°å½•ï¼ˆæ— è®ºæ˜¯åœ¨å®˜æ–¹ç½‘ç«™ä¸Šè¿˜æ˜¯åœ¨ CLI ä¸­ï¼‰ï¼Œè¿™å¤§å¤§åŠ å¿«äº†å­¦ä¹ è¿‡ç¨‹å¹¶ä½¿å®ƒä»¬æ˜“äºä½¿ç”¨ã€‚åœ¨æœ¬æ–‡çš„æœ€åï¼Œæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªæ¯”è¾ƒè¡¨ï¼Œè¯¦ç»†ä»‹ç»äº†è§£å†³æ–¹æ¡ˆçš„ä¸»è¦åŠŸèƒ½ã€‚</p><h2><b>å·¥å…·</b></h2><h3><b>1. K0s</b></h3><ul><li data-pid="sM6RZC8s">ç½‘ç«™ï¼š <a href="https://k0sproject.io/" target="_blank">k0sproject.io</a></li><li data-pid="4jOdhP2x">GitHub å­˜å‚¨åº“ï¼š<a href="https://github.com/k0sproject/k0s" target="_blank">k0sproject/k0s</a></li><li data-pid="jgJsdGcT">GitHub æ˜æ˜Ÿï¼š 4ï¼Œ000+ ï¼ˆåé¢ä¸çŸ¥é“å•¥åŸå› å˜å°‘äº†ï¼‰</li><li data-pid="Pq9F5hkZ">è´¡çŒ®è€…ï¼š 30+</li><li data-pid="6GkQNNdh">é¦–æ¬¡æäº¤ï¼š2020 å¹´ 6 æœˆ</li></ul><p data-pid="i9ZdQe2L">è¯¥é¡¹ç›®çš„åç§°ä¸è¨€è‡ªæ˜ï¼šå¾ˆéš¾æƒ³è±¡ä¸€ä¸ªç³»ç»Ÿæ›´è½»é‡çº§ï¼Œå› ä¸ºå®ƒåŸºäºå•ä¸ªè‡ªç»™è‡ªè¶³ï¼ˆé™æ€æ„å»ºï¼‰çš„æ–‡ä»¶ã€‚æ‚¨éœ€è¦åšçš„å°±æ˜¯ä»é¡¹ç›®å­˜å‚¨åº“ä¸‹è½½å®ƒçš„å½“å‰ç‰ˆæœ¬ï¼Œç„¶åæ‚¨å¯ä»¥ç»§ç»­é…ç½®å’Œä½¿ç”¨é›†ç¾¤ã€‚è¯¥æ–‡ä»¶æ˜¯ä¸º Linux ç¼–è¯‘çš„ã€‚å› æ­¤ï¼Œç¾¤é›†åªèƒ½åœ¨è¯¥ç³»ç»Ÿä¸Šè¿è¡Œï¼ˆæœ‰å…³æ”¯æŒçš„ä¸»æœºç³»ç»Ÿçš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…æœ¬æ–‡æœ«å°¾ï¼‰ã€‚è¯·æ³¨æ„ï¼Œåªæœ‰æ ¹ç”¨æˆ·æ‰èƒ½è¿è¡Œå®ƒã€‚</p><p data-pid="ljO3PdSp"><a href="https://github.com/k0sproject/k0s/blob/main/docs/install.md" target="_blank">å®‰è£…</a>å®Œæˆåï¼ˆæ‚¨éœ€è¦åšçš„å°±æ˜¯å°†æ–‡ä»¶å¤åˆ¶åˆ°<code>/usr/local/bin</code>ï¼‰ï¼Œä½¿ç”¨å¸®åŠ©ç¨‹åºè„šæœ¬å°† K0s ä½œä¸ºæœåŠ¡å¯åŠ¨ã€‚ç°åœ¨ï¼Œæ‚¨å¯ä»¥å°†å…¶ä½œä¸ºç¾¤é›†èŠ‚ç‚¹ï¼ˆé»˜è®¤ä¸ºä¸»èŠ‚ç‚¹ï¼‰è®¿é—®ï¼š</p><div class="highlight"><pre><code class="language-text"> k0s install controller ; systemctl start k0scontroller.service</code></pre></div><p data-pid="fx6XMeh_">k0s åŒ…å«ç”¨äºè¿æ¥åˆ° Kubernetes API çš„ kubectl CLI å·¥å…·ï¼š</p><div class="highlight"><pre><code class="language-text"> k0s kubectl get nodes</code></pre></div><p data-pid="p-Ed3jKx">æ‚¨å¯ä»¥ä½¿ç”¨<code>k0s kubectl</code>åˆ›å»ºå…¶ä»– Kubernetes å¯¹è±¡ï¼šå‘½åç©ºé—´ã€éƒ¨ç½²ç­‰ã€‚è¦å°†èŠ‚ç‚¹æ·»åŠ åˆ° k0s ç¾¤é›†ï¼Œè¯·åœ¨è¦ç”¨ä½œå·¥ä½œå™¨èŠ‚ç‚¹çš„æœåŠ¡å™¨ä¸Šä¸‹è½½å¹¶å®‰è£… k0s äºŒè¿›åˆ¶æ–‡ä»¶ã€‚æ¥ä¸‹æ¥ï¼Œç”Ÿæˆèº«ä»½éªŒè¯ä»¤ç‰Œï¼Œè¯¥ä»¤ç‰Œå°†ç”¨äºå°†èŠ‚ç‚¹åŠ å…¥ç¾¤é›†ã€‚å…¶ä»–æœåŠ¡å™¨å¯ä»¥åœ¨å®¹å™¨æˆ– VM ä¸Šè¿è¡Œï¼šæ‚¨æ‰€è¦åšçš„å°±æ˜¯ç¡®ä¿ API æœåŠ¡å™¨çš„ç½‘ç»œå¯ç”¨æ€§ï¼Œä»¥ä¾¿åœ¨ç¾¤é›†ä¸­æ³¨å†ŒèŠ‚ç‚¹ã€‚</p><p data-pid="cNEHXiCU">è¦å¸è½½ k0s ç¾¤é›†ï¼Œé¦–å…ˆéœ€è¦åœæ­¢æœåŠ¡ ï¼ˆ<code>k0s stop</code>ï¼‰ï¼Œç„¶åè°ƒç”¨ reset å‘½ä»¤ä»ä¸»æœºä¸­åˆ é™¤æ‰€æœ‰ä¸ k0s ç›¸å…³çš„æ–‡ä»¶ã€‚</p><p data-pid="osTmUFpK">containerd å®ˆæŠ¤è¿›ç¨‹åœ¨ Pod ä¸­ç®¡ç†å’Œè¿è¡Œå®¹å™¨ã€‚æ­¤å¤–ï¼Œæ‚¨è¿˜å¯ä»¥å°† hostPath å·æŒ‚è½½åˆ° Podã€‚Calicoä½œä¸ºé»˜è®¤çš„CNIï¼Œè€Œkube-routerä¹Ÿå¯ç”¨ã€‚ä»æœ¬è´¨ä¸Šè®²ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»»ä½•ä½ å–œæ¬¢çš„ CNIï¼Œå› ä¸º k0s ä¸ä¼šä»¥ä»»ä½•æ–¹å¼é™åˆ¶ Kubernetes é…ç½®ã€‚</p><p data-pid="QH7JGQXH">ä¸ºäº†æ–¹ä¾¿ç”¨æˆ·ï¼Œk0s ä¸ºå„ç§ shell æä¾›äº†è‡ªåŠ¨å®Œæˆè„šæœ¬ï¼šBashã€zshã€fish å’Œ PowerShellï¼ˆä½¿ç”¨ WSLï¼‰ã€‚</p><p data-pid="FuO3Gm4T">k0s å°½å¯èƒ½ç®€çº¦ï¼šå®ƒæ˜¯ä¸€ä¸ªæ²¡æœ‰ä»»ä½•æ¨¡å—æˆ–æ’ä»¶çš„æ™®é€š Kubernetesã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒä¸æ”¯æŒäº‘æä¾›å•†ï¼ˆä½†æ˜¯ï¼Œæ‚¨å¯ä»¥åœ¨å¯åŠ¨æœŸé—´ <a href="https://github.com/k0sproject/k0s/blob/main/docs/cloud-providers.md" target="_blank">æ·»åŠ å®ƒ</a>ï¼‰ã€‚è¯¥è½¯ä»¶çš„å®‰è£…æ–¹å¼ä¸å¸¸è§„ Kubernetes é›†ç¾¤ä¸­çš„å®‰è£…æ–¹å¼ç›¸åŒâ€”â€”é€šè¿‡å£°æ˜å¿…è¦çš„åŸè¯­ï¼ˆæ‚¨å¯ä»¥ä½¿ç”¨ Helm å’Œå…¶ä»–æ­¤ç±»å·¥å…·ï¼‰ã€‚</p><p class="ztext-empty-paragraph"><br></p><h3><b>2. MicroK8så‹ K8s</b></h3><ul><li data-pid="ny4GW1J3">ç½‘ç«™ï¼š <a href="https://microk8s.io/" target="_blank">microk8s.io</a></li><li data-pid="iFsRbLyB">GitHub å­˜å‚¨åº“ï¼š<a href="https://github.com/ubuntu/microk8s" target="_blank">ubuntu/microk8s</a></li><li data-pid="io8AKY6v">GitHub æ˜Ÿæ•°ï¼š ~5ï¼Œ700</li><li data-pid="BRzErqxn">è´¡çŒ®è€…ï¼š 120+</li><li data-pid="MIuX_bnT">é¦–æ¬¡æäº¤ï¼š2018 å¹´ 5 æœˆ</li></ul><p data-pid="G7ozCl7j">Canonical çš„è¿™ä¸ªè¿·ä½ é›†ç¾¤ä¸å‰ä¸€ä¸ªç±»ä¼¼ï¼šé›†ç¾¤èŠ‚ç‚¹éœ€è¦æ‰‹åŠ¨è®¾ç½®ï¼Œå®ƒä»¬å¯ä»¥åœ¨é€šè¿‡ TCP/IP è¿æ¥åˆ°ç¬¬ä¸€ä¸ªï¼ˆä¸»ï¼‰èŠ‚ç‚¹çš„ä»»ä½• Linux å®ä¾‹ä¸Šè¿è¡Œã€‚åŒæ ·ï¼Œæ·»åŠ æ–°èŠ‚ç‚¹éœ€è¦ä»¤ç‰Œï¼Œè€Œå†…ç½®çš„ kubectl å·¥å…·å¤„ç† API äº¤äº’ã€‚</p><p data-pid="5cd6a2EF">å°èŠ±å¸ƒä¹Ÿç”¨ä½œé»˜è®¤çš„ CNIã€‚æ‚¨éœ€è¦ root æƒé™æ‰èƒ½å®‰è£…å®ƒã€‚MicroK8s ä»¥å¿«ç…§åŒ…çš„å½¢å¼æä¾›ï¼Œæ”¯æŒ 42 ä¸ª Linux å‘è¡Œç‰ˆï¼š</p><div class="highlight"><pre><code class="language-yaml"><span class="w"> </span><span class="c"># snap install microk8s --classic</span></code></pre></div><p data-pid="bPoHj59D">å®‰è£…å®Œæˆåï¼Œæ‚¨å¯ä»¥å¯åŠ¨ç¾¤é›†ï¼š</p><div class="highlight"><pre><code class="language-yaml"><span class="w"> </span><span class="c"># microk8s start</span><span class="w">
</span><span class="w"> </span><span class="c"># microk8s kubectl get nodes</span><span class="w">
</span><span class="w"> </span><span class="l">NAME            STATUS   ROLES    AGE    VERSION</span><span class="w">
</span><span class="w"> </span><span class="l">thinkpad        Ready       2m     v1.20.7-34+df7df22a741dbc</span></code></pre></div><p data-pid="Ty-pPoTs">è¯·æ³¨æ„ï¼ŒMicroK8s é™„å¸¦<a href="https://microk8s.io/docs/addons" target="_blank">ä¸€ç»„æ’ä»¶</a>ã€‚æ‚¨å¯ä»¥éšæ—¶å¯ç”¨å’Œç¦ç”¨å®ƒä»¬ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹å†…å®¹å°†å¯ç”¨ Kubernetes ä»ªè¡¨æ¿ï¼š</p><div class="highlight"><pre><code class="language-yaml"><span class="w"> </span><span class="c"># microk8s enable dashboard</span><span class="w">
</span><span class="w"> </span><span class="c"># microk8s status</span><span class="w">
</span><span class="w"> </span><span class="l">microk8s is running</span><span class="w">
</span><span class="w"> </span><span class="nt">high-availability</span><span class="p">:</span><span class="w"> </span><span class="kc">no</span><span class="w">
</span><span class="w">   </span><span class="nt">datastore master nodes</span><span class="p">:</span><span class="w"> </span><span class="m">127.0.0.1</span><span class="p">:</span><span class="m">19001</span><span class="w">
</span><span class="w">   </span><span class="nt">datastore standby nodes</span><span class="p">:</span><span class="w"> </span><span class="l">none</span><span class="w">
</span><span class="w"> </span><span class="nt">addons</span><span class="p">:</span><span class="w">
</span><span class="w">   </span><span class="nt">enabled</span><span class="p">:</span><span class="w">
</span><span class="w">     </span><span class="l">dashboard            # The Kubernetes dashboard</span><span class="w">
</span><span class="w">     </span><span class="l">...</span></code></pre></div><p data-pid="HYrMS2iC">ä¸k0sç±»ä¼¼ï¼ŒMicroK8så¸¦æœ‰ä¸€ä¸ªç”¨äºå­˜å‚¨å®¹å™¨æ˜ åƒçš„å†…éƒ¨æ³¨å†Œè¡¨ã€‚</p><p data-pid="s-8-m6Gt">å¦ä¸€ä¸ªä»¤äººå…´å¥‹çš„åŠŸèƒ½æ˜¯<code>microk8s inspect</code>å‘½ä»¤ã€‚å®ƒçš„ä½œç”¨æ˜¯åˆ†æé›†ç¾¤å¹¶ç¼–è¯‘æœ‰å…³å…¶ç»„ä»¶çš„å®Œæ•´æŠ¥å‘Šï¼ˆä½œä¸º tar.gz æ–‡ä»¶ï¼‰ä»¥ä¾›è¿›ä¸€æ­¥ç ”ç©¶ï¼š</p><div class="highlight"><pre><code class="language-bash"> $ ls inspection-report/
 apparmor
 args
 juju
 k8s
 kubeflow
 network
 snap.microk8s.daemon-apiserver
 snap.microk8s.daemon-apiserver-kicker
 snap.microk8s.daemon-cluster-agent
 snap.microk8s.daemon-containerd
 snap.microk8s.daemon-controller-manager
 snap.microk8s.daemon-control-plane-kicker
 snap.microk8s.daemon-kubelet
 snap.microk8s.daemon-proxy
 snap.microk8s.daemon-scheduler
 sys
 $ ls inspection-report/k8s/
 cluster-info
 cluster-info-dump
 get-all
 get-pv
 get-pvc
 version
 $ cat inspection-report/k8s/version 
 Client Version: version.Info<span class="o">{</span>Major:<span class="s2">"1"</span>, Minor:<span class="s2">"20+"</span>, GitVersion:<span class="s2">"v1.20.7-34+df7df22a741dbc"</span>, GitCommit:<span class="s2">"df7df22a741dbc18dc3de3000b2393a1e3c32d36"</span>, GitTreeState:<span class="s2">"clean"</span>, BuildDate:<span class="s2">"2021-05-12T21:08:20Z"</span>, GoVersion:<span class="s2">"go1.15.10"</span>, Compiler:<span class="s2">"gc"</span>, Platform:<span class="s2">"linux/amd64"</span><span class="o">}</span>
 Server Version: version.Info<span class="o">{</span>Major:<span class="s2">"1"</span>, Minor:<span class="s2">"20+"</span>, GitVersion:<span class="s2">"v1.20.7-34+df7df22a741dbc"</span>, GitCommit:<span class="s2">"df7df22a741dbc18dc3de3000b2393a1e3c32d36"</span>, GitTreeState:<span class="s2">"clean"</span>, BuildDate:<span class="s2">"2021-05-12T21:09:51Z"</span>, GoVersion:<span class="s2">"go1.15.10"</span>, Compiler:<span class="s2">"gc"</span>, Platform:<span class="s2">"linux/amd64"</span><span class="o">}</span></code></pre></div><p class="ztext-empty-paragraph"><br></p><h3><b>3. kind</b></h3><ul><li data-pid="YiZ2OG2-">ç½‘ç«™ï¼š <a href="https://kind.sigs.k8s.io/" target="_blank">kind.sigs.k8s.io</a></li><li data-pid="bhhnz8K_">GitHub repositoryï¼š <a href="https://github.com/kubernetes-sigs/kind" target="_blank">kubernetes-sigs/kind</a></li><li data-pid="G4ejkXFp">GitHub æ˜Ÿçº§ï¼š ~11ï¼Œ000</li><li data-pid="vcMC7CRw">è´¡çŒ®è€…ï¼š 200+</li><li data-pid="QAvpbh_9">é¦–æ¬¡æäº¤ï¼š2018 å¹´ 9 æœˆ</li><li data-pid="kXr6Sb40">å…³é”®å¼€å‘äººå‘˜ï¼šKubernetes SIG</li></ul><p data-pid="UKEbPotp">kindï¼ˆDockerä¸­çš„Kubernetesï¼‰æ˜¯å¦ä¸€ä¸ªç”¨äºè¿è¡Œæœ¬åœ° K8s é›†ç¾¤çš„è½»é‡çº§å·¥å…·ã€‚å®‰è£…éå¸¸ç®€å•ï¼šæ‚¨æ‰€è¦åšçš„å°±æ˜¯<a href="https://kind.sigs.k8s.io/docs/user/quick-start/#installation" target="_blank">ä¸‹è½½</a>å¯æ‰§è¡Œæ–‡ä»¶ã€‚</p><p data-pid="m3Cq4p8H">è¦åˆ›å»ºé›†ç¾¤ï¼Œæ‚¨é¦–å…ˆéœ€è¦åˆ›å»º Docker å®¹å™¨å’Œç½‘ç»œçš„æƒé™ã€‚åˆ›å»ºé›†ç¾¤å°±åƒè¿è¡Œä¸€æ ·ç®€å•<code>kind create cluster</code>.è¿™å°†å¯åŠ¨ä¸€ä¸ªèŠ‚ç‚¹ â€” ä¸€ä¸ªç”¨äºè¿è¡Œå…¶ä»–å®¹å™¨çš„ Docker å®¹å™¨ï¼š</p><div class="highlight"><pre><code class="language-bash"> $ docker ps
 CONTAINER ID        IMAGE                  COMMAND                  CREATED             STATUS              PORTS                       NAMES
 fee30f6d4b73        kindest/node:v1.21.1   <span class="s2">"/usr/local/bin/entrâ€¦"</span>   <span class="m">2</span> minutes ago       Up About a minute   127.0.0.1:45331-&gt;6443/tcp   kind-control-plane
 $ kind get nodes
 kind-control-plane
 $ kubectl get nodes
 NAME                 STATUS   ROLES                  AGE   VERSION
 kind-control-plane   Ready    control-plane,master   2m    v1.21.1
 $ docker <span class="nb">exec</span> -it kind-control-plane bash
 root@kind-control-plane:/# crictl ps
 CONTAINER           IMAGE               CREATED             STATE               NAME                      ATTEMPT             POD ID
 2a0dfe12a5810       296a6d5035e2d       <span class="m">2</span> minutes ago       Running             coredns                   <span class="m">0</span>                   e13acbf529288
 38ef0ad97090a       296a6d5035e2d       <span class="m">2</span> minutes ago       Running             coredns                   <span class="m">0</span>                   3460cf0419c19
 ec11cbc0e9795       e422121c9c5f9       <span class="m">2</span> minutes ago       Running             local-path-provisioner    <span class="m">0</span>                   a9ffa60dcc12d
 fa8057bbf0df6       6de166512aa22       <span class="m">3</span> minutes ago       Running             kindnet-cni               <span class="m">0</span>                   4f8481acba5fc
 e341ce4c5cdfd       ebd41ad8710f9       <span class="m">3</span> minutes ago       Running             kube-proxy                <span class="m">0</span>                   1b1755819c40a
 88c6185beb5c5       0369cf4303ffd       <span class="m">3</span> minutes ago       Running             etcd                      <span class="m">0</span>                   da01c1b2b0cdc
 5cdf1b4ce6deb       d0d10a483067a       <span class="m">3</span> minutes ago       Running             kube-controller-manager   <span class="m">0</span>                   a0b2651c06136
 b704a102409e1       6401e478dcc01       <span class="m">3</span> minutes ago       Running             kube-apiserver            <span class="m">0</span>                   c2119c740fff2
 a5da036de5d10       7813cf876a0d4       <span class="m">3</span> minutes ago       Running             kube-scheduler            <span class="m">0</span>                   92a22aa99ad29</code></pre></div><p data-pid="KD_fsph3"><i>* è¿™ä¹Ÿå°†åˆ›å»ºä¸€ä¸ª Docker ç½‘ç»œã€‚å¦‚æœå®‰è£…ç”±äºä»¥ä¸‹é”™è¯¯è€Œå¤±è´¥ï¼š</i></p><div class="highlight"><pre><code class="language-yaml"><span class="w"> </span><span class="nt">ERROR: failed to create cluster: failed to ensure docker network</span><span class="p">:</span><span class="w"> </span><span class="l">command "docker network create -d=bridge -o com.docker.network.bridge.enable_ip_masquerade=true -o com.docker.network.driver.mtu=1500 --ipv6 --subnet fc00:f853:ccd:e793::/64 kind" failed with error: exit status 1</span><span class="w">
</span><span class="w"> </span><span class="nt">Command Output: Error response from daemon</span><span class="p">:</span><span class="w"> </span><span class="l">could not find an available, non-overlapping IPv4 address pool among the defaults to assign to the network</span></code></pre></div><p data-pid="PMDfoFpd"><i>...æ£€æŸ¥  OpenVPN  è¿›ç¨‹æ˜¯å¦åœ¨ç³»ç»Ÿä¸­è¿è¡Œï¼Œå¹¶åœ¨å®‰è£…è¿‡ç¨‹ä¸­åœæ­¢å®ƒã€‚å®‰è£…å®Œæˆåï¼Œæ‚¨å¯ä»¥æ¢å¤å…¶æ“ä½œã€‚</i></p><p data-pid="hLBJKLwg">æ­¤å¤–ï¼Œåœ¨åˆ›å»ºç¾¤é›†æ—¶ï¼Œ<code>kubectl</code>é…ç½®ä¸ºè®¿é—® APIã€‚è¦åˆ›å»ºæ›´å¤æ‚çš„é›†ç¾¤ï¼Œæ‚¨éœ€è¦åœ¨è®¾ç½®é›†ç¾¤æ—¶æŒ‡å®šé…ç½®æ–‡ä»¶ï¼ˆä½¿ç”¨ <code>--config</code> æ——ï¼‰ã€‚ä¸‹é¢æ˜¯å¦‚ä½•åˆ›å»ºç”±ä¸‰ä¸ªèŠ‚ç‚¹ç»„æˆçš„ç¾¤é›†çš„ç¤ºä¾‹ï¼š</p><div class="highlight"><pre><code class="language-text"> kind create cluster --config=three-node-conf.yaml</code></pre></div><p data-pid="zevAOCxq">...å“ªé‡Œ<code>three-node-conf.yaml</code>å…·æœ‰ä»¥ä¸‹å†…å®¹ï¼š</p><div class="highlight"><pre><code class="language-yaml"><span class="w"> </span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l">Cluster</span><span class="w">
</span><span class="w"> </span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l">kind.x-k8s.io/v1alpha4</span><span class="w">
</span><span class="w"> </span><span class="nt">nodes</span><span class="p">:</span><span class="w">
</span><span class="w"> </span>- <span class="nt">role</span><span class="p">:</span><span class="w"> </span><span class="l">control-plane</span><span class="w">
</span><span class="w"> </span>- <span class="nt">role</span><span class="p">:</span><span class="w"> </span><span class="l">worker</span><span class="w">
</span><span class="w"> </span>- <span class="nt">role</span><span class="p">:</span><span class="w"> </span><span class="l">worker</span></code></pre></div><p data-pid="uQxzSi3x">åˆ é™¤åŒæ ·ç®€å•ï¼šè°ƒç”¨<code>kind delete cluster</code>ä»<code>kubectl</code>é…ç½®ã€‚ä½œä¸ºæ—æ³¨ï¼Œè¿˜æ”¯æŒ Bashã€zsh å’Œ fish çš„è‡ªåŠ¨å®Œæˆè„šæœ¬ã€‚</p><p data-pid="3evwcgNL">ç”±äºèŠ‚ç‚¹æ˜¯ Docker å®¹å™¨ï¼Œå› æ­¤åœ¨ Pod ä¸­æŒ‚è½½ HostPath å·ä¼šä½¿ç”¨å®¹å™¨æ–‡ä»¶ç³»ç»Ÿã€‚è¿™æ ·ï¼Œæ‚¨å¯ä»¥å°†å®¹å™¨çš„ç›®å½•è½¬å‘åˆ°ä¸»æœºæ“ä½œç³»ç»Ÿçš„æ–‡ä»¶ç³»ç»Ÿã€‚æ‚¨å¯ä»¥å°† Docker é•œåƒä»ä¸»ä¸»æœºä¸Šä¼ åˆ°ç¾¤é›†èŠ‚ç‚¹ã€‚ä½†æ˜¯ï¼Œå®ƒä¸é™„å¸¦ä»»ä½•æ’ä»¶æˆ–æ’ä»¶ã€‚</p><p data-pid="zbBMEIfU">kind é™„å¸¦äº†ä¸€ä¸ªåŸºæœ¬çš„ <i>kindnetd</i> æ’ä»¶ä½œä¸ºé»˜è®¤CNIï¼Œä½†æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–æ’ä»¶ã€‚è™½ç„¶å¯¹è‡ªå®šä¹‰ CNI çš„æ”¯æŒè¢«æè¿°ä¸ºæœ‰é™ï¼Œä½†è®¸å¤šæµè¡Œçš„ CNI æ¸…å•ï¼ˆä¾‹å¦‚ Calicoï¼‰å·¥ä½œå¾—å¾ˆå¥½ã€‚</p><p data-pid="rX-EpAvU">è¿›ä¸€æ­¥é…ç½®é€šè¿‡<code>kubectl</code>.ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£… Ingress NGINXï¼š</p><div class="highlight"><pre><code class="language-bash"> kubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/master/deploy/static/provider/kind/deploy.yaml</code></pre></div><p class="ztext-empty-paragraph"><br></p><h3><b>4. K3Sï¼ˆå’ŒK3Dï¼‰</b></h3><ul><li data-pid="jMESIx0i">ç½‘ç«™ï¼š<a href="https://k3s.io/" target="_blank">k3s.io</a>ï¼ˆå’Œ <a href="https://k3d.io/" target="_blank">k3d.io</a>)</li><li data-pid="hE42mAOv">GitHub repositoryï¼š <a href="https://github.com/k3s-io/k3s/" target="_blank">k3s-io/k3s</a> ï¼ˆ<a href="https://github.com/rancher/k3d" target="_blank">rancher/k3d</a> )</li><li data-pid="rwFaWEYA">GitHub æ˜Ÿï¼š ~21ï¼Œ900 ï¼ˆ~11000ï¼‰</li><li data-pid="PVCJokkf">è´¡çŒ®è€…ï¼š 1ï¼Œ750+ ï¼ˆ50+ï¼‰</li><li data-pid="Y1O-HdJh">é¦–æ¬¡æäº¤ï¼š2019 å¹´ 1 æœˆï¼ˆ2019 å¹´ 4 æœˆï¼‰</li><li data-pid="yBlgmxSj">ä¸»è¦å¼€å‘å•†ï¼šCNCFï¼ˆç‰§åœºä¸»ï¼‰</li></ul><p data-pid="xi8pei5Q">K3s æ˜¯ Rancher çš„ä¸€ä¸ª Kubernetes å‘è¡Œç‰ˆï¼Œå…¶åç§°ç±»ä¼¼äº K8sï¼Œä½†â€œåªæœ‰ä¸€åŠå¤§â€ï¼Œä»¥å¼ºè°ƒå…¶è½»é‡çº§å’Œç®€å•æ€§ï¼ˆå°½ç®¡åŠŸèƒ½è¾ƒå°‘ï¼‰ã€‚å®ƒçš„æ€»ä½“æ€è·¯ä¸k0så’ŒMicroK8sæ²¡æœ‰å¤ªå¤§åŒºåˆ«ã€‚å¯åŠ¨åï¼Œk3s ä¼šåˆ›å»ºå…·æœ‰ä»¥ä¸‹ä¸¤ä¸ªè§’è‰²ä¹‹ä¸€çš„ç¾¤é›†èŠ‚ç‚¹ï¼š</p><ul><li data-pid="HaMTmHme">ä½œä¸ºä¸»æœåŠ¡å™¨è¿è¡Œçš„æœåŠ¡å™¨ï¼šAPI æœåŠ¡å™¨ã€è°ƒåº¦ç¨‹åºå’Œæ§åˆ¶å™¨ç®¡ç†å™¨ï¼ˆå¸¦æœ‰ SQLite æ•°æ®åº“ï¼‰;</li><li data-pid="vLsZewiy">è¿è¡Œæ™®é€š Kubernetes èŠ‚ç‚¹çš„ä»£ç†ï¼šç®¡ç† <a href="https://cri-o.io/" target="_blank">CRI-O</a> å®¹å™¨çš„ kubelet å’Œ containerdã€‚</li></ul><p data-pid="vJ7lPjyk">å¤§å¤šæ•°ç£ç›˜é©±åŠ¨ç¨‹åºå’Œäº‘æä¾›ç¨‹åºé©±åŠ¨ç¨‹åºå·²ä»æ„å»ºä¸­æ’é™¤ï¼Œä»¥ä½¿å¯æ‰§è¡Œæ–‡ä»¶æ›´å°ã€‚ç”±äºå®ƒç»“åˆäº†å‡ ä¸ªæ ‡å‡†çš„ Kubernetes ç»„ä»¶ï¼Œå› æ­¤å‡å°‘äº†å†…å­˜ä½¿ç”¨é‡ã€‚</p><p data-pid="Tiqb5mTo">åœ¨æœ€ç®€å•çš„æƒ…å†µä¸‹ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ Docker Desktop å°†ç¾¤é›†ä½œä¸ºå•ä¸ªèŠ‚ç‚¹çš„ä¸€éƒ¨åˆ†è¿è¡Œï¼ˆä¸éœ€è¦æˆç†Ÿçš„è™šæ‹ŸåŒ–ç³»ç»Ÿï¼‰ã€‚</p><p data-pid="s91HM09Q">é™¤äº†å‘è¡Œç‰ˆä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ª <b>k3d</b> å®ç”¨ç¨‹åºï¼Œç”¨äºç®¡ç† Docker å®¹å™¨ä¸­è¿è¡Œçš„ k3s èŠ‚ç‚¹ã€‚å®ƒåœ¨Linuxä¸­è¿è¡Œï¼Œå¯ä»¥ä½¿ç”¨<a href="https://k3d.io/#install-script" target="_blank">Bashè„šæœ¬</a>è¿›è¡Œå®‰è£….</p><p data-pid="eWJG7Bq3">è¦å¯åŠ¨é›†ç¾¤ï¼Œæ‚¨åªéœ€è¦åˆ›å»º Docker å®¹å™¨å’Œç½‘ç»œçš„æƒé™ã€‚</p><p data-pid="wFA0BEAC">ä»¥ä¸‹å‘½ä»¤å¯ç”¨äºåˆ›å»ºç¾¤é›†ï¼š</p><div class="highlight"><pre><code class="language-text"> $ k3d cluster create mycluster --servers 1 --agents 2
 $ kubectl get nodes
 NAME                  STATUS   ROLES                  AGE   VERSION
 k3d-mycluster-agent-0    Ready                     30s   v1.20.6+k3s1
 k3d-mycluster-agent-1    Ready                     22s   v1.20.6+k3s1
 k3d-mycluster-server-0   Ready    control-plane,master   39s   v1.20.6+k3s1</code></pre></div><p data-pid="9bvZ51Hl">è¯·å‚é˜…ä¸Šé¢æœ‰å…³åœ¨å®‰è£…æœŸé—´åˆ›å»º Docker ç½‘ç»œä»¥åŠè¿è¡Œ OpenVPN è¿›ç¨‹å¯¼è‡´çš„é”™è¯¯çš„è¯´æ˜ã€‚ä½†æ˜¯ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œé”™è¯¯æ¶ˆæ¯å°†æœ‰æ‰€ä¸åŒï¼š</p><div class="highlight"><pre><code class="language-yaml"><span class="w"> </span><span class="nt">Failed Cluster Preparation: Failed Network Preparation: Error response from daemon</span><span class="p">:</span><span class="w"> </span><span class="l">could not find an available, non-overlapping IPv4 address pool among the defaults to assign to the network</span></code></pre></div><p data-pid="Gv-4hDIZ">æ¯ä¸ªç¾¤é›†èŠ‚ç‚¹éƒ½åœ¨è‡ªå·±çš„å®¹å™¨ä¸­è¿è¡Œï¼Œä»¥åŠå……å½“è´Ÿè½½å‡è¡¡å™¨çš„ nginx å®¹å™¨ã€‚Flannel ç”¨ä½œ CNI æ’ä»¶ï¼Œè€Œ <a href="https://traefik.io/traefik/" target="_blank">Traefik</a> ç”¨ä½œå…¥å£ä»£ç†ã€‚æ‚¨ä¹Ÿå¯ä»¥é€‰æ‹©å…¶ä»– CNI;ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥åœ¨æ–‡æ¡£ä¸­æ‰¾åˆ°æœ‰å…³å°èŠ±å¸ƒå’Œè¿æ²³<a href="https://rancher.com/docs/k3s/latest/en/installation/network-options/#custom-cni" target="_blank">çš„å…·ä½“è¯´æ˜</a>ã€‚è¿˜æ”¯æŒ Bashã€zshã€fish å’Œ PowerShell çš„è‡ªåŠ¨å®Œæˆè„šæœ¬ã€‚</p><p data-pid="4uKfCqz6">æ­¤å¤–ï¼Œæ‚¨è¿˜å¯ä»¥ç®¡ç†æ˜ åƒå­˜å‚¨åº“ï¼šåœ¨ç¾¤é›†ä¸­åˆ›å»ºè‡ªå®šä¹‰å­˜å‚¨åº“å¹¶ä»ä¸»ç³»ç»Ÿå¯¼å…¥æ˜ åƒã€‚å¦‚æœæ‚¨åœ¨æœ¬åœ°æ„å»º Docker æ˜ åƒï¼Œè¿™ä¼šæ´¾ä¸Šç”¨åœºï¼Œå› ä¸ºå®ƒä»¬å°†åœ¨æ„å»ºåç«‹å³åœ¨é›†ç¾¤ä¸­å¯ç”¨ã€‚</p><hr><p data-pid="TkxiR9mF">âš ï¸ æœ¬æ–‡ä¸»è¦æè¿° CNCF ä¸»è¦çš„ Kubernetes è½»é‡ç‰ˆï¼Œå…³äº k3s æ›´è¯¦ç»†çš„è¯´æ˜å‚è€ƒ <a href="https://docker.nsddd.top/Cloud-Native-k8s/14.html" target="_blank">k3s ä¸Šç¯‡</a> å’Œ <a href="https://docker.nsddd.top/Cloud-Native-k8s/15.html" target="_blank">k3s æ­å»ºè¯¦ç»†æµ‹è¯•</a></p><h3><b>5. minikube</b></h3><ul><li data-pid="OKkfz-6Z">ç½‘ç«™ï¼š <a href="https://minikube.sigs.k8s.io/" target="_blank">minikube.sigs.k8s.io</a></li><li data-pid="BcocIe5K">GitHub repositoryï¼š <a href="https://github.com/kubernetes/minikube" target="_blank">kubernetes/minikube</a></li><li data-pid="AZXzOAc7">GitHub æ˜Ÿçº§ï¼š ~0</li><li data-pid="4R64Ldxy">è´¡çŒ®è€…ï¼š 650+</li><li data-pid="Icn05HFx">é¦–æ¬¡æäº¤ï¼š2016 å¹´ 4 æœˆ</li><li data-pid="J37OUHb2">å…³é”®å¼€å‘äººå‘˜ï¼šKubernetes SIG</li></ul><p data-pid="PYiuQbti">å¯¹äºåŸºäº Debian å’Œ Red Hat çš„ Linux å‘è¡Œç‰ˆï¼Œæ‚¨éœ€è¦åšçš„å°±æ˜¯<a href="https://minikube.sigs.k8s.io/docs/start/" target="_blank">å®‰è£…</a>é€‚å½“çš„è½¯ä»¶åŒ…ä»¥ä½¿ç”¨ Minikubeã€‚æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åˆ›å»ºé›†ç¾¤ï¼ˆä¸éœ€è¦ root æƒé™;ä½†æ˜¯ï¼Œç”¨æˆ·å¿…é¡»å…·æœ‰è¶³å¤Ÿçš„æƒé™æ‰èƒ½è®¾ç½®è™šæ‹ŸåŒ–ç³»ç»Ÿï¼‰ï¼š</p><div class="highlight"><pre><code class="language-yaml"><span class="w"> </span><span class="l">$ minikube start</span><span class="w">
</span><span class="w"> </span>*<span class="w"> </span><span class="l">minikube v1.20.0 on Ubuntu 18.04</span><span class="w">
</span><span class="w"> </span><span class="nt">* Automatically selected the docker driver. Other choices</span><span class="p">:</span><span class="w"> </span><span class="l">kvm2, ssh</span><span class="w">
</span><span class="w"> </span><span class="l">â€¦</span><span class="w">
</span><span class="w"> </span>*<span class="w"> </span><span class="l">Preparing Kubernetes v1.20.2 on Docker 20.10.6 ...</span><span class="w">
</span><span class="w"> </span><span class="l">â€¦</span><span class="w">
</span><span class="w"> </span><span class="nt">* Enabled addons</span><span class="p">:</span><span class="w"> </span><span class="l">storage-provisioner, default-storageclass</span><span class="w">
</span><span class="w"> </span>*<span class="w"> </span><span class="l">Done! kubectl is now configured to use "minikube" cluster and "default" namespace by default</span><span class="w">
</span><span class="w"> </span><span class="l">$ kubectl get nodes</span><span class="w">
</span><span class="w"> </span><span class="l">NAME       STATUS   ROLES                  AGE    VERSION</span><span class="w">
</span><span class="w"> </span><span class="l">minikube   Ready    control-plane,master   48s    v1.20.2</span></code></pre></div><p data-pid="nbr-1PmX">ç°åœ¨æ‚¨å¯ä»¥ä½¿ç”¨ kubectl é…ç½®ï¼ˆå®ƒä½¿ç”¨æ–°é›†ç¾¤çš„è®¿é—®æ•°æ®è¿›è¡Œæ›´æ–°ï¼‰ã€‚è¿˜æ”¯æŒ Bashã€zsh å’Œ fish çš„è‡ªåŠ¨å®Œæˆè„šæœ¬ã€‚</p><p data-pid="aH7hQ-bL">å¯¹äºæœ¬åœ°æ“ä½œç³»ç»Ÿï¼ŒMinikubeå®ç°äº†<i>smth1-in-smth2</i>ç³»ç»Ÿï¼Œå…¶ä¸­ï¼š</p><ul><li data-pid="pIvAPFKI">SMTH1 æ˜¯ä»¥ä¸‹ä¹‹ä¸€ï¼š<i>docker</i>ã€<i>cri-o</i> æˆ– <i>containerd</i>;</li><li data-pid="0OkGOmOM">SMTH2 æ˜¯ä»¥ä¸‹ä¹‹ä¸€ï¼š<i>VirtualBox</i>ã€VMwareFusionã€<i>KVM2</i>ã€<i>VMware</i>ã€<i>None</i>ã€<i>Docker</i>ã€<i>Podman</i> æˆ– <i>SSH</i> .</li></ul><p data-pid="-nOL7D4S">æ‚¨è¿˜å¯ä»¥é€‰æ‹©ä½¿ç”¨å“ªä¸ª CNI æ’ä»¶ï¼š</p><div class="highlight"><pre><code class="language-bash"> minikube <span class="nb">help</span> start
 Starts a <span class="nb">local</span> Kubernetes cluster
 â€‹
 Options:
 ...    
       --cni<span class="o">=</span><span class="s1">''</span>: CNI plug-in to use. Valid options: auto, bridge, calico, cilium, flannel, kindnet, or path to a CNI manifest <span class="o">(</span>default: auto<span class="o">)</span>
       --container-runtime<span class="o">=</span><span class="s1">'docker'</span>: The container runtime to be used <span class="o">(</span>docker, cri-o, containerd<span class="o">)</span>.
 ...
       --driver<span class="o">=</span><span class="s1">''</span>: Driver is one of: virtualbox, vmwarefusion, kvm2, vmware, none, docker, podman, ssh <span class="o">(</span>defaults to auto-detect<span class="o">)</span></code></pre></div><p data-pid="jfRinAJn">ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°†èŠ‚ç‚¹æ·»åŠ åˆ°ç¾¤é›†ï¼š</p><div class="highlight"><pre><code class="language-text"> $ minikube node add
 * Adding node m02 to cluster minikube</code></pre></div><p data-pid="6FnhCYD8">è¦æŸ¥çœ‹ç¾¤é›†çš„å½“å‰çŠ¶æ€ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤<code>minikube status</code>å‘½ä»¤ï¼š</p><div class="highlight"><pre><code class="language-yaml"><span class="w"> </span><span class="l">minikube</span><span class="w">
</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">Control Plane</span><span class="w">
</span><span class="w"> </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l">Running</span><span class="w">
</span><span class="w"> </span><span class="nt">kubelet</span><span class="p">:</span><span class="w"> </span><span class="l">Running</span><span class="w">
</span><span class="w"> </span><span class="nt">apiserver</span><span class="p">:</span><span class="w"> </span><span class="l">Running</span><span class="w">
</span><span class="w"> </span><span class="nt">kubeconfig</span><span class="p">:</span><span class="w"> </span><span class="l">Configured</span><span class="w">
</span><span class="w"> </span><span class="l">â€‹</span><span class="w">
</span><span class="w"> </span><span class="l">minikube-m02</span><span class="w">
</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">Worker</span><span class="w">
</span><span class="w"> </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l">Running</span><span class="w">
</span><span class="w"> </span><span class="nt">kubelet</span><span class="p">:</span><span class="w"> </span><span class="l">Running</span></code></pre></div><p data-pid="o0q1nyoq">è¿™<code>minikube mount</code> <a href="https://minikube.sigs.k8s.io/docs/handbook/mount/#9p-mounts" target="_blank">å‘½ä»¤</a>å°†ä¸»æœºç›®å½•æŒ‚è½½åˆ° VM ä¸­ï¼ˆè¯·æ³¨æ„ï¼Œ<a href="https://en.wikipedia.org/wiki/9P_(protocol)" target="_blank">9P</a> åè®®ç”¨äºæŒ‚è½½ï¼‰ã€‚å› æ­¤ï¼Œæ‚¨å¯ä»¥é€šè¿‡å°† HostPath å·æŒ‚è½½åˆ° Pod ä¸­æ¥ç›´æ¥ç¼–è¾‘ä¸»æœºæ–‡ä»¶ï¼ˆå¦<code>docker cp</code>æ˜¯éœ€è¦çš„;ä½†æ˜¯ï¼Œå¦‚æœæ‚¨æ„¿æ„ï¼Œå¯ä»¥ä½¿ç”¨è¯¥å‘½ä»¤ï¼‰ã€‚</p><p data-pid="pVw0pkch">è¯·æ³¨æ„ï¼Œå¦‚æœ 9P ä¸å¤§é‡æ–‡ä»¶ä¸€èµ·ä½¿ç”¨ï¼Œåˆ™ä¼šå‡ºç°æ€§èƒ½å’Œå¯é æ€§é—®é¢˜ã€‚è™šæ‹ŸåŒ–ç³»ç»Ÿçš„ï¼ˆVirtualBoxï¼ŒKVMï¼ŒVMwareï¼‰æ–‡ä»¶ç³»ç»Ÿé€‰é¡¹å¯ä»¥å¸®åŠ©æ‚¨è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><p data-pid="vr0Wl7SP">Minikubeæä¾›äº†ä¸€ç»„æ’ä»¶ï¼Œæ‚¨å¯ä»¥åœ¨é›†ç¾¤ä¸­è½»æ¾æ¿€æ´»å®ƒä»¬ï¼š</p><div class="highlight"><pre><code class="language-bash"> $ minikube addons <span class="nb">enable</span> dashboard
 â€¦
 * The <span class="s1">'dashboard'</span> addon is enabled
 $ minikube addons list
 â€¦
 <span class="p">|</span> dashboard                   <span class="p">|</span> minikube <span class="p">|</span> enabled    <span class="p">|</span>
 â€¦
 $ kubectl -n kubernetes-dashboard get pod
 NAME                                        READY   STATUS    RESTARTS   AGE
 dashboard-metrics-scraper-f6647bd8c-rrxq6   1/1     Running   <span class="m">0</span>          29s
 kubernetes-dashboard-968bcb79-tk5qt         1/1     Running   <span class="m">0</span>          29s</code></pre></div><p data-pid="m5OLBCkg">åŒæ ·ï¼Œæ‚¨å¯ä»¥å¯ç”¨æ³¨å†Œè¡¨ï¼Œå…¥å£ï¼ŒIstio å’Œè®¸å¤šå…¶ä»–<a href="https://minikube.sigs.k8s.io/docs/handbook/addons/" target="_blank">ç»„ä»¶</a>ã€‚.</p><p data-pid="j12OEipI">Minikube è¿˜å¯ä»¥åŒæ—¶å¤„ç†å…·æœ‰ä¸åŒé…ç½®æ–‡ä»¶çš„å¤šä¸ªé›†ç¾¤ï¼š</p><div class="highlight"><pre><code class="language-yaml"><span class="w"> </span><span class="l">$ minikube start -p minik2</span><span class="w">
</span><span class="w"> </span>*<span class="w"> </span><span class="p">[</span><span class="l">minik2] minikube v1.20.0 on Ubuntu 18.04</span><span class="w">
</span><span class="w"> </span><span class="nt">* Automatically selected the docker driver. Other choices</span><span class="p">:</span><span class="w"> </span><span class="l">kvm2, ssh</span><span class="w">
</span><span class="w"> </span>*<span class="w"> </span><span class="l">Starting control plane node minik2 in cluster minik2</span><span class="w">
</span><span class="w"> </span><span class="l">â€¦</span><span class="w">
</span><span class="w"> </span><span class="l">$ minikube profile list</span><span class="w">
</span><span class="w"> </span><span class="l">|----------|-----------|---------|--------------|------|---------|---------|-------|</span><span class="w">
</span><span class="w"> </span><span class="l">| Profile  | VM Driver | Runtime |      IP      | Port | Version | Status  | Nodes |</span><span class="w">
</span><span class="w"> </span><span class="l">|----------|-----------|---------|--------------|------|---------|---------|-------|</span><span class="w">
</span><span class="w"> </span><span class="l">| minik2   | docker    | docker  | 192.168.58.2 | 8443 | v1.20.2 | Running |     1 |</span><span class="w">
</span><span class="w"> </span><span class="l">| minikube | docker    | docker  | 192.168.49.2 | 8443 | v1.20.2 | Running |     2 |</span><span class="w">
</span><span class="w"> </span><span class="l">|----------|-----------|---------|--------------|------|---------|---------|-------|</span></code></pre></div><p class="ztext-empty-paragraph"><br></p><h3><b>6. æ›¿ä»£è§£å†³æ–¹æ¡ˆ</b></h3><p data-pid="KgbgKkJL">æœ‰äº›é¡¹ç›®æ²¡æœ‰è¢«çº³å…¥æœ¬ç»¼è¿°ï¼Œå› ä¸ºå®ƒä»¬ä¸å¤ªå—æ¬¢è¿æˆ–å‡ºäºå…¶ä»–åŸå› ã€‚ä¾‹å¦‚ï¼š</p><ul><li data-pid="03CbXr-o"><a href="https://github.com/code-ready/crc" target="_blank">Red Hat CRC</a> å·¥å…·ï¼ˆCodeReady Containers;750+ GitHub starsï¼‰å–ä»£<a href="https://github.com/minishift/minishift" target="_blank">äº† Minishift</a>ï¼Œåœ¨ç¬”è®°æœ¬ç”µè„‘/å°å¼æœºä¸Šè¿è¡Œæœ€å°çš„ OpenShift 4.x é›†ç¾¤ã€‚</li><li data-pid="dEsNylEA">Weaveworksçš„<a href="https://github.com/weaveworks/wks-quickstart-firekube" target="_blank">Firekube</a>ï¼ˆ~300 GitHubæ˜Ÿï¼‰æ˜¯ä¸€ä¸ªåœ¨<a href="https://github.com/firecracker-microvm/firecracker" target="_blank">Firecracker</a>è™šæ‹Ÿæœºä¸­è¿è¡Œçš„Kubernetesé›†ç¾¤ï¼Œä¹Ÿå€¼å¾—ä¸€æã€‚ä½†æ˜¯ï¼Œå®ƒä¼¼ä¹å¹¶ä¸æ´»è·ƒã€‚</li></ul><p class="ztext-empty-paragraph"><br></p><h2><b>æ”¯æŒçš„æ“ä½œç³»ç»Ÿ</b></h2><p data-pid="sgw9TZgx">ä¸Šè¿°æ‰€æœ‰å‘è¡Œç‰ˆéƒ½åœ¨ Linux ä¸Šè¿è¡Œã€‚ä½†æ˜¯ï¼Œå³ä½¿æ‚¨çš„ä¸»æœºå…·æœ‰ä¸åŒçš„æ“ä½œç³»ç»Ÿï¼ˆå€ŸåŠ©è™šæ‹ŸåŒ–å·¥å…·ï¼‰ï¼Œæ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨å®ƒä»¬ï¼š</p><ul><li data-pid="PdfUasVO"><a href="https://multipass.run/" target="_blank">Multipass</a> å’Œ <a href="https://www.virtualbox.org/" target="_blank">VirtualBox</a> é€‚ç”¨äºå¤§å¤šæ•°æƒ…å†µ;</li><li data-pid="EJcjrezc">åœ¨å…¶ä»–æƒ…å†µä¸‹ï¼Œå¯èƒ½éœ€è¦ä½¿ç”¨ç‰¹æ®Šçš„è™šæ‹ŸåŒ–å·¥å…·ï¼Œä¾‹å¦‚ Windows ä¸Šçš„ <a href="https://docs.microsoft.com/en-us/windows/wsl/about" target="_blank">WSL</a>ã€‚</li></ul><p data-pid="36-gQpqY">å¯¹äºkindï¼Œk3då’ŒMinikubeï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä¸€ä¸ªLinux VMï¼ˆç”¨äºåŸºæœ¬é›†ç¾¤ï¼‰ï¼Œè€Œåœ¨k0sï¼ŒMicrok8så’Œk3sçš„æƒ…å†µä¸‹ï¼Œæ‚¨å°†éœ€è¦åˆ›å»ºå¤šä¸ªä¸é›†ç¾¤èŠ‚ç‚¹æ•°é‡ç›¸ç­‰çš„VMã€‚</p><h2><b>æ¯”è¾ƒè¡¨</b></h2><p data-pid="3VRXR3uB">ä»¥ä¸‹æ˜¯åŸºæœ¬åŠŸèƒ½çš„æ‘˜è¦ï¼š</p><table data-draft-node="block" data-draft-type="table" data-size="normal" data-row-style="normal"><tbody><tr><th></th><th>K0s</th><th>MicroK8s</th><th>kind</th><th>K3S + K3D</th><th>minikube</th></tr><tr><td>ç®¡ç†èŠ‚ç‚¹åˆ›å»º/åˆ é™¤</td><td>âœ—</td><td>âœ—</td><td>âœ“</td><td>âœ“</td><td>âœ“</td></tr><tr><td>èŠ‚ç‚¹ç®¡ç†ç³»ç»Ÿ</td><td>âœ—</td><td>âœ—</td><td>docker</td><td>docker</td><td>virtualboxï¼Œ vmwarefusionï¼Œ kvm2ï¼Œ vmwareï¼Œ noneï¼Œ dockerï¼Œ podmanï¼Œ ssh</td></tr><tr><td>å®¹å™¨è¿è¡Œæ—¶</td><td>containerd</td><td>containerd</td><td>containerd, CRI-O</td><td>CRI-O</td><td>Docker, CRI-O, containerd</td></tr><tr><td>é»˜è®¤ CNI</td><td>Calico</td><td>Calico</td><td>kindnet</td><td>Flannel</td><td>bridge</td></tr><tr><td>æŒ‚è½½ä¸»æœºæ“ä½œç³»ç»Ÿçš„æ–‡ä»¶ç³»ç»Ÿ</td><td>HostPath</td><td>HostPath</td><td>HostPath + docker mount</td><td>HostPath + docker mount</td><td>HostPath + â€¦ (depends on the virtualization system)</td></tr><tr><td>æ’ä»¶</td><td>âœ—</td><td>âœ“</td><td>âœ—</td><td>âœ—</td><td>âœ“</td></tr><tr><td>éç‰¹æƒç”¨æˆ·åˆ›å»ºç¾¤é›†çš„èƒ½åŠ›</td><td>âœ—</td><td>âœ—</td><td>âœ“</td><td>âœ“</td><td>âœ“</td></tr><tr><td>Vanilla Kubernetes</td><td>âœ“</td><td>âœ“</td><td>âœ“</td><td>âœ—</td><td>âœ“</td></tr></tbody></table><p data-pid="84xzLauk"> Vanilla Kubernetes æŒ‡çº¯å‡€ã€åŸç”Ÿçš„ Kubernetesï¼Œä¸€èˆ¬è¿˜æœ‰ Vanilla JavaScript/Vanilla Linux ç­‰ç”¨æ³•ï¼ŒæŒ‡åŸç”Ÿ JavaScript æˆ– Linuxï¼Œè€Œä¸æ˜¯å®ƒä»¬çš„æ–¹è¨€ç‰ˆæˆ–å‘è¡Œç‰ˆæœ¬ã€‚</p><p data-pid="FJPF33er">åŸç”Ÿ Kubernetes æŒ‡çš„æ˜¯ Kubernetes çš„åŸç”Ÿæœªä¿®æ”¹ç‰ˆæœ¬ï¼Œæä¾›æºä»£ç ä¸‹è½½ã€‚</p><p data-pid="NlY7ABed">ä¹‹æ‰€ä»¥ç§°ä¸ºåŸç”Ÿç‰ˆï¼Œæ˜¯å› ä¸ºåœ¨è½¯ä»¶ç•Œæœ‰ä¸€ä¸ªé•¿è¾¾å‡ åå¹´çš„ä¼ ç»Ÿï¼Œå³æ‰“ä¸Š â€œVanillaâ€ åŸç”Ÿæ ‡ç­¾çš„è½¯ä»¶è¢«éƒ¨ç½²åˆ°ä»»ä½•åº”ç”¨ç¨‹åºæˆ–å¹³å°ä¸Šæ—¶ï¼Œè¡¨ç¤ºè¿™æ˜¯æ²¡æœ‰ä¿®æ”¹è¿‡çš„å®˜æ–¹ç‰ˆæœ¬ã€‚ç±»ä¼¼äºï¼Œæˆ‘ä»¬è¿˜ä¼šå¬åˆ°â€œåŸç”Ÿ Linuxâ€ ï¼Œè¿™æ˜¯æŒ‡ä½¿ç”¨çº¯ç²¹çš„ã€å®˜æ–¹çš„ Linux å†…æ ¸æºä»£ç æ„å»º Linux å†…æ ¸ï¼Œè€Œä¸åƒåœ¨ Linux å‘è¡Œç‰ˆæœ¬ä¸­ï¼Œä¼šä¿®æ”¹ Linux å†…æ ¸ç¨‹åºã€‚</p><p data-pid="-o3UNHCM">ä¸åŸç”Ÿ Kubernetes ç›¸å¯¹çš„æ˜¯ Kubernetes å‘è¡Œç‰ˆï¼Œä¾‹å¦‚ Rancherï¼ŒRed Hat OpenShiftï¼Œæˆ–åŸºäºäº‘çš„ Kubernetes æœåŠ¡ï¼Œä¾‹å¦‚ Amazon EKSã€‚è¿™äº›å‘è¡Œç‰ˆé‡‡ç”¨äº†å¼€æº Kubernets ä»£ç ï¼Œå¹¶å°†å…¶é›†æˆåˆ°æ›´å¹¿æ³›çš„å¹³å°ä¸­ï¼Œè€Œè¿™äº›å¹³å°é€šå¸¸åŒ…å«ä¸å±äº Kubernetes æœ¬èº«çš„ç®¡ç†ã€ç›‘è§†å’Œå®‰å…¨å·¥å…·ã€‚è¿™äº›å¹³å°ä¸­çš„å¾ˆå¤šå¹³å°è¿˜æä¾›å®‰è£…ç¨‹åºï¼Œç®€åŒ– Kubernetes å®‰è£…ç¨‹åºã€‚</p><p data-pid="1Vi_7boG">å½“ç„¶ï¼Œæœ€è¿‘ä¹Ÿæœ‰äººæå‡ºäº†ä¸é€‚ç”¨å‘è¡Œç‰ˆæœ¬çš„ Kubernets çš„5ä¸ªç†ç”±ï¼Œå…·ä½“å¯ä»¥å‚è€ƒï¼š<a href="https://www.itprotoday.com/devops/5-reasons-not-use-kubernetes-distributions" target="_blank">5 Reasons Not to Use Kubernetes Distributions</a> :::</p><p class="ztext-empty-paragraph"><br></p><h2><b>ç»“è®º</b></h2><p data-pid="EV4vkVSH">æ¯”è¾ƒæ˜¯åœ¨ç‰¹å®šä»»åŠ¡ï¼ˆæœ¬åœ°è¿è¡Œçš„æ²™ç›’ï¼‰çš„ä¸Šä¸‹æ–‡ä¸­è¿›è¡Œçš„ï¼Œä½†ä¸Šé¢çš„ä¸€äº›å‘è¡Œç‰ˆæ˜¯ä¸ºåˆ©åŸºä½¿ç”¨åœºæ™¯è®¾è®¡çš„ã€‚ä¾‹å¦‚ï¼ŒCanonical çš„ MicroK8s å’Œ Rancher çš„ K3s é’ˆå¯¹ç‰©è”ç½‘å’Œè¾¹ç¼˜è®¡ç®—ã€‚å› æ­¤ï¼Œæˆ‘åº”è¯¥é‡ç”³ï¼Œæœ€ç»ˆçš„é€‰æ‹© <b>å°†åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå–å†³äºæ‰‹å¤´çš„ä»»åŠ¡</b>ã€èµ„æºè€ƒè™‘å’Œç½‘ç»œåŸºç¡€è®¾æ–½è¦æ±‚ã€‚æˆ‘å¸Œæœ›ä»¥ä¸Šä¿¡æ¯å¯¹æ‚¨åšå‡ºæ­£ç¡®çš„é€‰æ‹©æœ‰æ‰€å¸®åŠ©ã€‚</p><h2><b>æœ‰ç”¨çš„å¤–éƒ¨é“¾æ¥</b></h2><ul><li data-pid="NIAzbaEf"><a href="https://en.sokube.ch/post/k3s-k3d-k8s-a-new-perfect-match-for-dev-and-test-1" target="_blank">K3S + K3D = K8Sï¼šå¼€å‘å’Œæµ‹è¯•çš„æ–°å®Œç¾åŒ¹é…</a></li><li data-pid="WBDOCGxd"><a href="https://habd.as/post/kubernetes-macos-k3s-k3d-rancher/" target="_blank">å¸¦æœ‰ K3sã€K3d å’Œ Rancher çš„ macOS ä¸Šçš„ K8s</a></li><li data-pid="xXrk7uWp"><a href="https://www.reddit.com/r/kubernetes/comments/n2bsrz/k3s_vs_microk8s_vs_k0s_and_thoughts_about_their/" target="_blank">K3S vs Microk8S vs K0s ä»¥åŠå¯¹æœªæ¥çš„æƒ³æ³•</a></li><li data-pid="vrRsWAls"><a href="https://www.reddit.com/r/kubernetes/comments/be0415/k3s_minikube_or_microk8s/" target="_blank">K3sï¼Œminikubeè¿˜æ˜¯microk8sï¼Ÿ</a></li><li data-pid="LSLsDnTa"><a href="https://faun.pub/environment-for-comparing-several-on-premise-kubernetes-distributions-k3s-kind-kubeadm-a53675a80a00" target="_blank">ç”¨äºæ¯”è¾ƒå‡ ä¸ªå†…éƒ¨éƒ¨ç½² Kubernetes å‘è¡Œç‰ˆï¼ˆK3sã€MicroK8sã€KinDã€kubeadmï¼‰çš„ç¯å¢ƒ</a></li><li data-pid="CRRNvghn"><a href="https://www.padok.fr/en/blog/minikube-kubeadm-kind-k3s" target="_blank">MiniKubeï¼Œ Kubeadmï¼Œ Kindï¼Œ K3Sï¼Œ å¦‚ä½•å¼€å§‹ä½¿ç”¨ Kubernetesï¼Ÿ</a></li><li data-pid="HWCT-vi_"><a href="http://ceur-ws.org/Vol-2839/paper11.pdf" target="_blank">åˆ†æè½»é‡çº§å®¹å™¨å¹³å°ï¼šMicroK8s å’Œ K3s ä¸ Kubernetes çš„æ¯”è¾ƒ</a><i>ï¼ˆæ€§èƒ½æµ‹è¯•ï¼‰</i></li><li data-pid="SbE0fbVm"><a href="https://brennerm.github.io/posts/minikube-vs-kind-vs-k3s.html" target="_blank">Minikube vs. kind vs. k3s â€“ æˆ‘åº”è¯¥ä½¿ç”¨ä»€ä¹ˆï¼Ÿ</a><i>ï¼ˆæ€»ç»“ï¼‰</i></li><li data-pid="UxRcO_Wu"><a href="https://searchitoperations.techtarget.com/answer/Evaluate-3-ways-to-run-Kubernetes-locally" target="_blank">è¯„ä¼°åœ¨æœ¬åœ°è¿è¡Œ Kubernetes çš„ 3 ç§æ–¹æ³•</a></li><li data-pid="kiMP0PSY"><a href="https://docs.tilt.dev/choosing_clusters.html" target="_blank">é€‰æ‹©æœ¬åœ°å¼€å‘ç¾¤é›†</a></li><li data-pid="vjvnzpd5"><a href="https://kubevious.io/blog/post/what-is-mirantis-k0s-and-how-it-compares-with-rancher-k3s" target="_blank">ä»€ä¹ˆæ˜¯ç±³å…°è’‚æ–¯k0sï¼Œå®ƒä¸ç‰§åœºä¸»k3sæœ‰ä½•ä¸åŒ</a></li><li data-pid="baypzhOT"><a href="https://www.cncf.io/wp-content/uploads/2020/08/CNCF-Webinar-Navigating-the-Sea-of-Local-Clusters-.pdf" target="_blank">é©¾é©­ Kubernetes æœ¬åœ°é›†ç¾¤çš„æµ·æ´‹</a></li></ul><h2><b>ç›¸å…³æ–‡ç« ï¼š</b></h2><ul><li data-pid="QA-Am8Ld"><a href="https://blog.palark.com/comparing-ingress-controllers-for-kubernetes/" target="_blank">æ¯”è¾ƒ Kubernetes çš„å…¥å£æ§åˆ¶å™¨</a></li><li data-pid="D_Y_qpiO"><a href="https://blog.palark.com/open-source-self-hosted-serverless-frameworks-for-kubernetes/" target="_blank">Kubernetes è‡ªæ‰˜ç®¡æ— æœåŠ¡å™¨æ¡†æ¶æ¦‚è¿°ï¼šOpenFaaSã€Knativeã€OpenWhiskã€Fission</a></li><li data-pid="W7V-gES1"><a href="https://blog.palark.com/logs-in-kubernetes-expectations-vs-reality/" target="_blank">Kubernetes ä¸­çš„æ—¥å¿—ï¼šæœŸæœ›ä¸ç°å®</a></li></ul><p class="ztext-empty-paragraph"><br></p><h2><b>END é“¾æ¥</b></h2><ul><li data-pid="X6DNLFKB"><a href="typora://app/README.md" target="_blank">â“‚ï¸å›åˆ°ç›®å½• </a></li><li data-pid="4H-L2bln"><b><a href="https://nsddd.top/archives/contributors" target="_blank"> å‚ä¸è´¡çŒ® â¤ï¸â€  </a></b>)</li><li data-pid="3V78Qqjj">âœ´ï¸ç‰ˆæƒå£°æ˜ Â© ï¼šæœ¬ä¹¦æ‰€æœ‰å†…å®¹éµå¾ª<a href="http://zh.wikipedia.org/wiki/Wikipedia:CC-by-sa-3.0%E5%8D%8F%E8%AE%AE%E6%96%87%E6%9C%AC" target="_blank">CC-BY-SA 3.0åè®®ï¼ˆç½²å-ç›¸åŒæ–¹å¼å…±äº«ï¼‰Â©</a> </li></ul><p></p></div> </details> 
 <hr /> 
<!-- ZHIHU:END -->
---

</br>
